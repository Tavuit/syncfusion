(self.webpackChunksyncfuncion=self.webpackChunksyncfuncion||[]).push([[179],{751:(th,ai,sn)=>{"use strict";function tt(r){return"function"==typeof r}function me(r){const e=r(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const _t=me(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ke(r,t){if(r){const e=r.indexOf(t);0<=e&&r.splice(e,1)}}class Ht{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(tt(i))try{i()}catch(s){t=s instanceof _t?s.errors:[s]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const s of n)try{B(s)}catch(o){t=t??[],o instanceof _t?t=[...t,...o.errors]:t.push(o)}}if(t)throw new _t(t)}}add(t){var e;if(t&&t!==this)if(this.closed)B(t);else{if(t instanceof Ht){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ke(e,t)}remove(t){const{_finalizers:e}=this;e&&Ke(e,t),t instanceof Ht&&t._removeParent(this)}}Ht.EMPTY=(()=>{const r=new Ht;return r.closed=!0,r})();const q=Ht.EMPTY;function le(r){return r instanceof Ht||r&&"closed"in r&&tt(r.remove)&&tt(r.add)&&tt(r.unsubscribe)}function B(r){tt(r)?r():r.unsubscribe()}const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},re={setTimeout(r,t,...e){const{delegate:i}=re;return i?.setTimeout?i.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){const{delegate:t}=re;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function te(r){re.setTimeout(()=>{const{onUnhandledError:t}=_;if(!t)throw r;t(r)})}function he(){}const ce=I("C",void 0,void 0);function I(r,t,e){return{kind:r,value:t,error:e}}let N=null;function k(r){if(_.useDeprecatedSynchronousErrorHandling){const t=!N;if(t&&(N={errorThrown:!1,error:null}),r(),t){const{errorThrown:e,error:i}=N;if(N=null,e)throw i}}else r()}class b extends Ht{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,le(t)&&t.add(this)):this.destination=ee}static create(t,e,i){return new x(t,e,i)}next(t){this.isStopped?Z(function F(r){return I("N",r,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Z(function ye(r){return I("E",void 0,r)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Z(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const C=Function.prototype.bind;function E(r,t){return C.call(r,t)}class z{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){H(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){H(i)}else H(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){H(e)}}}class x extends b{constructor(t,e,i){let n;if(super(),tt(t)||!t)n={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&_.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&E(t.next,s),error:t.error&&E(t.error,s),complete:t.complete&&E(t.complete,s)}):n=t}this.destination=new z(n)}}function H(r){_.useDeprecatedSynchronousErrorHandling?function y(r){_.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=r)}(r):te(r)}function Z(r,t){const{onStoppedNotification:e}=_;e&&re.setTimeout(()=>e(r,t))}const ee={closed:!0,next:he,error:function W(r){throw r},complete:he},ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(r){return r}function De(r){return 0===r.length?ue:1===r.length?r[0]:function(e){return r.reduce((i,n)=>n(i),e)}}let Ne=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new r;return i.source=this,i.operator=e,i}subscribe(e,i,n){const s=function ei(r){return r&&r instanceof b||function gt(r){return r&&tt(r.next)&&tt(r.error)&&tt(r.complete)}(r)&&le(r)}(e)?e:new x(e,i,n);return k(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=bt(i))((n,s)=>{const o=new x({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:n});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ae](){return this}pipe(...e){return De(e)(this)}toPromise(e){return new(e=bt(e))((i,n)=>{let s;this.subscribe(o=>s=o,o=>n(o),()=>i(s))})}}return r.create=t=>new r(t),r})();function bt(r){var t;return null!==(t=r??_.Promise)&&void 0!==t?t:Promise}const ot=me(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yt=(()=>{class r extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Le(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ot}next(e){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:n,observers:s}=this;return i||n?q:(this.currentObservers=null,s.push(e),new Ht(()=>{this.currentObservers=null,Ke(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:n,isStopped:s}=this;i?e.error(n):s&&e.complete()}asObservable(){const e=new Ne;return e.source=this,e}}return r.create=(t,e)=>new Le(t,e),r})();class Le extends Yt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:q}}function Gi(r){return tt(r?.lift)}function Ft(r){return t=>{if(Gi(t))return t.lift(function(e){try{return r(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Li(r,t,e,i,n){return new ht(r,t,e,i,n)}class ht extends b{constructor(t,e,i,n,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=n?function(a){try{n(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ct(r,t){return Ft((e,i)=>{let n=0;e.subscribe(Li(i,s=>{i.next(r.call(t,s,n++))}))})}function _e(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}function Vi(r){return this instanceof Vi?(this.v=r,this):new Vi(r)}function mn(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=function wt(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=r[s]&&function(o){return new Promise(function(a,l){!function n(s,o,a,l){Promise.resolve(l).then(function(h){s({value:h,done:a})},o)}(a,l,(o=r[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ji=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function fn(r){return tt(r?.then)}function Oi(r){return tt(r[ae])}function co(r){return Symbol.asyncIterator&&tt(r?.[Symbol.asyncIterator])}function jo(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kt=function gn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ys(r){return tt(r?.[Kt])}function $r(r){return function Qt(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e.apply(r,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(d){i[d]&&(n[d]=function(p){return new Promise(function(f,m){s.push([d,p,f,m])>1||a(d,p)})})}function a(d,p){try{!function l(d){d.value instanceof Vi?Promise.resolve(d.value.v).then(h,c):u(s[0][2],d)}(i[d](p))}catch(f){u(s[0][3],f)}}function h(d){a("next",d)}function c(d){a("throw",d)}function u(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=r.getReader();try{for(;;){const{value:i,done:n}=yield Vi(e.read());if(n)return yield Vi(void 0);yield yield Vi(i)}}finally{e.releaseLock()}})}function qr(r){return tt(r?.getReader)}function no(r){if(r instanceof Ne)return r;if(null!=r){if(Oi(r))return function vl(r){return new Ne(t=>{const e=r[ae]();if(tt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Ji(r))return function bo(r){return new Ne(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}(r);if(fn(r))return function yc(r){return new Ne(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,te)})}(r);if(co(r))return eg(r);if(ys(r))return function Os(r){return new Ne(t=>{for(const e of r)if(t.next(e),t.closed)return;t.complete()})}(r);if(qr(r))return function Yv(r){return eg($r(r))}(r)}throw jo(r)}function eg(r){return new Ne(t=>{(function Gv(r,t){var e,i,n,s;return function Zt(r,t,e,i){return new(e||(e=Promise))(function(s,o){function a(c){try{h(i.next(c))}catch(u){o(u)}}function l(c){try{h(i.throw(c))}catch(u){o(u)}}function h(c){c.done?s(c.value):function n(s){return s instanceof e?s:new e(function(o){o(s)})}(c.value).then(a,l)}h((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=mn(r);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){n={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(n)throw n.error}}t.complete()})})(r,t).catch(e=>t.error(e))})}function ih(r,t,e,i=0,n=!1){const s=t.schedule(function(){e(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(s),!n)return s}function uo(r,t,e=1/0){return tt(t)?uo((i,n)=>ct((s,o)=>t(i,s,n,o))(no(r(i,n))),e):("number"==typeof t&&(e=t),Ft((i,n)=>function Xv(r,t,e,i,n,s,o,a){const l=[];let h=0,c=0,u=!1;const d=()=>{u&&!l.length&&!h&&t.complete()},p=m=>h<i?f(m):l.push(m),f=m=>{s&&t.next(m),h++;let M=!1;no(e(m,c++)).subscribe(Li(t,T=>{n?.(T),s?p(T):t.next(T)},()=>{M=!0},void 0,()=>{if(M)try{for(h--;l.length&&h<i;){const T=l.shift();o?ih(t,o,()=>f(T)):f(T)}d()}catch(T){t.error(T)}}))};return r.subscribe(Li(t,p,()=>{u=!0,d()})),()=>{a?.()}}(i,n,r,e)))}function Vh(r=1/0){return uo(ue,r)}const $a=new Ne(r=>r.complete());function qe(r){return r[r.length-1]}function ri(r){return function $d(r){return r&&tt(r.schedule)}(qe(r))?r.pop():void 0}function Bi(r,t=0){return Ft((e,i)=>{e.subscribe(Li(i,n=>ih(i,r,()=>i.next(n),t),()=>ih(i,r,()=>i.complete(),t),n=>ih(i,r,()=>i.error(n),t)))})}function cr(r,t=0){return Ft((e,i)=>{i.add(r.schedule(()=>e.subscribe(i),t))})}function ml(r,t){if(!r)throw new Error("Iterable cannot be null");return new Ne(e=>{ih(e,t,()=>{const i=r[Symbol.asyncIterator]();ih(e,t,()=>{i.next().then(n=>{n.done?e.complete():e.next(n.value)})},0,!0)})})}function bs(r,t){return t?function Jo(r,t){if(null!=r){if(Oi(r))return function In(r,t){return no(r).pipe(cr(t),Bi(t))}(r,t);if(Ji(r))return function po(r,t){return new Ne(e=>{let i=0;return t.schedule(function(){i===r.length?e.complete():(e.next(r[i++]),e.closed||this.schedule())})})}(r,t);if(fn(r))return function ar(r,t){return no(r).pipe(cr(t),Bi(t))}(r,t);if(co(r))return ml(r,t);if(ys(r))return function ca(r,t){return new Ne(e=>{let i;return ih(e,t,()=>{i=r[Kt](),ih(e,t,()=>{let n,s;try{({value:n,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(n)},0,!0)}),()=>tt(i?.return)&&i.return()})}(r,t);if(qr(r))return function xi(r,t){return ml($r(r),t)}(r,t)}throw jo(r)}(r,t):no(r)}class Ho extends Yt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function nr(...r){return bs(r,ri(r))}function qd(r={}){const{connector:t=(()=>new Yt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:n=!0}=r;return s=>{let o,a,l,h=0,c=!1,u=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),o=l=void 0,c=u=!1},f=()=>{const m=o;p(),m?.unsubscribe()};return Ft((m,M)=>{h++,!u&&!c&&d();const T=l=l??t();M.add(()=>{h--,0===h&&!u&&!c&&(a=sf(f,n))}),T.subscribe(M),!o&&h>0&&(o=new x({next:P=>T.next(P),error:P=>{u=!0,d(),a=sf(p,e,P),T.error(P)},complete:()=>{c=!0,d(),a=sf(p,i),T.complete()}}),no(m).subscribe(o))})(s)}}function sf(r,t,...e){if(!0===t)return void r();if(!1===t)return;const i=new x({next:()=>{i.unsubscribe(),r()}});return no(t(...e)).subscribe(i)}function yl(r,t){return Ft((e,i)=>{let n=null,s=0,o=!1;const a=()=>o&&!n&&i.complete();e.subscribe(Li(i,l=>{n?.unsubscribe();let h=0;const c=s++;no(r(l,c)).subscribe(n=Li(i,u=>i.next(t?t(l,u,c,h++):u),()=>{n=null,a()}))},()=>{o=!0,a()}))})}function Th(r,t=ue){return r=r??ig,Ft((e,i)=>{let n,s=!0;e.subscribe(Li(i,o=>{const a=t(o);(s||!r(n,a))&&(s=!1,n=a,i.next(o))}))})}function ig(r,t){return r===t}function _s(r){for(let t in r)if(r[t]===_s)return t;throw Error("Could not find renamed property on target object.")}function af(r,t){for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function ua(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ua).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const t=r.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function id(r,t){return null==r||""===r?null===t?"":t:null==t||""===t?r:r+" "+t}const qy=_s({__forward_ref__:_s});function as(r){return r.__forward_ref__=as,r.toString=function(){return ua(this())},r}function Gn(r){return lf(r)?r():r}function lf(r){return"function"==typeof r&&r.hasOwnProperty(qy)&&r.__forward_ref__===as}function ng(r){return r&&!!r.\u0275providers}const Zy="https://g.co/ng/security#xss";class Ei extends Error{constructor(t,e){super(function rg(r,t){return`NG0${Math.abs(r)}${t?": "+t:""}`}(t,e)),this.code=t}}function ur(r){return"string"==typeof r?r:null==r?"":String(r)}function Ky(r,t){throw new Ei(-201,!1)}function Wh(r,t){null==r&&function lr(r,t,e,i){throw new Error(`ASSERTION ERROR: ${r}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,r,null,"!=")}function Pn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ko(r){return{providers:r.providers||[],imports:r.imports||[]}}function nd(r){return oi(r,Kd)||oi(r,e0)}function oi(r,t){return r.hasOwnProperty(t)?r[t]:null}function hf(r){return r&&(r.hasOwnProperty(ls)||r.hasOwnProperty(sg))?r[ls]:null}const Kd=_s({\u0275prov:_s}),ls=_s({\u0275inj:_s}),e0=_s({ngInjectableDef:_s}),sg=_s({ngInjectorDef:_s});var yn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(yn||{});let pr;function Wi(r){const t=pr;return pr=r,t}function rC(r,t,e){const i=nd(r);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&yn.Optional?null:void 0!==t?t:void Ky(ua(r))}const fs=globalThis,lg={},Zv="__NG_DI_FLAG__",hg="ngTempTokenPath",o0=/\n/gm,aC="__source";let rd;function sd(r){const t=rd;return rd=r,t}function lC(r,t=yn.Default){if(void 0===rd)throw new Ei(-203,!1);return null===rd?rC(r,void 0,t):rd.get(r,t&yn.Optional?null:void 0,t)}function vn(r,t=yn.Default){return(function t0(){return pr}()||lC)(Gn(r),t)}function cn(r,t=yn.Default){return vn(r,cg(t))}function cg(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Kv(r){const t=[];for(let e=0;e<r.length;e++){const i=Gn(r[e]);if(Array.isArray(i)){if(0===i.length)throw new Ei(900,!1);let n,s=yn.Default;for(let o=0;o<i.length;o++){const a=i[o],l=yI(a);"number"==typeof l?-1===l?n=a.token:s|=l:n=a}t.push(vn(n,s))}else t.push(vn(i))}return t}function ug(r,t){return r[Zv]=t,r.prototype[Zv]=t,r}function yI(r){return r[Zv]}function Iu(r){return{toString:r}.toString()}var Mu=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Mu||{}),bc=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(bc||{});const Xc={},hs=[],dg=_s({\u0275cmp:_s}),Qc=_s({\u0275dir:_s}),cf=_s({\u0275pipe:_s}),hC=_s({\u0275mod:_s}),xu=_s({\u0275fac:_s}),pg=_s({__NG_ELEMENT_ID__:_s}),ep=_s({__NG_ENV_ID__:_s});function Gh(r,t,e){let i=r.length;for(;;){const n=r.indexOf(t,e);if(-1===n)return n;if(0===n||r.charCodeAt(n-1)<=32){const s=t.length;if(n+s===i||r.charCodeAt(n+s)<=32)return n}e=n+1}}function em(r,t,e){let i=0;for(;i<e.length;){const n=e[i];if("number"==typeof n){if(0!==n)break;i++;const s=e[i++],o=e[i++],a=e[i++];r.setAttribute(t,o,a,s)}else{const s=n,o=e[++i];uC(s)?r.setProperty(t,s,o):r.setAttribute(t,s,o),i++}}return i}function cC(r){return 3===r||4===r||6===r}function uC(r){return 64===r.charCodeAt(0)}function fg(r,t){if(null!==t&&0!==t.length)if(null===r||0===r.length)r=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?e=n:0===e||dC(r,e,n,null,-1===e||2===e?t[++i]:null)}}return r}function dC(r,t,e,i,n){let s=0,o=r.length;if(-1===t)o=-1;else for(;s<r.length;){const a=r[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<r.length;){const a=r[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==n&&(r[s+1]=n));if(i===r[s+1])return void(r[s+2]=n)}s++,null!==i&&s++,null!==n&&s++}-1!==o&&(r.splice(o,0,t),s=o+1),r.splice(s++,0,e),null!==i&&r.splice(s++,0,i),null!==n&&r.splice(s++,0,n)}const pC="ng-template";function tm(r,t,e){let i=0,n=!0;for(;i<r.length;){let s=r[i++];if("string"==typeof s&&n){const o=r[i++];if(e&&"class"===s&&-1!==Gh(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<r.length&&"string"==typeof(s=r[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(n=!1)}}return!1}function At(r){return 4===r.type&&r.value!==pC}function hi(r,t,e){return t===(4!==r.type||e?r.value:pC)}function qt(r,t,e){let i=4;const n=r.attrs||[],s=function so(r){for(let t=0;t<r.length;t++)if(cC(r[t]))return t;return r.length}(n);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!hi(r,l,e)||""===l&&1===t.length){if(tn(i))return!1;o=!0}}else{const h=8&i?l:t[++a];if(8&i&&null!==r.attrs){if(!tm(r.attrs,h,e)){if(tn(i))return!1;o=!0}continue}const u=vr(8&i?"class":l,n,At(r),e);if(-1===u){if(tn(i))return!1;o=!0;continue}if(""!==h){let d;d=u>s?"":n[u+1].toLowerCase();const p=8&i?d:null;if(p&&-1!==Gh(p,h,0)||2&i&&h!==d){if(tn(i))return!1;o=!0}}}}else{if(!o&&!tn(i)&&!tn(l))return!1;if(o&&tn(l))continue;o=!1,i=l|1&i}}return tn(i)||o}function tn(r){return 0==(1&r)}function vr(r,t,e,i){if(null===t)return-1;let n=0;if(i||!e){let s=!1;for(;n<t.length;){const o=t[n];if(o===r)return n;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++n];for(;"string"==typeof a;)a=t[++n];continue}if(4===o)break;if(0===o){n+=4;continue}}n+=s?1:2}return-1}return function l0(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){const i=r[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,r)}function Cs(r,t,e=!1){for(let i=0;i<t.length;i++)if(qt(r,t[i],e))return!0;return!1}function SI(r,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(r.length===i.length){for(let n=0;n<r.length;n++)if(r[n]!==i[n])continue e;return!0}}return!1}function rh(r,t){return r?":not("+t.trim()+")":t}function im(r){let t=r[0],e=1,i=2,n="",s=!1;for(;e<r.length;){let o=r[e];if("string"==typeof o)if(2&i){const a=r[++e];n+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?n+="."+o:4&i&&(n+=" "+o);else""!==n&&!tn(o)&&(t+=rh(s,n),n=""),i=o,s=s||!tn(i);e++}return""!==n&&(t+=rh(s,n)),t}function Rs(r){return Iu(()=>{const t=h0(r),e={...t,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Mu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||bc.Emulated,styles:r.styles||hs,_:null,schemas:r.schemas||null,tView:null,id:""};c0(e);const i=r.dependencies;return e.directiveDefs=tp(i,!1),e.pipeDefs=tp(i,!0),e.id=function vg(r){let t=0;const e=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Vs(r){return Vr(r)||Oo(r)}function wI(r){return null!==r}function da(r){return Iu(()=>({type:r.type,bootstrap:r.bootstrap||hs,declarations:r.declarations||hs,imports:r.imports||hs,exports:r.exports||hs,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function gC(r,t){if(null==r)return Xc;const e={};for(const i in r)if(r.hasOwnProperty(i)){let n=r[i],s=n;Array.isArray(n)&&(s=n[1],n=n[0]),e[n]=i,t&&(t[n]=s)}return e}function nn(r){return Iu(()=>{const t=h0(r);return c0(t),t})}function sh(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Vr(r){return r[dg]||null}function Oo(r){return r[Qc]||null}function qa(r){return r[cf]||null}function sl(r,t){const e=r[hC]||null;if(!e&&!0===t)throw new Error(`Type ${ua(r)} does not have '\u0275mod' property.`);return e}function h0(r){const t={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:r.inputs||Xc,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||hs,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gC(r.inputs,t),outputs:gC(r.outputs)}}function c0(r){r.features?.forEach(t=>t(r))}function tp(r,t){if(!r)return null;const e=t?qa:Vs;return()=>("function"==typeof r?r():r).map(i=>e(i)).filter(wI)}const $s=0,rn=1,mr=2,qs=3,Ul=4,Du=5,Ra=6,ad=7,go=8,$c=9,df=10,fr=11,Lo=12,ol=13,Tu=14,pa=15,al=16,pf=17,Xh=18,Eu=19,rm=20,Eh=21,Ah=22,Au=23,ld=24,br=25,u0=1,mC=2,qc=7,Cc=9,fa=11;function za(r){return Array.isArray(r)&&"object"==typeof r[u0]}function Za(r){return Array.isArray(r)&&!0===r[u0]}function oh(r){return 0!=(4&r.flags)}function Cr(r){return r.componentOffset>-1}function sm(r){return 1==(1&r.flags)}function Sc(r){return!!r.template}function d0(r){return 0!=(512&r[mr])}function np(r,t){return r.hasOwnProperty(xu)?r[xu]:null}let ll=null,yg=!1;function Oh(r){const t=ll;return ll=r,t}const bC={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function om(r){if(!bg(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Jc(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function SC(r){r.dirty=!0,function ff(r){if(void 0===r.liveConsumerNode)return;const t=yg;yg=!0;try{for(const e of r.liveConsumerNode)e.dirty||SC(e)}finally{yg=t}}(r),r.consumerMarkedDirty?.(r)}function am(r){return r&&(r.nextProducerIndex=0),Oh(r)}function p0(r,t){if(Oh(t),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(bg(r))for(let e=r.nextProducerIndex;e<r.producerNode.length;e++)Vl(r.producerNode[e],r.producerIndexOfThis[e]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Jc(r){rp(r);for(let t=0;t<r.producerNode.length;t++){const e=r.producerNode[t],i=r.producerLastReadVersion[t];if(i!==e.version||(om(e),i!==e.version))return!0}return!1}function lm(r){if(rp(r),bg(r))for(let t=0;t<r.producerNode.length;t++)Vl(r.producerNode[t],r.producerIndexOfThis[t]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Vl(r,t){if(function f0(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),rp(r),1===r.liveConsumerNode.length)for(let i=0;i<r.producerNode.length;i++)Vl(r.producerNode[i],r.producerIndexOfThis[i]);const e=r.liveConsumerNode.length-1;if(r.liveConsumerNode[t]=r.liveConsumerNode[e],r.liveConsumerIndexOfThis[t]=r.liveConsumerIndexOfThis[e],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,t<r.liveConsumerNode.length){const i=r.liveConsumerIndexOfThis[t],n=r.liveConsumerNode[t];rp(n),n.producerIndexOfThis[i]=t}}function bg(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function rp(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Cg=null;function m0(r){const t=Oh(null);try{return r()}finally{Oh(t)}}const um=()=>{},kI=(()=>({...bC,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:um}))();class wC{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ah(){return y0}function y0(r){return r.type.prototype.ngOnChanges&&(r.setInput=IC),Sg}function Sg(){const r=pm(this),t=r?.current;if(t){const e=r.previous;if(e===Xc)r.previous=t;else for(let i in t)e[i]=t[i];r.current=null,this.ngOnChanges(t)}}function IC(r,t,e,i){const n=this.declaredInputs[e],s=pm(r)||function b0(r,t){return r[MC]=t}(r,{previous:Xc,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[n];o[n]=new wC(l&&l.currentValue,t,a===Xc),r[i]=t}ah.ngInherit=!0;const MC="__ngSimpleChanges__";function pm(r){return r[MC]||null}const Kc=function(r,t,e){},fm="svg";function vo(r){for(;Array.isArray(r);)r=r[$s];return r}function hp(r,t){return vo(t[r])}function wl(r,t){return vo(t[r.index])}function cp(r,t){return r.data[t]}function Nu(r,t){return r[t]}function Wl(r,t){const e=t[r];return za(e)?e:e[$s]}function Pu(r,t){return null==t?null:r[t]}function Ig(r){r[pf]=0}function TC(r){1024&r[mr]||(r[mr]|=1024,EC(r,1))}function mm(r){1024&r[mr]&&(r[mr]&=-1025,EC(r,-1))}function EC(r,t){let e=r[qs];if(null===e)return;e[Du]+=t;let i=e;for(e=e[qs];null!==e&&(1===t&&1===i[Du]||-1===t&&0===i[Du]);)e[Du]+=t,i=e,e=e[qs]}const rr={lFrame:D0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lh(){return rr.bindingsEnabled}function vf(){return null!==rr.skipHydrationRootTNode}function yi(){return rr.lFrame.lView}function Zr(){return rr.lFrame.tView}function ns(r){return rr.lFrame.contextLView=r,r[go]}function Wr(r){return rr.lFrame.contextLView=null,r}function Ja(){let r=Cm();for(;null!==r&&64===r.type;)r=r.parent;return r}function Cm(){return rr.lFrame.currentTNode}function $h(r,t){const e=rr.lFrame;e.currentTNode=r,e.isParent=t}function Mg(){return rr.lFrame.isParent}function eu(){rr.lFrame.isParent=!1}function yf(){return rr.lFrame.bindingIndex++}function _u(r){const t=rr.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function BI(r,t){const e=rr.lFrame;e.bindingIndex=e.bindingRootIndex=r,bf(t)}function bf(r){rr.lFrame.currentDirectiveIndex=r}function Ml(r){const t=rr.lFrame.currentDirectiveIndex;return-1===t?null:r[t]}function Mc(){return rr.lFrame.currentQueryIndex}function M0(r){rr.lFrame.currentQueryIndex=r}function FI(r){const t=r[rn];return 2===t.type?t.declTNode:1===t.type?r[Ra]:null}function xg(r,t,e){if(e&yn.SkipSelf){let n=t,s=r;for(;!(n=n.parent,null!==n||e&yn.Host||(n=FI(s),null===n||(s=s[Tu],10&n.type))););if(null===n)return!1;t=n,r=s}const i=rr.lFrame=x0();return i.currentTNode=t,i.lView=r,!0}function fd(r){const t=x0(),e=r[rn];rr.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function x0(){const r=rr.lFrame,t=null===r?null:r.child;return null===t?D0(r):t}function D0(r){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=t),t}function PC(){const r=rr.lFrame;return rr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const T0=PC;function xc(){const r=PC();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function hl(){return rr.lFrame.selectedIndex}function gd(r){rr.lFrame.selectedIndex=r}function mo(){const r=rr.lFrame;return cp(r.tView,r.selectedIndex)}function ko(){rr.lFrame.currentNamespace=fm}let O0=!0;function dp(){return O0}function Ru(r){O0=r}function xm(r,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=r.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:c}=s;o&&(r.contentHooks??=[]).push(-e,o),a&&((r.contentHooks??=[]).push(e,a),(r.contentCheckHooks??=[]).push(e,a)),l&&(r.viewHooks??=[]).push(-e,l),h&&((r.viewHooks??=[]).push(e,h),(r.viewCheckHooks??=[]).push(e,h)),null!=c&&(r.destroyHooks??=[]).push(e,c)}}function Tg(r,t,e){Dm(r,t,3,e)}function qh(r,t,e,i){(3&r[mr])===e&&Dm(r,t,e,i)}function Eg(r,t){let e=r[mr];(3&e)===t&&(e&=8191,e+=1,r[mr]=e)}function Dm(r,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&r[pf]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(r[pf]+=65536),(a<s||-1==s)&&(Tm(r,e,t,l),r[pf]=(4294901760&r[pf])+l+2),l++}function _C(r,t){Kc(4,r,t);const e=Oh(null);try{t.call(r)}finally{Oh(e),Kc(5,r,t)}}function Tm(r,t,e,i){const n=e[i]<0,s=e[i+1],a=r[n?-e[i]:e[i]];n?r[mr]>>13<r[pf]>>16&&(3&r[mr])===t&&(r[mr]+=8192,_C(a,s)):_C(a,s)}const Cf=-1;class Ag{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Am(r){return r!==Cf}function Dc(r){return 32767&r}function Sf(r,t){let e=function VI(r){return r>>16}(r),i=t;for(;e>0;)i=i[Tu],e--;return i}let kg=!0;function xa(r){const t=kg;return kg=r,t}const RC=255,zC=5;let BC=0;const Tc={};function Ng(r,t){const e=tu(r,t);if(-1!==e)return e;const i=t[rn];i.firstCreatePass&&(r.injectorIndex=t.length,Om(i.data,r),Om(t,null),Om(i.blueprint,null));const n=Ka(r,t),s=r.injectorIndex;if(Am(n)){const o=Dc(n),a=Sf(n,t),l=a[rn].data;for(let h=0;h<8;h++)t[s+h]=a[o+h]|l[o+h]}return t[s+8]=n,s}function Om(r,t){r.push(0,0,0,0,0,0,0,0,t)}function tu(r,t){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===t[r.injectorIndex+8]?-1:r.injectorIndex}function Ka(r,t){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let e=0,i=null,n=t;for(;null!==n;){if(i=HC(n),null===i)return Cf;if(e++,n=n[Tu],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Cf}function Lm(r,t,e){!function lT(r,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(pg)&&(i=e[pg]),null==i&&(i=e[pg]=BC++);const n=i&RC;t.data[r+(n>>zC)]|=1<<n}(r,t,e)}function km(r,t,e){if(e&yn.Optional||void 0!==r)return r;Ky()}function WI(r,t,e,i){if(e&yn.Optional&&void 0===i&&(i=null),!(e&(yn.Self|yn.Host))){const n=r[$c],s=Wi(void 0);try{return n?n.get(t,i,e&yn.Optional):rC(t,i,e&yn.Optional)}finally{Wi(s)}}return km(i,0,e)}function N0(r,t,e,i=yn.Default,n){if(null!==r){if(2048&t[mr]&&!(i&yn.Self)){const o=function R0(r,t,e,i,n){let s=r,o=t;for(;null!==s&&null!==o&&2048&o[mr]&&!(512&o[mr]);){const a=pp(s,o,e,i|yn.Self,Tc);if(a!==Tc)return a;let l=s.parent;if(!l){const h=o[rm];if(h){const c=h.get(e,Tc,i);if(c!==Tc)return c}l=HC(o),o=o[Tu]}s=l}return n}(r,t,e,i,Tc);if(o!==Tc)return o}const s=pp(r,t,e,i,Tc);if(s!==Tc)return s}return WI(t,e,i,n)}function pp(r,t,e,i,n){const s=function YI(r){if("string"==typeof r)return r.charCodeAt(0)||0;const t=r.hasOwnProperty(pg)?r[pg]:void 0;return"number"==typeof t?t>=0?t&RC:_0:t}(e);if("function"==typeof s){if(!xg(t,r,i))return i&yn.Host?km(n,0,i):WI(t,e,i,n);try{let o;if(o=s(i),null!=o||i&yn.Optional)return o;Ky()}finally{T0()}}else if("number"==typeof s){let o=null,a=tu(r,t),l=Cf,h=i&yn.Host?t[pa][Ra]:null;for((-1===a||i&yn.SkipSelf)&&(l=-1===a?Ka(r,t):t[a+8],l!==Cf&&P0(i,!1)?(o=t[rn],a=Dc(l),t=Sf(l,t)):a=-1);-1!==a;){const c=t[rn];if(GI(s,a,c.data)){const u=jC(a,t,e,o,i,h);if(u!==Tc)return u}l=t[a+8],l!==Cf&&P0(i,t[rn].data[a+8]===h)&&GI(s,a,t)?(o=c,a=Dc(l),t=Sf(l,t)):a=-1}}return n}function jC(r,t,e,i,n,s){const o=t[rn],a=o.data[r+8],c=Pg(a,o,e,null==i?Cr(a)&&kg:i!=o&&0!=(3&a.type),n&yn.Host&&s===a);return null!==c?wf(t,o,c,a):Tc}function Pg(r,t,e,i,n){const s=r.providerIndexes,o=t.data,a=1048575&s,l=r.directiveStart,c=s>>20,d=n?a+c:r.directiveEnd;for(let p=i?a:a+c;p<d;p++){const f=o[p];if(p<l&&e===f||p>=l&&f.type===e)return p}if(n){const p=o[l];if(p&&Sc(p)&&p.type===e)return l}return null}function wf(r,t,e,i){let n=r[e];const s=t.data;if(function zu(r){return r instanceof Ag}(n)){const o=n;o.resolving&&function dI(r,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${r}`:"";throw new Ei(-200,`Circular dependency in DI detected for ${r}${e}`)}(function Ls(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ur(r)}(s[e]));const a=xa(o.canSeeViewProviders);o.resolving=!0;const h=o.injectImpl?Wi(o.injectImpl):null;xg(r,i,yn.Default);try{n=r[e]=o.factory(void 0,s,r,i),t.firstCreatePass&&e>=i.directiveStart&&function L0(r,t,e){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:s}=t.type.prototype;if(i){const o=y0(t);(e.preOrderHooks??=[]).push(r,o),(e.preOrderCheckHooks??=[]).push(r,o)}n&&(e.preOrderHooks??=[]).push(0-r,n),s&&((e.preOrderHooks??=[]).push(r,s),(e.preOrderCheckHooks??=[]).push(r,s))}(e,s[e],t)}finally{null!==h&&Wi(h),xa(a),o.resolving=!1,T0()}}return n}function GI(r,t,e){return!!(e[t+(r>>zC)]&1<<r)}function P0(r,t){return!(r&yn.Self||r&yn.Host&&t)}class xl{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return N0(this._tNode,this._lView,t,cg(i),e)}}function _0(){return new xl(Ja(),yi())}function vd(r){return lf(r)?()=>{const t=vd(Gn(r));return t&&t()}:np(r)}function HC(r){const t=r[rn],e=t.type;return 2===e?t.declTNode:1===e?r[Ra]:null}const fp="__parameters__";function gp(r,t,e){return Iu(()=>{const i=function Nm(r){return function(...e){if(r){const i=r(...e);for(const n in i)this[n]=i[n]}}}(t);function n(...s){if(this instanceof n)return i.apply(this,s),this;const o=new n(...s);return a.annotation=o,a;function a(l,h,c){const u=l.hasOwnProperty(fp)?l[fp]:Object.defineProperty(l,fp,{value:[]})[fp];for(;u.length<=c;)u.push(null);return(u[c]=u[c]||[]).push(o),l}}return e&&(n.prototype=Object.create(e.prototype)),n.prototype.ngMetadataName=r,n.annotationCls=n,n})}function S(r,t){r.forEach(e=>Array.isArray(e)?S(e,t):t(e))}function A(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function G(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function J(r,t){const e=[];for(let i=0;i<r;i++)e.push(t);return e}function lt(r,t,e){let i=kt(r,t);return i>=0?r[1|i]=e:(i=~i,function fe(r,t,e,i){let n=r.length;if(n==t)r.push(e,i);else if(1===n)r.push(i,r[0]),r[0]=e;else{for(n--,r.push(r[n-1],r[n]);n>t;)r[n]=r[n-2],n--;r[t]=e,r[t+1]=i}}(r,i,t,e)),i}function vt(r,t){const e=kt(r,t);if(e>=0)return r[1|e]}function kt(r,t){return function Nt(r,t,e){let i=0,n=r.length>>e;for(;n!==i;){const s=i+(n-i>>1),o=r[s<<e];if(t===o)return s<<e;o>t?n=s:i=s+1}return~(n<<e)}(r,t,1)}const So=ug(gp("Optional"),8),Ac=ug(gp("SkipSelf"),4);function GC(r){return 128==(128&r.flags)}var xf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(xf||{});const oN=/^>|^->|<!--|-->|--!>|<!-$/g,QC=/(<|>)/g,aN="\u200b$1\u200b";const sM=new Map;let lN=0;const aM="__ngContext__";function Yl(r,t){za(t)?(r[aM]=t[Eu],function cN(r){sM.set(r[Eu],r)}(t)):r[aM]=t}let cM;function uM(r,t){return cM(r,t)}function Wm(r){const t=r[qs];return Za(t)?t[qs]:t}function MT(r){return DT(r[Lo])}function xT(r){return DT(r[Ul])}function DT(r){for(;null!==r&&!Za(r);)r=r[Ul];return r}function Ym(r,t,e,i,n){if(null!=i){let s,o=!1;Za(i)?s=i:za(i)&&(o=!0,i=i[$s]);const a=vo(i);0===r&&null!==e?null==n?AT(t,e,a):Wg(t,e,a,n||null,!0):1===r&&null!==e?Wg(t,e,a,n||null,!0):2===r?function nS(r,t,e){const i=iu(r,t);i&&function gM(r,t,e,i){r.removeChild(t,e,i)}(r,i,t,e)}(t,a,o):3===r&&t.destroyNode(a),null!=s&&function rS(r,t,e,i,n){const s=e[qc];s!==vo(e)&&Ym(t,r,i,s,n);for(let a=fa;a<e.length;a++){const l=e[a];Gg(l[rn],l,r,t,i,s)}}(t,r,s,e,n)}}function pM(r,t){return r.createComment(function yT(r){return r.replace(oN,t=>t.replace(QC,aN))}(t))}function KC(r,t,e){return r.createElement(t,e)}function Sr(r,t){const e=r[Cc],i=e.indexOf(t);mm(t),e.splice(i,1)}function eS(r,t){if(r.length<=fa)return;const e=fa+t,i=r[e];if(i){const n=i[al];null!==n&&n!==r&&Sr(n,i),t>0&&(r[e-1][Ul]=i[Ul]);const s=G(r,fa+t);!function vN(r,t){Gg(r,t,t[fr],2,null,null),t[$s]=null,t[Ra]=null}(i[rn],i);const o=s[Xh];null!==o&&o.detachView(s[rn]),i[qs]=null,i[Ul]=null,i[mr]&=-129}return i}function ch(r,t){if(!(256&t[mr])){const e=t[fr];t[Au]&&lm(t[Au]),t[ld]&&lm(t[ld]),e.destroyNode&&Gg(r,t,e,3,null,null),function yN(r){let t=r[Lo];if(!t)return ga(r[rn],r);for(;t;){let e=null;if(za(t))e=t[Lo];else{const i=t[fa];i&&(e=i)}if(!e){for(;t&&!t[Ul]&&t!==r;)za(t)&&ga(t[rn],t),t=t[qs];null===t&&(t=r),za(t)&&ga(t[rn],t),e=t&&t[Ul]}t=e}}(t)}}function ga(r,t){if(!(256&t[mr])){t[mr]&=-129,t[mr]|=256,function Df(r,t){let e;if(null!=r&&null!=(e=r.destroyHooks))for(let i=0;i<e.length;i+=2){const n=t[e[i]];if(!(n instanceof Ag)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=n[s[o]],l=s[o+1];Kc(4,a,l);try{l.call(a)}finally{Kc(5,a,l)}}else{Kc(4,n,s);try{s.call(n)}finally{Kc(5,n,s)}}}}}(r,t),function CN(r,t){const e=r.cleanup,i=t[ad];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[ad]=null);const n=t[Eh];if(null!==n){t[Eh]=null;for(let s=0;s<n.length;s++)(0,n[s])()}}(r,t),1===t[rn].type&&t[fr].destroy();const e=t[al];if(null!==e&&Za(t[qs])){e!==t[qs]&&Sr(e,t);const i=t[Xh];null!==i&&i.detachView(r)}!function uN(r){sM.delete(r[Eu])}(t)}}function fM(r,t,e){return function ET(r,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[$s];{const{componentOffset:n}=i;if(n>-1){const{encapsulation:s}=r.data[i.directiveStart+n];if(s===bc.None||s===bc.Emulated)return null}return wl(i,e)}}(r,t.parent,e)}function Wg(r,t,e,i,n){r.insertBefore(t,e,i,n)}function AT(r,t,e){r.appendChild(t,e)}function OT(r,t,e,i,n){null!==i?Wg(r,t,e,i,n):AT(r,t,e)}function iu(r,t){return r.parentNode(t)}function j0(r,t,e){return va(r,t,e)}let tS,sS,Jh,ks,va=function ea(r,t,e){return 40&r.type?wl(r,e):null};function iS(r,t,e,i){const n=fM(r,i,t),s=t[fr],a=j0(i.parent||t[Ra],i,t);if(null!=n)if(Array.isArray(e))for(let l=0;l<e.length;l++)OT(s,n,e[l],a,!1);else OT(s,n,e,a,!1);void 0!==tS&&tS(s,i,t,e,n)}function H0(r,t){if(null!==t){const e=t.type;if(3&e)return wl(t,r);if(4&e)return vM(-1,r[t.index]);if(8&e){const i=t.child;if(null!==i)return H0(r,i);{const n=r[t.index];return Za(n)?vM(-1,n):vo(n)}}if(32&e)return uM(t,r)()||vo(r[t.index]);{const i=NT(r,t);return null!==i?Array.isArray(i)?i[0]:H0(Wm(r[pa]),i):H0(r,t.next)}}return null}function NT(r,t){return null!==t?r[pa][Ra].projection[t.projection]:null}function vM(r,t){const e=fa+r+1;if(e<t.length){const i=t[e],n=i[rn].firstChild;if(null!==n)return H0(i,n)}return t[qc]}function Yg(r,t,e,i,n,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Yl(vo(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Yg(r,t,e.child,i,n,s,!1),Ym(t,r,n,a,s);else if(32&l){const h=uM(e,i);let c;for(;c=h();)Ym(t,r,n,c,s);Ym(t,r,n,a,s)}else 16&l?yM(r,t,i,e,n,s):Ym(t,r,n,a,s);e=o?e.projectionNext:e.next}}function Gg(r,t,e,i,n,s){Yg(e,i,r.firstChild,t,n,s,!1)}function yM(r,t,e,i,n,s){const o=e[pa],l=o[Ra].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Ym(t,r,n,l[h],s);else{let h=l;const c=o[qs];GC(i)&&(h.flags|=128),Yg(r,t,h,c,n,s,!0)}}function PT(r,t,e){""===e?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e)}function _T(r,t,e){const{mergedAttrs:i,classes:n,styles:s}=e;null!==i&&em(r,t,i),null!==n&&PT(r,t,n),null!==s&&function Gm(r,t,e){r.setAttribute(t,"style",e)}(r,t,s)}function Xm(r){return function bM(){if(void 0===sS&&(sS=null,fs.trustedTypes))try{sS=fs.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return sS}()?.createHTML(r)||r}function Qm(){if(void 0!==Jh)return Jh;if(typeof document<"u")return document;throw new Ei(210,!1)}function SM(r){return function CM(){if(void 0===ks&&(ks=null,fs.trustedTypes))try{ks=fs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ks}()?.createHTML(r)||r}class Xg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zy})`}}class wN extends Xg{getTypeName(){return"HTML"}}class IN extends Xg{getTypeName(){return"Style"}}class MN extends Xg{getTypeName(){return"Script"}}class xN extends Xg{getTypeName(){return"URL"}}class DN extends Xg{getTypeName(){return"ResourceURL"}}function kc(r){return r instanceof Xg?r.changingThisBreaksApplicationSecurity:r}function Sd(r,t){const e=function TN(r){return r instanceof Xg&&r.getTypeName()||null}(r);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Zy})`)}return e===t}class kN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Xm(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class NN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Xm(t),e}}const Tl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gl(r){return(r=String(r)).match(Tl)?r:"unsafe:"+r}function Cp(r){const t={};for(const e of r.split(","))t[e]=!0;return t}function V0(...r){const t={};for(const e of r)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const jT=Cp("area,br,col,hr,img,wbr"),IM=Cp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HT=Cp("rp,rt"),MM=V0(jT,V0(IM,Cp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),V0(HT,Cp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),V0(HT,IM)),xM=Cp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DM=V0(xM,Cp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zN=Cp("script,style,template");class BN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!MM.hasOwnProperty(e))return this.sanitizedSomething=!0,!zN.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let n=0;n<i.length;n++){const s=i.item(n),o=s.name,a=o.toLowerCase();if(!DM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;xM[a]&&(l=Gl(l)),this.buf.push(" ",o,'="',Qg(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();MM.hasOwnProperty(e)&&!jT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const FN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jN=/([^\#-~ |!])/g;function Qg(r){return r.replace(/&/g,"&amp;").replace(FN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let aS;function UT(r,t){let e=null;try{aS=aS||function oS(r){const t=new NN(r);return function PN(){try{return!!(new window.DOMParser).parseFromString(Xm(""),"text/html")}catch{return!1}}()?new kN(t):t}(r);let i=t?String(t):"";e=aS.getInertBodyElement(i);let n=5,s=i;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,i=s,s=e.innerHTML,e=aS.getInertBodyElement(i)}while(i!==s);return Xm((new BN).sanitizeChildren(TM(e)||e))}finally{if(e){const i=TM(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function TM(r){return"content"in r&&function HN(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Nc=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Nc||{});function lS(r){const t=W0();return t?SM(t.sanitize(Nc.HTML,r)||""):Sd(r,"HTML")?SM(kc(r)):UT(Qm(),ur(r))}function Zs(r){const t=W0();return t?t.sanitize(Nc.URL,r)||"":Sd(r,"URL")?kc(r):Gl(ur(r))}function W0(){const r=yi();return r&&r[df].sanitizer}class _n{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Y0=new _n("ENVIRONMENT_INITIALIZER"),GT=new _n("INJECTOR",-1),XT=new _n("INJECTOR_DEF_TYPES");class EM{get(t,e=lg){if(e===lg){const i=new Error(`NullInjectorError: No provider for ${ua(t)}!`);throw i.name="NullInjectorError",i}return e}}function GN(...r){return{\u0275providers:QT(0,r),\u0275fromNgModule:!0}}function QT(r,...t){const e=[],i=new Set;let n;const s=o=>{e.push(o)};return S(t,o=>{const a=o;hS(a,s,[],i)&&(n||=[],n.push(a))}),void 0!==n&&$T(n,s),e}function $T(r,t){for(let e=0;e<r.length;e++){const{ngModule:i,providers:n}=r[e];OM(n,s=>{t(s,i)})}}function hS(r,t,e,i){if(!(r=Gn(r)))return!1;let n=null,s=hf(r);const o=!s&&Vr(r);if(s||o){if(o&&!o.standalone)return!1;n=r}else{const l=r.ngModule;if(s=hf(l),!s)return!1;n=l}const a=i.has(n);if(o){if(a)return!1;if(i.add(n),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of l)hS(h,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let h;i.add(n);try{S(s.imports,c=>{hS(c,t,e,i)&&(h||=[],h.push(c))})}finally{}void 0!==h&&$T(h,t)}if(!a){const h=np(n)||(()=>new n);t({provide:n,useFactory:h,deps:hs},n),t({provide:XT,useValue:n,multi:!0},n),t({provide:Y0,useValue:()=>vn(n),multi:!0},n)}const l=s.providers;if(null!=l&&!a){const h=r;OM(l,c=>{t(c,h)})}}}return n!==r&&void 0!==r.providers}function OM(r,t){for(let e of r)ng(e)&&(e=e.\u0275providers),Array.isArray(e)?OM(e,t):t(e)}const XN=_s({provide:String,useValue:_s});function LM(r){return null!==r&&"object"==typeof r&&XN in r}function Tf(r){return"function"==typeof r}const kM=new _n("Set Injector scope."),uS={},QN={};let G0;function dS(){return void 0===G0&&(G0=new EM),G0}class nu{}class pS extends nu{get destroyed(){return this._destroyed}constructor(t,e,i,n){super(),this.parent=e,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X0(t,o=>this.processProvider(o)),this.records.set(GT,$m(void 0,this)),n.has("environment")&&this.records.set(nu,$m(void 0,this));const s=this.records.get(kM);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(XT.multi,hs,yn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=sd(this),i=Wi(void 0);try{return t()}finally{sd(e),Wi(i)}}get(t,e=lg,i=yn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ep))return t[ep](this);i=cg(i);const s=sd(this),o=Wi(void 0);try{if(!(i&yn.SkipSelf)){let l=this.records.get(t);if(void 0===l){const h=function ZN(r){return"function"==typeof r||"object"==typeof r&&r instanceof _n}(t)&&nd(t);l=h&&this.injectableDefInScope(h)?$m(uh(t),uS):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&yn.Self?dS():this.parent).get(t,e=i&yn.Optional&&e===lg?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[hg]=a[hg]||[]).unshift(ua(t)),s)throw a;return function bI(r,t,e,i){const n=r[hg];throw t[aC]&&n.unshift(t[aC]),r.message=function CI(r,t,e,i=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let n=ua(t);if(Array.isArray(t))n=t.map(ua).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ua(a)))}n=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${n}]: ${r.replace(o0,"\n  ")}`}("\n"+r.message,n,e,i),r.ngTokenPath=n,r[hg]=null,r}(a,t,"R3InjectorError",this.source)}throw a}finally{Wi(o),sd(s)}}resolveInjectorInitializers(){const t=sd(this),e=Wi(void 0);try{const n=this.get(Y0.multi,hs,yn.Self);for(const s of n)s()}finally{sd(t),Wi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(ua(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ei(205,!1)}processProvider(t){let e=Tf(t=Gn(t))?t:Gn(t&&t.provide);const i=function $N(r){return LM(r)?$m(void 0,r.useValue):$m(JT(r),uS)}(t);if(Tf(t)||!0!==t.multi)this.records.get(e);else{let n=this.records.get(e);n||(n=$m(void 0,uS,!0),n.factory=()=>Kv(n.multi),this.records.set(e,n)),e=t,n.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===uS&&(e.value=QN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function PM(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Gn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function uh(r){const t=nd(r),e=null!==t?t.factory:np(r);if(null!==e)return e;if(r instanceof _n)throw new Ei(204,!1);if(r instanceof Function)return function NM(r){const t=r.length;if(t>0)throw J(t,"?"),new Ei(204,!1);const e=function Yh(r){return r&&(r[Kd]||r[e0])||null}(r);return null!==e?()=>e.factory(r):()=>new r}(r);throw new Ei(204,!1)}function JT(r,t,e){let i;if(Tf(r)){const n=Gn(r);return np(n)||uh(n)}if(LM(r))i=()=>Gn(r.useValue);else if(function cS(r){return!(!r||!r.useFactory)}(r))i=()=>r.useFactory(...Kv(r.deps||[]));else if(function qT(r){return!(!r||!r.useExisting)}(r))i=()=>vn(Gn(r.useExisting));else{const n=Gn(r&&(r.useClass||r.provide));if(!function qN(r){return!!r.deps}(r))return np(n)||uh(n);i=()=>new n(...Kv(r.deps))}return i}function $m(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function X0(r,t){for(const e of r)Array.isArray(e)?X0(e,t):e&&ng(e)?X0(e.\u0275providers,t):t(e)}const fS=new _n("AppId",{providedIn:"root",factory:()=>JN}),JN="ng",KT=new _n("Platform Initializer"),qm=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eE=new _n("CSP nonce",{providedIn:"root",factory:()=>Qm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nE=(r,t,e)=>null;function UM(r,t,e=!1){return nE(r,t,e)}class Ni{}class un{}class hr{resolveComponentFactory(t){throw function Rn(r){const t=Error(`No component factory found for ${ua(r)}.`);return t.ngComponent=r,t}(t)}}let Er=(()=>{class r{static#e=this.NULL=new hr}return r})();function vs(){return El(Ja(),yi())}function El(r,t){return new rs(wl(r,t))}let rs=(()=>{class r{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=vs}return r})();function Pc(r){return r instanceof rs?r.nativeElement:r}class Ea{}let yo=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Sp(){const r=yi(),e=Wl(Ja().index,r);return(za(e)?e:r)[fr]}()}return r})(),rE=(()=>{class r{static#e=this.\u0275prov=Pn({token:r,providedIn:"root",factory:()=>null})}return r})();class VM{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Jq=new VM("16.2.8"),sP={};function mF(r,t=null,e=null,i){const n=yF(r,t,e,i);return n.resolveInjectorInitializers(),n}function yF(r,t=null,e=null,i,n=new Set){const s=[e||hs,GN(r)];return i=i||("object"==typeof r?void 0:ua(r)),new pS(s,t||dS(),i||null,n)}let ma=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=lg;static#t=this.NULL=new EM;static create(e,i){if(Array.isArray(e))return mF({name:""},i,e,"");{const n=e.name??"";return mF({name:n},e.parent,e.providers,n)}}static#i=this.\u0275prov=Pn({token:r,providedIn:"any",factory:()=>vn(GT)});static#n=this.__NG_ELEMENT_ID__=-1}return r})();function aP(r){return r.ngOriginalError}class $g{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&aP(t);for(;e&&aP(e);)e=aP(e);return e||null}}function hP(r){return t=>{setTimeout(r,void 0,t)}}const No=class sZ extends Yt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let n=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;n=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=hP(s),n&&(n=hP(n)),o&&(o=hP(o)));const a=super.subscribe({next:n,error:s,complete:o});return t instanceof Ht&&t.add(a),a}};function CF(...r){}class Po{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),typeof Zone>"u")throw new Ei(908,!1);Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&e,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function oZ(){const r="function"==typeof fs.requestAnimationFrame;let t=fs[r?"requestAnimationFrame":"setTimeout"],e=fs[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function hZ(r){const t=()=>{!function lZ(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(fs,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,uP(r),r.isCheckStableRunning=!0,cP(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),uP(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,n,s,o,a)=>{if(function uZ(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(n,s,o,a);try{return SF(r),e.invokeTask(n,s,o,a)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||r.shouldCoalesceRunChangeDetection)&&t(),wF(r)}},onInvoke:(e,i,n,s,o,a,l)=>{try{return SF(r),e.invoke(n,s,o,a,l)}finally{r.shouldCoalesceRunChangeDetection&&t(),wF(r)}},onHasTask:(e,i,n,s)=>{e.hasTask(n,s),i===n&&("microTask"==s.change?(r._hasPendingMicrotasks=s.microTask,uP(r),cP(r)):"macroTask"==s.change&&(r.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,n,s)=>(e.handleError(n,s),r.runOutsideAngular(()=>r.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Ei(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Ei(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+n,t,aZ,CF,CF);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const aZ={};function cP(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function uP(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function SF(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function wF(r){r._nesting--,cP(r)}class cZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new No,this.onMicrotaskEmpty=new No,this.onStable=new No,this.onError=new No}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}const IF=new _n("",{providedIn:"root",factory:MF});function MF(){const r=cn(Po);let t=!0;return function rf(...r){const t=ri(r),e=function Ti(r,t){return"number"==typeof qe(r)?r.pop():t}(r,1/0),i=r;return i.length?1===i.length?no(i[0]):Vh(e)(bs(i,t)):$a}(new Ne(n=>{t=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{n.next(t),n.complete()})}),new Ne(n=>{let s;r.runOutsideAngular(()=>{s=r.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(t=!0,n.next(!0))})})});const o=r.onUnstable.subscribe(()=>{Po.assertInAngularZone(),t&&(t=!1,r.runOutsideAngular(()=>{n.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(qd()))}function qg(r){return r instanceof Function?r():r}let dP=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pn({token:r,providedIn:"root",factory:()=>new r})}return r})();function WM(r){for(;r;){r[mr]|=64;const t=Wm(r);if(d0(r)&&!t)return r;r=t}return null}const AF=new _n("",{providedIn:"root",factory:()=>!1});let oE=null;function NF(r,t){return r[t]??RF()}function PF(r,t){const e=RF();e.producerNode?.length&&(r[t]=oE,e.lView=r,oE=_F())}const SZ={...bC,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{WM(r.lView)},lView:null};function _F(){return Object.create(SZ)}function RF(){return oE??=_F(),oE}const Ar={};function Fe(r){zF(Zr(),yi(),hl()+r,!1)}function zF(r,t,e,i){if(!i)if(3==(3&t[mr])){const s=r.preOrderCheckHooks;null!==s&&Tg(t,s,e)}else{const s=r.preOrderHooks;null!==s&&qh(t,s,0,e)}gd(e)}function zt(r,t=yn.Default){const e=yi();return null===e?vn(r,t):N0(Ja(),e,Gn(r),t)}function aE(r,t,e,i,n,s,o,a,l,h,c){const u=t.blueprint.slice();return u[$s]=n,u[mr]=140|i,(null!==h||r&&2048&r[mr])&&(u[mr]|=2048),Ig(u),u[qs]=u[Tu]=r,u[go]=e,u[df]=o||r&&r[df],u[fr]=a||r&&r[fr],u[$c]=l||r&&r[$c]||null,u[Ra]=s,u[Eu]=function hN(){return lN++}(),u[Ah]=c,u[rm]=h,u[pa]=2==t.type?r[pa]:u,u}function CS(r,t,e,i,n){let s=r.data[t];if(null===s)s=function pP(r,t,e,i,n){const s=Cm(),o=Mg(),l=r.data[t]=function AZ(r,t,e,i,n,s){let o=t?t.injectorIndex:-1,a=0;return vf()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,n);return null===r.firstChild&&(r.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(r,t,e,i,n),function I0(){return rr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=n;const o=function mf(){const r=rr.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $h(s,!0),s}function YM(r,t,e,i){if(0===e)return-1;const n=t.length;for(let s=0;s<e;s++)t.push(i),r.blueprint.push(i),r.data.push(null);return n}function FF(r,t,e,i,n){const s=NF(t,Au),o=hl(),a=2&i;try{gd(-1),a&&t.length>br&&zF(r,t,br,!1),Kc(a?2:0,n);const h=a?s:null,c=am(h);try{null!==h&&(h.dirty=!1),e(i,n)}finally{p0(h,c)}}finally{a&&null===t[Au]&&PF(t,Au),gd(o),Kc(a?3:1,n)}}function fP(r,t,e){if(oh(t)){const i=Oh(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=r.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Oh(i)}}}function gP(r,t,e){Lh()&&(function RZ(r,t,e,i){const n=e.directiveStart,s=e.directiveEnd;Cr(e)&&function VZ(r,t,e){const i=wl(t,r),n=jF(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=lE(r,aE(r,n,null,o,i,t,null,r[df].rendererFactory.createRenderer(i,e),null,null,null));r[t.index]=a}(t,e,r.data[n+e.componentOffset]),r.firstCreatePass||Ng(e,t),Yl(i,t);const o=e.initialInputs;for(let a=n;a<s;a++){const l=r.data[a],h=wf(t,r,a,e);Yl(h,t),null!==o&&WZ(0,a-n,h,l,0,o),Sc(l)&&(Wl(e.index,t)[go]=wf(t,r,a,e))}}(r,t,e,wl(e,t)),64==(64&e.flags)&&YF(r,t,e))}function vP(r,t,e=wl){const i=t.localNames;if(null!==i){let n=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,r):r[o];r[n++]=a}}}function jF(r){const t=r.tView;return null===t||t.incompleteFirstPass?r.tView=mP(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):t}function mP(r,t,e,i,n,s,o,a,l,h,c){const u=br+i,d=u+n,p=function IZ(r,t){const e=[];for(let i=0;i<t;i++)e.push(i<r?null:Ar);return e}(u,d),f="function"==typeof h?h():h;return p[rn]={type:r,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:c}}let HF=r=>null;function UF(r,t,e,i){for(let n in r)if(r.hasOwnProperty(n)){e=null===e?{}:e;const s=r[n];null===i?VF(e,t,n,s):i.hasOwnProperty(n)&&VF(e,t,i[n],s)}return e}function VF(r,t,e,i){r.hasOwnProperty(e)?r[e].push(t,i):r[e]=[t,i]}function Hu(r,t,e,i,n,s,o,a){const l=wl(t,e);let c,h=t.inputs;!a&&null!=h&&(c=h[i])?(wP(r,e,c,i,n),Cr(t)&&function kZ(r,t){const e=Wl(t,r);16&e[mr]||(e[mr]|=64)}(e,t.index)):3&t.type&&(i=function LZ(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(i),n=null!=o?o(n,t.value||"",i):n,s.setProperty(l,i,n))}function yP(r,t,e,i){if(Lh()){const n=null===i?null:{"":-1},s=function BZ(r,t){const e=r.directiveRegistry;let i=null,n=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Cs(t,o.selectors,!1))if(i||(i=[]),Sc(o))if(null!==o.findHostDirectiveDefs){const a=[];n=n||new Map,o.findHostDirectiveDefs(o,a,n),i.unshift(...a,o),bP(r,t,a.length)}else i.unshift(o),bP(r,t,0);else n=n||new Map,o.findHostDirectiveDefs?.(o,i,n),i.push(o)}return null===i?null:[i,n]}(r,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&WF(r,t,e,o,n,a),n&&function FZ(r,t,e){if(t){const i=r.localNames=[];for(let n=0;n<t.length;n+=2){const s=e[t[n+1]];if(null==s)throw new Ei(-301,!1);i.push(t[n],s)}}}(e,i,n)}e.mergedAttrs=fg(e.mergedAttrs,e.attrs)}function WF(r,t,e,i,n,s){for(let h=0;h<i.length;h++)Lm(Ng(e,t),r,i[h].type);!function HZ(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}(e,r.data.length,i.length);for(let h=0;h<i.length;h++){const c=i[h];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=YM(r,t,i.length,null);for(let h=0;h<i.length;h++){const c=i[h];e.mergedAttrs=fg(e.mergedAttrs,c.hostAttrs),UZ(r,e,t,l,c),jZ(l,c,n),null!==c.contentQueries&&(e.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(e.flags|=64);const u=c.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((r.preOrderHooks??=[]).push(e.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function OZ(r,t,e){const n=t.directiveEnd,s=r.data,o=t.attrs,a=[];let l=null,h=null;for(let c=t.directiveStart;c<n;c++){const u=s[c],d=e?e.get(u):null,f=d?d.outputs:null;l=UF(u.inputs,c,l,d?d.inputs:null),h=UF(u.outputs,c,h,f);const m=null===l||null===o||At(t)?null:YZ(l,c,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=h}(r,e,s)}function YF(r,t,e){const i=e.directiveStart,n=e.directiveEnd,s=e.index,o=function wm(){return rr.lFrame.currentDirectiveIndex}();try{gd(s);for(let a=i;a<n;a++){const l=r.data[a],h=t[a];bf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&zZ(l,h)}}finally{gd(-1),bf(o)}}function zZ(r,t){null!==r.hostBindings&&r.hostBindings(1,t)}function bP(r,t,e){t.componentOffset=e,(r.components??=[]).push(t.index)}function jZ(r,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=r;Sc(t)&&(e[""]=r)}}function UZ(r,t,e,i,n){r.data[i]=n;const s=n.factory||(n.factory=np(n.type)),o=new Ag(s,Sc(n),zt);r.blueprint[i]=o,e[i]=o,function PZ(r,t,e,i,n){const s=n.hostBindings;if(s){let o=r.hostBindingOpCodes;null===o&&(o=r.hostBindingOpCodes=[]);const a=~t.index;(function _Z(r){let t=r.length;for(;t>0;){const e=r[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(r,t,i,YM(r,e,n.hostVars,Ar),n)}function Ef(r,t,e,i,n,s){const o=wl(r,t);!function CP(r,t,e,i,n,s,o){if(null==s)r.removeAttribute(t,n,e);else{const a=null==o?ur(s):o(s,i||"",n);r.setAttribute(t,n,a,e)}}(t[fr],o,s,r.value,e,i,n)}function WZ(r,t,e,i,n,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)GF(i,e,o[a++],o[a++],o[a++])}function GF(r,t,e,i,n){const s=Oh(null);try{const o=r.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(n=o[i].call(t,n)),null!==r.setInput?r.setInput(t,n,e,i):t[i]=n}finally{Oh(s)}}function YZ(r,t,e){let i=null,n=0;for(;n<e.length;){const s=e[n];if(0!==s)if(5!==s){if("number"==typeof s)break;if(r.hasOwnProperty(s)){null===i&&(i=[]);const o=r[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[n+1]);break}}n+=2}else n+=2;else n+=4}return i}function XF(r,t,e,i){return[r,!0,!1,t,null,0,i,e,null,null,null]}function QF(r,t){const e=r.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=r.data[s];M0(e[i]),o.contentQueries(2,t[s],s)}}}function lE(r,t){return r[Lo]?r[ol][Ul]=t:r[Lo]=t,r[ol]=t,t}function SP(r,t,e){M0(0);const i=Oh(null);try{t(r,e)}finally{Oh(i)}}function $F(r){return r[ad]||(r[ad]=[])}function qF(r){return r.cleanup||(r.cleanup=[])}function ZF(r,t,e){return(null===r||Sc(r))&&(e=function wg(r){for(;Array.isArray(r);){if("object"==typeof r[u0])return r;r=r[$s]}return null}(e[t.index])),e[fr]}function JF(r,t){const e=r[$c],i=e?e.get($g,null):null;i&&i.handleError(t)}function wP(r,t,e,i,n){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];GF(r.data[o],t[o],i,a,n)}}function GZ(r,t){const e=Wl(t,r),i=e[rn];!function XZ(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])}(i,e);const n=e[$s];null!==n&&null===e[Ah]&&(e[Ah]=UM(n,e[$c])),IP(i,e,e[go])}function IP(r,t,e){fd(t);try{const i=r.viewQuery;null!==i&&SP(1,i,e);const n=r.template;null!==n&&FF(r,t,n,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&QF(r,t),r.staticViewQueries&&SP(2,r.viewQuery,e);const s=r.components;null!==s&&function QZ(r,t){for(let e=0;e<t.length;e++)GZ(r,t[e])}(t,s)}catch(i){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),i}finally{t[mr]&=-5,xc()}}let KF=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(e,i,n){const s=typeof Zone>"u"?null:Zone.current,o=function LI(r,t,e){const i=Object.create(kI);e&&(i.consumerAllowSignalWrites=!0),i.fn=r,i.schedule=t;const n=o=>{i.cleanupFn=o};return i.ref={notify:()=>SC(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Jc(i))return;i.hasRun=!0;const o=am(i);try{i.cleanupFn(),i.cleanupFn=um,i.fn(n)}finally{p0(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,h=>{this.all.has(h)&&this.queue.set(h,s)},n);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pn({token:r,providedIn:"root",factory:()=>new r})}return r})();function hE(r,t,e){let i=e?r.styles:null,n=e?r.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?n=id(n,a):2==s&&(i=id(i,a+": "+t[++o]+";"))}e?r.styles=i:r.stylesWithoutHost=i,e?r.classes=n:r.classesWithoutHost=n}function GM(r,t,e,i,n=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(vo(s)),Za(s)&&e3(s,i);const o=e.type;if(8&o)GM(r,t,e.child,i);else if(32&o){const a=uM(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=NT(t,e);if(Array.isArray(a))i.push(...a);else{const l=Wm(t[pa]);GM(l[rn],l,a,i,!0)}}e=n?e.projectionNext:e.next}return i}function e3(r,t){for(let e=fa;e<r.length;e++){const i=r[e],n=i[rn].firstChild;null!==n&&GM(i[rn],i,n,t)}r[qc]!==r[$s]&&t.push(r[qc])}function cE(r,t,e,i=!0){const n=t[df],s=n.rendererFactory,o=n.afterRenderEventManager;s.begin?.(),o?.begin();try{t3(r,t,r.template,e)}catch(l){throw i&&JF(t,l),l}finally{s.end?.(),n.effectManager?.flush(),o?.end()}}function t3(r,t,e,i){const n=t[mr];if(256!=(256&n)){t[df].effectManager?.flush(),fd(t);try{Ig(t),function NC(r){return rr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==e&&FF(r,t,e,2,i);const o=3==(3&n);if(o){const h=r.preOrderCheckHooks;null!==h&&Tg(t,h,null)}else{const h=r.preOrderHooks;null!==h&&qh(t,h,0,null),Eg(t,0)}if(function ZZ(r){for(let t=MT(r);null!==t;t=xT(t)){if(!t[mC])continue;const e=t[Cc];for(let i=0;i<e.length;i++){TC(e[i])}}}(t),i3(t,2),null!==r.contentQueries&&QF(r,t),o){const h=r.contentCheckHooks;null!==h&&Tg(t,h)}else{const h=r.contentHooks;null!==h&&qh(t,h,1),Eg(t,1)}!function wZ(r,t){const e=r.hostBindingOpCodes;if(null===e)return;const i=NF(t,ld);try{for(let n=0;n<e.length;n++){const s=e[n];if(s<0)gd(~s);else{const o=s,a=e[++n],l=e[++n];BI(a,o),i.dirty=!1;const h=am(i);try{l(2,t[o])}finally{p0(i,h)}}}}finally{null===t[ld]&&PF(t,ld),gd(-1)}}(r,t);const a=r.components;null!==a&&r3(t,a,0);const l=r.viewQuery;if(null!==l&&SP(2,l,i),o){const h=r.viewCheckHooks;null!==h&&Tg(t,h)}else{const h=r.viewHooks;null!==h&&qh(t,h,2),Eg(t,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),t[mr]&=-73,mm(t)}finally{xc()}}}function i3(r,t){for(let e=MT(r);null!==e;e=xT(e))for(let i=fa;i<e.length;i++)n3(e[i],t)}function JZ(r,t,e){n3(Wl(t,r),e)}function n3(r,t){if(!function PI(r){return 128==(128&r[mr])}(r))return;const e=r[rn],i=r[mr];if(80&i&&0===t||1024&i||2===t)t3(e,r,e.template,r[go]);else if(r[Du]>0){i3(r,1);const n=e.components;null!==n&&r3(r,n,1)}}function r3(r,t,e){for(let i=0;i<t.length;i++)JZ(r,t[i],e)}class XM{get rootNodes(){const t=this._lView,e=t[rn];return GM(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(t){this._lView[go]=t}get destroyed(){return 256==(256&this._lView[mr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qs];if(Za(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(eS(t,i),G(e,i))}this._attachedToViewContainer=!1}ch(this._lView[rn],this._lView)}onDestroy(t){!function ym(r,t){if(256==(256&r[mr]))throw new Ei(911,!1);null===r[Eh]&&(r[Eh]=[]),r[Eh].push(t)}(this._lView,t)}markForCheck(){WM(this._cdRefInjectingView||this._lView)}detach(){this._lView[mr]&=-129}reattach(){this._lView[mr]|=128}detectChanges(){cE(this._lView[rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ei(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ju(r,t){Gg(r,t,t[fr],2,null,null)}(this._lView[rn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ei(902,!1);this._appRef=t}}class KZ extends XM{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cE(t[rn],t,t[go],!1)}checkNoChanges(){}get context(){return null}}class s3 extends Er{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Vr(t);return new QM(e,this.ngModule)}}function o3(r){const t=[];for(let e in r)r.hasOwnProperty(e)&&t.push({propName:r[e],templateName:e});return t}class tJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=cg(i);const n=this.injector.get(t,sP,i);return n!==sP||e===sP?n:this.parentInjector.get(t,e,i)}}class QM extends un{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=o3(t.inputs);if(null!==e)for(const n of i)e.hasOwnProperty(n.propName)&&(n.transform=e[n.propName]);return i}get outputs(){return o3(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function fC(r){return r.map(im).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,n){let s=(n=n||this.ngModule)instanceof nu?n:n?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new tJ(t,s):t,a=o.get(Ea,null);if(null===a)throw new Ei(407,!1);const u={rendererFactory:a,sanitizer:o.get(rE,null),effectManager:o.get(KF,null),afterRenderEventManager:o.get(dP,null)},d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=i?function MZ(r,t,e,i){const s=i.get(AF,!1)||e===bc.ShadowDom,o=r.selectRootElement(t,s);return function xZ(r){HF(r)}(o),o}(d,i,this.componentDef.encapsulation,o):KC(d,p,function eJ(r){const t=r.toLowerCase();return"svg"===t?fm:"math"===t?"math":null}(p)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let P=null;null!==f&&(P=UM(f,o,!0));const U=mP(0,null,null,1,0,null,null,null,null,null,null),Y=aE(null,U,null,T,null,null,u,d,o,null,P);let X,Q;fd(Y);try{const oe=this.componentDef;let de,Me=null;oe.findHostDirectiveDefs?(de=[],Me=new Map,oe.findHostDirectiveDefs(oe,de,Me),de.push(oe)):de=[oe];const Ve=function nJ(r,t){const e=r[rn],i=br;return r[i]=t,CS(e,i,2,"#host",null)}(Y,f),Ce=function rJ(r,t,e,i,n,s,o){const a=n[rn];!function sJ(r,t,e,i){for(const n of r)t.mergedAttrs=fg(t.mergedAttrs,n.hostAttrs);null!==t.mergedAttrs&&(hE(t,t.mergedAttrs,!0),null!==e&&_T(i,e,t))}(i,r,t,o);let l=null;null!==t&&(l=UM(t,n[$c]));const h=s.rendererFactory.createRenderer(t,e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const u=aE(n,jF(e),null,c,n[r.index],r,s,h,null,null,l);return a.firstCreatePass&&bP(a,r,i.length-1),lE(n,u),n[r.index]=u}(Ve,f,oe,de,Y,u,d);Q=cp(U,br),f&&function aJ(r,t,e,i){if(i)em(r,e,["ng-version",Jq.full]);else{const{attrs:n,classes:s}=function uf(r){const t=[],e=[];let i=1,n=2;for(;i<r.length;){let s=r[i];if("string"==typeof s)2===n?""!==s&&t.push(s,r[++i]):8===n&&e.push(s);else{if(!tn(n))break;n=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);n&&em(r,e,n),s&&s.length>0&&PT(r,e,s.join(" "))}}(d,oe,f,i),void 0!==e&&function lJ(r,t,e){const i=r.projection=[];for(let n=0;n<t.length;n++){const s=e[n];i.push(null!=s?Array.from(s):null)}}(Q,this.ngContentSelectors,e),X=function oJ(r,t,e,i,n,s){const o=Ja(),a=n[rn],l=wl(o,n);WF(a,n,o,e,null,i);for(let c=0;c<e.length;c++)Yl(wf(n,a,o.directiveStart+c,o),n);YF(a,n,o),l&&Yl(l,n);const h=wf(n,a,o.directiveStart+o.componentOffset,o);if(r[go]=n[go]=h,null!==s)for(const c of s)c(h,t);return fP(a,o,r),h}(Ce,oe,de,Me,Y,[hJ]),IP(U,Y,null)}finally{xc()}return new iJ(this.componentType,X,El(Q,Y),Y,Q)}}class iJ extends Ni{constructor(t,e,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new KZ(n),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let n;if(null!==i&&(n=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;wP(s[rn],s,n,t,e),this.previousInputValues.set(t,e),WM(Wl(this._tNode.index,s))}}get injector(){return new xl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hJ(){const r=Ja();xm(yi()[rn],r)}function En(r){let t=function a3(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),e=!0;const i=[r];for(;t;){let n;if(Sc(r))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ei(903,!1);n=t.\u0275dir}if(n){if(e){i.push(n);const o=r;o.inputs=uE(r.inputs),o.inputTransforms=uE(r.inputTransforms),o.declaredInputs=uE(r.declaredInputs),o.outputs=uE(r.outputs);const a=n.hostBindings;a&&pJ(r,a);const l=n.viewQuery,h=n.contentQueries;if(l&&uJ(r,l),h&&dJ(r,h),af(r.inputs,n.inputs),af(r.declaredInputs,n.declaredInputs),af(r.outputs,n.outputs),null!==n.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),af(o.inputTransforms,n.inputTransforms)),Sc(n)&&n.data.animation){const c=r.data;c.animation=(c.animation||[]).concat(n.data.animation)}}const s=n.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(r),a===En&&(e=!1)}}t=Object.getPrototypeOf(t)}!function cJ(r){let t=0,e=null;for(let i=r.length-1;i>=0;i--){const n=r[i];n.hostVars=t+=n.hostVars,n.hostAttrs=fg(n.hostAttrs,e=fg(e,n.hostAttrs))}}(i)}function uE(r){return r===Xc?{}:r===hs?[]:r}function uJ(r,t){const e=r.viewQuery;r.viewQuery=e?(i,n)=>{t(i,n),e(i,n)}:t}function dJ(r,t){const e=r.contentQueries;r.contentQueries=e?(i,n,s)=>{t(i,n,s),e(i,n,s)}:t}function pJ(r,t){const e=r.hostBindings;r.hostBindings=e?(i,n)=>{t(i,n),e(i,n)}:t}function dE(r){return!!function MP(r){return null!==r&&("function"==typeof r||"object"==typeof r)}(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Kh(r,t,e){return!Object.is(r[t],e)&&(r[t]=e,!0)}function ru(r,t,e,i){const n=yi();return Kh(n,yf(),t)&&(Zr(),Ef(mo(),n,r,t,e,i)),ru}function Ai(r,t,e,i,n,s,o,a){const l=yi(),h=Zr(),c=r+br,u=h.firstCreatePass?function BJ(r,t,e,i,n,s,o,a,l){const h=t.consts,c=CS(t,r,4,o||null,Pu(h,a));yP(t,e,c,Pu(h,l)),xm(t,c);const u=c.tView=mP(2,c,i,n,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return null!==t.queries&&(t.queries.template(t,c),u.queries=t.queries.embeddedTView(c)),c}(c,h,l,t,e,i,n,s,o):h.data[c];$h(u,!1);const d=M3(h,l,u,r);dp()&&iS(h,l,d,u),Yl(d,l),lE(l,l[c]=XF(d,l,d,u)),sm(u)&&gP(h,l,u),null!=o&&vP(l,u,a)}let M3=function x3(r,t,e,i){return Ru(!0),t[fr].createComment("")};function OP(r){return Nu(function zI(){return rr.lFrame.contextLView}(),br+r)}function He(r,t,e){const i=yi();return Kh(i,yf(),t)&&Hu(Zr(),mo(),i,r,t,i[fr],e,!1),He}function LP(r,t,e,i,n){const o=n?"class":"style";wP(r,e,t.inputs[o],o,i)}function nt(r,t,e,i){const n=yi(),s=Zr(),o=br+r,a=n[fr],l=s.firstCreatePass?function UJ(r,t,e,i,n,s){const o=t.consts,l=CS(t,r,2,i,Pu(o,n));return yP(t,e,l,Pu(o,s)),null!==l.attrs&&hE(l,l.attrs,!1),null!==l.mergedAttrs&&hE(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,n,t,e,i):s.data[o],h=D3(s,n,l,a,t,r);n[o]=h;const c=sm(l);return $h(l,!0),_T(a,h,l),32!=(32&l.flags)&&dp()&&iS(s,n,h,l),0===function OC(){return rr.lFrame.elementDepthCount}()&&Yl(h,n),function _I(){rr.lFrame.elementDepthCount++}(),c&&(gP(s,n,l),fP(s,l,n)),null!==i&&vP(n,l),nt}function pt(){let r=Ja();Mg()?eu():(r=r.parent,$h(r,!1));const t=r;(function bm(r){return rr.skipHydrationRootTNode===r})(t)&&function kh(){rr.skipHydrationRootTNode=null}(),function RI(){rr.lFrame.elementDepthCount--}();const e=Zr();return e.firstCreatePass&&(xm(e,r),oh(r)&&e.queries.elementEnd(r)),null!=t.classesWithoutHost&&function Em(r){return 0!=(8&r.flags)}(t)&&LP(e,t,yi(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Lg(r){return 0!=(16&r.flags)}(t)&&LP(e,t,yi(),t.stylesWithoutHost,!1),pt}function jt(r,t,e,i){return nt(r,t,e,i),pt(),jt}let D3=(r,t,e,i,n,s)=>(Ru(!0),KC(i,n,function A0(){return rr.lFrame.currentNamespace}()));function Ss(r,t,e){const i=yi(),n=Zr(),s=r+br,o=n.firstCreatePass?function YJ(r,t,e,i,n){const s=t.consts,o=Pu(s,i),a=CS(t,r,8,"ng-container",o);return null!==o&&hE(a,o,!0),yP(t,e,a,Pu(s,n)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,n,i,t,e):n.data[s];$h(o,!0);const a=T3(n,i,o,r);return i[s]=a,dp()&&iS(n,i,a,o),Yl(a,i),sm(o)&&(gP(n,i,o),fP(n,o,i)),null!=e&&vP(i,o),Ss}function ws(){let r=Ja();const t=Zr();return Mg()?eu():(r=r.parent,$h(r,!1)),t.firstCreatePass&&(xm(t,r),oh(r)&&t.queries.elementEnd(r)),ws}function mE(r,t,e){return Ss(r,t,e),ws(),mE}let T3=(r,t,e,i)=>(Ru(!0),pM(t[fr],""));function zs(){return yi()}function KM(r){return!!r&&"function"==typeof r.then}function E3(r){return!!r&&"function"==typeof r.subscribe}function Zn(r,t,e,i){const n=yi(),s=Zr(),o=Ja();return function O3(r,t,e,i,n,s,o){const a=sm(i),h=r.firstCreatePass&&qF(r),c=t[go],u=$F(t);let d=!0;if(3&i.type||o){const m=wl(i,t),M=o?o(m):m,T=u.length,P=o?Y=>o(vo(Y[i.index])):i.index;let U=null;if(!o&&a&&(U=function QJ(r,t,e,i){const n=r.cleanup;if(null!=n)for(let s=0;s<n.length-1;s+=2){const o=n[s];if(o===e&&n[s+1]===i){const a=t[ad],l=n[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(r,t,n,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,d=!1;else{s=k3(i,t,c,s,!1);const Y=e.listen(M,n,s);u.push(s,Y),h&&h.push(n,P,T,T+1)}}else s=k3(i,t,c,s,!1);const p=i.outputs;let f;if(d&&null!==p&&(f=p[n])){const m=f.length;if(m)for(let M=0;M<m;M+=2){const X=t[f[M]][f[M+1]].subscribe(s),Q=u.length;u.push(s,X),h&&h.push(n,i.index,Q,-(Q+1))}}}(s,n,n[fr],o,r,t,i),Zn}function L3(r,t,e,i){try{return Kc(6,t,e),!1!==e(i)}catch(n){return JF(r,n),!1}finally{Kc(7,t,e)}}function k3(r,t,e,i,n){return function s(o){if(o===Function)return i;WM(r.componentOffset>-1?Wl(r.index,t):t);let l=L3(t,e,i,o),h=s.__ngNextListenerFn__;for(;h;)l=L3(t,e,h,o)&&l,h=h.__ngNextListenerFn__;return n&&!1===l&&o.preventDefault(),l}}function an(r=1){return function Dg(r){return(rr.lFrame.contextLView=function jI(r,t){for(;r>0;)t=t[Tu],r--;return t}(r,rr.lFrame.contextLView))[go]}(r)}function $J(r,t){let e=null;const i=function Ma(r){const t=r.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(r);for(let n=0;n<t.length;n++){const s=t[n];if("*"!==s){if(null===i?Cs(r,s,!0):SI(i,s))return n}else e=n}return e}function e1(r){const t=yi()[pa][Ra];if(!t.projection){const i=t.projection=J(r?r.length:1,null),n=i.slice();let s=t.child;for(;null!==s;){const o=r?$J(s,r):0;null!==o&&(n[o]?n[o].projectionNext=s:i[o]=s,n[o]=s),s=s.next}}}function t1(r,t=0,e){const i=yi(),n=Zr(),s=CS(n,br+r,16,null,e||null);null===s.projection&&(s.projection=t),eu(),(!i[Ah]||vf())&&32!=(32&s.flags)&&function SN(r,t,e){yM(t[fr],0,t,e,fM(r,e,t),j0(e.parent||t[Ra],e,t))}(n,i,s)}function yE(r,t){return r<<17|t<<2}function Km(r){return r>>17&32767}function NP(r){return 2|r}function Z0(r){return(131068&r)>>2}function PP(r,t){return-131069&r|t<<2}function _P(r){return 1|r}function U3(r,t,e,i,n){const s=r[e+1],o=null===t;let a=i?Km(s):Z0(s),l=!1;for(;0!==a&&(!1===l||o);){const c=r[a+1];tK(r[a],t)&&(l=!0,r[a+1]=i?_P(c):NP(c)),a=i?Km(c):Z0(c)}l&&(r[e+1]=i?NP(s):_P(s))}function tK(r,t){return null===r||null==t||(Array.isArray(r)?r[1]:r)===t||!(!Array.isArray(r)||"string"!=typeof t)&&kt(r,t)>=0}const Xl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function V3(r){return r.substring(Xl.key,Xl.keyEnd)}function W3(r,t){const e=Xl.textEnd;return e===t?-1:(t=Xl.keyEnd=function sK(r,t,e){for(;t<e&&r.charCodeAt(t)>32;)t++;return t}(r,Xl.key=t,e),OS(r,t,e))}function OS(r,t,e){for(;t<e&&r.charCodeAt(t)<=32;)t++;return t}function LS(r,t,e){return function wp(r,t,e,i){const n=yi(),s=Zr(),o=_u(2);s.firstUpdatePass&&q3(s,r,o,i),t!==Ar&&Kh(n,o,t)&&J3(s,s.data[hl()],n,n[fr],r,n[o+1]=function vK(r,t){return null==r||""===r||("string"==typeof t?r+=t:"object"==typeof r&&(r=ua(kc(r)))),r}(t,e),i,o)}(r,t,e,!1),LS}function Jg(r){!function Ip(r,t,e,i){const n=Zr(),s=_u(2);n.firstUpdatePass&&q3(n,null,s,i);const o=yi();if(e!==Ar&&Kh(o,s,e)){const a=n.data[hl()];if(ej(a,i)&&!$3(n,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=id(l,e||"")),LP(n,a,o,e,i)}else!function gK(r,t,e,i,n,s,o,a){n===Ar&&(n=hs);let l=0,h=0,c=0<n.length?n[0]:null,u=0<s.length?s[0]:null;for(;null!==c||null!==u;){const d=l<n.length?n[l+1]:void 0,p=h<s.length?s[h+1]:void 0;let m,f=null;c===u?(l+=2,h+=2,d!==p&&(f=u,m=p)):null===u||null!==c&&c<u?(l+=2,f=c):(h+=2,f=u,m=p),null!==f&&J3(r,t,e,i,f,m,o,a),c=l<n.length?n[l]:null,u=h<s.length?s[h]:null}}(n,a,o,o[fr],o[s+1],o[s+1]=function pK(r,t,e){if(null==e||""===e)return hs;const i=[],n=kc(e);if(Array.isArray(n))for(let s=0;s<n.length;s++)r(i,n[s],!0);else if("object"==typeof n)for(const s in n)n.hasOwnProperty(s)&&r(i,s,n[s]);else"string"==typeof n&&t(i,n);return i}(r,t,e),i,s)}}(fK,Lf,r,!0)}function Lf(r,t){for(let e=function nK(r){return function G3(r){Xl.key=0,Xl.keyEnd=0,Xl.value=0,Xl.valueEnd=0,Xl.textEnd=r.length}(r),W3(r,OS(r,0,Xl.textEnd))}(t);e>=0;e=W3(t,e))lt(r,V3(t),!0)}function $3(r,t){return t>=r.expandoStartIndex}function q3(r,t,e,i){const n=r.data;if(null===n[e+1]){const s=n[hl()],o=$3(r,e);ej(s,i)&&null===t&&!o&&(t=!1),t=function hK(r,t,e,i){const n=Ml(r);let s=i?t.residualClasses:t.residualStyles;if(null===n)0===(i?t.classBindings:t.styleBindings)&&(e=i1(e=RP(null,r,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||r[o]!==n)if(e=RP(n,r,t,e,i),null===s){let l=function cK(r,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Z0(i))return r[Km(i)]}(r,t,i);void 0!==l&&Array.isArray(l)&&(l=RP(null,r,t,l[1],i),l=i1(l,t.attrs,i),function uK(r,t,e,i){r[Km(e?t.classBindings:t.styleBindings)]=i}(r,t,i,l))}else s=function dK(r,t,e){let i;const n=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<n;s++)i=i1(i,r[s].hostAttrs,e);return i1(i,t.attrs,e)}(r,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(n,s,t,i),function KJ(r,t,e,i,n,s){let o=s?t.classBindings:t.styleBindings,a=Km(o),l=Z0(o);r[i]=e;let c,h=!1;if(Array.isArray(e)?(c=e[1],(null===c||kt(e,c)>0)&&(h=!0)):c=e,n)if(0!==l){const d=Km(r[a+1]);r[i+1]=yE(d,a),0!==d&&(r[d+1]=PP(r[d+1],i)),r[a+1]=function ZJ(r,t){return 131071&r|t<<17}(r[a+1],i)}else r[i+1]=yE(a,0),0!==a&&(r[a+1]=PP(r[a+1],i)),a=i;else r[i+1]=yE(l,0),0===a?a=i:r[l+1]=PP(r[l+1],i),l=i;h&&(r[i+1]=NP(r[i+1])),U3(r,c,i,!0),U3(r,c,i,!1),function eK(r,t,e,i,n){const s=n?r.residualClasses:r.residualStyles;null!=s&&"string"==typeof t&&kt(s,t)>=0&&(e[i+1]=_P(e[i+1]))}(t,c,r,i,s),o=yE(a,l),s?t.classBindings=o:t.styleBindings=o}(n,s,t,e,o,i)}}function RP(r,t,e,i,n){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=i1(i,s.hostAttrs,n),s!==r);)a++;return null!==r&&(e.directiveStylingLast=a),i}function i1(r,t,e){const i=e?1:2;let n=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?n=o:n===i&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),lt(r,o,!!e||t[++s]))}return void 0===r?null:r}function fK(r,t,e){const i=String(t);""!==i&&!i.includes(" ")&&lt(r,i,e)}function J3(r,t,e,i,n,s,o,a){if(!(3&t.type))return;const l=r.data,h=l[a+1],c=function JJ(r){return 1==(1&r)}(h)?K3(l,t,e,n,Z0(h),o):void 0;CE(c)||(CE(s)||function qJ(r){return 2==(2&r)}(h)&&(s=K3(l,null,e,n,a,o)),function Lc(r,t,e,i,n){if(t)n?r.addClass(e,i):r.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:xf.DashCase;null==n?r.removeStyle(e,i,s):("string"==typeof n&&n.endsWith("!important")&&(n=n.slice(0,-10),s|=xf.Important),r.setStyle(e,i,n,s))}}(i,o,hp(hl(),e),n,s))}function K3(r,t,e,i,n,s){const o=null===t;let a;for(;n>0;){const l=r[n],h=Array.isArray(l),c=h?l[1]:l,u=null===c;let d=e[n+1];d===Ar&&(d=u?hs:void 0);let p=u?vt(d,i):c===i?d:void 0;if(h&&!CE(p)&&(p=vt(l,i)),CE(p)&&(a=p,o))return a;const f=r[n+1];n=o?Km(f):Z0(f)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=vt(l,i))}return a}function CE(r){return void 0!==r}function ej(r,t){return 0!=(r.flags&(t?8:16))}function ta(r,t=""){const e=yi(),i=Zr(),n=r+br,s=i.firstCreatePass?CS(i,n,1,t,null):i.data[n],o=tj(i,e,s,t,r);e[n]=o,dp()&&iS(i,e,o,s),$h(s,!1)}let tj=(r,t,e,i,n)=>(Ru(!0),function JC(r,t){return r.createText(t)}(t[fr],i));function kS(r){return _c("",r,""),kS}function _c(r,t,e){const i=yi(),n=function wS(r,t,e,i){return Kh(r,yf(),e)?t+ur(e)+i:Ar}(i,r,t,e);return n!==Ar&&function Zg(r,t,e){const i=hp(t,r);!function TT(r,t,e){r.setValue(t,e)}(r[fr],i,e)}(i,hl(),n),_c}function zP(r,t,e){const i=yi();if(Kh(i,yf(),t)){const s=Zr(),o=mo();Hu(s,o,i,r,t,ZF(Ml(s.data),o,i),e,!0)}return zP}const PS="en-US";let wj=PS;function jP(r,t,e,i,n){if(r=Gn(r),Array.isArray(r))for(let s=0;s<r.length;s++)jP(r[s],t,e,i,n);else{const s=Zr(),o=yi(),a=Ja();let l=Tf(r)?r:Gn(r.provide);const h=JT(r),c=1048575&a.providerIndexes,u=a.directiveStart,d=a.providerIndexes>>20;if(Tf(r)||!r.multi){const p=new Ag(h,n,zt),f=UP(l,t,n?c:c+d,u);-1===f?(Lm(Ng(a,o),s,l),HP(s,r,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,n&&(a.providerIndexes+=1048576),e.push(p),o.push(p)):(e[f]=p,o[f]=p)}else{const p=UP(l,t,c+d,u),f=UP(l,t,c,c+d),M=f>=0&&e[f];if(n&&!M||!n&&!(p>=0&&e[p])){Lm(Ng(a,o),s,l);const T=function zee(r,t,e,i,n){const s=new Ag(r,e,zt);return s.multi=[],s.index=t,s.componentProviders=0,Xj(s,n,i&&!e),s}(n?Ree:_ee,e.length,n,i,h);!n&&M&&(e[f].providerFactory=T),HP(s,r,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,n&&(a.providerIndexes+=1048576),e.push(T),o.push(T)}else HP(s,r,p>-1?p:f,Xj(e[n?f:p],h,!n&&i));!n&&i&&M&&e[f].componentProviders++}}}function HP(r,t,e,i){const n=Tf(t),s=function ZT(r){return!!r.useClass}(t);if(n||s){const l=(s?Gn(t.useClass):t).prototype.ngOnDestroy;if(l){const h=r.destroyHooks||(r.destroyHooks=[]);if(!n&&t.multi){const c=h.indexOf(e);-1===c?h.push(e,[i,l]):h[c+1].push(i,l)}else h.push(e,l)}}}function Xj(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function UP(r,t,e,i){for(let n=e;n<i;n++)if(t[n]===r)return n;return-1}function _ee(r,t,e,i){return VP(this.multi,[])}function Ree(r,t,e,i){const n=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=wf(e,e[rn],this.providerFactory.index,i);s=a.slice(0,o),VP(n,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],VP(n,s);return s}function VP(r,t){for(let e=0;e<r.length;e++)t.push((0,r[e])());return t}function Uo(r,t=[]){return e=>{e.providersResolver=(i,n)=>function Pee(r,t,e){const i=Zr();if(i.firstCreatePass){const n=Sc(r);jP(e,i.data,i.blueprint,n,!0),jP(t,i.data,i.blueprint,n,!1)}}(i,n?n(r):r,t)}}class K0{}class Qj{}class WP extends K0{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s3(this);const n=sl(t);this._bootstrapComponents=qg(n.bootstrap),this._r3Injector=yF(t,e,[{provide:K0,useValue:this},{provide:Er,useValue:this.componentFactoryResolver},...i],ua(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class YP extends Qj{constructor(t){super(),this.moduleType=t}create(t){return new WP(this.moduleType,t,[])}}class $j extends K0{constructor(t){super(),this.componentFactoryResolver=new s3(this),this.instance=null;const e=new pS([...t.providers,{provide:K0,useValue:this},{provide:Er,useValue:this.componentFactoryResolver}],t.parent||dS(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function GP(r,t,e=null){return new $j({providers:r,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let jee=(()=>{class r{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=QT(0,e.type),n=i.length>0?GP([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,n)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pn({token:r,providedIn:"environment",factory:()=>new r(vn(nu))})}return r})();function ec(r){r.getStandaloneInjector=t=>t.get(jee).getOrCreateStandaloneInjector(r)}function iH(r,t,e,i,n,s){const o=t+e;return Kh(r,o,n)?function Af(r,t,e){return r[t]=e}(r,o+1,s?i.call(s,n):i(n)):function l1(r,t){const e=r[t];return e===Ar?void 0:e}(r,o+1)}function Nh(r,t){const e=Zr();let i;const n=r+br;e.firstCreatePass?(i=function ste(r,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(r===i.name)return i}}(t,e.pipeRegistry),e.data[n]=i,i.onDestroy&&(e.destroyHooks??=[]).push(n,i.onDestroy)):i=e.data[n];const s=i.factory||(i.factory=np(i.type)),a=Wi(zt);try{const l=xa(!1),h=s();return xa(l),function HJ(r,t,e,i){e>=r.data.length&&(r.data[e]=null,r.blueprint[e]=null),t[e]=i}(e,yi(),n,h),h}finally{Wi(a)}}function Ph(r,t,e){const i=r+br,n=yi(),s=Nu(n,i);return function h1(r,t){return r[rn].data[t].pure}(n,i)?iH(n,function Il(){const r=rr.lFrame;let t=r.bindingRootIndex;return-1===t&&(t=r.bindingRootIndex=r.tView.bindingStartIndex),t}(),t,s.transform,e,s):s.transform(e)}function cte(){return this._results[Symbol.iterator]()}class QP{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new No)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=QP.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=cte)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const n=function D(r){return r.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function w(r,t,e){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++){let n=r[i],s=t[i];if(e&&(n=e(n),s=e(s)),s!==n)return!1}return!0}(i._results,n,e))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dte(r,t,e,i=!0){const n=t[rn];if(function bN(r,t,e,i){const n=fa+i,s=e.length;i>0&&(e[n-1][Ul]=t),i<s-fa?(t[Ul]=e[n],A(e,fa+i,t)):(e.push(t),t[Ul]=null),t[qs]=e;const o=t[al];null!==o&&e!==o&&function Vg(r,t){const e=r[Cc];t[pa]!==t[qs][qs][pa]&&(r[mC]=!0),null===e?r[Cc]=[t]:e.push(t)}(o,t);const a=t[Xh];null!==a&&a.insertView(r),t[mr]|=128}(n,t,r,e),i){const s=vM(e,r),o=t[fr],a=iu(o,r[qc]);null!==a&&function mN(r,t,e,i,n,s){i[$s]=n,i[Ra]=t,Gg(r,i,e,1,n,s)}(n,r[Ra],o,t,a,s)}}let Kg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=gte}return r})();const pte=Kg,fte=class extends pte{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const n=function ute(r,t,e,i){const n=t.tView,a=aE(r,n,e,4096&r[mr]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[al]=r[t.index];const h=r[Xh];return null!==h&&(a[Xh]=h.createEmbeddedView(n)),IP(n,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new XM(n)}};function gte(){return xE(Ja(),yi())}function xE(r,t){return 4&r.type?new fte(t,r,El(r,t)):null}let Is=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Ste}return r})();function Ste(){return pH(Ja(),yi())}const wte=Is,uH=class extends wte{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new xl(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ka(this._hostTNode,this._hostLView);if(Am(t)){const e=Sf(t,this._hostLView),i=Dc(t);return new xl(e[rn].data[i+8],e)}return new xl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=dH(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-fa}createEmbeddedView(t,e,i){let n,s;"number"==typeof i?n=i:null!=i&&(n=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,n,false),a}createComponent(t,e,i,n,s){const o=t&&!function R(r){return"function"==typeof r}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,n=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new QM(Vr(t)),h=i||this.parentInjector;if(!s&&null==l.ngModule){const M=(o?h:this.parentInjector).get(nu,null);M&&(s=M)}Vr(l.componentType??{});const p=l.create(h,n,null,s);return this.insertImpl(p.hostView,a,false),p}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const n=t._lView;if(function DC(r){return Za(r[qs])}(n)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const h=n[qs],c=new uH(h,h[Ra],h[qs]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return dte(a,n,o,!i),t.attachToViewContainerRef(),A($P(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=dH(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=eS(this._lContainer,e);i&&(G($P(this._lContainer),e),ch(i[rn],i))}detach(t){const e=this._adjustIndex(t,-1),i=eS(this._lContainer,e);return i&&null!=G($P(this._lContainer),e)?new XM(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function dH(r){return r[8]}function $P(r){return r[8]||(r[8]=[])}function pH(r,t){let e;const i=t[r.index];return Za(i)?e=i:(e=XF(i,t,null,r),t[r.index]=e,lE(t,e)),fH(e,t,r,i),new uH(e,r,t)}let fH=function gH(r,t,e,i){if(r[qc])return;let n;n=8&e.type?vo(i):function Ite(r,t){const e=r[fr],i=e.createComment(""),n=wl(t,r);return Wg(e,iu(e,n),i,function LT(r,t){return r.nextSibling(t)}(e,n),!1),i}(t,e),r[qc]=n};class qP{constructor(t){this.queryList=t,this.matches=null}clone(){return new qP(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZP{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);n.push(this.queries[o.indexInDeclarationView].clone())}return new ZP(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==CH(t,e).matches&&this.queries[e].setDirty()}}class vH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class JP{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,n);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new JP(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class KP{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new KP(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const s=i[n];this.matchTNodeWithReadOption(t,e,Dte(e,s)),this.matchTNodeWithReadOption(t,e,Pg(e,t,s,!1,!1))}else i===Kg?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pg(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===rs||n===Is||n===Kg&&4&e.type)this.addMatch(e.index,-2);else{const s=Pg(e,t,n,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Dte(r,t){const e=r.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Ete(r,t,e,i){return-1===e?function Tte(r,t){return 11&r.type?El(r,t):4&r.type?xE(r,t):null}(t,r):-2===e?function Ate(r,t,e){return e===rs?El(t,r):e===Kg?xE(t,r):e===Is?pH(t,r):void 0}(r,t,i):wf(r,r[rn],e,t)}function mH(r,t,e,i){const n=t[Xh].queries[i];if(null===n.matches){const s=r.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:Ete(t,s[h],o[l+1],e.metadata.read))}n.matches=a}return n.matches}function e2(r,t,e,i){const n=r.queries.getByIndex(e),s=n.matches;if(null!==s){const o=mH(r,t,n,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const h=s[a+1],c=t[-l];for(let u=fa;u<c.length;u++){const d=c[u];d[al]===d[qs]&&e2(d[rn],d,h,i)}if(null!==c[Cc]){const u=c[Cc];for(let d=0;d<u.length;d++){const p=u[d];e2(p[rn],p,h,i)}}}}}return i}function wr(r){const t=yi(),e=Zr(),i=Mc();M0(i+1);const n=CH(e,i);if(r.dirty&&function xC(r){return 4==(4&r[mr])}(t)===(2==(2&n.metadata.flags))){if(null===n.matches)r.reset([]);else{const s=n.crossesNgTemplate?e2(e,t,i,[]):mH(e,t,n,i);r.reset(s,Pc),r.notifyOnChanges()}return!0}return!1}function _S(r,t,e){const i=Zr();i.firstCreatePass&&(bH(i,new vH(r,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),yH(i,yi(),t)}function Gr(r,t,e,i){const n=Zr();if(n.firstCreatePass){const s=Ja();bH(n,new vH(t,e,i),s.index),function Lte(r,t){const e=r.contentQueries||(r.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(r.queries.length-1,t)}(n,r),2==(2&e)&&(n.staticContentQueries=!0)}yH(n,yi(),e)}function Ir(){return function Ote(r,t){return r[Xh].queries[t].queryList}(yi(),Mc())}function yH(r,t,e){const i=new QP(4==(4&e));(function EZ(r,t,e,i){const n=$F(t);n.push(e),r.firstCreatePass&&qF(r).push(i,n.length-1)})(r,t,i,i.destroy),null===t[Xh]&&(t[Xh]=new ZP),t[Xh].queries.push(new qP(i))}function bH(r,t,e){null===r.queries&&(r.queries=new JP),r.queries.track(new KP(t,e))}function CH(r,t){return r.queries.getByIndex(t)}function eb(r,t){return xE(r,t)}const o2=new _n("Application Initializer");let a2=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=cn(o2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const n of this.appInits){const s=n();if(KM(s))e.push(s);else if(E3(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(n=>{this.reject(n)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),zH=(()=>{class r{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const ev=new _n("LocaleId",{providedIn:"root",factory:()=>cn(ev,yn.Optional|yn.SkipSelf)||function Jte(){return typeof $localize<"u"&&$localize.locale||PS}()});let BH=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ho(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class tie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let FH=(()=>{class r{compileModuleSync(e){return new YP(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=qg(sl(e).declarations).reduce((o,a)=>{const l=Vr(a);return l&&o.push(new QM(l)),o},[]);return new tie(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const VH=new _n(""),AE=new _n("");let d2,c2=(()=>{class r{constructor(e,i,n){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d2||(function Sie(r){d2=r}(n),n.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,n){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:n})}whenStable(e,i,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,n){return[]}static#e=this.\u0275fac=function(i){return new(i||r)(vn(Po),vn(u2),vn(AE))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})(),u2=(()=>{class r{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return d2?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),ey=null;const WH=new _n("AllowMultipleToken"),p2=new _n("PlatformDestroyListeners"),f2=new _n("appBootstrapListener");class GH{constructor(t,e){this.name=t,this.token=e}}function QH(r,t,e=[]){const i=`Platform: ${t}`,n=new _n(i);return(s=[])=>{let o=g2();if(!o||o.injector.get(WH,!1)){const a=[...e,...s,{provide:n,useValue:!0}];r?r(a):function Mie(r){if(ey&&!ey.get(WH,!1))throw new Ei(400,!1);(function YH(){!function ap(r){Cg=r}(()=>{throw new Ei(600,!1)})})(),ey=r;const t=r.get(qH);(function XH(r){r.get(KT,null)?.forEach(e=>e())})(r)}(function $H(r=[],t){return ma.create({name:t,providers:[{provide:kM,useValue:"platform"},{provide:p2,useValue:new Set([()=>ey=null])},...r]})}(a,i))}return function Die(r){const t=g2();if(!t)throw new Ei(401,!1);return t}()}}function g2(){return ey?.get(qH)??null}let qH=(()=>{class r{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const n=function Tie(r="zone.js",t){return"noop"===r?new cZ:"zone.js"===r?new Po(t):r}(i?.ngZone,function ZH(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return n.run(()=>{const s=function Fee(r,t,e){return new WP(r,t,e)}(e.moduleType,this.injector,function iU(r){return[{provide:Po,useFactory:r},{provide:Y0,multi:!0,useFactory:()=>{const t=cn(Aie,{optional:!0});return()=>t.initialize()}},{provide:tU,useFactory:Eie},{provide:IF,useFactory:MF}]}(()=>n)),o=s.injector.get($g,null);return n.runOutsideAngular(()=>{const a=n.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{OE(this._modules,s),a.unsubscribe()})}),function JH(r,t,e){try{const i=e();return KM(i)?i.catch(n=>{throw t.runOutsideAngular(()=>r.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>r.handleError(i)),i}}(o,n,()=>{const a=s.injector.get(a2);return a.runInitializers(),a.donePromise.then(()=>(function Ij(r){Wh(r,"Expected localeId to be defined"),"string"==typeof r&&(wj=r.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ev,PS)||PS),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const n=KH({},i);return function wie(r,t,e){const i=new YP(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,n))}_moduleDoBootstrap(e){const i=e.injector.get(ty);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>i.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new Ei(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ei(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(p2,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||r)(vn(ma))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function KH(r,t){return Array.isArray(t)?t.reduce(KH,r):{...r,...t}}let ty=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cn(tU),this.zoneIsStable=cn(IF),this.componentTypes=[],this.components=[],this.isStable=cn(BH).hasPendingTasks.pipe(yl(e=>e?nr(!1):this.zoneIsStable),Th(),qd()),this._injector=cn(nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const n=e instanceof un;if(!this._injector.get(a2).done)throw!n&&function od(r){const t=Vr(r)||Oo(r)||qa(r);return null!==t&&t.standalone}(e),new Ei(405,!1);let o;o=n?e:this._injector.get(Er).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Iie(r){return r.isBoundToModule}(o)?void 0:this._injector.get(K0),h=o.create(ma.NULL,[],i||o.selector,a),c=h.location.nativeElement,u=h.injector.get(VH,null);return u?.registerApplication(c),h.onDestroy(()=>{this.detachView(h.hostView),OE(this.components,h),u?.unregisterApplication(c)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Ei(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;OE(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(f2,[]);i.push(...this._bootstrapListeners),i.forEach(n=>n(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>OE(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ei(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function OE(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const tU=new _n("",{providedIn:"root",factory:()=>cn($g).handleError.bind(void 0)});function Eie(){const r=cn(Po),t=cn($g);return e=>r.runOutsideAngular(()=>t.handleError(e))}let Aie=(()=>{class r{constructor(){this.zone=cn(Po),this.applicationRef=cn(ty)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let tb=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Lie}return r})();function Lie(r){return function kie(r,t,e){if(Cr(r)&&!e){const i=Wl(r.index,t);return new XM(i,i)}return 47&r.type?new XM(t[pa],t):null}(Ja(),yi(),16==(16&r))}class oU{constructor(){}supports(t){return dE(t)}create(t){return new Bie(t)}}const zie=(r,t)=>t;class Bie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<lU(i,n,s)?e:i,a=lU(o,n,s),l=o.currentIndex;if(o===i)n--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)n++;else{s||(s=[]);const h=a-n,c=l-n;if(h!=c){for(let d=0;d<h;d++){const p=d<s.length?s[d]:s[d]=0,f=p+d;c<=f&&f<h&&(s[d]=p+1)}s[o.previousIndex]=c-h}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!dE(t))throw new Ei(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else n=0,function CJ(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{const e=r[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(n,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,n)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,n),i=!0),e=e._next,n++}),this.length=n;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,n)):t=this._addAfter(new Fie(e,i),s,n),t}_verifyReinsertion(t,e,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,s=t._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new aU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class aU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new jie,this.map.set(e,i)),i.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lU(r,t,e){const i=r.previousIndex;if(null===i)return i;let n=0;return e&&i<e.length&&(n=e[i]),i+t+n}function cU(){return new NE([new oU])}let NE=(()=>{class r{static#e=this.\u0275prov=Pn({token:r,providedIn:"root",factory:cU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const n=i.factories.slice();e=e.concat(n)}return new r(e)}static extend(e){return{provide:r,useFactory:i=>r.create(e,i||cU()),deps:[[r,new Ac,new So]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(null!=i)return i;throw new Ei(901,!1)}}return r})();const Yie=QH(null,"core",[]);let Gie=(()=>{class r{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||r)(vn(ty))};static#t=this.\u0275mod=da({type:r});static#i=this.\u0275inj=Ko({})}return r})(),S2=null;function iy(){return S2}class one{}const tc=new _n("DocumentToken");let w2=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return cn(lne)},providedIn:"platform"})}return r})();const ane=new _n("Location Initialized");let lne=(()=>{class r extends w2{constructor(){super(),this._doc=cn(tc),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return iy().getBaseHref(this._doc)}onPopState(e){const i=iy().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=iy().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,n){this._history.pushState(e,i,n)}replaceState(e,i,n){this._history.replaceState(e,i,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return new r},providedIn:"platform"})}return r})();function I2(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function CU(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function tv(r){return r&&"?"!==r[0]?"?"+r:r}let nb=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return cn(wU)},providedIn:"root"})}return r})();const SU=new _n("appBaseHref");let wU=(()=>{class r extends nb{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??cn(tc).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return I2(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+tv(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${i}${n}`:i}pushState(e,i,n,s){const o=this.prepareExternalUrl(n+tv(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,n,s){const o=this.prepareExternalUrl(n+tv(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(w2),vn(SU,8))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hne=(()=>{class r extends nb{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=I2(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,n,s){let o=this.prepareExternalUrl(n+tv(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,n,s){let o=this.prepareExternalUrl(n+tv(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(w2),vn(SU,8))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})(),M2=(()=>{class r{constructor(e){this._subject=new No,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function dne(r){if(new RegExp("^(https?:)?//").test(r)){const[,e]=r.split(/\/\/[^\/]+/);return e}return r}(CU(IU(i))),this._locationStrategy.onPopState(n=>{this._subject.emit({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+tv(i))}normalize(e){return r.stripTrailingSlash(function une(r,t){if(!r||!t.startsWith(r))return t;const e=t.substring(r.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,IU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",n=null){this._locationStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tv(i)),n)}replaceState(e,i="",n=null){this._locationStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tv(i)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(n=>n(e,i))}subscribe(e,i,n){return this._subject.subscribe({next:e,error:i,complete:n})}static#e=this.normalizeQueryParams=tv;static#t=this.joinWithSlash=I2;static#i=this.stripTrailingSlash=CU;static#n=this.\u0275fac=function(i){return new(i||r)(vn(nb))};static#r=this.\u0275prov=Pn({token:r,factory:function(){return function cne(){return new M2(vn(nb))}()},providedIn:"root"})}return r})();function IU(r){return r.replace(/\/index.html$/,"")}class Kne{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let PU=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,n){this._viewContainer=e,this._template=i,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((n,s,o)=>{if(null==n.previousIndex)i.createEmbeddedView(this._template,new Kne(n.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),_U(a,n)}});for(let n=0,s=i.length;n<s;n++){const a=i.get(n).context;a.index=n,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{_U(i.get(n.currentIndex),n)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Is),zt(Kg),zt(NE))};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return r})();function _U(r,t){r.context.$implicit=t.item}let g1=(()=>{class r{constructor(e,i){this._viewContainer=e,this._context=new ere,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Is),zt(Kg))};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return r})();class ere{constructor(){this.$implicit=null,this.ngIf=null}}function RU(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${ua(t)}'.`)}class _2{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let YE=(()=>{class r{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return r})(),zU=(()=>{class r{constructor(e,i,n){this.ngSwitch=n,n._addCase(),this._view=new _2(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Is),zt(Kg),zt(YE,9))};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return r})(),BU=(()=>{class r{constructor(e,i,n){n._addDefault(new _2(e,i))}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Is),zt(Kg),zt(YE,9))};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return r})(),jU=(()=>{class r{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:n,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(n,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Is))};static#t=this.\u0275dir=nn({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ah]})}return r})();class nre{createSubscription(t,e){return m0(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){m0(()=>t.unsubscribe())}}class rre{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const sre=new rre,ore=new nre;let HU=(()=>{class r{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(KM(e))return sre;if(E3(e))return ore;throw function xp(r,t){return new Ei(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||r)(zt(tb,16))};static#t=this.\u0275pipe=sh({name:"async",type:r,pure:!1,standalone:!0})}return r})(),Aa=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=da({type:r});static#i=this.\u0275inj=Ko({})}return r})();function WU(r){return"server"===r}let Tre=(()=>{class r{static#e=this.\u0275prov=Pn({token:r,providedIn:"root",factory:()=>new Ere(vn(tc),window)})}return r})();class Ere{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Are(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const i=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const s=n.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}n=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Kre extends one{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j2 extends Kre{static makeCurrent(){!function sne(r){S2||(S2=r)}(new j2)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ese(){return m1=m1||document.querySelector("base"),m1?m1.getAttribute("href"):null}();return null==e?null:function tse(r){QE=QE||document.createElement("a"),QE.setAttribute("href",r);const t=QE.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){m1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qne(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const i=e.indexOf("="),[n,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let QE,m1=null,nse=(()=>{class r{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();const H2=new _n("EventManagerPlugins");let $U=(()=>{class r{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new Ei(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||r)(vn(H2),vn(Po))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();class qU{constructor(t){this._doc=t}}const U2="ng-app-id";let ZU=(()=>{class r{constructor(e,i,n,s={}){this.doc=e,this.appId=i,this.nonce=n,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WU(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(n=>n.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${U2}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(n=>{null!=n.textContent&&i.set(n.textContent,n)}),i}return null}changeUsageCount(e,i){const n=this.styleRef;if(n.has(e)){const s=n.get(e);return s.usage+=i,s.usage}return n.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const n=this.styleNodesInDOM,s=n?.get(i);if(s?.parentNode===e)return n.delete(i),s.removeAttribute(U2),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(U2,this.appId),o}}addStyleToHost(e,i){const n=this.getStyleElement(e,i);e.appendChild(n);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(n):s.set(i,{elements:[n],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(tc),vn(fS),vn(eE,8),vn(qm))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();const V2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},W2=/%COMP%/g,ase=new _n("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function KU(r,t){return t.map(e=>e.replace(W2,r))}let eV=(()=>{class r{constructor(e,i,n,s,o,a,l,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=WU(a),this.defaultRenderer=new Y2(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bc.ShadowDom&&(i={...i,encapsulation:bc.Emulated});const n=this.getOrCreateRenderer(e,i);return n instanceof iV?n.applyToHost(e):n instanceof G2&&n.applyStyles(),n}getOrCreateRenderer(e,i){const n=this.rendererByCompId;let s=n.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case bc.Emulated:s=new iV(l,h,i,this.appId,c,o,a,u);break;case bc.ShadowDom:return new use(l,h,e,i,o,a,this.nonce,u);default:s=new G2(l,h,i,c,o,a,u)}n.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||r)(vn($U),vn(ZU),vn(fS),vn(ase),vn(tc),vn(qm),vn(Po),vn(eE))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();class Y2{constructor(t,e,i,n){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(V2[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(tV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(tV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new Ei(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const s=V2[n];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=V2[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(xf.DashCase|xf.Important)?t.style.setProperty(e,i,n&xf.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&xf.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=iy().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function tV(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class use extends Y2{constructor(t,e,i,n,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=KU(n.id,n.styles);for(const c of h){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=c,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class G2 extends Y2{constructor(t,e,i,n,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=l?KU(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iV extends G2{constructor(t,e,i,n,s,o,a,l){const h=n+"-"+i.id;super(t,e,i,s,o,a,l,h),this.contentAttr=function lse(r){return"_ngcontent-%COMP%".replace(W2,r)}(h),this.hostAttr=function hse(r){return"_nghost-%COMP%".replace(W2,r)}(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let dse=(()=>{class r extends qU{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(tc))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();const nV=["alt","control","meta","shift"],pse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fse={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let gse=(()=>{class r extends qU{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,i,n){const s=r.parseEventName(i),o=r.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>iy().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=r._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),nV.forEach(h=>{const c=i.indexOf(h);c>-1&&(i.splice(c,1),o+=h+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=n,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let n=pse[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(n=e.code,s="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nV.forEach(o=>{o!==n&&(0,fse[o])(e)&&(s+=o+".")}),s+=n,s===i)}static eventCallback(e,i,n){return s=>{r.matchEventFullKeyCode(s,e)&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||r)(vn(tc))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();const sV=[{provide:qm,useValue:"browser"},{provide:KT,useValue:function vse(){j2.makeCurrent()},multi:!0},{provide:tc,useFactory:function yse(){return function BT(r){Jh=r}(document),document},deps:[]}],bse=QH(Yie,"browser",sV),Cse=new _n(""),oV=[{provide:AE,useClass:class ise{addToWindow(t){fs.getAngularTestability=(i,n=!0)=>{const s=t.findTestabilityInTree(i,n);if(null==s)throw new Ei(5103,!1);return s},fs.getAllAngularTestabilities=()=>t.getAllTestabilities(),fs.getAllAngularRootElements=()=>t.getAllRootElements(),fs.frameworkStabilizers||(fs.frameworkStabilizers=[]),fs.frameworkStabilizers.push(i=>{const n=fs.getAllAngularTestabilities();let s=n.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};n.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?iy().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:VH,useClass:c2,deps:[Po,u2,AE]},{provide:c2,useClass:c2,deps:[Po,u2,AE]}],aV=[{provide:kM,useValue:"root"},{provide:$g,useFactory:function mse(){return new $g},deps:[]},{provide:H2,useClass:dse,multi:!0,deps:[tc,Po,qm]},{provide:H2,useClass:gse,multi:!0,deps:[tc]},eV,ZU,$U,{provide:Ea,useExisting:eV},{provide:class Ore{},useClass:nse,deps:[]},[]];let Sse=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:fS,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||r)(vn(Cse,12))};static#t=this.\u0275mod=da({type:r});static#i=this.\u0275inj=Ko({providers:[...aV,...oV],imports:[Aa,Gie]})}return r})(),lV=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||r)(vn(tc))};static#t=this.\u0275prov=Pn({token:r,factory:function(i){let n=null;return n=i?new i:function Ise(){return new lV(vn(tc))}(),n},providedIn:"root"})}return r})();typeof window<"u"&&window;let uV=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(i){let n=null;return n=i?new(i||r):vn(dV),n},providedIn:"root"})}return r})(),dV=(()=>{class r extends uV{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Nc.NONE:return i;case Nc.HTML:return Sd(i,"HTML")?kc(i):UT(this._doc,String(i)).toString();case Nc.STYLE:return Sd(i,"Style")?kc(i):i;case Nc.SCRIPT:if(Sd(i,"Script"))return kc(i);throw new Ei(5200,!1);case Nc.URL:return Sd(i,"URL")?kc(i):Gl(String(i));case Nc.RESOURCE_URL:if(Sd(i,"ResourceURL"))return kc(i);throw new Ei(5201,!1);default:throw new Ei(5202,!1)}}bypassSecurityTrustHtml(e){return function EN(r){return new wN(r)}(e)}bypassSecurityTrustStyle(e){return function AN(r){return new IN(r)}(e)}bypassSecurityTrustScript(e){return function ON(r){return new MN(r)}(e)}bypassSecurityTrustUrl(e){return function wM(r){return new xN(r)}(e)}bypassSecurityTrustResourceUrl(e){return function LN(r){return new DN(r)}(e)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(tc))};static#t=this.\u0275prov=Pn({token:r,factory:function(i){let n=null;return n=i?new i:function Tse(r){return new dV(r.get(tc))}(vn(ma)),n},providedIn:"root"})}return r})();const{isArray:Ase}=Array,{getPrototypeOf:Ose,prototype:Lse,keys:kse}=Object;const{isArray:Pse}=Array;function Q2(...r){const t=ri(r),e=function li(r){return tt(qe(r))?r.pop():void 0}(r),{args:i,keys:n}=function fV(r){if(1===r.length){const t=r[0];if(Ase(t))return{args:t,keys:null};if(function Nse(r){return r&&"object"==typeof r&&Ose(r)===Lse}(t)){const e=kse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:r,keys:null}}(r);if(0===i.length)return bs([],t);const s=new Ne(function Rse(r,t,e=ue){return i=>{mV(t,()=>{const{length:n}=r,s=new Array(n);let o=n,a=n;for(let l=0;l<n;l++)mV(t,()=>{const h=bs(r[l],t);let c=!1;h.subscribe(Li(i,u=>{s[l]=u,c||(c=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,n?o=>function vV(r,t){return r.reduce((e,i,n)=>(e[i]=t[n],e),{})}(n,o):ue));return e?s.pipe(function gV(r){return ct(t=>function _se(r,t){return Pse(t)?r(...t):r(t)}(r,t))}(e)):s}function mV(r,t,e){r?ih(e,r,t):t()}const $E=me(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function $2(...r){return function zse(){return Vh(1)}()(bs(r,ri(r)))}function yV(r){return new Ne(t=>{no(r()).subscribe(t)})}function y1(r,t){const e=tt(r)?r:()=>r,i=n=>n.error(e());return new Ne(t?n=>t.schedule(i,0,n):i)}function q2(){return Ft((r,t)=>{let e=null;r._refCount++;const i=Li(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const n=r._connection,s=e;e=null,n&&(!s||n===s)&&n.unsubscribe(),t.unsubscribe()});r.subscribe(i),i.closed||(e=r.connect())})}class bV extends Ne{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Gi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ht;const e=this.getSubject();t.add(this.source.subscribe(Li(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ht.EMPTY)}return t}refCount(){return q2()(this)}}function jS(r){return r<=0?()=>$a:Ft((t,e)=>{let i=0;t.subscribe(Li(e,n=>{++i<=r&&(e.next(n),r<=i&&e.complete())}))})}function Dp(r,t){return Ft((e,i)=>{let n=0;e.subscribe(Li(i,s=>r.call(t,s,n++)&&i.next(s)))})}function qE(r){return Ft((t,e)=>{let i=!1;t.subscribe(Li(e,n=>{i=!0,e.next(n)},()=>{i||e.next(r),e.complete()}))})}function CV(r=Fse){return Ft((t,e)=>{let i=!1;t.subscribe(Li(e,n=>{i=!0,e.next(n)},()=>i?e.complete():e.error(r())))})}function Fse(){return new $E}function rb(r,t){const e=arguments.length>=2;return i=>i.pipe(r?Dp((n,s)=>r(n,s,i)):ue,jS(1),e?qE(t):CV(()=>new $E))}function b1(r,t){return tt(t)?uo(r,t,1):uo(r,1)}function ic(r,t,e){const i=tt(r)||t||e?{next:r,error:t,complete:e}:r;return i?Ft((n,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;n.subscribe(Li(s,l=>{var h;null===(h=i.next)||void 0===h||h.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var h;a=!1,null===(h=i.error)||void 0===h||h.call(i,l),s.error(l)},()=>{var l,h;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):ue}function sb(r){return Ft((t,e)=>{let s,i=null,n=!1;i=t.subscribe(Li(e,void 0,void 0,o=>{s=no(r(o,sb(r)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):n=!0})),n&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Z2(r){return r<=0?()=>$a:Ft((t,e)=>{let i=[];t.subscribe(Li(e,n=>{i.push(n),r<i.length&&i.shift()},()=>{for(const n of i)e.next(n);e.complete()},void 0,()=>{i=null}))})}function J2(r){return Ft((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}function ob(r){return Ft((t,e)=>{no(r).subscribe(Li(e,()=>e.complete(),he)),!e.closed&&t.subscribe(e)})}const jr="primary",C1=Symbol("RouteTitle");class Wse{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function HS(r){return new Wse(r)}function Yse(r,t,e){const i=e.path.split("/");if(i.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<r.length))return null;const n={};for(let s=0;s<i.length;s++){const o=i[s],a=r[s];if(o.startsWith(":"))n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function kf(r,t){const e=r?Object.keys(r):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let s=0;s<e.length;s++)if(n=e[s],!SV(r[n],t[n]))return!1;return!0}function SV(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),i=[...t].sort();return e.every((n,s)=>i[s]===n)}return r===t}function wV(r){return r.length>0?r[r.length-1]:null}function ry(r){return function Ese(r){return!!r&&(r instanceof Ne||tt(r.lift)&&tt(r.subscribe))}(r)?r:KM(r)?bs(Promise.resolve(r)):nr(r)}const Xse={exact:function xV(r,t,e){if(!ab(r.segments,t.segments)||!ZE(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!r.children[i]||!xV(r.children[i],t.children[i],e))return!1;return!0},subset:DV},IV={exact:function Qse(r,t){return kf(r,t)},subset:function $se(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>SV(r[e],t[e]))},ignored:()=>!0};function MV(r,t,e){return Xse[e.paths](r.root,t.root,e.matrixParams)&&IV[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function DV(r,t,e){return TV(r,t,t.segments,e)}function TV(r,t,e,i){if(r.segments.length>e.length){const n=r.segments.slice(0,e.length);return!(!ab(n,e)||t.hasChildren()||!ZE(n,e,i))}if(r.segments.length===e.length){if(!ab(r.segments,e)||!ZE(r.segments,e,i))return!1;for(const n in t.children)if(!r.children[n]||!DV(r.children[n],t.children[n],i))return!1;return!0}{const n=e.slice(0,r.segments.length),s=e.slice(r.segments.length);return!!(ab(r.segments,n)&&ZE(r.segments,n,i)&&r.children[jr])&&TV(r.children[jr],t,s,i)}}function ZE(r,t,e){return t.every((i,n)=>IV[e](r[n].parameters,i.parameters))}class US{constructor(t=new wo([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=HS(this.queryParams)),this._queryParamMap}toString(){return Jse.serialize(this)}}class wo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JE(this)}}class S1{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=HS(this.parameters)),this._parameterMap}toString(){return OV(this)}}function ab(r,t){return r.length===t.length&&r.every((e,i)=>e.path===t[i].path)}let w1=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return new K2},providedIn:"root"})}return r})();class K2{parse(t){const e=new hoe(t);return new US(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${I1(t.root,!0)}`,i=function toe(r){const t=Object.keys(r).map(e=>{const i=r[e];return Array.isArray(i)?i.map(n=>`${KE(e)}=${KE(n)}`).join("&"):`${KE(e)}=${KE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Kse(r){return encodeURI(r)}(t.fragment)}`:""}`}}const Jse=new K2;function JE(r){return r.segments.map(t=>OV(t)).join("/")}function I1(r,t){if(!r.hasChildren())return JE(r);if(t){const e=r.children[jr]?I1(r.children[jr],!1):"",i=[];return Object.entries(r.children).forEach(([n,s])=>{n!==jr&&i.push(`${n}:${I1(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zse(r,t){let e=[];return Object.entries(r.children).forEach(([i,n])=>{i===jr&&(e=e.concat(t(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==jr&&(e=e.concat(t(n,i)))}),e}(r,(i,n)=>n===jr?[I1(r.children[jr],!1)]:[`${n}:${I1(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[jr]?`${JE(r)}/${e[0]}`:`${JE(r)}/(${e.join("//")})`}}function EV(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function KE(r){return EV(r).replace(/%3B/gi,";")}function e_(r){return EV(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eA(r){return decodeURIComponent(r)}function AV(r){return eA(r.replace(/\+/g,"%20"))}function OV(r){return`${e_(r.path)}${function eoe(r){return Object.keys(r).map(t=>`;${e_(t)}=${e_(r[t])}`).join("")}(r.parameters)}`}const ioe=/^[^\/()?;#]+/;function t_(r){const t=r.match(ioe);return t?t[0]:""}const noe=/^[^\/()?;=#]+/,soe=/^[^=?&#]+/,aoe=/^[^&#]+/;class hoe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wo([],{}):new wo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jr]=new wo(t,e)),i}parseSegment(){const t=t_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ei(4009,!1);return this.capture(t),new S1(eA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function roe(r){const t=r.match(noe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const n=t_(this.remaining);n&&(i=n,this.capture(i))}t[eA(e)]=eA(i)}parseQueryParam(t){const e=function ooe(r){const t=r.match(soe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function loe(r){const t=r.match(aoe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const n=AV(e),s=AV(i);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(s)}else t[n]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=t_(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Ei(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jr);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[jr]:new wo([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ei(4011,!1)}}function LV(r){return r.segments.length>0?new wo([],{[jr]:r}):r}function kV(r){const t={};for(const i of Object.keys(r.children)){const s=kV(r.children[i]);if(i===jr&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function coe(r){if(1===r.numberOfChildren&&r.children[jr]){const t=r.children[jr];return new wo(r.segments.concat(t.segments),t.children)}return r}(new wo(r.segments,t))}function lb(r){return r instanceof US}function NV(r){let t;const i=function e(s){const o={};for(const l of s.children){const h=e(l);o[l.outlet]=h}const a=new wo(s.url,o);return s===r&&(t=a),a}(r.root),n=LV(i);return t??n}function PV(r,t,e,i){let n=r;for(;n.parent;)n=n.parent;if(0===t.length)return i_(n,n,n,e,i);const s=function doe(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new RV(!0,0,r);let t=0,e=!1;const i=r.reduce((n,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,h])=>{a[l]="string"==typeof h?h.split("/"):h}),[...n,{outlets:a}]}if(s.segmentPath)return[...n,s.segmentPath]}return"string"!=typeof s?[...n,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&n.push(a))}),n):[...n,s]},[]);return new RV(e,t,i)}(t);if(s.toRoot())return i_(n,n,new wo([],{}),e,i);const o=function poe(r,t,e){if(r.isAbsolute)return new iA(t,!0,0);if(!e)return new iA(t,!1,NaN);if(null===e.parent)return new iA(e,!0,0);const i=tA(r.commands[0])?0:1;return function foe(r,t,e){let i=r,n=t,s=e;for(;s>n;){if(s-=n,i=i.parent,!i)throw new Ei(4005,!1);n=i.segments.length}return new iA(i,!1,n-s)}(e,e.segments.length-1+i,r.numberOfDoubleDots)}(s,n,r),a=o.processChildren?x1(o.segmentGroup,o.index,s.commands):zV(o.segmentGroup,o.index,s.commands);return i_(n,o.segmentGroup,a,e,i)}function tA(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function M1(r){return"object"==typeof r&&null!=r&&r.outlets}function i_(r,t,e,i,n){let o,s={};i&&Object.entries(i).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(c=>`${c}`):`${h}`}),o=r===t?e:_V(r,t,e);const a=LV(kV(o));return new US(a,s,n)}function _V(r,t,e){const i={};return Object.entries(r.children).forEach(([n,s])=>{i[n]=s===t?e:_V(s,t,e)}),new wo(r.segments,i)}class RV{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&tA(i[0]))throw new Ei(4003,!1);const n=i.find(M1);if(n&&n!==wV(i))throw new Ei(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iA{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function zV(r,t,e){if(r||(r=new wo([],{})),0===r.segments.length&&r.hasChildren())return x1(r,t,e);const i=function voe(r,t,e){let i=0,n=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=e.length)return s;const o=r.segments[n],a=e[i];if(M1(a))break;const l=`${a}`,h=i<e.length-1?e[i+1]:null;if(n>0&&void 0===l)break;if(l&&h&&"object"==typeof h&&void 0===h.outlets){if(!FV(l,h,o))return s;i+=2}else{if(!FV(l,{},o))return s;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(r,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const s=new wo(r.segments.slice(0,i.pathIndex),{});return s.children[jr]=new wo(r.segments.slice(i.pathIndex),r.children),x1(s,0,n)}return i.match&&0===n.length?new wo(r.segments,{}):i.match&&!r.hasChildren()?n_(r,t,e):i.match?x1(r,0,n):n_(r,t,e)}function x1(r,t,e){if(0===e.length)return new wo(r.segments,{});{const i=function goe(r){return M1(r[0])?r[0].outlets:{[jr]:r}}(e),n={};if(Object.keys(i).some(s=>s!==jr)&&r.children[jr]&&1===r.numberOfChildren&&0===r.children[jr].segments.length){const s=x1(r.children[jr],t,e);return new wo(r.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(n[s]=zV(r.children[s],t,o))}),Object.entries(r.children).forEach(([s,o])=>{void 0===i[s]&&(n[s]=o)}),new wo(r.segments,n)}}function n_(r,t,e){const i=r.segments.slice(0,t);let n=0;for(;n<e.length;){const s=e[n];if(M1(s)){const l=moe(s.outlets);return new wo(i,l)}if(0===n&&tA(e[0])){i.push(new S1(r.segments[t].path,BV(e[0]))),n++;continue}const o=M1(s)?s.outlets[jr]:`${s}`,a=n<e.length-1?e[n+1]:null;o&&a&&tA(a)?(i.push(new S1(o,BV(a))),n+=2):(i.push(new S1(o,{})),n++)}return new wo(i,{})}function moe(r){const t={};return Object.entries(r).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=n_(new wo([],{}),0,i))}),t}function BV(r){const t={};return Object.entries(r).forEach(([e,i])=>t[e]=`${i}`),t}function FV(r,t,e){return r==e.path&&kf(t,e.parameters)}const D1="imperative";class Nf{constructor(t,e){this.id=t,this.url=e}}class nA extends Nf{constructor(t,e,i="imperative",n=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sy extends Nf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class T1 extends Nf{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VS extends Nf{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=16}}class rA extends Nf{constructor(t,e,i,n){super(t,e),this.error=i,this.target=n,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jV extends Nf{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yoe extends Nf{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class boe extends Nf{constructor(t,e,i,n,s){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Coe extends Nf{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Soe extends Nf{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class woe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ioe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Moe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xoe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Doe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Toe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HV{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class r_{}class s_{constructor(t){this.url=t}}class Eoe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new E1,this.attachRef=null}}let E1=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Eoe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class UV{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=o_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=o_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=a_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return a_(t,this._root).map(e=>e.value)}}function o_(r,t){if(r===t.value)return t;for(const e of t.children){const i=o_(r,e);if(i)return i}return null}function a_(r,t){if(r===t.value)return[t];for(const e of t.children){const i=a_(r,e);if(i.length)return i.unshift(t),i}return[]}class rv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function WS(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class VV extends UV{constructor(t,e){super(t),this.snapshot=e,l_(this,t)}toString(){return this.snapshot.toString()}}function WV(r,t){const e=function Aoe(r,t){const o=new sA([],{},{},"",{},jr,t,null,{});return new GV("",new rv(o,[]))}(0,t),i=new Ho([new S1("",{})]),n=new Ho({}),s=new Ho({}),o=new Ho({}),a=new Ho(""),l=new YS(i,n,o,a,s,jr,t,e.root);return l.snapshot=e.root,new VV(new rv(l,[]),e)}class YS{constructor(t,e,i,n,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ct(h=>h[C1]))??nr(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ct(t=>HS(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ct(t=>HS(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YV(r,t="emptyOnly"){const e=r.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const n=e[i],s=e[i-1];if(n.routeConfig&&""===n.routeConfig.path)i--;else{if(s.component)break;i--}}return function Ooe(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sA{get title(){return this.data?.[C1]}constructor(t,e,i,n,s,o,a,l,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=HS(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=HS(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GV extends UV{constructor(t,e){super(e),this.url=t,l_(this,e)}toString(){return XV(this._root)}}function l_(r,t){t.value._routerState=r,t.children.forEach(e=>l_(r,e))}function XV(r){const t=r.children.length>0?` { ${r.children.map(XV).join(", ")} } `:"";return`${r.value}${t}`}function h_(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,kf(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),kf(t.params,e.params)||r.paramsSubject.next(e.params),function Gse(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!kf(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.urlSubject.next(e.url),kf(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function c_(r,t){const e=kf(r.params,t.params)&&function qse(r,t){return ab(r,t)&&r.every((e,i)=>kf(e.parameters,t[i].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||c_(r.parent,t.parent))}let u_=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=jr,this.activateEvents=new No,this.deactivateEvents=new No,this.attachEvents=new No,this.detachEvents=new No,this.parentContexts=cn(E1),this.location=cn(Is),this.changeDetector=cn(tb),this.environmentInjector=cn(nu),this.inputBinder=cn(oA,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ei(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ei(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ei(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Ei(4013,!1);this._activatedRoute=e;const n=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Loe(e,a,n.injector);this.activated=n.createComponent(o,{index:n.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=nn({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ah]})}return r})();class Loe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===YS?this.route:t===E1?this.childContexts:this.parent.get(t,e)}}const oA=new _n("");let QV=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,n=Q2([i.queryParams,i.params,i.data]).pipe(yl(([s,o,a],l)=>(a={...s,...o,...a},0===l?nr(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function rne(r){const t=Vr(r);if(!t)return null;const e=new QM(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,n)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();function A1(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const n=function Noe(r,t,e){return t.children.map(i=>{for(const n of e.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return A1(r,i,n);return A1(r,i)})}(r,t,e);return new rv(i,n)}{if(r.shouldAttach(t.value)){const s=r.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>A1(r,a)),o}}const i=function Poe(r){return new YS(new Ho(r.url),new Ho(r.params),new Ho(r.queryParams),new Ho(r.fragment),new Ho(r.data),r.outlet,r.component,r)}(t.value),n=t.children.map(s=>A1(r,s));return new rv(i,n)}}const d_="ngNavigationCancelingError";function $V(r,t){const{redirectTo:e,navigationBehaviorOptions:i}=lb(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=qV(!1,0,t);return n.url=e,n.navigationBehaviorOptions=i,n}function qV(r,t,e){const i=new Error("NavigationCancelingError: "+(r||""));return i[d_]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ZV(r){return r&&r[d_]}let JV=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["ng-component"]],standalone:!0,features:[ec],decls:1,vars:0,template:function(i,n){1&i&&jt(0,"router-outlet")},dependencies:[u_],encapsulation:2})}return r})();function p_(r){const t=r.children&&r.children.map(p_),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jr&&(e.component=JV),e}function Tp(r){return r.outlet||jr}function O1(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Uoe{constructor(t,e,i,n,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),h_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=WS(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,n[o],i),delete n[o]}),Object.values(n).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const n=t.value,s=e?e.value:null;if(n===s)if(n.component){const o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,s=WS(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],n);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,s=WS(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const n=WS(e);t.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],i),this.forwardEvent(new Toe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new xoe(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,s=e?e.value:null;if(h_(n),n===s)if(n.component){const o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),h_(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=O1(n.snapshot);o.attachRef=null,o.route=n,o.injector=a,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class KV{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class aA{constructor(t,e){this.component=t,this.route=e}}function Voe(r,t,e){const i=r._root;return L1(i,t?t._root:null,e,[i.value])}function GS(r,t){const e=Symbol(),i=t.get(r,e);return i===e?"function"!=typeof r||function nC(r){return null!==nd(r)}(r)?t.get(r):r:i}function L1(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const s=WS(t);return r.children.forEach(o=>{(function Yoe(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const s=r.value,o=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Goe(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!ab(r.url,t.url);case"pathParamsOrQueryParamsChange":return!ab(r.url,t.url)||!kf(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!c_(r,t)||!kf(r.queryParams,t.queryParams);default:return!c_(r,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new KV(i)):(s.data=o.data,s._resolvedData=o._resolvedData),L1(r,t,s.component?a?a.children:null:e,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new aA(a.outlet.component,o))}else o&&k1(t,a,n),n.canActivateChecks.push(new KV(i)),L1(r,null,s.component?a?a.children:null:e,i,n)})(o,s[o.value.outlet],e,i.concat([o.value]),n),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>k1(a,e.getContext(o),n)),n}function k1(r,t,e){const i=WS(r),n=r.value;Object.entries(i).forEach(([s,o])=>{k1(o,n.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new aA(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}function N1(r){return"function"==typeof r}function eW(r){return r instanceof $E||"EmptyError"===r?.name}const lA=Symbol("INITIAL_VALUE");function XS(){return yl(r=>Q2(r.map(t=>t.pipe(jS(1),function Bse(...r){const t=ri(r);return Ft((e,i)=>{(t?$2(r,e,t):$2(r,e)).subscribe(i)})}(lA)))).pipe(ct(t=>{for(const e of t)if(!0!==e){if(e===lA)return lA;if(!1===e||e instanceof US)return e}return!0}),Dp(t=>t!==lA),jS(1)))}function tW(r){return function we(...r){return De(r)}(ic(t=>{if(lb(t))throw $V(0,t)}),ct(t=>!0===t))}class hA{constructor(t){this.segmentGroup=t||null}}class iW{constructor(t){this.urlTree=t}}function QS(r){return y1(new hA(r))}function nW(r){return y1(new iW(r))}class dae{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Ei(4002,!1)}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return nr(i);if(n.numberOfChildren>1||!n.children[jr])return y1(new Ei(4e3,!1));n=n.children[jr]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,n){const s=this.createSegmentGroup(t,e.root,i,n);return new US(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([n,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[n]=e[a]}else i[n]=s}),i}createSegmentGroup(t,e,i,n){const s=this.createSegments(t,e.segments,i,n);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,n)}),new wo(s,o)}createSegments(t,e,i,n){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,n):this.findOrReturn(s,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new Ei(4001,!1);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}const f_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pae(r,t,e,i,n){const s=g_(r,t,e);return s.matched?(i=function Roe(r,t){return r.providers&&!r._injector&&(r._injector=GP(r.providers,t,`Route: ${r.path}`)),r._injector??t}(t,i),function hae(r,t,e,i){const n=t.canMatch;return n&&0!==n.length?nr(n.map(o=>{const a=GS(o,r);return ry(function Joe(r){return r&&N1(r.canMatch)}(a)?a.canMatch(t,e):r.runInContext(()=>a(t,e)))})).pipe(XS(),tW()):nr(!0)}(i,t,e).pipe(ct(o=>!0===o?s:{...f_}))):nr(s)}function g_(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...f_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const n=(t.matcher||Yse)(e,r,t);if(!n)return{...f_};const s={};Object.entries(n.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=n.consumed.length>0?{...s,...n.consumed[n.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function rW(r,t,e,i){return e.length>0&&function vae(r,t,e){return e.some(i=>cA(r,t,i)&&Tp(i)!==jr)}(r,e,i)?{segmentGroup:new wo(t,gae(i,new wo(e,r.children))),slicedSegments:[]}:0===e.length&&function mae(r,t,e){return e.some(i=>cA(r,t,i))}(r,e,i)?{segmentGroup:new wo(r.segments,fae(r,0,e,i,r.children)),slicedSegments:e}:{segmentGroup:new wo(r.segments,r.children),slicedSegments:e}}function fae(r,t,e,i,n){const s={};for(const o of i)if(cA(r,e,o)&&!n[Tp(o)]){const a=new wo([],{});s[Tp(o)]=a}return{...n,...s}}function gae(r,t){const e={};e[jr]=t;for(const i of r)if(""===i.path&&Tp(i)!==jr){const n=new wo([],{});e[Tp(i)]=n}return e}function cA(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Sae{constructor(t,e,i,n,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new dae(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ei(4002,!1)}recognize(){const t=rW(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,jr).pipe(sb(e=>{if(e instanceof iW)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof hA?this.noMatchError(e):e}),ct(e=>{const i=new sA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jr,this.rootComponentType,null,{}),n=new rv(i,e),s=new GV("",n),o=function uoe(r,t,e=null,i=null){return PV(NV(r),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,jr).pipe(sb(i=>{throw i instanceof hA?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=YV(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,n,!0)}processChildren(t,e,i){const n=[];for(const s of Object.keys(i.children))"primary"===s?n.unshift(s):n.push(s);return bs(n).pipe(b1(s=>{const o=i.children[s],a=function joe(r,t){const e=r.filter(i=>Tp(i)===t);return e.push(...r.filter(i=>Tp(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function Hse(r,t){return Ft(function jse(r,t,e,i,n){return(s,o)=>{let a=e,l=t,h=0;s.subscribe(Li(o,c=>{const u=h++;l=a?r(l,c,u):(a=!0,c),i&&o.next(l)},n&&(()=>{a&&o.next(l),o.complete()})))}}(r,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),qE(null),function Use(r,t){const e=arguments.length>=2;return i=>i.pipe(r?Dp((n,s)=>r(n,s,i)):ue,Z2(1),e?qE(t):CV(()=>new $E))}(),uo(s=>{if(null===s)return QS(i);const o=sW(s);return function wae(r){r.sort((t,e)=>t.value.outlet===jr?-1:e.value.outlet===jr?1:t.value.outlet.localeCompare(e.value.outlet))}(o),nr(o)}))}processSegment(t,e,i,n,s,o){return bs(e).pipe(b1(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,n,s,o).pipe(sb(l=>{if(l instanceof hA)return nr(null);throw l}))),rb(a=>!!a),sb(a=>{if(eW(a))return function bae(r,t,e){return 0===t.length&&!r.children[e]}(i,n,s)?nr([]):QS(i);throw a}))}processSegmentAgainstRoute(t,e,i,n,s,o,a){return function yae(r,t,e,i){return!!(Tp(r)===i||i!==jr&&cA(t,e,r))&&("**"===r.path||g_(t,r,e).matched)}(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,s,o):QS(n):QS(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,s,o){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?nW(s):this.applyRedirects.lineralizeSegments(i,s).pipe(uo(o=>{const a=new wo(o,{});return this.processSegment(t,e,a,o,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,s,o){const{matched:a,consumedSegments:l,remainingSegments:h,positionalParamSegments:c}=g_(e,n,s);if(!a)return QS(e);const u=this.applyRedirects.applyRedirectCommands(l,n.redirectTo,c);return n.redirectTo.startsWith("/")?nW(u):this.applyRedirects.lineralizeSegments(n,u).pipe(uo(d=>this.processSegment(t,i,e,d.concat(h),o,!1)))}matchSegmentAgainstRoute(t,e,i,n,s,o){let a;if("**"===i.path){const l=n.length>0?wV(n).parameters:{};a=nr({snapshot:new sA(n,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oW(i),Tp(i),i.component??i._loadedComponent??null,i,aW(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=pae(e,i,n,t).pipe(ct(({matched:l,consumedSegments:h,remainingSegments:c,parameters:u})=>l?{snapshot:new sA(h,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oW(i),Tp(i),i.component??i._loadedComponent??null,i,aW(i)),consumedSegments:h,remainingSegments:c}:null));return a.pipe(yl(l=>null===l?QS(e):this.getChildConfig(t=i._injector??t,i,n).pipe(yl(({routes:h})=>{const c=i._loadedInjector??t,{snapshot:u,consumedSegments:d,remainingSegments:p}=l,{segmentGroup:f,slicedSegments:m}=rW(e,d,p,h);if(0===m.length&&f.hasChildren())return this.processChildren(c,h,f).pipe(ct(T=>null===T?null:[new rv(u,T)]));if(0===h.length&&0===m.length)return nr([new rv(u,[])]);const M=Tp(i)===s;return this.processSegment(c,h,f,m,M?jr:s,!0).pipe(ct(T=>[new rv(u,T)]))}))))}getChildConfig(t,e,i){return e.children?nr({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?nr({routes:e._loadedRoutes,injector:e._loadedInjector}):function lae(r,t,e,i){const n=t.canLoad;return void 0===n||0===n.length?nr(!0):nr(n.map(o=>{const a=GS(o,r);return ry(function Qoe(r){return r&&N1(r.canLoad)}(a)?a.canLoad(t,e):r.runInContext(()=>a(t,e)))})).pipe(XS(),tW())}(t,e,i).pipe(uo(n=>n?this.configLoader.loadChildren(t,e).pipe(ic(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function uae(r){return y1(qV(!1,3))}())):nr({routes:[],injector:t})}}function Iae(r){const t=r.value.routeConfig;return t&&""===t.path}function sW(r){const t=[],e=new Set;for(const i of r){if(!Iae(i)){t.push(i);continue}const n=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==n?(n.children.push(...i.children),e.add(n)):t.push(i)}for(const i of e){const n=sW(i.children);t.push(new rv(i.value,n))}return t.filter(i=>!e.has(i))}function oW(r){return r.data||{}}function aW(r){return r.resolve||{}}function lW(r){return"string"==typeof r.title||null===r.title}function v_(r){return yl(t=>{const e=r(t);return e?bs(e).pipe(ct(()=>t)):nr(t)})}const $S=new _n("ROUTES");let m_=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=cn(FH)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ry(e.loadComponent()).pipe(ct(hW),ic(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),J2(()=>{this.componentLoaders.delete(e)})),n=new bV(i,()=>new Yt).pipe(q2());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nr({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Oae(r,t,e,i){return ry(r.loadChildren()).pipe(ct(hW),uo(n=>n instanceof Qj||Array.isArray(n)?nr(n):bs(t.compileModuleAsync(n))),ct(n=>{i&&i(r);let s,o,a=!1;return Array.isArray(n)?(o=n,!0):(s=n.create(e).injector,o=s.get($S,[],{optional:!0,self:!0}).flat()),{routes:o.map(p_),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(J2(()=>{this.childrenLoaders.delete(i)})),o=new bV(s,()=>new Yt).pipe(q2());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function hW(r){return function Lae(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let uA=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yt,this.transitionAbortSubject=new Yt,this.configLoader=cn(m_),this.environmentInjector=cn(nu),this.urlSerializer=cn(w1),this.rootContexts=cn(E1),this.inputBindingEnabled=null!==cn(oA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=n=>this.events.next(new Ioe(n)),this.configLoader.onLoadStartListener=n=>this.events.next(new woe(n))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,n){return this.transitions=new Ho({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:D1,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dp(s=>0!==s.id),ct(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),yl(s=>{this.currentTransition=s;let o=!1,a=!1;return nr(s).pipe(ic(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yl(l=>{const h=l.currentBrowserUrl.toString(),c=!e.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const d="";return this.events.next(new VS(l.id,this.urlSerializer.serialize(l.rawUrl),d,0)),l.resolve(null),$a}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return nr(l).pipe(yl(d=>{const p=this.transitions?.getValue();return this.events.next(new nA(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?$a:Promise.resolve(d)}),function Mae(r,t,e,i,n,s){return uo(o=>function Cae(r,t,e,i,n,s,o="emptyOnly"){return new Sae(r,t,e,i,n,o,s).recognize()}(r,t,e,i,o.extractedUrl,n,s).pipe(ct(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ic(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const p=new jV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(c&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:p,source:f,restoredState:m,extras:M}=l,T=new nA(d,this.urlSerializer.serialize(p),f,m);this.events.next(T);const P=WV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:P,urlAfterRedirects:p,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},nr(s)}{const d="";return this.events.next(new VS(l.id,this.urlSerializer.serialize(l.extractedUrl),d,1)),l.resolve(null),$a}}),ic(l=>{const h=new yoe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ct(l=>(this.currentTransition=s={...l,guards:Voe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function eae(r,t){return uo(e=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?nr({...e,guardsResult:!0}):function tae(r,t,e,i){return bs(r).pipe(uo(n=>function aae(r,t,e,i,n){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?nr(s.map(a=>{const l=O1(t)??n,h=GS(a,l);return ry(function Zoe(r){return r&&N1(r.canDeactivate)}(h)?h.canDeactivate(r,t,e,i):l.runInContext(()=>h(r,t,e,i))).pipe(rb())})).pipe(XS()):nr(!0)}(n.component,n.route,e,t,i)),rb(n=>!0!==n,!0))}(o,i,n,r).pipe(uo(a=>a&&function Xoe(r){return"boolean"==typeof r}(a)?function iae(r,t,e,i){return bs(t).pipe(b1(n=>$2(function rae(r,t){return null!==r&&t&&t(new Moe(r)),nr(!0)}(n.route.parent,i),function nae(r,t){return null!==r&&t&&t(new Doe(r)),nr(!0)}(n.route,i),function oae(r,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Woe(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(o)).filter(o=>null!==o).map(o=>yV(()=>nr(o.guards.map(l=>{const h=O1(o.node)??e,c=GS(l,h);return ry(function qoe(r){return r&&N1(r.canActivateChild)}(c)?c.canActivateChild(i,r):h.runInContext(()=>c(i,r))).pipe(rb())})).pipe(XS())));return nr(s).pipe(XS())}(r,n.path,e),function sae(r,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return nr(!0);const n=i.map(s=>yV(()=>{const o=O1(t)??e,a=GS(s,o);return ry(function $oe(r){return r&&N1(r.canActivate)}(a)?a.canActivate(t,r):o.runInContext(()=>a(t,r))).pipe(rb())}));return nr(n).pipe(XS())}(r,n.route,e))),rb(n=>!0!==n,!0))}(i,s,r,t):nr(a)),ct(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ic(l=>{if(s.guardsResult=l.guardsResult,lb(l.guardsResult))throw $V(0,l.guardsResult);const h=new boe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Dp(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),v_(l=>{if(l.guards.canActivateChecks.length)return nr(l).pipe(ic(h=>{const c=new Coe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(c)}),yl(h=>{let c=!1;return nr(h).pipe(function xae(r,t){return uo(e=>{const{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return nr(e);let s=0;return bs(n).pipe(b1(o=>function Dae(r,t,e,i){const n=r.routeConfig,s=r._resolve;return void 0!==n?.title&&!lW(n)&&(s[C1]=n.title),function Tae(r,t,e,i){const n=function Eae(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===n.length)return nr({});const s={};return bs(n).pipe(uo(o=>function Aae(r,t,e,i){const n=O1(t)??i,s=GS(r,n);return ry(s.resolve?s.resolve(t,e):n.runInContext(()=>s(t,e)))}(r[o],t,e,i).pipe(rb(),ic(a=>{s[o]=a}))),Z2(1),function Vse(r){return ct(()=>r)}(s),sb(o=>eW(o)?$a:y1(o)))}(s,r,t,i).pipe(ct(o=>(r._resolvedData=o,r.data=YV(r,e).resolve,n&&lW(n)&&(r.data[C1]=n.title),null)))}(o.route,i,r,t)),ic(()=>s++),Z2(1),uo(o=>s===n.length?nr(e):$a))})}(e.paramsInheritanceStrategy,this.environmentInjector),ic({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(h,"",2)}}))}),ic(h=>{const c=new Soe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(c)}))}),v_(l=>{const h=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ic(d=>{c.component=d}),ct(()=>{})));for(const d of c.children)u.push(...h(d));return u};return Q2(h(l.targetSnapshot.root)).pipe(qE(),jS(1))}),v_(()=>this.afterPreactivation()),ct(l=>{const h=function koe(r,t,e){const i=A1(r,t._root,e?e._root:void 0);return new VV(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),ic(()=>{this.events.next(new r_)}),((r,t,e,i)=>ct(n=>(new Uoe(t,n.targetRouterState,n.currentRouterState,e,i).activate(r),n)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),jS(1),ic({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ob(this.transitionAbortSubject.pipe(ic(l=>{throw l}))),J2(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),sb(l=>{if(a=!0,ZV(l))this.events.next(new T1(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function _oe(r){return ZV(r)&&lb(r.url)}(l)?this.events.next(new s_(l.url)):s.resolve(!1);else{this.events.next(new rA(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(h){s.reject(h)}}return $a}))}))}cancelNavigationTransition(e,i,n){const s=new T1(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function cW(r){return r!==D1}let uW=(()=>{class r{buildTitle(e){let i,n=e.root;for(;void 0!==n;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(s=>s.outlet===jr);return i}getResolvedTitleForRoute(e){return e.data[C1]}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return cn(kae)},providedIn:"root"})}return r})(),kae=(()=>{class r extends uW{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||r)(vn(lV))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Nae=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return cn(_ae)},providedIn:"root"})}return r})();class Pae{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let _ae=(()=>{class r extends Pae{static#e=this.\u0275fac=function(){let e;return function(n){return(e||(e=function cl(r){return Iu(()=>{const t=r.prototype.constructor,e=t[xu]||vd(t),i=Object.prototype;let n=Object.getPrototypeOf(r.prototype).constructor;for(;n&&n!==i;){const s=n[xu]||vd(n);if(s&&s!==e)return s;n=Object.getPrototypeOf(n)}return s=>new s})}(r)))(n||r)}}();static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const dA=new _n("",{providedIn:"root",factory:()=>({})});let Rae=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:function(){return cn(zae)},providedIn:"root"})}return r})(),zae=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var P1=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(P1||{});function dW(r,t){r.events.pipe(Dp(e=>e instanceof sy||e instanceof T1||e instanceof rA||e instanceof VS),ct(e=>e instanceof sy||e instanceof VS?P1.COMPLETE:e instanceof T1&&(0===e.code||1===e.code)?P1.REDIRECTING:P1.FAILED),Dp(e=>e!==P1.REDIRECTING),jS(1)).subscribe(()=>{t()})}function Bae(r){throw r}function Fae(r,t,e){return t.parse("/")}const jae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xd=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=cn(zH),this.isNgZoneEnabled=!1,this._events=new Yt,this.options=cn(dA,{optional:!0})||{},this.pendingTasks=cn(BH),this.errorHandler=this.options.errorHandler||Bae,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Fae,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=cn(Rae),this.routeReuseStrategy=cn(Nae),this.titleStrategy=cn(uW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cn($S,{optional:!0})?.flat()??[],this.navigationTransitions=cn(uA),this.urlSerializer=cn(w1),this.location=cn(M2),this.componentInputBindingEnabled=!!cn(oA,{optional:!0}),this.eventsSubscription=new Ht,this.isNgZoneEnabled=cn(Po)instanceof Po&&Po.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new US,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:n}=this.navigationTransitions;if(null===n)return void(pW(i)&&this._events.next(i));if(i instanceof nA)cW(n.source)&&(this.browserUrlTree=n.extractedUrl);else if(i instanceof VS)this.rawUrlTree=n.rawUrl;else if(i instanceof jV){if("eager"===this.urlUpdateStrategy){if(!n.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(n.urlAfterRedirects,n.rawUrl);this.setBrowserUrl(s,n)}this.browserUrlTree=n.urlAfterRedirects}}else if(i instanceof r_)this.currentUrlTree=n.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(n.urlAfterRedirects,n.rawUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n),this.browserUrlTree=n.urlAfterRedirects);else if(i instanceof T1)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(n);else if(i instanceof s_){const s=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),o={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cW(n.source)};this.scheduleNavigation(s,D1,null,o,{resolve:n.resolve,reject:n.reject,promise:n.promise})}i instanceof rA&&this.restoreHistory(n,!0),i instanceof sy&&(this.navigated=!0),pW(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),D1,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,n){const s={replaceUrl:!0},o=n?.navigationId?n:null;if(n){const l={...n};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(p_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:n,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:o;let u,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{u=NV(n?n.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return PV(u,e,c,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){const n=lb(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,D1,null,i)}navigate(e,i={skipLocationChange:!1}){return function Uae(r){for(let t=0;t<r.length;t++)if(null==r[t])throw new Ei(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(n){i=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return i}isActive(e,i){let n;if(n=!0===i?{...jae}:!1===i?{...Hae}:i,lb(e))return MV(this.currentUrlTree,e,n);const s=this.parseUrl(e);return MV(this.currentUrlTree,s,n)}removeEmptyProps(e){return Object.keys(e).reduce((i,n)=>{const s=e[n];return null!=s&&(i[n]=s),i},{})}scheduleNavigation(e,i,n,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,h;o?(a=o.resolve,l=o.reject,h=o.promise):h=new Promise((u,d)=>{a=u,l=d});const c=this.pendingTasks.add();return dW(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(u=>Promise.reject(u))}setBrowserUrl(e,i){const n=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(n,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(n,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function pW(r){return!(r instanceof r_||r instanceof s_)}class fW{}let Yae=(()=>{class r{constructor(e,i,n,s,o){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Dp(e=>e instanceof sy),b1(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const n=[];for(const s of i){s.providers&&!s._injector&&(s._injector=GP(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&n.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&n.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bs(n).pipe(Vh())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;n=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):nr(null);const s=n.pipe(uo(o=>null===o?nr(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?bs([s,this.loader.loadComponent(i)]).pipe(Vh()):s})}static#e=this.\u0275fac=function(i){return new(i||r)(vn(xd),vn(FH),vn(nu),vn(fW),vn(m_))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const b_=new _n("");let gW=(()=>{class r{constructor(e,i,n,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=n,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof nA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sy?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof VS&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HV&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HV(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function BF(){throw new Error("invalid")}()};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac})}return r})();function sv(r,t){return{\u0275kind:r,\u0275providers:t}}function mW(){const r=cn(ma);return t=>{const e=r.get(ty);if(t!==e.components[0])return;const i=r.get(xd),n=r.get(yW);1===r.get(C_)&&i.initialNavigation(),r.get(bW,null,yn.Optional)?.setUpPreloading(),r.get(b_,null,yn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}const yW=new _n("",{factory:()=>new Yt}),C_=new _n("",{providedIn:"root",factory:()=>1}),bW=new _n("");function $ae(r){return sv(0,[{provide:bW,useExisting:Yae},{provide:fW,useExisting:r}])}const CW=new _n("ROUTER_FORROOT_GUARD"),Zae=[M2,{provide:w1,useClass:K2},xd,E1,{provide:YS,useFactory:function vW(r){return r.routerState.root},deps:[xd]},m_,[]];function Jae(){return new GH("Router",xd)}let SW=(()=>{class r{constructor(e){}static forRoot(e,i){return{ngModule:r,providers:[Zae,[],{provide:$S,multi:!0,useValue:e},{provide:CW,useFactory:ile,deps:[[xd,new So,new Ac]]},{provide:dA,useValue:i||{}},i?.useHash?{provide:nb,useClass:hne}:{provide:nb,useClass:wU},{provide:b_,useFactory:()=>{const r=cn(Tre),t=cn(Po),e=cn(dA),i=cn(uA),n=cn(w1);return e.scrollOffset&&r.setOffset(e.scrollOffset),new gW(n,i,r,t,e)}},i?.preloadingStrategy?$ae(i.preloadingStrategy).\u0275providers:[],{provide:GH,multi:!0,useFactory:Jae},i?.initialNavigation?nle(i):[],i?.bindToComponentInputs?sv(8,[QV,{provide:oA,useExisting:QV}]).\u0275providers:[],[{provide:wW,useFactory:mW},{provide:f2,multi:!0,useExisting:wW}]]}}static forChild(e){return{ngModule:r,providers:[{provide:$S,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||r)(vn(CW,8))};static#t=this.\u0275mod=da({type:r});static#i=this.\u0275inj=Ko({})}return r})();function ile(r){return"guarded"}function nle(r){return["disabled"===r.initialNavigation?sv(3,[{provide:o2,multi:!0,useFactory:()=>{const t=cn(xd);return()=>{t.setUpLocationChangeListener()}}},{provide:C_,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?sv(2,[{provide:C_,useValue:0},{provide:o2,multi:!0,deps:[ma],useFactory:t=>{const e=t.get(ane,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const n=t.get(xd),s=t.get(yW);dW(n,()=>{i(!0)}),t.get(uA).afterPreactivation=()=>(i(!0),s.closed?nr(void 0):s),n.initialNavigation()}))}}]).\u0275providers:[]]}const wW=new _n("");var _1="ej2_instances",sle=0,S_=!1;function pA(r,t){var e=t;return e.unshift(void 0),new(Function.prototype.bind.apply(r,e))}function Xe(r,t){for(var e=t,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Cn(e);n++)e=e[i[parseInt(n.toString(),10)]];return e}function zn(r,t,e){var o,l,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},s=n,a=i.length;for(o=0;o<a;o++)l=i[parseInt(o.toString(),10)],o+1===a?s[""+l]=void 0===t?{}:t:v(s[""+l])&&(s[""+l]={}),s=s[""+l];return n}function fA(r,t){delete r[""+t]}var qS=typeof window<"u"?window:{};function Ep(r){return!v(r)&&r.constructor==={}.constructor}function ya(r,t){if(!v(t))for(var e=r,i=t,s="deepMerge",o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];v(e[""+s])||-1===e[""+s].indexOf(l)||!Ep(i[""+l])&&!Array.isArray(i[""+l])?e[""+l]=i[""+l]:Ii(e[""+l],e[""+l],i[""+l],!0)}}function Ii(r,t,e,i){var n=r&&"object"==typeof r?r:{},s=arguments.length;i&&(s-=1);for(var o=function(h){if(!a[h])return"continue";var c=a[h];Object.keys(c).forEach(function(u){var f,d=n[""+u],p=c[""+u],m=Array.isArray(p)&&Array.isArray(d)&&p.length!==d.length,M=!ge()||!(d instanceof Event||m);i&&M&&(Ep(p)||Array.isArray(p))?Ep(p)?(f=d||{},Array.isArray(f)&&f.hasOwnProperty("isComplexArray")?Ii(f,{},p,i):n[""+u]=Ii(f,{},p,i)):(f=ge()?d&&Object.keys(p).length:d||[],n[""+u]=Ii([],f,p,f&&f.length||p&&p.length)):n[""+u]=p})},a=arguments,l=1;l<s;l++)o(l);return n}function v(r){return null==r}function Cn(r){return typeof r>"u"}function Or(r){return r+"_"+sle++}function gA(r,t){return r===t||!(r===document||!r)&&gA(r.parentNode,t)}function R1(r){try{throw new Error(r)}catch(t){throw t.message+"\n"+t.stack}}function si(r){var t=r+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function ge(){return S_}function IW(r){var t="xPath";return r instanceof Node||!ge()||v(r[""+t])?r:document.evaluate(r[""+t],document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function _o(r,t){var e="string"==typeof r?document.querySelector(r):r;if(e[""+_1])for(var i=0,n=e[""+_1];i<n.length;i++){var s=n[i];if(s instanceof t)return s}return null}var z1,r,t,hle={latn:{_digits:"0123456789",_type:"numeric"}},MW={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},xW=[0,1,2,3,4,5,6,7,8,9],ba=function(){function r(){}return r.getMainObject=function(t,e){return Xe(ge()?e:"main."+e,t)},r.getNumberingSystem=function(t){return Xe("supplemental.numberingSystems",t)||this.numberingSystems},r.reverseObject=function(t,e){for(var n={},s=0,o=e||Object.keys(t);s<o.length;s++){var a=o[s];n.hasOwnProperty(t[a])||(n[t[a]]=a)}return n},r.getSymbolRegex=function(t){var e=t.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|");return new RegExp(e,"g")},r.getSymbolMatch=function(t){for(var i={},n=0,s=Object.keys(MW);n<s.length;n++){var o=s[n];i[t[o]]=MW[o]}return i},r.constructRegex=function(t){for(var e=t.length,i="",n=0;n<e;n++)i+=n!==e-1?t[parseInt(n.toString(),10)]+"|":t[parseInt(n.toString(),10)];return i},r.convertValueParts=function(t,e,i){return t.replace(e,function(n){return i[n]})},r.getDefaultNumberingSystem=function(t){var e={};return e.obj=Xe("numbers",t),e.nSystem=Xe("defaultNumberingSystem",e.obj),e},r.getCurrentNumericOptions=function(t,e,i,n){var s={},o=this.getDefaultNumberingSystem(t);if(!Cn(o.nSystem)||n){var a=n?Xe("obj.mapperDigits",o):Xe(o.nSystem+"._digits",e);if(!Cn(a)){s.numericPair=this.reverseObject(a,xW);var l=RegExp;s.numberParseRegex=new l(this.constructRegex(a),"g"),s.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(s.numericRegex=a[0]+"-"+a[9],s.symbolNumberSystem=Xe(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=o.nSystem)}}return s},r.getNumberMapper=function(t,e,i){var n={mapper:{}},s=this.getDefaultNumberingSystem(t);if(!Cn(s.nSystem)){n.numberSystem=s.nSystem,n.numberSymbols=Xe("symbols-numberSystem-"+s.nSystem,s.obj),n.timeSeparator=Xe("timeSeparator",n.numberSymbols);var o=Xe(s.nSystem+"._digits",e);if(!Cn(o))for(var a=0,l=xW;a<l.length;a++){var h=l[a];n.mapper[h]=o[h]}}return n},r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=hle,r}(),cle={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.",BHD:"\u062f.\u0628.",DZD:"\u062f.\u062c.",EGP:"\u062c.\u0645.",ILS:"\u20aa",IQD:"\u062f.\u0639.",JOD:"\u062f.\u0627.",KMF:"CF",KWD:"\u062f.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062f.\u0644.",MAD:"\u062f.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.",TND:"\u062f.\u062a.",YER:"\u0631.\u064a.",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};r=z1||(z1={}),t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990],r.getHijriDate=function e(n){var s=n.getDate(),o=n.getMonth(),a=n.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);var c=Math.floor(h/100),u=c-Math.floor(c/4)-2,d=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+s-u-1524,p=d+(u=(c=Math.floor((d-1867216.25)/36524.25))-Math.floor(c/4)+1)+1524,f=Math.floor((p-122.1)/365.25),m=Math.floor(365.25*f),M=Math.floor((p-m)/30.6001);s=p-m-Math.floor(30.6001*M),(o=Math.floor((p-m)/20.6001))>13&&(f+=1,o-=12),o-=1,a=f-4716;var T=d-24e5,P=10631/30,U=d-1948084,Y=Math.floor(U/10631);U-=10631*Y;var X=Math.floor((U-.1335)/P),Q=30*Y+X;U-=Math.floor(X*P+.1335);var oe=Math.floor((U+28.5001)/29.5);13===oe&&(oe=12);for(var de=U-Math.floor(29.5001*oe-29),Me=0;Me<t.length&&!(t[parseInt(Me.toString(),10)]>T);Me++);var Ve=Me+16260,Ce=Math.floor((Ve-1)/12),ze=Ce+1,Ie=Ve-12*Ce,pe=T-t[Me-1]+1;return(pe+"").length>2&&(pe=de,Ie=oe,ze=Q),{year:ze,month:Ie,date:pe}},r.toGregorian=function i(n,s,o){var m=Math.floor(o+t[12*(n-1)+1+(s-1)-16260-1]-1+24e5+.5),M=Math.floor((m-1867216.25)/36524.25),T=1524+(M=m+1+M-Math.floor(M/4)),P=Math.floor((T-122.1)/365.25),U=Math.floor(365.25*P),Y=Math.floor((T-U)/30.6001),X=T-U-Math.floor(30.6001*Y),Q=Y-(Y>13.5?13:1),oe=P-(Q>2.5?4716:4715);return oe<=0&&Q--,new Date(oe+"/"+Q+"/"+X)};var dle=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,DW="stand-alone",ple=["sun","mon","tue","wed","thu","fri","sat"],TW={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},fle={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},EW=function(){function r(){}return r.dateFormat=function(t,e,i){var n=this,s=jn.getDependables(i,t,e.calendar),o=Xe("parserObject.numbers",s),a=s.dateObject,l={isIslamic:jn.islamicRegex.test(e.calendar)};ge()&&e.isServerRendered&&(e=jn.compareBlazorDateFormats(e,t));var h=e.format||jn.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,ge()?t:"");if(l.dateSeperator=ge()?Xe("dateSeperator",a):jn.getDateSeparator(s.dateObject),Cn(h))R1("Format options or type given must be invalid");else{h=jn.ConvertDateToWeekFormat(h),ge()&&(h=h.replace(/tt/,"a")),l.pattern=h,l.numMapper=ge()?Ii({},o):ba.getNumberMapper(s.parserObject,ba.getNumberingSystem(i));for(var u=0,d=h.match(dle)||[];u<d.length;u++){var p=d[u],f=p.length,m=p[0];switch("K"===m&&(m="h"),m){case"E":case"c":l.weekday=ge()?Xe("days."+jn.monthIndex[f],a):s.dateObject[jn.days][DW][jn.monthIndex[f]];break;case"M":case"L":l.month=ge()?Xe("months."+jn.monthIndex[f],a):s.dateObject[jn.month][DW][jn.monthIndex[f]];break;case"a":l.designator=ge()?Xe("dayPeriods",a):Xe("dayPeriods.format.wide",a);break;case"G":var M=f<=3?"eraAbbr":4===f?"eraNames":"eraNarrow";l.era=ge()?Xe("eras",a):Xe("eras."+M,s.dateObject);break;case"z":l.timeZone=Xe("dates.timeZoneNames",s.parserObject)}}}return function(T){return isNaN(T.getDate())?null:n.intDateFormatter(T,l)}},r.intDateFormatter=function(t,e){for(var n="",s=e.pattern.match(jn.dateParseRegex),o=this.getCurrentDateValue(t,e.isIslamic),a=0,l=s;a<l.length;a++){var h=l[a],c=h.length,u=h[0];"K"===u&&(u="h");var d=void 0,p="",f=void 0,m=void 0,M="";switch(u){case"M":case"L":d=o.month,c>2?n+=e.month[d]:f=!0;break;case"E":case"c":n+=e.weekday[ple[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(f=!0,"d"===u)d=o.date;else if("f"===u){f=!1,m=!0;var T=(p=(p=t[TW[u]]().toString()).substring(0,c)).length;if(c!==T){if(c>3)continue;for(var P=0;P<c-T;P++)p="0"+p.toString()}M+=p}else d=t[TW[u]]();"h"===u&&(d=d%12||12);break;case"y":m=!0,M+=o.year,2===c&&(M=M.substr(M.length-2));break;case"a":var U=t.getHours()<12?"am":"pm";n+=e.designator[U];break;case"G":var Y=t.getFullYear()<0?0:1,X=e.era[Y];v(X)&&(X=e.era[Y?0:1]),n+=X||"";break;case"'":n+="''"===h?"'":h.replace(/'/g,"");break;case"z":var Q=t.getTimezoneOffset(),oe=c<4?"+H;-H":e.timeZone.hourFormat;oe=oe.replace(/:/g,e.numMapper.timeSeparator),0===Q?n+=e.timeZone.gmtZeroFormat:(m=!0,M=this.getTimeZoneValue(Q,oe)),M=e.timeZone.gmtFormat.replace(/\{0\}/,M);break;case":":n+=e.numMapper.numberSymbols.timeSeparator;break;case"/":n+=e.dateSeperator;break;case"W":f=!0,d=jn.getWeekOfYear(t);break;default:n+=h}f&&(m=!0,M=this.checkTwodigitNumber(d,c)),m&&(n+=ba.convertValueParts(M,jn.latnParseRegex,e.numMapper.mapper))}return n},r.getCurrentDateValue=function(t,e){return e?z1.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},r.checkTwodigitNumber=function(t,e){var i=t+"";return 2===e&&2!==i.length?"0"+i:i},r.getTimeZoneValue=function(t,e){var i=this,s=e.split(";")[t>0?1:0],o=Math.abs(t);return s.replace(/HH?|mm/g,function(a){var l=a.length,h=-1!==a.indexOf("H");return i.checkTwodigitNumber(Math.floor(h?o/60:o%60),l)})},r}(),AW={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},ZS=["infinity","nan","group","decimal","exponential"],OW=function(){function r(){}return r.numberFormatter=function(t,e,i){var l,n=this,s=Ii({},e),o={},a={},h=jn.getDependables(i,t,"",!0),c=h.numericObject;a.numberMapper=ge()?Ii({},c):ba.getNumberMapper(h.parserObject,ba.getNumberingSystem(i),!0),a.currencySymbol=ge()?Xe("currencySymbol",c):jn.getCurrencySymbol(h.numericObject,s.currency||j1,e.altSymbol),a.percentSymbol=ge()?Xe("numberSymbols.percentSign",c):a.numberMapper.numberSymbols.percentSign,a.minusSymbol=ge()?Xe("numberSymbols.minusSign",c):a.numberMapper.numberSymbols.minusSign;var u=a.numberMapper.numberSymbols;if(e.format&&!jn.formatRegex.test(e.format))o=jn.customFormat(e.format,a,h.numericObject);else{if(Ii(s,jn.getProperNumericSkeleton(e.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,ge()||(l=jn.getSymbolPattern(s.type,a.numberMapper.numberSystem,h.numericObject,s.isAccount)),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Cn(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Cn(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&!ge()&&(l=l.replace(/\u00A4/g,jn.defaultCurrency)),ge())o.nData=Ii({},{},Xe(s.type+"nData",c)),o.pData=Ii({},{},Xe(s.type+"pData",c)),"currency"===s.type&&e.currency&&jn.replaceBlazorCurrency([o.pData,o.nData],a.currencySymbol,e.currency);else{var d=l.split(";");o.nData=jn.getFormatData(d[1]||"-"+d[0],!0,a.currencySymbol),o.pData=jn.getFormatData(d[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=u[ZS[2]],s.groupData=this.getGroupingDetails(d[0]))}if(Cn(s.minimumFractionDigits)&&(s.minimumFractionDigits=o.nData.minimumFraction),Cn(s.maximumFractionDigits)){var f=o.nData.maximumFraction;s.maximumFractionDigits=Cn(f)&&s.isPercent?0:f}var m=s.minimumFractionDigits,M=s.maximumFractionDigits;!Cn(m)&&!Cn(M)&&m>M&&(s.maximumFractionDigits=m)}return Ii(o.nData,s),Ii(o.pData,s),function(T){return isNaN(T)?u[ZS[1]]:isFinite(T)?n.intNumberFormatter(T,o,a,e):u[ZS[0]]}},r.getGroupingDetails=function(t){var e={},i=t.match(jn.negativeDataRegex);if(i&&i[4]){var n=i[4],s=n.lastIndexOf(",");if(-1!==s){var o=n.split(".")[0];e.primary=o.length-s-1;var a=n.lastIndexOf(",",s-1);-1!==a&&(e.secondary=s-1-a)}}return e},r.checkValueRange=function(t,e,i,n){var s=n?"f":"s",o=0,a=AW["l"+s],l=AW["m"+s];if(Cn(t)||(this.checkRange(t,a,n),o++),Cn(e)||(this.checkRange(e,l,n),o++),2===o){if(!(t<e))return!0;R1(l+"specified must be less than the"+a)}else i&&1===o&&R1("Both"+l+"and"+l+"must be present");return!1},r.checkRange=function(t,e,i){var n=i?[0,20]:[1,21];(t<n[0]||t>n[1])&&R1(e+"value must be within the range"+n[0]+"to"+n[1])},r.intNumberFormatter=function(t,e,i,n){var s;if(!Cn(e.nData.type)){t<0?(t*=-1,s=e.nData):s=0===t&&e.zeroData||e.pData;var o="";if(s.isPercent&&(t*=100),s.groupOne)o=this.processSignificantDigits(t,s.minimumSignificantDigits,s.maximumSignificantDigits);else if(o=this.processFraction(t,s.minimumFractionDigits,s.maximumFractionDigits,n),s.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,s.minimumIntegerDigits)),i.isCustomFormat&&s.minimumFractionDigits<s.maximumFractionDigits&&/\d+\.\d+/.test(o)){for(var a=o.split("."),l=a[1],c=l.length-1;c>=0&&"0"===l[""+c]&&c>=s.minimumFractionDigits;c--)l=l.slice(0,c);o=a[0]+"."+l}return"scientific"===s.type&&(o=(o=t.toExponential(s.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[ZS[4]])),o=o.replace(".",i.numberMapper.numberSymbols[ZS[3]]),o="#,###,,;(#,###,,)"===s.format?this.customPivotFormat(parseInt(o)):o,s.useGrouping&&(o=this.groupNumbers(o,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[ZS[3]]||".",s.groupData.secondary)),o=ba.convertValueParts(o,jn.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:"0"===o&&n&&"0"===n.format?o+s.nend:s.nlead+o+s.nend}},r.processSignificantDigits=function(t,e,i){var n=t+"";return n.length<e?t.toPrecision(e):+(n=t.toPrecision(i))+""},r.groupNumbers=function(t,e,i,n,s){for(var o=!v(s)&&0!==s,a=t.split(n),l=a[0],h=l.length,c="";h>e;)c=l.slice(h-e,h)+(c.length?i+c:""),h-=e,o&&(e=s,o=!1);return a[0]=l.slice(0,h)+(c.length?i:"")+c,a.join(n)},r.processFraction=function(t,e,i,n){var s=(t+"").split(".")[1],o=s?s.length:0;if(e&&o<e){var a="";if(0!==o){a+=t;for(var l=0;l<e-o;l++)a+="0";return a}return a=t.toFixed(e),t.toFixed(e)}if(!v(i)&&(o>i||0===i))return t.toFixed(i);var h=t+"";return"0"===h[0]&&n&&"###.00"===n.format&&(h=h.slice(1)),h},r.processMinimumIntegers=function(t,e){var i=t.split("."),n=i[0],s=n.length;if(s<e){for(var o=0;o<e-s;o++)n="0"+n;i[0]=n}return i.join(".")},r.customPivotFormat=function(t){if(t>=5e5){var n=(t/=1e6).toString().split(".")[1];return n&&+n.substring(0,1)>=5?Math.ceil(t).toString():Math.floor(t).toString()}return""},r}(),LW="stand-alone",yle=/^[0-9]*$/,kW={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Cle=function(){function r(){}return r.dateParser=function(t,e,i){var n=this,s=jn.getDependables(i,t,e.calendar),o=ba.getCurrentNumericOptions(s.parserObject,ba.getNumberingSystem(i),!1,ge()),a={};ge()&&e.isServerRendered&&(e=jn.compareBlazorDateFormats(e,t));var c,l=e.format||jn.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,ge()?t:""),h="";if(Cn(l))R1("Format options or type given must be invalid");else{l=jn.ConvertDateToWeekFormat(l),a={isIslamic:jn.islamicRegex.test(e.calendar),pattern:l,evalposition:{},culture:t};for(var u=l.match(jn.dateParseRegex)||[],d=u.length,p=0,f=0,m=!1,M=o.numericRegex,T=ge()?s.parserObject.numbers:ba.getNumberMapper(s.parserObject,ba.getNumberingSystem(i)),P=0;P<d;P++){var U=u[parseInt(P.toString(),10)],Y=U.length,X="K"===U[0]?"h":U[0],Q=void 0,oe=void 0,de=fle[X],Me=2===Y?"":"?";switch(m&&(p=f,m=!1),X){case"E":case"c":var Ve;Ve=ge()?Xe("days."+jn.monthIndex[Y],s.dateObject):s.dateObject[jn.days][LW][jn.monthIndex[Y]];var Ce=ba.reverseObject(Ve);h+="("+Object.keys(Ce).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(oe=!0,("M"===X||"L"===X)&&Y>2){var ze;ze=ge()?Xe("months."+jn.monthIndex[Y],s.dateObject):s.dateObject.months[LW][jn.monthIndex[Y]],a[de]=ba.reverseObject(ze),h+="("+Object.keys(a[de]).join("|")+")"}else if("f"===X){if(Y>3)continue;Q=!0,h+="("+M+M+"?"+M+"?)"}else Q=!0,h+="("+M+M+Me+")";"h"===X&&(a.hour12=!0);break;case"W":h+="("+M+(1===Y?"?":"")+M+")";break;case"y":oe=Q=!0,h+=2===Y?"("+M+M+")":"("+M+"{"+Y+",})";break;case"a":oe=!0;var pe=ge()?Xe("dayPeriods",s.dateObject):Xe("dayPeriods.format.wide",s.dateObject);a[de]=ba.reverseObject(pe),h+="("+Object.keys(a[de]).join("|")+")";break;case"G":oe=!0;var Pe=Y<=3?"eraAbbr":4===Y?"eraNames":"eraNarrow";a[de]=ba.reverseObject(ge()?Xe("eras",s.dateObject):Xe("eras."+Pe,s.dateObject)),h+="("+Object.keys(a[de]).join("|")+"?)";break;case"z":oe=0!==(new Date).getTimezoneOffset(),a[de]=Xe("dates.timeZoneNames",s.parserObject);var Oe=a[de],Ye=(c=Y<4)?"+H;-H":Oe.hourFormat;Ye=Ye.replace(/:/g,T.timeSeparator),h+="("+this.parseTimeZoneRegx(Ye,Oe,M)+")?",m=!0,f=c?6:12;break;case"'":h+="("+U.replace(/'/g,"")+")?";break;default:h+="([\\D])"}if(oe&&(a.evalposition[""+de]={isNumber:Q,pos:P+1+p,hourOnly:c}),P===d-1&&!v(h)){var Xt=RegExp;a.parserRegex=new Xt("^"+h+"$","i")}}}return function(ni){var ui=n.internalDateParse(ni,a,o);if(v(ui)||!Object.keys(ui).length)return null;if(a.isIslamic){var Pi={},Di=ui.year,Fi=ui.day,Mi=ui.month,hn=Di?Di+"":"",xr=2===hn.length;(!Di||!Mi||!Fi||xr)&&(Pi=z1.getHijriDate(new Date)),xr&&(Di=parseInt((Pi.year+"").slice(0,2)+hn,10));var Dn=z1.toGregorian(Di||Pi.year,Mi||Pi.month,Fi||Pi.date);ui.year=Dn.getFullYear(),ui.month=Dn.getMonth()+1,ui.day=Dn.getDate()}return n.getDateObject(ui)}},r.getDateObject=function(t,e){var i=e||new Date;i.setMilliseconds(0);var s=t.year,o=t.designator,a=t.timeZone;Cn(s)||((s+"").length<=2&&(s+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(s));for(var c=0,u=["hour","minute","second","milliseconds","month","day"];c<u.length;c++){var d=u[c],p=t[d];if(Cn(p)&&"day"===d&&i.setDate(1),!Cn(p))if("month"===d){if((p-=1)<0||p>11)return new Date("invalid");var f=i.getDate();i.setDate(1),i[kW[d]](p);var m=new Date(i.getFullYear(),p+1,0).getDate();i.setDate(f<m?f:m)}else{if("day"===d){var M=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(p<1||p>M)return null}i[kW[d]](p)}}if(!Cn(o)){var T=i.getHours();"pm"===o?i.setHours(T+(12===T?0:12)):12===T&&i.setHours(0)}if(!Cn(a)){var P=a-i.getTimezoneOffset();0!==P&&i.setMinutes(i.getMinutes()+P)}return i},r.internalDateParse=function(t,e,i){var n=t.match(e.parserRegex),s={hour:0,minute:0,second:0};if(v(n))return null;for(var a=0,l=Object.keys(e.evalposition);a<l.length;a++){var h=l[a],c=e.evalposition[""+h],u=n[c.pos];if(c.isNumber)s[h]=this.internalNumberParser(u,i);else if("timeZone"!==h||Cn(u))u="month"!==h||e.isIslamic||"en"!==e.culture&&"en-GB"!==e.culture&&"en-US"!==e.culture?u:u[0].toUpperCase()+u.substring(1).toLowerCase(),s[h]=e[h][u];else{var d=c.pos,p=void 0,f=n[d+1],m=!Cn(f);c.hourOnly?p=60*this.getZoneValue(m,f,n[d+4],i):(p=60*this.getZoneValue(m,f,n[d+7],i),p+=this.getZoneValue(m,n[d+4],n[d+10],i)),v(p)||(s[""+h]=p)}}return e.hour12&&(s.hour12=!0),s},r.internalNumberParser=function(t,e){return t=ba.convertValueParts(t,e.numberParseRegex,e.numericPair),yle.test(t)?+t:null},r.parseTimeZoneRegx=function(t,e,i){var s,n=e.gmtFormat,o="("+i+")("+i+")";return s=t.replace("+","\\+"),(s=-1!==t.indexOf("HH")?s.replace(/HH|mm/g,"("+o+")"):s.replace(/H|m/g,"("+o+"?)")).split(";").map(function(l){return n.replace("{0}",l)}).join("|")+"|"+e.gmtZeroFormat},r.getZoneValue=function(t,e,i,n){var s=t?e:i;if(!s)return 0;var o=this.internalNumberParser(s,n);return t?-o:o},r}(),wle=new RegExp("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),Ile=/,/g,Mle=["minusSign","infinity"],xle=function(){function r(){}return r.numberParser=function(t,e,i){var a,n=this,s=jn.getDependables(i,t,"",!0),o={custom:!0};jn.formatRegex.test(e.format)||!e.format?(Ii(o,jn.getProperNumericSkeleton(e.format||"N")),o.custom=!1,o.fractionDigits||e.maximumFractionDigits&&(o.maximumFractionDigits=e.maximumFractionDigits)):Ii(o,jn.customFormat(e.format,null,null));var h,l=Xe("numbers",s.parserObject);if(a=ba.getCurrentNumericOptions(s.parserObject,ba.getNumberingSystem(i),!0,ge()),o.symbolRegex=ba.getSymbolRegex(Object.keys(a.symbolMatch)),o.infinity=a.symbolNumberSystem[Mle[1]],ge())o.nData=Ii({},{},Xe(o.type+"nData",l)),o.pData=Ii({},{},Xe(o.type+"pData",l)),"currency"===o.type&&e.currency&&jn.replaceBlazorCurrency([o.pData,o.nData],Xe("currencySymbol",l),e.currency);else if(h=jn.getSymbolPattern(o.type,a.numberSystem,s.numericObject,o.isAccount)){var c=(h=h.replace(/\u00A4/g,jn.defaultCurrency)).split(";");o.nData=jn.getFormatData(c[1]||"-"+c[0],!0,""),o.pData=jn.getFormatData(c[0],!0,"")}return function(u){return n.getParsedNumber(u,o,a)}},r.getParsedNumber=function(t,e,i){var n,s,o,a,l,h;if(-1!==t.indexOf(e.infinity))return 1/0;t=ba.convertValueParts(t,e.symbolRegex,i.symbolMatch),0===(t=-1!==(t=ba.convertValueParts(t,i.numberParseRegex,i.numericPair)).indexOf("-")?t.replace("-.","-0."):t).indexOf(".")&&(t="0"+t);var c=t.match(wle);if(v(c))return NaN;a=c[1],o=c[2];var u=c[5];return l=c[6],s=(n=e.custom?a===e.nData.nlead&&l===e.nData.nend:-1!==a.indexOf(e.nData.nlead)&&-1!==l.indexOf(e.nData.nend))?e.nData.isPercent:e.pData.isPercent,o=o.replace(Ile,""),u&&(o+=u),h=+o,("percent"===e.type||s)&&(h/=100),(e.custom||e.fractionDigits)&&(h=parseFloat(h.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),e.maximumFractionDigits&&(h=this.convertMaxFracDigits(o,e,h,n)),n&&(h*=-1),h},r.convertMaxFracDigits=function(t,e,i,n){var s=t.split(".");return s[1]&&s[1].length>e.maximumFractionDigits&&(i=+i.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.maximumFractionDigits)),i},r}(),B1=function(){function r(t){this.ranArray=[],this.boundedEvents={},!v(t)&&(this.context=t)}return r.prototype.on=function(t,e,i,n){if(!v(e)){var s=i||this.context;if(this.notExist(t))return void(this.boundedEvents[""+t]=[{handler:e,context:s}]);v(n)?this.isHandlerPresent(this.boundedEvents[""+t],e)||this.boundedEvents[""+t].push({handler:e,context:s}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[""+t].push({handler:e,context:s,id:n}))}},r.prototype.off=function(t,e,i){if(!this.notExist(t)){var n=Xe(t,this.boundedEvents);if(e){for(var s=0;s<n.length;s++)if(i){if(n[parseInt(s.toString(),10)].id===i){n.splice(s,1);var o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(e===n[parseInt(s.toString(),10)].handler){n.splice(s,1);break}}else delete this.boundedEvents[""+t]}},r.prototype.notify=function(t,e,i,n){if(this.notExist(t))i&&i.call(this,e);else{e&&(e.name=t);var o=Xe(t,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,e,i,n,0);for(var a=0,l=o;a<l.length;a++){var h=l[a];h.handler.call(h.context,e)}i&&i.call(this,e)}},r.prototype.blazorCallback=function(t,e,i,n,s){var o=this,a=s===t.length-1;if(s<t.length){var l=t[parseInt(s.toString(),10)],h=l.handler.call(l.context,e);if(h&&"function"==typeof h.then){if(!i)return h;h.then(function(c){if(c="string"==typeof c&&o.isJson(c)?JSON.parse(c,o.dateReviver):c,Ii(e,e,c,!0),!i||!a)return o.blazorCallback(t,e,i,n,s+1);i.call(l.context,e)}).catch(function(c){n&&n.call(l.context,"string"==typeof c&&o.isJson(c)?JSON.parse(c,o.dateReviver):c)})}else{if(!i||!a)return this.blazorCallback(t,e,i,n,s+1);i.call(l.context,e)}}},r.prototype.dateReviver=function(t,e){return ge&&"string"==typeof e&&null!==e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(e):e},r.prototype.isJson=function(t){try{JSON.parse(t)}catch{return!1}return!0},r.prototype.destroy=function(){this.boundedEvents=this.context=void 0},r.prototype.notExist=function(t){return!1===this.boundedEvents.hasOwnProperty(t)||this.boundedEvents[t].length<=0},r.prototype.isHandlerPresent=function(t,e){for(var i=0,n=t;i<n.length;i++)if(n[i].handler===e)return!0;return!1},r}(),hb=new B1,Dd={},F1="en-US",j1="USD",M_=["numericObject","dateObject"],H1=function(){function r(t){t&&(this.culture=t)}return r.prototype.getDateFormat=function(t){return EW.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},Dd)},r.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=j1),ge()&&t&&!t.format&&(t.minimumFractionDigits=0),OW.numberFormatter(this.getCulture(),t||{},Dd)},r.prototype.getDateParser=function(t){return Cle.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},Dd)},r.prototype.getNumberParser=function(t){return ge()&&t&&!t.format&&(t.minimumFractionDigits=0),xle.numberParser(this.getCulture(),t||{format:"N"},Dd)},r.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},r.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},r.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},r.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},r.prototype.getDatePattern=function(t,e){return jn.getActualDateTimeFormat(this.getCulture(),t,Dd,e)},r.prototype.getNumberPattern=function(t,e){return jn.getActualNumberFormat(this.getCulture(),t,Dd,e)},r.prototype.getFirstDayOfWeek=function(){return jn.getWeekData(this.getCulture(),Dd)},r.prototype.getCulture=function(){return this.culture||F1},r}();function U1(r,t){var e=jn.getDependables(Dd,r,"",!0)[M_[0]],i=jn.getDependables(Dd,r,"")[M_[1]],n=Xe("defaultNumberingSystem",e),s=ge()?Xe("numberSymbols",e):Xe("symbols-numberSystem-"+n,e),o=jn.getSymbolPattern(t||"decimal",n,e,!1);return Ii(s,jn.getFormatData(o,!0,"",!0),{dateSeparator:jn.getDateSeparator(i)})}var jn,NW=RegExp,PW={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;r.defaultCurrency="$";var e=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/gi,r.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=new NW("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),r.currencyFormatRegex=new NW("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),r.curWithoutNumberRegex=/(c|a)$/gi;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(pe,Pe,Qe,Oe,Ye){var ut,Xt=Qe||"date";if(Ye)ut=d({skeleton:pe},Ye).format||d({skeleton:"d"},"en-US").format;else{if(-1!==r.basicPatterns.indexOf(pe)){if(ut=Xe(Xt+"Formats."+pe,Pe),"dateTime"===Xt){var ni=Xe("dateFormats."+pe,Pe),ui=Xe("timeFormats."+pe,Pe);ut=ut.replace("{1}",ni).replace("{0}",ui)}}else ut=Xe("dateTimeFormats.availableFormats."+pe,Pe);Cn(ut)&&"yMd"===pe&&(ut="M/d/y")}return ut}function h(pe,Pe,Qe,Oe){var Ye={},ut=Qe||"gregorian";if(Ye.parserObject=ba.getMainObject(pe,Pe)||(ge()?r.blazorDefaultObject:r.defaultObject),Oe)Ye.numericObject=Xe("numbers",Ye.parserObject);else{var Xt=ge()?"dates":"dates.calendars."+ut;Ye.dateObject=Xe(Xt,Ye.parserObject)}return Ye}function c(pe,Pe,Qe,Oe){return Xe(pe+"Formats-numberSystem-"+Pe+(Oe?".accounting":".standard"),Qe)||(Oe?Xe(pe+"Formats-numberSystem-"+Pe+".standard",Qe):"")}function u(pe){var Pe=pe.match(r.dateConverterMapper);return Pe&&ge()?pe.replace(r.dateConverterMapper,3===Pe[0].length?"EEE":"EEEE"):pe}function d(pe,Pe){var Qe=pe.format||pe.skeleton,Oe=Xe((Pe||"en-US")+"."+Qe,PW);return Oe||(Oe=Xe("en-US."+Qe,PW)),Oe&&(Oe=u(Oe),pe.format=Oe.replace(/tt/,"a")),pe}function p(pe){var Pe=pe.match(r.formatRegex),Qe={},Oe=Pe[1].toUpperCase();return Qe.isAccount="A"===Oe,Qe.type=r.patternMatcher[Oe],pe.length>1&&(Qe.fractionDigits=parseInt(Pe[2],10)),Qe}function f(pe,Pe,Qe,Oe){var Ye=Oe?{}:{nlead:"",nend:""},ut=pe.match(r.customRegex);if(ut){Oe||(Ye.nlead=m(ut[1],Qe),Ye.nend=m(ut[10],Qe),Ye.groupPattern=ut[4]);var Xt=ut[7];if(Xt&&Pe){var ni=Xt.match(t);Ye.minimumFraction=v(ni)?0:ni.length,Ye.maximumFraction=Xt.length-1}}return Ye}function m(pe,Pe){return pe?pe.replace(r.defaultCurrency,Pe):""}function M(pe,Pe,Qe){return Xe("currencies."+Pe+(Qe?"."+Qe:".symbol"),pe)||Xe("currencies."+Pe+".symbol-alt-narrow",pe)||"$"}function P(pe,Pe,Qe){var Oe={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},Ye=pe.match(r.customRegex);if(v(Ye)||""===Ye[5]&&"N/A"!==pe)return Oe.type=void 0,Oe;Oe.nlead=Ye[1],Oe.nend=Ye[10];var ut=Ye[6],Xt=!!ut.match(/\ $/g),ni=-1!==ut.replace(/\ $/g,"").indexOf(" ");Oe.useGrouping=-1!==ut.indexOf(",")||ni,ut=ut.replace(/,/g,"");var ui=Ye[7];if(-1!==ut.indexOf("0")&&(Oe.minimumIntegerDigits=ut.length-ut.indexOf("0")),v(ui)||(Oe.minimumFractionDigits=ui.lastIndexOf("0"),Oe.maximumFractionDigits=ui.lastIndexOf("#"),-1===Oe.minimumFractionDigits&&(Oe.minimumFractionDigits=0),(-1===Oe.maximumFractionDigits||Oe.maximumFractionDigits<Oe.minimumFractionDigits)&&(Oe.maximumFractionDigits=Oe.minimumFractionDigits)),v(Pe)?Ii(Oe,U([Oe.nlead,Oe.nend],"%","%")):(Pe.isCustomFormat=!0,Ii(Oe,U([Oe.nlead,Oe.nend],"$",Pe.currencySymbol)),Oe.isCurrency||Ii(Oe,U([Oe.nlead,Oe.nend],"%",Pe.percentSymbol))),!v(Qe)){var Pi=c(Oe.type,Pe.numberMapper.numberSystem,Qe,!1);Oe.useGrouping&&(Oe.groupSeparator=ni?" ":Pe.numberMapper.numberSymbols[e[2]],Oe.groupData=OW.getGroupingDetails(Pi.split(";")[0])),Oe.nlead=Oe.nlead.replace(/'/g,""),Oe.nend=Xt?" "+Oe.nend.replace(/'/g,""):Oe.nend.replace(/'/g,"")}return Oe}function U(pe,Pe,Qe){for(var Oe={nlead:pe[0],nend:pe[1]},Ye=0;Ye<2;Ye++){var ut=pe[parseInt(Ye.toString(),10)],Xt=ut.indexOf(Pe);if(-1!==Xt&&(Xt<ut.indexOf("'")||Xt>ut.lastIndexOf("'"))){Oe[a[Ye]]=ut.substr(0,Xt)+Qe+ut.substr(Xt+1),Oe[a[Pe]]=!0,Oe.type=Oe.isCurrency?"currency":"percent";break}}return Oe}function de(pe,Pe,Qe){pe+=".";for(var Oe=0;Oe<Pe;Oe++)pe+="0";if(Pe<Qe)for(var Ye=Qe-Pe,ut=0;ut<Ye;ut++)pe+="#";return pe}function Me(pe,Pe){for(var Qe=pe.split("."),Oe="",Ye=0;Ye<Pe;Ye++)Oe+="0";return Qe[1]?Oe+"."+Qe[1]:Oe}function Ve(pe){var Pe=pe.split("."),Qe=Pe[0],Oe=3-Qe.length%3;pe="";for(var ut=(Qe=(Oe&&1===Oe?"#":2===Oe?"##":"")+Qe).length-1;ut>0;ut-=3)pe=","+Qe[ut-2]+Qe[ut-1]+Qe[parseInt(ut.toString(),10)]+pe;return pe=pe.slice(1),Pe[1]?pe+"."+Pe[1]:pe}r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},r.getResultantPattern=l,r.getDependables=h,r.getSymbolPattern=c,r.ConvertDateToWeekFormat=u,r.compareBlazorDateFormats=d,r.getProperNumericSkeleton=p,r.getFormatData=f,r.changeCurrencySymbol=m,r.getCurrencySymbol=M,r.customFormat=function T(pe,Pe,Qe){for(var Oe={},Ye=pe.split(";"),ut=["pData","nData","zeroData"],Xt=0;Xt<Ye.length;Xt++)Oe[ut[Xt]]=P(Ye[Xt],Pe,Qe);return v(Oe.nData)&&(Oe.nData=Ii({},Oe.pData),Oe.nData.nlead=v(Pe)?"-"+Oe.nData.nlead:Pe.minusSymbol+Oe.nData.nlead),Oe},r.customNumberFormat=P,r.isCurrencyPercent=U,r.getDateSeparator=function Y(pe){var Pe=(Xe("dateFormats.short",pe)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return Pe?Pe[1]:"/"},r.getActualDateTimeFormat=function X(pe,Pe,Qe,Oe){var Ye=h(Qe,pe,Pe.calendar);ge()&&(Pe=d(Pe,pe));var ut=Pe.format||l(Pe.skeleton,Ye.dateObject,Pe.type);if(Oe){if(-1!==(ut=ut.replace(i,function(Mi){return n[Mi]})).indexOf("z")){var Xt=ut.match(/z/g).length,ni=void 0,ui={timeZone:{}};ui.numMapper=ba.getNumberMapper(Ye.parserObject,ba.getNumberingSystem(Qe)),ui.timeZone=Xe("dates.timeZoneNames",Ye.parserObject);var Di=(new Date).getTimezoneOffset(),Fi=Xt<4?"+H;-H":ui.timeZone.hourFormat;Fi=Fi.replace(/:/g,ui.numMapper.timeSeparator),0===Di?ni=ui.timeZone.gmtZeroFormat:(ni=EW.getTimeZoneValue(Di,Fi),ni=ui.timeZone.gmtFormat.replace(/\{0\}/,ni)),ut=ut.replace(/[z]+/,'"'+ni+'"')}ut=ut.replace(/ $/,"")}return ut},r.getActualNumberFormat=function oe(pe,Pe,Qe,Oe){var ni,Dn,Ye=h(Qe,pe,"",!0),ut={custom:!0},Xt=Ye.numericObject,ui={},Pi=(Pe.format||"").match(r.currencyFormatRegex),Di=r.formatRegex.test(Pe.format)?p(Pe.format||"N"):{},Fi={};if(Pi){Fi.numberMapper=ge()?Ii({},Ye.numericObject):ba.getNumberMapper(Ye.parserObject,ba.getNumberingSystem(Qe),!0);var Mi=ge()?Xe("currencySymbol",Ye.numericObject):M(Ye.numericObject,Pe.currency||j1,Pe.altSymbol),hn=c("currency",Fi.numberMapper.numberSystem,Ye.numericObject,/a/i.test(Pe.format)),xr=(hn=hn.replace(/\u00A4/g,Mi)).split(";");ui.hasNegativePattern=!!ge()||xr.length>1,ui.nData=ge()?Xe(Di.type+"nData",Xt):f(xr[1]||"-"+xr[0],!0,Mi),ui.pData=ge()?Xe(Di.type+"pData",Xt):f(xr[0],!1,Mi),!Pi[2]&&!Pe.minimumFractionDigits&&!Pe.maximumFractionDigits&&(ni=f(hn.split(";")[0],!0,"",!0).minimumFraction)}if(r.formatRegex.test(Pe.format)||!Pe.format){if(Ii(ut,p(Pe.format||"N")),ut.custom=!1,Dn="###0",(ut.fractionDigits||Pe.minimumFractionDigits||Pe.maximumFractionDigits||ni)&&(ut.fractionDigits&&(Pe.minimumFractionDigits=Pe.maximumFractionDigits=ut.fractionDigits),Dn=de(Dn,ni||ut.fractionDigits||Pe.minimumFractionDigits||0,Pe.maximumFractionDigits||0)),Pe.minimumIntegerDigits&&(Dn=Me(Dn,Pe.minimumIntegerDigits)),Pe.useGrouping&&(Dn=Ve(Dn)),"currency"===ut.type||ut.type&&ge()){ge()&&"currency"!==ut.type&&(ui.pData=Xe(ut.type+"pData",Xt),ui.nData=Xe(ut.type+"nData",Xt));var yt=Dn;Dn=ui.pData.nlead+yt+ui.pData.nend,(ui.hasNegativePattern||ge())&&(Dn+=";"+ui.nData.nlead+yt+ui.nData.nend)}"percent"===ut.type&&!ge()&&(Dn+=" %")}else Dn=Pe.format.replace(/'/g,'"');return Object.keys(Fi).length>0&&(Dn=Oe?Dn:function Q(pe,Pe){if(-1!==pe.indexOf(",")){var Qe=pe.split(",");pe=Qe[0]+Xe("numberMapper.numberSymbols.group",Pe)+Qe[1].replace(".",Xe("numberMapper.numberSymbols.decimal",Pe))}else pe=pe.replace(".",Xe("numberMapper.numberSymbols.decimal",Pe));return pe}(Dn,Fi)),Dn},r.fractionDigitsPattern=de,r.minimumIntegerPattern=Me,r.groupingPattern=Ve,r.getWeekData=function Ce(pe,Pe){var Qe="sun",Oe=Xe("supplemental.weekData.firstDay",Pe),Ye=pe;return/en-/.test(Ye)&&(Ye=Ye.slice(3)),Ye=Ye.slice(0,2).toUpperCase()+Ye.substr(2),Oe&&(Qe=Oe[""+Ye]||Oe[Ye.slice(0,2)]||"sun"),o[""+Qe]},r.replaceBlazorCurrency=function ze(pe,Pe,Qe){var Oe=function ule(r){return Xe(r||"",cle)}(Qe);if(Pe!==Oe)for(var Ye=0,ut=pe;Ye<ut.length;Ye++){var Xt=ut[Ye];Xt.nend=Xt.nend.replace(Pe,Oe),Xt.nlead=Xt.nlead.replace(Pe,Oe)}},r.getWeekOfYear=function Ie(pe){var Oe,Pe=new Date(pe.getFullYear(),0,1),Qe=Pe.getDay();Qe=Qe>=0?Qe:Qe+7;var Ye=Math.floor((pe.getTime()-Pe.getTime()-6e4*(pe.getTimezoneOffset()-Pe.getTimezoneOffset()))/864e5)+1;if(Qe<4){if((Oe=Math.floor((Ye+Qe-1)/7)+1)>52){var Xt=new Date(pe.getFullYear()+1,0,1).getDay();Oe=(Xt=Xt>=0?Xt:Xt+7)<4?1:53}}else Oe=Math.floor((Ye+Qe-1)/7);return Oe}}(jn||(jn={}));var JS=function(){function r(t,e,i){this.type="GET",this.emitError=!0,"string"==typeof t?(this.url=t,this.type=v(e)?this.type:e.toUpperCase(),this.contentType=i):Ep(t)&&Object.keys(t).length>0&&ya(this,t),this.contentType=v(this.contentType)?"application/json; charset=utf-8":this.contentType}return r.prototype.send=function(t){var e=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{v(this.fetchRequest)&&"GET"===this.type?this.fetchRequest=new Request(this.url,{method:this.type}):v(this.fetchRequest)&&(this.data=v(t)?this.data:t,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then(function(s){if(e.triggerEvent(e.onLoad,s),!s.ok)throw new Error(s.statusText);for(var o="text",a=0,l=Object.keys(i);a<l.length;a++){var h=l[a];-1!==s.headers.get("Content-Type").indexOf(h)&&(o=i[h])}return s[o]()}).then(function(s){return e.triggerEvent(e.onSuccess,s,e),s}).catch(function(s){var o={};return e.emitError&&(e.triggerEvent(e.onFailure,s),o=Promise.reject(s)),o}))}catch(s){return s}},r.prototype.triggerEvent=function(t,e,i){!v(t)&&"function"==typeof t&&t(e,i)},r}(),Dle=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Tle=/msie|trident/i,Ele=/Trident\/7\./,Ale=/(ipad|iphone|ipod touch)/i,Ole=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Lle=/android/i,kle=/trident|windows phone|edge/i,Nle=/(version)[ /]([\w.]+)/i,x_={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var Ue=function(){function r(){}return r.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,s=Object.keys(x_);n<s.length;n++)if(i=r.userAgent.match(x_[""+s[n]])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,r.userAgent.match(Ele)){t.name="msie";break}var a=r.userAgent.match(Nle);"safari"===t.name&&a&&(t.version=a[2]);break}return t},r.getEvent=function(t){var e={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return r.isPointer?e[""+t].isPointer:r.isTouch?e[""+t].isTouch+(r.isDevice?"":" "+e[""+t].isDevice):e[""+t].isDevice},r.getTouchStartEvent=function(){return r.getEvent("start")},r.getTouchEndEvent=function(){return r.getEvent("end")},r.getTouchMoveEvent=function(){return r.getEvent("move")},r.getTouchCancelEvent=function(){return r.getEvent("cancel")},r.isSafari=function(){return r.isDevice&&r.isIos&&r.isTouch&&typeof window<"u"&&-1===window.navigator.userAgent.toLowerCase().indexOf("iphone")&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},r.getValue=function(t,e){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===r.isTouch&&!x_.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),typeof i[""+t]>"u"?i[""+t]=e.test(r.userAgent):i[""+t]},Object.defineProperty(r,"userAgent",{get:function(){return r.uA},set:function(t){r.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"info",{get:function(){return Cn(window.browserDetails.info)?window.browserDetails.info=r.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIE",{get:function(){return r.getValue("isIE",Tle)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isTouch",{get:function(){return Cn(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isPointer",{get:function(){return Cn(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isMSPointer",{get:function(){return Cn(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isDevice",{get:function(){return r.getValue("isDevice",Dle)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos",{get:function(){return r.getValue("isIos",Ale)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos7",{get:function(){return r.getValue("isIos7",Ole)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isAndroid",{get:function(){return r.getValue("isAndroid",Lle)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWebView",{get:function(){return Cn(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Cn(window.cordova)&&Cn(window.PhoneGap)&&Cn(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWindows",{get:function(){return r.getValue("isWindows",kle)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchStartEvent",{get:function(){return Cn(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=r.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchMoveEvent",{get:function(){return Cn(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=r.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchEndEvent",{get:function(){return Cn(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=r.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchCancelEvent",{get:function(){return Cn(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=r.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),r.uA=typeof navigator<"u"?navigator.userAgent:"",r}(),$=function(){function r(){}return r.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},r.add=function(t,e,i,n,s){var a,o=r.addOrGetEventData(t);a=s?function w_(r,t){var e;return function(){var i=this,n=arguments;clearTimeout(e),e=setTimeout(function(){return e=null,r.apply(i,n)},t)}}(i,s):i,n&&(a=a.bind(n));for(var l=e.split(" "),h=0;h<l.length;h++)o.push({name:l[parseInt(h.toString(),10)],listener:i,debounce:a}),Ue.isIE?t.addEventListener(l[parseInt(h.toString(),10)],a):t.addEventListener(l[parseInt(h.toString(),10)],a,{passive:!1});return a},r.remove=function(t,e,i){for(var n=r.addOrGetEventData(t),s=e.split(" "),o=function(l){var c,h=-1;n&&0!==n.length&&n.some(function(u,d){return u.name===s[parseInt(l.toString(),10)]&&u.listener===i&&(h=d,c=u.debounce,!0)}),-1!==h&&n.splice(h,1),c&&t.removeEventListener(s[parseInt(l.toString(),10)],c)},a=0;a<s.length;a++)o(a)},r.clearEvents=function(t){var e,i;i=Ii([],i,e=r.addOrGetEventData(t));for(var n=0;n<i.length;n++)t.removeEventListener(i[parseInt(n.toString(),10)].name,i[parseInt(n.toString(),10)].debounce),e.shift()},r.trigger=function(t,e,i){for(var s=0,o=r.addOrGetEventData(t);s<o.length;s++){var a=o[s];a.name===e&&a.debounce.call(this,i)}},r}(),Ple=/^svg|^path|^g/;function Lr(r,t){var e=Ple.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return typeof t>"u"||(e.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(e.className=t.className),void 0!==t.id&&(e.id=t.id),void 0!==t.styles&&e.setAttribute("style",t.styles),void 0!==t.attrs&&wi(e,t.attrs)),e}function be(r,t){for(var e=zW(t),i=RegExp,n=0,s=r;n<s.length;n++)for(var o=s[n],a=0,l=e;a<l.length;a++){var h=l[a];if(Ep(o)){var c=Xe("attributes.className",o);v(c)?zn("attributes.className",h,o):new i("\\b"+h+"\\b","i").test(c)||zn("attributes.className",c+" "+h,o)}else o.classList.contains(h)||o.classList.add(h)}return r}function Ae(r,t){for(var e=zW(t),i=0,n=r;i<n.length;i++){var s=n[i],o=Ep(s);if(o?Xe("attributes.className",s):""!==s.className)for(var l=0,h=e;l<h.length;l++){var c=h[l];if(o){var d=Xe("attributes.className",s).split(" "),p=d.indexOf(c);-1!==p&&d.splice(p,1),zn("attributes.className",d.join(" "),s)}else s.classList.remove(c)}}return r}function zW(r){var t=[];return"string"==typeof r?t.push(r):t=r,t}function ra(r){return""===r.style.visibility&&r.offsetWidth>0}function tl(r,t,e){for(var i=document.createDocumentFragment(),n=0,s=r;n<s.length;n++)i.appendChild(s[n]);return t.insertBefore(i,t.firstElementChild),e&&BW(t),r}function Yi(r,t,e){var i=document.createDocumentFragment();if(r instanceof NodeList)for(;r.length>0;)i.appendChild(r[0]);else for(var n=0,s=r;n<s.length;n++)i.appendChild(s[n]);return t.appendChild(i),e&&BW(t),r}function BW(r){r.querySelectorAll("script").forEach(function(e){var i=document.createElement("script");i.text=e.innerHTML,document.head.appendChild(i),Ot(i)})}function Ot(r){var t=r.parentNode;if(t)return t.removeChild(r)}function bn(r){var t=r.parentNode;$.clearEvents(r),t.removeChild(r)}function wi(r,t){for(var i=r,n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];if(Ep(i)){var a=o;"tabindex"===o&&(a="tabIndex"),i.attributes[""+a]=t[""+o]}else i.setAttribute(o,t[""+o])}return i}function Ge(r,t,e){return void 0===t&&(t=document),r=FW(r),t.querySelector(r)}function bi(r,t,e){return void 0===t&&(t=document),r=FW(r),t.querySelectorAll(r)}function FW(r){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(t)){for(var e=r.split(","),i=0;i<e.length;i++){for(var n=e[parseInt(i.toString(),10)].split(" "),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].indexOf("#")>-1&&!n[parseInt(s.toString(),10)].match(/\[.*\]/)){var o=n[parseInt(s.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(t)){var a=n[parseInt(s.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",n[parseInt(s.toString(),10)]=a.join(".")}}e[parseInt(i.toString(),10)]=n.join(" ")}return e.join(",")}return r}function Je(r,t){var e=r;if("function"==typeof e.closest)return e.closest(t);for(;e&&1===e.nodeType;){if(W1(e,t))return e;e=e.parentNode}return null}function $i(r,t){void 0!==t&&Object.keys(t).forEach(function(e){r.style[e]=t[e]})}function dl(r,t,e){be([r],t),Ae([r],e)}function W1(r,t){var e=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return e?e.call(r,t):-1!==[].indexOf.call(document.querySelectorAll(t),r)}var _le=new RegExp("]"),ov=function(){function r(t,e){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new B1(this),Cn(e)||(this.element="string"==typeof e?document.querySelector(e):e,v(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Cn(t)||this.setProperties(t,!0),this.isDestroyed=!1}return r.prototype.setProperties=function(t,e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!e,ya(this,t),!0!==e?(ya(this.changedProperties,t),this.dataBind()):ge()&&this.isRendered&&this.serverDataBind(t),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},r.callChildDataBind=function(t,e){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];if(e[""+o]instanceof Array)for(var a=0,l=e[""+o];a<l.length;a++){var h=l[a];void 0!==h.dataBind&&h.dataBind()}else e[""+o].dataBind()}},r.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},r.prototype.dataBind=function(){if(r.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,e=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(e,i),this.isProtectedOnChange=t}},r.prototype.serverDataBind=function(t){if(ge()){Ii(this.bulkChanges,{},t=t||{},!0);var e="sfBlazor";this.allowServerDataBinding&&window[""+e].updateModel&&(window[""+e].updateModel(this),this.bulkChanges={})}},r.prototype.saveChanges=function(t,e,i){if(ge()){var n={};n[""+t]=e,this.serverDataBind(n)}this.isProtectedOnChange||(this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.finalUpdate(),this.finalUpdate=function ole(r){var t,e=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(e);var n="ej2"+function lle(r){for(var t="",e=0;e<5;e++)t+=(e?",":"")+r[parseInt(e.toString(),10)];return t}(e),s=function(o){o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===n&&(r(),t())};return window.addEventListener("message",s,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",s),r=s=n=void 0}}(this.dataBind.bind(this)))},r.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},r.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},r.prototype.trigger=function(t,e,i,n){var s=this;if(!0!==this.isDestroyed){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(t,e,i,n);if(_le.test(t)){var l=Xe(t,this);if(l)if(window.Blazor){var c=l.call(this,e);c&&"function"==typeof c.then?i?c.then(function(u){i&&(u="string"==typeof u&&s.modelObserver.isJson(u)?JSON.parse(u):u,i.call(s,u))}).catch(function(u){n&&(u="string"==typeof u&&s.modelObserver.isJson(u)?JSON.parse(u):u,n.call(s,u))}):a=c:i&&i.call(this,e)}else l.call(this,e),i&&i.call(this,e);else i&&i.call(this,e)}return this.isProtectedOnChange=o,a}},r.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();be([this.element],["e-lib",t]),v(this.element.ej2_instances)?zn("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},r.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(e){return e!==t}),Ae([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Ae([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},r}();function ln(r,t){var e,i,n="string"==typeof r?document.getElementById(r):r;for(i=0;i<n.ej2_instances.length;i++)if(e=n.ej2_instances[parseInt(i.toString(),10)],"string"==typeof t){if(t===e.getModuleName())return e}else if(e instanceof t)return e}function vA(r,t,e,i){return(!r.properties.hasOwnProperty(t)||!(r.properties[t]instanceof i))&&(r.properties[""+t]=pA(i,[r,t,e])),r.properties[""+t]}function Y1(r,t,e,i,n,s){for(var o=[],a=e?e.length:0,l=0;l<a;l++){var h=i;if(s&&(h=i(e[parseInt(l.toString(),10)],r)),n){var c=pA(h,[r,t,{},!0]);c.setProperties(e[parseInt(l.toString(),10)],!0),o.push(c)}else o.push(pA(h,[r,t,e[parseInt(l.toString(),10)],!1]))}return o}function jW(r,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[""+t]=r),this.properties[""+t]}}function Rle(r,t){return function(e){if(this.properties[""+t]!==e){var i=this.properties.hasOwnProperty(t)?this.properties[t]:r;this.saveChanges(t,e,i),this.properties[""+t]=e}}}function zle(r,t,e){return function(){return vA(this,t,r,e)}}function Ble(r,t,e){return function(i){vA(this,t,r,e).setProperties(i)}}function Fle(r,t,e){return function(){var i=e({});return this.properties.hasOwnProperty(t)?this.properties[""+t]:vA(this,t,r,i)}}function jle(r,t,e){return function(i){var n=e(i,this);vA(this,t,r,n).setProperties(i)}}function Hle(r,t,e){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var n=Y1(this,t,r,e,!1);this.properties[""+t]=n}var s=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[t].hasOwnProperty("push")&&!s&&["push","pop"].forEach(function(o){var a={value:Yle(o,t,0,i.properties[""+t]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+t],o,a)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function Ule(r,t,e){return function(i){this.isComplexArraySetter=!0;var n=Y1(this,t,r,e,!1),s=Y1(this,t,i,e,!0);this.isComplexArraySetter=!1,this.saveChanges(t,s,n),this.properties[""+t]=s}}function Vle(r,t,e){return function(i){var n=this.properties.hasOwnProperty(t)?this.properties[t]:r,s=Y1(this,t,i,e,!0,!0);this.saveChanges(t,s,n),this.properties[""+t]=s}}function Wle(r,t,e){return function(){var i=e({});if(!this.properties.hasOwnProperty(t)){var n=Y1(this,t,r,i,!1);this.properties[""+t]=n}return this.properties[""+t]}}function Yle(r,t,e,i){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(r){case"push":for(var a=0;a<n.length;a++){Array.prototype[""+r].apply(i,[n[parseInt(a.toString(),10)]]);var l=HW(o+(i.length-1),n[parseInt(a.toString(),10)],!this.controlParent,r);this.serverDataBind(l,n[parseInt(a.toString(),10)],!1,r)}break;case"pop":Array.prototype[""+r].apply(i);var h=HW(o+i.length,null,!this.controlParent,r);this.serverDataBind(h,{ejsAction:"pop"},!1,r)}return i}}function HW(r,t,e,i){var n=r;return e&&((n={})[""+r]=t,t&&"object"==typeof t)&&(n[""+r].ejsAction=i),n}function O(r){return function(t,e){var i={set:Rle(r,e),get:jW(r,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),KS(t,e,"prop",r)}}function Lt(r,t){return function(e,i){var n={set:Ble(r,i,t),get:zle(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),KS(e,i,"complexProp",r,t)}}function mA(r){return function(t,e){var i={set:jle({},e,r),get:Fle({},e,r),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),KS(t,e,"complexProp",{},r)}}function Qn(r,t){return function(e,i){var n={set:Ule(r,i,t),get:Hle(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),KS(e,i,"colProp",r,t)}}function UW(r){return function(t,e){var i={set:Vle([],e,r),get:Wle([],e,r),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),KS(t,e,"colProp",{},r)}}function Se(){return function(r,t){var e={set:function(i){var n=this.properties[""+t];if(n!==i){var s=WW(this,t);!1===Cn(n)&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[""+t]=i}},get:jW(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(r,t,e),KS(r,t,"event")}}function Jn(r){}function KS(r,t,e,i,n){Cn(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[e+"s"].push({propertyName:t,defaultValue:i,type:n}),r.propList[e+"Names"].push(t)}function WW(r,t){if(!1===r.hasOwnProperty("parentObj"))return{context:r,prefix:t};var e=Xe("propName",r);return e&&(t=e+"-"+t),WW(Xe("parentObj",r),t)}var Gle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),av=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ro=function(r){function t(i){var n=r.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var e;return Gle(t,r),e=t,t.prototype.animate=function(i,n){var s=this.getModel(n=n||{});if("string"==typeof i)for(var a=0,l=Array.prototype.slice.call(bi(i,document));a<l.length;a++)s.element=l[a],e.delayAnimation(s);else s.element=i,e.delayAnimation(s)},t.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var s=i.getAttribute("e-animation-id");if(s){var o=parseInt(s,10);cancelAnimationFrame(o),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},t.delayAnimation=function(i){Wo===QW.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){e.applyAnimation(i)},i.delay):e.applyAnimation(i)},t.applyAnimation=function(i){var n=this;i.timeStamp=0;var s=0,o=0,a=0,l=i.duration;i.element.setAttribute("e-animate","true");var h=function(c){try{c?(i.timeStamp=c+i.timeStamp-(a=0===a?c:a),a=c,!s&&i.begin&&i.begin.call(n,i),s+=1,i.timeStamp<l&&i.timeStamp+i.timeStamp/s<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(h)):(cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))):(o=requestAnimationFrame(h),i.element.setAttribute("e-animation-id",o.toString()))}catch(d){cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(n,d)}};h()},t.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:void 0!==i.duration?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},av([O("FadeIn")],t.prototype,"name",void 0),av([O(400)],t.prototype,"duration",void 0),av([O("ease")],t.prototype,"timingFunction",void 0),av([O(0)],t.prototype,"delay",void 0),av([Se()],t.prototype,"progress",void 0),av([Se()],t.prototype,"begin",void 0),av([Se()],t.prototype,"end",void 0),av([Se()],t.prototype,"fail",void 0),e=av([Jn],t)}(ov);function dh(r,t,e){var i=function Xle(r){return{selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!Td?function(){}:(r.setAttribute("data-ripple","true"),$.add(r,"mousedown",YW,{parent:r,rippleOptions:i}),$.add(r,"mouseup",GW,{parent:r,rippleOptions:i,done:e}),$.add(r,"mouseleave",ew,{parent:r,rippleOptions:i}),Ue.isPointer&&$.add(r,"transitionend",ew,{parent:r,rippleOptions:i}),function(){r.removeAttribute("data-ripple"),$.remove(r,"mousedown",YW),$.remove(r,"mouseup",GW),$.remove(r,"mouseleave",ew),$.remove(r,"transitionend",ew)})}function YW(r){var t=r.target,e=this.rippleOptions.selector,i=e?Je(t,e):t;if(!(!i||this.rippleOptions&&Je(t,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,o=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),l=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom)),h=Math.sqrt(a*a+l*l),c=2*h+"px",u=s-n.left-h,d=o-n.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(u=0,d=0,c="100%"),i.classList.add("e-ripple");var m=Lr("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+u+"px;top: "+d+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity"),m.style.transform="scale(1)",i!==this.parent&&$.add(i,"mouseleave",ew,{parent:this.parent,rippleOptions:this.rippleOptions})}}function GW(r){XW(r,this)}function ew(r){XW(r,this)}function XW(r,t){var e=t.rippleOptions.duration,i=r.target,n=t.rippleOptions.selector,s=n?Je(i,n):i;if(s&&(!s||-1!==s.className.indexOf("e-ripple"))){var o=bi(".e-ripple-element",s),a=o[o.length-1];a&&(a.style.opacity="0.5"),t.parent!==s&&$.remove(s,"mouseleave",ew),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),t.done&&t.done(r)},e)}}var Wo,D_,Td=!1,QW=function(r){return r.Default="Default",r.Enable="Enable",r.Disable="Disable",r}(QW||{}),$le=function(){function r(t){this.loadedModules=[],this.parent=t}return r.prototype.inject=function(t,e){var i=t.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(t);for(var n=0;n<i;n++)for(var s=t[parseInt(n.toString(),10)],o=0,a=e;o<a.length;o++){var l=a[o],h=s.member;if(l&&l.prototype.getModuleName()===s.member&&!this.isModuleLoaded(h)){var c=pA(l,s.args),u=this.getMemberName(h);zn(u,s.isProperty?l:c,this.parent);var d=s;d.member=u,this.loadedModules.push(d)}}}else this.clean()},r.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var i=e[t];i.isProperty||Xe(i.member,this.parent).destroy()}this.loadedModules=[]},r.prototype.clearUnusedModule=function(t){for(var e=this,i=t.map(function(l){return e.getMemberName(l.member)}),s=0,o=this.loadedModules.filter(function(l){return-1===i.indexOf(l.member)});s<o.length;s++){var a=o[s];a.isProperty||Xe(a.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(a),1),fA(this.parent,a.member)}},r.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+"Module"},r.prototype.isModuleLoaded=function(t){for(var e=0,i=this.loadedModules;e<i.length;e++)if(i[e].member===this.getMemberName(t))return!0;return!1},r}(),ii=function(){function r(t,e,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=Xe("callChildDataBind",ov),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.isParentArray=n,this.setProperties(i,!0)}return r.prototype.updateChange=function(t,e){!0===t?this.parentObj.childChangedProperties[""+e]=t:delete this.parentObj.childChangedProperties[""+e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},r.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(t)}}},r.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},r.prototype.setProperties=function(t,e){!0===e?(ya(this,t),this.updateChange(!1,this.propName),this.clearChanges()):ya(this,t)},r.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(zn(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),zn(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},r.prototype.saveChanges=function(t,e,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(t,e,!0),this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},r.prototype.serverDataBind=function(t,e,i,n){if(ge()&&!this.parentObj.isComplexArraySetter){var s,o={},a=i?this.getParentKey(!0)+"."+t:t;if(-1!==a.indexOf(".")){var l=a.split(".");s=o;for(var h=0;h<l.length;h++){var c=h===l.length-1;s[l[parseInt(h.toString(),10)]]=c?e:{},s=c?s:s[l[parseInt(h.toString(),10)]]}}else o[""+a]={},s=o[""+a],o[""+a][""+t]=e;this.isParentArray&&(s.ejsAction=n||"none"),this.controlParent.serverDataBind(o)}},r.prototype.getParentKey=function(t){var e="",i=this.propName;if(this.isParentArray){e=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=t?n:n>0?n-1:0,i+=e=-1!==e?"-"+e:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+e),i},r}(),qle=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],$W=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],qW=function(){function r(t){var e;this.isValidated=!1,this.isLicensed=!0,this.version="23",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=(e=null,{setKey:function i(s){e=s},getKey:function n(){return e}}),this.npxManager={getKey:function i(){return"npxKeyReplace"}},this.manager.setKey(t)}return r.prototype.validate=function(){if(!this.isValidated&&qS&&!Xe(yA($W),qS)&&!Xe("Blazor",qS)){var i=void 0,n=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&"npxKeyReplace"!==this.npxManager.getKey()){var s=this.getInfoFromKey();if(s&&s.length)for(var o=0,a=s;o<a.length;o++){var l=a[o];if(!this.platform.test(l.platform)||l.invalidPlatform)i=this.errors.platformMismatched;else if(-1===l.version.indexOf(this.version))i=(i=(i=this.errors.versionMismatched).replace("##LicenseVersion",l.version)).replace("##Requireversion",this.version+".x");else if(l.expiryDate){var h=new Date(l.expiryDate),c=new Date;if(!(h!==c&&h<c))break;i=this.errors.trailExpired}}else i=this.errors.invalidKey}else{var u=Xe(yA([115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116]),qS);n=Xe(yA([115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76]),qS),i=u&&""!==u?u:this.errors.noLicense}if(i&&typeof document<"u"&&!v(document)){var d=Lr("div",{innerHTML:"<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style=\"top: 6px;\n                    position: absolute;\n                    left: 16px;\n                    width: 24px;\n                    height: 24px;\"/>"+i+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+(D_=n&&""!==n?n:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjM=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information")+">Claim your free account</a>"});d.setAttribute("style","position: fixed;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                font-size: 14px;\n                background: #EEF2FF;\n                color: #222222;\n                z-index: 999999999;\n                text-align: left;\n                border: 1px solid #EEEEEE;\n                padding: 10px 11px 10px 50px;\n                border-radius: 8px;\n                font-family: Helvetica Neue, Helvetica, Arial;"),document.body.appendChild(d),this.isLicensed=!1}this.isValidated=!0,zn(yA($W),this.isValidated,qS)}return this.isLicensed},r.prototype.getDecryptedData=function(t){try{return atob(t)}catch{return""}},r.prototype.getInfoFromKey=function(){try{var t="",e=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],s=!1,o=!1;this.manager.getKey()?t=this.manager.getKey():(o=!0,t=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var a=t.split(";"),l=0,h=a;l<h.length;l++){var u=this.getDecryptedData(h[l]);if(u){var d=0,p="";if(o){for(var M=u[u.length-1],T=[],f=0;f<u.length;f++)T[parseInt(f.toString(),10)]=u[parseInt(f.toString(),10)].charCodeAt(0)-M.charCodeAt(0);for(f=0;f<T.length;f++)p+=String.fromCharCode(T[parseInt(f.toString(),10)])}else for(f=0;f<u.length;f++,d++){d===e.length&&(d=0);var m=u.charCodeAt(f);p+=String.fromCharCode(m^e[parseInt(d.toString(),10)]>>16)}this.platform.test(p)?(i=p.split(";"),s=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):p&&p.split(";").length>3&&(s=!0)}}return s&&!n.length?[{invalidPlatform:s}]:n.length?n:null}catch{return null}},r}(),T_=new qW;function yA(r){for(var t="",e=0,i=r;e<i.length;e++)t+=String.fromCharCode(i[e]);return t}function ZW(r){T_=new qW(r)}var A_,Kle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bA=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},E_=0,JW=0,O_=0,KW=!0,e6=!1,Xr=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.randomId=function ale(){if(!(typeof window>"u")){var r=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(r)}}(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,v(n.enableRtl)&&n.setProperties({enableRtl:false},!0),v(n.locale)&&n.setProperties({locale:F1},!0),n.moduleLoader=new $le(n),n.localObserver=new B1(n),hb.on("notifyExternalChange",n.detectFunction,n,n.randomId),typeof window<"u"&&typeof document<"u"&&!T_.validate()&&-1!==qle.indexOf(n.getModuleName())&&(O_+=1)>5&&(KW=!1),Cn(i)||n.appendTo(),n}return Kle(t,r),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(Ae([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),r.prototype.destroy.call(this),this.moduleLoader.clean(),hb.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new B1(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("unload",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("unload",this.handleUnload)},t.prototype.appendTo=function(e){if(v(e)||"string"!=typeof e?v(e)||(this.element=e):this.element=Ge(e,document),!v(this.element)){var i="e-"+this.getModuleName().toLowerCase();be([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=Xe("ej2_instances",this.element);(!n||-1===n.indexOf(this))&&r.prototype.addInstance.call(this),this.preRender(),this.injectModules(),!KW&&!e6&&(function(){var r='\n    <div style="\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99999;\n    ">\n        <div style="\n    background: #FFFFFF;\n    height: 455px;\n    width: 840px;\n    font-family: Helvetica Neue, Helvetica, Arial;\n    color: #000000;\n    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);\n    display: block;\n    margin: 8% auto;\n    border-radius: 20px;\n    ">\n            <div style="\n    position: absolute;\nwidth: 838px;\nheight: 62px;\nbackground-color: #F9F9F9;\nborder: 1px solid #EEEEEE;\nborder-top-left-radius: 20px;\nborder-top-right-radius: 20px;\n">\n                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="\n    text-align: left;\n    width: 146px;\n    position: absolute;\n    top: 14px;\n    left: 31px;\n">\n            </div>\n            <div style="\n    position: relative;\n    top: 80px;\n    left: 32px;\n    font-size: 20px;\n    text-align: left;\n    font-weight: 700;\n    letter-spacing: 0.02em;\n    font-style: normal;\n    line-height: 125%;\n    ">Claim your FREE account and get a key in less than a minute</div>\n            <ul style="\n        font-size: 15px;\n        font-weight: 400;\n        color: #333333;\n        letter-spacing: 0.01em;\n        position: relative;\n        left: 32px;\n        top: 88px;\n        line-height: 180%;\n        ">\n                <li><span>Access to a 30-day free trial of any of our products.</span></li>\n                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>\n                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>\n                </li>\n                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">Metro Studio.</a></span></li>\n                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">whitepapers.</a></span></li>\n            </ul>\n            <div style="\n            font-size: 18px;\n            font-weight: 700;\n            position: relative;\n            line-height: 125%;\n            letter-spacing: 0.02em;\n            top: 90px;\n            left: 32px;\n    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>\n            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="\n            width: 742.5px;\n            position: relative;\n            top: 107px;\n            left: 32px;\n            ">\n            <a href='+D_+' style="\n        float: left;\n        border-radius: 56px;\n        background: #0D6EFD;\n        padding-top: 8px;\n        width: 280px;\n        height: 38px;\n        text-align: center;\n        position: relative;\n        top: 127px;\n        left: 274px;\n        font-size: 16px;\n        color: white;\n        text-decoration: none;\n        letter-spacing: 0.02em;\n    ">Claim your FREE account</a>\n            <div style="\n    font-size: 14px;\n    position: relative;\n    top: 180px;\n    left: 19px;\n    letter-spacing: 0.02em;\n    font-weight: 500;\n    line-height: 125%;\n">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;\ncolor: #0D6EFD;\nfont-weight: 500;">Sign In</a></div>\n        </div>\n    </div>';if(typeof document<"u"&&!v(document)){var t=Lr("div",{innerHTML:r});document.body.appendChild(t)}}(),e6=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){ge()&&window.sfBlazor.renderComplete(this.element,e),this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),r.prototype.dataBind.call(this)},t.prototype.on=function(e,i,n){if("string"==typeof e)this.localObserver.on(e,i,n);else for(var s=0,o=e;s<o.length;s++){var a=o[s];this.localObserver.on(a.event,a.handler,a.context)}},t.prototype.off=function(e,i){if("string"==typeof e)this.localObserver.off(e,i);else for(var n=0,s=e;n<s.length;n++){var o=s[n];this.localObserver.off(o.event,o.handler)}},t.prototype.notify=function(e,i){!0!==this.isDestroyed&&this.localObserver.notify(e,i)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[parseInt(n.toString(),10)])&&this.prototype.injectedModules.push(e[parseInt(n.toString(),10)])},t.prototype.createElement=function(e,i,n){return Lr(e,i)},t.prototype.triggerStateChange=function(e,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:i})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var i=Object.keys(e);i.length&&(this[i[0]]=e[i[0]])},t.prototype.mergePersistData=function(){var e;v(e=window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.renderReactTemplates=function(e){v(e)||e()},t.prototype.clearTemplate=function(e,i){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(E_=0),A_=this.pageID(location.href),JW=history.length,e+"_"+A_+"_"+E_++},t.prototype.pageID=function(e){var i=0;if(0===e.length)return i;for(var n=0;n<e.length;n++)i=(i<<5)-i+e.charCodeAt(n),i&=i;return Math.abs(i)},t.prototype.isHistoryChanged=function(){return A_!==this.pageID(location.href)||JW!==history.length},t.prototype.addOnPersist=function(e){for(var i=this,n={},s=0,o=e;s<o.length;s++){var l,a=o[s];Cn(l=Xe(a,this))||zn(a,this.getActualProperties(l),n)}return JSON.stringify(n,function(h,c){return i.getActualProperties(c)})},t.prototype.getActualProperties=function(e){return e instanceof ii?Xe("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,i){for(var n={},s=function(c){if(-1===i.indexOf(c)){var u=e[c];if("object"!=typeof u||u instanceof Array)n[""+c]=u;else{var d=i.filter(function(p){return new RegExp(c+".").test(p)}).map(function(p){return p.replace(c+".","")});n[""+c]=o.iterateJsonProperties(o.getActualProperties(u),d)}}},o=this,a=0,l=Object.keys(e);a<l.length;a++)s(l[a]);return n},bA([O(!1)],t.prototype,"enablePersistence",void 0),bA([O()],t.prototype,"enableRtl",void 0),bA([O()],t.prototype,"locale",void 0),bA([Jn],t)}(ov);typeof window<"u"&&window.addEventListener("popstate",function(){E_=0});var t6=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yo=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ehe={left:0,top:0,bottom:0,right:0},L_={isDragged:!1},the=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return t6(t,r),Yo([O(0)],t.prototype,"left",void 0),Yo([O(0)],t.prototype,"top",void 0),t}(ii),tw=function(r){function t(i,n){var s=r.call(this,n,i)||this;return s.dragLimit=e.getDefaultPosition(),s.borderWidth=e.getDefaultPosition(),s.padding=e.getDefaultPosition(),s.diffX=0,s.prevLeft=0,s.prevTop=0,s.dragProcessStarted=!1,s.eleTop=0,s.tapHoldTimer=0,s.externalInitialize=!1,s.diffY=0,s.parentScrollX=0,s.parentScrollY=0,s.droppables={},s.bind(),s}var e;return t6(t,r),e=t,t.prototype.bind=function(){this.toggleEvents(),Ue.isIE&&be([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return Ii({},ehe)},t.prototype.toggleEvents=function(i){var n;Cn(this.handle)||(n=Ge(this.handle,this.element));var s=this.enableTapHold&&Ue.isDevice&&Ue.isTouch?this.mobileInitialize:this.initialize;i?$.remove(n||this.element,Ue.isSafari()?"touchstart":Ue.touchStartEvent,s):$.add(n||this.element,Ue.isSafari()?"touchstart":Ue.touchStartEvent,s,this)},t.prototype.mobileInitialize=function(i){var n=this,s=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,s)},this.tapHoldThreshold),$.add(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.removeTapholdTimer,this),$.add(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),$.remove(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.removeTapholdTimer),$.remove(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(i,n){return v(i)?null:i[{vertical:"scrollHeight",horizontal:"scrollWidth"}[""+n]]>i[{vertical:"clientHeight",horizontal:"clientWidth"}[""+n]]&&("vertical"===n?i.scrollTop>0:i.scrollLeft>0)?("vertical"===n?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),v(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var s=this.abort;"string"==typeof s&&(s=[s]);for(var o=0;o<s.length;o++)if(!v(Je(i.target,s[parseInt(o.toString(),10)])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Cn(i.changedTouches)&&"touchstart"!==i.type&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var a=this.getCoordinates(i);if(this.initialPosition={x:a.pageX,y:a.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=a.pageX-(l.left+this.parentScrollX),this.relativeYPosition=a.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):($.add(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.intDragStart,this),$.add(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==i.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,$.trigger(document.documentElement,Ue.isSafari()?"touchstart":Ue.touchStartEvent,i)}},t.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Cn(i.changedTouches);if(!n||1===i.changedTouches.length){var o,s=this.getCoordinates(i),a=getComputedStyle(this.element);this.margin={left:parseInt(a.marginLeft,10),top:parseInt(a.marginTop,10),right:parseInt(a.marginRight,10),bottom:parseInt(a.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var h=Je(i.target,this.dragTarget);v(h)||(l=h)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var c=this.initialPosition.x-s.pageX,u=this.initialPosition.y-s.pageY;if(Math.sqrt(c*c+u*u)>=this.distance||this.externalInitialize){var p=this.getHelperElement(i);if(!p||v(p))return;n&&i.preventDefault();var f=this.helperElement=p;if(this.parentClientRect=this.calculateParentPosition(f.offsetParent),this.dragStart){var M={event:i,element:l,target:this.getProperTargetElement(i),bindEvents:ge()?this.bindDragEvents.bind(this):null,dragElement:f};this.trigger("dragStart",M)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),o={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var T=getComputedStyle(l),P=parseFloat(T.marginTop);this.clone&&0!==P&&(o.top+=P),this.eleTop=isNaN(parseFloat(T.top))?0:parseFloat(T.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(o.top-=this.parentScrollY,o.left-=this.parentScrollX);var U=this.getProcessedPositionValue({top:o.top-this.diffY+"px",left:o.left-this.diffX+"px"});this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(o.top+=this.dragArea.scrollTop),this.dragElePosition={top:o.top,left:o.left},$i(f,this.getDragPosition({position:"absolute",left:U.left,top:U.top})),$.remove(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.intDragStart),$.remove(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDestroy),ge()||this.bindDragEvents(f)}}},t.prototype.bindDragEvents=function(i){ra(i)?($.add(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.intDrag,this),$.add(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)this.top+=(i=i.offsetParent).offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},t.prototype.calculateParentPosition=function(i){if(v(i))return{left:0,top:0};var n=i.getBoundingClientRect(),s=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(s.marginLeft,10),top:n.top+window.pageYOffset-parseInt(s.marginTop,10)}},t.prototype.intDrag=function(i){if(Cn(i.changedTouches)||1===i.changedTouches.length){var n,s;this.clone&&i.changedTouches&&Ue.isDevice&&Ue.isTouch&&i.preventDefault(),this.position=this.getMousePosition(i,this.isDragScroll);var o=this.getDocumentWidthHeight("Height");o<this.position.top&&(this.position.top=o);var a=this.getDocumentWidthHeight("Width");if(a<this.position.left&&(this.position.left=a),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var h=this.checkTargetElement(i);if(h.target&&h.instance){var c=!0;this.hoverObject&&(this.hoverObject.instance!==h.instance?this.triggerOutFunction(i,h):c=!1),c&&(h.instance.dragData[this.scope]=this.droppables[this.scope],h.instance.intOver(i,h.target),this.hoverObject=h)}else this.hoverObject&&this.triggerOutFunction(i,h);var u=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var d=this.parentClientRect.left,p=this.parentClientRect.top,f=this.getCoordinates(i),m=f.pageX,M=f.pageY,T=this.position.left-this.diffX,P=this.position.top-this.diffY,U=getComputedStyle(u);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==m||this.skipDistanceCheck){var Y=u.offsetWidth+(parseFloat(U.marginLeft)+parseFloat(U.marginRight));n=this.dragLimit.left>T&&T>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<T+Y&&T>0?T-(T-this.dragLimit.right)+window.pageXOffset-Y:T<0?this.dragLimit.left:T}if(this.pageY!==M||this.skipDistanceCheck){var X=u.offsetHeight+(parseFloat(U.marginTop)+parseFloat(U.marginBottom));s=this.dragLimit.top>P&&P>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<P+X&&P>0?P-(P-this.dragLimit.bottom)+window.pageYOffset-X:P<0?this.dragLimit.top:P}}else n=T,s=P;var de,Me,Q=p+this.borderWidth.top,oe=d+this.borderWidth.left;if(this.dragProcessStarted&&(v(s)&&(s=this.prevTop),v(n)&&(n=this.prevLeft)),this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,de=s-Q<0?this.dragLimit.top:s-this.borderWidth.top,Me=n-oe<0?this.dragLimit.left:n-this.borderWidth.left):(de=s-this.borderWidth.top,Me=n-this.borderWidth.left);else if(this.dragArea){var Ve=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,de=s-Q<0?this.dragLimit.top:s-Q,Me=n-oe<0?Ve?n-(oe-this.borderWidth.left):this.dragElePosition.left:n-oe}else de=s-Q,Me=n-oe;var Ce=parseFloat(getComputedStyle(this.element).marginTop);if(Ce>0&&(this.clone&&(de+=Ce,P<0&&(Ce+P>=0?de=Ce+P:de-=Ce),this.dragArea&&(de=this.dragLimit.bottom<de?this.dragLimit.bottom:de)),s-Q<0))if(P+Ce+(u.offsetHeight-Q)>=0){var ze=this.dragLimit.top+P-Q;ze+Ce+Q<0?de-=Ce+Q:de=ze}else de-=Ce+Q;this.dragArea&&this.helperElement.classList.contains("e-treeview")&&(de=de+(X=u.offsetHeight+(parseFloat(U.marginTop)+parseFloat(U.marginBottom)))>this.dragLimit.bottom?this.dragLimit.bottom-X:de),this.enableScrollHandler&&!this.clone&&(de-=this.parentScrollY,Me-=this.parentScrollX),this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(de+=this.dragArea.scrollTop);var Ie=this.getProcessedPositionValue({top:de+"px",left:Me+"px"});$i(u,this.getDragPosition(Ie)),!this.elementInViewport(u)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var pe=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){0===pe.length&&(pe=this.getPathElements(i));var Pe=this.getScrollParent(pe,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(Pe,de):this.elementInViewport(this.helperElement)||(0===(pe=[].slice.call(document.querySelectorAll(":hover"))).length&&(pe=this.getPathElements(i)),Pe=this.getScrollParent(pe,!0),this.getScrollPosition(Pe,de))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=s,this.position.left=n,this.position.top=s,this.pageX=m,this.pageY=M}},t.prototype.getScrollParent=function(i,n){for(var o,s=n?i.reverse():i,a=s.length-1;a>=0;a--)if(("auto"===(o=window.getComputedStyle(s[parseInt(a.toString(),10)])["overflow-y"])||"scroll"===o)&&s[parseInt(a.toString(),10)].scrollHeight>s[parseInt(a.toString(),10)].clientHeight)return s[parseInt(a.toString(),10)];if("visible"===(o=window.getComputedStyle(document.scrollingElement)["overflow-y"]))return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(i,n){i&&i===document.scrollingElement?i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight):i&&i!==document.scrollingElement&&(i.clientHeight+i.getBoundingClientRect().top-this.helperElement.clientHeight+document.scrollingElement.scrollTop<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-this.helperElement.clientHeight-document.scrollingElement.scrollTop&&(i.scrollTop-=this.helperElement.clientHeight))},t.prototype.getPathElements=function(i){return document.elementsFromPoint(i.clientX>0?i.clientX:0,i.clientY>0?i.clientY:0)},t.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(i){var n=Ii({},i);return this.axis&&("x"===this.axis?delete n.top:"y"===this.axis&&delete n.left),n},t.prototype.getDocumentWidthHeight=function(i){var n=document.body,s=document.documentElement;return Math.max(n["scroll"+i],s["scroll"+i],n["offset"+i],s["offset"+i],s["client"+i])},t.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,Cn(i.changedTouches)||1===i.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(i.type)){if(this.dragStop){var s=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var o=this.checkTargetElement(i);o.target&&o.instance&&(o.instance.dragStopCalled=!0,o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intDrop(i,o.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),$.remove(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.intDragStart),$.remove(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDragStop),$.remove(document,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDestroy),$.remove(document,Ue.isSafari()?"touchmove":Ue.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(i){return i&&(L_.isDragged=!L_.isDragged),L_.isDragged},t.prototype.setDragArea=function(){var i,n,a,s=0,o=0;if(a="string"==typeof this.dragArea?Ge(this.dragArea):this.dragArea){var h=a.getBoundingClientRect();i=a.scrollWidth?a.scrollWidth:h.right-h.left,n=a.scrollHeight?this.dragArea&&!v(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?a.clientHeight:a.scrollHeight:h.bottom-h.top;for(var c=["Top","Left","Bottom","Right"],u=getComputedStyle(a),d=0;d<c.length;d++){var p=c[parseInt(d.toString(),10)],f=u["border"+p+"Width"],m=u["padding"+p],M=p.toLowerCase();this.borderWidth[""+M]=isNaN(parseFloat(f))?0:parseFloat(f),this.padding[""+M]=isNaN(parseFloat(m))?0:parseFloat(m)}s=this.dragArea&&!v(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?h.top+document.scrollingElement.scrollTop:h.top,this.dragLimit.left=(o=h.left)+this.borderWidth.left+this.padding.left,this.dragLimit.top=a.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=o+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+n-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(i){var s,n=this.getCoordinates(i),o=this.helperElement.style.pointerEvents||"",a=-1!==i.type.indexOf("pointer")&&"safari"===Ue.info.name&&parseInt(Ue.info.version)>12;return gA(i.target,this.helperElement)||-1!==i.type.indexOf("touch")||a?(this.helperElement.style.pointerEvents="none",s=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=o):s=i.target,s},t.prototype.currentStateCheck=function(i,n){return v(this.currentStateTarget)||this.currentStateTarget===i?v(n)?i:n:this.currentStateTarget},t.prototype.getMousePosition=function(i,n){var a,l,s=void 0!==i.srcElement?i.srcElement:i.target,o=this.getCoordinates(i),h=v(s.offsetParent);if(n?(a=this.clone?o.pageX:o.pageX+(h?0:s.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+(h?0:s.offsetParent.scrollTop)-this.relativeYPosition):(a=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var c=document.scrollingElement.scrollHeight>0&&document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight&&document.scrollingElement.scrollTop>0;a=document.scrollingElement.scrollWidth>0&&document.scrollingElement.scrollWidth>document.scrollingElement.clientWidth&&document.scrollingElement.scrollLeft>0?a-document.scrollingElement.scrollLeft:a,l=c?l-document.scrollingElement.scrollTop:l}return{left:a-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},t.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target}):(n=Lr("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},t.prototype.setGlobalDroppables=function(i,n,s){this.droppables[this.scope]=i?null:{draggable:n,helper:s,draggedElement:this.element}},t.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),s=this.getDropInstance(n);if(!s&&n&&!v(n.parentNode)){var o=Je(n.parentNode,".e-droppable")||n.parentElement;o&&(s=this.getDropInstance(o))}return{target:n,instance:s}},t.prototype.getDropInstance=function(i){var s,o=i&&i.ej2_instances;if(o)for(var a=0,l=o;a<l.length;a++){var h=l[a];if("droppable"===h.getModuleName()){s=h;break}}return s},t.prototype.destroy=function(){this.toggleEvents(!0),r.prototype.destroy.call(this)},Yo([Lt({},the)],t.prototype,"cursorAt",void 0),Yo([O(!0)],t.prototype,"clone",void 0),Yo([O()],t.prototype,"dragArea",void 0),Yo([O()],t.prototype,"isDragScroll",void 0),Yo([O()],t.prototype,"isReplaceDragEle",void 0),Yo([O(!0)],t.prototype,"isPreventSelect",void 0),Yo([Se()],t.prototype,"drag",void 0),Yo([Se()],t.prototype,"dragStart",void 0),Yo([Se()],t.prototype,"dragStop",void 0),Yo([O(1)],t.prototype,"distance",void 0),Yo([O()],t.prototype,"handle",void 0),Yo([O()],t.prototype,"abort",void 0),Yo([O()],t.prototype,"helper",void 0),Yo([O("default")],t.prototype,"scope",void 0),Yo([O("")],t.prototype,"dragTarget",void 0),Yo([O()],t.prototype,"axis",void 0),Yo([O()],t.prototype,"queryPositionInfo",void 0),Yo([O(!1)],t.prototype,"enableTailMode",void 0),Yo([O(!1)],t.prototype,"skipDistanceCheck",void 0),Yo([O(!0)],t.prototype,"preventDefault",void 0),Yo([O(!1)],t.prototype,"enableAutoScroll",void 0),Yo([O(!1)],t.prototype,"enableTapHold",void 0),Yo([O(750)],t.prototype,"tapHoldThreshold",void 0),Yo([O(!1)],t.prototype,"enableScrollHandler",void 0),e=Yo([Jn],t)}(ov),ihe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iw=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},i6=function(r){function t(e,i){var n=r.call(this,i,e)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return ihe(t,r),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){$.add(this.element,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,i){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,i){this.mouseOver||(this.trigger("over",{event:e,target:i,dragData:this.dragData[this.scope]}),this.mouseOver=!0)},t.prototype.intOut=function(e,i){this.mouseOver&&(this.trigger("out",{evt:e,target:i}),this.mouseOver=!1)},t.prototype.intDrop=function(e,i){if(this.dragStopCalled){this.dragStopCalled=!1;var a,n=!0,s=this.dragData[this.scope],o=!!s&&s.helper&&ra(s.helper);o&&(a=this.isDropArea(e,s.helper,i),this.accept&&(n=W1(s.helper,this.accept))),o&&this.drop&&a.canDrop&&n&&this.trigger("drop",{event:e,target:a.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,i,n){var s={canDrop:!0,target:n||e.target},o="touchend"===e.type;if(o||s.target===i){i.style.display="none";var a=o?e.changedTouches[0]:e,l=document.elementFromPoint(a.clientX,a.clientY);s.canDrop=!1,s.canDrop=gA(l,this.element),s.canDrop&&(s.target=l),i.style.display=""}return s},t.prototype.destroy=function(){$.remove(this.element,Ue.isSafari()?"touchend":Ue.touchEndEvent,this.intDrop),r.prototype.destroy.call(this)},iw([O()],t.prototype,"accept",void 0),iw([O("default")],t.prototype,"scope",void 0),iw([Se()],t.prototype,"drop",void 0),iw([Se()],t.prototype,"over",void 0),iw([Se()],t.prototype,"out",void 0),iw([Jn],t)}(ov),nhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SA=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},rhe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Fa=function(r){function t(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(o){for(var a=o.altKey,l=o.ctrlKey,h=o.shiftKey,c=o.which,d=0,p=Object.keys(s.keyConfigs);d<p.length;d++)for(var f=p[d],M=0,T=s.keyConfigs[""+f].split(",");M<T.length;M++){var U=e.getKeyConfigData(T[M].trim());a===U.altKey&&l===U.ctrlKey&&h===U.shiftKey&&c===U.keyCode&&(o.action=f,s.keyAction&&s.keyAction(o))}},s.bind(),s}var e;return nhe(t,r),e=t,t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:-1!==n.indexOf("alt"),ctrlKey:-1!==n.indexOf("ctrl"),shiftKey:-1!==n.indexOf("shift"),keyCode:null};return s.keyCode=n[n.length-1].length>1&&Number(n[n.length-1])?Number(n[n.length-1]):e.getKeyCode(n[n.length-1]),e.configCache[""+i]=s,s},t.getKeyCode=function(i){return rhe[""+i]||i.toUpperCase().charCodeAt(0)},t.configCache={},SA([O({})],t.prototype,"keyConfigs",void 0),SA([O("keyup")],t.prototype,"eventName",void 0),SA([Se()],t.prototype,"keyAction",void 0),e=SA([Jn],t)}(ov),Go=function(){function r(t,e,i){this.controlName=t,this.localeStrings=e,this.setLocale(i||F1)}return r.prototype.setLocale=function(t){var e=this.intGetControlConstant(r.locale,t);this.currentLocale=e||this.localeStrings},r.load=function(t){this.locale=Ii(this.locale,t,{},!0)},r.prototype.getConstant=function(t){return v(this.currentLocale[""+t])?this.localeStrings[""+t]||"":this.currentLocale[""+t]},r.prototype.intGetControlConstant=function(t,e){return t[""+e]?t[""+e][this.controlName]:null},r.locale={},r}(),n6=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lv=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},she=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return n6(t,r),lv([O(50)],t.prototype,"swipeThresholdDistance",void 0),t}(ii),ohe=/(Up|Down)/,ph=function(r){function t(e,i){var n=r.call(this,i,e)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(s){if(!0===n.touchAction){var o=n.updateChangeTouches(s);void 0!==s.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY},n.startEventData=o,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(s)},n.tapHoldThreshold),$.add(n.element,Ue.touchMoveEvent,n.moveEvent,n),$.add(n.element,Ue.touchEndEvent,n.endEvent,n),$.add(n.element,Ue.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(s){var o=n.updateChangeTouches(s);n.movedPoint=o,n.isTouchMoved=!(o.clientX===n.startPoint.clientX&&o.clientY===n.startPoint.clientY);var a={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(s),a=Ii(a,{},{startEvents:n.startEventData,originalEvent:s,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(o)}),n.trigger("scroll",a),n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY})},n.cancelEvent=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(s),$.remove(n.element,Ue.touchCancelEvent,n.cancelEvent)},n.endEvent=function(s){n.swipeFn(s),n.isTouchMoved||"function"==typeof n.tap&&(n.trigger("tap",{originalEvent:s,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var o=n.updateChangeTouches(s),a=o.clientX-n.startPoint.clientX,l=o.clientY-n.startPoint.clientY;a=Math.floor(a<0?-1*a:a),l=Math.floor(l<0?-1*l:a),n.isTouchMoved=a>1||l>1,/Firefox/.test(Ue.userAgent)&&0===o.clientX&&0===o.clientY&&"mouseup"===s.type&&(n.isTouchMoved=!1),n.endPoint=o,n.calcPoints(s);var c={originalEvent:s,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(o)};if(n.isTouchMoved){var u=void 0,d=n.swipeSettings.swipeThresholdDistance;u=Ii(u,n.defaultArgs,c);var p=!1,f=n.element,m=n.isScrollable(f),M=ohe.test(n.movedDirection);(d<n.distanceX&&!M||d<n.distanceY&&M)&&(p=!m||n.checkSwipe(f,M)),p&&n.trigger("swipe",u)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},"function"!=typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),$.remove(n.element,Ue.touchMoveEvent,n.moveEvent),$.remove(n.element,Ue.touchEndEvent,n.endEvent),$.remove(n.element,Ue.touchCancelEvent,n.cancelEvent)},n.bind(),n}return n6(t,r),t.prototype.onPropertyChanged=function(e,i){},t.prototype.bind=function(){this.wireEvents(),Ue.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.wireEvents=function(){$.add(this.element,Ue.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){$.remove(this.element,Ue.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var i=getComputedStyle(e);return!!/(auto|scroll)/.test(i.overflow+i.overflowX+i.overflowY)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,$.remove(this.element,Ue.touchMoveEvent,this.moveEvent),$.remove(this.element,Ue.touchEndEvent,this.endEvent),this.trigger("tapHold",{originalEvent:e}),$.remove(this.element,Ue.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?i.clientX>this.startPoint.clientX?"Right":"Left":i.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var i=e.clientX,n=e.clientY,s=Date.now(),o=i-this.startPoint.clientX,a=n-this.startPoint.clientX,l=s-this.tStampStart;return Math.sqrt(o*o+a*a)/l},t.prototype.checkSwipe=function(e,i){var n=["scroll","offset"],s=i?["Height","Top"]:["Width","Left"];return e[n[0]+s[0]]<=e[n[1]+s[0]]||0===e[n[0]+s[1]]||e[n[1]+s[0]]+e[n[0]+s[1]]>=e[n[0]+s[0]]},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},lv([Se()],t.prototype,"tap",void 0),lv([Se()],t.prototype,"tapHold",void 0),lv([Se()],t.prototype,"swipe",void 0),lv([Se()],t.prototype,"scroll",void 0),lv([O(350)],t.prototype,"tapThreshold",void 0),lv([O(750)],t.prototype,"tapHoldThreshold",void 0),lv([Lt({},she)],t.prototype,"swipeSettings",void 0),lv([Jn],t)}(ov),ahe=new RegExp("\\n|\\r|\\s\\s+","g"),lhe=new RegExp(/'|"/g),hhe=new RegExp("if ?\\("),che=new RegExp("else if ?\\("),r6=new RegExp("else"),uhe=new RegExp("for ?\\("),s6=new RegExp("(/if|/for)"),dhe=new RegExp("\\((.*)\\)",""),k_=new RegExp("^[0-9]+$","g"),phe=new RegExp("[\\w\"'.\\s+]+","g"),fhe=new RegExp('"(.*?)"',"g"),ghe=new RegExp("[\\w\"'@#$.\\s-+]+","g"),vhe=new RegExp("\\${([^}]*)}","g"),mhe=/^\..*/gm,N_=/\\/gi,yhe=/\\\\/gi,bhe=new RegExp("[\\w\"'@#$.\\s+]+","g"),Che=/\window\./gm;function nw(r,t,e,i,n){return!t||k_.test(r)||-1!==i.indexOf(r.split(".")[0])||n||"true"===r||"false"===r?r:e+"."+r}function P_(r,t,e,i){return t&&!k_.test(r)&&-1===i.indexOf(r.split(".")[0])?e+'["'+r:r}function o6(r){return r.match(yhe)||(r=r.replace(N_,"\\\\")),r}function a6(r,t,e,i){if(r=r.trim(),/\window\./gm.test(r))return r;var s=/'|"/gm;return/@|\$|#/gm.test(r)&&(r=P_(r,-1===e.indexOf(r),t,e)+'"]'),mhe.test(r)?function Ihe(r,t,e,i){return!t||k_.test(r)||-1!==i.indexOf(r.split(".")[0])||/^\..*/gm.test(r)?r:e+"."+r}(r,!s.test(r)&&-1===e.indexOf(r),t,e):nw(r,!s.test(r)&&-1===e.indexOf(r),t,e,i)}var Mhe=/^[\n\r.]+<tr|^<tr/,xhe=/^[\n\r.]+<svg|^<path|^<g/,Ap={};function l6(){return"-"+Math.random().toString(36).substr(2,5)}function wn(r,t,e){var i=R_.compile(r,t,e);return function(n,s,o,a,l,h,c,u){var d=i(n,s,o,c,u),p="BlazorTemplateId";if(ge()&&!l){var m=a+l6();if(Ap[""+a]||(Ap[""+a]=[]),v(h))n[""+p]=m,Ap[""+a].push(n);else for(var T=0,P=Object.keys(Ap[""+a][parseInt(h.toString(),10)]);T<P.length;T++){var U=P[T];U!==p&&n[""+U]&&(Ap[""+a][parseInt(h.toString(),10)][""+U]=n[""+U]),U===p&&(m=Ap[""+a][parseInt(h.toString(),10)][""+U])}return"rowTemplate"===o?[Lr("tr",{id:m,className:"e-blazor-template"})]:[Lr("div",{id:m,className:"e-blazor-template"})]}return"string"==typeof d?xhe.test(d)?Lr("svg",{innerHTML:d}).childNodes:Lr(Mhe.test(d)?"table":"div",{innerHTML:d}).childNodes:d}}function rw(r,t,e,i,n){ge()&&(window.sfBlazor.updateTemplate(t,Ap[""+r],r,e,n),!1!==i&&(Ap[""+r]=[]))}function __(r,t,e){var i=document.getElementById(r);if(i)for(var n=i.getElementsByClassName("blazor-inner-template"),s=0;s<n.length;s++){var o;o=v(e)?n[parseInt(s.toString(),10)].getAttribute("data-templateId"):n[parseInt(e.toString(),10)].getAttribute("data-templateId");var a=document.getElementById(o);if(a)for(var l=a.childNodes.length,h=0;h<l;h++)v(e)?n[parseInt(s.toString(),10)].appendChild(a.childNodes[0]):(n[parseInt(e.toString(),10)].appendChild(a.childNodes[0]),s=n.length)}}function Ed(r,t){var e;return r.prototype.CSPTemplate=!0,v(t)?e=r:(e=r.bind(t)).prototype=Object.create(r.prototype),e}var Ehe=function(){function r(){}return r.prototype.compile=function(t,e,i){return void 0===e&&(e={}),function She(r,t,e){if("function"==typeof r)return r;var i="data",n=function whe(r,t,e,i){var n=0,s=[],o=r.match(/class="([^"]+|)\s{2}/g),a="";return o&&o.forEach(function(l){a=l.replace(/\s\s+/g," "),r=r.replace(l,a)}),r.replace(ahe,"").replace(fhe,"'$1'").replace(vhe,function(l,h,c,u){var p=h.match(dhe);if(p){var f=p[1];if(che.test(h))h='";} '+h.replace(p[1],f.replace(phe,function(Q){return nw(Q=Q.trim(),!lhe.test(Q)&&-1===s.indexOf(Q),t,s,i)}))+'{ \n str = str + "';else if(hhe.test(h))h='"; '+h.replace(p[1],f.replace(ghe,function(Q){return a6(Q,t,s,i)}))+'{ \n str = str + "';else if(uhe.test(h)){var m=p[1].split(" of ");h='"; '+h.replace(p[1],function(Q){return s.push(m[0]),s.push(m[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+nw(m[1],!0,t,s,i)+".length; i"+n+"++"})+"{ \n "+m[0]+"= "+nw(m[1],!0,t,s,i)+"[i"+n+"]; \n var "+m[0]+"Index=i"+n+'; \n str = str + "'}else{var M=h.split("("),T=e&&e.hasOwnProperty(M[0])?"this.":"global";T=/\./.test(M[0])?"":T;var P=p[1].split(",");0!==p[1].length&&!/data/.test(P[0])&&!/window./.test(P[0])&&(p[1]="global"===T?t+"."+p[1]:p[1]),Che.test(h)&&/\]\./gm.test(h)||/@|\$|#/gm.test(h)?/@|\$|#|\]\./gm.test(h)&&(h='"+ '+("global"===T?"":T)+h.replace(p[1],f.replace(bhe,function(Q){return a6(Q,t,s,i)}))+'+ "'):h='" + '+("global"===T?"":T)+h.replace(f,nw(p[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==T,t,s,i))+'+"'}}else r6.test(h)?h='"; '+h.replace(r6,'} else { \n str = str + "'):h.match(s6)?h=h.replace(s6,'"; \n } \n str = str + "'):/@|#|\$/gm.test(h)?(h.match(N_)&&(h=o6(h)),h='"+'+P_(h,-1===s.indexOf(h),t,s)+'"]+"'):h=h.match(N_)?'"+'+P_(h=o6(h),-1===s.indexOf(h),t,s)+'"]+"':""!==h?'"+'+nw(h.replace(/,/gi,"+"+t+"."),-1===s.indexOf(h),t,s,i)+'+"':" ";return h})}(r,i,t,e);return new Function(i,'var str="'+n+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n        var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n        if(str.match(valueRegEx)){\n            var check = str.match(valueRegEx);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(valueRegEx)[i].split('value=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n        else if (str.match(/(?:href='')/) === null) {\n            if(str.match(hrefRegex)) {\n                var check = str.match(hrefRegex);\n                var str1 = str;\n                for (var i=0; i < check.length; i++) {\n                    var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                    if (check1) {\n                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                        str1 = str1.replace(check1, change);\n                    }\n                }\n                str = str.replace(str, str1);\n            }\n        }\n         return str;").bind(t)}(t,e)},r}(),R_={compile:(new Ehe).compile},Ahe=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Ohe=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],h6=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],Ms=function(){function r(){}return r.beforeSanitize=function(){return{selectors:{tags:Ahe,attributes:Ohe}}},r.sanitize=function(t){var e=this.beforeSanitize();return this.serializeValue(e,t)},r.serializeValue=function(t,e){this.removeAttrs=t.selectors.attributes,this.removeTags=t.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=e,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),i.replace(/&amp;/g,"&")},r.removeElement=function(){for(var t=this.wrapElement.children,e=0;e<t.length;e++)for(var i=t[parseInt(e.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(e.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},r.removeXssTags=function(){var t=this.wrapElement.querySelectorAll(this.removeTags.join(","));t.length>0&&t.forEach(function(e){Ot(e)})},r.removeJsEvents=function(){var t=this.wrapElement.querySelectorAll("["+h6.join("],[")+"]");t.length>0&&t.forEach(function(e){h6.forEach(function(i){e.hasAttribute(i)&&e.removeAttribute(i)})})},r.removeXssAttrs=function(){var t=this;this.removeAttrs.forEach(function(e,i){var n=t.wrapElement.querySelectorAll(e.selector);n.length>0&&n.forEach(function(s){s.removeAttribute(e.attribute)})})},r}();function hv(r){return function(t){!function Lhe(r,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(i){(!r.prototype.hasOwnProperty(i)||e.isFormBase&&"constructor"!==i)&&(r.prototype[i]=e.prototype[i])})})}(t,r)}}function c6(r,t,e){var i={};if(r&&r.length){for(var n=0,s=r;n<s.length;n++){var o=s[n];!0===e?(t.propCollection[o]=new No(!1),t[o]=t.propCollection[o]):i[o]=new No(!1)}!0!==e&&t.setProperties(i,!0)}}function u6(r,t,e){var i=Object.keys(r.registeredTemplate);if(i.length)for(var n=t&&t.filter(function(Y){return!/\./g.test(Y)}),s=/tab|accordion|toolbar/.test(r.getModuleName()),o=0,a=n&&n||i;o<a.length;o++){var l=a[o];if(e&&e.length)for(var h=0;h<e.length;h++)if(s)for(var c=0;c<r.registeredTemplate[l].length;c++)(u=r.registeredTemplate[l][c])&&u===e[h]&&(u.destroy(),r.registeredTemplate[l].splice(c,1));else for(c=0;c<r.registeredTemplate.template.length;c++){var u;(u=r.registeredTemplate.template[c].rootNodes[0])===e[h]&&(d=r.registeredTemplate[l])[c].destroy()}else if(r.registeredTemplate[l])for(var p=0,f=r.registeredTemplate[l];p<f.length;p++){var d;if(!(d=f[p]).destroyed){if(d._view){var m=d._view.renderer.parentNode(d.rootNodes[0]);if(!v(m))for(c=0;c<d.rootNodes.length;c++)m.appendChild(d.rootNodes[c])}d.destroy()}}(!s||!e)&&delete r.registeredTemplate[l]}for(var M=function(Y){Y.instance&&Y.instance.clearTemplate(t&&t.filter(function(X){return!!new RegExp(Y.name).test(X)}))},T=0,P=r.tagObjects;T<P.length;T++)M(P[T])}function Oa(r,t,e){for(var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},s=0;s<i.length;s++){var o=i[s];s+1===i.length?n[o]=void 0===t?{}:t:void 0===n[o]&&(n[o]={}),n=n[o]}return n}var khe=/Ref$/,Fc=function(){function r(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return r.prototype.ngOnInit=function(){this.registeredTemplate={};for(var t=0,e=this.tags;t<e.length;t++){var i=e[t],n=Xe("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);n&&this.tagObjects.push({instance:n,name:i})}for(var s=Object.keys(this),o=0;o<s.length;o++){var a=Xe(s[o],this);"object"==typeof a&&a&&a.elementRef&&(Xe(-1!==s[o].indexOf("Ref")?s[o]:s[o]+"Ref",this)||zn(-1!==s[o].indexOf("Ref")?s[o]:s[o]+"Ref",a,this),Xe("viewContainerRef",this)&&!Xe("_viewContainerRef",a.elementRef.nativeElement)&&!Xe("propName",a.elementRef.nativeElement)&&(zn("_viewContainerRef",Xe("viewContainerRef",this),a.elementRef.nativeElement),zn("propName",s[o].replace("Ref",""),a.elementRef.nativeElement)))}for(var l=0,h=s=(s=Object.keys(this)).filter(function(m){return/Ref$/i.test(m)});l<h.length;l++){var u=h[l].replace("Ref","");zn(u.replace("_","."),Xe(u,this),this.propCollection)}var d=Object.keys(this);if(this.directivePropList){for(var p=0;p<this.directivePropList.length;p++){var f=this.directivePropList[p];-1!==d.indexOf(f)&&(!1===Xe(f,this)||Xe(f,this))&&zn(f,Xe(f,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},r.prototype.registerEvents=function(t){c6(t,this,!0)},r.prototype.ngOnChanges=function(t){for(var e=0,i=Object.keys(t);e<i.length;e++){var n=i[e];this.propCollection[n]=t[n].currentValue}this.isUpdated=!1,this.hasChanges=!0},r.prototype.clearTemplate=function(t){u6(this,t)},r.prototype.getProperties=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var i=e[t];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},r.prototype.isChanged=function(){var t=this.hasChanges;if(!v(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),n=0;n<i.length;n++)if(!v(this.propCollection[i[n]])){var s=Xe(i[n],this),o=this.propCollection[this.property][0][i[n]];!v(s)&&this.propCollection[i[n]]!==s&&o!==s&&(zn(i[n],s,this.propCollection[this.property][0]),zn(i[n],s,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var a=0,l=this.tagObjects;a<l.length;a++)t=t||l[a].instance.hasChanges;return t||this.hasChanges},r.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var t=Object.keys(this),e=0,i=t=t.filter(function(o){return khe.test(o)});e<i.length;e++){var s=i[e].replace("Ref","");zn(s.replace("_","."),Xe(s,this),this.propCollection)}},r.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.directivePropList=[]},r}(),jc=function(){function r(t){this.list=[],this.hasChanges=!1,this.propertyName=t}return r.prototype.ngOnInit=function(){this.isInitChanges=!0},r.prototype.ngAfterContentInit=function(){var t=this,e=0;this.list=this.children.map(function(i){return i.dirIndex=e++,i.property=t.propertyName,i}),this.hasChanges=!0},r.prototype.getProperties=function(){for(var t=[],e=0,i=this.list;e<i.length;e++)t.push(i[e].getProperties());return t},r.prototype.isChanged=function(){var t=this,e=!1,i=0,n=!1,s=this.children.map(function(c){return c});if(this.list.length===this.children.length)for(var o=0;o<this.list.length;o++)this.list[o].propCollection.dataSource&&(this.list[o].dataSource&&this.list[o].propCollection.dataSource!==this.list[o].dataSource&&(this.list[o].propCollection.dataSource=this.list[o].dataSource,this.list[o].hasChanges=!0),n=JSON.stringify(this.list[o].propCollection.dataSource)!==JSON.stringify(s[o].propCollection.dataSource)),n=this.list[o].hasChanges!==s[o].hasChanges;this.hasNewChildren=!(this.list.length===this.children.length&&!n)||null,this.hasNewChildren&&(this.list=this.children.map(function(c){return c.dirIndex=i++,c.property=t.propertyName,c}));for(var a=0,l=this.list;a<l.length;a++)e=e||l[a].hasChanges;return!!this.list.length&&e},r.prototype.clearTemplate=function(t){for(var e=this,i=0,n=this.list;i<n.length;i++)n[i].clearTemplate(t&&t.map(function(o){return new RegExp(e.propertyName).test(o)?o.replace(e.propertyName+".",""):o}))},r.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var t=0;t<this.list.length;t++)Xe("childColumns",this.list[t])&&"columns"===Xe("property",this.list[t])&&zn("columns",Xe("childColumns",this.list[t]).getProperties(),this.list[t].propCollection),this.list[t].isUpdated=!0},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.list=[]},r}(),fh=function(){function r(){this.isProtectedOnChange=!0,this.isFormInit=!0}return r.prototype.saveChanges=function(t,e,i){if(!this.isProtectedOnChange){this.oldProperties[t]=i,this.changedProperties[t]=e,this.finalUpdate();var n=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(n)}}},r.prototype.ngOnInit=function(t){var e=t||this;e.registeredTemplate={},e.ngBoundedEvents={},e.isAngular=!0,e.isFormInit=!0,t&&(this.tags=t.tags),e.tags=this.tags||[],e.complexTemplate=this.complexTemplate||[],e.tagObjects=[],e.ngAttr=this.getAngularAttr(e.element),e.createElement=function(m,M){var T=e.srenderer?e.srenderer.createElement(m):Lr(m);return typeof M>"u"||(T.innerHTML=M.innerHTML?M.innerHTML:"",void 0!==M.className&&(T.className=M.className),void 0!==M.id&&(T.id=M.id),void 0!==M.styles&&T.setAttribute("style",M.styles),void 0!==e.ngAttr&&T.setAttribute(e.ngAttr,""),void 0!==M.attrs&&wi(T,M.attrs)),T};for(var i=0,n=e.tags;i<n.length;i++){var s=n[i],o={instance:Xe("child"+s.substring(0,1).toUpperCase()+s.substring(1),e),name:s};e.tagObjects.push(o)}for(var a=Object.keys(e),l=0;l<a.length;l++){var h=Xe(a[l],e);"object"==typeof h&&h&&h.elementRef&&("object"==typeof h&&h&&h.elementRef&&-1!==a[l].indexOf("_")&&-1===a[l].indexOf("Ref")&&zn(a[l]+"Ref",h,e),e.viewContainerRef&&!Xe("_viewContainerRef",h.elementRef.nativeElement)&&!Xe("propName",h.elementRef.nativeElement)&&(zn("_viewContainerRef",e.viewContainerRef,h.elementRef.nativeElement),zn("propName",a[l].replace("Ref",""),h.elementRef.nativeElement)))}for(var c=0,u=a=(a=Object.keys(e)).filter(function(m){return/Ref$/i.test(m)&&/\_/i.test(m)});c<u.length;c++){var p=u[c].replace("Ref",""),f={};zn(p.replace("_","."),Xe(p,e),f),e.setProperties(f,!0)}},r.prototype.getAngularAttr=function(t){for(var n,e=t.attributes,i=e.length,s=0;s<i;s++)/_ngcontent/g.test(e[s].name)&&(n=e[s].name);return n},r.prototype.ngAfterViewInit=function(t){var e=t||this;/ejs-tab|ejs-accordion/g.test(e.ngEle.nativeElement.outerHTML)&&(e.ngEle.nativeElement.style.visibility="hidden");var n=Object.keys(e);n=n.filter(function(u){return/Ref$/i.test(u)});for(var s="DocumentEditor"===e.getModuleName(),o=0,a=n;o<a.length;o++){var h=a[o].replace("Ref","");zn(h.replace("_","."),Xe(h+"Ref",e),e)}var c=function(u){(typeof window<"u"&&u.element||u.getModuleName().includes("btn"))&&(u.appendTo(u.element),u.ngEle.nativeElement.style.visibility="")};s?c(e):setTimeout(function(){c(e)})},r.prototype.ngOnDestroy=function(t){var e=t||this;setTimeout(function(){typeof window<"u"&&e.element.classList.contains("e-control")&&(e.destroy(),e.clearTemplate(null),setTimeout(function(){for(var i=0,n=Object.keys(e);i<n.length;i++){var s=n[i],o=e[s];if(o&&/object/.test(typeof o)&&0!==Object.keys(o).length)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(s))for(var a=0,l=Object.keys(e[s]);a<l.length;a++){var h=l[a],c=o[h];c&&/object/.test(typeof c)&&0!==Object.keys(c).length&&(c.parent||c.parentObj)&&(e[s][h]=null)}else(o.parent||o.parentObj)&&(e[s]=null)}}))})},r.prototype.clearTemplate=function(t,e){u6(this,t,e)},r.prototype.ngAfterContentChecked=function(t){for(var e=t||this,i=0,n=e.tagObjects;i<n.length;i++){var s=n[i];if(!Cn(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren))if(s.instance.isInitChanges){var o={},a=void 0;(l=Xe("instance.list",s))&&l.length&&(a=l[0].directivePropList);var h=!0;if(e.getModuleName&&"gantt"===e.getModuleName()&&(h=!1),a&&h&&-1===a.indexOf(s.instance.propertyName))for(var c=Object.keys(s.instance.list[0].propCollection),u=0;u<s.instance.list.length;u++){s.instance.list[u].propCollection[s.instance.propertyName]=[];for(var d={},p=0;p<c.length;p++)d[f=c[p]]=s.instance.list[u].propCollection[f];for(var m=function(de){var Me=s.instance.list[u].tags[de],Ve=Xe("child"+Me.substring(0,1).toUpperCase()+Me.substring(1),s.instance.list[u]);if(Ve){var Ce=s.instance.list[u]["child"+Me.substring(0,1).toUpperCase()+Me.substring(1)],ze=function(Ie){var pe=[];if(Ie)for(var Pe=0;Pe<Ie.list.length;Pe++){var Qe=Ie.list[0].tags[0];if(Qe){var Oe=Xe("child"+Qe.substring(0,1).toUpperCase()+Qe.substring(1),Ie.list[Pe]);Oe&&(Ie.list[Pe].tagObjects.push({instance:Oe,name:Qe}),pe.push(Oe))}}if(0!==pe.length)for(var Ye=0;Ye<pe.length;Ye++)ze(pe[Ye])};ze(Ce),s.instance.list[u].tagObjects.push({instance:Ve,name:Me})}},M=0;M<s.instance.list[u].tags.length;M++)m(M);s.instance.list[u].propCollection[s.instance.propertyName].push(d)}o[s.name]=s.instance.getProperties(),e.setProperties(o,s.instance.isInitChanges)}else{(e[s.name].length!==s.instance.list.length||/diagram|DashboardLayout/.test(e.getModuleName()))&&(e[s.name]=s.instance.list);for(var T=0,P=s.instance.list;T<P.length;T++){var l,U=s.instance.list.indexOf(l=P[T]),Y=Xe(s.name,e)[U],X=Object.keys(Y);if(X=X.filter(function(Me){return/Ref$/i.test(Me)}),Y.properties&&0!==Object.keys(Y.properties).length)for(var Q=0,oe=X;Q<oe.length;Q++){var f;f=(f=oe[Q]).replace(/Ref/,""),Y.properties[f]=Y.properties[f]?Y.properties[f]:Y.propCollection[f]}!Cn(Y)&&!Cn(Y.setProperties)&&(/diagram|DashboardLayout/.test(e.getModuleName())?Y.setProperties(l.getProperties(),!0):Y.setProperties(l.getProperties())),l.isUpdated=!0}}}},r.prototype.registerEvents=function(t){c6(t,this)},r.prototype.twoWaySetter=function(t,e){var i=Xe(e,this.properties);i!==t&&(this.saveChanges(e,t,i),zn(e,v(t)?null:t,this.properties),Xe(e+"Change",this).emit(t))},r.prototype.addTwoWay=function(t){for(var e=this,i=function(l){Xe(l,n),Object.defineProperty(n,l,{get:function(){return Xe(l,e.properties)},set:function(h){return e.twoWaySetter(h,l)}}),zn(l+"Change",new No,n)},n=this,s=0,o=t;s<o.length;s++)i(o[s])},r.prototype.addEventListener=function(t,e){var i=Xe(t,this);Cn(i)||(this.ngBoundedEvents[t]||(this.ngBoundedEvents[t]=new Map),this.ngBoundedEvents[t].set(e,i.subscribe(e)))},r.prototype.removeEventListener=function(t,e){Cn(Xe(t,this))||this.ngBoundedEvents[t].get(e).unsubscribe()},r.prototype.trigger=function(t,e,i){var n=Xe(t,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),Cn(n)||n.next(e);var o=Xe("local"+t.charAt(0).toUpperCase()+t.slice(1),this);Cn(o)||o.call(this,e),this.isProtectedOnChange=s,i&&(this.preventChange=this.isPreventChange,i.call(this,e)),this.isPreventChange=!1},r}(),sw=function(){function r(){}return r.prototype.propagateChange=function(t){},r.prototype.propagateTouch=function(){},r.prototype.localChange=function(t){var e=void 0===t.checked?t.value:t.checked;this.objCheck=Ep(e),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e),this.cdr.markForCheck()},r.prototype.registerOnChange=function(t){this.propagateChange=t},r.prototype.registerOnTouched=function(t){this.propagateTouch=t},r.prototype.twoWaySetter=function(t,e){var i=this.oldValue||Xe(e,this.properties),n=this.inputElement||this.element;n&&i===t&&this.value===t&&(void 0===n.value||""===n.value)||(this.saveChanges(e,t,i),zn(e,v(t)?null:t,this.properties),Xe(e+"Change",this).emit(t))},r.prototype.ngAfterViewInit=function(t){var e=t||this;if(typeof window<"u"){e.getModuleName().includes("dropdown")?setTimeout(function(){e.appendTo(e.element)}):e.appendTo(e.element);var i=e.inputElement||e.element;i.addEventListener("focus",e.ngOnFocus.bind(e)),i.addEventListener("blur",e.ngOnBlur.bind(e))}this.isFormInit=!1},r.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},r.prototype.writeValue=function(t){void 0===this.checked?this.value=t:this.ngEle&&(this.checked="boolean"==typeof t?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?t===this.value:t:t===this.value),this.angularValue=t,this.isUpdated=!0,this.preventChange=!this.isFormInit,this.cdr.markForCheck()},r.prototype.ngOnFocus=function(t){!0!==this.skipFromEvent&&this.focus.emit(t),this.cdr.markForCheck()},r.prototype.ngOnBlur=function(t){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(t),this.cdr.markForCheck()},r.isFormBase=!0,r}(),Nhe=function The(){return R_.compile}();function cv(r){return function(t,e){var i={set:_he(e),get:Rhe(e,r),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i)}}function _he(r){return function(t){void 0!==t&&(zn(r+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=r):this.saveChanges&&(this.saveChanges(r,t,void 0),this.dataBind()))}}function Rhe(r,t){return function(){return Xe(r+"Ref",this)||t}}function z_(r,t,e,i,n,s){var o=i;if(i.tagName===t){var a=Xe("ej2_instances",i);o=r("input",{attrs:{type:e}});for(var l=["change","cssClass","label","labelPosition","id"],h=0,c=i.attributes.length;h<c;h++)-1===l.indexOf(i.attributes[h].nodeName)&&o.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);wi(i,{class:n}),i.appendChild(o),zn("ej2_instances",a,o),fA(i,"ej2_instances")}return o}function zhe(r){for(var t,e=r.childNodes,i=0;i<e.length;i++)if(3===(t=e[i]).nodeType)return t;return null}function cb(r,t){if(t){var e=document.createEvent("MouseEvents");e.initEvent(r.type,!1,!0),t.dispatchEvent(e)}}function d6(r,t){r.element.getAttribute("ejs-for")&&t.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}!function Dhe(r){R_.compile=r.compile}({compile:function Phe(r,t){if("string"==typeof r||"function"==typeof r&&r.prototype&&r.prototype.CSPTemplate)return Nhe(r,t);var e=r.elementRef.nativeElement._viewContainerRef,i=r.elementRef.nativeElement.propName;return function(n,s,o){var l=e||s.viewContainerRef,h=l.createEmbeddedView(r,{$implicit:n});"EJS-MENTION"===Xe("currentInstance.element.nodeName",l)?h.detectChanges():h.markForCheck();var c=s&&s.registeredTemplate?s.registeredTemplate:Xe("currentInstance.registeredTemplate",l);return typeof c[o=o&&s.registeredTemplate?o:i]>"u"&&(c[o]=[]),c[o].push(h),h.rootNodes}}});var _f,db,uv,Z1,pb,Wu,jhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Op=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ad_RTL=(new B1,"e-rtl"),Io=function(r){function t(e,i){return r.call(this,e,i)||this}return jhe(t,r),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=dh(this.element,{selector:".e-btn"}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&be([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),!ge()||ge()&&"progress-btn"!==this.getModuleName()){if(this.content){var e=this.enableHtmlSanitizer?Ms.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(Ad_RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,i)}},t.prototype.wireEvents=function(){this.isToggle&&$.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&$.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var e=["e-primary",Ad_RTL,"e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(" "))),r.prototype.destroy.call(this),Ae([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&Ot(i),this.unWireEvents(),Td&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element.querySelector("span.e-btn-icon"),s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":n?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&n.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):Ot(n):this.setIconCss();break;case"iconPosition":Ae([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(n=this.element.querySelector("span.e-btn-icon"))&&Ot(n),this.setIconCss();break;case"cssClass":i.cssClass&&Ae([this.element],i.cssClass.split(" ")),e.cssClass&&be([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(Ad_RTL):this.element.classList.remove(Ad_RTL);break;case"content":zhe(this.element)||this.element.classList.remove("e-icon-btn"),(!ge()||ge()&&!this.isServerRendered&&"progress-btn"!==this.getModuleName())&&(this.enableHtmlSanitizer&&(e.content=Ms.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss());break;case"isToggle":e.isToggle?$.add(this.element,"click",this.btnClickHandler,this):($.remove(this.element,"click",this.btnClickHandler),Ae([this.element],["e-active"]))}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Op([O("Left")],t.prototype,"iconPosition",void 0),Op([O("")],t.prototype,"iconCss",void 0),Op([O(!1)],t.prototype,"disabled",void 0),Op([O(!1)],t.prototype,"isPrimary",void 0),Op([O("")],t.prototype,"cssClass",void 0),Op([O("")],t.prototype,"content",void 0),Op([O(!1)],t.prototype,"isToggle",void 0),Op([O()],t.prototype,"locale",void 0),Op([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Op([Se()],t.prototype,"created",void 0),Op([Jn],t)}(Xr),Uhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vu=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},B_="e-check",p6="e-checkbox-disabled",G1="e-frame",F_="e-stop",j_="e-label",IA="e-ripple-container",H_="e-ripple-check",U_="e-ripple-stop",V_="e-rtl",W_="e-checkbox-wrapper",Vhe=["title","class","style","disabled","readonly","name","value"],ub=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n}return Uhe(t,r),t.prototype.changeState=function(e,i){var n,s=this.getWrapper().getElementsByClassName(G1)[0];Td&&(n=this.getWrapper().getElementsByClassName(IA)[0]),"check"===e?(s&&(s.classList.remove(F_),s.classList.add(B_)),n&&(n.classList.remove(U_),n.classList.add(H_)),this.element.checked=!0,(this.element.required||Je(this.element,"form")&&Je(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!1,this.validCheck=!1):(this.element.required||Je(this.element,"form")&&Je(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):"uncheck"===e?(s&&Ae([s],[B_,F_]),n&&Ae([n],[H_,U_]),this.element.checked=!1,(this.element.required||Je(this.element,"form")&&Je(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!0,this.validCheck=!1):(this.element.required||Je(this.element,"form")&&Je(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(s&&(s.classList.remove(B_),s.classList.add(F_)),n&&(n.classList.remove(H_),n.classList.add(U_)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if("INPUT"===e.target.tagName&&this.clickTriggered)return this.isVue&&this.changeState(this.checked?"check":"uncheck"),void(this.clickTriggered=!1);("SPAN"===e.target.tagName||"LABEL"===e.target.tagName)&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var i={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",i),e.stopPropagation()},t.prototype.destroy=function(){var e=this,i=this.getWrapper();r.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),Ot(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(n){e.element.removeAttribute(n)})):(["class"].forEach(function(n){i.removeAttribute(n)}),i.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.initialize=function(){v(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(W_)||(e=this.createElement("div",{className:W_}),this.element.parentNode.insertBefore(e,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}}),n=this.createElement("span",{className:"e-icons "+G1});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(V_),this.cssClass&&be([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(i),i.appendChild(this.element),d6(this,i),i.appendChild(n),Td){var s=this.createElement("span",{className:IA});"Before"===this.labelPosition?i.appendChild(s):i.insertBefore(s,n),dh(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0,cb(e,this.getWrapper().getElementsByClassName(IA)[0])},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(IA)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=0;s<n.length-1;s++)i.removeChild(i.childNodes[s]);cb(e,i)}},t.prototype.onPropertyChanged=function(e,i){for(var n=this.getWrapper(),s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove(p6),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":i.cssClass&&Ae([n],i.cssClass.split(" ")),e.cssClass&&be([n],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(V_):n.classList.remove(V_);break;case"label":this.setText(e.label);break;case"labelPosition":var l=n.getElementsByClassName(j_)[0],h=n.getElementsByTagName("label")[0];Ot(l),"After"===e.labelPosition?h.appendChild(l):h.insertBefore(l,n.getElementsByClassName(G1)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=z_(this.createElement,"EJS-CHECKBOX","checkbox",e,W_),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Or("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(p6),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var i=this.getWrapper();if(i){var n=i.getElementsByClassName(j_)[0];if(n)n.textContent=e;else{e=this.enableHtmlSanitizer?Ms.sanitize(e):e,n=this.createElement("span",{className:j_,innerHTML:e});var s=i.getElementsByTagName("label")[0];"Before"===this.labelPosition?s.insertBefore(n,i.getElementsByClassName(G1)[0]):s.appendChild(n)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;$.remove(e,"click",this.clickHandler),$.remove(this.element,"keyup",this.keyUpHandler),$.remove(this.element,"focus",this.focusHandler),$.remove(this.element,"focusout",this.focusOutHandler);var i=e.getElementsByTagName("label")[0];$.remove(i,"mousedown",this.labelMouseDownHandler),$.remove(i,"mouseup",this.labelMouseUpHandler);var n=Je(this.element,"form");n&&$.remove(n,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&$.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();$.add(e,"click",this.clickHandler,this),$.add(this.element,"keyup",this.keyUpHandler,this),$.add(this.element,"focus",this.focusHandler,this),$.add(this.element,"focusout",this.focusOutHandler,this);var i=e.getElementsByTagName("label")[0];$.add(i,"mousedown",this.labelMouseDownHandler,this),$.add(i,"mouseup",this.labelMouseUpHandler,this);var n=Je(this.element,"form");n&&$.add(n,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&$.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&"object"==typeof this.value){var i=this.element.value;if(i&&this.value){if(!e){var s=this.value.indexOf(i);return this.checked?s<0&&this.value.push(i):s>-1&&this.value.splice(s,1),this.value}for(var n=0;n<this.value.length;n++)i===this.value[n]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(Vhe.indexOf(n)>-1){var s=this.getWrapper();"class"===n?be([s],this.htmlAttributes[""+n].split(" ")):"title"===n?s.setAttribute(n,this.htmlAttributes[""+n]):"style"===n?this.getWrapper().getElementsByClassName(G1)[0].setAttribute(n,this.htmlAttributes[""+n]):"disabled"===n?("true"===this.htmlAttributes[""+n]&&this.setDisabled(),this.element.setAttribute(n,this.htmlAttributes[""+n])):this.element.setAttribute(n,this.htmlAttributes[""+n])}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Vu([Se()],t.prototype,"change",void 0),Vu([Se()],t.prototype,"created",void 0),Vu([O(!1)],t.prototype,"checked",void 0),Vu([O("")],t.prototype,"cssClass",void 0),Vu([O(!1)],t.prototype,"disabled",void 0),Vu([O(!1)],t.prototype,"indeterminate",void 0),Vu([O("")],t.prototype,"label",void 0),Vu([O("After")],t.prototype,"labelPosition",void 0),Vu([O("")],t.prototype,"name",void 0),Vu([O("")],t.prototype,"value",void 0),Vu([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Vu([O({})],t.prototype,"htmlAttributes",void 0),Vu([Jn],t)}(Xr),Whe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Od=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Y_="e-label",MA="e-ripple-container",G_="e-rtl",X_="e-radio-wrapper",Yhe=["title","class","style","disabled","readonly","name","value"],Ghe=function(r){function t(i,n){var s=r.call(this,i,n)||this;return s.isFocused=!1,s}var e;return Whe(t,r),e=t,t.prototype.changeHandler=function(i){this.checked=!0,this.dataBind();var n=this.element.getAttribute("value");n=this.isVue&&n?this.element.value:this.value,this.isVue&&"boolean"==typeof this.value&&(n="true"===n),this.trigger("change",{value:n,event:i}),this.isAngular&&i.stopPropagation()},t.prototype.updateChange=function(){for(var i,n,s=this.getRadioGroup(),o=0;o<s.length;o++)(i=s[o])!==this.element&&((n=_o(i,e)).checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(n.angularValue=this.value))},t.prototype.destroy=function(){var i=this,n=this.wrapper;r.prototype.destroy.call(this),n&&(this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(n.parentNode&&n.parentNode.insertBefore(this.element,n),Ot(n),this.element.checked=!1,["name","value","disabled"].forEach(function(s){i.element.removeAttribute(s)})):(["role","aria-checked","class"].forEach(function(s){n.removeAttribute(s)}),n.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var i=this.getLabel();i&&i.classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getSelectedValue=function(){for(var i,n=this.getRadioGroup(),s=0,o=n.length;s<o;s++)if((i=n[s]).checked)return i.value;return""},t.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element?this.element.parentElement:null},t.prototype.getLabel=function(){return this.element?this.element.nextElementSibling:null},t.prototype.initialize=function(){v(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var i=this.element.getAttribute("value"),n=typeof this.value;this.isVue&&"boolean"===n&&(i="true"===i),(this.isVue?this.value&&"boolean"!==n&&!i:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var i,n=this.element.parentElement;n.classList.contains(X_)||(n=this.createElement("div",{className:X_}),this.element.parentNode.insertBefore(n,this.element));var s=this.createElement("label",{attrs:{for:this.element.id}});n.appendChild(this.element),n.appendChild(s),Td&&(i=this.createElement("span",{className:MA}),s.appendChild(i),dh(i,{duration:400,isCenterRipple:!0})),n.classList.add("e-wrapper"),this.enableRtl&&s.classList.add(G_),this.cssClass&&be([n],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(i){cb(i,this.getLabel().getElementsByClassName(MA)[0])},t.prototype.labelMouseLeaveHandler=function(i){var n=this.getLabel().getElementsByClassName(MA)[0];if(n){for(var o=n.querySelectorAll(".e-ripple-element").length-1;o>0;o--)n.removeChild(n.childNodes[o]);cb(i,n)}},t.prototype.labelMouseUpHandler=function(i){var n=this.getLabel().getElementsByClassName(MA)[0];if(n){for(var o=n.querySelectorAll(".e-ripple-element").length-1;o>0;o--)n.removeChild(n.childNodes[o]);cb(i,n)}},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&wi(this.element,{checked:"true"})},t.prototype.onPropertyChanged=function(i,n){for(var s=this.getWrapper(),o=this.getLabel(),a=0,l=Object.keys(i);a<l.length;a++)switch(l[a]){case"checked":i.checked&&this.updateChange(),this.element.checked=i.checked;break;case"disabled":i.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":n.cssClass&&Ae([s],n.cssClass.split(" ")),i.cssClass&&be([s],i.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":i.enableRtl?o.classList.add(G_):o.classList.remove(G_);break;case"label":this.setText(i.label);break;case"labelPosition":"Before"===i.labelPosition?o.classList.add("e-right"):o.classList.remove("e-right");break;case"name":this.element.setAttribute("name",i.name);break;case"value":var c=typeof this.htmlAttributes.value;if(!v(this.htmlAttributes)&&(this.htmlAttributes.value||"boolean"===c&&!this.htmlAttributes.value))break;this.element.setAttribute("value",i.value);break;case"htmlAttributes":this.updateHtmlAttribute()}},t.prototype.preRender=function(){var i=this.element;if(this.formElement=Je(this.element,"form"),this.tagName=this.element.tagName,i=z_(this.createElement,"EJS-RADIOBUTTON","radio",i,X_),this.element=i,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Or("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var n=this.element.getAttribute("formcontrolname");n&&(this.setProperties({name:n},!0),this.element.setAttribute("name",n))}},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(i){var n=this.getLabel(),s=n.getElementsByClassName(Y_)[0];s?s.textContent=i:(i=this.enableHtmlSanitizer?Ms.sanitize(i):i,s=this.createElement("span",{className:Y_,innerHTML:i}),n.appendChild(s)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.updateHtmlAttribute=function(){if(!v(this.htmlAttributes))for(var i=0,n=Object.keys(this.htmlAttributes);i<n.length;i++){var s=n[i];if(Yhe.indexOf(s)>-1){var o=this.element.parentElement;"class"===s?be([o],this.htmlAttributes[""+s].replace(/\s+/g," ").trim().split(" ")):"title"===s||"style"===s?o.setAttribute(s,this.htmlAttributes[""+s]):this.element.setAttribute(s,this.htmlAttributes[""+s])}}},t.prototype.unWireEvents=function(){var i=this.wrapper;$.remove(this.element,"change",this.changeHandler),$.remove(this.element,"focus",this.focusHandler),$.remove(this.element,"focusout",this.focusOutHandler),$.remove(this.element,"keyup",this.keyUpHandler);var n=i.getElementsByTagName("label")[0];n&&($.remove(n,"mousedown",this.labelMouseDownHandler),$.remove(n,"mouseup",this.labelMouseUpHandler),$.remove(n,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&$.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.wireEvents=function(){var i=this.getLabel();$.add(this.element,"change",this.changeHandler,this),$.add(this.element,"keyup",this.keyUpHandler,this),$.add(this.element,"focus",this.focusHandler,this),$.add(this.element,"focusout",this.focusOutHandler,this);var n=i.getElementsByClassName(Y_)[0];n&&($.add(n,"mousedown",this.labelMouseDownHandler,this),$.add(n,"mouseup",this.labelMouseUpHandler,this),$.add(n,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&$.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Od([Se()],t.prototype,"change",void 0),Od([Se()],t.prototype,"created",void 0),Od([O(!1)],t.prototype,"checked",void 0),Od([O("")],t.prototype,"cssClass",void 0),Od([O(!1)],t.prototype,"disabled",void 0),Od([O("")],t.prototype,"label",void 0),Od([O("After")],t.prototype,"labelPosition",void 0),Od([O("")],t.prototype,"name",void 0),Od([O("")],t.prototype,"value",void 0),Od([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Od([O({})],t.prototype,"htmlAttributes",void 0),e=Od([Jn],t)}(Xr),Xhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lp=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},f6="e-switch-disabled",xA="e-ripple-container",g6="e-ripple-check",Q_="e-rtl",$_="e-switch-wrapper",v6="e-switch-active",Qhe=["title","class","style","disabled","readonly","name","value","aria-label","id","role"],$he=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isFocused=!1,n.isDrag=!1,n.isWireEvents=!1,n}return Xhe(t,r),t.prototype.changeState=function(e){var i,n=this.getWrapper(),s=n.querySelector(".e-switch-inner"),o=n.querySelector(".e-switch-handle");Td&&(i=n.getElementsByClassName(xA)[0]),e?(be([s,o],v6),this.element.checked=!0,this.checked=!0,i&&be([i],[g6])):(Ae([s,o],v6),this.element.checked=!1,this.checked=!1,i&&Ae([i],[g6]))},t.prototype.clickHandler=function(e){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus(),this.trigger("change",{checked:this.element.checked,event:e}),this.isAngular&&(e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.disabled||this.unWireEvents(),function Bhe(r,t,e){"INPUT"===e?(t.parentNode.insertBefore(r.element,t),Ot(t),r.element.checked=!1,["name","value","disabled"].forEach(function(i){r.element.removeAttribute(i)})):(["role","aria-checked","class"].forEach(function(i){t.removeAttribute(i)}),t.innerHTML="")}(this,this.getWrapper(),this.tagName)},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){this.getWrapper().classList.remove("e-focus")},t.prototype.getModuleName=function(){return"switch"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element.parentElement},t.prototype.initialize=function(){v(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains($_)||(e=this.createElement("div",{className:$_}),this.element.parentNode.insertBefore(e,this.element));var i=this.createElement("span",{className:"e-switch-inner"}),n=this.createElement("span",{className:"e-switch-on"}),s=this.createElement("span",{className:"e-switch-off"}),o=this.createElement("span",{className:"e-switch-handle"});if(e.appendChild(this.element),d6(this,e),i.appendChild(n),i.appendChild(s),e.appendChild(i),e.appendChild(o),Td){var a=this.createElement("span",{className:xA});o.appendChild(a),dh(a,{duration:400,isCenterRipple:!0})}e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(Q_),this.cssClass&&be([e],this.cssClass.replace(/\s+/g," ").trim().split(" "))},t.prototype.onPropertyChanged=function(e,i){for(var n=this.getWrapper(),s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"checked":this.changeState(e.checked);break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents(),this.isWireEvents=!1):(this.element.disabled=!1,n.classList.remove(f6),n.setAttribute("aria-disabled","false"),this.isWireEvents||(this.wireEvents(),this.isWireEvents=!0));break;case"value":this.element.setAttribute("value",e.value);break;case"name":this.element.setAttribute("name",e.name);break;case"onLabel":case"offLabel":this.setLabel(e.onLabel,e.offLabel);break;case"enableRtl":e.enableRtl?n.classList.add(Q_):n.classList.remove(Q_);break;case"cssClass":i.cssClass&&Ae([n],i.cssClass.split(" ")),e.cssClass&&be([n],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"htmlAttributes":this.updateHtmlAttribute()}},t.prototype.preRender=function(){var e=this.element;this.formElement=Je(this.element,"form"),this.tagName=this.element.tagName,function Fhe(r,t,e,i,n){i=z_(r.createElement,t,"checkbox",i,e),r.element=i,"checkbox"!==r.element.getAttribute("type")&&r.element.setAttribute("type","checkbox"),r.element.id||(r.element.id=Or("e-"+n))}(this,"EJS-SWITCH",$_,e,this.getModuleName())},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.updateHtmlAttribute()},t.prototype.rippleHandler=function(e){cb(e,this.getWrapper().getElementsByClassName(xA)[0]),"mousedown"===e.type&&e.currentTarget.classList.contains("e-switch-wrapper")&&1===e.which&&(this.isDrag=!0,this.isFocused=!1)},t.prototype.rippleTouchHandler=function(e){var i=this.getWrapper().getElementsByClassName(xA)[0];if(i){var n=document.createEvent("MouseEvents");n.initEvent(e,!1,!0),i.dispatchEvent(n)}},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(f6),e.setAttribute("aria-disabled","true")},t.prototype.setLabel=function(e,i){var n=this.getWrapper();e&&(n.querySelector(".e-switch-on").textContent=e),i&&(n.querySelector(".e-switch-off").textContent=i)},t.prototype.updateHtmlAttribute=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(Qhe.indexOf(n)>-1){var s=this.getWrapper();"class"===n?be([s],this.htmlAttributes[""+n].split(" ")):"title"===n||"style"===n?s.setAttribute(n,this.htmlAttributes[""+n]):"disabled"===n?("true"===this.htmlAttributes[""+n]&&this.setDisabled(),this.element.setAttribute(n,this.htmlAttributes[""+n])):this.element.setAttribute(n,this.htmlAttributes[""+n])}}},t.prototype.switchFocusHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.switchMouseUp=function(e){var i=e.target;"touchmove"===e.type&&e.preventDefault(),"touchstart"===e.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===e.type&&i.className.indexOf("e-switch")<0||"touchend"===e.type)&&(this.clickHandler(e),this.rippleTouchHandler("mouseup"),e.preventDefault())},t.prototype.formResetHandler=function(){this.checked=this.initialSwitchCheckedValue,this.element.checked=this.initialSwitchCheckedValue},t.prototype.toggle=function(){this.clickHandler()},t.prototype.wireEvents=function(){var e=this.getWrapper();this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyUpHandler=this.switchFocusHandler.bind(this),$.add(e,"click",this.clickHandler,this),$.add(this.element,"focus",this.focusHandler,this),$.add(this.element,"focusout",this.focusOutHandler,this),$.add(this.element,"mouseup",this.delegateMouseUpHandler,this),$.add(this.element,"keyup",this.delegateKeyUpHandler,this),$.add(e,"mousedown mouseup",this.rippleHandler,this),$.add(e,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&$.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.unWireEvents=function(){var e=this.getWrapper();$.remove(e,"click",this.clickHandler),$.remove(this.element,"focus",this.focusHandler),$.remove(this.element,"focusout",this.focusOutHandler),$.remove(this.element,"mouseup",this.delegateMouseUpHandler),$.remove(this.element,"keyup",this.delegateKeyUpHandler),$.remove(e,"mousedown mouseup",this.rippleHandler),$.remove(e,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&$.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Lp([Se()],t.prototype,"change",void 0),Lp([Se()],t.prototype,"created",void 0),Lp([O(!1)],t.prototype,"checked",void 0),Lp([O("")],t.prototype,"cssClass",void 0),Lp([O(!1)],t.prototype,"disabled",void 0),Lp([O("")],t.prototype,"name",void 0),Lp([O("")],t.prototype,"onLabel",void 0),Lp([O("")],t.prototype,"offLabel",void 0),Lp([O("")],t.prototype,"value",void 0),Lp([O({})],t.prototype,"htmlAttributes",void 0),Lp([Jn],t)}(Xr),vR=!1;function gh(r,t,e,i,n){return db=void 0,db=n,vR=!!i,r?(t||(t="left"),e||(e="top"),Z1=r.ownerDocument,uv=r,function gce(r,t,e){switch(_f=uv.getBoundingClientRect(),t+r){case"topcenter":dv(CR(),e),pv(OA(),e);break;case"topright":dv(bR(),e),pv(OA(),e);break;case"centercenter":dv(CR(),e),pv(yR(),e);break;case"centerright":dv(bR(),e),pv(yR(),e);break;case"centerleft":dv(LA(),e),pv(yR(),e);break;case"bottomcenter":dv(CR(),e),pv(mR(),e);break;case"bottomright":dv(bR(),e),pv(mR(),e);break;case"bottomleft":dv(LA(),e),pv(mR(),e);break;default:dv(LA(),e),pv(OA(),e)}return uv=null,e}(t.toLowerCase(),e.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function dv(r,t){t.left=r}function pv(r,t){t.top=r}function F6(){return Z1.documentElement.scrollTop||Z1.body.scrollTop}function j6(){return Z1.documentElement.scrollLeft||Z1.body.scrollLeft}function mR(){return vR?_f.bottom:_f.bottom+F6()}function yR(){return OA()+_f.height/2}function OA(){return vR?_f.top:_f.top+F6()}function LA(){return _f.left+j6()}function bR(){var r=uv&&(uv.classList.contains("e-date-wrapper")||uv.classList.contains("e-datetime-wrapper")||uv.classList.contains("e-date-range-wrapper")||uv.classList.contains("e-ddl")||uv.classList.contains("e-multiselect"))?db?db.width:0:db&&_f.width>=db.width?db.width:0;return _f.right+j6()-r}function CR(){return LA()+_f.width/2}function SR(r,t,e,i){if(void 0===t&&(t=null),void 0===e&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Wu=t,pb=r.ownerDocument,i||(i=gh(r,"left","top")),e.X){var s=Wu?Y6():q6(),o=MR(),a=xR(),l=o-i.left,h=i.left+n.width-a;n.width>s?i.left=l>0&&h<=0?a-n.width:h>0&&l<=0?o:l>h?a-n.width:o:l>0?i.left+=l:h>0&&(i.left-=h)}if(e.Y){var c=Wu?G6():$6(),u=IR(),d=DR(),p=u-i.top,f=i.top+n.height-d;n.height>c?i.top=p>0&&f<=0?d-n.height:f>0&&p<=0?u:p>f?d-n.height:u:p>0?i.top+=p:f>0&&(i.top-=f)}return i}function Rf(r,t,e,i){void 0===t&&(t=null);var n=gh(r,"left","top");e&&(n.left=e),i&&(n.top=i);var s=[];Wu=t,pb=r.ownerDocument;var o=r.getBoundingClientRect(),l=n.left,h=n.left+o.width,u=W6(n.top,n.top+o.height),d=H6(l,h);return u.topSide&&s.push("top"),d.rightSide&&s.push("right"),d.leftSide&&s.push("left"),u.bottomSide&&s.push("bottom"),s}function vce(r,t,e,i,n,s,o,a,l){if(void 0===o&&(o=null),void 0===a&&(a={X:!0,Y:!0}),t&&r&&n&&s&&(a.X||a.Y)){var u,h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(r).display){var d=r.style.visibility;r.style.visibility="hidden",r.style.display="block",u=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=d}else u=r.getBoundingClientRect();var p={posX:n,posY:s,offsetX:e,offsetY:i,position:{left:0,top:0}};Wu=o,pb=t.ownerDocument,function yce(r,t,e,i,n){e.position=gh(r,e.posX,e.posY,i,n),t.TL=gh(r,"left","top",i,n),t.TR=gh(r,"right","top",i,n),t.BR=gh(r,"left","bottom",i,n),t.BL=gh(r,"right","bottom",i,n)}(t,h,p,l,u),wR(c,p,u),a.X&&U6(t,c,h,p,u,!0),a.Y&&h.TL.top>-1&&V6(t,c,h,p,u,!0),function mce(r,t,e){var i=0,n=0;if(null!=r.offsetParent&&("absolute"===getComputedStyle(r.offsetParent).position||"relative"===getComputedStyle(r.offsetParent).position)){var s=gh(r.offsetParent,"left","top",!1,e);i=s.left,n=s.top}var o=1,a=1;if(r.offsetParent){var l=getComputedStyle(r.offsetParent).transform;if("none"!==l){var h=new DOMMatrix(l);o=h.a,a=h.d}}r.style.top=t.position.top/a+t.offsetY-n+"px",r.style.left=t.position.left/o+t.offsetX-i+"px"}(r,p,u)}}function wR(r,t,e){r.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},r.TR={top:r.TL.top,left:r.TL.left+e.width},r.BL={top:r.TL.top+e.height,left:r.TL.left},r.BR={top:r.TL.top+e.height,left:r.TL.left+e.width}}function H6(r,t){var e=!1,i=!1;return r-NA()<MR()&&(e=!0),t>xR()&&(i=!0),{leftSide:e,rightSide:i}}function U6(r,t,e,i,n,s){var o=H6(t.TL.left,t.TR.left);e.TL.left-NA()<=MR()&&(o.leftSide=!1),e.TR.left>xR()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=gh(r,i.posX,i.posY,!1),wR(t,i,n),s&&U6(r,t,e,i,n,!1))}function V6(r,t,e,i,n,s){var o=W6(t.TL.top,t.BL.top);e.TL.top-kA()<=IR()&&(o.topSide=!1),e.BL.top>=DR()&&r.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=gh(r,i.posX,i.posY,!1,n),wR(t,i,n),s&&V6(r,t,e,i,n,!1))}function W6(r,t){var e=!1,i=!1;return r-kA()<IR()&&(e=!0),t>DR()&&(i=!0),{topSide:e,bottomSide:i}}function Y6(){return Wu.getBoundingClientRect().width}function G6(){return Wu.getBoundingClientRect().height}function X6(){return Wu.getBoundingClientRect().left}function Q6(){return Wu.getBoundingClientRect().top}function IR(){return Wu?Q6():0}function MR(){return Wu?X6():0}function xR(){return Wu?NA()+X6()+Y6():NA()+q6()}function DR(){return Wu?kA()+Q6()+G6():kA()+$6()}function kA(){return pb.documentElement.scrollTop||pb.body.scrollTop}function NA(){return pb.documentElement.scrollLeft||pb.body.scrollLeft}function $6(){return window.innerHeight}function q6(){var r=window.innerWidth,t=document.documentElement.getBoundingClientRect();return r-(r-(v(document.documentElement)?0:t.width))}var Z6=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pl=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},J6=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Z6(t,r),pl([O("left")],t.prototype,"X",void 0),pl([O("top")],t.prototype,"Y",void 0),t}(ii),Ql_OPEN="e-popup-open",Ql_CLOSE="e-popup-close",Yu=function(r){function t(e,i){return r.call(this,i,e)||this}return Z6(t,r),t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"width":$i(this.element,{width:si(e.width)});break;case"height":$i(this.element,{height:si(e.height)});break;case"zIndex":$i(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var a=e.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break;case"offsetY":var l=e.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove("e-popup","e-rtl",Ql_OPEN,Ql_CLOSE),this.content=null,this.relateTo=null,r.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add("e-popup");var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=si(this.width)),"auto"!==this.height&&(e.height=si(this.height)),$i(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){Ue.isDevice&&$.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)$.add(i[e],"scroll",this.scrollRefresh,this)},t.prototype.unwireEvents=function(){Ue.isDevice&&$.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)$.remove(i[e],"scroll",this.scrollRefresh)},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||v(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?!v(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),e.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,i){for(var n=this.getScrollableParent(e),s=0;s<n.length;s++)if(!this.isElementVisible(e,n[s]))return!1;return!0},t.prototype.isElementVisible=function(e,i){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(v(this.checkGetBoundingClientRect(i))){var o=window,a={top:o.scrollY,left:o.scrollX,right:o.scrollX+o.outerWidth,bottom:o.scrollY+o.outerHeight},l=gh(e),h={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},c={top:a.bottom-h.top,left:a.right-h.left,bottom:h.bottom-a.top,right:h.right-a.left};return c.top>0&&c.left>0&&c.right>0&&c.bottom>0}var s=i.getBoundingClientRect();return!(n.bottom<s.top||n.bottom>s.bottom||n.right>s.right||n.left<s.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.setContent=function(){if(!v(this.content))if(this.element.innerHTML="","string"==typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),i=this.content.props;(!e.classList.contains("e-dropdown-btn")||v(i))&&this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,i){v(e)||this.checkFixedParent(e),this.reposition(),i||this.checkCollision()},t.prototype.reposition=function(){var e,i,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var s=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){var a=this.element.clientHeight;o=this.element.style.display,this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,a),this.element.style.display=o}else e={left:0,top:0};v(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch{return null}},t.prototype.getAnchorPosition=function(e,i,n,s,o,a){void 0===a&&(a=0);var l=this.checkGetBoundingClientRect(i),h=this.checkGetBoundingClientRect(e);if(v(l)||v(h))return null;var c=e,u={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===e.tagName?u=gh(e):(i.classList.contains("e-dlg-modal")&&"BODY"!==c.tagName&&(i=i.parentElement),u=function fce(r,t){var e=!1,i={left:0,top:0},n=r;if(!r||!t)return i;for(v(t.offsetParent)&&"fixed"===t.style.position&&(e=!0);(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}(c,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?u.left+=window.innerWidth/2-l.width/2:u.left+="container"===this.targetType?h.width/2-l.width/2:h.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?u.left+=window.innerWidth-l.width:u.left+="container"===this.targetType?h.width-l.width:h.width}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?u.top+=window.innerHeight/2-l.height/2:u.top+="container"===this.targetType?h.height/2-l.height/2:h.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?u.top+=window.innerHeight-l.height:"container"!==this.targetType||i.classList.contains("e-dialog")?"container"===this.targetType&&i.classList.contains("e-dialog")?u.top+=h.height-a:u.top+=h.height:u.top+=h.height-l.height}return u.left+=s,u.top+=o,u},t.prototype.callFlip=function(e){var i=this.getRelateToElement();vce(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==Rf(this.element,this.viewPortElement).length)if(v(this.viewPortElement)){var i=SR(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=i.left+"px"),e.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(v(n)||v(s))return null;e&&!0===e.Y&&(s.top>n.top?this.element.style.top="0px":s.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-s.bottom)+"px")),e&&!0===e.X&&(s.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-s.right)+"px":s.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,i=this.collision.Y;"none"===e&&"none"===i||("flip"===e&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,i){var n=this;if(this.getRelateToElement().classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!v(this.fmDialogContainer)&&Ue.isIos&&(this.fmDialogContainer.style.display="block"),1e3===this.zIndex||!v(i)){var o=v(i)?this.element:i;this.zIndex=zf(o),$i(this.element,{zIndex:this.zIndex})}e=v(e)||"object"!=typeof e?this.showAnimation:e,("none"!==this.collision.X||"none"!==this.collision.Y)&&(Ae([this.element],Ql_CLOSE),be([this.element],Ql_OPEN),this.checkCollision(),Ae([this.element],Ql_OPEN),be([this.element],Ql_CLOSE)),v(e)?(Ae([this.element],Ql_CLOSE),be([this.element],Ql_OPEN),this.trigger("open")):(e.begin=function(){n.isDestroyed||(Ae([n.element],Ql_CLOSE),be([n.element],Ql_OPEN))},e.end=function(){n.isDestroyed||n.trigger("open")},new Ro(e).animate(this.element))},t.prototype.hide=function(e){var i=this;e=v(e)||"object"!=typeof e?this.hideAnimation:e,v(e)?(Ae([this.element],Ql_OPEN),be([this.element],Ql_CLOSE),this.trigger("close")):(e.end=function(){i.isDestroyed||(Ae([i.element],Ql_OPEN),be([i.element],Ql_CLOSE),i.trigger("close"))},new Ro(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),TR(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var i=e.parentElement;i&&"HTML"!==i.tagName;){var n=getComputedStyle(i);"fixed"===n.position&&!v(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&"hidden"!==getComputedStyle(this.element.offsetParent).overflow&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?si(window.scrollY-parseInt(this.element.style.top,10)):si(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!v(this.element)&&v(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},pl([O("auto")],t.prototype,"height",void 0),pl([O("auto")],t.prototype,"width",void 0),pl([O(null)],t.prototype,"content",void 0),pl([O("container")],t.prototype,"targetType",void 0),pl([O(null)],t.prototype,"viewPortElement",void 0),pl([O({X:"none",Y:"none"})],t.prototype,"collision",void 0),pl([O("")],t.prototype,"relateTo",void 0),pl([Lt({},J6)],t.prototype,"position",void 0),pl([O(0)],t.prototype,"offsetX",void 0),pl([O(0)],t.prototype,"offsetY",void 0),pl([O(1e3)],t.prototype,"zIndex",void 0),pl([O(!1)],t.prototype,"enableRtl",void 0),pl([O("reposition")],t.prototype,"actionOnScroll",void 0),pl([O(null)],t.prototype,"showAnimation",void 0),pl([O(null)],t.prototype,"hideAnimation",void 0),pl([Se()],t.prototype,"open",void 0),pl([Se()],t.prototype,"close",void 0),pl([Se()],t.prototype,"targetExitViewport",void 0),pl([Jn],t)}(Xr);function TR(r,t){for(var e=getComputedStyle(r),i=[],n=/(auto|scroll)/,s=r.parentElement;s&&"HTML"!==s.tagName;){var o=getComputedStyle(s);!("absolute"===e.position&&"static"===o.position)&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(s),s=s.parentElement}return t||i.push(document),i}function zf(r){for(var t=r.parentElement,e=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==n&&e.push(i),t=t.parentElement}for(var s=[],o=0;o<document.body.children.length;o++)r.isEqualNode(document.body.children[o])||(i=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&s.push(i));s.push("999");var a=[];if(!v(r.parentElement)&&"BODY"!==r.parentElement.tagName){var l=[].slice.call(r.parentElement.children);for(o=0;o<l.length;o++)r.isEqualNode(l[o])||(i=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&a.push(i))}var h=e.concat(s,a),c=Math.max.apply(Math,h)+1;return c>2147483647?2147483647:c}var Js,Bf,ow,ay,LR,fv,cs,ly,ER=["north-west","north","north-east","west","east","south-west","south","south-east"],J1="e-resize-handle",oy="e-focused-handle",bce="e-dlg-resizable",K6=["e-restrict-left"],e9="e-resize-viewport",Cce=["north","west","east","south"],AR=0,OR=0,t9=0,i9=0,K1=0,ex=0,tx=null,kR=null,NR=null,PA=!0,n9=0,PR=!0;function wce(r){_R();var t=Lr("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+r),"south"===r&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===r&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===r&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===r&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),Js.appendChild(t)}function r9(r){var t;return v(r)||(t="string"==typeof r?document.querySelector(r):r),t}function s9(r){v(r)&&(r=this);for(var t=Js.querySelectorAll("."+J1),e=0;e<t.length;e++)$.add(Bf=t[e],"mousedown",a9,r),$.add(Bf,"msie"===Ue.info.name?"pointerdown":"touchstart",l9,r);var n=Js.querySelectorAll(".e-dialog-border-resize");if(!v(n))for(e=0;e<n.length;e++)$.add(Bf=n[e],"mousedown",a9,r),$.add(Bf,"msie"===Ue.info.name?"pointerdown":"touchstart",l9,r)}function o9(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function a9(r){if(r.preventDefault(),Js=r.target.parentElement,_R(),K1=r.pageX,ex=r.pageY,r.target.classList.add(oy),v(tx)||!0!==tx(r,this)){this.targetEle&&Js&&Js.querySelector("."+bce)&&(cs="body"===this.target?null:this.targetEle,fv=this.targetEle.clientWidth,ay=this.targetEle.clientHeight);var t=v(cs)?document:cs;$.add(t,"mousemove",ix,this),$.add(document,"mouseup",_A,this);for(var e=0;e<K6.length;e++)PA=!Js.classList.contains(K6[e])}}function _A(r){var t="msie"===Ue.info.name?"pointermove":"touchmove",e="msie"===Ue.info.name?"pointerup":"touchend",i=v(cs)?document:cs,n="msie"===Ue.info.name?"pointerdown":"touchstart";$.remove(i,"mousemove",ix),$.remove(i,t,ix),$.remove(i,n,ix),v(document.body.querySelector("."+oy))||document.body.querySelector("."+oy).classList.remove(oy),v(NR)||NR(r,this),$.remove(document,"mouseup",_A),$.remove(document,e,_A)}function _R(){AR=parseFloat(getComputedStyle(Js,null).getPropertyValue("width").replace("px","")),OR=parseFloat(getComputedStyle(Js,null).getPropertyValue("height").replace("px","")),t9=Js.getBoundingClientRect().left,i9=Js.getBoundingClientRect().top}function l9(r){Js=r.target.parentElement,_R();var t=Js.classList.contains("e-dialog");(r.target.classList.contains(J1)||r.target.classList.contains("e-dialog-border-resize"))&&t&&r.target.classList.add(oy);var e=r.touches?r.changedTouches[0]:r;if(K1=e.pageX,ex=e.pageY,v(tx)||!0!==tx(r,this)){var i="msie"===Ue.info.name?"pointermove":"touchmove",n="msie"===Ue.info.name?"pointerup":"touchend",s=v(cs)?document:cs;$.add(s,i,ix,this),$.add(document,n,_A,this)}}function ix(r){if(r.target.classList.contains(J1)&&r.target.classList.contains(oy)?Bf=r.target:v(document.body.querySelector("."+oy))||(Bf=document.body.querySelector("."+oy)),!v(Bf)){for(var t="",e=0;e<ER.length;e++)Bf.classList.contains("e-"+ER[e])&&(t=ER[e]);switch(v(kR)||kR(r,this),t){case"south":RR(r);break;case"north":zR(r);break;case"west":BR(r);break;case"east":FR(r);break;case"south-east":RR(r),FR(r);break;case"south-west":RR(r),BR(r);break;case"north-east":zR(r),FR(r);break;case"north-west":zR(r),BR(r)}}}function cy(r){return r.getBoundingClientRect()}function RR(r){var o,t=document.documentElement.clientHeight,e=!1,n=(r.touches?r.changedTouches[0]:r).pageY,s=cy(Js);v(cs)||(o=cy(cs)),v(cs)?v(cs)&&(t-n>=0||s.top<0)&&(e=!0):e=!0;var a=OR+(n-ex);a=a>ow?a:ow;var l=0;v(cs)||(l=o.top);var h=v(cs)?0:cs.offsetHeight-cs.clientHeight,c=s.top-l-h/2;if(c=c<0?0:c,s.top>0&&c+a>ay){if(e=!1,Js.classList.contains(e9))return;Js.style.height=ay-parseInt(c.toString(),10)+"px"}else{var u=0;if(e){s.top<0&&t+(s.height+s.top)>0&&a+(u=s.top)<=30&&(a=s.height-(s.height+s.top)+30),a+s.top>=ay&&(Js.style.height=s.height+(t-(s.height+s.top))+"px");var d=v(cs)?u:c;a>=ow&&a+d<=ay&&(Js.style.height=a+"px")}}}function zR(r){var e,t=!1,i="mouse"===o9(r.type)?r.pageY:r.touches[0].pageY,n=cy(Js);v(cs)||(e=cy(cs)),(!v(cs)&&n.top-e.top>0||v(cs)&&i>0)&&(t=!0);var s=OR-(i-ex);if(t&&s>=ow&&s<=ay){var o=0;v(cs)||(o=e.top);var a=i9-o+(i-ex);a=a>0?a:1,Js.style.height=s+"px",Js.style.top=a+"px"}}function BR(r){var i,t=document.documentElement.clientWidth,e=!1;v(cs)||(i=cy(cs));var n="mouse"===o9(r.type)?r.pageX:r.touches[0].pageX,s=cy(Js),o=v(cs)?0:cs.offsetWidth-cs.clientWidth,a=v(cs)?0:i.left,l=v(cs)?0:i.width;v(ly)&&(v(cs)?ly=t:(ly=s.left-a-o/2+s.width,ly+=l-o-ly)),(!v(cs)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-o<=fv||v(cs)&&n>=0)&&(e=!0);var h=AR-(n-K1);if(PA&&(h=h>ly?ly:h),e&&h>=LR&&h<=fv){var c=0;v(cs)||(c=i.left);var u=t9-c+(n-K1);u=u>0?u:1,h!==n9&&PR&&(Js.style.width=h+"px"),PA&&(Js.style.left=u+"px",PR=1!==u)}n9=h}function FR(r){var i,t=document.documentElement.clientWidth,e=!1;v(cs)||(i=cy(cs));var s=(r.touches?r.changedTouches[0]:r).pageX,o=cy(Js);(!v(cs)&&(o.left-i.left+o.width<=fv||o.right-i.left>=o.width)||v(cs)&&t-s>0)&&(e=!0);var a=AR+(s-K1),l=0;if(v(cs)||(l=i.left),o.left-l+a>fv){if(e=!1,Js.classList.contains(e9))return;Js.style.width=fv-(o.left-l)+"px"}e&&a>=LR&&a<=fv&&(Js.style.width=a+"px")}function h9(){for(var r=Js.querySelectorAll("."+J1),t=0;t<r.length;t++)Ot(r[t]);var e=Js.querySelectorAll(".e-dialog-border-resize");if(!v(e))for(t=0;t<e.length;t++)Ot(e[t])}var S9,jR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_r=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Dce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jR(t,r),_r([O(!0)],t.prototype,"isFlat",void 0),_r([O()],t.prototype,"buttonModel",void 0),_r([O("Button")],t.prototype,"type",void 0),_r([Se()],t.prototype,"click",void 0),t}(ii),Tce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jR(t,r),_r([O("Fade")],t.prototype,"effect",void 0),_r([O(400)],t.prototype,"duration",void 0),_r([O(0)],t.prototype,"delay",void 0),t}(ii),RA="e-dialog",HR="e-rtl",UR="e-dlg-header-content",c9="e-dlg-header",nx="e-footer-content",zA="e-dlg-modal",u9="e-icon-dlg-close",Ff="e-dlg-target",kp="e-scroll-disabled",d9="e-device",BA="e-dlg-fullscreen",p9="e-dlg-closeicon-btn",f9="e-popup-open",g9="Information",v9="e-scroll-disabled",m9="e-alert-dialog",y9="e-confirm-dialog",VR="e-dlg-resizable",FA="e-restrict-left",b9="e-resize-viewport",WR="user action",C9=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.needsID=!0,n}return jR(t,r),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=si(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=WR},t.prototype.preRender=function(){var e=this;if(this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(s){e.dlgClosedBy="close icon",e.hide(s)},this.dlgOverlayClickEventHandler=function(s){e.dlgClosedBy="overlayClick",s.preventFocus=!1,e.trigger("overlayClick",s,function(o){o.preventFocus||e.focusContent(),e.dlgClosedBy=WR})},this.l10n=new Go("dialog",{close:"Close"},this.locale),this.checkPositionData(),v(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!v(this.position)){if(!v(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}v(this.position.Y)||"number"==typeof this.position.Y||this.isNumberValue(this.position.Y)&&(i=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i)}},t.prototype.getEle=function(e,i){for(var n=void 0,s=0;s<e.length;s++)if(e[s].classList.contains(i)){n=e[s];break}return n},t.prototype.getMinHeight=function(){var e="0px",i="0px";v(this.element.querySelector("."+UR))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,nx);v(n)||(i=getComputedStyle(n).height);var s=parseInt(e.slice(0,e.indexOf("p")),10),o=parseInt(i.slice(0,i.indexOf("p")),10);return function Ice(r){ow=r}(s+30+(isNaN(o)?0:o)),s+30+o},t.prototype.onResizeStart=function(e,i){return i.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,i){i.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,i){i.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!v(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(VR);for(var e=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",s=0;s<this.resizeHandles.length;s++){if("All"===this.resizeHandles[s]){n="south north east west north-east north-west south-east south-west";break}var o="";switch(this.resizeHandles[s].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[s].toString()}n+=o.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===n.trim()?n="south-west":this.enableRtl&&"south-west"===n.trim()&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(FA):this.isModal&&this.target===document.body&&this.element.classList.add(b9),function Sce(r){tx=r.resizeBegin,kR=r.resizing,NR=r.resizeComplete,Js=r9(r.element),cs=r9(r.boundary);for(var t=r.direction.split(" "),e=0;e<t.length;e++)if(Cce.indexOf(t[e])>=0&&t[e])wce(t[e]);else if(""!==t[e].trim()){var i=Lr("div",{className:"e-icons "+J1+" e-"+t[e]});Js.appendChild(i)}ow=r.minHeight,LR=r.minWidth,fv=r.maxWidth,ay=r.maxHeight,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?s9(r.proxy):s9()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else h9(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?FA:b9),this.element.classList.remove(VR)},t.prototype.getFocusElement=function(e){var n=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:n[n.length-1]}},t.prototype.keyDown=function(e){var i=this;if(9===e.keyCode&&this.isModal){var n=void 0;v(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),v(this.btnObj)&&!v(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),v(this.btnObj)&&v(this.ftrTemplateContent)&&!v(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!v(n)&&document.activeElement===n.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),v(n)||n.element.focus())}var h,s=document.activeElement,o=["input","textarea"].indexOf(s.tagName.toLowerCase())>-1,a=!1;if(o||(a=s.hasAttribute("contenteditable")&&"true"===s.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var l=document.querySelector(".e-popup-open:not(.e-dialog)");!v(l)&&!l.classList.contains("e-toolbar-pop")||this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==s.tagName.toLowerCase()&&o&&!v(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===s.tagName.toLowerCase()||a)&&!v(this.primaryButtonEle))&&this.buttons.some(function(u,d){h=d;var p=u.buttonModel;return!v(p)&&!0===p.isPrimary})&&"function"==typeof this.buttons[h].click&&setTimeout(function(){i.buttons[h].click.call(i,e)})},t.prototype.initialize=function(){v(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||be([this.element],RA),Ue.isDevice&&be([this.element],d9),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||wi(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&v(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&v(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!v(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||v(this.footerTemplate)?v(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!v(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(wi(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&v(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var i=0,n=this.dlgContainer.children;i<n.length;i++)n[i].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[i])}if(!0!==this.element.classList.contains(m9)&&!0!==this.element.classList.contains(y9)&&!v(this.element.parentElement)){var s=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),s.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}v(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new Yu(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(o){var a={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",a,function(l){l.preventFocus||e.focusContent()})},close:function(o){e.isModal&&be([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var a=document.activeElement;!v(a)&&!v(a.blur)&&a.blur(),!v(e.storeActiveElement)&&!v(e.storeActiveElement.focus)&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(be([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var n=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));v(n)||(n.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var i;i=v(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this,i="."+UR;this.element.classList.contains("e-draggable")||(this.dragObj=new tw(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(n){e.trigger("dragStart",n,function(s){ge()&&s.bindEvents(n.dragElement)})},dragStop:function(n){e.isModal&&(v(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y),e.element.style.position="relative"),e.trigger("dragStop",n),e.element.classList.remove(FA),e.updatePersistData()},drag:function(n){e.trigger("drag",n)}}),v(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var i=v(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}e=0;for(var s,o=this.element.children;e<o.length;e++)o[e].classList.contains(nx)&&(s=o[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new Io(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+nx)),!v(this.ftrTemplateContent)&&s.length>0&&("function"==typeof this.buttons[e].click&&$.add(s[e],"click",this.buttons[e].click,this),"object"==typeof this.buttons[e].click&&$.add(s[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!v(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!v(this.content)&&""!==this.content||!this.initialRender)&&(("string"!=typeof this.content||ge())&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),v(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&Ue.isIE&&""===this.element.style.width&&!v(this.width)&&(this.element.style.width=si(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,i,n){var s,o,a;o=i.classList.contains(c9)?this.element.id+"header":i.classList.contains(nx)?this.element.id+"footerTemplate":this.element.id+"content",v(e.outerHTML)?("string"==typeof e||"string"!=typeof e||ge()&&!this.isStringTemplate)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!=typeof e?(s=wn(e),a=e):i.innerHTML=e):i.appendChild(e);var l=[];if(!v(s)){for(var c=0,u=s({},this,n,o,!(ge()&&!this.isStringTemplate&&0===a.indexOf("<div>Blazor"))||this.isStringTemplate);c<u.length;c++)l.push(u[c]);Yi([].slice.call(l),i)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Ms.beforeSanitize();Ii(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!v(i.helper)?e=i.helper(e):i.cancel||(e=Ms.serializeValue(i,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!v(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,Ue.isIE&&"auto"===this.height&&!v(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?be([this.element],HR):Ae([this.element],HR)),v(this.element.querySelector(".e-resize-handle"))||(h9(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(v(this.content)||""===this.content){var i=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){8!==n.nodeType&&e.innerContentElement.appendChild(n)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:c9}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),wi(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:nx}),""===this.footerTemplate||v(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){v(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:UR}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:p9,attrs:{type:"button"}}),this.closeIconBtnObj=new Io({cssClass:"e-flat",iconCss:u9+" e-icons"}),this.closeIconTitle(),v(this.headerContent)?(this.createHeaderContent(),tl([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):tl([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(Ae([this.element],e.split(" ")),this.isModal&&!v(this.dlgContainer)&&Ae([this.dlgContainer],e.split(" "))),this.cssClass&&(be([this.element],this.cssClass.split(" ")),this.isModal&&!v(this.dlgContainer)&&be([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(f9),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),be([this.element],zA),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var i,n=0;n<e.length;n++){if(((i=e[n]).clientHeight>0||"a"===i.tagName.toLowerCase()&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},t.prototype.focusableElements=function(e){if(!v(e)){var n=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(n)}return null},t.prototype.getAutoFocusNode=function(e){var i=e.querySelector("."+p9),s=e.querySelectorAll("[autofocus]"),o=this.getValidFocusNode(s);if(ge()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),v(o)){if(!v(o=this.focusableElements(this.contentEle)))return o;if(!v(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else i=o;return i},t.prototype.disableElement=function(e,i){var n=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,i))return e;return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),i=v(e)?this.element:e,n=Ue.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){$.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){$.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return ge()&&this.isServerRendered},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(RA))for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"content":v(this.content)||""===this.content?v(this.contentEle)||(Ot(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),v(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||v(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),Ot(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||v(this.header)?this.headerEle&&(Ot(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||v(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||v(this.footerTemplate)){if(!this.ftrTemplateContent)return;Ot(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||v(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(u9).length>0?this.showCloseIcon||""!==this.header&&!v(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():Ot(this.closeIcon):(Ot(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":$i(this.element,{height:si(e.height)}),this.updatePersistData();break;case"width":$i(this.element,{width:si(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":var a=this.buttons.length;!v(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(Ot(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var l=0;l<a;l++)v(this.buttons[l].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!v(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var h=v(i.position)||v(i.position.X)?this.position.X:i.position.X,c=v(i.position)||v(i.position.Y)?this.position.Y:i.position.Y;this.dlgContainer.classList.contains("e-dlg-"+h+"-"+c)&&this.dlgContainer.classList.remove("e-dlg-"+h+"-"+c)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=si(this.minHeight))}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)v(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",v(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(Ae([this.element],zA),Ae([document.body],[Ff,kp]),Ot(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&$.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var s=zf(e);this.zIndex=s>this.zIndex?s:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){(function Mce(r){fv=r})(this.targetEle.clientWidth),function xce(r){ay=r}(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.destroy=function(){if(!this.isDestroyed){var e=[HR,zA,VR,FA,BA,d9],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(Ae([this.targetEle],[Ff,kp]),!v(this.element)&&this.element.classList.contains(BA)&&Ae([document.body],[Ff,kp]),this.isModal&&Ae([v(this.targetEle)?document.body:this.targetEle],kp),this.unWireEvents(),!v(this.btnObj))for(var n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(v(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),v(this.dragObj)||this.dragObj.destroy(),!v(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),Ae([this.element],e),!v(this.cssClass)&&""!==this.cssClass&&Ae([this.element],this.cssClass.split(" ")),!v(this.refElement)&&!v(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),Ot(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(Ot(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Ot(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!v(this.element.children))for(n=0;n<=this.element.children.length;n++)Ot(this.element.children[n-=n]);for(n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:r.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&$.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&$.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){if(this.showCloseIcon&&$.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&$.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!v(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&$.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(zA)&&this.positionChange()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var i=this;if(this.element.classList.contains(RA)){if(!this.element.classList.contains(f9)||!v(e)){v(e)||this.fullScreen(e);var n=ge()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(s){if(!s.cancel){i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!v(i.dlgOverlay)&&(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",Ae([i.dlgOverlay],"e-fade"),v(i.targetEle)?be([document.body],[Ff,kp]):(i.dlgContainer.style.position=i.targetEle===document.body?"fixed":"absolute",i.dlgOverlay.style.position="absolute",i.element.style.position="relative",be([i.targetEle],[Ff,kp])));var o={name:i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.calculatezIndex&&(i.setzIndex(i.isModal?i.element.parentElement:i.element,!0),$i(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),"None"===i.animationSettings.effect?i.popupObj.show():i.popupObj.show(o),i.dialogOpen=!0;var l=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=l}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var i=this;if(this.element.classList.contains(RA)&&this.preventVisibility){var n=ge()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(s){if(!s.cancel){i.isModal&&(v(i.targetEle)||Ae([i.targetEle],[Ff,kp])),document.body.classList.contains(Ff)&&document.body.classList.contains(kp)&&Ae([document.body],[Ff,kp]);var o={name:i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};"None"===i.animationSettings.effect?i.popupObj.hide():i.popupObj.hide(o),i.dialogOpen=!1;var a=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=a}i.dlgClosedBy=WR})}},t.prototype.fullScreen=function(e){if(e){this.element.style.top=document.scrollingElement.scrollTop+"px",be([this.element],BA);var s=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=v(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=s,be([document.body],[Ff,kp]),this.allowDragging&&!v(this.dragObj)&&this.dragObj.destroy()}else Ae([this.element],BA),Ae([document.body],[Ff,kp]),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return v(e)?this.btnObj:this.btnObj[e]},_r([O("")],t.prototype,"content",void 0),_r([O(!0)],t.prototype,"enableHtmlSanitizer",void 0),_r([O(!1)],t.prototype,"enablePersistence",void 0),_r([O(!1)],t.prototype,"showCloseIcon",void 0),_r([O(!1)],t.prototype,"isModal",void 0),_r([O("")],t.prototype,"header",void 0),_r([O(!0)],t.prototype,"visible",void 0),_r([O(!1)],t.prototype,"enableResize",void 0),_r([O(["South-East"])],t.prototype,"resizeHandles",void 0),_r([O("auto")],t.prototype,"height",void 0),_r([O("")],t.prototype,"minHeight",void 0),_r([O("100%")],t.prototype,"width",void 0),_r([O("")],t.prototype,"cssClass",void 0),_r([O(1e3)],t.prototype,"zIndex",void 0),_r([O(null)],t.prototype,"target",void 0),_r([O("")],t.prototype,"footerTemplate",void 0),_r([O(!1)],t.prototype,"allowDragging",void 0),_r([Qn([{}],Dce)],t.prototype,"buttons",void 0),_r([O(!0)],t.prototype,"closeOnEscape",void 0),_r([Lt({},Tce)],t.prototype,"animationSettings",void 0),_r([Lt({X:"center",Y:"center"},J6)],t.prototype,"position",void 0),_r([Se()],t.prototype,"created",void 0),_r([Se()],t.prototype,"open",void 0),_r([Se()],t.prototype,"beforeSanitizeHtml",void 0),_r([Se()],t.prototype,"beforeOpen",void 0),_r([Se()],t.prototype,"close",void 0),_r([Se()],t.prototype,"beforeClose",void 0),_r([Se()],t.prototype,"dragStart",void 0),_r([Se()],t.prototype,"dragStop",void 0),_r([Se()],t.prototype,"drag",void 0),_r([Se()],t.prototype,"overlayClick",void 0),_r([Se()],t.prototype,"resizeStart",void 0),_r([Se()],t.prototype,"resizing",void 0),_r([Se()],t.prototype,"resizeStop",void 0),_r([Se()],t.prototype,"destroyed",void 0),_r([Jn],t)}(Xr);!function(r){function i(c,u){var d=new C9(c);return d.appendTo(u),d}function o(c,u){return c.header=v(u.title)?null:u.title,c.content=v(u.content)?"":u.content,c.isModal=!!v(u.isModal)||u.isModal,c.showCloseIcon=!v(u.showCloseIcon)&&u.showCloseIcon,c.allowDragging=!v(u.isDraggable)&&u.isDraggable,c.closeOnEscape=!v(u.closeOnEscape)&&u.closeOnEscape,c.position=v(u.position)?{X:"center",Y:"top"}:u.position,c.animationSettings=v(u.animationSettings)?{effect:"Fade",duration:400,delay:0}:u.animationSettings,c.cssClass=v(u.cssClass)?"":u.cssClass,c.zIndex=v(u.zIndex)?1e3:u.zIndex,c.open=v(u.open)?null:u.open,c.width=v(u.width)?"auto":u.width,c.height=v(u.height)?"auto":u.height,c}function h(c,u,d){var p=d;return v(u.text)||(p.buttonModel.content=u.text),v(u.icon)||(p.buttonModel.iconCss=u.icon),v(u.cssClass)||(p.buttonModel.cssClass=u.cssClass),v(u.click)||(p.click=u.click),p}r.alert=function t(c){var d,u=Lr("div",{className:m9});return document.body.appendChild(u),(d=i("string"==typeof c?{content:c,position:{X:"center",Y:"top"},isModal:!0,header:g9,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function n(c){var u={buttons:[]};return u=function a(c,u){var d=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return v(u.okButton)?c.buttons=d:c.buttons[0]=h(0,u.okButton,d[0]),c}(u=o(u,c),c),u}(c),u)).close=function(){c&&c.close&&c.close.apply(d),d.destroy(),d.element.classList.contains("e-dlg-modal")?(d.element.parentElement.remove(),d.target.classList.remove(v9)):d.element.remove()},d},r.confirm=function e(c){var d,u=Lr("div",{className:y9});return document.body.appendChild(u),(d=i("string"==typeof c?{position:{X:"center",Y:"top"},content:c,isModal:!0,header:g9,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function s(c){var u={buttons:[]};return u=function l(c,u){var d={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},p={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return c.buttons[0]=v(u.okButton)?d:h(0,u.okButton,d),c.buttons[1]=v(u.cancelButton)?p:h(0,u.cancelButton,p),c}(u=o(u,c),c),u}(c),u)).close=function(){c&&c.close&&c.close.apply(d),d.destroy(),d.element.classList.contains("e-dlg-modal")?(d.element.parentElement.remove(),d.target.classList.remove(v9)):d.element.remove()},d}}(S9||(S9={}));var w9=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ks=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},YR="e-tooltip",D9="e-icons",T9="e-tooltip-close",GR="e-tooltip-wrap",E9="e-tip-content",aw="e-arrow-tip",A9="e-arrow-tip-outer",jA="e-arrow-tip-inner",rx="e-tip-bottom",XR="e-tip-top",O9="e-tip-left",QR="e-tip-right",$R="e-popup",HA="e-popup-open",qR="e-popup-close",UA="e-lib",L9="e-tooltip-popup-container",Yce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return w9(t,r),Ks([O({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Ks([O({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(ii),Gu=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return w9(t,r),t.prototype.initialize=function(){this.formatPosition(),be([this.element],YR)},t.prototype.formatPosition=function(){var e,i;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1])},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:aw+" "+this.tipClass});e.appendChild(this.createElement("div",{className:A9+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:jA+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){this.tipClass=0===e.indexOf("Right")?O9:0===e.indexOf("Bottom")?XR:0===e.indexOf("Left")?QR:rx},t.prototype.renderPopup=function(e){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(UA),this.popupObj=new Yu(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var i={x:1,y:1},n=e.closest('[style*="transform: scale"]');if(n&&n!=this.tooltipEle&&n.contains(this.tooltipEle)){var a=window.getComputedStyle(n).getPropertyValue("transform").match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=a[0],i.y=a[3]}return i},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var n=gh(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),s=this.getScalingFactor(e),o=this.calculateTooltipOffset(this.position,s.x,s.y),a=this.calculateElementPosition(n,o),c=this.collisionFlipFit(e,a[0],a[1]);return c.left=c.left/s.x,c.top=c.top/s.y,this.tooltipEle.style.display="",c},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var i=this.getTooltipPosition(e);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){this.isReact&&!("Click"===this.opensOn&&"function"==typeof this.content)&&this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.calculateTooltipOffset=function(e,i,n){void 0===i&&(i=1),void 0===n&&(n=1);var o,a,l,h,c,u,d,p,s={top:0,left:0};if(1!=i||1!=n){var f=this.tooltipEle.getBoundingClientRect(),m=void 0;l=Math.round(f.width),h=Math.round(f.height),(c=Ge("."+aw,this.tooltipEle))&&(m=c.getBoundingClientRect()),o=c?Math.round(m.width):0,a=c?Math.round(m.height):0,u=this.showTipPointer?0:8,d=a/2+2+(h-this.tooltipEle.clientHeight*n),p=o/2+2+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,h=this.tooltipEle.offsetHeight,c=Ge("."+aw,this.tooltipEle),u=this.showTipPointer?0:8,d=(a=c?c.offsetHeight:0)/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),p=(o=c?c.offsetWidth:0)/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(u+=2),e){case"RightTop":s.left+=o+u,s.top-=h-d;break;case"RightCenter":s.left+=o+u,s.top-=h/2;break;case"RightBottom":s.left+=o+u,s.top-=d;break;case"BottomRight":s.top+=a+u,s.left-=p;break;case"BottomCenter":s.top+=a+u,s.left-=l/2;break;case"BottomLeft":s.top+=a+u,s.left-=l-p;break;case"LeftBottom":s.left-=o+l+u,s.top-=d;break;case"LeftCenter":s.left-=o+l+u,s.top-=h/2;break;case"LeftTop":s.left-=o+l+u,s.top-=h-d;break;case"TopLeft":s.top-=h+a+u,s.left-=l-p;break;case"TopRight":s.top-=h+a+u,s.left-=p;break;default:s.top-=h+a+u,s.left-=l/2}return s.left+=this.offsetX,s.top+=this.offsetY,s},t.prototype.updateTipPosition=function(e){var i=bi("."+aw+",."+A9+",."+jA,this.tooltipEle);Ae(i,[rx,XR,O9,QR]),this.setTipClass(e),be(i,this.tipClass)},t.prototype.adjustArrow=function(e,i,n,s){var o=Ge("."+aw,this.tooltipEle);if(!1!==this.showTipPointer&&null!==o){var a,l;this.updateTipPosition(i),this.tooltipEle.style.display="block";var f,h=this.tooltipEle.clientWidth,c=this.tooltipEle.clientHeight,u=Ge("."+jA,this.tooltipEle),d=o.offsetWidth,p=o.offsetHeight;this.tooltipEle.style.display="",this.tipClass===rx||this.tipClass===XR?(this.tipClass===rx?(l="99.9%",u.style.top="-"+(p-2)+"px"):(l=-(p-1)+"px",u.style.top="-"+(p-6)+"px"),e&&(a=(f="Center"!==n||h>e.offsetWidth||this.mouseTrail)&&"Left"===n||!f&&"End"===this.tipPointerPosition?h-d-2+"px":f&&"Right"===n||!f&&"Start"===this.tipPointerPosition?"2px":!f||"End"!==this.tipPointerPosition&&"Start"!==this.tipPointerPosition?h/2-d/2+"px":"End"===this.tipPointerPosition?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-d/2-2+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-d/2+2+"px")):(this.tipClass===QR?(a="99.9%",u.style.left="-"+(d-2)+"px"):(a=-(d-1)+"px",u.style.left=d-2-d+"px"),l=(f="Center"!==s||c>e.offsetHeight||this.mouseTrail)&&"Top"===s||!f&&"End"===this.tipPointerPosition?c-p-2+"px":f&&"Bottom"===s||!f&&"Start"===this.tipPointerPosition?"2px":c/2-p/2+"px"),o.style.top=l,o.style.left=a}},t.prototype.renderContent=function(e){var i=Ge("."+E9,this.tooltipEle);if(this.cssClass&&be([this.tooltipEle],this.cssClass.split(" ")),e&&!v(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),v(this.content))e&&!v(e.getAttribute("data-content"))&&(i.innerHTML=e.getAttribute("data-content"));else if(i.innerHTML="",this.content instanceof HTMLElement)i.appendChild(this.content);else if("string"==typeof this.content)this.enableHtmlSanitizer&&this.setProperties({content:Ms.sanitize(this.content)},!0),this.enableHtmlParse?(s=wn(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i,this.root))&&Yi(s,i):i.textContent=this.content;else{var s;(s=wn(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i))&&Yi(s,i),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var i=this.createElement("div",{className:D9+" "+T9});this.tooltipEle.appendChild(i),$.add(i,Ue.touchStartEvent,this.onStickyClose,this)}else{var e=this.tooltipEle.querySelector("."+D9+"."+T9);e&&bn(e)}},t.prototype.addDataTooltipId=function(e,i){wi(e,{"data-tooltip-id":i})},t.prototype.removeDataTooltipId=function(e){e.removeAttribute("data-tooltip-id")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var i=this;this.isSticky||(this.autoCloseTimer=setTimeout(function(){i.close()},1500))},t.prototype.targetClick=function(e){var i;!v(i=this.target?Je(e.target,this.target):this.element)&&(null===i.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,i))},t.prototype.targetHover=function(e){var i;if(!(v(i=this.target?Je(e.target,this.target):this.element)||null!==i.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var s=0,o=[].slice.call(bi('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));s<o.length;s++)this.restoreElement(o[s]);this.showTooltip(i,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&$.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,i,n){var s=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,$.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!v(n)},this.trigger("beforeRender",this.tooltipEventArgs,function(a){s.beforeRenderCallback(a,e,n,i)}.bind(this))},t.prototype.beforeRenderCallback=function(e,i,n,s){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove();else if(this.isHidden=!1,v(this.tooltipEle)){if(this.ctrlId=this.element.getAttribute("id")?Or(this.element.getAttribute("id")):Or("tooltip"),this.tooltipEle=this.createElement("div",{className:GR+" "+$R+" "+UA,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+si(this.width)+";height:"+si(this.height)+";position:absolute;"}),0!==Object.keys(this.htmlAttributes).length)for(var o in this.htmlAttributes)"class"===o?this.tooltipEle.classList.add(this.htmlAttributes[""+o]):this.tooltipEle.setAttribute(o,this.htmlAttributes[""+o]);this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,n,s,this)}else i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDataTooltipId(i,this.ctrlId+"_content"),this.renderContent(i),Ro.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,n,s,this))},t.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=Ge(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||be([this.containerElement],L9),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,i){e&&(Ue.isDevice&&be([i.tooltipEle],"e-bigger"),"auto"!==i.width&&(i.tooltipEle.style.maxWidth=si(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:E9})),this.appendContainer(i),Ae([i.tooltipEle],"e-hidden"),i.addDataTooltipId(e,i.ctrlId+"_content"),i.renderContent(e),be([i.tooltipEle],HA),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(e),i.adjustArrow(e,i.position,i.tooltipPositionX,i.tooltipPositionY),Ro.stop(i.tooltipEle),i.reposition(e))},t.prototype.tooltipAfterRender=function(e,i,n,s){e&&(Ae([s.tooltipEle],HA),be([s.tooltipEle],qR),s.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:s.tooltipEle,isInteracted:!v(i)},s.needTemplateReposition()&&!s.mouseTrail&&(s.tooltipEle.style.display="none"),s.trigger("beforeOpen",s.tooltipEventArgs,function(a){s.beforeOpenCallback(a,e,n,i)}.bind(s)))},t.prototype.beforeOpenCallback=function(e,i,n,s){var o=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var a={name:this.animation.open.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};"None"===n.effect&&(a=void 0),this.openDelay>0?this.showTimer=setTimeout(function(){o.mouseTrail&&$.add(i,"mousemove touchstart mouseenter",o.onMouseMove,o),o.popupObj&&(o.popupObj.show(a,i),o.mouseMoveEvent&&o.mouseTrail&&o.onMouseMove(o.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(a,i)}s&&this.wireMouseEvents(s,i)},t.prototype.needTemplateReposition=function(){return!v(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef},t.prototype.checkCollision=function(e,i,n){var s={left:i,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},o=Rf(this.tooltipEle,this.checkCollideTarget(),i,n);return o.length>0&&(s.horizontal=o.indexOf("left")>=0?"Right":o.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=o.indexOf("top")>=0?"Bottom":o.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s},t.prototype.calculateElementPosition=function(e,i){return[this.isBodyContainer?e.left+i.left:e.left-this.containerElement.offsetLeft+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+i.top:e.top-this.containerElement.offsetTop+i.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,i,n){var s=this.checkCollision(e,i,n),o=s.position;if(this.tooltipPositionY!==s.vertical&&(o=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(0===o.indexOf("Left")&&(s.vertical="LeftTop"===o||"LeftCenter"===o?"Top":"Bottom",o=s.vertical+"Left"),0===o.indexOf("Right")&&(s.vertical="RightTop"===o||"RightCenter"===o?"Top":"Bottom",o=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:o},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)o=this.position;else{var a=s.vertical,l=s.horizontal;if(s.position!==o){var h=gh(e,l,a,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,o,l,a);var c=this.getScalingFactor(e),u=this.calculateTooltipOffset(o,c.x,c.y);u.top-=this.getOffSetPosition("TopBottom",o,this.offsetY),u.left-=this.getOffSetPosition("RightLeft",o,this.offsetX),s.position=o;var d=this.calculateElementPosition(h,u);s.left=d[0],s.top=d[1]}else this.adjustArrow(e,o,l,a)}var p={left:s.left,top:s.top},f=this.isBodyContainer?SR(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},p):p;this.tooltipEle.style.display="block";var m=Ge("."+aw,this.tooltipEle);if(this.showTipPointer&&null!=m&&(0===o.indexOf("Bottom")||0===o.indexOf("Top"))){var M=parseInt(m.style.left,10)-(f.left-s.left);M<0?M=0:M+m.offsetWidth>this.tooltipEle.clientWidth&&(M=this.tooltipEle.clientWidth-m.offsetWidth),m.style.left=M.toString()+"px"}return this.tooltipEle.style.display="",p.left=f.left,p.top=f.top,p},t.prototype.getOffSetPosition=function(e,i,n){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(i.split(/(?=[A-Z])/)[0])?2*n:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,i,n){var s=this;this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(function(){s.closeDelay&&s.tooltipEle&&s.isTooltipOpen||s.tooltipHide(e,i,n)},this.closeDelay)):this.tooltipHide(e,i,n)},t.prototype.tooltipHide=function(e,i,n){var o,s=this;o=i?this.target?n||i.target:this.element:Ge('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:o,event:i||null,element:this.tooltipEle,isInteracted:!v(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(a){a.cancel?s.isHidden=!1:(s.mouseMoveBeforeRemove(),s.popupHide(e,o))}),this.tooltipEventArgs=null},t.prototype.popupHide=function(e,i){i&&this.restoreElement(i),this.isHidden=!0;var n={name:this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),v(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDataTooltipId(e)},t.prototype.clear=function(){this.tooltipEle&&(Ae([this.tooltipEle],qR),be([this.tooltipEle],HA)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&bn(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var i=e.relatedTarget;if(i&&!this.mouseTrail){var n=Je(i,"."+GR+"."+UA+"."+$R);n?$.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),$.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var i=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),i=e.touches[0].pageX,n=e.touches[0].pageY):(i=e.pageX,n=e.pageY),Ro.stop(this.tooltipEle),Ae([this.tooltipEle],qR),be([this.tooltipEle],HA),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var s=this.getScalingFactor(e.target),o=this.calculateTooltipOffset(this.position,s.x,s.y),h=this.checkCollision(e.target,i+o.left+this.offsetX,n+o.top+this.offsetY);if(this.tooltipPositionX!==h.horizontal||this.tooltipPositionY!==h.vertical){var c=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?h.vertical+h.horizontal:h.horizontal+h.vertical;h.position=c,this.adjustArrow(e.target,h.position,h.horizontal,h.vertical);var u=this.calculateTooltipOffset(h.position,s.x,s.y);h.left=i+u.left-this.offsetX,h.top=n+u.top-this.offsetY}this.tooltipEle.style.left=h.left+"px",this.tooltipEle.style.top=h.top+"px"},t.prototype.keyDown=function(e){v(this.targetsList)||v(this.target)||[].slice.call(bi(this.target,this.element)).length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn)),this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===Je(e.target,"."+YR)&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&(Je(e.target,"."+GR+"."+UA+"."+$R)||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=rx,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var n=0,s=this.getTriggerList(e);n<s.length;n++){var o=s[n];if("Custom"===o)return;"Focus"===o&&this.wireFocusEvents(),"Click"===o&&$.add(this.element,Ue.touchStartEvent,this.targetClick,this),"Hover"===o&&(Ue.isDevice?(this.touchModule=new ph(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),$.add(this.element,Ue.touchEndEvent,this.touchEndHandler,this)):$.add(this.element,"mouseover",this.targetHover,this))}$.add(document,"touchend",this.touchEnd,this),$.add(document,"scroll wheel",this.scrollHandler,this),$.add(window,"resize",this.windowResize,this),$.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=Ue.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(v(this.target))$.add(this.element,"focus",this.targetHover,this);else if("BODY"!==this.element.nodeName)$.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call(bi(this.target,this.element));this.targetsList=e;for(var i=0,n=e;i<n.length;i++)$.add(n[i],"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,i){this.tooltipEle&&(this.isSticky||("focus"===e.type&&$.add(i,"blur",this.onMouseOut,this),"focusin"===e.type&&$.add(i,"focusout",this.onMouseOut,this),"mouseover"===e.type&&$.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&($.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),$.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&$.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var n=0,s=this.getTriggerList(e);n<s.length;n++){var o=s[n];if("Custom"===o)return;"Focus"===o&&this.unwireFocusEvents(),"Click"===o&&$.remove(this.element,Ue.touchStartEvent,this.targetClick),"Hover"===o&&(Ue.isDevice?(this.touchModule&&this.touchModule.destroy(),$.remove(this.element,Ue.touchEndEvent,this.touchEndHandler)):$.remove(this.element,"mouseover",this.targetHover))}$.remove(document,"touchend",this.touchEnd),$.remove(document,"scroll wheel",this.scrollHandler),$.remove(window,"resize",this.windowResize),$.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(v(this.target))$.remove(this.element,"focus",this.targetHover);else if("BODY"===this.element.nodeName)$.remove(this.element,"focusin",this.targetHover);else for(var i=0,n=[].slice.call(bi(this.target,this.element));i<n.length;i++)$.remove(n[i],"focus",this.targetHover)},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var n=0,s=this.getTriggerList(this.opensOn);n<s.length;n++){var o=s[n];"Focus"===o&&($.remove(e,"blur",this.onMouseOut),$.remove(e,"focusout",this.onMouseOut)),"Hover"===o&&!Ue.isDevice&&$.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&($.remove(e,"mouseenter",this.tooltipHover),$.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&$.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return Ge('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,i){for(var n=this.findTarget(),s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=si(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=si(e.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var l=Ge("."+jA,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var h=e.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+h).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var c=e.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+c).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&Ae([this.tooltipEle],i.cssClass.split(" ")),e.cssClass&&be([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?be([this.tooltipEle],"e-rtl"):Ae([this.tooltipEle],"e-rtl"));break;case"isSticky":this.tooltipEle&&n&&(this.renderCloseIcon(),this.reposition(n));break;case"container":v(this.containerElement)||Ae([this.containerElement],L9),this.container=e.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}},t.prototype.open=function(e,i){v(i)&&(i=this.animation.open),v(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,i)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltipEle&&bn(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),Ae([this.element],YR),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var i=0,n=bi('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element);i<n.length;i++)this.restoreElement(n[i])},Ks([O("auto")],t.prototype,"width",void 0),Ks([O("auto")],t.prototype,"height",void 0),Ks([O()],t.prototype,"content",void 0),Ks([O("body")],t.prototype,"container",void 0),Ks([O()],t.prototype,"target",void 0),Ks([O("TopCenter")],t.prototype,"position",void 0),Ks([O(0)],t.prototype,"offsetX",void 0),Ks([O(0)],t.prototype,"offsetY",void 0),Ks([O(!0)],t.prototype,"showTipPointer",void 0),Ks([O(!0)],t.prototype,"enableHtmlParse",void 0),Ks([O(!1)],t.prototype,"windowCollision",void 0),Ks([O("Auto")],t.prototype,"tipPointerPosition",void 0),Ks([O("Auto")],t.prototype,"opensOn",void 0),Ks([O(!1)],t.prototype,"mouseTrail",void 0),Ks([O(!1)],t.prototype,"isSticky",void 0),Ks([Lt({},Yce)],t.prototype,"animation",void 0),Ks([O(0)],t.prototype,"openDelay",void 0),Ks([O(0)],t.prototype,"closeDelay",void 0),Ks([O()],t.prototype,"cssClass",void 0),Ks([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ks([O("")],t.prototype,"htmlAttributes",void 0),Ks([Se()],t.prototype,"beforeRender",void 0),Ks([Se()],t.prototype,"beforeOpen",void 0),Ks([Se()],t.prototype,"afterOpen",void 0),Ks([Se()],t.prototype,"beforeClose",void 0),Ks([Se()],t.prototype,"afterClose",void 0),Ks([Se()],t.prototype,"beforeCollision",void 0),Ks([Se()],t.prototype,"created",void 0),Ks([Se()],t.prototype,"destroyed",void 0),Ks([Jn],t)}(Xr),$l={},sx="e-spin-show",ox="e-spin-hide",N9="e-spin-material",P9="e-spin-material3",_9="e-spin-fabric",R9="e-spin-fluent",z9="e-spin-tailwind",Jce="e-spin-bootstrap",B9="e-spin-bootstrap4",F9="e-spin-bootstrap5",j9="e-spin-high-contrast",VA="e-spinner-pane",ZR="e-spinner-inner",WA="e-path-circle",Kce="e-path-arc",YA="e-spin-template";function Np(r,t){var e;if(r.target){var i,n=v(t)?Lr:t,s=function bue(r,t){var e=t("div",{}),i=t("div",{});return e.classList.add(VA),i.classList.add(ZR),r.appendChild(e),e.appendChild(i),{wrap:e,inner_wrap:i}}(r.target,n);if(!v(r.cssClass)){var o=r.cssClass.split(" ").filter(function(c){return""!==c.trim()});(e=s.wrap.classList).add.apply(e,o)}if(v(r.template)&&v(null)){var l=v(r.type)?function uue(r){return window.getComputedStyle(r,":after").getPropertyValue("content").replace(/['"]+/g,"")}(s.wrap):r.type;i=function mue(r,t){var e;switch(t){case"Material":case"Material3":case"Fabric":case"Tailwind":case"Tailwind-dark":case"Fluent":default:e=30;break;case"Bootstrap4":case"Bootstrap5":e=36}return r=r?parseFloat(r+""):e,"Bootstrap"===t?r:r/2}(v(r.width)?void 0:r.width,l),function H9(r,t,e,i){var n=t.querySelector("."+ZR),s=n.querySelector("svg");switch(v(s)||n.removeChild(s),r){case"Material":!function iue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Material",radius:t},QA(r,i,0,N9),$A(t,r,"Material",N9)}(n,e);break;case"Material3":!function nue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Material3",radius:t},QA(r,i,0,P9),$A(t,r,"Material3",P9)}(n,e);break;case"Fabric":!function aue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Fabric",radius:t},XA(r,i,_9),qA(t,r,_9)}(n,e);break;case"Fluent":!function lue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Fluent",radius:t},XA(r,i,R9),qA(t,r,R9)}(n,e);break;case"Bootstrap":!function due(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Bootstrap",radius:t},function pue(r,t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,o=2;i.setAttribute("id",t),i.setAttribute("class",Jce),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(var a=0;a<=7;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",WA+"_"+a),l.setAttribute("r",o+""),l.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(l)}}(r,i),function fue(r,t){var e=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;e.style.width=e.style.height=t+"px";for(var o=90,a=0;a<=7;a++){var l=JR(i,n,s,o),h=e.querySelector("."+WA+"_"+a);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),o=o>=360?0:o,o+=45}}(r,t)}(n,e);break;case"HighContrast":!function cue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"HighContrast",radius:t},XA(r,i,j9),qA(t,r,j9)}(n,e);break;case"Bootstrap4":!function rue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Bootstrap4",radius:t},QA(r,i,0,B9),$A(t,r,"Bootstrap4",B9)}(n,e);break;case"Bootstrap5":!function sue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Bootstrap5",radius:t},QA(r,i,0,F9),$A(t,r,"Bootstrap5",F9)}(n,e);break;case"Tailwind":case"Tailwind-dark":!function hue(r,t,e){var i=gv();$l[""+i]={timeOut:0,type:"Tailwind",radius:t},XA(r,i,z9),qA(t,r,z9)}(n,e)}}(l,s.wrap,i),v(r.label)||function tue(r,t,e){var i=e("div",{});i.classList.add("e-spin-label"),i.innerHTML=t,r.appendChild(i)}(s.inner_wrap,r.label,n)}else{var a=v(r.template)?null:r.template;s.wrap.classList.add(YA),function U9(r,t,e){v(e)||r.classList.add(e),r.querySelector(".e-spinner-inner").innerHTML=t}(s.wrap,a,null)}s.wrap.classList.add(ox),s=null}}function gue(r,t){var e=[],i=r,n=t,s=!1,o=1;return function a(l){e.push(l),(l!==n||1===o)&&(l<=i&&l>1&&!s?l=parseFloat((l-.2).toFixed(2)):1===l?(l=7,l=parseFloat((l+.2).toFixed(2)),s=!0):l<8&&s?8===(l=parseFloat((l+.2).toFixed(2)))&&(s=!1):l<=8&&!s&&(l=parseFloat((l-.2).toFixed(2))),++o,a(l))}(i),e}function gv(){for(var r="",e=0;e<5;e++)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return r}function XA(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",t),n.setAttribute("class",e);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",WA);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",Kce),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(o)}function QA(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",t),s.setAttribute("class",WA),r.insertBefore(n,r.firstChild),n.appendChild(s)}function V9(r){(function Cue(r,t,e,i,n,s,o){var a=++o.globalInfo[o.uniqueID].previousId,l=(new Date).getTime(),h=t-r,c=function Sue(r){return parseFloat(r)}(2*o.globalInfo[o.uniqueID].radius+""),u=W9(c),d=-90*(o.globalInfo[o.uniqueID].count||0);!function p(m){var M=Math.max(0,Math.min((new Date).getTime()-l,i));(function f(m,M){if(!v(M.querySelector("svg.e-spin-material"))||!v(M.querySelector("svg.e-spin-material3"))){var T=void 0;if(v(M.querySelector("svg.e-spin-material"))||v(M.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?!v(M.querySelector("svg.e-spin-material3"))&&!v(M.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))&&(T=M.querySelector("svg.e-spin-material3")):T=M.querySelector("svg.e-spin-material"),!v(T)){var P=T.querySelector("path.e-path-circle");P.setAttribute("stroke-dashoffset",Y9(c,u,m,s)+""),P.setAttribute("transform","rotate("+d+" "+c/2+" "+c/2+")")}}})(e(M,r,h,i),m.container),a===m.globalInfo[m.uniqueID].previousId&&M<i?$l[m.uniqueID].timeOut=setTimeout(p.bind(null,m),1):V9(m)}(o)})(1,149,Iue,1333,0,75,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function $A(r,t,e,i){var n=2*r,s=t.querySelector("svg."+i),o=s.querySelector("path.e-path-circle"),a=W9(n),l=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=l+" "+l+" "+l,o.setAttribute("d",function wue(r,t){var e=r/2,i=t/2;return"M"+e+","+i+"A"+(e-i)+","+(e-i)+" 0 1 1 "+i+","+e}(n,a)),("Material"===e||"Material3"===e)&&(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(n-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",Y9(n,a,1,75)+""))}function W9(r){return.1*r}function Y9(r,t,e,i){return(r-t)*Math.PI*(3*i/100-e/100)}function Iue(r,t,e,i){var n=(r/=i)*r,s=n*r;return t+e*(6*s*n+-15*n*n+10*s)}function qA(r,t,e){var i=r,n=r,s=2*r,l=t.querySelector("."+e),h=l.querySelector(".e-path-circle"),c=l.querySelector(".e-path-arc"),u=s/2+"px";h.setAttribute("d",function xue(r,t,e){return["M",r,t,"m",-e,0,"a",e,e,0,1,0,2*e,0,"a",e,e,0,1,0,2*-e,0].join(" ")}(i,n,r)),c.setAttribute("d",function Mue(r,t,e,i,n){var s=JR(r,t,e,n),o=JR(r,t,e,i);return["M",s.x,s.y,"A",e,e,0,0,0,o.x,o.y].join(" ")}(i,n,r,315,45)),l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.transformOrigin=u+" "+u+" "+u,l.style.width=l.style.height=s+"px"}function JR(r,t,e,i){var n=(i-90)*Math.PI/180;return{x:r+e*Math.cos(n),y:t+e*Math.sin(n)}}function Xu(r){G9(r,!1),r=null}function G9(r,t){var e;if(r)if(r.classList.contains(VA))e=r;else{var i=r.querySelectorAll("."+VA);if(Ue.isIE){for(var n=0;n<i.length;n++)if(i[n].parentElement&&i[n].parentElement===r){e=i[n];break}}else e=Array.from(i).find(function(h){return h.parentElement===r})||null}if(r&&e){var s=e.querySelector("."+ZR);if(t?!e.classList.contains(YA)&&!e.classList.contains(ox):!e.classList.contains(YA)&&!e.classList.contains(sx)){var a=e.querySelector("svg");if(v(a))return;var l=a.getAttribute("id");switch($l[""+l].isAnimate=!t,$l[""+l].type){case"Material":case"Material3":t?clearTimeout($l[l].timeOut):function oue(r,t,e){var i={};$l[""+t].timeOut=0,i[""+t]=function yue(r,t,e,i){return{radius:t,count:e,previousId:i}}(0,e,0,0),V9({uniqueID:t,container:r,globalInfo:i,timeOutVar:0})}(s,l,$l[l].radius);break;case"Bootstrap":t?clearTimeout($l[l].timeOut):function vue(r){for(var e=r.querySelector("svg.e-spin-bootstrap").getAttribute("id"),i=1;i<=8;i++)s(r.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0],i,0,gue(i,i),e);function s(o,a,l,h,c){var u=0;!function d(p){$l[""+c].isAnimate&&(++u,o.setAttribute("r",p+""),u>=h.length&&(u=0),$l[c].timeOut=setTimeout(d.bind(null,h[u]),18))}(a)}}(s)}}t?dl(e,[ox],[sx]):dl(e,[sx],[ox]),r=null}}function Hc(r){G9(r,!0),r=null}var $n,Vn=function(){function r(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return r.prototype.setKey=function(t){return this.key=t,this},r.prototype.using=function(t){return this.dataManager=t,this},r.prototype.execute=function(t,e,i,n){return(t=t||this.dataManager)?t.executeQuery(this,e,i,n):$t.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.executeLocal=function(t){return(t=t||this.dataManager)?t.executeLocal(this):$t.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.clone=function(){var t=new r;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},r.prototype.from=function(t){return this.fromTable=t,this},r.prototype.addParams=function(t,e){return this.params.push("function"==typeof e?{key:t,fn:e}:{key:t,value:e}),this},r.prototype.distinct=function(t){return this.distincts="string"==typeof t?[].slice.call([t],0):t.slice(0),this},r.prototype.expand=function(t){return this.expands="string"==typeof t?[].slice.call([t],0):t.slice(0),this},r.prototype.where=function(t,e,i,n,s,o){e=e?e.toLowerCase():null;var a=null;return"string"==typeof t?a=new ja(t,e,i,n,s,o):t instanceof ja&&(a=t),this.queries.push({fn:"onWhere",e:a}),this},r.prototype.search=function(t,e,i,n,s){return"string"==typeof e&&(e=[e]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:i,searchKey:t,ignoreCase:n,ignoreAccent:s,comparer:$t.fnOperators[i]}}),this},r.prototype.sortBy=function(t,e,i){return this.sortByForeignKey(t,e,i)},r.prototype.sortByForeignKey=function(t,e,i,n){var o,a,s=v(n)?"ascending":n;if("string"==typeof t&&$t.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),e="descending"),(!e||"string"==typeof e)&&(s=e?e.toLowerCase():"ascending",e=$t.fnSort(e)),i){o=r.filterQueries(this.queries,"onSortBy");for(var l=0;l<o.length;l++)if("string"==typeof(a=o[l].e.fieldName)){if(a===t)return this}else if(a instanceof Array)for(var h=0;h<a.length;h++)if(a[h]===t||t.toLowerCase()===a[h]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:e,direction:s}}),this},r.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},r.prototype.group=function(t,e,i){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:i||null}}),this},r.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},r.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},r.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},r.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},r.prototype.select=function(t){return"string"==typeof t&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},r.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},r.prototype.foreignKey=function(t){return this.fKey=t,this},r.prototype.requiresCount=function(){return this.isCountRequired=!0,this},r.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},r.filterQueries=function(t,e){return t.filter(function(i){return i.fn===e})},r.filterQueryLists=function(t,e){for(var i=t.filter(function(o){return-1!==e.indexOf(o.fn)}),n={},s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n},r}(),ja=function(){function r(t,e,i,n,s,o){return void 0===n&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=e.toLowerCase(),this.value=i,this.matchCase=o,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=$t.fnOperators.processOperator(this.operator)):(t instanceof r&&i instanceof r||i instanceof Array)&&(this.isComplex=!0,this.condition=e.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return r.and=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and")},r.prototype.and=function(t,e,i,n,s){return r.combine(this,t,e,i,"and",n,s)},r.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or")},r.prototype.or=function(t,e,i,n,s){return r.combine(this,t,e,i,"or",n,s)},r.ornot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or not")},r.prototype.ornot=function(t,e,i,n,s){return r.combine(this,t,e,i,"ornot",n,s)},r.andnot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and not")},r.prototype.andnot=function(t,e,i,n,s){return r.combine(this,t,e,i,"andnot",n,s)},r.fromJson=function(t){if(t instanceof Array){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this.fromJSONData(t[i]));return e}return this.fromJSONData(t)},r.prototype.validate=function(t){var i,n,e=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,$t.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,$t.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);n=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var s=0;s<e.length;s++)if(s>0&&this.condition&&-1!==this.condition.indexOf("not")&&(e[s].condition=e[s].condition?e[s].condition+"not":"not"),i=e[s].validate(t),n){if(!i)return!1}else if(i)return!0;return n},r.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var i=0;i<e.length;i++)t.push(e[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t,matchCase:this.matchCase}},r.combinePredicates=function(t,e){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new r(t[0],e,t.slice(1))},r.combine=function(t,e,i,n,s,o,a){return e instanceof r?r[s](t,e):"string"==typeof e?r[s](t,new r(e,i,n,o,a)):$t.throwError("Predicate - "+s+" : invalid arguments")},r.fromJSONData=function(t){for(var e=t.predicates||[],i=e.length,n=[],o=0;o<i;o++)n.push(this.fromJSONData(e[o]));return t.isComplex?new r(n[0],t.condition,n.slice(1)):new r(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},r}(),X9={GroupGuid:"{271bbba0-1ee7}"},$t=function(){function r(){}return r.getValue=function(t,e){return"function"==typeof t?t.call(e||{}):t},r.endsWith=function(t,e){return t.slice&&t.slice(-e.length)===e},r.notEndsWith=function(t,e){return t.slice&&t.slice(-e.length)!==e},r.startsWith=function(t,e){return t.slice(0,e.length)===e},r.notStartsWith=function(t,e){return t.slice(0,e.length)!==e},r.wildCard=function(t,e){var i,n;if(-1!==e.indexOf("[")&&(e=e.split("[").join("[[]")),-1!==e.indexOf("(")&&(e=e.split("(").join("[(]")),-1!==e.indexOf(")")&&(e=e.split(")").join("[)]")),-1!==e.indexOf("\\")&&(e=e.split("\\").join("[\\\\]")),-1!==e.indexOf("*")){"*"!==e.charAt(0)&&(e="^"+e),"*"!==e.charAt(e.length-1)&&(e+="$"),i=e.split("*");for(var s=0;s<i.length;s++)i[s]=-1===i[s].indexOf(".")?i[s]+".*":i[s]+"*";e=i.join("")}return(-1!==e.indexOf("%3f")||-1!==e.indexOf("?"))&&(n=-1!==e.indexOf("%3f")?e.split("%3f"):e.split("?"),e=n.join(".")),new RegExp(e,"g").test(t)},r.like=function(t,e){return-1!==e.indexOf("%")&&("%"===e.charAt(0)&&e.lastIndexOf("%")<2?(e=e.substring(1,e.length),r.startsWith(r.toLowerCase(t),r.toLowerCase(e))):"%"===e.charAt(e.length-1)&&e.indexOf("%")>e.length-3?(e=e.substring(0,e.length-1),r.endsWith(r.toLowerCase(t),r.toLowerCase(e))):(e.lastIndexOf("%")!==e.indexOf("%")&&e.lastIndexOf("%")>e.indexOf("%")+1&&(e=e.substring(e.indexOf("%")+1,e.lastIndexOf("%"))),-1!==t.indexOf(e)))},r.fnSort=function(t){return"ascending"===(t=t?r.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},r.fnAscending=function(t,e){return v(t)&&v(e)||null==e?-1:"string"==typeof t?t.localeCompare(e):null==t?1:t-e},r.fnDescending=function(t,e){return v(t)&&v(e)?-1:null==e?1:"string"==typeof t?-1*t.localeCompare(e):null==t?-1:e-t},r.extractFields=function(t,e){for(var i={},n=0;n<e.length;n++)i=this.setValue(e[n],this.getObject(e[n],t),i);return i},r.select=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(this.extractFields(t[n],e));return i},r.group=function(t,e,i,n,s,o,a){n=n||1;var l=t,h="GroupGuid";if(l.GroupGuid===X9[h]){for(var c=function(U){if(v(s))l[U].items=u.group(l[U].items,e,i,l.level+1,null,o,a),l[U].count=l[U].items.length;else{var Y,X=s.filter(function(Q){return Q.key===l[U].key});Y=s.indexOf(X[0]),l[U].items=u.group(l[U].items,e,i,l.level+1,s[Y].items,o,a),l[U].count=s[Y].count}},u=this,d=0;d<l.length;d++)c(d);return l.childLevels+=1,l}var p={},f=[];f.GroupGuid=X9[h],f.level=n,f.childLevels=0,f.records=l;for(var m=function(U){var Y=M.getVal(l,U,e);if(v(o)||(Y=o(Y,e)),!p[Y]&&(p[Y]={key:Y,count:0,items:[],aggregates:{},field:e},f.push(p[Y]),!v(s))){var X=s.filter(function(Q){return Q.key===p[Y].key});p[Y].count=X[0].count}p[Y].count=v(s)?p[Y].count+=1:p[Y].count,(!a||a&&i.length)&&p[Y].items.push(l[U])},M=this,T=0;T<l.length;T++)m(T);if(i&&i.length){var P=function(U){for(var Y={},X=void 0,Q=i,oe=0;oe<i.length;oe++)if(X=r.aggregates[i[oe].type],v(s))X&&(Y[Q[oe].field+" - "+Q[oe].type]=X(f[U].items,Q[oe].field));else{var de=s.filter(function(Me){return Me.key===f[U].key});X&&(Y[Q[oe].field+" - "+Q[oe].type]=X(de[0].items,Q[oe].field))}f[U].aggregates=Y};for(T=0;T<f.length;T++)P(T)}if(a&&f.length&&i.length)for(T=0;T<f.length;T++)f[T].items=[];return l.length&&f||l},r.buildHierarchy=function(t,e,i,n,s){var o,a={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++)(a[h=this.getObject(t,n[o])]||(a[h]=[])).push(n[o]);for(o=0;o<i.length;o++){var h=this.getObject(s||t,i[o]);i[o][e]=a[h]}},r.getFieldList=function(t,e,i){if(void 0===i&&(i=""),null==e)return this.getFieldList(t,[],i);for(var n=t,o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];"object"!=typeof n[l]||n[l]instanceof Array?e.push(i+l):this.getFieldList(n[l],e,i+l+".")}return e},r.getObject=function(t,e){if(!t)return e;if(e){if(-1===t.indexOf(".")){var i=t.charAt(0).toLowerCase()+t.slice(1),n=t.charAt(0).toUpperCase()+t.slice(1);return v(e[t])?v(e[i])?v(e[n])?null:e[n]:e[i]:e[t]}for(var s=e,o=t.split("."),a=0;a<o.length&&null!=s;a++){if(void 0===(s=s[o[a]])){var l=o[a].charAt(0).toUpperCase()+o[a].slice(1);s=e[l]||e[l.charAt(0).toLowerCase()+l.slice(1)]||null}e=s}return s}},r.setValue=function(t,e,i){var a,h,n=t.toString().split("."),s=i||{},o=s,l=n.length;for(a=0;a<l;a++)h=n[a],a+1===l?o[h]=void 0===e?void 0:e:v(o[h])&&(o[h]={}),o=o[h];return s},r.sort=function(t,e,i){if(t.length<=1)return t;var n=parseInt((t.length/2).toString(),10),s=t.slice(0,n),o=t.slice(n);return s=this.sort(s,e,i),o=this.sort(o,e,i),this.merge(s,o,e,i)},r.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(n){return n in r.diacritics?r.diacritics[n]:n}).join("")},r.merge=function(t,e,i,n){for(var o,s=[];t.length>0||e.length>0;)o=t.length>0&&e.length>0?n?n(this.getVal(t,0,i),this.getVal(e,0,i),t[0],e[0])<=0?t:e:t[0][i]<t[0][i]?t:e:t.length>0?t:e,s.push(o.shift());return s},r.getVal=function(t,e,i){return i?this.getObject(i,t[e]):t[e]},r.toLowerCase=function(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""},r.callAdaptorFunction=function(t,e,i,n){if(e in t){var s=t[e](i,n);v(s)||(i=s)}return i},r.getAddParams=function(t,e,i){var n={};return r.callAdaptorFunction(t,"addParams",{dm:e,query:i,params:i.params,reqParams:n}),n},r.isPlainObject=function(t){return!!t&&t.constructor===Object},r.isCors=function(){var t=null;try{t=new window.XMLHttpRequest}catch{}return!!t&&"withCredentials"in t},r.getGuid=function(t){var i;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,s){if("crypto"in window&&"getRandomValues"in crypto){var o=new Uint8Array(1);window.crypto.getRandomValues(o),i=o[0]%16|0}else i=16*Math.random()|0;return"0123456789abcdef"[19===s?3&i|8:i]})},r.isNull=function(t){return null==t},r.getItemFromComparer=function(t,e,i){var n,s,o,a=0,l="string"==typeof r.getVal(t,0,e);if(t.length)for(;v(n)&&a<t.length;)n=r.getVal(t,a,e),o=t[a++];for(;a<t.length;a++)!v(s=r.getVal(t,a,e))&&(l&&(n=+n,s=+s),i(n,s)>0&&(n=s,o=t[a]));return o},r.distinct=function(t,e,i){i=!v(i)&&i;var s,n=[],o={};return t.forEach(function(a,l){(s="object"==typeof t[l]?r.getVal(t,l,e):t[l])in o||(n.push(i?t[l]:s),o[s]=1)}),n},r.processData=function(t,e){var i=this.prepareQuery(t),n=new Ri(e);t.requiresCounts&&i.requiresCount();var s=n.executeLocal(i),o={result:t.requiresCounts?s.result:s,count:s.count,aggregates:JSON.stringify(s.aggregates)};return t.requiresCounts?o:s},r.prepareQuery=function(t){var e=this,i=new Vn;return t.select&&i.select(t.select),t.where&&r.parse.parseJson(t.where).filter(function(o){if(v(o.condition))i.where(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent);else{var a=[];o.field?a.push(new ja(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent)):a=a.concat(e.getPredicate(o.predicates)),"or"===o.condition?i.where(ja.or(a)):"and"===o.condition&&i.where(ja.and(a))}}),t.search&&r.parse.parseJson(t.search).filter(function(o){return i.search(o.key,o.fields,o.operator,o.ignoreCase,o.ignoreAccent)}),t.aggregates&&t.aggregates.filter(function(o){return i.aggregate(o.type,o.field)}),t.sorted&&t.sorted.filter(function(o){return i.sortBy(o.name,o.direction)}),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(function(o){return i.group(o)}),i},r.getPredicate=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.field)e.push(new ja(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var s=[],o=this.getPredicate(n.predicates),a=0,l=Object.keys(o);a<l.length;a++)s.push(o[l[a]]);e.push("or"===n.condition?ja.or(s):ja.and(s))}}return e},r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=function(t){try{throw new Error(t)}catch(e){throw e.message+"\n"+e.stack}},r.aggregates={sum:function(t,e){for(var n,i=0,s="number"!=typeof r.getVal(t,0,e),o=0;o<t.length;o++)n=r.getVal(t,o,e),!isNaN(n)&&null!==n&&(s&&(n=+n),i+=n);return i},average:function(t,e){return r.aggregates.sum(t,e)/t.length},min:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnAscending))},max:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnDescending))},truecount:function(t,e){return new Ri(t).executeLocal((new Vn).where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new Ri(t).executeLocal((new Vn).where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},r.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},r.fnOperators={equal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?r.toLowerCase(t)===r.toLowerCase(e):t===e},notequal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),!r.fnOperators.equal(t,e,i)},lessthan:function(t,e,i){return i?r.toLowerCase(t)<r.toLowerCase(e):(v(t)&&(t=void 0),t<e)},greaterthan:function(t,e,i){return i?r.toLowerCase(t)>r.toLowerCase(e):t>e},lessthanorequal:function(t,e,i){return i?r.toLowerCase(t)<=r.toLowerCase(e):(v(t)&&(t=void 0),t<=e)},greaterthanorequal:function(t,e,i){return i?r.toLowerCase(t)>=r.toLowerCase(e):t>=e},contains:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!v(t)&&!v(e)&&-1!==r.toLowerCase(t).indexOf(r.toLowerCase(e)):!v(t)&&!v(e)&&-1!==t.toString().indexOf(e)},doesnotcontain:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!v(t)&&!v(e)&&-1===r.toLowerCase(t).indexOf(r.toLowerCase(e)):!v(t)&&!v(e)&&-1===t.toString().indexOf(e)},isnotnull:function(t){return null!=t},isnull:function(t){return null==t},startswith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.startsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.startsWith(t,e)},doesnotstartwith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notStartsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notStartsWith(t,e)},like:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.like(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.like(t,e)},isempty:function(t){return void 0===t||""===t},isnotempty:function(t){return void 0!==t&&""!==t},wildcard:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?(t||"boolean"==typeof t)&&e&&"object"!=typeof t&&r.wildCard(r.toLowerCase(t),r.toLowerCase(e)):(t||"boolean"==typeof t)&&e&&r.wildCard(t,e)},endswith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.endsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.endsWith(t,e)},doesnotendwith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notEndsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notEndsWith(t,e)},processSymbols:function(t){var e=r.operatorSymbols[t];return e?r.fnOperators[e]:r.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){return r.fnOperators[t]||r.fnOperators.processSymbols(t)}},r.parse={parseJson:function(t){return"string"==typeof t?t=JSON.parse(t,r.parse.jsonReviver):t instanceof Array?r.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&r.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&null!==t[e]?r.parse.iterateAndReviveJson(t[e]):t[e]="string"!=typeof t[e]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[e])?r.parse.parseJson(t[e]):r.parse.jsonReviver("",t[e])},iterateAndReviveJson:function(t){for(var e,n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];r.startsWith(o,"__")||("object"==typeof(e=t[o])?e instanceof Array?r.parse.iterateAndReviveArray(e):e&&r.parse.iterateAndReviveJson(e):t[o]=r.parse.jsonReviver(t[o],e))}},jsonReviver:function(t,e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e),n=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var s=e.indexOf("Z")>-1||e.indexOf("z")>-1,o=e.split(/[^0-9.]/);if(s){if(o[5].indexOf(".")>-1){var a=o[5].split(".");o[5]=a[0],o[6]=new Date(e).getUTCMilliseconds().toString()}else o[6]="00";e=r.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10),parseInt(o[6],10)),r.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10)),h=parseInt(o[6],10),c=parseInt(o[7],10);if(isNaN(h)&&isNaN(c))return l;e.indexOf("+")>-1?l.setHours(l.getHours()-h,l.getMinutes()-c):l.setHours(l.getHours()+h,l.getMinutes()+c),e=r.dateParse.toTimeZone(l,r.serverTimezoneOffset,!1)}null==r.serverTimezoneOffset&&(e=r.dateParse.addSelfOffset(e))}else if(/^\d{4}-\d{2}-\d{2}$/.test(e))return o=e.split(/[^0-9.]/),new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10))}return e},isJson:function(t){return"string"==typeof t[0]?t:r.parse.parseJson(t)},isGuid:function(t){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(t)},replacer:function(t,e){return r.isPlainObject(t)?r.parse.jsonReplacer(t,e):t instanceof Array?r.parse.arrayReplacer(t):t instanceof Date?r.parse.jsonReplacer({val:t},e).val:t},jsonReplacer:function(t,e){for(var i,s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];if((i=t[a])instanceof Date){var l=i;null==r.serverTimezoneOffset?t[a]=r.dateParse.toTimeZone(l,null).toJSON():(l=new Date(+l+36e5*r.serverTimezoneOffset),t[a]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(l),null).toJSON())}}return t},arrayReplacer:function(t){for(var e=0;e<t.length;e++)r.isPlainObject(t[e])?t[e]=r.parse.jsonReplacer(t[e]):t[e]instanceof Date&&(t[e]=r.parse.jsonReplacer({date:t[e]}).date);return t},jsonDateReplacer:function(t,e){if("value"===t&&e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e);if(i)e=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var n=e.split(/[^0-9]/);e=r.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(e instanceof Date)return e=r.dateParse.addSelfOffset(e),null===r.serverTimezoneOffset?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(e),null).toJSON():(e=r.dateParse.toTimeZone(e,e.getTimezoneOffset()/60*2-r.serverTimezoneOffset,!1)).toJSON()}return e}},r.dateParse={addSelfOffset:function(t){return new Date(+t-6e4*t.getTimezoneOffset())},toUTC:function(t){return new Date(+t+6e4*t.getTimezoneOffset())},toTimeZone:function(t,e,i){if(null===e)return t;var n=i?r.dateParse.toUTC(t):t;return new Date(+n-36e5*e)},toLocalTime:function(t){var e=t,i=-e.getTimezoneOffset(),n=i>=0?"+":"-",s=function(a){var l=Math.floor(Math.abs(a));return(l<10?"0":"")+l};return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())+"T"+s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+n+s(i/60)+":"+s(i%60)}},r}(),Hf=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Aue={GroupGuid:"{271bbba0-1ee7}"},Q9=function(){function r(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=r,this.dataSource=t,this.pvt={}}return r.prototype.processResponse=function(t,e,i,n){return t},r}(),ZA=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hf(t,r),t.prototype.processQuery=function(e,i){for(var a,l,d,n=e.dataSource.json.slice(0),s=n.length,o=!0,h={},c=0,u=[],p=0;p<i.lazyLoad.length;p++)c++,h[i.lazyLoad[p].key]=i.lazyLoad[p].value;var f={};for(p=0;p<i.queries.length;p++)"onPage"!==(l=i.queries[p]).fn&&"onGroup"!==l.fn||!i.lazyLoad.length?(a=this[l.fn].call(this,n,l.e,i),"onAggregates"===l.fn?f[l.e.field+" - "+l.e.type]=a:n=void 0!==a?a:n,("onPage"===l.fn||"onSkip"===l.fn||"onTake"===l.fn||"onRange"===l.fn)&&(o=!1),o&&(s=n.length)):("onGroup"===l.fn&&u.push(l.e),"onPage"===l.fn&&(d=l.e));if(c){var M=this.lazyLoadGroup({query:i,lazyLoad:h,result:n,group:u,page:d});n=M.result,s=M.count}return i.isCountRequired&&(n={result:n,count:s,aggregates:f}),n},t.prototype.lazyLoadGroup=function(e){var i=0,n=this.getAggregate(e.query),s=e.result;if(v(e.lazyLoad.onDemandGroupInfo)){i=(s=$t.group(s,e.group[0].fieldName,n,null,null,e.group[0].comparer,!0)).length;var h=s;e.page&&(s=this.onPage(s,e.page,e.query)),this.formGroupResult(s,h)}else{for(var o=e.lazyLoad.onDemandGroupInfo,a=o.where.length-1;a>=0;a--)s=this.onWhere(s,o.where[a]);e.group.length!==o.level&&(s=$t.group(s,e.group[o.level].fieldName,n,null,null,e.group[0].comparer,!0)),i=s.length,h=s,s=(s=s.slice(o.skip)).slice(0,o.take),e.group.length!==o.level&&this.formGroupResult(s,h)}return{result:s,count:i}},t.prototype.formGroupResult=function(e,i){if(e.length&&i.length){var n="GroupGuid",s="childLevels",o="level",a="records";e[n]=i[n],e[s]=i[s],e[o]=i[o],e[a]=i[a]}return e},t.prototype.getAggregate=function(e){var i=Vn.filterQueries(e.queries,"onAggregates"),n=[];if(i.length)for(var s=void 0,o=0;o<i.length;o++)n.push({type:(s=i[o].e).type,field:$t.getValue(s.field,e)});return n},t.prototype.batchRequest=function(e,i,n){var s,o=i.deletedRecords.length;for(s=0;s<i.addedRecords.length;s++)this.insert(e,i.addedRecords[s]);for(s=0;s<i.changedRecords.length;s++)this.update(e,n.key,i.changedRecords[s]);for(s=0;s<o;s++)this.remove(e,n.key,i.deletedRecords[s]);return i},t.prototype.onWhere=function(e,i){return e&&e.length?e.filter(function(n){if(i)return i.validate(n)}):e},t.prototype.onAggregates=function(e,i){var n=$t.aggregates[i.type];return e&&n&&0!==e.length?n(e,i.field):null},t.prototype.onSearch=function(e,i){return e&&e.length?(0===i.fieldNames.length&&$t.getFieldList(e[0],i.fieldNames),e.filter(function(n){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(n,$t.getObject(i.fieldNames[s],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1})):e},t.prototype.onSortBy=function(e,i,n){if(!e||!e.length)return e;var s,o=$t.getValue(i.fieldName,n);if(!o)return e.sort(i.comparer);if(o instanceof Array){for(var a=(o=o.slice(0)).length-1;a>=0;a--)o[a]&&(s=i.comparer,$t.endsWith(o[a]," desc")&&(s=$t.fnSort("descending"),o[a]=o[a].replace(" desc","")),e=$t.sort(e,o[a],s));return e}return $t.sort(e,o,i.comparer)},t.prototype.onGroup=function(e,i,n){if(!e||!e.length)return e;var s=this.getAggregate(n);return $t.group(e,$t.getValue(i.fieldName,n),s,null,null,i.comparer)},t.prototype.onPage=function(e,i,n){var s=$t.getValue(i.pageSize,n),o=($t.getValue(i.pageIndex,n)-1)*s;return e&&e.length?e.slice(o,o+s):e},t.prototype.onRange=function(e,i){return e&&e.length?e.slice($t.getValue(i.start),$t.getValue(i.end)):e},t.prototype.onTake=function(e,i){return e&&e.length?e.slice(0,$t.getValue(i.nos)):e},t.prototype.onSkip=function(e,i){return e&&e.length?e.slice($t.getValue(i.nos)):e},t.prototype.onSelect=function(e,i){return e&&e.length?$t.select(e,$t.getValue(i.fieldNames)):e},t.prototype.insert=function(e,i,n,s,o){return v(o)?e.dataSource.json.push(i):e.dataSource.json.splice(o,0,i)},t.prototype.remove=function(e,i,n,s){var a,o=e.dataSource.json;for("object"==typeof n&&!(n instanceof Date)&&(n=$t.getObject(i,n)),a=0;a<o.length&&$t.getObject(i,o[a])!==n;a++);return a!==o.length?o.splice(a,1):null},t.prototype.update=function(e,i,n,s){var a,l,o=e.dataSource.json;for(v(i)||(l=Xe(i,n)),a=0;a<o.length&&(v(i)||Xe(i,o[a])!==l);a++);return a<o.length?ya(o[a],n):null},t}(Q9),uy=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hf(t,r),t.prototype.processQuery=function(e,i,n){var h,c,s=this.getQueryRequest(i),o=Vn.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=i.params,l=e.dataSource.url,u=null,d=this.options,p={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?c=((c=$t.getValue((h=o.onPage).pageIndex,i))-1)*(u=$t.getValue(h.pageSize,i)):"onRange"in o&&(c=(h=o.onRange).start,u=h.end-h.start);for(var f=0;f<s.sorts.length;f++)h=$t.getValue(s.sorts[f].e.fieldName,i),p.sorts.push($t.callAdaptorFunction(this,"onEachSort",{name:h,direction:s.sorts[f].e.direction},i));for(n&&(h=this.getFiltersFrom(n,i))&&p.filters.push($t.callAdaptorFunction(this,"onEachWhere",h.toJson(),i)),f=0;f<s.filters.length;f++){var m=$t.callAdaptorFunction(this,"onEachWhere",s.filters[f].e.toJson(),i);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!v(s.filters[f].e.key)&&s.filters.length>1&&(m="("+m+")"),p.filters.push(m);for(var T=0,P="object"==typeof p.filters[f]?Object.keys(p.filters[f]):[];T<P.length;T++)$t.isNull(p[U=P[T]])&&delete p[U]}for(f=0;f<s.searches.length;f++)p.searches.push($t.callAdaptorFunction(this,"onEachSearch",{fields:(h=s.searches[f].e).fieldNames,operator:h.operator,key:h.searchKey,ignoreCase:h.ignoreCase},i));for(f=0;f<s.groups.length;f++)p.groups.push($t.getValue(s.groups[f].e.fieldName,i));for(f=0;f<s.aggregates.length;f++)p.aggregates.push({type:(h=s.aggregates[f].e).type,field:$t.getValue(h.field,i)});var Y={};if(this.getRequestQuery(d,i,o,p,Y),$t.callAdaptorFunction(this,"addParams",{dm:e,query:i,params:a,reqParams:Y}),i.lazyLoad.length)for(f=0;f<i.lazyLoad.length;f++)Y[i.lazyLoad[f].key]=i.lazyLoad[f].value;for(var Q=0,oe=Object.keys(Y);Q<oe.length;Q++){var U;($t.isNull(Y[U=oe[Q]])||""===Y[U]||0===Y[U].length)&&delete Y[U]}(!(d.skip in Y)||!(d.take in Y))&&null!==u&&(Y[d.skip]=$t.callAdaptorFunction(this,"onSkip",c,i),Y[d.take]=$t.callAdaptorFunction(this,"onTake",u,i));var de=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(Y,$t.parse.jsonDateReplacer),url:l,pvtData:de,type:"POST",contentType:"application/json; charset=utf-8"}:(h=this.convertToQueryString(Y,i,e),{type:"GET",url:(h=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+h).length?l.replace(/\/*$/,h):l,pvtData:de})},t.prototype.getRequestQuery=function(e,i,n,s,o){var l=o;l[e.from]=i.fromTable,e.apply&&i.distincts.length&&(l[e.apply]="onDistinct"in this?$t.callAdaptorFunction(this,"onDistinct",i.distincts):""),!i.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in n?$t.callAdaptorFunction(this,"onExpand",{selects:$t.getValue(n.onSelect.fieldNames,i),expands:i.expands},i):i.expands),l[e.select]="onSelect"in n&&!i.distincts.length?$t.callAdaptorFunction(this,"onSelect",$t.getValue(n.onSelect.fieldNames,i),i):"",l[e.count]=i.isCountRequired?$t.callAdaptorFunction(this,"onCount",i.isCountRequired,i):"",l[e.search]=s.searches.length?$t.callAdaptorFunction(this,"onSearch",s.searches,i):"",l[e.skip]="onSkip"in n?$t.callAdaptorFunction(this,"onSkip",$t.getValue(n.onSkip.nos,i),i):"",l[e.take]="onTake"in n?$t.callAdaptorFunction(this,"onTake",$t.getValue(n.onTake.nos,i),i):"",l[e.where]=s.filters.length||s.searches.length?$t.callAdaptorFunction(this,"onWhere",s.filters,i):"",l[e.sortBy]=s.sorts.length?$t.callAdaptorFunction(this,"onSortBy",s.sorts,i):"",l[e.group]=s.groups.length?$t.callAdaptorFunction(this,"onGroup",s.groups,i):"",l[e.aggregates]=s.aggregates.length?$t.callAdaptorFunction(this,"onAggregates",s.aggregates,i):"",l.param=[]},t.prototype.convertToQueryString=function(e,i,n){return""},t.prototype.processResponse=function(e,i,n,s,o,a){if(s&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/json")){var l=$t.timeZoneHandling;i&&!i.timeZoneHandling&&($t.timeZoneHandling=!1),e=$t.parse.parseJson(e),$t.timeZoneHandling=l}var h=o,c=h.pvtData||{},u=e?e.groupDs:[];if(s&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var d=JSON.parse(h.data);if(d&&"batch"===d.action&&e&&e.addedRecords)return a.addedRecords=e.addedRecords,a;e&&e.d&&(e=e.d);var p={};e&&"count"in e&&(p.count=e.count),p.result=e&&e.result?e.result:e;var f=!1;if(Array.isArray(e.result)&&e.result.length&&(v(e.result[0].key)||(p.result=this.formRemoteGroupedData(p.result,1,c.groups.length-1)),n&&n.lazyLoad.length&&c.groups.length))for(var P=0;P<n.lazyLoad.length;P++)"onDemandGroupInfo"===n.lazyLoad[P].key&&c.groups.length===n.lazyLoad[P].value.level&&(f=!0);return f||this.getAggregateResult(c,e,p,u,n),$t.isNull(p.count)?p.result:{result:p.result,count:p.count,aggregates:p.aggregates}},t.prototype.formRemoteGroupedData=function(e,i,n){for(var s=0;s<e.length;s++)e[s].items.length&&Object.keys(e[s].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[s].items,i+1,n-1);var o="GroupGuid",h="records";return e[o]=Aue[o],e.level=i,e.childLevels=n,e[h]=e[0].items.length?this.getGroupedRecords(e,!v(e[0].items[h])):[],e},t.prototype.getGroupedRecords=function(e,i){for(var n=[],o=0;o<e.length;o++)if(i)n=n.concat(e[o].items.records);else for(var a=0;a<e[o].items.length;a++)n.push(e[o].items[a]);return n},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,i,n,s,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Ii({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},$t.getAddParams(this,e,s)))}},t.prototype.beforeSend=function(e,i){},t.prototype.insert=function(e,i,n,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{value:i,table:n,action:"insert"},$t.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,o){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{key:n,keyColumn:i,table:s,action:"remove"},$t.getAddParams(this,e,o)))}},t.prototype.update=function(e,i,n,s,o){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{value:n,action:"update",keyColumn:i,key:$t.getObject(i,n),table:s},$t.getAddParams(this,e,o)))}},t.prototype.getFiltersFrom=function(e,i){var s,n=i.fKey,o=n,a=i.key,l=[];"object"!=typeof e[0]&&(o=null);for(var h=0;h<e.length;h++)s="object"==typeof e[0]?$t.getObject(a||o,e[h]):e[h],l.push(new ja(n,"equal",s));return ja.or(l)},t.prototype.getAggregateResult=function(e,i,n,s,o){var a=i;if(i&&i.result&&(a=i.result),e&&e.aggregates&&e.aggregates.length){var l=e.aggregates,h=void 0,c=a,u={};i.aggregate&&(c=i.aggregate);for(var d=0;d<l.length;d++)(h=$t.aggregates[l[d].type])&&(u[l[d].field+" - "+l[d].type]=h(c,l[d].field));n.aggregates=u}var f=Array.isArray(i.result)&&i.result.length&&!v(i.result[0].key);if(e&&e.groups&&e.groups.length&&!f){var m=e.groups;for(d=0;d<m.length;d++){v(s)||(s=$t.group(s,m[d]));var T=Vn.filterQueries(o.queries,"onGroup")[d].e;a=$t.group(a,m[d],e.aggregates,null,s,T.comparer)}n.result=a}return n},t.prototype.getQueryRequest=function(e){var i={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return i.sorts=Vn.filterQueries(e.queries,"onSortBy"),i.groups=Vn.filterQueries(e.queries,"onGroup"),i.filters=Vn.filterQueries(e.queries,"onWhere"),i.searches=Vn.filterQueries(e.queries,"onSearch"),i.aggregates=Vn.filterQueries(e.queries,"onAggregates"),i},t.prototype.addParams=function(e){var i=e.reqParams;e.params.length&&(i.params={});for(var n=0,s=e.params;n<s.length;n++){var o=s[n];if(i[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[o.key]=o.value,o.fn&&(i[o.key]=o.fn.call(e.query,o.key,e.query,e.dm)),i.params[o.key]=i[o.key]}},t}(Q9),hw=function(r){function t(e){var i=r.call(this)||this;return i.options=Ii({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),Ii(i.options,e||{}),i}return Hf(t,r),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var o,a,s="",l=e.value,h=typeof l,c=e.field?t.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+$t.parse.replacer(l)+"'"),"string"===h&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),"like"!==e.operator&&(l=encodeURIComponent(l)),"wildcard"!==e.operator&&"like"!==e.operator&&(l="'"+l+"'"),n&&(c="cast("+c+", 'Edm.String')"),$t.parse.isGuid(l)&&(a="guid"),e.ignoreCase&&(a||(c="tolower("+c+")"),l=l.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(o=-1!==e.operator.indexOf("isnot")?$t.odBiOperator.notequal:$t.odBiOperator.equal,l="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):o=$t.odBiOperator[e.operator],o)return s+=c,s+=o,a&&(s+=a),s+l;if("like"===(o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator[e.operator]:$t.odv4UniOperator[e.operator]))-1!==l.indexOf("%")&&("%"===l.charAt(0)&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.startswith:$t.odv4UniOperator.startswith):"%"===l.charAt(l.length-1)&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.endswith:$t.odv4UniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.contains:$t.odv4UniOperator.contains):o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.contains:$t.odv4UniOperator.contains),l="'"+(l=encodeURIComponent(l))+"'";else if("wildcard"===o)if(-1!==l.indexOf("*")){var u=l.split("*"),d=void 0,p=0;if(0!==l.indexOf("*")&&-1===u[0].indexOf("%3f")&&-1===u[0].indexOf("?")&&(d="'"+(d=u[0])+"'",s+=(o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.startswith:$t.odv4UniOperator.startswith)+"(",s+=c+",",a&&(s+=a),s+=d+")",p++),l.lastIndexOf("*")!==l.length-1&&-1===u[u.length-1].indexOf("%3f")&&-1===u[u.length-1].indexOf("?")&&(d="'"+(d=u[u.length-1])+"'",p>0&&(s+=" and "),s+=(o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.endswith:$t.odv4UniOperator.endswith)+"(",s+=c+",",a&&(s+=a),s+=d+")",p++),u.length>2)for(var f=1;f<u.length-1;f++)if(-1===u[f].indexOf("%3f")&&-1===u[f].indexOf("?")){if(d="'"+(d=u[f])+"'",p>0&&(s+=" and "),"substringof"===(o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.contains:$t.odv4UniOperator.contains)||"not substringof"===o){var m=d;d=c,c=m}s+=o+"(",s+=c+",",a&&(s+=a),s+=d+")",p++}0===p?(o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.contains:$t.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):o="wildcard"}else o=v(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$t.odUniOperator.contains:$t.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";return"substringof"!==o&&"not substringof"!==o||(m=l,l=c,c=m),"wildcard"!==o&&(s+=o+"(",s+=c+",",a&&(s+=a),s+=l+")"),s},t.prototype.addParams=function(e){r.prototype.addParams.call(this,e),delete e.reqParams.params},t.prototype.onComplexPredicate=function(e,i,n){for(var s=[],o=0;o<e.predicates.length;o++)s.push("("+this.onEachWhere(e.predicates[o],i,n)+")");return s.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,i,n){return e.isComplex?this.onComplexPredicate(e,i,n):this.onPredicate(e,i,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&$t.throwError("Query() - Search : oData search requires list of field names to search");for(var i=this.pvt.search||[],n=0;n<e.fields.length;n++)i.push(new ja(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=i},t.prototype.onSearch=function(e){return this.pvt.search=ja.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,i,n){$t.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(i.headers.set("Accept",this.options.multipartAccept),i.headers.set("DataServiceVersion","2.0")):i.headers.set("Accept",this.options.accept),i.headers.set("DataServiceVersion","2.0"),i.headers.set("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,i,n,s,o,a){var l="odata.metadata";if(o&&"GET"===o.type&&!this.rootUrl&&e[l]){var h=e[l].split("/$metadata#");this.rootUrl=h[0],this.resourceTableName=h[1]}if(!v(e.d)){var u=n&&n.isCountRequired?e.d.results:e.d,d="__metadata";if(!v(u))for(var p=0;p<u.length;p++)v(u[p][d])||delete u[p][d]}var f=o&&o.pvtData,m=this.processBatchResponse(e,n,s,o,a);if(m)return m;var M=s&&o.fetchRequest.headers.get("DataServiceVersion"),T=null,P=M&&parseInt(M,10)||2;if(n&&n.isCountRequired){var U="__count";(e[U]||e["odata.count"])&&(T=e[U]||e["odata.count"]),e.d&&(e=e.d),(e[U]||e["odata.count"])&&(T=e[U]||e["odata.count"])}3===P&&e.value&&(e=e.value),e.d&&(e=e.d),P<3&&e.results&&(e=e.results);var Y={};return Y.count=T,Y.result=e,this.getAggregateResult(f,e,Y,null,n),$t.isNull(T)?Y.result:{result:Y.result,count:Y.count,aggregates:Y.aggregates}},t.prototype.convertToQueryString=function(e,i,n){var s=[],o="table",a=e[o]||"";delete e[o],n.dataSource.requiresFormat&&(e.$format="json");for(var c=0,u=Object.keys(e);c<u.length;c++){var d=u[c];s.push(d+"="+e[d])}return s=s.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!a?s:s.length?a+"?"+s:a||""},t.prototype.localTimeReplacer=function(e,i){for(var n=0,s=v(i)?[]:Object.keys(i);n<s.length;n++){var o=s[n];i[o]instanceof Date&&(i[o]=$t.dateParse.toLocalTime(i[o]))}return i},t.prototype.insert=function(e,i,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,i,n,s){var o;return o="string"!=typeof n||$t.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+o}},t.prototype.update=function(e,i,n,s,o,a){var l;return"PATCH"===this.options.updateType&&!v(a)&&(n=this.compareAndRemove(n,a,i)),l="string"!=typeof n[i]||$t.parse.isGuid(n[i])?"("+n[i]+")":"('"+n[i]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,i,n,s,o){var a=n.guid=$t.getGuid(this.options.batchPre),l=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var h={url:n.url,key:n.key,cid:1,cSet:$t.getGuid(this.options.changeSet)},c="--"+a+"\n";return c+="Content-Type: multipart/mixed; boundary="+h.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(i.addedRecords,h,e),c+=this.generateUpdateRequest(i.changedRecords,h,e,o?o.changedRecords:[]),c+=this.generateDeleteRequest(i.deletedRecords,h,e),c+=h.cSet+"--\n",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:c+="--"+a+"--"}},t.prototype.generateDeleteRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"DELETE ",url:function(a,l,h){var c=$t.getObject(h,a[l]);return"number"==typeof c||$t.parse.isGuid(c)?"("+c+")":c instanceof Date?"("+a[l][h].toJSON()+")":"('"+c+"')"},data:function(a,l){return""}},n)+"\n":""},t.prototype.generateInsertRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"POST ",url:function(a,l,h){return""},data:function(a,l){return JSON.stringify(a[l])+"\n\n"}},n):""},t.prototype.generateUpdateRequest=function(e,i,n,s){var o=this;return e?(e.forEach(function(h){return h=o.compareAndRemove(h,s.filter(function(c){return $t.getObject(i.key,c)===$t.getObject(i.key,h)})[0],i.key)}),this.generateBodyContent(e,i,{method:this.options.updateType+" ",url:function(h,c,u){return"number"==typeof h[c][u]||$t.parse.isGuid(h[c][u])?"("+h[c][u]+")":h[c][u]instanceof Date?"("+h[c][u].toJSON()+")":"('"+h[c][u]+"')"},data:function(h,c){return JSON.stringify(h[c])+"\n\n"}},n)):""},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,i,n,s){for(var o="",a=0;a<e.length;a++)o+="\n"+i.cSet+"\n",o+=this.options.changeSetContent+"\n\n",o+=n.method,"POST "===n.method?o+=(s.dataSource.insertUrl||s.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?o+=(s.dataSource.updateUrl||s.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n":"DELETE "===n.method&&(o+=(s.dataSource.removeUrl||s.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n"),o+="Accept: "+this.options.accept+"\n",o+="Content-Id: "+this.pvt.changeSet+++"\n",o+=this.options.batchChangeSetContentType+"\n",v(e[a]["@odata.etag"])?o+="\n":(o+="If-Match: "+e[a]["@odata.etag"]+"\n\n",delete e[a]["@odata.etag"]),o+=n.data(e,a);return o},t.prototype.processBatchResponse=function(e,i,n,s,o){if(n&&n.headers.get("Content-Type")&&-1!==n.headers.get("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&$t.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()){var a=n.headers.get("Content-Type"),l=void 0,h=void 0,c=e+"";if(a=a.substring(a.indexOf("=batchresponse")+1),(c=c.split(a)).length<2)return{};var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(c=c[1]);u&&c.replace(u[0],"");for(var p=(c=c.split(u?u[1]:"")).length;p>-1;p--)!/\bContent-ID:/i.test(c[p])||!/\bHTTP.+201/.test(c[p])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(c[p])[1],10),o.addedRecords[l]&&(h=$t.parse.parseJson(/^\{.+\}/m.exec(c[p])[0]),Ii({},o.addedRecords[l],this.processResponse(h))));return o}return null},t.prototype.compareAndRemove=function(e,i,n){var s=this;return v(i)||Object.keys(e).forEach(function(o){o!==n&&"@odata.etag"!==o&&($t.isPlainObject(e[o])?(s.compareAndRemove(e[o],i[o]),0===Object.keys(e[o]).filter(function(l){return"@odata.etag"!==l}).length&&delete e[o]):(e[o]===i[o]||e[o]&&i[o]&&e[o].valueOf()===i[o].valueOf())&&delete e[o])}),e},t}(uy),Oue=function(r){function t(){var e=r.call(this)||this;return zn("beforeSend",uy.prototype.beforeSend,e),e}return Hf(t,r),t.prototype.insert=function(e,i,n,s,o){return this.pvt.position=o,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{value:i,table:n,action:"insert"},$t.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,o){return r.prototype.remove.call(this,e,i,n),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{key:n,keyColumn:i,table:s,action:"remove"},$t.getAddParams(this,e,o)))}},t.prototype.update=function(e,i,n,s,o){return this.updateType="update",this.updateKey=i,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ii({},{value:n,action:"update",keyColumn:i,key:n[i],table:s},$t.getAddParams(this,e,o)))}},t.prototype.processResponse=function(e,i,n,s,o,a,l){var h;if(e="batch"===(o?JSON.parse(o.data):e).action?$t.parse.parseJson(e):e,"add"===this.updateType&&r.prototype.insert.call(this,i,e,null,null,this.pvt.position),"update"===this.updateType&&r.prototype.update.call(this,i,this.updateKey,e),this.updateType=void 0,e.added)for(h=0;h<e.added.length;h++)r.prototype.insert.call(this,i,e.added[h]);if(e.changed)for(h=0;h<e.changed.length;h++)r.prototype.update.call(this,i,l.key,e.changed[h]);if(e.deleted)for(h=0;h<e.deleted.length;h++)r.prototype.remove.call(this,i,l.key,e.deleted[h]);return e},t.prototype.batchRequest=function(e,i,n,s,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Ii({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n.url,key:n.key},$t.getAddParams(this,e,s)))}},t.prototype.addParams=function(e){(new uy).addParams(e)},t}(ZA),Lue=function(r){function t(e){var i=r.call(this)||this;return i.options=Ii({},i.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),Ii(i.options,e||{}),i}return Hf(t,r),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(uy),kue=function(r){function t(e,i,n){var s=r.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,v(e)||(s.cacheAdaptor=e),s.pageSize=n,s.guidId=$t.getGuid("cacheAdaptor"),window.localStorage.setItem(s.guidId,JSON.stringify({keys:[],results:[]}));var a=s.guidId;return v(i)||setInterval(function(){for(var l=$t.parse.parseJson(window.localStorage.getItem(a)),h=[],c=0;c<l.results.length;c++){var u=+new Date,d=+new Date(l.results[c].timeStamp);l.results[c].timeStamp=u-d,u-d>i&&h.push(c)}for(c=0;c<h.length;c++)l.results.splice(h[c],1),l.keys.splice(h[c],1);window.localStorage.removeItem(a),window.localStorage.setItem(a,JSON.stringify(l))},i),s}return Hf(t,r),t.prototype.generateKey=function(e,i){var n=this.getQueryRequest(i),s=Vn.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=e,a="onPage";a in s&&(o+=s[a].pageIndex),n.sorts.forEach(function(d){o+=d.e.direction+d.e.fieldName}),n.groups.forEach(function(d){o+=d.e.fieldName}),n.searches.forEach(function(d){o+=d.e.searchKey});for(var l=0;l<n.filters.length;l++){var h=n.filters[l];if(h.e.isComplex){var c=i.clone();c.queries=[];for(var u=0;u<h.e.predicates.length;u++)c.queries.push({fn:"onWhere",e:h.e.predicates[u],filter:i.queries.filter});o+=h.e.condition+this.generateKey(e,c)}else o+=h.e.field+h.e.operator+h.e.value}return o},t.prototype.processQuery=function(e,i,n){var s=this.generateKey(e.dataSource.url,i),o=$t.parse.parseJson(window.localStorage.getItem(this.guidId)),a=o?o.results[o.keys.indexOf(s)]:null;return null==a||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a},t.prototype.processResponse=function(e,i,n,s,o,a){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&$t.endsWith(o.url,this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,i,n,s,o,a);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(i.dataSource.url,n):i.dataSource.url,h={},c=(h=$t.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(l);for(-1!==c&&(h.results.splice(c,1),h.keys.splice(c,1)),h.results[h.keys.push(l)-1]={keys:l,result:e.result,timeStamp:new Date,count:e.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),e},t.prototype.beforeSend=function(e,i,n){!v(this.cacheAdaptor.options.batch)&&$t.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&i.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||i.headers.set("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,i,n,s)},t.prototype.insert=function(e,i,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,i,n)},t.prototype.remove=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,i,n,s)},t.prototype.batchRequest=function(e,i,n){return this.cacheAdaptor.batchRequest(e,i,n)},t}(uy),Ri=function(){function r(t,e,i){var s,n=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,!t&&!this.dataSource&&(t=[]),i=i||t.adaptor,t&&!1===t.timeZoneHandling&&(this.timeZoneHandling=t.timeZoneHandling),t instanceof Array?s={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),t.enablePersistence||(t.enablePersistence=!1),t.id||(t.id=""),t.ignoreOnPersist||(t.ignoreOnPersist=[]),s={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof Oue||t.adaptor instanceof Lue||t.url),requiresFormat:t.requiresFormat,enablePersistence:t.enablePersistence,id:t.id,ignoreOnPersist:t.ignoreOnPersist}):$t.throwError("DataManager: Invalid arguments"),void 0===s.requiresFormat&&!$t.isCors()&&(s.requiresFormat=!!v(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=e,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new hw,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new Vn),this.ready.then(function(o){n.dataSource.offline=!0,n.isDataAvailable=!0,s.json=o.result,n.adaptor=new ZA})):this.adaptor=s.offline?new ZA:new hw,!s.jsonp&&this.adaptor instanceof hw&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new kue(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}return r.prototype.getPersistedData=function(t){var e=localStorage.getItem(t||this.dataSource.id);return JSON.parse(e)},r.prototype.setPersistData=function(t,e,i){localStorage.setItem(e||this.dataSource.id,JSON.stringify(i||this.persistQuery))},r.prototype.setPersistQuery=function(t){var e=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter(function(s){if(e.dataSource.ignoreOnPersist&&e.dataSource.ignoreOnPersist.length&&s.fn&&e.dataSource.ignoreOnPersist.some(function(l){return s.fn===l}))return!1;if("onWhere"===s.fn){var o=s.e;if(o&&o.isComplex&&o.predicates instanceof Array){var a=o.predicates.map(function(l){if(l.predicates&&l.predicates instanceof Array){var h=l.predicates.map(function(M){return new ja(M.field,M.operator,M.value,M.ignoreCase,M.ignoreAccent,M.matchCase)});return"and"===l.condition?ja.and(h):ja.or(h)}return new ja(l.field,l.operator,l.value,l.ignoreCase,l.ignoreAccent,l.matchCase)});s.e=new ja(a[0],o.condition,a.slice(1))}}return!0});var n=Ii(new Vn,this.persistQuery);return this.isInitialLoad=!1,n}return this.persistQuery=t,this.isInitialLoad=!1,t},r.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},r.prototype.executeLocal=function(t){!this.defaultQuery&&!(t instanceof Vn)&&$t.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||$t.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t));var e=this.adaptor.processQuery(this,t=t||this.defaultQuery);if(t.subQuery){var i=t.subQuery.fromTable,n=t.subQuery.lookups,s=t.isCountRequired?e.result:e;n&&n instanceof Array&&$t.buildHierarchy(t.subQuery.fKey,i,s,n,t.subQuery.key);for(var o=0;o<s.length;o++)s[o][i]instanceof Array&&(s[o]=Ii({},{},s[o]),s[o][i]=this.adaptor.processResponse(t.subQuery.using(new r(s[o][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(e,this,t)},r.prototype.executeQuery=function(t,e,i,n){var s=this,o="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),"function"==typeof t&&(n=i,i=e,e=t,t=null),t||(t=this.defaultQuery),t instanceof Vn||$t.throwError("DataManager - executeQuery() : A query is required to execute");var a=new JA,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!v(this.adaptor[o])||this.isCustomDataAdaptor(this.adaptor)){var h=this.adaptor.processQuery(this,t);v(this.adaptor[o])?!v(h.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(h,a,l,t)):(l=r.getDeferedArgs(t,h,l),a.resolve(l)):this.adaptor[o](h,a,l,t)}else r.nextTick(function(){var c=s.executeLocal(t);l=r.getDeferedArgs(t,c,l),a.resolve(l)});return(e||i)&&a.promise.then(e,i),n&&a.promise.then(n,n),a.promise},r.getDeferedArgs=function(t,e,i){return t.isCountRequired?(i.result=e.result,i.count=e.count,i.aggregates=e.aggregates):i.result=e,i},r.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},r.prototype.extendRequest=function(t,e,i){return Ii({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:i},t)},r.prototype.makeRequest=function(t,e,i,n){var s=this,o=!!n.subQuerySelector,a=function(M){i.error=M,e.reject(i)},l=function(M,T,P,U,Y,X,Q){i.xhr=P,i.count=T?parseInt(T.toString(),10):0,i.result=M,i.request=U,i.aggregates=X,i.actual=Y,i.virtualSelectRecords=Q,e.resolve(i)},h=function(M,T){var P=new JA,U={parent:i};n.subQuery.isChild=!0;var Y=s.adaptor.processQuery(s,n.subQuery,M?s.adaptor.processResponse(M):T),X=s.makeRequest(Y,P,U,n.subQuery);return o||P.then(function(Q){M&&($t.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,M,Q,n.subQuery.key),l(M,Q.count,Q.xhr))},a),X},u=this.extendRequest(t,function(M,T){if(s.isGraphQLAdaptor(s.adaptor)&&!v(M.errors))return a(M.errors);s.isCustomDataAdaptor(s.adaptor)&&(T=Ii({},s.fetchReqOption,T)),-1===T.contentType.indexOf("xml")&&s.dateParse&&(M=$t.parse.parseJson(M));var P=s.adaptor.processResponse(M,s,n,T.fetchRequest,T),U=0,Y=null,Q=M.virtualSelectRecords;n.isCountRequired&&(U=P.count,Y=P.aggregates,P=P.result),n.subQuery?o||h(P,T):l(P,U,T.fetchRequest,T.type,M,Y,Q)},a);if(this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=u,this.adaptor.options.getData({data:u.data,onSuccess:u.onSuccess,onFailure:u.onFailure});else{var d=new JS(u);d.beforeSend=function(){s.beforeSend(d.fetchRequest,d)},(u=d.send()).catch(function(M){return!0}),this.requests.push(d)}if(o){var m=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});m&&m.length?Promise.all([u,h(null,m)]).then(function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];var P=M[0],U=s.adaptor.processResponse(P[0],s,n,s.requests[0].fetchRequest,s.requests[0]),Y=0;n.isCountRequired&&(Y=U.count,U=U.result);var X=s.adaptor.processResponse(P[1],s,n.subQuery,s.requests[1].fetchRequest,s.requests[1]);Y=0,n.subQuery.isCountRequired&&(Y=X.count,X=X.result),$t.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,U,X,n.subQuery.key),o=!1,l(U,Y,s.requests[0].fetchRequest)}):o=!1}return u},r.prototype.beforeSend=function(t,e){this.adaptor.beforeSend(this,t,e);for(var n,i=this.dataSource.headers,s=0;i&&s<i.length;s++){n=[];for(var a=0,l=Object.keys(i[s]);a<l.length;a++){var h=l[a];n.push(h),t.headers.set(h,i[s][h])}}},r.prototype.saveChanges=function(t,e,i,n,s){var o=this;i instanceof Vn&&(n=i,i=null);var a={url:i,key:e||this.dataSource.key},l=this.adaptor.batchRequest(this,t,a,n||new Vn,s),h="dofetchRequest";if(this.dataSource.offline)return l;if(v(this.adaptor[h])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(l,this.adaptor.options.batchUpdate);var c=new JA,u=new JS(l);return u.beforeSend=function(){o.beforeSend(u.fetchRequest,u)},u.onSuccess=function(d,p){o.isGraphQLAdaptor(o.adaptor)&&(v(d.errors)||u.onFailure(JSON.stringify(d.errors))),c.resolve(o.adaptor.processResponse(d,o,null,p.fetchRequest,p,t,a))},u.onFailure=function(d){c.reject([{error:d}])},u.send().catch(function(d){return!0}),c.promise}return this.adaptor[h](l)},r.prototype.insert=function(t,e,i,n){e instanceof Vn&&(i=e,e=null);var s=this.adaptor.insert(this,t,e,i,n),o="dofetchRequest";return this.dataSource.offline?s:v(this.adaptor[o])?this.dofetchRequest(s,this.adaptor.options.addRecord):this.adaptor[o](s)},r.prototype.remove=function(t,e,i,n){"object"==typeof e&&(e=$t.getObject(t,e)),i instanceof Vn&&(n=i,i=null);var s=this.adaptor.remove(this,t,e,i,n),o="dofetchRequest";return this.dataSource.offline?s:v(this.adaptor[o])?this.dofetchRequest(s,this.adaptor.options.deleteRecord):this.adaptor[o](s)},r.prototype.update=function(t,e,i,n,s){i instanceof Vn&&(n=i,i=null);var o=this.adaptor.update(this,t,e,i,n,s),a="dofetchRequest";return this.dataSource.offline?o:v(this.adaptor[a])?this.dofetchRequest(o,this.adaptor.options.updateRecord):this.adaptor[a](o)},r.prototype.isCustomDataAdaptor=function(t){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},r.prototype.isGraphQLAdaptor=function(t){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},r.prototype.successFunc=function(t,e){if(this.isGraphQLAdaptor(this.adaptor)){var i=JSON.parse(t);v(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(e=Ii({},this.fetchReqOption,e));try{$t.parse.parseJson(t)}catch{t=[]}t=this.adaptor.processResponse($t.parse.parseJson(t),this,null,e.fetchRequest,e),this.fetchDeffered.resolve(t)},r.prototype.failureFunc=function(t){this.fetchDeffered.reject([{error:t}])},r.prototype.dofetchRequest=function(t,e){var i=this;if(t=Ii({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t),this.fetchDeffered=new JA,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=t,e.call(this,{data:t.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var n=new JS(t);n.beforeSend=function(){i.beforeSend(n.fetchRequest,n)},n.onSuccess=this.successFunc.bind(this),n.onFailure=this.failureFunc.bind(this),n.send().catch(function(s){return!0})}return this.fetchDeffered.promise},r.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},r}(),JA=function(){return function r(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),Fn={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function vh(r,t){var e={};if(v(r)||"string"==typeof r||"number"==typeof r||!v(r.isHeader))return r;for(var i=0,n=Object.keys(t);i<n.length;i++){var o=t[""+n[i]],a=v(o)||"string"!=typeof o?void 0:Xe(o,r);v(a)||(e[""+o]=a)}return e}function KA(r){if(r)try{return"function"!=typeof r&&document.querySelector(r)?wn(document.querySelector(r).innerHTML.trim()):wn(r)}catch{return wn(r)}}!function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},e={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function n(Ce,ze,Ie,pe,Pe){return Me(Ce,s(Ce,ze,Ie,pe,Pe),null,pe)}function s(Ce,ze,Ie,pe,Pe){var Qe=[],Oe=Ii({},e,pe);Fn=Q(Oe.moduleName);for(var Ye=U(),ut=0;ut<ze.length;ut++)if(!v(ze[ut])){var Xt;Oe.itemCreating&&"function"==typeof Oe.itemCreating&&Oe.itemCreating({dataSource:ze,curData:ze[ut],text:ze[ut],options:Oe}),Xt=Ie?X(Ce,ze[ut],void 0,null,null,[],null,Ye,ut,pe):de(Ce,ze[ut],void 0,null,null,pe,Pe),Oe.itemCreated&&"function"==typeof Oe.itemCreated&&Oe.itemCreated({dataSource:ze,curData:ze[ut],text:ze[ut],item:Xt,options:Oe}),Qe.push(Xt)}return Qe}function o(Ce,ze,Ie,pe,Pe,Qe){var Oe=Ii({},e,Ie);Fn=Q(Oe.moduleName);var Xt,Ye=!Qe||"listview"!==Qe.getModuleName()&&"multiselect"!==Qe.getModuleName()?Ii({},r.defaultMappedFields,Oe.fields):Oe.fields,ut=Ii({},t,Oe.ariaAttributes),ni=[];pe&&(ut.level=pe);var Pi,Di,ui=[];ze&&ze.length&&!v(f(ze).item)&&!f(ze).item.hasOwnProperty(Ye.id)&&(Xt=U());for(var Fi=0;Fi<ze.length;Fi++){var Mi=vh(ze[Fi],Ye);if(!v(ze[Fi])){Oe.itemCreating&&"function"==typeof Oe.itemCreating&&Oe.itemCreating({dataSource:ze,curData:ze[Fi],text:Mi[Ye.text],options:Oe,fields:Ye});var xr=ze[Fi];Oe.itemCreating&&"function"==typeof Oe.itemCreating&&(Mi=vh(ze[Fi],Ye)),Mi.hasOwnProperty(Ye.id)&&!v(Mi[Ye.id])&&(Xt=Mi[Ye.id]);var Dn=[];if(Oe.showCheckBox&&(Oe.itemNavigable&&(Mi[Ye.url]||Mi[Ye.urlAttributes])?ni.push(Ce("input",{className:Fn.check,attrs:{type:"checkbox"}})):Dn.push(Ce("input",{className:Fn.check,attrs:{type:"checkbox"}}))),!0===Pe)Oe.showIcon&&Mi.hasOwnProperty(Ye.iconCss)&&!v(Mi[Ye.iconCss])&&Dn.push(Ce("span",{className:Fn.icon+" "+Mi[Ye.iconCss]})),Di=(Pi=X(Ce,xr,Mi,Ye,Oe.itemClass,Dn,!(!xr.hasOwnProperty("isHeader")||!xr.isHeader),Xt,Fi,Ie)).querySelector("."+Fn.anchorWrap),Oe.itemNavigable&&ni.length&&tl(ni,Pi.firstElementChild);else{if((Pi=de(Ce,xr,Mi,Ye,Oe.itemClass,Ie,Qe)).classList.add(Fn.level+"-"+ut.level),Pi.setAttribute("aria-level",ut.level.toString()),("presentation"==ut.groupItemRole||"presentation"==ut.itemRole)&&Pi.removeAttribute("aria-level"),Di=Pi.querySelector("."+Fn.anchorWrap),Mi.hasOwnProperty(Ye.tooltip)&&Pi.setAttribute("title",Mi[Ye.tooltip]),Mi.hasOwnProperty(Ye.htmlAttributes)&&Mi[Ye.htmlAttributes]&&m(Pi,Mi[Ye.htmlAttributes]),Mi.hasOwnProperty(Ye.enabled)&&!1===Mi[Ye.enabled]&&Pi.classList.add(Fn.disabled),Mi.hasOwnProperty(Ye.isVisible)&&!1===Mi[Ye.isVisible]&&(Pi.style.display="none"),Mi.hasOwnProperty(Ye.imageUrl)&&!v(Mi[Ye.imageUrl])&&!Oe.template){var st={src:Mi[Ye.imageUrl]};ya(st,Mi[Ye.imageAttributes]);var yt=Ce("img",{className:Fn.image,attrs:st});Di?Di.insertAdjacentElement("afterbegin",yt):tl([yt],Pi.firstElementChild)}if(Oe.showIcon&&Mi.hasOwnProperty(Ye.iconCss)&&!v(Mi[Ye.iconCss])&&!Oe.template){var mi=Ce("div",{className:Fn.icon+" "+Mi[Ye.iconCss]});Di?Di.insertAdjacentElement("afterbegin",mi):tl([mi],Pi.firstElementChild)}Dn.length&&tl(Dn,Pi.firstElementChild),Oe.itemNavigable&&ni.length&&tl(ni,Pi.firstElementChild),Y(Ce,Mi,Ye,0,Oe,Pi,ut.level)}Di&&be([Pi],[Fn.navigable]),Oe.itemCreated&&"function"==typeof Oe.itemCreated&&Oe.itemCreated({dataSource:ze,curData:ze[Fi],text:Mi[Ye.text],item:Pi,options:Oe,fields:Ye}),ni=[],ui.push(Pi)}}return ui}function a(Ce,ze,Ie,pe,Pe,Qe){var Oe=Ii({},e,Ie);return Me(Ce,o(Ce,ze,Ie,pe,Pe,Qe),Oe.listClass,Ie)}function h(Ce,ze){if(ze&&Ce)return Array.prototype.slice.call(ze).indexOf(Ce)}function u(Ce,ze,Ie){if(void 0===Ie&&(Ie=new Vn),"Ascending"===Ce)Ie.sortBy(ze,"ascending",!0);else if("Descending"===Ce)Ie.sortBy(ze,"descending",!0);else for(var pe=0;pe<Ie.queries.length;pe++)"onSortBy"===Ie.queries[pe].fn&&Ie.queries.splice(pe,1);return Ie}function d(Ce,ze){return new Ri(Ce).executeLocal(ze)}function f(Ce){for(var Ie=0;Ie<Ce.length;Ie++)if(!v(Ce[Ie]))return{typeof:typeof Ce[Ie],item:Ce[Ie]};return{typeof:null,item:null}}function m(Ce,ze){var Ie={};ya(Ie,ze),Ie.class&&(be([Ce],Ie.class.split(" ")),delete Ie.class),wi(Ce,Ie)}function M(Ce){for(var ze={},Ie=Ce.attributes,pe=0;pe<Ie.length;pe++)ze[Ie[pe].nodeName]=Ie[pe].nodeValue;return ze}function U(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Y(Ce,ze,Ie,pe,Pe,Qe,Oe){var Ye=ze[Ie.child]||[],ut=ze[Ie.hasChildren];if(Ye.length&&(ut=!0,Qe.classList.add(Fn.hasChild),Pe.processSubChild)){var Xt=a(Ce,Ye,Pe,++Oe);Qe.appendChild(Xt)}Pe.expandCollapse&&ut&&!Pe.template&&(Qe.firstElementChild.classList.add(Fn.iconWrapper),("Left"===Pe.expandIconPosition?tl:Yi)([Ce("div",{className:"e-icons "+Pe.expandIconClass})],Qe.querySelector("."+Fn.textContent)))}function X(Ce,ze,Ie,pe,Pe,Qe,Oe,Ye,ut,Xt){var Fi,Mi,ni=Ii({},e,Xt),ui=Ii({},t,ni.ariaAttributes),Pi=ze,Di=ze;"string"!=typeof ze&&"number"!=typeof ze&&"boolean"!=typeof ze&&(Fi=ze,Pi="boolean"==typeof Ie[pe.text]||"number"==typeof Ie[pe.text]?Ie[pe.text]:Ie[pe.text]||"",Di=Ie[pe.value]),Mi=v(Fi)||v(Ie[pe.id])||""===Ie[pe.id]?Ye+"-"+ut:Ye;var hn=Ce("li",{className:(!0===Oe?Fn.group:Fn.li)+" "+(v(Pe)?"":Pe),id:Mi,attrs:""!==ui.groupItemRole&&""!==ui.itemRole?{role:!0===Oe?ui.groupItemRole:ui.itemRole}:{}});return Fi&&Ie.hasOwnProperty(pe.enabled)&&"false"===Ie[pe.enabled].toString()&&hn.classList.add(Fn.disabled),Oe?hn.innerText=Pi:(hn.setAttribute("data-value",v(Di)?"null":Di),hn.setAttribute("role","option"),Fi&&Ie.hasOwnProperty(pe.htmlAttributes)&&Ie[pe.htmlAttributes]&&m(hn,Ie[pe.htmlAttributes]),Qe.length&&!ni.itemNavigable&&Yi(Qe,hn),Fi&&(Ie[pe.url]||Ie[pe.urlAttributes]&&Ie[pe.urlAttributes].href)?hn.appendChild(oe(Ce,Fi,pe,Pi,Qe,ni.itemNavigable)):(Qe.length&&ni.itemNavigable&&Yi(Qe,hn),hn.appendChild(document.createTextNode(Pi)))),hn}function Q(Ce){return{li:"e-"+Ce+"-item",ul:"e-"+Ce+"-parent e-ul",group:"e-"+Ce+"-group-item",icon:"e-"+Ce+"-icon",text:"e-"+Ce+"-text",check:"e-"+Ce+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+Ce+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+Ce+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function oe(Ce,ze,Ie,pe,Pe,Qe){var ut,Oe=vh(ze,Ie),Ye={href:Oe[Ie.url]};if(Oe.hasOwnProperty(Ie.urlAttributes)&&Oe[Ie.urlAttributes]&&(ya(Ye,Oe[Ie.urlAttributes]),Ye.href=Oe[Ie.url]?Oe[Ie.url]:Oe[Ie.urlAttributes].href),Qe){ut=Ce("a",{className:Fn.text+" "+Fn.url});var Xt=Ce("div",{className:Fn.anchorWrap});Pe&&Pe.length&&Yi(Pe,Xt),Xt.appendChild(document.createTextNode(pe)),Yi([Xt],ut)}else ut=Ce("a",{className:Fn.text+" "+Fn.url,innerHTML:pe});return m(ut,Ye),ut}function de(Ce,ze,Ie,pe,Pe,Qe,Oe){var ni,ui,Pi,Ye=Ii({},e,Qe),ut=Ii({},t,Ye.ariaAttributes),Xt=ze;"string"!=typeof ze&&"number"!=typeof ze&&(Pi=ze,Xt=Ie[pe.text]||"",ni=v(Ie._id)?Ie[pe.id]:Ie._id,ui=!(!ze.hasOwnProperty("isHeader")||!ze.isHeader));var Di=Ce("li",{className:(!0===ui?Fn.group:Fn.li)+" "+(v(Pe)?"":Pe),attrs:""!==ut.groupItemRole&&""!==ut.itemRole?{role:!0===ui?ut.groupItemRole:ut.itemRole}:{}});if(v(ni)?Di.setAttribute("data-uid",U()):Di.setAttribute("data-uid",ni),ui&&Qe&&Qe.groupTemplate){var Fi=KA(Qe.groupTemplate);Oe&&"listview"!==Oe.getModuleName()?(Mi=Fi(ze,Oe,"groupTemplate",Ye.groupTemplateID,!!Ye.isStringTemplate,null,Di))&&Yi(Mi,Di):Yi(Fi(ze,Oe,"groupTemplate",Ye.groupTemplateID,!!Ye.isStringTemplate),Di)}else if(!ui&&Qe&&Qe.template){var Mi;Fi=KA(Qe.template),Oe&&"listview"!==Oe.getModuleName()?(Mi=Fi(ze,Oe,"template",Ye.templateID,!!Ye.isStringTemplate,null,Di))&&Yi(Mi,Di):Yi(Fi(ze,Oe,"template",Ye.templateID,!!Ye.isStringTemplate),Di)}else{var hn=Ce("div",{className:Fn.textContent,attrs:""!==ut.wrapperRole?{role:ut.wrapperRole}:{}});if(Pi&&(Ie[pe.url]||Ie[pe.urlAttributes]&&Ie[pe.urlAttributes].href))hn.appendChild(oe(Ce,Pi,pe,Xt,null,Ye.itemNavigable));else{var xr=Ce("span",{className:Fn.text,attrs:""!==ut.itemText?{role:ut.itemText}:{}});Qe&&Qe.enableHtmlSanitizer?xr.innerText=Ms.sanitize(Xt):xr.innerHTML=Xt,hn.appendChild(xr)}Di.appendChild(hn)}return Di}function Me(Ce,ze,Ie,pe){var Pe=Ii({},e,pe),Qe=Ii({},t,Pe.ariaAttributes),Oe=Ce("ul",{className:(Fn=Q(Pe.moduleName)).ul+" "+(v(Ie)?"":Ie),attrs:""!==Qe.listRole?{role:Qe.listRole}:{}});return Yi(ze,Oe),Oe}r.createList=function i(Ce,ze,Ie,pe,Pe){var Qe=Ii({},e,Ie),Oe=Ii({},t,Qe.ariaAttributes),Ye=f(ze).typeof;return"string"===Ye||"number"===Ye?n(Ce,ze,pe,Ie,Pe):a(Ce,ze,Ie,Oe.level,pe,Pe)},r.createListFromArray=n,r.createListItemFromArray=s,r.createListItemFromJson=o,r.createListFromJson=a,r.getSiblingLI=function l(Ce,ze,Ie){if(Fn=Q(e.moduleName),Ce&&Ce.length){var pe,Pe,Qe=Array.prototype.slice.call(Ce);for(pe=Qe[(Pe=ze?h(ze,Qe):!0===Ie?Qe.length:-1)+(!0===Ie?-1:1)];pe&&(!ra(pe)||pe.classList.contains(Fn.disabled));)pe=Qe[Pe+=!0===Ie?-1:1];return pe}},r.indexOf=h,r.groupDataSource=function c(Ce,ze,Ie){void 0===Ie&&(Ie="None");var pe=Ii({},r.defaultMappedFields,ze),Pe=(new Vn).group(pe.groupBy),Qe=d(Ce,Pe=u(Ie,"key",Pe));Ce=[];for(var Oe=0;Oe<Qe.length;Oe++){var Ye=Qe[Oe].items,ut={};ut[pe.text]=Qe[Oe].key,ut.isHeader=!0;var ni=pe.text;"id"===ni&&(ut[ni="text"]=Qe[Oe].key),ut._id="group-list-item-"+(Qe[Oe].key?Qe[Oe].key.toString().trim():"undefined"),ut.items=Ye,Ce.push(ut);for(var ui=0;ui<Ye.length;ui++)Ce.push(Ye[ui])}return Ce},r.addSorting=u,r.getDataSource=d,r.createJsonFromElement=function p(Ce,ze){var Ie=Ii({},e,ze),pe=Ii({},r.defaultMappedFields,Ie.fields),Pe=Ce.cloneNode(!0),Qe=[];Pe.classList.add("json-parent");var Oe=Pe.querySelectorAll(".json-parent>li");Pe.classList.remove("json-parent");for(var Ye=0;Ye<Oe.length;Ye++){for(var ut=Oe[Ye],Xt=ut.querySelector("a"),ni=ut.querySelector("ul"),ui={},Pi=Xt?Xt.childNodes:ut.childNodes,Di=Object.keys(Pi),Fi=0;Fi<Pi.length;Fi++)Pi[Number(Di[Fi])].hasChildNodes()||(ui[pe.text]=Pi[Number(Di[Fi])].textContent);var Mi=M(ut);Mi.id?(ui[pe.id]=Mi.id,delete Mi.id):ui[pe.id]=U(),Object.keys(Mi).length&&(ui[pe.htmlAttributes]=Mi),Xt&&(Mi=M(Xt),Object.keys(Mi).length&&(ui[pe.urlAttributes]=Mi)),ni&&(ui[pe.child]=p(ni,ze)),Qe.push(ui)}return Qe},r.renderContentTemplate=function T(Ce,ze,Ie,pe,Pe,Qe){for(var ui,Oe=Ce("ul",{className:(Fn=Q(e.moduleName)).ul,attrs:{role:"presentation"}}),Ye=Ii({},e,Pe),ut=Ii({},r.defaultMappedFields,pe),Xt=KA(ze),ni=[],Pi=U(),Di=0;Di<Ie.length;Di++){var Fi=vh(Ie[Di],ut),Mi=Ie[Di],hn=Mi.isHeader;ui="string"==typeof Ie[Di]||"number"==typeof Ie[Di]?Mi:Fi[ut.value],Ye.itemCreating&&"function"==typeof Ye.itemCreating&&Ye.itemCreating({dataSource:Ie,curData:Mi,text:ui,options:Ye,fields:ut}),Ye.itemCreating&&"function"==typeof Ye.itemCreating&&(Fi=vh(Ie[Di],ut),ui="string"==typeof Ie[Di]||"number"==typeof Ie[Di]?Mi:Fi[ut.value]);var Dn=Ce("li",{id:Pi+"-"+Di,className:hn?Fn.group:Fn.li,attrs:{role:"presentation"}});if(hn)Dn.innerText="string"==typeof Ie[Di]||"number"==typeof Ie[Di]?Mi:Fi[ut.text];else{var st=hn?Ye.groupTemplateID:Ye.templateID;if(hn)Qe&&"listview"!=Qe.getModuleName()?(yt=Xt(Mi,Qe,"headerTemplate",st,!!Ye.isStringTemplate,null,Dn))&&Yi(yt,Dn):Yi(Xt(Mi,Qe,"headerTemplate",st,!!Ye.isStringTemplate),Dn);else if(Qe&&"listview"!==Qe.getModuleName()){var yt;(yt=Xt(Mi,Qe,"template",st,!!Ye.isStringTemplate,null,Dn))&&Yi(yt,Dn)}else Yi(Xt(Mi,Qe,"template",st,!!Ye.isStringTemplate),Dn);Dn.setAttribute("data-value",v(ui)?"null":ui),Dn.setAttribute("role","option")}Ye.itemCreated&&"function"==typeof Ye.itemCreated&&Ye.itemCreated({dataSource:Ie,curData:Mi,text:ui,item:Dn,options:Ye,fields:ut}),ni.push(Dn)}return Yi(ni,Oe),Oe},r.renderGroupTemplate=function P(Ce,ze,Ie,pe,Pe,Qe){for(var Oe=KA(Ce),Ye=Ii({},r.defaultMappedFields,Ie),ut=Ii({},e,Pe),Xt=Ye.groupBy,ni=0,ui=pe;ni<ui.length;ni++){var Pi=ui[ni],Di={};if(Di[""+Xt]=Pi.textContent,Pi.innerHTML="",Qe&&"listview"!==Qe.getModuleName()){var Fi=Oe(Di,Qe,"groupTemplate",ut.groupTemplateID,!!ut.isStringTemplate,null,Pi);Fi&&Yi(Fi,Pi)}else Yi(Oe(Di,Qe,"groupTemplate",ut.groupTemplateID,!!ut.isStringTemplate),Pi)}return pe},r.generateId=U,r.generateUL=Me,r.generateIcon=function Ve(Ce,ze,Ie,pe){var Pe=Ii({},e,pe);return Fn=Q(Pe.moduleName),("Left"===Pe.expandIconPosition?tl:Yi)([Ce("div",{className:"e-icons "+Pe.expandIconClass+" "+(v(Ie)?"":Ie)})],ze.querySelector("."+Fn.textContent)),ze}}($n||($n={}));var Ct_selected="e-active",Ct_focused="e-focused",Ct_listItem="e-list-item",Ct_listIcon="e-list-icon",Ct_textContent="e-text-content",Ct_listItemText="e-list-text",Ct_groupListItem="e-list-group-item",Ct_disable="e-disabled",Ct_container="e-list-container",Ct_checkboxWrapper="e-checkbox-wrapper",Ct_checkbox="e-checkbox",Ct_checked="e-check",Ct_checklist="e-checklist",Ct_virtualElementContainer="e-list-virtualcontainer",Bue=function(){function r(t){this.elementDifference=0,this.listViewInstance=t}return r.prototype.isNgTemplate=function(){return!v(this.listViewInstance.templateRef)&&"string"!=typeof this.listViewInstance.templateRef},r.prototype.isVueFunctionTemplate=function(){return this.listViewInstance.isVue&&"function"==typeof this.listViewInstance.template},r.prototype.uiVirtualization=function(){this.commonTemplate='<div class="e-text-content" role="presentation"> <span class="e-list-text"> ${'+this.listViewInstance.fields.text+"} </span></div>",this.templateFunction=wn(this.listViewInstance.template||this.commonTemplate,this.listViewInstance),this.groupTemplateFunction=wn(this.listViewInstance.groupTemplate||this.commonTemplate,this.listViewInstance),this.wireScrollEvent(!1);var t=this.listViewInstance.curViewDS,e=t.slice(0,1);this.listViewInstance.ulElement=this.listViewInstance.curUL=$n.createList(this.listViewInstance.createElement,e,this.listViewInstance.listBaseOption,null,this.listViewInstance),this.listViewInstance.contentContainer=this.listViewInstance.createElement("div",{className:Ct_container}),this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer),this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement),this.listItemHeight=this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height,this.expectedDomItemCount=this.ValidateItemCount(1e4),this.domItemCount=this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length),this.uiFirstIndex=0,this.uiLastIndex=this.domItemCount-1;var i=t.slice(1,this.domItemCount);Yi($n.createListItemFromJson(this.listViewInstance.createElement,i,this.listViewInstance.listBaseOption,null,null,this.listViewInstance),this.listViewInstance.ulElement),this.listViewInstance.liCollection=this.listViewInstance.curUL.querySelectorAll("li"),this.topElement=this.listViewInstance.createElement("div"),this.listViewInstance.ulElement.insertBefore(this.topElement,this.listViewInstance.ulElement.firstElementChild),this.bottomElement=this.listViewInstance.createElement("div"),this.listViewInstance.ulElement.insertBefore(this.bottomElement,null),this.totalHeight=Object.keys(t).length*this.listItemHeight-this.domItemCount*this.listItemHeight,this.topElement.style.height="0px",this.bottomElement.style.height=this.totalHeight+"px",this.topElementHeight=0,this.bottomElementHeight=this.totalHeight,this.listDiff=0,this.uiIndicesInitialization()},r.prototype.wireScrollEvent=function(t){t?!0===this.listViewInstance.isWindow?(window.removeEventListener("scroll",this.onVirtualScroll),window.removeEventListener("scroll",this.updateUl)):($.remove(this.listViewInstance.element,"scroll",this.onVirtualUiScroll),$.remove(this.listViewInstance.element,"scroll",this.updateUlContainer)):this.listViewInstance.isWindow?(this.onVirtualScroll=this.onVirtualUiScroll.bind(this),window.addEventListener("scroll",this.onVirtualScroll)):$.add(this.listViewInstance.element,"scroll",this.onVirtualUiScroll,this)},r.prototype.updateUlContainer=function(t){var e,i=this.listViewInstance.ulElement.querySelector("."+Ct_virtualElementContainer);v(this.listViewInstance.liElementHeight)&&this.listViewInstance.updateLiElementHeight(),e=this.listViewInstance.isWindow?Math.round(t.target.documentElement.scrollTop/this.listViewInstance.liElementHeight)-2:Math.round(t.target.scrollTop/this.listViewInstance.liElementHeight)-2,i.style.top=(e-1)*this.listViewInstance.liElementHeight<0?"0px":e*this.listViewInstance.liElementHeight+"px"},r.prototype.ValidateItemCount=function(t){var i,e=parseFloat(si(this.listViewInstance.height));return(i=this.listViewInstance.isWindow?Math.round(window.innerHeight/this.listItemHeight*3):"string"==typeof this.listViewInstance.height&&-1!==this.listViewInstance.height.indexOf("%")?Math.round(this.listViewInstance.element.getBoundingClientRect().height/this.listItemHeight*1.5):Math.round(e/this.listItemHeight*1.5))>t&&(i=t),i},r.prototype.uiIndicesInitialization=function(){this.uiIndices={activeIndices:[],disabledItemIndices:[],hiddenItemIndices:[]};for(var t=this.listViewInstance.curViewDS,e=0;e<t.length;e++)this.listViewInstance.showCheckBox&&t[e][this.listViewInstance.fields.isChecked]&&this.uiIndices.activeIndices.push(e),!v(t[e][this.listViewInstance.fields.enabled])&&!t[e][this.listViewInstance.fields.enabled]&&this.uiIndices.disabledItemIndices.push(e);if(this.isNgTemplate())for(var i=this.listViewInstance.element.querySelectorAll("."+Ct_listItem),n=0;n<i.length;n++)i[n].context=this.listViewInstance.viewContainerRef.get(n).context},r.prototype.refreshItemHeight=function(){if(this.listViewInstance.curViewDS.length){var t=this.listViewInstance.curViewDS;this.listItemHeight=this.topElement.nextSibling.getBoundingClientRect().height,this.totalHeight=Object.keys(t).length*this.listItemHeight-this.domItemCount*this.listItemHeight,this.bottomElementHeight=this.totalHeight,this.bottomElement.style.height=this.totalHeight+"px"}},r.prototype.getscrollerHeight=function(t){return this.listViewInstance.isWindow?pageYOffset-t<=0?0:pageYOffset-t:this.listViewInstance.element.scrollTop-t<=0?0:this.listViewInstance.element.scrollTop-t},r.prototype.onVirtualUiScroll=function(t){var e,i;i=this.listViewInstance.isWindow?this.listViewInstance.ulElement.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top:this.listViewInstance.headerEle?this.listViewInstance.headerEle.getBoundingClientRect().height:0,this.scrollPosition=v(this.scrollPosition)?0:this.scrollPosition;var n=this.getscrollerHeight(i);if(this.topElementHeight=this.listItemHeight*Math.floor(n/this.listItemHeight),this.bottomElementHeight=this.totalHeight-this.topElementHeight,this.topElementHeight=(e=n<=this.totalHeight?[this.topElementHeight,this.bottomElementHeight]:[this.totalHeight,0])[0],this.bottomElementHeight=e[1],this.topElementHeight!==parseFloat(this.topElement.style.height))if(this.topElement.style.height=this.topElementHeight+"px",this.bottomElement.style.height=this.bottomElementHeight+"px",n>this.scrollPosition)(s=Math.round(this.topElementHeight/this.listItemHeight-this.listDiff))>this.expectedDomItemCount+5?this.onLongScroll(s,!0):this.onNormalScroll(s,!0);else{var s;(s=Math.round(this.listDiff-this.topElementHeight/this.listItemHeight))>this.expectedDomItemCount+5?this.onLongScroll(s,!1):this.onNormalScroll(s,!1)}this.listDiff=Math.round(this.topElementHeight/this.listItemHeight),"function"==typeof this.listViewInstance.onUIScrolled&&this.listViewInstance.onUIScrolled(),this.scrollPosition=n},r.prototype.onLongScroll=function(t,e){for(var i=e?this.uiFirstIndex+t:this.uiFirstIndex-t,n=this.listViewInstance.ulElement.querySelectorAll("li"),s=0;s<n.length;s++)this.updateUI(n[s],i),i++;this.uiLastIndex=e?this.uiLastIndex+t:this.uiLastIndex-t,this.uiFirstIndex=e?this.uiFirstIndex+t:this.uiFirstIndex-t},r.prototype.onNormalScroll=function(t,e){if(e)for(var i=0;i<t;i++){var n=++this.uiLastIndex;this.updateUI(this.topElement.nextElementSibling,n,this.bottomElement),this.uiFirstIndex++}else for(i=0;i<t;i++)n=--this.uiFirstIndex,this.updateUI(this.bottomElement.previousElementSibling,n,this.topElement.nextSibling),this.uiLastIndex--},r.prototype.updateUiContent=function(t,e){var i=this.listViewInstance.curViewDS;if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0]?(t.dataset.uid=$n.generateId(),t.getElementsByClassName(Ct_listItemText)[0].innerHTML=this.listViewInstance.curViewDS[e].toString()):(t.dataset.uid=i[e][this.listViewInstance.fields.id]?i[e][this.listViewInstance.fields.id]:$n.generateId(),t.getElementsByClassName(Ct_listItemText)[0].innerHTML=i[e][this.listViewInstance.fields.text]),this.listViewInstance.showIcon&&(t.querySelector("."+Ct_listIcon)&&Ot(t.querySelector("."+Ct_listIcon)),this.listViewInstance.curViewDS[e][this.listViewInstance.fields.iconCss])){var n=t.querySelector("."+Ct_textContent),s=this.listViewInstance.createElement("div",{className:Ct_listIcon+" "+this.listViewInstance.curViewDS[e][this.listViewInstance.fields.iconCss]});n.insertBefore(s,t.querySelector("."+Ct_listItemText))}this.listViewInstance.showCheckBox&&this.listViewInstance.fields.groupBy&&(this.checkListWrapper||(this.checkListWrapper=this.listViewInstance.curUL.querySelector("."+Ct_checkboxWrapper).cloneNode(!0)),n=t.querySelector("."+Ct_textContent),this.listViewInstance.curViewDS[e].isHeader?t.querySelector("."+Ct_checkboxWrapper)&&(t.classList.remove(Ct_checklist),n.classList.remove(Ct_checkbox),Ot(t.querySelector("."+Ct_checkboxWrapper))):t.querySelector("."+Ct_checkboxWrapper)||(t.classList.add(Ct_checklist),n.classList.add(Ct_checkbox),n.insertBefore(this.checkListWrapper.cloneNode(!0),t.querySelector("."+Ct_listItemText))))},r.prototype.changeElementAttributes=function(t,e){if(t.classList.remove(Ct_disable),this.uiIndices.disabledItemIndices.length&&-1!==this.uiIndices.disabledItemIndices.indexOf(e)&&t.classList.add(Ct_disable),t.style.display="",this.uiIndices.hiddenItemIndices.length&&-1!==this.uiIndices.hiddenItemIndices.indexOf(e)&&(t.style.display="none"),this.listViewInstance.showCheckBox){var i=t.querySelector("."+Ct_checkboxWrapper);t.classList.remove(Ct_selected),t.classList.remove(Ct_focused),i&&(i.removeAttribute("aria-checked"),i.firstElementChild.classList.remove(Ct_checked)),this.uiIndices.activeIndices.length&&-1!==this.uiIndices.activeIndices.indexOf(e)&&!this.listViewInstance.curUL.querySelector(Ct_selected)&&(t.classList.add(Ct_selected),i.firstElementChild.classList.add(Ct_checked),i.setAttribute("aria-checked","true"),this.activeIndex===e&&t.classList.add(Ct_focused))}else t.classList.remove(Ct_selected),t.removeAttribute("aria-selected"),!v(this.activeIndex)&&this.activeIndex===e&&!this.listViewInstance.curUL.querySelector(Ct_selected)&&(t.classList.add(Ct_selected),t.setAttribute("aria-selected","true"));this.listViewInstance.fields.groupBy&&(this.listViewInstance.curViewDS[e].isHeader?t.classList.contains(Ct_listItem)&&(t.classList.remove(Ct_listItem),t.setAttribute("role","group"),t.classList.add(Ct_groupListItem)):t.classList.contains(Ct_groupListItem)&&(t.classList.remove(Ct_groupListItem),t.setAttribute("role","listitem"),t.classList.add(Ct_listItem)))},r.prototype.findDSAndIndexFromId=function(t,e){var i=this,n={};return v(e=this.listViewInstance.getElementUID(e))||t.some(function(s,o){return!!(e[i.listViewInstance.fields.id]&&e[i.listViewInstance.fields.id]===(s[i.listViewInstance.fields.id]&&s[i.listViewInstance.fields.id])||e===s)&&(n.index=o,n.data=s,!0)}),n},r.prototype.getSelectedItems=function(){var t=this;if(!v(this.activeIndex)||this.listViewInstance.showCheckBox&&this.uiIndices.activeIndices.length){var e=[],i=[];if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0]){var n=this.listViewInstance.curViewDS;if(this.listViewInstance.showCheckBox){for(var s=this.uiIndices.activeIndices,o=0;o<s.length;o++)e.push(n[s[o]]);return{text:e,data:e,index:this.uiIndices.activeIndices.map(function(d){return t.listViewInstance.dataSource.indexOf(n[d])})}}return{text:n[this.activeIndex],data:n[this.activeIndex],index:this.listViewInstance.dataSource.indexOf(n[this.activeIndex])}}var a=this.listViewInstance.curViewDS,l=this.listViewInstance.fields.text;if(this.listViewInstance.showCheckBox){var h=this.uiIndices.activeIndices;for(o=0;o<h.length;o++)i.push(a[h[o]][""+l]),e.push(a[h[o]]);var c=this.listViewInstance.dataSource instanceof Ri?a:this.listViewInstance.dataSource;return{text:i,data:e,index:this.uiIndices.activeIndices.map(function(d){return c.indexOf(a[d])})}}return{text:a[this.activeIndex][this.listViewInstance.fields.text],data:a[this.activeIndex],index:(this.listViewInstance.dataSource instanceof Ri?a:this.listViewInstance.dataSource).indexOf(a[this.activeIndex])}}},r.prototype.selectItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);if(Object.keys(e).length){var i=this.activeIndex===e.index,n=void 0;if(this.activeIndex=e.index,this.listViewInstance.showCheckBox&&(-1===this.uiIndices.activeIndices.indexOf(e.index)?(n=!0,this.uiIndices.activeIndices.push(e.index)):(n=!1,this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(e.index),1)),this.listViewInstance.curUL.querySelector("."+Ct_focused)&&this.listViewInstance.curUL.querySelector("."+Ct_focused).classList.remove(Ct_focused)),this.listViewInstance.getLiFromObjOrElement(t))this.listViewInstance.showCheckBox?this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(t)):this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(t));else{var s=void 0;if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0])s={text:this.listViewInstance.curViewDS[this.activeIndex],data:this.listViewInstance.curViewDS[this.activeIndex],index:this.activeIndex};else{var o=this.listViewInstance.curViewDS;s={text:o[this.activeIndex][this.listViewInstance.fields.text],data:o[this.activeIndex],index:this.activeIndex}}this.listViewInstance.showCheckBox?(s.isChecked=n,this.listViewInstance.trigger("select",s)):i||(this.listViewInstance.removeSelect(),this.listViewInstance.trigger("select",s))}}else v(t)&&!this.listViewInstance.showCheckBox&&(this.listViewInstance.removeSelect(),this.activeIndex=void 0)},r.prototype.enableItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(e.index),1)},r.prototype.disableItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&-1===this.uiIndices.disabledItemIndices.indexOf(e.index)&&this.uiIndices.disabledItemIndices.push(e.index)},r.prototype.showItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(e.index),1)},r.prototype.hideItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&-1===this.uiIndices.hiddenItemIndices.indexOf(e.index)&&this.uiIndices.hiddenItemIndices.push(e.index)},r.prototype.removeItem=function(t){var e,i=this.listViewInstance.curViewDS,n=this.findDSAndIndexFromId(i,t);Object.keys(n).length&&(e=n.data,i[n.index-1]&&i[n.index-1].isHeader&&1===i[n.index-1].items.length?(this.removeUiItem(n.index-1),this.removeUiItem(n.index-1)):this.removeUiItem(n.index));var s=this.listViewInstance.dataSource instanceof Ri?this.listViewInstance.localData:this.listViewInstance.dataSource,o=s.indexOf(e);-1!==o&&(s.splice(o,1),this.listViewInstance.setViewDataSource(s)),this.listViewInstance.liCollection=this.listViewInstance.curUL.querySelectorAll("li")},r.prototype.setCheckboxLI=function(t,e){var i=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex;this.activeIndex=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex,t.classList.contains(Ct_selected)?-1===this.uiIndices.activeIndices.indexOf(i)&&this.uiIndices.activeIndices.push(i):this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(i),1)},r.prototype.setSelectLI=function(t,e){this.activeIndex=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex},r.prototype.checkedItem=function(t){if(t){this.uiIndices.activeIndices=[],this.activeIndex=void 0;for(var e=this.listViewInstance.curViewDS,i=0;i<e.length;i++)e[i].isHeader||this.uiIndices.activeIndices.push(i)}else this.activeIndex=void 0,this.uiIndices.activeIndices=[]},r.prototype.addUiItem=function(t){var e=this.listViewInstance.curViewDS;if(this.changeUiIndices(t,!0),this.activeIndex&&this.activeIndex>=t&&this.activeIndex++,this.listViewInstance.showCheckBox&&e[t][this.listViewInstance.fields.isChecked]&&this.uiIndices.activeIndices.push(t),!parseFloat(this.bottomElement.style.height)&&!parseFloat(this.topElement.style.height)&&(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)+this.listItemHeight+"px"),parseFloat(this.bottomElement.style.height)){var i=this.listViewInstance.curUL.lastElementChild.previousSibling;(n=this.listViewInstance.getLiFromObjOrElement(e[t+1])||this.listViewInstance.getLiFromObjOrElement(e[t+2]))&&(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)+this.listItemHeight+"px",this.updateUI(i,t,n))}else{i=this.listViewInstance.curUL.firstElementChild.nextSibling;var n=void 0;n=Object.keys(this.listViewInstance.curViewDS).length-1===t?this.listViewInstance.curUL.lastElementChild:this.listViewInstance.getLiFromObjOrElement(e[t+1])||this.listViewInstance.getLiFromObjOrElement(e[t+2]),this.topElement.style.height=parseFloat(this.topElement.style.height)+this.listItemHeight+"px",this.uiFirstIndex++,this.uiLastIndex++,n&&(this.updateUI(i,t,n),!0===this.listViewInstance.isWindow?window.scrollTo(0,pageYOffset+this.listItemHeight):this.listViewInstance.element.scrollTop+=this.listItemHeight)}this.totalHeight+=this.listItemHeight,this.listDiff=Math.round(parseFloat(this.topElement.style.height)/this.listItemHeight)},r.prototype.removeUiItem=function(t){this.totalHeight-=this.listItemHeight;var i=this.listViewInstance.getLiFromObjOrElement(this.listViewInstance.curViewDS[t]);if(this.listViewInstance.curViewDS.splice(t,1),this.activeIndex&&this.activeIndex>=t&&this.activeIndex--,i)if(this.domItemCount>Object.keys(this.listViewInstance.curViewDS).length)Ot(i),this.domItemCount--,this.uiLastIndex--,this.totalHeight=0;else{if(i.classList.contains(Ct_disable)&&(i.classList.remove(Ct_disable),this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(t),1)),"none"===i.style.display&&(i.style.display="",this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(t),1)),this.listViewInstance.showCheckBox&&i.classList.contains(Ct_selected)){this.listViewInstance.removeSelect(),this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(t),1);var n=i.querySelector("."+Ct_checkboxWrapper);n.removeAttribute("aria-checked"),n.firstElementChild.classList.remove(Ct_checked),i.classList.contains(Ct_focused)&&(i.classList.remove(Ct_focused),this.activeIndex=void 0)}else i.classList.contains(Ct_selected)&&(this.listViewInstance.removeSelect(),this.activeIndex=void 0);parseFloat(this.bottomElement.style.height)||parseFloat(this.topElement.style.height)?parseFloat(this.bottomElement.style.height)?(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)-this.listItemHeight+"px",this.updateUI(i,this.uiLastIndex,this.bottomElement)):(this.topElement.style.height=parseFloat(this.topElement.style.height)-this.listItemHeight+"px",this.updateUI(i,this.uiFirstIndex-1,this.topElement.nextSibling),this.uiLastIndex--,this.uiFirstIndex--):this.updateUI(i,this.uiLastIndex,this.bottomElement)}this.changeUiIndices(t,!1),this.listDiff=Math.round(parseFloat(this.topElement.style.height)/this.listItemHeight)},r.prototype.changeUiIndices=function(t,e){for(var i=Object.keys(this.uiIndices),n=0;n<i.length;n++)this.uiIndices[i[n]]=this.uiIndices[i[n]].map(function(s){return s>=t?e?++s:--s:s})},r.prototype.addItem=function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n];if(i.push(s),this.listViewInstance.setViewDataSource(i),this.domItemCount)if(this.domItemCount<this.expectedDomItemCount){if(this.listViewInstance.findItemFromDS(i,e)instanceof Array){if(this.listViewInstance.ulElement){var a=this.listViewInstance.curViewDS.indexOf(s);this.createAndInjectNewItem(s,a),(l=this.listViewInstance.curViewDS[a-1])&&l.isHeader&&1===l.items.length&&(--a,this.createAndInjectNewItem(l,a))}this.listViewInstance.liCollection=this.listViewInstance.curUL.querySelectorAll("li")}}else{var l;a=this.listViewInstance.curViewDS.indexOf(s),this.addUiItem(a),(l=this.listViewInstance.curViewDS[a-1])&&l.isHeader&&1===l.items.length&&this.addUiItem(a-1)}else(this.listViewInstance.template||this.listViewInstance.groupTemplate)&&!this.isNgTemplate()&&(this.listViewInstance.listBaseOption.template=null,this.listViewInstance.listBaseOption.groupTemplate=null,this.listViewInstance.listBaseOption.itemCreated=this.createUIItem.bind(this)),this.uiVirtualization()}},r.prototype.createAndInjectNewItem=function(t,e){var i,n=$n.createListItemFromJson(this.listViewInstance.createElement,[t],this.listViewInstance.listBaseOption,null,null,this.listViewInstance);if(i=Object.keys(this.listViewInstance.curViewDS).length-1===e?this.listViewInstance.curUL.lastElementChild:this.listViewInstance.getLiFromObjOrElement(this.listViewInstance.curViewDS[e+1])||this.listViewInstance.getLiFromObjOrElement(this.listViewInstance.curViewDS[e+2]),this.listViewInstance.fields.groupBy&&this.listViewInstance.curViewDS[e+1]&&this.listViewInstance.curViewDS[e+1].isHeader){var s=this.listViewInstance.getLiFromObjOrElement(this.listViewInstance.curViewDS[e-1]);s&&(i=s.nextElementSibling)}this.listViewInstance.ulElement.insertBefore(n[0],i),this.domItemCount++,this.bottomElementHeight<=0&&this.uiLastIndex++,this.refreshItemHeight()},r.prototype.createUIItem=function(t){var e=document.createElement("div");if(this.templateData=t.curData.isHeader?t.curData.items[0]:t.curData,this.listViewInstance.isReact&&(this.commonTemplate=null),this.listViewInstance.showCheckBox)if(this.listViewInstance.renderCheckbox(t),v(this.listViewInstance.virtualCheckBox)||v(this.listViewInstance.virtualCheckBox.outerHTML)){var s=document.createElement("div");n=this.templateFunction(this.templateData,this.listViewInstance),this.listViewInstance.template&&this.listViewInstance.isReact&&this.listViewInstance.renderReactTemplates(),[].slice.call(n).forEach(function(c){s.appendChild(c)}),e.innerHTML=s.innerHTML}else{var i=document.createElement("div"),n=this.templateFunction(this.templateData,this.listViewInstance);this.listViewInstance.template&&this.listViewInstance.isReact&&this.listViewInstance.renderReactTemplates(),[].slice.call(n).forEach(function(h){i.appendChild(h)}),i.children&&i.children[0]&&(i.children[0].classList.add("e-checkbox"),i.children[0].classList.add("Left"===this.listViewInstance.checkBoxPosition?"e-checkbox-left":"e-checkbox-right"),"Left"===this.listViewInstance.checkBoxPosition?i.children[0].insertBefore(this.listViewInstance.virtualCheckBox,i.childNodes[0].children[0]):i.children[0].appendChild(this.listViewInstance.virtualCheckBox),e.innerHTML=i.innerHTML)}else n=this.templateFunction(this.templateData,this.listViewInstance),this.listViewInstance.template&&this.listViewInstance.isReact&&this.listViewInstance.renderReactTemplates(),[].slice.call(n).forEach(function(c){e.appendChild(c)});t.curData.isHeader&&(this.headerData=t.curData);var o=this.listViewInstance.createElement("div");this.listViewInstance.fields.groupBy&&(n=this.groupTemplateFunction(this.headerData,this.listViewInstance),this.listViewInstance.template&&this.listViewInstance.isReact&&this.listViewInstance.renderReactTemplates(),[].slice.call(n).forEach(function(c){o.appendChild(c)})),(!this.listViewInstance.isReact||"string"==typeof this.listViewInstance.template&&!t.item.classList.contains("e-list-group-item")||"string"==typeof this.listViewInstance.groupTemplate&&t.item.classList.contains("e-list-group-item"))&&!this.listViewInstance.isVue&&(t.item.innerHTML=""),t.item.context={data:t.curData,nodes:{flatTemplateNodes:[],groupTemplateNodes:[]}};for(var a=0;a<e.children.length;a++)this.compileTemplate(e.children[a],t.item,!1);for(a=0;a<o.children.length;a++)this.compileTemplate(o.children[a],t.item,!0);t.item.context.template=t.curData.isHeader?e.firstElementChild:o.firstElementChild,t.item.context.type=t.curData.isHeader?"flatList":"groupList";var l=t.curData.isHeader?o:e;l.firstElementChild&&!this.listViewInstance.isReact&&!this.listViewInstance.isVue&&t.item.insertBefore(l.firstElementChild,null)},r.prototype.compileTemplate=function(t,e,i){var n=this;this.updateContextData(e,{onChange:function(o){var a,l;n.listViewInstance.isVue?(a=n.groupTemplateFunction(o),l=n.templateFunction(o)):(a=n.groupTemplateFunction(o,n.listViewInstance),l=n.templateFunction(o,n.listViewInstance)),n.listViewInstance.template&&n.listViewInstance.isReact&&n.listViewInstance.renderReactTemplates();var h=l;o.isHeader&&(h=a),[].slice.call(h).forEach(function(c){var u=t.classList.value.replace("e-checkbox","");u=(u=u.replace("e-checkbox-left","")).replace("e-checkbox-right",""),Ae([t],u.split(" ").filter(function(f){return f})),be([t],Array.from(c.classList));for(var d=0;d<t.attributes.length;d++)if("class"!=t.attributes[d].name){var p=c.getAttribute(t.attributes[d].name);t.setAttribute(t.attributes[d].name,p)}[].slice.call(t.children).forEach(function(f){!f.classList.contains("e-listview-checkbox")&&!f.classList.contains("e-checkbox-left")&&!f.classList.contains("e-checkbox-right")&&f.remove()}),[].slice.call(c.children).forEach(function(f){t.appendChild(f)})})}},i)},r.prototype.onChange=function(t,e){e.context.data=t;var i=e.context.nodes.groupTemplateNodes,n=e.context.nodes.flatTemplateNodes;if(!v(t.isHeader)&&t.isHeader&&"groupList"===e.context.type){var s=e.firstElementChild;Ot(e.firstElementChild),e.insertBefore(e.context.template,null),e.context.template=s,e.context.type="flatList";for(var o=0;o<i.length;o++)i[o].onChange(t)}else if(t.isHeader||"flatList"!==e.context.type)if(t.isHeader)for(o=0;o<i.length;o++)i[o].onChange(t);else for(o=0;o<n.length;o++)n[o].onChange(t);else{s=e.firstElementChild,Ot(e.firstElementChild),e.insertBefore(e.context.template,null),e.context.template=s,e.context.type="groupList";for(o=0;o<n.length;o++)n[o].onChange(t)}},r.prototype.updateContextData=function(t,e,i){i?t.context.nodes.groupTemplateNodes.push(e):t.context.nodes.flatTemplateNodes.push(e)},r.prototype.reRenderUiVirtualization=function(){this.wireScrollEvent(!0),this.listViewInstance.contentContainer&&Ot(this.listViewInstance.contentContainer),this.listViewInstance.preRender(),this.domItemCount=0,this.listViewInstance.header(),this.listViewInstance.setLocalData()},r.prototype.updateUI=function(t,e,i){var n=this.isNgTemplate()?this.onNgChange:this.isVueFunctionTemplate()?this.onVueChange:this.onChange;if(this.listViewInstance.template||this.listViewInstance.groupTemplate){var s=this.listViewInstance.curViewDS[e];t.dataset.uid=s[this.listViewInstance.fields.id]?s[this.listViewInstance.fields.id]:$n.generateId(),n(s,t,this)}else this.updateUiContent(t,e);this.changeElementAttributes(t,e),i&&this.listViewInstance.ulElement.insertBefore(t,i)},r.prototype.onVueChange=function(t,e,i){for(var n=$n.createListItemFromJson(i.listViewInstance.createElement,[t],i.listViewInstance.listBaseOption,null,null,i.listViewInstance);e.lastChild;)e.removeChild(e.lastChild);e.appendChild(n[0].firstChild)},r.prototype.onNgChange=function(t,e,i){for(var s=wn(i.listViewInstance.template)(t);e.lastChild;)e.removeChild(e.lastChild);e.appendChild(s[0])},r.prototype.getModuleName=function(){return"virtualization"},r.prototype.destroy=function(){this.wireScrollEvent(!0),this.topElement=null,this.bottomElement=null},r}(),Hue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uw=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};function ax(r,t){for(var e=Ii({},r),i=0,n=Object.keys(e);i<n.length;i++){var s=n[i];t.indexOf(s)<0&&fA(e,s)}return e}function Uue(r,t){var e=40===t?0:r.childElementCount-1,i=e,s=r.querySelector(".e-selected");s&&s.classList.remove("e-selected");for(var o=0,a=r.children.length;o<a;o++)r.children[o].classList.contains("e-focused")&&(i=o,r.children[o].classList.remove("e-focused"),40===t?i++:i--,i===(40===t?r.childElementCount:-1)&&(i=e));-1!==(i=e7(r,r.children[i],i,t))&&(be([r.children[i]],"e-focused"),r.children[i].focus())}function e7(r,t,e,i,n){if(void 0===n&&(n=0),(t.classList.contains("e-separator")||t.classList.contains("e-disabled"))&&(e===(40===i?r.childElementCount-1:0)?e=40===i?0:r.childElementCount-1:40===i?e++:e--),(t=r.children[e]).classList.contains("e-separator")||t.classList.contains("e-disabled")){if(++n===r.childElementCount)return-1;e=e7(r,t,e,i,n)}return e}var vi,lx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hue(t,r),uw([O("")],t.prototype,"iconCss",void 0),uw([O("")],t.prototype,"id",void 0),uw([O(!1)],t.prototype,"separator",void 0),uw([O("")],t.prototype,"text",void 0),uw([O("")],t.prototype,"url",void 0),uw([O(!1)],t.prototype,"disabled",void 0),t}(ii),Wue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mh=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jr=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isPopupCreated=!0,n}return Wue(t,r),t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.createPopupOnClick&&!this.isPopupCreated?(this.createPopup(),this.openPopUp()):this.closePopup()},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,i){for(var n,s=this.items.length,o=0,a=this.items.length;o<a;o++)if(i===this.items[o].text){s=o;break}for(var l=e.length-1;l>=0;l--)n=new lx(this,"items",e[l],!0),this.items.splice(s,0,n);this.canOpen()||this.createItems()},t.prototype.removeItems=function(e,i){for(var n=!1,s=0,o=e.length;s<o;s++)for(var a=0,l=this.items.length;a<l;a++)if(e[s]===(i?this.items[a].id:this.items[a].text)){this.items.splice(a,1),n=!0;break}n&&this.getULElement()&&this.createItems()},t.prototype.createPopup=function(){var e,i=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(i),this.dropDown=new Yu(i,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),v(this.popupContent)||(this.popupContent.style.display=""),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),wi(this.element,((e={})["aria-haspopup"]=this.items.length||this.target?"true":"false",e["aria-expanded"]="false",e.type="button",e["aria-label"]=this.element.textContent?this.element.textContent:"dropdownbutton",e)),this.cssClass&&be([i],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPopupCreated=!0},t.prototype.getTargetElement=function(){return!this.createPopupOnClick||this.isColorPicker()||v(this.popupContent)?"string"==typeof this.target?Ge(this.target):this.target:this.popupContent},t.prototype.createItems=function(e){var s,o,a,i=this.items,n=this.hasIcon(this.items,"iconCss"),h=this.getULElement();h?h.innerHTML="":h=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var c=0;c<i.length;c++){var u=(o=i[c]).text;a=this.createElement("li",{innerHTML:o.url?"":u,className:o.separator?"e-item e-separator":"e-item",attrs:o.separator?{role:"separator",tabindex:"-1"}:{role:"menuitem",tabindex:"-1","aria-label":u},id:o.id?o.id:Or("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?a.textContent=o.url?"":u:a.innerHTML=o.url?"":u,o.url&&(a.appendChild(this.createAnchor(o)),a.classList.add("e-url")),o.iconCss?(s=this.createElement("span",{className:"e-menu-icon "+o.iconCss}),o.url?a.childNodes[0].appendChild(s):a.insertBefore(s,a.childNodes[0])):n&&!o.separator&&a.classList.add("e-blank-icon"),o.disabled&&a.classList.add("e-disabled"),this.trigger("beforeItemRender",{item:o,element:a}),h.appendChild(a)}e&&this.getPopUpElement().appendChild(h),n&&function Vue(r,t){var e=[].slice.call(r.getElementsByClassName("e-blank-icon"));if(t&&[].slice.call(r.getElementsByClassName("e-item")).forEach(function(h){(h.style.paddingLeft||h.style.paddingRight)&&h.removeAttribute("style")}),e.length){var n=r.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!v(n)){n.classList.contains("e-url")&&(n=n.querySelector(".e-menu-url"));var o,s=n.querySelector(".e-menu-icon"),a=r.classList.contains("e-rtl");o=a?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var l=parseInt(getComputedStyle(s).fontSize,10)+parseInt(getComputedStyle(s)[o.margin],10)+parseInt(getComputedStyle(n).paddingLeft,10)+"px";e.forEach(function(h){h.classList.contains("e-url")?h.querySelector(".e-menu-url").style[o.padding]=l:h.style[o.padding]=l})}}}(this.getPopUpElement())},t.prototype.hasIcon=function(e,i){for(var n=0,s=e.length;n<s;n++)if(e[n][""+i])return!0;return!1},t.prototype.createAnchor=function(e){var i=this.enableHtmlSanitizer?Ms.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:i,attrs:{href:e.url}})},t.prototype.initialize=function(){this.button=new Io({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=Or("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()&&!this.createPopupOnClick||!this.createPopupOnClick?this.createPopup():(this.isPopupCreated=!1,this.target&&!this.isColorPicker()&&this.createPopupOnClick&&(this.popupContent=this.getTargetElement(),this.popupContent.style.display="none"))},t.prototype.isColorPicker=function(){if(!this.element)return!1;var e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))},t.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))},t.prototype.setActiveElem=function(e){this.activeElem=e},t.prototype.getModuleName=function(){return"dropdown-btn"},t.prototype.canOpen=function(){var e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e},t.prototype.destroy=function(){var i,e=this;r.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName()&&(this.element.querySelector("span.e-caret")&&Ot(this.element.querySelector("span.e-caret")),this.cssClass&&(i=this.cssClass.split(" ")),this.button.destroy(),i&&Ae([this.element],i),Ae(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach(function(s){e.element.removeAttribute(s)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents())},t.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var e=document.getElementById(this.getPopUpElement().id);e&&(Ae([e],["e-popup-open","e-popup-close"]),Ot(e))}$.remove(this.getPopUpElement(),"click",this.clickHandler),$.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&this.dropDown&&(this.dropDown.element=null,this.dropDown=void 0)}this.isPopupCreated=!1},t.prototype.getPopUpElement=function(){var e=null;if(!this.dropDown&&this.activeElem[0].classList.contains("e-split-btn")){var i=ln(this.activeElem[1],"dropdown-btn");i&&(this.dropDown=i.dropDown)}return this.dropDown&&(e=this.dropDown.element),e},t.prototype.getULElement=function(){var e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e},t.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||$.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),$.add(this.element,"click",this.clickHandler,this),$.add(this.element,"keydown",this.keyBoardHandler,this)},t.prototype.popupWireEvents=function(){this.delegateMousedownHandler||(this.delegateMousedownHandler=this.mousedownHandler.bind(this));var e=this.getPopUpElement();this.createPopupOnClick&&$.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&($.add(e,"click",this.clickHandler,this),$.add(e,"keydown",this.keyBoardHandler,this),this.closeActionEvents&&$.add(e,this.closeActionEvents,this.focusoutHandler,this)),this.rippleFn=dh(e,{selector:".e-item"})},t.prototype.popupUnWireEvents=function(){var e=this.getPopUpElement();this.createPopupOnClick&&$.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&($.remove(e,"click",this.clickHandler),$.remove(e,"keydown",this.keyBoardHandler),this.closeActionEvents&&$.remove(e,this.closeActionEvents,this.focusoutHandler)),Td&&this.rippleFn&&this.rippleFn()},t.prototype.keyBoardHandler=function(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}},t.prototype.upDownKeyHandler=function(e){this.target&&(38===e.keyCode||40===e.keyCode)||(e.preventDefault(),Uue(this.getULElement(),e.keyCode))},t.prototype.keyEventHandler=function(e){if(!this.target||13!==e.keyCode&&9!==e.keyCode){if(13===e.keyCode&&this.activeElem[0].classList.contains("e-split-btn"))return void this.activeElem[0].focus();e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}},t.prototype.getLI=function(e){return"LI"===e.tagName?e:Je(e,"li")},t.prototype.mousedownHandler=function(e){var i=e.target;this.dropDown&&!this.canOpen()&&!Je(i,'[id="'+this.getPopUpElement().id+'"]')&&!Je(i,'[id="'+this.element.id+'"]')&&this.closePopup(e)},t.prototype.focusoutHandler=function(e){if(this.isPopupCreated&&!this.canOpen()){var i=e.relatedTarget;if(i&&i.className.indexOf("e-item")>-1){var n=this.getLI(i);if(n){var s=Array.prototype.indexOf.call(this.getULElement().children,n),o=this.items[s];o&&this.trigger("select",{element:n,item:o})}}this.closePopup(e)}},t.prototype.clickHandler=function(e){var i=e.target;if(Je(i,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&""!==this.target&&!this.isColorPicker()&&!this.createPopupOnClick?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(Je(i,'[id="'+this.getPopUpElement().id+'"]')){var s=void 0,o=void 0,a=this.getLI(i);a&&(s=Array.prototype.indexOf.call(this.getULElement().children,a),(o=this.items[s])&&this.trigger("select",{element:a,item:o}),this.closePopup(e,this.activeElem[0]))}},t.prototype.openPopUp=function(e){var i=this;void 0===e&&(e=null);var n=this.getPopUpElement();if(this.target)if(this.activeElem.length>1){var s=ln(this.activeElem[0],"split-btn");s.isReact&&n.childNodes.length<1&&(s.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&n.childNodes.length<1&&(this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());else this.createItems(!0);var o=this.getULElement();this.popupWireEvents(),this.trigger("beforeOpen",{element:o,items:this.items,event:e,cancel:!1},function(l){if(!l.cancel){var h=i.getULElement();if(i.dropDown.show(null,i.element),be([i.element],"e-active"),i.element.setAttribute("aria-expanded","true"),i.element.setAttribute("aria-owns",i.getPopUpElement().id),h&&h.focus(),i.enableRtl&&"0px"!==h.parentElement.style.left){var c;c=i.element.parentElement&&i.element.parentElement.classList.contains("e-split-btn-wrapper")?i.element.parentElement.offsetWidth:i.element.offsetWidth;var u=h.parentElement.offsetWidth-c,d=parseFloat(h.parentElement.style.left)-u;d<0&&(d=0),h.parentElement.style.left=d+"px"}i.trigger("open",{element:h,items:i.items})}})},t.prototype.closePopup=function(e,i){var n=this;void 0===e&&(e=null);var s=this.getULElement();this.trigger("beforeClose",{element:s,items:this.items,event:e,cancel:!1},function(a){if(a.cancel)s&&s.focus();else{var l=n.getPopUpElement();l&&$.remove(l,"keydown",n.keyBoardHandler),n.popupUnWireEvents();var h=n.getULElement(),c=void 0;h&&(c=h.querySelector(".e-selected")),c&&c.classList.remove("e-selected"),n.dropDown.hide(),Ae(n.activeElem,"e-active"),n.element.setAttribute("aria-expanded","false"),n.element.removeAttribute("aria-owns"),i&&i.focus(),n.trigger("close",{element:h,items:n.items}),!n.target&&h&&Ot(h),(!n.target||n.isColorPicker()||n.target&&!n.isColorPicker())&&n.createPopupOnClick&&n.destroyPopup()}})},t.prototype.unWireEvents=function(){this.createPopupOnClick||$.remove(document,"mousedown touchstart",this.delegateMousedownHandler),$.remove(this.element,"click",this.clickHandler),$.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&($.remove(this.getPopUpElement(),"click",this.clickHandler),$.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))},t.prototype.onPropertyChanged=function(e,i){var s;this.button.setProperties(ax(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(s=this.getPopUpElement(),this.dropDown.setProperties(ax(e,["enableRtl"])));for(var o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(e.cssClass.indexOf("e-vertical")>-1||i.cssClass.indexOf("e-vertical")>-1){this.element.querySelector("span.e-caret")||this.appendArrowSpan();var h=this.element.querySelector("span.e-caret");e.cssClass.indexOf("e-vertical")>-1?dl(h,["e-icon-bottom"],["e-icon-right"]):dl(h,["e-icon-right"],["e-icon-bottom"])}this.isPopupCreated&&(i.cssClass&&Ae([s],i.cssClass.split(" ")),e.cssClass&&be([s],e.cssClass.replace(/\s+/g," ").trim().split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}},t.prototype.focusIn=function(){this.element.focus()},mh([O("")],t.prototype,"content",void 0),mh([O("")],t.prototype,"cssClass",void 0),mh([O(!1)],t.prototype,"disabled",void 0),mh([O("")],t.prototype,"iconCss",void 0),mh([O("Left")],t.prototype,"iconPosition",void 0),mh([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),mh([Qn([],lx)],t.prototype,"items",void 0),mh([O(!1)],t.prototype,"createPopupOnClick",void 0),mh([O("")],t.prototype,"target",void 0),mh([O("")],t.prototype,"closeActionEvents",void 0),mh([Se()],t.prototype,"beforeItemRender",void 0),mh([Se()],t.prototype,"beforeOpen",void 0),mh([Se()],t.prototype,"beforeClose",void 0),mh([Se()],t.prototype,"close",void 0),mh([Se()],t.prototype,"open",void 0),mh([Se()],t.prototype,"select",void 0),mh([Se()],t.prototype,"created",void 0),mh([Jn],t)}(Xr),Yue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_h=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},eO="e-rtl",KR="EJS-SPLITBUTTON",dy=function(r){function t(e,i){return r.call(this,e,i)||this}return Yue(t,r),t.prototype.preRender=function(){var e=this.element;if(e.tagName===KR){for(var i=Xe("ej2_instances",e),n=this.createElement("button",{attrs:{type:"button"}}),s=this.createElement(KR,{className:"e-"+this.getModuleName()+"-wrapper"}),o=0,a=e.attributes.length;o<a;o++)n.setAttribute(e.attributes[o].nodeName,e.attributes[o].nodeValue);e.parentNode.insertBefore(s,e),Ot(e),s.appendChild(e=n),zn("ej2_instances",i,e),this.wrapper=s,this.element=e}this.element.id||(this.element.id=Or("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},t.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,i){r.prototype.addItems.call(this,e,i),this.secondaryBtnObj.items=this.items},t.prototype.removeItems=function(e,i){r.prototype.removeItems.call(this,e,i),this.secondaryBtnObj.items=this.items},t.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(eO),this.cssClass&&be([this.wrapper],this.cssClass.replace(/\s+/g," ").trim().split(" "))},t.prototype.createPrimaryButton=function(){this.primaryBtnObj=new Io({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},t.prototype.createSecondaryButton=function(){var e=this,i=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(i),this.secondaryBtnObj=new Jr({cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick,beforeItemRender:function(s){e.createPopupOnClick&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown),e.trigger("beforeItemRender",s)},open:function(s){e.trigger("open",s)},close:function(s){e.trigger("close",s)},select:function(s){e.trigger("select",s)},beforeOpen:function(s){e.createPopupOnClick&&0==e.items.length&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown);var o=new tO;return e.trigger("beforeOpen",s,function(a){o.resolve(a)}),o},beforeClose:function(s){var o=new tO;return e.trigger("beforeClose",s,function(a){o.resolve(a)}),o}}),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(i),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.isPopupCreated=this.secondaryBtnObj.isPopupCreated,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right"),this.disabled&&this.wrapper.classList.add("e-splitbtn-disabled")},t.prototype.setAria=function(){wi(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},t.prototype.getModuleName=function(){return"split-btn"},t.prototype.toggle=function(){this.secondaryBtnObj.toggle()},t.prototype.destroy=function(){var e=this,i=[eO];if(this.cssClass&&(i=i.concat(this.cssClass.split(" "))),this.element){var n=document.getElementById(this.element.id);n&&n.parentElement===this.wrapper&&(this.wrapper.tagName===KR?(this.wrapper.innerHTML="",Ae([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),Ae([this.wrapper],this.cssClass.split(" "))):(Ae([this.element],i),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(s){e.element.removeAttribute(s)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),bn(this.wrapper)),this.unWireEvents())}this.wrapper=null,this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),r.prototype.destroy.call(this),this.element.getAttribute("class")||this.element.removeAttribute("class")},t.prototype.wireEvents=function(){$.add(this.element,"click",this.primaryBtnClickHandler,this),new Fa(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow",enter:"enter"}})},t.prototype.unWireEvents=function(){$.remove(this.element,"click",this.primaryBtnClickHandler),_o(this.element,Fa).destroy()},t.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},t.prototype.btnKeyBoardHandler=function(e){switch(e.action){case"altdownarrow":this.clickHandler(e);break;case"enter":this.clickHandler(e),this.getPopUpElement()&&!this.getPopUpElement().classList.contains("e-popup-close")?(this.element.classList.remove("e-active"),this.secondaryBtnObj.element.classList.add("e-active")):this.secondaryBtnObj.element.classList.remove("e-active")}},t.prototype.onPropertyChanged=function(e,i){var n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(ax(e,n)),n=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(ax(e,n));for(var s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"cssClass":i.cssClass&&Ae([this.wrapper],i.cssClass.split(" ")),be([this.wrapper],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?be([this.wrapper],eO):Ae([this.wrapper],eO);break;case"disabled":e.disabled?be([this.wrapper],"e-splitbtn-disabled"):Ae([this.wrapper],"e-splitbtn-disabled")}},t.prototype.focusIn=function(){this.element.focus()},_h([O("")],t.prototype,"content",void 0),_h([O("")],t.prototype,"cssClass",void 0),_h([O(!1)],t.prototype,"disabled",void 0),_h([O("")],t.prototype,"iconCss",void 0),_h([O("Left")],t.prototype,"iconPosition",void 0),_h([O(!1)],t.prototype,"createPopupOnClick",void 0),_h([Qn([],lx)],t.prototype,"items",void 0),_h([O("")],t.prototype,"target",void 0),_h([Se()],t.prototype,"beforeItemRender",void 0),_h([Se()],t.prototype,"beforeOpen",void 0),_h([Se()],t.prototype,"beforeClose",void 0),_h([Se()],t.prototype,"click",void 0),_h([Se()],t.prototype,"close",void 0),_h([Se()],t.prototype,"open",void 0),_h([Se()],t.prototype,"select",void 0),_h([Se()],t.prototype,"created",void 0),_h([Jn],t)}(Jr),tO=function(){return function r(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}();!function(r){var t,e=!0;function n(st){s(st.floatLabelType,st.element),st.element.addEventListener("focus",function(){var yt=m(this);(yt.classList.contains("e-input-group")||yt.classList.contains("e-outline")||yt.classList.contains("e-filled"))&&yt.classList.add("e-input-focus"),"Auto"===st.floatLabelType&&setTimeout(function(){r.calculateWidth(st.element,yt)},80)}),st.element.addEventListener("blur",function(){var yt=m(this);(yt.classList.contains("e-input-group")||yt.classList.contains("e-outline")||yt.classList.contains("e-filled"))&&yt.classList.remove("e-input-focus"),"Auto"===st.floatLabelType&&""===st.element.value&&setTimeout(function(){r.calculateWidth(st.element,yt)},80)}),st.element.addEventListener("input",function(){s(t,st.element)})}function s(st,yt){var mi=yt.value,qi=yt.parentElement,pn=qi.parentElement;""===mi||v(mi)?"Always"!==st&&(qi&&qi.classList.contains("e-input-group")?qi.classList.remove("e-valid-input"):pn&&pn.classList.contains("e-input-group")&&pn.classList.remove("e-valid-input")):qi&&qi.classList.contains("e-input-group")?qi.classList.add("e-valid-input"):pn&&pn.classList.contains("e-input-group")&&pn.classList.add("e-valid-input")}function o(){var st=m(this).getElementsByClassName("e-float-text")[0];v(st)||(be([st],"e-label-top"),st.classList.contains("e-label-bottom")&&Ae([st],"e-label-bottom"))}function a(){var st=m(this);if(st.getElementsByTagName("textarea")[0]?""===st.getElementsByTagName("textarea")[0].value:""===st.getElementsByTagName("input")[0].value){var yt=st.getElementsByClassName("e-float-text")[0];v(yt)||(yt.classList.contains("e-label-top")&&Ae([yt],"e-label-top"),be([yt],"e-label-bottom"))}}function l(st){st.addEventListener("focus",o),st.addEventListener("blur",a)}function c(st,yt,mi){var qi=v(mi)?Lr:mi;"Auto"===st.floatLabelType&&l(st.element),v(yt.container)?(yt.container=Y(st,"e-float-input","e-float-custom-tag","div",qi),yt.container.classList.add("e-input-group"),st.element.parentNode&&st.element.parentNode.insertBefore(yt.container,st.element)):(v(st.customTag)||yt.container.classList.add("e-float-custom-tag"),yt.container.classList.add("e-float-input"));var pn=qi("span",{className:"e-float-line"}),on=qi("label",{className:"e-float-text"});if(!v(st.element.id)&&""!==st.element.id&&(on.id="label_"+st.element.id.replace(/ /g,"_"),wi(st.element,{"aria-labelledby":on.id})),!v(st.element.placeholder)&&""!==st.element.placeholder&&(on.innerText=X(st.element.placeholder),st.element.removeAttribute("placeholder")),!v(st.properties)&&!v(st.properties.placeholder)&&""!==st.properties.placeholder&&(on.innerText=X(st.properties.placeholder)),on.innerText||yt.container.classList.add("e-no-float-label"),yt.container.classList.contains("e-float-icon-left")){var ds=yt.container.querySelector(".e-input-in-wrap");ds.appendChild(st.element),ds.appendChild(pn),ds.appendChild(on)}else yt.container.appendChild(st.element),yt.container.appendChild(pn),yt.container.appendChild(on);f(st.element.value,on),"Always"===st.floatLabelType&&(on.classList.contains("e-label-bottom")&&Ae([on],"e-label-bottom"),be([on],"e-label-top")),"Auto"===st.floatLabelType&&(st.element.addEventListener("input",function(vc){f(st.element.value,on,st.element)}),st.element.addEventListener("blur",function(vc){f(st.element.value,on)})),v(st.element.getAttribute("id"))||on.setAttribute("for",st.element.getAttribute("id"))}function u(st,yt){"Always"===st&&yt.classList.contains("e-outline")&&yt.classList.add("e-valid-input")}function p(st,yt,mi){v(yt)||(st&&!mi?Ae([yt],"e-clear-icon-hide"):be([yt],"e-clear-icon-hide"))}function f(st,yt,mi){void 0===mi&&(mi=null),st?(be([yt],"e-label-top"),yt.classList.contains("e-label-bottom")&&Ae([yt],"e-label-bottom")):(null==mi||mi!==document.activeElement)&&(yt.classList.contains("e-label-top")&&Ae([yt],"e-label-top"),be([yt],"e-label-bottom"))}function m(st){var yt=v(st.parentNode)?st:st.parentNode;return yt&&yt.classList.contains("e-input-in-wrap")&&(yt=yt.parentNode),yt}function T(st,yt,mi){(void 0===e||e)&&yt.addEventListener("click",function(qi){st.classList.contains("e-disabled")||st.readOnly||(qi.preventDefault(),st!==document.activeElement&&st.focus(),st.value="",be([yt],"e-clear-icon-hide"))}),st.addEventListener("input",function(qi){p(st.value,yt)}),st.addEventListener("focus",function(qi){p(st.value,yt,st.readOnly)}),st.addEventListener("blur",function(qi){setTimeout(function(){v(yt)||(be([yt],"e-clear-icon-hide"),yt=!v(st)&&st.classList.contains("e-combobox")?null:yt)},200)})}function U(st,yt){if(m(st).classList.contains("e-float-input")&&"Auto"===yt){var qi=m(st).getElementsByClassName("e-float-text")[0];f(st.value,qi,st)}}function Y(st,yt,mi,qi,pn){var ds,on=v(pn)?Lr:pn;return v(st.customTag)?ds=on(qi,{className:yt}):(ds=on(st.customTag,{className:yt})).classList.add(mi),ds.classList.add("e-control-wrapper"),ds}function X(st){var yt="";if(!v(st)&&""!==st){var mi=document.createElement("span");mi.innerHTML='<input  placeholder="'+st+'"/>',yt=mi.children[0].placeholder}return yt}function oe(st,yt,mi){!v(mi)&&""!==mi&&Ae(yt,mi.split(" ")),!v(st)&&""!==st&&be(yt,st.split(" "))}function de(st,yt,mi){var qi="multiselect"===mi?st:st.clientWidth-parseInt(getComputedStyle(st,null).getPropertyValue("padding-left"),10);v(yt.getElementsByClassName("e-float-text-content")[0])||(yt.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&yt.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(qi<yt.getElementsByClassName("e-float-text-content")[0].clientWidth||qi===yt.getElementsByClassName("e-float-text-content")[0].clientWidth)&&yt.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}function Ve(st,yt){st=X(st);var mi=m(yt);mi.classList.contains("e-float-input")?v(st)||""===st?(mi.classList.add("e-no-float-label"),mi.getElementsByClassName("e-float-text-content")[0]?mi.getElementsByClassName("e-float-text")[0].children[0].textContent="":mi.getElementsByClassName("e-float-text")[0].textContent=""):(mi.getElementsByClassName("e-float-text-content")[0]?mi.getElementsByClassName("e-float-text")[0].children[0].textContent=st:mi.getElementsByClassName("e-float-text")[0].textContent=st,mi.classList.remove("e-no-float-label"),yt.removeAttribute("placeholder")):v(st)||""===st?yt.removeAttribute("placeholder"):wi(yt,{placeholder:st})}function Ce(st,yt,mi){st?wi(yt,{readonly:""}):yt.removeAttribute("readonly"),v(mi)||U(yt,mi)}function ze(st,yt){st?be(yt,"e-rtl"):Ae(yt,"e-rtl")}function Ie(st,yt,mi,qi){var pn={disabled:"disabled","aria-disabled":"true"},on=!v(qi);st?(yt.classList.remove("e-disabled"),Pe(pn,yt),on&&Ae([qi],"e-disabled")):(yt.classList.add("e-disabled"),Qe(pn,yt),on&&be([qi],"e-disabled")),v(mi)||U(yt,mi)}function pe(st,yt,mi,qi,pn){var on=v(pn)?Lr:pn;st?mi.clearButton=function M(st,yt,mi,qi){var on=(v(qi)?Lr:qi)("span",{className:"e-clear-icon"}),ds=yt.container;return v(mi)?(yt.container.classList.contains("e-float-input")?yt.container.querySelector(".e-float-text"):st).insertAdjacentElement("afterend",on):ds.appendChild(on),be([on],"e-clear-icon-hide"),T(st,on),on.setAttribute("aria-label","close"),on}(yt,mi,qi,on):(bn(mi.clearButton),mi.clearButton=null)}function Pe(st,yt){for(var mi=0,qi=Object.keys(st);mi<qi.length;mi++){var pn=qi[mi],on=m(yt);"disabled"===pn&&yt.classList.remove("e-disabled"),"disabled"===pn&&on.classList.contains("e-input-group")&&on.classList.remove("e-disabled"),"placeholder"===pn&&on.classList.contains("e-float-input")?on.getElementsByClassName("e-float-text")[0].textContent="":yt.removeAttribute(pn)}}function Qe(st,yt){for(var mi=0,qi=Object.keys(st);mi<qi.length;mi++){var pn=qi[mi],on=m(yt);"disabled"===pn&&yt.classList.add("e-disabled"),"disabled"===pn&&on.classList.contains("e-input-group")&&on.classList.add("e-disabled"),"placeholder"===pn&&on.classList.contains("e-float-input")?on.getElementsByClassName("e-float-text")[0].textContent=st[""+pn]:yt.setAttribute(pn,st[""+pn])}}function ut(st,yt){if(st.classList.contains("e-outline")&&st.getElementsByClassName("e-float-text")[0]){var mi=yt("span",{className:"e-float-text-content"});mi.innerHTML=st.getElementsByClassName("e-float-text")[0].innerHTML,st.getElementsByClassName("e-float-text")[0].innerHTML="",st.getElementsByClassName("e-float-text")[0].appendChild(mi)}}function ni(st,yt,mi){var qi=[];qi.push(mi);var pn=v(mi)?yt.querySelectorAll(".e-input-group-icon"):qi;if(st&&pn.length>0)for(var on=0;on<pn.length;on++)pn[parseInt(on.toString())].addEventListener("mousedown",Pi,!1),pn[parseInt(on.toString())].addEventListener("mouseup",Di,!1);else if(pn.length>0)for(on=0;on<pn.length;on++)pn[parseInt(on.toString())].removeEventListener("mousedown",Pi,this),pn[parseInt(on.toString())].removeEventListener("mouseup",Di,this)}function Pi(){for(var yt=this.parentElement;!yt.classList.contains("e-input-group");)yt=yt.parentElement;!function ui(st,yt){!st.classList.contains("e-disabled")&&!st.querySelector("input").readOnly&&yt.classList.add("e-input-btn-ripple")}(yt,this)}function Di(){var st=this;setTimeout(function(){st.classList.remove("e-input-btn-ripple")},500)}function Fi(st,yt){var mi=yt("span",{className:st});return mi.classList.add("e-input-group-icon"),mi}function hn(st,yt,mi,qi){var pn=v(qi)?Lr:qi,on=Fi(st,pn);yt.classList.add("e-float-icon-left");var ds=yt.querySelector(".e-input-in-wrap");if(v(ds)){ds=pn("span",{className:"e-input-in-wrap"}),mi.parentNode.insertBefore(ds,mi);var vc=yt.querySelectorAll(mi.tagName+" ~ *");ds.appendChild(mi);for(var mc=0;mc<vc.length;mc++){var Jf=vc[parseInt(mc.toString())],Kf=ds.parentElement;(!Jf.classList.contains("e-float-line")||(!Kf||!Kf.classList.contains("e-filled"))&&Kf)&&ds.appendChild(Jf)}}return ds.parentNode.insertBefore(on,ds),ni(!0,yt,on),on}function xr(st,yt,mi){var pn=Fi(st,v(mi)?Lr:mi);return(yt.classList.contains("e-float-icon-left")?yt.querySelector(".e-input-in-wrap"):yt).appendChild(pn),ni(!0,yt,pn),pn}function Dn(st,yt){"hidden"===yt.type?st.classList.add("e-hidden"):st.classList.contains("e-hidden")&&st.classList.remove("e-hidden")}r.createInput=function i(st,yt){var mi=v(yt)?Lr:yt,qi={container:null,buttons:[],clearButton:null};if(t=st.floatLabelType,e=st.bindClearAction,v(st.floatLabelType)||"Never"===st.floatLabelType?(qi.container=Y(st,"e-input-group","e-input-custom-tag","span",mi),st.element.parentNode.insertBefore(qi.container,st.element),be([st.element],"e-input"),qi.container.appendChild(st.element)):c(st,qi,mi),n(st),!v(st.properties)&&!v(st.properties.showClearButton)&&st.properties.showClearButton&&(pe(st.properties.showClearButton,st.element,qi,!0,mi),qi.clearButton.setAttribute("role","button"),qi.container.classList.contains("e-float-input")&&be([qi.container],"e-input-group")),!v(st.buttons))for(var pn=0;pn<st.buttons.length;pn++)qi.buttons.push(xr(st.buttons[pn],qi.container,mi));return!v(st.element)&&"TEXTAREA"===st.element.tagName&&be([qi.container],"e-multi-line-input"),Dn(qi.container,st.element),ut((qi=function d(st,yt){if(!v(st.properties))for(var mi=0,qi=Object.keys(st.properties);mi<qi.length;mi++)switch(qi[mi]){case"cssClass":oe(st.properties.cssClass,[yt.container]),u(st.floatLabelType,yt.container);break;case"enabled":Ie(st.properties.enabled,st.element,st.floatLabelType,yt.container);break;case"enableRtl":ze(st.properties.enableRtl,[yt.container]);break;case"placeholder":Ve(st.properties.placeholder,st.element);break;case"readonly":Ce(st.properties.readonly,st.element)}return yt}(st,qi)).container,mi),qi},r.bindInitialEvent=n,r.wireFloatingEvents=l,r.wireClearBtnEvents=T,r.destroy=function P(){},r.setValue=function Q(st,yt,mi,qi){if(yt.value=st,"Auto"===mi&&""===st&&de(yt,yt.parentElement),!v(mi)&&"Auto"===mi&&U(yt,mi),!v(qi)&&qi){var pn=m(yt);if(!v(pn)){var on=pn.getElementsByClassName("e-clear-icon")[0];v(on)||(yt.value&&!v(pn)&&pn.classList.contains("e-input-focus")?Ae([on],"e-clear-icon-hide"):be([on],"e-clear-icon-hide"))}}s(mi,yt)},r.setCssClass=oe,r.calculateWidth=de,r.setWidth=function Me(st,yt){"number"==typeof st?yt.style.width=si(st):"string"==typeof st&&(yt.style.width=st.match(/px|%|em/)?st:si(st)),de(yt.firstChild,yt)},r.setPlaceholder=Ve,r.setReadonly=Ce,r.setEnableRtl=ze,r.setEnabled=Ie,r.setClearButton=pe,r.removeAttributes=Pe,r.addAttributes=Qe,r.removeFloating=function Oe(st){var yt=st.container;if(!v(yt)&&yt.classList.contains("e-float-input")){var mi=yt.querySelector("textarea")?yt.querySelector("textarea"):yt.querySelector("input"),qi=yt.querySelector(".e-float-text").textContent,pn=null!==yt.querySelector(".e-clear-icon");Ot(yt.querySelector(".e-float-line")),Ot(yt.querySelector(".e-float-text")),dl(yt,["e-input-group"],["e-float-input"]),function h(st){st.removeEventListener("focus",o),st.removeEventListener("blur",a)}(mi),wi(mi,{placeholder:qi}),mi.classList.add("e-input"),!pn&&"INPUT"===mi.tagName&&mi.removeAttribute("required")}},r.addFloating=function Ye(st,yt,mi,qi){var pn=v(qi)?Lr:qi,on=Je(st,".e-input-group");if(t=yt,"Never"!==yt){var ds=on.tagName,vc={element:st,floatLabelType:yt,customTag:ds="DIV"!==ds&&"SPAN"!==ds?ds:null,properties:{placeholder:mi}},mc=on.querySelector(".e-clear-icon"),Jf={container:on};st.classList.remove("e-input"),c(vc,Jf,pn),ut(Jf.container,pn),de(vc.element,Jf.container);var Kf=on.classList.contains("e-float-icon-left");if(v(mc)&&(mc=Kf?on.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):on.querySelector(".e-input-group-icon")),v(mc))Kf&&(mc=on.querySelector(".e-input-group-icon"));else{var dTe=on.querySelector(".e-float-line"),pTe=on.querySelector(".e-float-text"),rF=Kf?on.querySelector(".e-input-in-wrap"):on;rF.insertBefore(st,mc),rF.insertBefore(dTe,mc),rF.insertBefore(pTe,mc)}}u(yt,st.parentElement)},r.createSpanElement=ut,r.setRipple=function Xt(st,yt){for(var mi=0;mi<yt.length;mi++)ni(st,yt[parseInt(mi.toString())].container)},r.addIcon=function Mi(st,yt,mi,qi,pn){var on="string"==typeof yt?yt.split(","):yt;if("append"===st.toLowerCase())for(var ds=0,vc=on;ds<vc.length;ds++)xr(vc[ds],mi,pn);else for(var Jf=0,Kf=on;Jf<Kf.length;Jf++)hn(Kf[Jf],mi,qi,pn);mi.getElementsByClassName("e-input-group-icon")[0]&&mi.getElementsByClassName("e-float-text-overflow")[0]&&mi.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},r.prependSpan=hn,r.appendSpan=xr,r.validateInputType=Dn}(vi||(vi={}));var Que=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sa=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},iz="e-input-group-icon",nz="e-spin-up",rz="e-error",dw="increment",cx="decrement",Zue=new RegExp("^(-)?(\\d*)$"),i7="e-input-focus",n7=["title","style","class"],r7=0,iO=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isVue=!1,n.preventChange=!1,n.isAngular=!1,n.isDynamicChange=!1,n.numericOptions=e,n}return Que(t,r),t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=Xe("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),Ae([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=Je(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var i=this.createElement("input"),n=0;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;"id"!==s&&"class"!==s?(i.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML):"class"===s&&i.setAttribute(s,this.element.className.split(" ").filter(function(a){return 0!==a.indexOf("ng-")}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(i),this.element=i,zn("ej2_instances",e,this.element)}wi(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"}),this.l10n=new Go("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Or("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},t.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!v(Je(this.element,"fieldset"))&&Je(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var n=0,s=e?v(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];n<s.length;n++){var o=s[n];if(!v(this.element.getAttribute(o)))switch(o){case"disabled":if(v(this.numericOptions)||void 0===this.numericOptions.enabled||e){var a=!("disabled"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o));this.setProperties({enabled:a},!e)}break;case"readonly":if(v(this.numericOptions)||void 0===this.numericOptions.readonly||e){var l="readonly"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o);this.setProperties({readonly:l},!e)}break;case"placeholder":(v(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(v(this.numericOptions)||void 0===this.numericOptions.value||e){var h=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));this.setProperties(zn(o,h,{}),!e)}break;case"min":if(v(this.numericOptions)||void 0===this.numericOptions.min||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==c&&!isNaN(c)&&this.setProperties(zn(o,c,{}),!e)}break;case"max":if(v(this.numericOptions)||void 0===this.numericOptions.max||e){var u=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==u&&!isNaN(u)&&this.setProperties(zn(o,u,{}),!e)}break;case"step":if(v(this.numericOptions)||void 0===this.numericOptions.step||e){var d=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==d&&!isNaN(d)&&this.setProperties(zn(o,d,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(o);break;case"name":this.inputName=this.element.getAttribute(o);break;default:var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));(null!==p&&!isNaN(p)||"value"===o)&&this.setProperties(zn(o,p,{}),!0)}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new H1(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==Xe("currency",this)&&(zn("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;!v(this.cssClass)&&""!==this.cssClass&&(e=this.getNumericValidClassList(this.cssClass));var i=vi.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&wi(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),wi(this.hiddenInput,this.isAngular&&"EJS-NUMERICTEXTBOX"===this.angularTagName&&this.cloneElement.id.length>0?{name:this.cloneElement.id}:{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&wi(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var i={};if(e)i=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];0===a.indexOf("data")&&this.hiddenInput.setAttribute(a,i[""+a])}},t.prototype.updateHTMLAttrToElement=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];n7.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){vi.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(i))},t.prototype.getNumericValidClassList=function(e){var i=e;return!v(e)&&""!==e&&(i=e.replace(/\s+/g," ").trim()),i},t.prototype.updateHTMLAttrToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(n7.indexOf(n)>-1)if("class"===n){var s=this.getNumericValidClassList(this.htmlAttributes[""+n]);""!==s&&be([this.container],s.split(" "))}else if("style"===n){var o=this.container.getAttribute(n);o=v(o)?this.htmlAttributes[""+n]:o+this.htmlAttributes[""+n],this.container.setAttribute(n,o)}else this.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.setElementWidth=function(e){v(e)||("number"==typeof e?this.container.style.width=si(e):"string"==typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:si(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=vi.appendSpan(iz+" e-spin-down",this.container,this.createElement),wi(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=vi.appendSpan(iz+" "+nz,this.container,this.createElement),wi(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&wi(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&wi(this.element,{"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,i){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(i)},t.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,i){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(i)},t.prototype.checkErrorClass=function(){this.isValidState?Ae([this.container],rz):be([this.container],rz),wi(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&$.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",Je(this.element,"form")){var n=this.element.nextElementSibling,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},t.prototype.resetFormHandler=function(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)},t.prototype.setSpinButton=function(){v(this.spinDown)||wi(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),v(this.spinUp)||wi(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){$.add(this.element,"focus",this.focusHandler,this),$.add(this.element,"blur",this.focusOutHandler,this),$.add(this.element,"keydown",this.keyDownHandler,this),$.add(this.element,"keyup",this.keyUpHandler,this),$.add(this.element,"input",this.inputHandler,this),$.add(this.element,"keypress",this.keyPressHandler,this),$.add(this.element,"change",this.changeHandler,this),$.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&$.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){$.add(this.spinUp,Ue.touchStartEvent,this.mouseDownOnSpinner,this),$.add(this.spinDown,Ue.touchStartEvent,this.mouseDownOnSpinner,this),$.add(this.spinUp,Ue.touchEndEvent,this.mouseUpOnSpinner,this),$.add(this.spinDown,Ue.touchEndEvent,this.mouseUpOnSpinner,this),$.add(this.spinUp,Ue.touchMoveEvent,this.touchMoveOnSpinner,this),$.add(this.spinDown,Ue.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){$.remove(this.element,"focus",this.focusHandler),$.remove(this.element,"blur",this.focusOutHandler),$.remove(this.element,"keyup",this.keyUpHandler),$.remove(this.element,"input",this.inputHandler),$.remove(this.element,"keydown",this.keyDownHandler),$.remove(this.element,"keypress",this.keyPressHandler),$.remove(this.element,"change",this.changeHandler),$.remove(this.element,"paste",this.pasteHandler),this.formEle&&$.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){$.remove(this.spinUp,Ue.touchStartEvent,this.mouseDownOnSpinner),$.remove(this.spinDown,Ue.touchStartEvent,this.mouseDownOnSpinner),$.remove(this.spinUp,Ue.touchEndEvent,this.mouseUpOnSpinner),$.remove(this.spinDown,Ue.touchEndEvent,this.mouseUpOnSpinner),$.remove(this.spinUp,Ue.touchMoveEvent,this.touchMoveOnSpinner),$.remove(this.spinDown,Ue.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,e)},t.prototype.raiseChangeEvent=function(e){if(this.prevValue!==this.value||this.prevValue!==this.inputValue){var i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),ya(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}},t.prototype.pasteHandler=function(){var e=this;if(this.enabled&&!this.readonly){var i=this.element.value;setTimeout(function(){e.numericRegex().test(e.element.value)||e.setElementValue(i)})}},t.prototype.preventHandler=function(){var e=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(e.element.selectionStart>0){var n=e.element.selectionStart,s=e.element.selectionStart-1,a=e.element.value.split(""),h=Xe("decimal",U1(e.locale)),c=h.charCodeAt(0);" "===e.element.value[s]&&e.element.selectionStart>0&&!i?(v(e.prevVal)?e.element.value=e.element.value.trim():0!==s?e.element.value=e.prevVal:0===s&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(s,s)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(a.indexOf(e.element.value[e.element.selectionStart-1])!==a.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===c||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==c)&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length),e.element.setSelectionRange(s,s),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(a.indexOf(e.element.value[e.element.selectionStart-2])!==a.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===c||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==c)&&(e.element.setSelectionRange(s,s),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&(45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(e.element.value=v(e.prevVal)?e.element.value:e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===h&&0===e.decimals&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length))),e.prevVal=e.element.value}})},t.prototype.keyUpHandler=function(){if(this.enabled&&!this.readonly){(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&Ue.isDevice&&this.preventHandler();var i=this.instance.getNumberParser({format:"n"})(this.element.value);if(i=null===i||isNaN(i)?null:i,this.hiddenInput.value=i||0===i?i.toString():null,Je(this.element,"form")){var s=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),s.dispatchEvent(o)}}},t.prototype.inputHandler=function(e){if(this.enabled&&!this.readonly){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||n)&&Ue.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==Xe("decimal",U1(this.locale))&&this.element.value!==Xe("minusSign",U1(this.locale))){var o=this.instance.getNumberParser({format:"n"})(this.element.value);o=isNaN(o)?null:o,this.localChange({value:o}),this.preventChange=!0}if(this.isVue){var a=this.instance.getNumberParser({format:"n"})(this.element.value),l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);(new RegExp("[^0-9]+$").test(this.element.value)||(-1!==this.elementPrevValue.indexOf(".")||-1!==this.elementPrevValue.indexOf("-"))&&"0"===this.element.value[this.element.value.length-1])&&(a=this.value);var c={event:e,value:null===a||isNaN(a)?null:a,previousValue:null===l||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",c)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(dw,e);break;case 40:e.preventDefault(),this.action(cx,e)}},t.prototype.performAction=function(e,i,n){(null===e||isNaN(e))&&(e=0);var s=n===dw?e+i:e-i;return s=this.correctRounding(e,i,s),this.strictMode?this.trimValue(s):s},t.prototype.correctRounding=function(e,i,n){var s=new RegExp("[,.](.*)"),o=s.test(e.toString()),a=s.test(i.toString());if(o||a){var l=o?s.exec(e.toString())[0].length:0,h=a?s.exec(i.toString())[0].length:0,c=Math.max(l,h);return this.roundValue(n,c)}return n},t.prototype.roundValue=function(e,i){i=i||0;var n=Math.pow(10,i);return Math.round(e*=n)/n},t.prototype.updateValue=function(e,i){i&&(this.isInteract=!0),null!==e&&!isNaN(e)&&this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(i)},t.prototype.updateCurrency=function(e,i){zn(e,i,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(e||0===e){var i=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,i)},!0)}else this.setProperties({value:e=null},!0);this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||0===this.value){var e=this.formatNumber(),i=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),wi(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,i){vi.setValue(e,i||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var i,n=new RegExp("[eE][-+]?([0-9]+)"),s=e.toString();if(n.test(s)){var o=n.exec(s);v(o)||(s=e.toFixed(Math.min(parseInt(o[1],10),20)))}var a=s.split(".")[1];return i=a&&a.length?a.length:0,null!==this.decimals&&(i=i<this.decimals?i:this.decimals),i},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,i){var n=e,s=i||0,o=n.toString().split("e"),a=(n=Math.round(+(o[0]+"e"+(o[1]?Number(o[1])+s:s)))).toString().split("e");return n=+(a[0]+"e"+(a[1]?Number(a[1])-s:-s)),Number(n.toFixed(s))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!Ue.isDevice&&"11.0"===Ue.info.version&&13===e.keyCode){var i=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(i,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var n=String.fromCharCode(e.which),s=Xe("decimal",U1(this.locale)),o="NumpadDecimal"===e.code&&n!==s;o&&(n=s);var a=this.element.value;if(a=a.substring(0,this.element.selectionStart)+n+a.substring(this.element.selectionEnd),this.numericRegex().test(a)){if(o){var l=this.element.selectionStart+1;this.element.value=a,this.element.setSelectionRange(l,l),e.preventDefault(),e.stopPropagation()}return!0}return e.preventDefault(),e.stopPropagation(),!1},t.prototype.numericRegex=function(){var i=Xe("decimal",U1(this.locale)),n="*";return"."===i&&(i="\\"+i),0===this.decimals&&this.validateDecimalOnType?Zue:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$"))},t.prototype.mouseWheel=function(e){var i;e.preventDefault(),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i>0?this.action(dw,e):i<0&&this.action(cx,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var i=this;if(clearTimeout(r7),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,Ae([this.container],rz),this.prevValue=this.value,this.value||0===this.value){var n=this.formatNumber();this.setElementValue(n),this.isPrevFocused||(Ue.isDevice||"11.0"!==Ue.info.version?r7=setTimeout(function(){i.element.setSelectionRange(0,n.length)},Ue.isDevice&&Ue.isIos?600:0):this.element.setSelectionRange(0,n.length))}Ue.isDevice||$.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var i=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),Ue.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var s=this.element;setTimeout(function(){i.setElementValue(n,s)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var o=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(o),Ue.isDevice||$.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(Je(this.element,"form")){var l=this.element.nextElementSibling,h=document.createEvent("FocusEvent");h.initEvent("focusout",!1,!0),l.dispatchEvent(h)}}},t.prototype.mouseDownOnSpinner=function(e){var i=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var s=e.currentTarget,o=s.classList.contains(nz)?dw:cx;$.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){i.isCalled=!0,i.action(o,e)},150),$.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var i;if("touchmove"===e.type){var n=e.touches;i=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else i=document.elementFromPoint(e.clientX,e.clientY);i.classList.contains(iz)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),Ue.isDevice||(this.isPrevFocused=!1)),Ue.isDevice||e.preventDefault(),this.getElementData(e)){var i=e.currentTarget,n=i.classList.contains(nz)?dw:cx;if($.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,$.remove(document,"mouseup",this.mouseUpClick),Je(this.element,"form")){var o=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),o.dispatchEvent(a)}}},t.prototype.getElementData=function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))},t.prototype.floatLabelTypeUpdate=function(){vi.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),vi.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&$.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&$.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.increment=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,dw)),this.raiseChangeEvent()},t.prototype.decrement=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,cx)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),Ot(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),Ot(this.spinUp),Ot(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<e.length;i++)this.element.removeAttribute(e[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),Ot(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,vi.destroy(),r.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),be([this.container],[i7]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),Ae([this.container],[i7]))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var o=s[n];switch(o){case"width":this.setElementWidth(e.width),vi.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"enabled":vi.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":vi.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":vi.setReadonly(e.readonly,this.element),this.readonly?wi(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),vi.validateInputType(this.container,this.element);break;case"placeholder":vi.setPlaceholder(e.placeholder,this.element),vi.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":zn(o,Xe(o,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),vi.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var a=Xe(o,e);this.setProperties({currencyCode:a},!0),this.updateCurrency(o,a);break;case"currencyCode":var l=Xe(o,e);this.setProperties({currency:l},!0),this.updateCurrency("currency",l);break;case"format":zn(o,Xe(o,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){vi.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(Ot(this.spinUp),Ot(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},sa([O("")],t.prototype,"cssClass",void 0),sa([O(null)],t.prototype,"value",void 0),sa([O(-Number.MAX_VALUE)],t.prototype,"min",void 0),sa([O(Number.MAX_VALUE)],t.prototype,"max",void 0),sa([O(1)],t.prototype,"step",void 0),sa([O(null)],t.prototype,"width",void 0),sa([O(null)],t.prototype,"placeholder",void 0),sa([O({})],t.prototype,"htmlAttributes",void 0),sa([O(!0)],t.prototype,"showSpinButton",void 0),sa([O(!1)],t.prototype,"readonly",void 0),sa([O(!0)],t.prototype,"enabled",void 0),sa([O(!1)],t.prototype,"showClearButton",void 0),sa([O(!1)],t.prototype,"enablePersistence",void 0),sa([O("n2")],t.prototype,"format",void 0),sa([O(null)],t.prototype,"decimals",void 0),sa([O(null)],t.prototype,"currency",void 0),sa([O(null)],t.prototype,"currencyCode",void 0),sa([O(!0)],t.prototype,"strictMode",void 0),sa([O(!1)],t.prototype,"validateDecimalOnType",void 0),sa([O("Never")],t.prototype,"floatLabelType",void 0),sa([Se()],t.prototype,"created",void 0),sa([Se()],t.prototype,"destroyed",void 0),sa([Se()],t.prototype,"change",void 0),sa([Se()],t.prototype,"focus",void 0),sa([Se()],t.prototype,"blur",void 0),sa([Jn],t)}(Xr),ux=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dr=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},bde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ux(t,r),Dr([O("None")],t.prototype,"placement",void 0),Dr([O(10)],t.prototype,"largeStep",void 0),Dr([O(1)],t.prototype,"smallStep",void 0),Dr([O(!1)],t.prototype,"showSmallTicks",void 0),Dr([O(null)],t.prototype,"format",void 0),t}(ii),Cde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ux(t,r),Dr([O(null)],t.prototype,"color",void 0),Dr([O(null)],t.prototype,"start",void 0),Dr([O(null)],t.prototype,"end",void 0),t}(ii),Sde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ux(t,r),Dr([O(!1)],t.prototype,"enabled",void 0),Dr([O(null)],t.prototype,"minStart",void 0),Dr([O(null)],t.prototype,"minEnd",void 0),Dr([O(null)],t.prototype,"maxStart",void 0),Dr([O(null)],t.prototype,"maxEnd",void 0),Dr([O(!1)],t.prototype,"startHandleFixed",void 0),Dr([O(!1)],t.prototype,"endHandleFixed",void 0),t}(ii),wde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ux(t,r),Dr([O("")],t.prototype,"cssClass",void 0),Dr([O("Before")],t.prototype,"placement",void 0),Dr([O("Focus")],t.prototype,"showOn",void 0),Dr([O(!1)],t.prototype,"isVisible",void 0),Dr([O(null)],t.prototype,"format",void 0),t}(ii),L7=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.horDir="left",n.verDir="bottom",n.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},n.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},n.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",n.customAriaText=null,n.drag=!0,n.isDragComplete=!1,n.initialTooltip=!0,n}return ux(t,r),t.prototype.preRender=function(){this.l10n=new Go("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},t.prototype.formChecker=function(){var e=Je(this.element,"form");e?(this.isForm=!0,v(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!v(this.formResetValue)&&"object"==typeof this.formResetValue?v(this.formResetValue)&&(this.formResetValue=parseFloat(si(this.min))):this.formResetValue=[parseFloat(si(this.min)),parseFloat(si(this.max))],this.formElement=e):this.isForm=!1},t.prototype.initCultureFunc=function(){this.internationalization=new H1(this.locale)},t.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=v(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=v(this.ticks.format)?null:this.ticks.format},t.prototype.formatString=function(e,i){var n=null,s=null;if(e||0===e){n=this.formatNumber(e);var o=this.numberOfDecimals(e);s=this.internationalization.getNumberFormat(i)(this.makeRoundNumber(e,o))}return{elementVal:n,formatString:s}},t.prototype.formatNumber=function(e){var i=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:i,minimumFractionDigits:i,useGrouping:!1})(e)},t.prototype.numberOfDecimals=function(e){var i=e.toString().split(".")[1];return i&&i.length?i.length:0},t.prototype.makeRoundNumber=function(e,i){return Number(e.toFixed(i||0))},t.prototype.fractionalToInteger=function(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;for(var i=1,n=0;n<this.noOfDecimals;n++)i*=10;return Number((e*i).toFixed(0))},t.prototype.render=function(){var e=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout(function(){e.refresh()},0)},t.prototype.initialize=function(){be([this.element],"e-slider"),this.setCSSClass()},t.prototype.setElementWidth=function(e){!v(e)&&!v(this.sliderContainer)&&("number"==typeof e?this.sliderContainer.style.width=si(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:si(e)))},t.prototype.setCSSClass=function(e){e&&Ae([this.element],e.split(" ")),this.cssClass&&be([this.element],this.cssClass.split(" "))},t.prototype.setEnabled=function(){this.enabled?(Ae([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(be([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())},t.prototype.getTheme=function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")},t.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:v(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=v(this.value)?parseFloat(si(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(si(this.value.toString()))):[this.checkHandleValue(parseFloat(si(this.value[0].toString()))),this.checkHandleValue(parseFloat(si(this.value[1].toString())))],this.previousChanged=this.previousVal,v(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?Ae([this.sliderContainer],["e-disabled"]):be([this.sliderContainer],["e-disabled"]),this.readonly?be([this.sliderContainer],["e-read-only"]):Ae([this.sliderContainer],["e-read-only"])},t.prototype.getThemeInitialization=function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isMaterial3="Material3"===this.getTheme(this.sliderContainer)||"Material3-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isFluent="FluentUI"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=(this.isMaterial||this.isMaterial3)&&"Range"!==this.type&&this.tooltip.isVisible},t.prototype.createRangeBar=function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))},t.prototype.createLimitBar=function(){var e="Range"!==this.type?"e-limit-bar":"e-limit-first";this.limitBarFirst=this.createElement("div",{attrs:{class:e+=" e-limits"}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))},t.prototype.setOrientClass=function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))},t.prototype.setAriaAttributes=function(e){var i=this,n=this.min,s=this.max;!v(this.customValues)&&this.customValues.length>0&&(n=this.customValues[0],s=this.customValues[this.customValues.length-1]),"Range"!==this.type?wi(e,{"aria-valuemin":n.toString(),"aria-valuemax":s.toString()}):(!v(this.customValues)&&this.customValues.length>0?[[n.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),s.toString()]]:[[n.toString(),this.value[1].toString()],[this.value[0].toString(),s.toString()]]).forEach(function(a,l){var h=0===l?i.firstHandle:i.secondHandle;h&&wi(h,{"aria-valuemin":a[0],"aria-valuemax":a[1]})})},t.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0","aria-label":"slider"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)},t.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0","aria-label":"slider"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))},t.prototype.wireFirstHandleEvt=function(e){e?($.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),$.remove(this.firstHandle,"transitionend",this.transitionEnd),$.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),$.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):($.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),$.add(this.firstHandle,"transitionend",this.transitionEnd,this),$.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),$.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.wireSecondHandleEvt=function(e){e?($.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),$.remove(this.secondHandle,"transitionend",this.transitionEnd),$.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),$.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):($.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),$.add(this.secondHandle,"transitionend",this.transitionEnd,this),$.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),$.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.handleStart=function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))},t.prototype.transitionEnd=function(e){"transform"!==e.propertyName&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),"Default"!==this.type&&(this.rangeBar.style.transition="none"),(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},t.prototype.handleFocusOut=function(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")},t.prototype.handleFocus=function(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?(this.firstHandle.classList.add("e-handle-focused"),this.firstHandle.classList.add("e-tab-handle")):(this.secondHandle.classList.add("e-handle-focused"),this.secondHandle.classList.add("e-tab-handle")),$.add(document,"mousemove touchmove",this.sliderBarMove,this),$.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.handleOver=function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())},t.prototype.handleLeave=function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&!e.currentTarget.classList.contains("e-handle-focused")&&!e.currentTarget.classList.contains("e-tab-handle")&&this.closeTooltip()},t.prototype.setHandler=function(){this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()},t.prototype.setEnableRTL=function(){this.enableRtl&&"Vertical"!==this.orientation?be([this.sliderContainer],"e-rtl"):Ae([this.sliderContainer],"e-rtl");var e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&($i(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&$i(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},t.prototype.tooltipValue=function(){var i,e=this,n={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),n.text=i="function"==typeof this.tooltipObj.content?this.tooltipObj.content():this.tooltipObj.content,this.trigger("tooltipChange",n,function(s){e.addTooltipClass(s.text),i!==s.text&&(e.customAriaText=s.text,s.text=e.enableHtmlSanitizer?Ms.sanitize(s.text.toString()):s.text.toString(),e.tooltipObj.content=Ed(function(){return s.text}),e.setAriaAttrValue(e.firstHandle),"Range"===e.type&&e.setAriaAttrValue(e.secondHandle))}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},t.prototype.setTooltipContent=function(){var e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=Ed(function(){return e})},t.prototype.formatContent=function(e,i){var n="",s=this.handleVal1,o=this.handleVal2;return!v(this.customValues)&&this.customValues.length>0&&(s=this.customValues[this.handleVal1],o=this.customValues[this.handleVal2]),i?("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?v(this.tooltip)||v(this.tooltip.format)?o.toString()+" - "+s.toString():this.formatString(o,e).elementVal+" - "+this.formatString(s,e).elementVal:v(this.tooltip)||v(this.tooltip.format)?s.toString()+" - "+o.toString():this.formatString(s,e).elementVal+" - "+this.formatString(o,e).elementVal:v(s)||(n=v(this.tooltip)||v(this.tooltip.format)?s.toString():this.formatString(s,e).elementVal),n):("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?v(e.format)?o.toString()+" - "+s.toString():this.formatString(o,e).formatString+" - "+this.formatString(s,e).formatString:v(e.format)?s.toString()+" - "+o.toString():this.formatString(s,e).formatString+" - "+this.formatString(o,e).formatString:v(s)||(n=v(e.format)?s.toString():this.formatString(s,e).formatString),n)},t.prototype.addTooltipClass=function(e){if(this.isMaterialTooltip){var n,i=e.toString().length;this.tooltipElement?(this.tooltipElement.classList.remove((n=i>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"}).oldCss),this.tooltipElement.classList.contains(n.newCss)||(this.tooltipElement.classList.add(n.newCss),this.tooltipElement.style.transform=i>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)):this.tooltipObj.cssClass="e-slider-tooltip "+(n=i>4?"e-material-range":"e-material-default")}},t.prototype.tooltipPlacement=function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"},t.prototype.tooltipBeforeOpen=function(e){this.tooltipElement=e.element,this.tooltip.cssClass&&be([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(function(i){return i})),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())},t.prototype.tooltipCollision=function(e){if(this.isBootstrap||this.isBootstrap4||(this.isMaterial||this.isMaterial3)&&!this.isMaterialTooltip){var i=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-i},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:i},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-i},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:i},!1)}}},t.prototype.materialTooltipEventCallBack=function(e){this.sliderBarClick(e),$.add(document,"mousemove touchmove",this.sliderBarMove,this),$.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.wireMaterialTooltipEvent=function(e){this.isMaterialTooltip&&(e?$.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):$.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},t.prototype.tooltipPositionCalculation=function(e){var i;switch(e){case"TopCenter":i="e-slider-horizontal-before";break;case"BottomCenter":i="e-slider-horizontal-after";break;case"LeftCenter":i="e-slider-vertical-before";break;case"RightCenter":i="e-slider-vertical-after"}return i},t.prototype.getTooltipTransformProperties=function(e){var i;if(this.tooltipElement){var n="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;i="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:"translateY("+n+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-n+"px)"}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:"translateX("+n+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-n+"px)"}}return i},t.prototype.openMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var i=this.tooltipElement.firstElementChild;i.classList.remove("e-material-tooltip-hide"),i.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=i.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition=e.transition.handle)},2500):setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},t.prototype.closeMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){var i=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,i.classList.remove("e-material-tooltip-show"),i.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},t.prototype.checkTooltipPosition=function(e){var i=this.tooltipPositionCalculation(e.collidedPosition);(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(i))&&(this.isMaterialTooltip&&(void 0!==i&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(i),this.previousTooltipClass=i),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()},t.prototype.setTooltipTransform=function(){var e=this.getTooltipTransformProperties(this.previousTooltipClass);v(this.tooltipElement)||(this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?e.translate+" scale(0.01)":e.translate+" "+e.rotate+" scale(0.01)")},t.prototype.renderTooltip=function(){this.tooltipObj=new Gu({showTipPointer:this.isBootstrap||this.isMaterial||this.isMaterial3||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent,cssClass:"e-slider-tooltip",height:this.isMaterial||this.isMaterial3?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},t.prototype.initializeTooltipProps=function(){this.setProperties({tooltip:{showOn:"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(function(i){v(i)||(i.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},t.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},t.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},t.prototype.buttonTitle=function(){var e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var i=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");wi(e?this.secondBtn:this.firstBtn,{"aria-label":i,title:i}),wi(e?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})},t.prototype.buttonFocusOut=function(){(this.isMaterial||this.isMaterial3)&&this.getHandle().classList.remove("e-large-thumb-size")},t.prototype.repeatButton=function(e){var s,i=this.handleValueUpdate(),n=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?s=this.add(i,parseFloat(this.step.toString()),!!n):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(s=this.add(i,parseFloat(this.step.toString()),!n)),this.limits.enabled&&(s=this.getLimitCorrectedValues(s)),s>=this.min&&s<=this.max&&(this.changeHandleValue(s),this.tooltipToggle(this.getHandle()))},t.prototype.repeatHandlerMouse=function(e){e.preventDefault(),("mousedown"===e.type||"touchstart"===e.type)&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))},t.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},t.prototype.focusHandle=function(){this.getHandle().classList.contains("e-tab-handle")||this.getHandle().classList.add("e-tab-handle")},t.prototype.repeatHandlerUp=function(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},t.prototype.customTickCounter=function(e){var i=4;return!v(this.customValues)&&this.customValues.length>0&&(e>4&&(i=3),e>7&&(i=2),e>14&&(i=1),e>28&&(i=0)),i},t.prototype.renderScale=function(){var e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",Ue.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");var i=this.ticks.smallStep;this.ticks.showSmallTicks?i<=0&&(i=parseFloat(si(this.step))):i=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(si(this.max))-parseFloat(si(this.min));var n=this.fractionalToInteger(this.min),s=this.fractionalToInteger(this.max),o=this.fractionalToInteger(i),a=!v(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,l=this.customTickCounter(a),h=!v(this.customValues)&&this.customValues.length>0?a*l+a:Math.abs((s-n)/o);this.element.appendChild(this.ul);var c,u=parseFloat(this.min.toString());"v"===e&&(u=parseFloat(this.max.toString()));var p,d=0,f=100/h;f===1/0&&(f=5);for(var m=0,M=!v(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,T=0;m<=h;m++){if(c=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!v(this.customValues)&&this.customValues.length>0)(p=m%(l+1)==0)&&("h"===e?(u=this.customValues[T],T++):(u=this.customValues[M],M--),c.setAttribute("title",u.toString()));else if(c.setAttribute("title",u.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))p="h"===e?(u-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(u-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{var P=this.fractionalToInteger(this.ticks.largeStep),U=this.fractionalToInteger(u);p="h"===e?(U-n)%P==0:Math.abs(U-parseFloat(s.toString()))%P==0}p&&c.classList.add("e-large"),"h"===e?c.style.width=f+"%":c.style.height=f+"%";var Y=p?"Both"===this.ticks.placement?2:1:0;if(p)for(var X=0;X<Y;X++)this.createTick(c,u,f);else v(this.customValues)&&this.formatTicksValue(c,u);this.ul.appendChild(c),this.tickElementCollection.push(c);var Q=void 0;v(this.customValues)&&(Q=this.numberOfDecimals(i)>this.numberOfDecimals(u)?this.numberOfDecimals(i):this.numberOfDecimals(u),u=this.makeRoundNumber("h"===e||this.min>this.max?u+i:u-i,Q),d=this.makeRoundNumber(d+i,Q))}this.ticksAlignment(e,f)},t.prototype.ticksAlignment=function(e,i,n){void 0===n&&(n=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=i/2+"%",this.lastChild.style.width=i/2+"%"):(this.firstChild.style.height=i/2+"%",this.lastChild.style.height=i/2+"%"),n&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()},t.prototype.createTick=function(e,i,n){var s=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(s),v(this.customValues)?this.formatTicksValue(e,i,s,n):s.innerHTML=this.enableHtmlSanitizer?Ms.sanitize(i.toString()):i.toString()},t.prototype.formatTicksValue=function(e,i,n,s){var o=this,a=this.formatNumber(i),l=v(this.ticks)||v(this.ticks.format)?a:this.formatString(i,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:i,text:l,tickElement:e},function(c){e.setAttribute("title",c.text.toString()),n&&(n.innerHTML=o.enableHtmlSanitizer?Ms.sanitize(c.text.toString()):c.text.toString())})},t.prototype.scaleAlignment=function(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")},t.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var i,n,e=this.firstChild.getBoundingClientRect(),s=this.ticks.smallStep,o=Math.abs(parseFloat(si(this.max))-parseFloat(si(this.min)))/s;this.firstChild.children.length>0&&(i=this.firstChild.children[0].getBoundingClientRect());var l,a=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];l=[].slice.call(a[0],"Both"===this.ticks.placement?2:1);for(var h="Vertical"===this.orientation?2*e.height:2*e.width,c=0;c<this.firstChild.children.length;c++)"Vertical"===this.orientation?this.firstChild.children[c].style.top=-i.height/2+"px":this.firstChild.children[c].style.left=this.enableRtl?(h-this.firstChild.children[c].getBoundingClientRect().width)/2+"px":-i.width/2+"px";for(c=0;c<l.length;c++)n=l[c].getBoundingClientRect(),$i(l[c],"Vertical"===this.orientation?{top:(h-n.height)/2+"px"}:{left:(h-n.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==o&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===o&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))},t.prototype.setAriaAttrValue=function(e){var i,n=!v(this.ticks)&&!v(this.ticks.format),s=this.formatContent(n?this.tooltipFormatInfo:this.ticksFormatInfo,!1),o=this.formatContent(n?this.ticksFormatInfo:this.tooltipFormatInfo,!0);i=2===(s=this.customAriaText?this.customAriaText:s).split(" - ").length?s.split(" - "):[s,s],this.setAriaAttributes(e),wi(e,"Range"!==this.type?{"aria-valuenow":o,"aria-valuetext":s}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":i[1]}:{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":i[0]}:e===this.firstHandle?{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":i[0]}:{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":i[1]})},t.prototype.handleValueUpdate=function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1},t.prototype.getLimitCorrectedValues=function(e){return"MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]},t.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},t.prototype.buttonClick=function(e){this.focusSliderElement();var i,n=this.enableRtl&&"Vertical"!==this.orientation,s=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?i=this.add(s,parseFloat(this.step.toString()),!!n):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?i=this.add(s,parseFloat(this.step.toString()),!n):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!n):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!!n):36===e.keyCode?i=parseFloat(this.min<this.max?this.min.toString():this.max.toString()):35===e.keyCode&&(i=parseFloat(this.min<this.max?this.max.toString():this.min.toString())),this.limits.enabled&&(i=this.getLimitCorrectedValues(i)),this.changeHandleValue(i),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),e.currentTarget.classList.contains("e-first-button")&&$.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&$.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},t.prototype.tooltipToggle=function(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)},t.prototype.buttonUp=function(e){e.currentTarget.classList.contains("e-first-button")&&$.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&$.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},t.prototype.setRangeBar=function(){"Horizontal"!==this.orientation||v(this.rangeBar)?v(this.rangeBar)||("MinRange"===this.type?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",$i(this.rangeBar,{height:v(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",$i(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))):"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",$i(this.rangeBar,{width:v(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",$i(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))},t.prototype.checkValidValueAndPos=function(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)},t.prototype.setLimitBarPositions=function(e,i,n,s){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=i-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=i-e+"px"):(this.limitBarFirst.style.bottom=(this.min<this.max?e:i)+"px",this.limitBarFirst.style.height=(this.min<this.max?i-e:e-i)+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=s-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=s-n+"px"):(this.limitBarSecond.style.bottom=(this.min<this.max?n:s)+"px",this.limitBarSecond.style.height=(this.min<this.max?s-n:n-s)+"px"))},t.prototype.setLimitBar=function(){if("Default"===this.type||"MinRange"===this.type){var e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i),this.setLimitBarPositions(e,i)}else if("Range"===this.type){var n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var s=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];s=this.checkValidValueAndPos(s);var o=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o);var a=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];a=this.checkValidValueAndPos(a),this.setLimitBarPositions(n,s,o,a)}},t.prototype.getLimitValueAndPosition=function(e,i,n,s){return v(i)&&(i=this.min<this.max?this.min:this.max,v(e)&&s&&(e=i)),v(n)&&(n=this.min<this.max?this.max:this.min,v(e)&&s&&(e=n)),e<i&&(e=i),e>n&&(e=n),[e,this.checkHandlePosition(e)]},t.prototype.setValue=function(){if(!v(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=v(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=v(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},t.prototype.rangeValueUpdate=function(){(null===this.value||"object"!=typeof this.value)&&(this.value=[parseFloat(si(this.min)),parseFloat(si(this.max))])},t.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},t.prototype.modifyZindex=function(){"Range"!==this.type||v(this.firstHandle)||v(this.secondHandle)?this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=zf(this.element)+""):1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+"")},t.prototype.setHandlePosition=function(e){var n,i=this,s=1===this.activeHandle?this.handlePos1:this.handlePos2;n=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),n.forEach(function(o){"Horizontal"===i.orientation?i.enableRtl?o.style.right=s+"px":o.style.left=s+"px":o.style.bottom=s+"px"}),this.changeEvent("change",e)},t.prototype.getHandle=function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle},t.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},t.prototype.changeEvent=function(e,i){var n="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),n!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,i)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{var s=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:s},!0),(n.length===this.value.length&&this.value[0]!==n[0]||this.value[1]!==n[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,i)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},t.prototype.changeEventArgs=function(e,i){var n;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:"function"==typeof this.tooltipObj.content?this.tooltipObj.content():this.tooltipObj.content,isInteracted:!v(i)}):n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:v(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!v(i)},n},t.prototype.setPreviousVal=function(e,i){"change"===e?this.previousVal=i:this.previousChanged=i},t.prototype.updateRangeValue=function(){var e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.min<this.max&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.min>this.max&&this.handlePos1<this.handlePos2&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var i=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=i[0],this.handlePos1=i[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,i=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=i[0],this.handlePos2=i[1],this.preHandlePos2=this.handlePos2}},t.prototype.checkHandlePosition=function(e){var i;return e=100*(e-parseFloat(si(this.min)))/(parseFloat(si(this.max))-parseFloat(si(this.min))),i="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(si(this.max))===parseFloat(si(this.min))&&(i="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),i},t.prototype.checkHandleValue=function(e){if(this.min===this.max)return parseFloat(si(this.max));var i=this.tempStartEnd();return e<i.start?e=i.start:e>i.end&&(e=i.end),e},t.prototype.reposition=function(){var e=this;v(this.firstHandle)||(this.firstHandle.style.transition="none"),"Default"!==this.type&&!v(this.rangeBar)&&(this.rangeBar.style.transition="none"),"Range"===this.type&&!v(this.secondHandle)&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&!v(this.materialHandle)&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),"MinRange"!==this.type||v(this.rangeBar)?"Range"===this.type&&!v(this.secondHandle)&&!v(this.rangeBar)&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",$i(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",$i(this.rangeBar,{width:v(this.handlePos1)?0:this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),"MinRange"===this.type?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",$i(this.rangeBar,{height:v(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",$i(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(function(){v(e.firstHandle)||(e.firstHandle.style.transition=e.scaleTransform),"Range"===e.type&&!v(e.secondHandle)&&(e.secondHandle.style.transition=e.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},t.prototype.changeHandleValue=function(e){var i=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&(this.handlePos1>this.handlePos2&&this.min<this.max||this.handlePos1<this.handlePos2&&this.min>this.max)&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(i=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&(this.handlePos2<this.handlePos1&&this.min<this.max||this.handlePos2>this.handlePos1&&this.min>this.max)&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(i=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==i&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))},t.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},t.prototype.xyToPosition=function(e){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var n=e.x-this.element.getBoundingClientRect().left;this.val=n/(this.element.offsetWidth/100)}else{var o=e.y-this.element.getBoundingClientRect().top;this.val=100-o/(this.element.offsetHeight/100)}var a=this.stepValueCalculation(this.val);return a<0?a=0:a>100&&(a=100),this.enableRtl&&"Vertical"!==this.orientation&&(a=100-a),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(a/100):this.element.getBoundingClientRect().height*(a/100)},t.prototype.stepValueCalculation=function(e){0===this.step&&(this.step=1);var i=parseFloat(si(this.step))/((parseFloat(si(this.max))-parseFloat(si(this.min)))/100),n=e%Math.abs(i);return 0!==n&&(i/2>n?e-=n:e+=Math.abs(i)-n),e},t.prototype.add=function(e,i,n){var o=Math.pow(10,3);return n?(Math.round(e*o)+Math.round(i*o))/o:(Math.round(e*o)-Math.round(i*o))/o},t.prototype.positionToValue=function(e){var i,n=parseFloat(si(this.max))-parseFloat(si(this.min));return i="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*n:e/this.element.getBoundingClientRect().height*n,this.add(i,parseFloat(this.min.toString()),!0)},t.prototype.sliderBarClick=function(e){var i;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?i={x:e.clientX,y:e.clientY}:("touchend"===e.type||"touchstart"===e.type)&&(i={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var n=this.xyToPosition(i),s=this.positionToValue(n);if("Range"===this.type&&(this.min<this.max&&this.handlePos2-n<n-this.handlePos1||this.min>this.max&&this.handlePos1-n>n-this.handlePos2))this.activeHandle=2,this.limits.enabled&&this.limits.endHandleFixed||(this.limits.enabled&&(s=(o=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd))[0],n=o[1]),this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=n,this.handleVal2=s),this.modifyZindex(),this.secondHandle.focus();else{var o;if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed)this.limits.enabled&&(s=(o=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd))[0],n=o[1]),this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=n,this.handleVal1=s;this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");var a=this.element.querySelector(".e-tab-handle");a&&this.getHandle()!==a&&a.classList.remove("e-tab-handle");var h,l=1===this.activeHandle?this.firstHandle:this.secondHandle;if("click"!==e.type&&"mousedown"!==e.type||e.target!==l||(h=document.elementFromPoint(e.clientX,e.clientY)),e.target===l&&h!=l)return(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(s)){var d=(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=d.handle,"Default"!==this.type&&(this.rangeBar.style.transition=d.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),e.target!=l&&this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}},t.prototype.handleValueAdjust=function(e,i,n){1===n?(this.handleVal1=i,this.handleVal2=this.handleVal1+this.minDiff):2===n&&(this.handleVal2=i,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},t.prototype.dragRangeBarMove=function(e){var i,n,s,o,a;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none","mousemove"===e.type?(o=(i=[e.clientX,e.clientY])[0],a=i[1]):(o=(n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],a=n[1]),!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(s=this.enableRtl?{x:o+this.secondPartRemain,y:a+this.secondPartRemain}:{x:o-this.firstPartRemain,y:a+this.secondPartRemain},this.min>this.max?(this.handlePos2=this.xyToPosition(s),this.handleVal2=this.positionToValue(this.handlePos2)):(this.handlePos1=this.xyToPosition(s),this.handleVal1=this.positionToValue(this.handlePos1)),s=this.enableRtl?{x:o-this.firstPartRemain,y:a-this.firstPartRemain}:{x:o+this.secondPartRemain,y:a-this.firstPartRemain},this.min>this.max?(this.handlePos1=this.xyToPosition(s),this.handleVal1=this.positionToValue(this.handlePos1)):(this.handlePos2=this.xyToPosition(s),this.handleVal2=this.positionToValue(this.handlePos2)),this.limits.enabled){var l=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=l[0],this.handlePos1=l[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),l=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=l[0],this.handlePos2=l[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===(this.min>this.max?this.min:this.max)&&this.handleValueAdjust(this.handleVal2,this.min>this.max?this.min:this.max,2),this.handleVal1===(this.min>this.max?this.max:this.min)&&this.handleValueAdjust(this.handleVal1,this.min>this.max?this.max:this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()},t.prototype.sliderBarUp=function(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove("e-handle-active")),this.closeTooltip(),(this.isMaterial||this.isMaterial3)&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),$.remove(document,"mousemove touchmove",this.sliderBarMove),$.remove(document,"mouseup touchend",this.sliderBarUp)},t.prototype.sliderBarMove=function(e){"touchmove"!==e.type&&e.preventDefault();var n=this.xyToPosition("mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}),s=this.positionToValue(n);if(n=Math.round(n),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var o=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);n=o[1],s=o[0]}this.handlePos1=n,this.handleVal1=s}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle)this.firstHandle.classList.add("e-handle-active"),this.limits.enabled&&this.limits.startHandleFixed||((this.min<this.max&&n>this.handlePos2||this.min>this.max&&n<this.handlePos2)&&(n=this.handlePos2,s=this.handleVal2),n===this.preHandlePos1)||(this.limits.enabled&&(s=(a=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd))[0],n=a[1]),this.handlePos1=this.preHandlePos1=n,this.handleVal1=s,this.activeHandle=1);else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||((this.min<this.max&&n<this.handlePos1||this.min>this.max&&n>this.handlePos1)&&(n=this.handlePos1,s=this.handleVal1),n===this.preHandlePos2)))){var a;this.limits.enabled&&(s=(a=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd))[0],n=a[1]),this.handlePos2=this.preHandlePos2=n,this.handleVal2=s,this.activeHandle=2}this.checkRepeatedValue(s)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())},t.prototype.dragRangeBarUp=function(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),$.remove(document,"mousemove touchmove",this.dragRangeBarMove),$.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},t.prototype.checkRepeatedValue=function(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1},t.prototype.refreshTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))},t.prototype.openTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)},t.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},t.prototype.keyDown=function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}},t.prototype.wireButtonEvt=function(e){e?($.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),$.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),$.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),$.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),$.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),$.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),$.remove(this.firstBtn,"focusout",this.sliderFocusOut),$.remove(this.secondBtn,"focusout",this.sliderFocusOut)):($.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),$.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),$.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),$.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),$.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),$.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),$.add(this.firstBtn,"focusout",this.sliderFocusOut,this),$.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},t.prototype.rangeBarMousedown=function(e){var i,n;if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){var s=void 0,o=void 0;"mousedown"===e.type?(s=(i=[e.clientX,e.clientY])[0],o=i[1]):"touchstart"===e.type&&(s=(n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],o=n[1]),"Horizontal"===this.orientation?(this.firstPartRemain=s-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-s):(this.firstPartRemain=o-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-o),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var a=this.element.querySelector(".e-tab-handle");a&&a.classList.remove("e-tab-handle"),$.add(document,"mousemove touchmove",this.dragRangeBarMove,this),$.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},t.prototype.elementClick=function(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e),this.focusHandle())},t.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&($.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&$.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),$.add(this.sliderContainer,"keydown",this.keyDown,this),$.add(this.sliderContainer,"keyup",this.keyUp,this),$.add(this.element,"focusout",this.sliderFocusOut,this),$.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&$.add(this.formElement,"reset",this.formResetHandler,this))},t.prototype.unwireEvents=function(){$.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&$.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),$.remove(this.sliderContainer,"keydown",this.keyDown),$.remove(this.sliderContainer,"keyup",this.keyUp),$.remove(this.element,"focusout",this.sliderFocusOut),$.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),$.remove(this.element,"reset",this.formResetHandler)},t.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},t.prototype.keyUp=function(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");var i=e.target.parentElement;i===this.element&&(i.querySelector(".e-slider-track").classList.add("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&i.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)},t.prototype.hover=function(e){if(!v(e))if("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type)this.sliderContainer.classList.add("e-slider-hover");else{this.sliderContainer.classList.remove("e-slider-hover");var i=e.currentTarget;this.tooltip.isVisible&&"Always"!==this.tooltip.showOn&&this.tooltipObj&&this.isMaterialTooltip&&!i.classList.contains("e-handle-focused")&&!i.classList.contains("e-tab-handle")&&this.closeMaterialTooltip()}},t.prototype.sliderFocusOut=function(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&this.element.querySelector(".e-tab-range")&&this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},t.prototype.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.prototype.changeSliderType=function(e,i){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!v(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?v(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):v(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==i&&this.updateConfig()},t.prototype.changeRtl=function(){if(!this.enableRtl&&"Range"===this.type&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var e=this.enableRtl&&"Vertical"!==this.orientation;wi(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),wi(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},t.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},t.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},t.prototype.limitsPropertyChange=function(){this.limits.enabled?(v(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),v(this.limitBarFirst)&&v(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(v(this.limitBarFirst)||Ot(this.limitBarFirst),v(this.limitBarSecond)||Ot(this.limitBarSecond))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),Ae([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),Ot(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML="",this.hiddenInput=null,this.sliderContainer=null,this.sliderTrack=null,this.rangeBar=null,this.firstHandle=null,this.secondHandle=null,this.tickElementCollection=null,this.ul=null,this.firstBtn=null,this.secondBtn=null,this.materialHandle=null,this.tooltipObj=null,this.tooltipTarget=null,this.limitBarFirst=null,this.limitBarSecond=null,this.firstChild=null,this.lastChild=null,this.tooltipElement=null},t.prototype.onPropertyChanged=function(e,i){for(var n=this,s=0,o=Object.keys(e);s<o.length;s++){var a=o[s];switch(a){case"cssClass":this.setCSSClass(i.cssClass);break;case"value":if(e&&i){var l=v(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:l},!0),!v(i.value)&&i.value.toString()!==l.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=v(e.value)||i.value[1]===l[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!v(e.tooltip)&&!v(i.tooltip)&&(this.setTooltip(a),this.showButtons||this.wireEvents());break;case"type":!v(i)&&Object.keys(i).length&&!v(i.type)&&(this.changeSliderType(i.type,a),this.setZindex());break;case"enableRtl":i.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=i.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":v(this.sliderContainer.querySelector(".e-scale"))||(Ot(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(h){h.match(/e-scale-/)&&n.sliderContainer.classList.remove(h)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}},t.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))},t.prototype.setMinMaxValue=function(){var e=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),v(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(Ot(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(i){i.match(/e-scale-/)&&e.sliderContainer.classList.remove(i)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())},t.prototype.setZindex=function(){this.zIndex=6,!v(this.ticks)&&"None"!==this.ticks.placement&&!v(this.ul)&&!v(this.element)&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!this.isMaterial3&&!v(this.ticks)&&"Both"===this.ticks.placement&&(this.element.style.zIndex=this.zIndex+2+""),v(this.firstHandle)||(this.firstHandle.style.zIndex=this.zIndex+3+""),"Range"===this.type&&!v(this.secondHandle)&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},t.prototype.setTooltip=function(e){this.changeSliderType(this.type,e)},t.prototype.setBarColor=function(){for(var e,i,n=this.sliderTrack.lastElementChild;n;)this.sliderTrack.removeChild(n),n=this.sliderTrack.lastElementChild;for(var s=0;s<this.colorRange.length;s++)if(!v(this.colorRange[s].start)&&!v(this.colorRange[s].end)&&this.colorRange[s].end>this.colorRange[s].start){this.colorRange[s].start<this.min&&(this.colorRange[s].start=this.min),this.colorRange[s].end>this.max&&(this.colorRange[s].end=this.max);var o=this.checkHandlePosition(this.colorRange[s].start),a=this.checkHandlePosition(this.colorRange[s].end),l=this.createElement("div");l.style.backgroundColor=this.colorRange[s].color,l.style.border="1px solid "+this.colorRange[s].color,"Horizontal"===this.orientation?(i="e-slider-horizantal-color",e=this.enableRtl?v(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[s].end):this.checkHandlePosition(this.customValues.length-this.colorRange[s].end-1):this.checkHandlePosition(this.colorRange[s].start),l.style.width=a-o+"px",l.style.left=e+"px"):(i="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[s].start),l.style.height=a-o+"px",l.style.bottom=e+"px"),l.classList.add(i),this.sliderTrack.appendChild(l)}},t.prototype.getModuleName=function(){return"slider"},Dr([O(null)],t.prototype,"value",void 0),Dr([O(null)],t.prototype,"customValues",void 0),Dr([O(1)],t.prototype,"step",void 0),Dr([O(null)],t.prototype,"width",void 0),Dr([O(0)],t.prototype,"min",void 0),Dr([O(100)],t.prototype,"max",void 0),Dr([O(!1)],t.prototype,"readonly",void 0),Dr([O("Default")],t.prototype,"type",void 0),Dr([Qn([{}],Cde)],t.prototype,"colorRange",void 0),Dr([Lt({},bde)],t.prototype,"ticks",void 0),Dr([Lt({},Sde)],t.prototype,"limits",void 0),Dr([O(!0)],t.prototype,"enabled",void 0),Dr([Lt({},wde)],t.prototype,"tooltip",void 0),Dr([O(!1)],t.prototype,"showButtons",void 0),Dr([O(!0)],t.prototype,"enableAnimation",void 0),Dr([O("Horizontal")],t.prototype,"orientation",void 0),Dr([O("")],t.prototype,"cssClass",void 0),Dr([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Dr([Se()],t.prototype,"created",void 0),Dr([Se()],t.prototype,"change",void 0),Dr([Se()],t.prototype,"changed",void 0),Dr([Se()],t.prototype,"renderingTicks",void 0),Dr([Se()],t.prototype,"renderedTicks",void 0),Dr([Se()],t.prototype,"tooltipChange",void 0),Dr([Jn],t)}(Xr),zde=(new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),new RegExp("^[0-9]*$"),new RegExp("^[+]?[0-9]{9,13}$"),new RegExp("^\\d{13,16}$"),function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}()),Ua=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},fx="e-apply",vz="e-cancel",mz="e-current",gx="e-ctrl-btn",fw="e-switch-ctrl-btn",V7="e-disabled",W7="e-value-switch-btn",Y7="e-handler",yz="e-hide-hex-value",bz="e-hide-opacity",gw="e-hide-switchable-value",mb="e-hide-value",X7="e-hide-valueswitcher",vx="e-hsv-color",Q7="e-hsv-container",vw="e-selected-value",hO="e-mode-switch-btn",Cz="e-nocolor-item",Sz="e-opacity-value",mx="e-palette",cO="e-color-palette",wz="e-color-picker",uO="e-preview-container",dO="e-previous",mw="e-show-value",yx="e-selected",pO="e-split-preview",fO="e-tile",jde_default=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"],yw=function(r){function t(e,i){return r.call(this,e,i)||this}return zde(t,r),t.prototype.preRender=function(){var e=this.element;this.formElement=Je(this.element,"form"),this.formElement&&$.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new Go("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)},t.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||be([this.container.parentElement],bz),this.renderComplete()},t.prototype.initWrapper=function(){var e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),wi(this.element,{tabindex:"-1",spellcheck:"false","aria-label":"colorpicker"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var i=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(i="");var n=i.slice(0,7);v(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.setProperties(this.enableOpacity?{value:i}:{value:n},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&be([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.tileRipple=dh(this.container,{selector:"."+fO}),this.ctrlBtnRipple=dh(this.container,{selector:".e-btn"})},t.prototype.getWrapper=function(){return this.element.parentElement},t.prototype.createWidget=function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),Ue.isDevice&&this.refreshPopupPos()},t.prototype.createSplitBtn=function(){var e=this,i=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(i),this.splitBtn=new dy({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){e.trigger("change",{currentValue:{hex:e.value.slice(0,7),rgba:e.convertToRgbString(e.hexToRgb(e.value))},previousValue:{hex:null,rgba:null},value:e.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(i);var n=this.createElement("span",{className:pO});Ge(".e-selected-color",i).appendChild(n),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var s=this.getPopupEle();if(be([s],"e-colorpicker-popup"),this.cssClass&&be([s],this.cssClass.replace(/\s+/g," ").trim().split(" ")),Ue.isDevice){var o=this.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,s.style.zIndex=zf(this.splitBtn.element).toString()}this.bindCallBackEvent()},t.prototype.onOpen=function(){if(this.trigger("open",{element:this.container}),!Ue.isDevice){var e=this.getPopupInst();Rf(e.element).length>0&&(e.collision={X:"flip",Y:"fit"},e.position={X:"right",Y:"bottom"},e.targetType="container")}},t.prototype.getPopupInst=function(){return _o(this.getPopupEle(),Yu)},t.prototype.bindCallBackEvent=function(){var e=this;this.splitBtn.beforeOpen=function(i){var n=new tO;return e.trigger("beforeOpen",i,function(s){if(!s.cancel){var o=e.getPopupEle();o.style.top=si(0+pageYOffset),o.style.left=si(0+pageXOffset),o.style.display="block",e.createWidget(),o.style.display="",Ue.isDevice&&(e.modal=e.createElement("div"),e.modal.className="e-"+e.getModuleName()+" e-modal",e.modal.style.display="none",document.body.insertBefore(e.modal,o),document.body.className+=" e-colorpicker-overflow",e.modal.style.display="block",e.modal.style.zIndex=(Number(o.style.zIndex)-1).toString())}i.cancel=s.cancel,n.resolve(s)}),n},this.splitBtn.beforeClose=function(i){var n=new tO;return v(i.event)?n.resolve(i):e.trigger("beforeClose",{element:e.container,event:i.event,cancel:!1},function(o){Ue.isDevice&&i.event.target===e.modal&&(o.cancel=!0),o.cancel||e.onPopupClose(),i.cancel=o.cancel,n.resolve(o)}),n}},t.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",Ge("."+pO,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",Ae([this.container],[wz,cO]),Ue.isDevice&&this.modal&&(Ae([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.createPalette=function(){if(dl(this.container,[cO],[wz]),this.presetColors){var e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);var i=Object.keys(this.presetColors);if(1===i.length)this.appendPalette(this.presetColors[i[0]],i[0],e);else for(var n=0,s=i.length;n<s;n++)this.appendPalette(this.presetColors[i[n]],i[n],e);bi(".e-row",e).length>10&&be([e],"e-palette-group")}else this.appendPalette(jde_default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var o=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=si(this.container.children[0].offsetWidth+o+o),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},t.prototype.firstPaletteFocus=function(){Ge("."+yx,this.container.children[0])||bi("."+mx,this.container)[0].focus()},t.prototype.appendPalette=function(e,i,n){var s=this.createElement("div",{className:mx,attrs:{tabindex:"0",role:"grid"}});n?n.appendChild(s):this.appendElement(s);for(var o,a,l,h=0,c=e.length;h<c;h++)(0===h||h%this.columns==0)&&(o=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),s.appendChild(o)),l=this.roundValue(e[h]).toLowerCase(),a=this.createElement("span",{className:fO,attrs:{role:"gridcell","aria-label":l,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:a,presetName:i,value:e[h]}),o.appendChild(a),this.value===l&&(this.addTileSelection(a),s.focus()),a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(l))},t.prototype.setNoColor=function(){var e=this.container.querySelector(".e-row").children[0];e.classList.add(Cz),this.value||(e.classList.add(yx),Je(e,"."+mx).focus()),["aria-selected","aria-label"].forEach(function(i){e.removeAttribute(i)}),e.style.backgroundColor=""},t.prototype.appendElement=function(e,i){void 0===i&&(i=0);var n=this.container.children[i];n?this.container.insertBefore(e,n):this.container.appendChild(e)},t.prototype.addTileSelection=function(e){e.classList.add(yx),e.setAttribute("aria-selected","true")},t.prototype.createPicker=function(){dl(this.container,[wz],[cO]);var e=this.createElement("div",{className:Q7});this.appendElement(e),e.appendChild(this.createElement("div",{className:vx}));var i=this.createElement("span",{className:Y7,attrs:{tabindex:"0"}});e.appendChild(i),(null===this.value||""===this.value)&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},t.prototype.setHsvContainerBg=function(e){void 0===e&&(e=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))},t.prototype.getHsvContainer=function(){return Ge("."+Q7,this.container)},t.prototype.setHandlerPosition=function(){var e=this.getDragHandler(),i=Ge("."+vx,this.container);e.style.left=si(this.enableRtl?i.offsetWidth*Math.abs(100-this.hsv[1])/100:i.offsetWidth*this.hsv[1]/100),e.style.top=si(i.offsetHeight*(100-this.hsv[2])/100)},t.prototype.createSlider=function(){var e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);var i=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(i,e.children[0]);var n=this.createElement("div",{className:"e-hue-slider"});i.appendChild(n),this.hueSlider=new L7({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),i.appendChild(n),this.createOpacitySlider(n))},t.prototype.createOpacitySlider=function(e){this.opacitySlider=new L7({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);var i=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(i),this.updateOpacitySliderBg()},t.prototype.updateOpacitySliderBg=function(){var e=this.enableRtl?"to left":"to right",i=Ge(".e-opacity-empty-track",this.opacitySlider.element);i&&(i.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},t.prototype.hueChange=function(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()},t.prototype.opacityChange=function(e){var i=e.value,n=this.rgbToHex(this.rgb);this.hsv[3]=i/100,this.rgb[3]=i/100;var s=this.rgbToHex(this.rgb);this.updateOpacityInput(i);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(s,n,o)},t.prototype.updateOpacityInput=function(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(mb)){var i=_o(Ge("."+Sz,this.container),iO);i.value=e,i.dataBind()}},t.prototype.createPreview=function(e){var i=this.createElement("div",{className:uO});e.appendChild(i);var n=this.createElement("span",{className:"e-preview "+mz});i.appendChild(n);var s=this.convertToRgbString(this.rgb);n.style.backgroundColor=s,n=this.createElement("span",{className:"e-preview "+dO}),i.appendChild(n),n.style.backgroundColor=s},t.prototype.isPicker=function(){return!this.container.classList.contains(cO)},t.prototype.getPopupEle=function(){return this.container.parentElement},t.prototype.createNumericInput=function(e,i,n,s){var o=this,a=new iO({value:i,placeholder:n,min:0,max:s,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(l){l.event&&o.inputHandler(l.event)}});a.createElement=this.createElement,a.appendTo(e)},t.prototype.createInput=function(){var e=this.isPicker(),i=this.getWrapper();if(e&&!i.classList.contains(mb)||!e&&i.classList.contains(mw)){var n=this.createElement("div",{className:vw});this.appendElement(n,e?2:1);var s=this.createElement("div",{className:"e-input-container"});if(n.appendChild(s),i.classList.contains(X7)||this.appendValueSwitchBtn(n),!i.classList.contains(yz)){var o=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false","aria-label":"HEX"}});s.appendChild(o),vi.createInput({element:o,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),vi.setValue(this.value.slice(0,7),o),o.addEventListener("input",this.inputHandler.bind(this))}if(!i.classList.contains(gw)){var a=void 0,l=void 0;this.isRgb?(a="RGB",l=this.rgb):(a="HSV",l=this.hsv);for(var h=["rh","gs","bv"],c=0;c<3;c++)this.createNumericInput(s.appendChild(this.createElement("input",{className:"e-"+h[c]+"-value"})),l[c],a[c],255);this.enableOpacity&&this.appendOpacityValue(s)}}},t.prototype.appendOpacityValue=function(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:Sz})),100*this.rgb[3],"A",100)},t.prototype.appendValueSwitchBtn=function(e){var i=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+W7,attrs:{title:"Toggle format"}});e.appendChild(i),this.isPicker()&&!this.getWrapper().classList.contains(gw)&&i.addEventListener("click",this.formatSwitchHandler.bind(this))},t.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var e=this.createElement("div",{className:fw});if(this.container.appendChild(e),this.showButtons){var i=this.createElement("div",{className:gx});e.appendChild(i);var n=this.l10n.getConstant("Apply");i.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small "+fx,attrs:{title:n}}));var s=this.l10n.getConstant("Cancel");i.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-small "+vz,attrs:{title:s}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},t.prototype.appendModeSwitchBtn=function(){var e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+hO,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});Ge("."+fw,this.container).insertBefore(e,Ge("."+gx,this.container))},t.prototype.createDragTooltip=function(){var e=this,i=new Gu({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(n){e.tooltipEle=n.element},animation:{open:{effect:"None"},close:{effect:"None"}}});i.createElement=this.createElement,i.appendTo(this.container),i.open(this.container),this.tooltipEle.style.zIndex=zf(this.tooltipEle).toString(),Ge(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},t.prototype.getTooltipInst=function(){return _o(this.container,Gu)},t.prototype.setTooltipOffset=function(e){this.getTooltipInst().offsetY=e},t.prototype.toggleDisabled=function(e){e?this.getWrapper().classList.add(V7):this.getWrapper().classList.remove(V7),this.showButtons&&[].slice.call(bi(".e-btn",this.container)).forEach(function(i){e?wi(i,{disabled:""}):i.removeAttribute("disabled")})},t.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},t.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},t.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},t.prototype.convertToOtherFormat=function(e){void 0===e&&(e=!1);var i=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.updateInput(n),this.triggerEvent(n,i,s,e)},t.prototype.updateInput=function(e){var i=this.getWrapper();i.classList.contains(mb)||(i.classList.contains(yz)||vi.setValue(e.substr(0,7),Ge(".e-hex",this.container)),i.classList.contains(gw)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))},t.prototype.updatePreview=function(e){this.enableOpacity&&this.updateOpacitySliderBg(),Ge(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,Ge("."+uO+" ."+mz,this.container).style.backgroundColor=e,Ge("."+uO+" ."+dO,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},t.prototype.getDragHandler=function(){return Ge("."+Y7,this.container)},t.prototype.removeTileSelection=function(){[].slice.call(bi("."+yx,this.container.children[0])).forEach(function(i){i.classList.remove(yx),i.setAttribute("aria-selected","false")})},t.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(function(i,n){return 3!==n?parseInt(i,10):parseFloat(i)})},t.prototype.getValue=function(e,i){if(e||(e=this.value),i=i?i.toLowerCase():"hex","r"===e[0]){var n=this.convertRgbToNumberArray(e);if("hex"===i||"hexa"===i){var s=this.rgbToHex(n);return"hex"===i?s.slice(0,7):s}return"hsv"===i?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):"hsva"===i?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}if("h"===e[0])return n=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e)),"rgba"===i?this.convertToRgbString(n):"hex"===i||"hexa"===i?(s=this.rgbToHex(n),"hex"===i?s.slice(0,7):s):"rgb"===i?this.convertToRgbString(n.slice(0,3)):"null";e=this.roundValue(e);var o=this.hexToRgb(e);return("rgb"===i||"hsv"===i)&&(o=o.slice(0,3)),"rgba"===i||"rgb"===i?this.convertToRgbString(o):"hsva"===i||"hsv"===i?this.convertToHsvString(this.rgbToHsv.apply(this,o)):"hex"===i?e.slice(0,7):"a"===i?o[3].toString():"null"},t.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},t.prototype.getModuleName=function(){return"colorpicker"},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.wireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();$.add(e,"keydown",this.pickerKeyDown,this);var i=Ge("."+gx,this.container);i&&$.add(i,"keydown",this.ctrlBtnKeyDown,this),$.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),$.add(Ge("."+dO,this.container),"click",this.previewHandler,this)}else $.add(this.container,"click",this.paletteClickHandler,this),$.add(this.container,"keydown",this.paletteKeyDown,this)},t.prototype.formResetHandler=function(){this.value=this.initialInputValue,wi(this.element,{value:this.initialInputValue})},t.prototype.addCtrlSwitchEvent=function(){var e=Ge("."+fw,this.container);e&&$.add(e,"click",this.btnClickHandler,this)},t.prototype.ctrlBtnKeyDown=function(e){if(13===e.keyCode){if(Ge("."+fx,this.container)){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.splitBtn.element.focus()}},t.prototype.pickerKeyDown=function(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:e.preventDefault();var i=this.rgbToHex(this.rgb);this.enterKeyHandler(i,e)}},t.prototype.enterKeyHandler=function(e,i){this.triggerChangeEvent(e),this.inline||this.splitBtn.element.focus()},t.prototype.closePopup=function(e){var i=this;this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},function(s){s.cancel||(i.splitBtn.toggle(),i.onPopupClose())})},t.prototype.triggerChangeEvent=function(e){var i=e.slice(0,7);this.trigger("change",{currentValue:{hex:i,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:i}),this.setProperties(this.enableOpacity?{value:e}:{value:i},!0),this.element.value=i||"#000000"},t.prototype.handlerDragPosition=function(e,i,n){n.preventDefault(),this.hsv[e]+=i*(n.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)},t.prototype.handlerDown=function(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),$.add(document,"mousemove touchmove",this.handlerMove,this),$.add(document,"mouseup touchend",this.handlerEnd,this)},t.prototype.handlerMove=function(e){var i,n;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(i=Math.abs(e.pageX-pageXOffset),n=Math.abs(e.pageY-pageYOffset)):(i=Math.abs(e.changedTouches[0].pageX-pageXOffset),n=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(i,n);var s=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(s),this.tooltipEle.style.transform||(Math.abs(this.clientX-i)>8||Math.abs(this.clientY-n)>8)&&(Ge("."+vx,this.container).style.cursor="pointer",s.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",s.classList.add("e-hide-handler"))},t.prototype.setHsv=function(e,i){var n=Ge("."+vx,this.container),s=n.getBoundingClientRect();e=this.enableRtl?e>s.right?0:Math.abs(e-s.right):e>s.left?Math.abs(e-s.left):0,i=i>s.top?Math.abs(i-s.top):0,this.hsv[2]=Math.round(10*Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,i-n.offsetTop)))/n.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(n.offsetWidth,e-n.offsetLeft))/n.offsetWidth))/10},t.prototype.handlerEnd=function(e){"touchend"!==e.type&&e.preventDefault(),$.remove(document,"mousemove touchmove",this.handlerMove),$.remove(document,"mouseup touchend",this.handlerEnd);var i=this.getDragHandler();Ge("."+vx,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",i.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)},t.prototype.btnClickHandler=function(e){var i=e.target;Je(i,"."+hO)?(e.stopPropagation(),this.switchToPalette()):(i.classList.contains(fx)||i.classList.contains(vz))&&this.ctrlBtnClick(i,e)},t.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),Ot(Ge(".e-slider-preview",this.container)),this.getWrapper().classList.contains(mb)||bn(Ge("."+vw,this.container)),Ot(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},t.prototype.refreshPopupPos=function(){if(!this.inline){var e=this.getPopupEle();e.style.left=si(0+pageXOffset),e.style.top=si(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},t.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},t.prototype.updateValue=function(e,i,n,s){for(var a,o=["e-rh-value","e-gs-value","e-bv-value"],l=0,h=o.length;l<h;l++)(a=_o(Ge("."+o[l],this.container),iO)).value=Math.round(e[l]),i&&(a.placeholder=o[l].substr(n,1).toUpperCase(),a.max=s?s[l]:255),a.dataBind()},t.prototype.previewHandler=function(e){var i=e.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(i.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var s=this.rgbToHex(this.rgb),o=this.rgbToHsv.apply(this,this.rgb);o[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:o[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(o[0]),this.enableOpacity&&o[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*o[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=o,this.setHandlerPosition(),this.updateInput(s),Ge("."+uO+" ."+mz,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(s,n,this.convertToRgbString(this.rgb))},t.prototype.paletteClickHandler=function(e){e.preventDefault();var i=e.target;if(i.classList.contains(fO)){if(this.removeTileSelection(),this.addTileSelection(i),i.classList.contains(Cz))this.noColorTile();else{var n=i.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(n)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(mw)&&this.updateInput(n),this.triggerEvent(n,s,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(e)}else Je(i,"."+hO)?this.switchToPicker():i.classList.contains(fx)||i.classList.contains(vz)?this.ctrlBtnClick(i,e):this.getWrapper().classList.contains(mw)&&Je(i,"."+W7)&&this.formatSwitchHandler()},t.prototype.noColorTile=function(e){void 0===e&&(e=!1);var i=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",i,"",e)},t.prototype.switchToPicker=function(){var e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(bi("."+mx,this.container)).forEach(function(n){Ot(n)}),e.classList.contains(mw)&&Ot(Ge("."+vw,this.container)),this.container.style.width="";var i=Ge(".e-custom-palette",this.container);this.presetColors&&bn(i),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},t.prototype.ctrlBtnClick=function(e,i){if(e.classList.contains(fx)){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.inline||(this.closePopup(i),this.splitBtn.element.focus())},t.prototype.paletteKeyDown=function(e){var i=e.target;if(i.classList.contains(mx)){var n,s,o=[].slice.call(bi("."+fO,i)),a=o.filter(function(h){return h.classList.contains("e-selected")}).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),n=a?o[this.tilePosition(o,a,this.enableRtl?-1:1)]:o[this.enableRtl?o.length-1:0],this.keySelectionChanges(n);break;case 37:e.preventDefault(),n=a?o[this.tilePosition(o,a,this.enableRtl?1:-1)]:o[this.enableRtl?0:o.length-1],this.keySelectionChanges(n);break;case 38:e.preventDefault(),s=a?this.tilePosition(o,a,-this.columns):0,this.keySelectionChanges(n=o[s]?o[s]:o[s-this.columns]);break;case 40:e.preventDefault(),o[s=a?this.tilePosition(o,a,this.columns):o.length-1]||(s%=o.length,s+=o[o.length-1].parentElement.childElementCount),this.keySelectionChanges(n=o[s]);break;case 13:if(e.preventDefault(),a){var l=a.getAttribute("aria-label");this.enterKeyHandler(l||"",e)}}}},t.prototype.keySelectionChanges=function(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(Cz))this.noColorTile(!0);else{var i=e.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(i),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(mw)&&this.updateInput(i),this.triggerEvent(i,n,this.convertToRgbString(this.rgb),!0)}},t.prototype.tilePosition=function(e,i,n){var s=(e=Array.prototype.slice.call(e)).length,o=this.columns-e[s-1].parentElement.childElementCount,a=e.indexOf(i);return(a+=n)<0?a+=s+o:a%=s+o,a},t.prototype.inputHandler=function(e){var n,s,i=e.target;if(i.value.length)switch(Ge(".e-float-text",i.parentElement).textContent){case"HEX":var a="";if(("#"===i.value[0]&&5!==i.value.length||"#"!==i.value[0]&&4!==i.value.length)&&(a=this.roundValue(i.value)),9!==a.length)return;s=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(a+a.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),s,i.value);break;case"R":this.rgb[0]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"G":this.rgb[1]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"B":this.rgb[2]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(i.value)}},t.prototype.inputValueChange=function(e,i,n){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;var s=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||s);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(s,i,o)},t.prototype.triggerEvent=function(e,i,n,s){void 0===s&&(s=!1);var o=e.slice(0,7);this.showButtons||s?this.trigger("select",{currentValue:{hex:o,rgba:n},previousValue:{hex:i.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(i))}}):(this.trigger("change",{currentValue:{hex:o,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties(this.enableOpacity?{value:e}:{value:o},!0),this.element.value=o||"#000000")},t.prototype.destroy=function(){var e=this,i=this.getWrapper();r.prototype.destroy.call(this),["tabindex","spellcheck"].forEach(function(n){e.element.removeAttribute(n)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&Ot(this.element.nextElementSibling),i&&(i.parentElement.insertBefore(this.element,i),Ot(i)),this.container=null,this.formElement&&$.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.destroyOtherComp=function(){if(this.isPicker()){for(var i=Je(this.hueSlider.element,".e-color-picker").querySelectorAll(".e-numerictextbox"),n=0;n<i.length;n++)_o(i[n],iO).destroy();this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var s=this.getTooltipInst();s.close(),s.destroy(),this.tooltipEle=null}},t.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},t.prototype.unWireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();$.remove(e,"keydown",this.pickerKeyDown);var i=Ge("."+gx,this.container);i&&$.remove(i,"keydown",this.ctrlBtnKeyDown),$.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&$.remove(Ge("."+fw,this.container),"click",this.btnClickHandler),$.remove(Ge("."+dO,this.container),"click",this.previewHandler)}else $.remove(this.container,"click",this.paletteClickHandler),$.remove(this.container,"keydown",this.paletteKeyDown)},t.prototype.roundValue=function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var i=e.length;if(4===i&&(e+="f",i=5),5===i){for(var n="",s=1,o=e.length;s<o;s++)n+=e.charAt(s)+e.charAt(s);e="#"+n,i=9}return 7===i&&(e+="ff"),e},t.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var i=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var n=parseInt(e,16),s=[];return s.push(n>>16&255),s.push(n>>8&255),s.push(255&n),s.push(i),s},t.prototype.rgbToHsv=function(e,i,n,s){if(this.rgb&&!this.rgb.length)return[];e/=255,i/=255,n/=255;var l,o=Math.max(e,i,n),a=Math.min(e,i,n),h=o,c=o-a,u=0===o?0:c/o;if(o===a)l=0;else{switch(o){case e:l=(i-n)/c+(i<n?6:0);break;case i:l=(n-e)/c+2;break;case n:l=(e-i)/c+4}l/=6}var d=[Math.round(360*l),Math.round(1e3*u)/10,Math.round(1e3*h)/10];return v(s)||d.push(s),d},t.prototype.hsvToRgb=function(e,i,n,s){var o,a,l;if(n/=100,0==(i/=100))return o=a=l=n,[Math.round(255*o),Math.round(255*a),Math.round(255*l),s];e/=60;var h=Math.floor(e),c=e-h,u=n*(1-i),d=n*(1-i*c),p=n*(1-i*(1-c));switch(h){case 0:o=n,a=p,l=u;break;case 1:o=d,a=n,l=u;break;case 2:o=u,a=n,l=p;break;case 3:o=u,a=d,l=n;break;case 4:o=p,a=u,l=n;break;default:o=n,a=u,l=d}var f=[Math.round(255*o),Math.round(255*a),Math.round(255*l)];return v(s)||f.push(s),f},t.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(v(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},t.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},t.prototype.changeModeSwitcherProp=function(e){var i=Ge("."+fw,this.container);e?i?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):i&&(this.showButtons?Ot(Ge("."+hO,i)):bn(i))},t.prototype.changeShowBtnProps=function(e){var i=Ge("."+fw,this.container);e?(i&&bn(i),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?Ot(Ge("."+gx,i)):bn(i)},t.prototype.changeValueProp=function(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),Ot(Je(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();var i=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');i&&this.addTileSelection(i)}},t.prototype.setInputEleProps=function(){bn(Ge("."+vw,this.container)),this.createInput()},t.prototype.changeDisabledProp=function(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},t.prototype.changeCssClassProps=function(e,i){var n=this.getWrapper(),s=this.getPopupEle();i&&Ae([n,s],i.split(" ")),e&&be([n,s],e.replace(/\s+/g," ").trim().split(" "))},t.prototype.changeRtlProps=function(e){e?be([this.getWrapper()],"e-rtl"):Ae([this.getWrapper()],"e-rtl")},t.prototype.changePaletteProps=function(){Ot(this.container.children[0]),this.container.style.width="",this.createPalette()},t.prototype.changeOpacityProps=function(e){var i=this.getWrapper();e?(Ae([this.container.parentElement],bz),this.createOpacitySlider(Ge(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!i.classList.contains(mb)&&!i.classList.contains(gw)&&this.appendOpacityValue(Ge(".e-input-container",this.container))):(be([this.container.parentElement],bz),this.opacitySlider.destroy(),bn(this.opacitySlider.element),this.opacitySlider=null,!i.classList.contains(mb)&&!i.classList.contains(gw)&&bn(Ge("."+Sz,this.container).parentElement))},t.prototype.onPropertyChanged=function(e,i){var n=this;if(!v(e.value)){var s=this.roundValue(e.value);if(9===s.length)this.element.value=this.roundValue(s).slice(0,7),(o=this.splitBtn&&Ge("."+pO,this.splitBtn.element))&&(o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)));else if(this.noColor&&"Palette"===this.mode&&""===this.value){var o;(o=this.splitBtn&&Ge("."+pO,this.splitBtn.element)).style.backgroundColor=""}else this.value=i.value}if(!this.inline&&v(e.inline)&&(this.splitBtn.setProperties(ax(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,i.cssClass),void this.changeRtlProps(e.enableRtl);for(var l=function(p){switch(p){case"inline":e.inline?(h.getWrapper().appendChild(h.container),h.splitBtn.destroy(),Ot(h.element.nextElementSibling),h.container.children.length||h.createWidget()):(h.destroyOtherComp(),h.unWireEvents(),h.container.innerHTML="",h.createSplitBtn());break;case"cssClass":h.changeCssClassProps(e.cssClass,i.cssClass);var f=e.cssClass.split(" ").concat(i.cssClass.split(" "));f=f.reduce(function(M,T){return M.indexOf(T)<0&&M.push(T),M},[]);var m=0;f.forEach(function(M){0!==m||M!==mb&&M!==X7&&M!==mw&&M!==yz&&M!==gw||(Ge("."+vw,n.container)&&bn(Ge("."+vw,n.container)),n.createInput(),m++)});break;case"enableRtl":h.isPicker()&&(h.hueSlider.enableRtl=e.enableRtl,h.enableOpacity&&(h.opacitySlider.enableRtl=e.enableRtl),h.setInputEleProps()),h.changeRtlProps(e.enableRtl);break;case"disabled":h.changeDisabledProp(e.disabled);break;case"value":h.value!==i.value&&h.changeValueProp(e.value);break;case"showButtons":h.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?h.switchToPicker():h.switchToPalette();break;case"modeSwitcher":h.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":h.isPicker()||h.changePaletteProps();break;case"noColor":e.noColor?"Palette"===h.mode&&!h.modeSwitcher&&h.setNoColor():h.changePaletteProps();break;case"enableOpacity":h.changeOpacityProps(e.enableOpacity)}},h=this,c=0,u=Object.keys(e);c<u.length;c++)l(u[c])},t.prototype.focusIn=function(){this.element.parentElement.focus()},Ua([O("#008000ff")],t.prototype,"value",void 0),Ua([O("")],t.prototype,"cssClass",void 0),Ua([O(!1)],t.prototype,"disabled",void 0),Ua([O("Picker")],t.prototype,"mode",void 0),Ua([O(!0)],t.prototype,"modeSwitcher",void 0),Ua([O(null)],t.prototype,"presetColors",void 0),Ua([O(!0)],t.prototype,"showButtons",void 0),Ua([O(10)],t.prototype,"columns",void 0),Ua([O(!1)],t.prototype,"inline",void 0),Ua([O(!1)],t.prototype,"noColor",void 0),Ua([O(!1)],t.prototype,"enablePersistence",void 0),Ua([O(!0)],t.prototype,"enableOpacity",void 0),Ua([O(!1)],t.prototype,"createPopupOnClick",void 0),Ua([Se()],t.prototype,"select",void 0),Ua([Se()],t.prototype,"change",void 0),Ua([Se()],t.prototype,"beforeTileRender",void 0),Ua([Se()],t.prototype,"beforeOpen",void 0),Ua([Se()],t.prototype,"open",void 0),Ua([Se()],t.prototype,"beforeClose",void 0),Ua([Se()],t.prototype,"beforeModeSwitch",void 0),Ua([Se()],t.prototype,"onModeSwitch",void 0),Ua([Se()],t.prototype,"created",void 0),Ua([Jn],t)}(Xr),Jde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),o8=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},fy="e-rtl",gy="e-overlay",bx="e-nav-arrow",Cx="e-nav-right-arrow",mO="e-nav-left-arrow",yb="e-scroll-nav",xz="e-scroll-right-nav",a8="e-scroll-left-nav",l8="e-scroll-device",yO="e-scroll-overlay",Dz="e-scroll-right-overlay",Tz="e-scroll-left-overlay",Sx=function(r){function t(e,i){return r.call(this,e,i)||this}return Jde(t,r),t.prototype.preRender=function(){this.browser=Ue.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Ue.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Or("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(fy)},t.prototype.render=function(){this.touchModule=new ph(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),$.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(l8),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){v(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),i=this.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");for(var n=this.element,o=0,a=[].slice.call(n.children);o<a.length;o++)e.appendChild(a[o]);i.appendChild(e),n.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove(l8),e.classList.remove(fy);var i=bi(".e-"+e.id+"_nav."+yb,e),n=bi("."+yO,e);[].slice.call(n).forEach(function(l){Ot(l)});for(var s=0,o=[].slice.call(this.scrollItems.children);s<o.length;s++)e.appendChild(o[s]);this.uniqueId&&this.element.removeAttribute("id"),Ot(this.scrollEle),i.length>0&&(Ot(i[0]),v(i[1])||Ot(i[1])),$.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=bi(".e-scroll-nav:not(."+gy+")",this.element);e?this.element.classList.add(gy):this.element.classList.remove(gy),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var i=e.id.concat("_nav"),n=this.createElement("div",{className:yO+" "+Dz}),s="e-"+e.id.concat("_nav "+yb+" "+xz),o=this.createElement("div",{id:i.concat("_right"),className:s}),a=this.createElement("div",{className:Cx+" "+bx+" e-icons"});o.appendChild(a);var l=this.createElement("div",{className:yO+" "+Tz});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(o),e.insertBefore(l,e.firstChild),this.eventBinding([o])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+yb+" "+xz),s={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},o=this.createElement("div",{className:n,attrs:s});o.setAttribute("aria-disabled","false");var a=this.createElement("div",{className:Cx+" "+bx+" e-icons"}),l="e-"+e.id.concat("_nav "+yb+" "+a8),h={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},c=this.createElement("div",{className:l+" "+gy,attrs:h});c.setAttribute("aria-disabled","true");var u=this.createElement("div",{className:mO+" "+bx+" e-icons"});c.appendChild(u),o.appendChild(a),e.appendChild(o),e.insertBefore(c,e.firstChild),this.ieCheck&&(o.classList.add("e-ie-align"),c.classList.add("e-ie-align")),this.eventBinding([o,c])},t.prototype.onKeyPress=function(e){var i=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)},100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new ph(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),$.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,yb)?n.firstElementChild:n,this.timeout=window.setInterval(function(){i.eleScrolling(10,n,!0)},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=this.element,o=i.classList;o.contains(yb)&&(o=i.querySelector("."+bx).classList),this.contains(s,fy)&&this.browserCheck&&(e=-e),!this.contains(s,fy)||this.browserCheck||this.ieCheck?o.contains(Cx)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):o.contains(mO)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var n,i=this.scrollEle;n=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var s=.5,o=function(){var a=Math.sin(s);a<=0?window.cancelAnimationFrame(a):("Left"===e.swipeDirection?i.scrollLeft+=n*a:"Right"===e.swipeDirection&&(i.scrollLeft-=n*a),s-=.5,window.requestAnimationFrame(o))};o()},t.prototype.scrollUpdating=function(e,i){"add"===i?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,i,n){var s=this;if(n)this.scrollUpdating(e,i);else{this.customStep||[].slice.call(bi("."+yO,this.element)).forEach(function(l){e-=l.offsetWidth});var a=function(){var l,h;s.contains(s.element,fy)&&s.browserCheck?(l=-e,h=-10):(l=e,h=10),l<10?window.cancelAnimationFrame(h):(s.scrollUpdating(h,i),e-=h,window.requestAnimationFrame(a))};a()}},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceX;this.ieCheck&&this.contains(this.element,fy)&&(n=-n),"Left"===e.scrollDirection?i.scrollLeft=i.scrollLeft+n:"Right"===e.scrollDirection&&(i.scrollLeft=i.scrollLeft-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(v(e)?i:e).querySelector("."+bx);v(e)?dl(s,[Cx],[mO]):dl(s,[mO],[Cx])}else e&&i&&(e.classList.add(gy),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(gy),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var i=e.target,n=i.offsetWidth,o=this.element.querySelector("."+a8),a=this.element.querySelector("."+xz),l=this.element.querySelector("."+Tz),h=this.element.querySelector("."+Dz),c=i.scrollLeft;if(c<=0&&(c=-c),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(l=this.element.querySelector("."+Dz),h=this.element.querySelector("."+Tz)),l.style.width=c<40?c+"px":"40px",h.style.width=i.scrollWidth-Math.ceil(n+c)<40?i.scrollWidth-Math.ceil(n+c)+"px":"40px"),0===c)this.arrowDisabling(o,a);else if(Math.ceil(n+c+.1)>=i.scrollWidth)this.arrowDisabling(a,o);else{var u=this.element.querySelector("."+yb+"."+gy);u&&(u.classList.remove(gy),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(fy):this.element.classList.remove(fy)}},o8([O(null)],t.prototype,"scrollStep",void 0),o8([Jn],t)}(Xr),ipe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),c8=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},bO="e-rtl",vy="e-overlay",wx="e-nav-arrow",CO="e-nav-up-arrow",Ix="e-nav-down-arrow",bb="e-scroll-nav",u8="e-scroll-up-nav",Ez="e-scroll-down-nav",d8="e-scroll-device",SO="e-scroll-overlay",p8="e-scroll-up-overlay",f8="e-scroll-down-overlay",bw=function(r){function t(e,i){return r.call(this,e,i)||this}return ipe(t,r),t.prototype.preRender=function(){this.browser=Ue.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Ue.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Or("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(bO)},t.prototype.render=function(){this.touchModule=new ph(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),$.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(d8),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),$.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){v(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=Lr("div",{className:"e-vscroll-content"}),i=Lr("div",{className:"e-vscroll-bar"});i.setAttribute("tabindex","-1");for(var n=this.element,o=0,a=[].slice.call(n.children);o<a.length;o++)e.appendChild(a[o]);i.appendChild(e),n.appendChild(i),i.style.overflow="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",Ae([this.element],["e-vscroll",d8,bO]);var i=bi(".e-"+e.id+"_nav."+bb,e),n=bi("."+SO,e);[].slice.call(n).forEach(function(l){Ot(l)});for(var s=0,o=[].slice.call(this.scrollItems.children);s<o.length;s++)e.appendChild(o[s]);this.uniqueId&&this.element.removeAttribute("id"),Ot(this.scrollEle),i.length>0&&(Ot(i[0]),v(i[1])||Ot(i[1])),$.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=bi(".e-scroll-nav:not(."+vy+")",this.element);e?this.element.classList.add(vy):this.element.classList.remove(vy),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var i=e.id.concat("_nav"),n=Lr("div",{className:SO+" "+f8}),s="e-"+e.id.concat("_nav "+bb+" "+Ez),o=Lr("div",{id:i.concat("down"),className:s}),a=Lr("div",{className:Ix+" "+wx+" e-icons"});o.appendChild(a);var l=Lr("div",{className:SO+" "+p8});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(o),e.insertBefore(l,e.firstChild),this.eventBinding([o])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+bb+" "+Ez),s=Lr("div",{id:i.concat("_down"),className:n});s.setAttribute("aria-disabled","false");var o=Lr("div",{className:Ix+" "+wx+" e-icons"}),a="e-"+e.id.concat("_nav "+bb+" "+u8),l=Lr("div",{id:i.concat("_up"),className:a+" "+vy});l.setAttribute("aria-disabled","true");var h=Lr("div",{className:CO+" "+wx+" e-icons"});l.appendChild(h),s.appendChild(o),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(l,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([s,l])},t.prototype.onKeyPress=function(e){var i=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)},100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new ph(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),$.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,bb)?n.firstElementChild:n,this.timeout=window.setInterval(function(){i.eleScrolling(10,n,!0)},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=i.classList;s.contains(bb)&&(s=i.querySelector("."+wx).classList),s.contains(Ix)?this.frameScrollRequest(e,"add",n):s.contains(CO)&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var n,i=this.scrollEle;n=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var s=.5,o=function(){var a=Math.sin(s);a<=0?window.cancelAnimationFrame(a):("Up"===e.swipeDirection?i.scrollTop+=n*a:"Down"===e.swipeDirection&&(i.scrollTop-=n*a),s-=.02,window.requestAnimationFrame(o))};o()},t.prototype.scrollUpdating=function(e,i){"add"===i?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,i,n){var s=this;if(n)this.scrollUpdating(e,i);else{this.customStep||[].slice.call(bi("."+SO,this.element)).forEach(function(l){e-=l.offsetHeight});var a=function(){e<10?window.cancelAnimationFrame(10):(s.scrollUpdating(10,i),e-=10,window.requestAnimationFrame(a))};a()}},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceY;"Up"===e.scrollDirection?i.scrollTop=i.scrollTop+n:"Down"===e.scrollDirection&&(i.scrollTop=i.scrollTop-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(v(e)?i:e).querySelector("."+wx);v(e)?dl(s,[Ix],[CO]):dl(s,[CO],[Ix])}else e.classList.add(vy),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(vy),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var i=e.target,n=i.offsetHeight,s=this.element.querySelector("."+u8),o=this.element.querySelector("."+Ez),a=this.element.querySelector("."+p8),l=this.element.querySelector("."+f8),h=i.scrollTop;if(h<=0&&(h=-h),this.isDevice&&(a.style.height=h<40?h+"px":"40px",l.style.height=i.scrollHeight-Math.ceil(n+h)<40?i.scrollHeight-Math.ceil(n+h)+"px":"40px"),0===h)this.arrowDisabling(s,o);else if(Math.ceil(n+h+.1)>=i.scrollHeight)this.arrowDisabling(o,s);else{var c=this.element.querySelector("."+bb+"."+vy);c&&(c.classList.remove(vy),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(bO):this.element.classList.remove(bO)}},c8([O(null)],t.prototype,"scrollStep",void 0),c8([Jn],t)}(Xr);function mv(r,t,e,i,n,s){var o,a,l=t.parentElement;if("vscroll"===i?(o=s||t.getBoundingClientRect().height,a=e.getBoundingClientRect().height):(o=t.getBoundingClientRect().width,a=e.getBoundingClientRect().width),o<a)return v8(r,t,e,i,n,s);if(l){var h=l.getBoundingClientRect().width;return h<o&&"hscroll"===i?(a=h,t.style.maxWidth=h+"px",v8(r,t,e,i,n,s)):e}return e}function v8(r,t,e,i,n,s){var o=r("div",{className:"e-menu-"+i});return t.appendChild(o),o.appendChild(e),s?(o.style.overflow="hidden",o.style.height=s+"px"):(o.style.maxHeight=t.style.maxHeight,t.style.overflow="hidden"),"vscroll"===i?new bw({enableRtl:n},o).scrollStep=Ge(".e-"+i+"-bar",t).offsetHeight/2:new Sx({enableRtl:n},o).scrollStep=Ge(".e-"+i+"-bar",t).offsetWidth,o}function Cw(r,t,e){if(r){var i=Ge(".e-menu-parent",t);i?(!e||e===i)&&(r.destroy(),t.parentElement.appendChild(i),Ot(t)):(r.destroy(),Ot(t))}}var wO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ns=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},IO="enter",Az="escape",Wa="e-focused",MO="e-menu-header",oa="e-selected",xO="e-separator",Sw="uparrow",zp="downarrow",Cb="leftarrow",yv="rightarrow",ww="home",DO="end",TO="tab",m8="e-caret",Iw="e-menu-item",Oz="e-disabled",EO="e-menu-hide",y8="e-icons",Mw="e-menu-popup",C8=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wO(t,r),Ns([O("id")],t.prototype,"itemId",void 0),Ns([O("parentId")],t.prototype,"parentId",void 0),Ns([O("text")],t.prototype,"text",void 0),Ns([O("iconCss")],t.prototype,"iconCss",void 0),Ns([O("url")],t.prototype,"url",void 0),Ns([O("separator")],t.prototype,"separator",void 0),Ns([O("items")],t.prototype,"children",void 0),t}(ii),Mx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wO(t,r),Ns([O(null)],t.prototype,"iconCss",void 0),Ns([O("")],t.prototype,"id",void 0),Ns([O(!1)],t.prototype,"separator",void 0),Ns([Qn([],t)],t.prototype,"items",void 0),Ns([O("")],t.prototype,"text",void 0),Ns([O("")],t.prototype,"url",void 0),t}(ii),S8=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wO(t,r),Ns([O("SlideDown")],t.prototype,"effect",void 0),Ns([O(400)],t.prototype,"duration",void 0),Ns([O("ease")],t.prototype,"easing",void 0),t}(ii),w8=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.navIdx=[],n.animation=new Ro({}),n.isTapHold=!1,n.tempItem=[],n.showSubMenuOn="Auto",n}return wO(t,r),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:Or(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var i=Xe("ej2_instances",this.element);Ae([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,zn("ej2_instances",i,this.element)}else{e=this.createElement("ul",{id:Or(this.getModuleName())}),Yi([].slice.call(this.element.cloneNode(!0).children),e);var n=this.element.nextElementSibling;n?this.element.parentElement.insertBefore(e,n):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var s=this.element,o=Xe("ej2_instances",s),a=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),l=0,h=s.attributes.length;l<h;l++)e.setAttribute(s.attributes[l].nodeName,s.attributes[l].nodeValue);s.parentNode.insertBefore(a,s),Ot(s),a.appendChild(s=e),zn("ej2_instances",o,s),this.clonedElement=a,this.element=s,this.element.id||(this.element.id=Or(this.getModuleName()))}},t.prototype.render=function(){var e=this;this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();var i=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame(function(){mv(e.createElement,i,e.element,"hscroll",e.enableRtl)})},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&be([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick},t.prototype.renderItems=function(){if(!this.items.length){var e=$n.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),ge()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var i=this.createItems(this.items);if(Yi(Array.prototype.slice.call(i.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){var n=this.getWrapper();this.element.classList.contains("e-vertical")?mv(this.createElement,n,this.element,"vscroll",this.enableRtl):mv(this.createElement,n,this.element,"hscroll",this.enableRtl)}},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var i=void 0,n=bi(this.target),s=0,o=n.length;s<o;s++)i=n[s],this.isMenu?$.add(i,"click",this.menuHeaderClickHandler,this):Ue.isIos?new ph(i,{tapHold:this.touchHandler.bind(this)}):$.add(i,"contextmenu",this.cmenuHandler,this);if(this.targetElement=i,!this.isMenu){$.add(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler,this);for(var a=0,l=TR(this.targetElement);a<l.length;a++)$.add(l[a],"mousewheel DOMMouseScroll",this.scrollHandler,this)}}Ue.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),$.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),$.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),$.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=dh(e,{selector:"."+Iw})},t.prototype.wireKeyboardEvent=function(e){var i={downarrow:zp,uparrow:Sw,enter:IO,leftarrow:Cb,rightarrow:yv,escape:Az};this.isMenu&&(i.home=ww,i.end=DO,i.tab=TO),new Fa(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:i})},t.prototype.mouseDownHandler=function(e){Je(e.target,".e-"+this.getModuleName()+"-wrapper")!==this.getWrapper()&&!Je(e.target,".e-"+this.getModuleName()+"-popup")&&this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyHandler=function(e){(38===e.keyCode||40===e.keyCode)&&e.target&&(e.target.classList.contains("e-contextmenu")||e.target.classList.contains("e-menu-item"))&&e.preventDefault()},t.prototype.keyBoardHandler=function(e){var i="",n=e.target,s=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([Wa,oa],[Je(n,".e-"+this.getModuleName()+"-wrapper")]),s)switch(e.action){case yv:i=yv,e.action=zp;break;case Cb:i=Cb,e.action=Sw;break;case zp:i=zp,e.action=yv;break;case Sw:i=Sw,e.action=""}else if(this.enableRtl)switch(e.action){case Cb:s=!0,i=Cb,e.action=yv;break;case yv:s=!0,i=yv,e.action=Cb}switch(e.action){case zp:case Sw:case DO:case ww:case TO:this.upDownKeyHandler(e);break;case yv:this.rightEnterKeyHandler(e);break;case Cb:this.leftEscKeyHandler(e);break;case IO:this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case Az:this.leftEscKeyHandler(e)}s&&(e.action=i)},t.prototype.upDownKeyHandler=function(e){var i=this.getUlByNavIdx(),n=e.action===zp||e.action===ww||e.action===TO?0:i.childElementCount-1,s=n,o=this.getLIByClass(i,Wa);o&&(e.action!==DO&&e.action!==ww&&(s=this.getIdx(i,o)),o.classList.remove(Wa),e.action!==DO&&e.action!==ww&&(e.action===zp?s++:s--,s===(e.action===zp?i.childElementCount:-1)&&(s=n))),s=this.isValidLI(i.children[s],s,e.action),i.children[s].classList.add(Wa),i.children[s].focus()},t.prototype.isValidLI=function(e,i,n){var s=this.getUlByNavIdx(),o=n===zp||n===ww||n===TO?0:s.childElementCount-1;return(e.classList.contains(xO)||e.classList.contains(Oz)||e.classList.contains(EO))&&(n===zp&&i===s.childElementCount-1||n===Sw&&0===i?i=o:n===zp||n===yv?i++:i--),((e=s.children[i]).classList.contains(xO)||e.classList.contains(Oz)||e.classList.contains(EO))&&(i=this.isValidLI(e,i,n)),i},t.prototype.getUlByNavIdx=function(e){var i=this;if(void 0===e&&(e=this.navIdx.length),this.isMenu){var n=[this.getWrapper()].concat([].slice.call(bi("."+Mw))),s=[];return bi("."+Mw).forEach(function(a){(i.element.id===a.id.split("-")[2]||a.id.split("-")[2]+"-"+a.id.split("-")[3])&&s.push(a)}),v(n=[this.getWrapper()].concat([].slice.call(s))[e])?null:Ge(".e-menu-parent",n)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var n=this.getUlByNavIdx(),s=this.getLIByClass(n,Wa);if(s){var o=this.getIdx(n,s),a=this.navIdx.concat(o),l=this.getItem(a);l.items.length?(this.navIdx.push(o),this.keyType="right",this.action=e.action,this.openMenu(s,l,-1,-1,e)):e.action===IO&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([oa],[this.getWrapper()]):s.classList.remove(Wa),s.classList.add(oa),this.trigger("select",{element:s,item:l,event:e}),this.closeMenu(null,e))}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===Az&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.currentTarget=e.target,this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,i,n){var s=this;if(void 0===e&&(e=0),void 0===i&&(i=null),this.isMenuVisible()){var a,c,o=void 0,l=this.getWrapper(),u=this.getPopups(),d=!1,p=this.isMenu?u.length+1:l.childElementCount,f=this.isMenu&&1!==p?Ge(".e-ul",u[p-2]):bi(".e-menu-parent",l)[p-1];if(this.isMenu&&f.classList.contains("e-menu")&&((o=this.getLIByClass(f,oa))&&o.classList.remove(oa),d=!0),!d){var m=i&&i.target&&this.getLI(i.target);this.cli=m||f.children[0],a=this.navIdx.length?this.getItem(this.navIdx):null,this.trigger("beforeClose",{element:f,parentItem:a,items:c=a?a.items:this.items,event:i,cancel:!1,isFocused:!0},function(M){var T,Y,U="",X=!M.cancel;(X||s.isCMenu)&&(s.isMenu?(T=Je(f,"."+Mw),s.hamburgerMode&&(T.parentElement.style.minHeight="",Je(f,".e-menu-item").setAttribute("aria-expanded","false")),s.unWireKeyboardEvent(T),Cw(_o(T.children[0],bw),T.children[0]),(Y=_o(T,Yu)).hide(),U=T.id,Y.destroy(),Ot(T)):s.toggleAnimation(f,!1),s.trigger("onClose",{element:f,parentItem:a,items:c}),s.navIdx.pop(),s.isMenu||($.remove(f,"keydown",s.keyHandler),"right"===s.keyType&&(s.keyType=""))),s.updateReactTemplate();var Q,oe,de,Me=s.getWrapper()&&s.getUlByNavIdx();s.isCMenu&&(s.canOpen(i.target)&&s.openMenu(null,null,s.pageY,s.pageX,i),s.isCMenu=!1),s.isMenu&&Me&&U.length?(Q=new RegExp("(.*)-ej2menu-"+s.element.id+"-popup").exec(U)[1],oe=Me.querySelector('[id="'+Q+'"]'),de=m&&Me.querySelector('[id="'+m.id+'"]')):Me&&(oe=Me.querySelector(".e-menu-item.e-selected"),de=m&&Me.querySelector('[id="'+m.id+'"]'));var Ve=m&&m.querySelectorAll(".e-menu-item");if(X&&s.hamburgerMode&&e&&!Ve.length)s.afterCloseMenu(i);else if(X&&!s.hamburgerMode&&oe&&!de&&"left"!==s.keyType&&(s.navIdx.length||!s.isMenu&&0===s.navIdx.length)){var Ce=i&&i.target.classList.contains("e-vscroll")?Je(i.target,".e-menu-wrapper"):null;Ce?(Ce=Ce.querySelector(".e-menu-item"),(s.showItemOnClick||Ce&&s.getIndex(Ce.id,!0).length<=s.navIdx.length)&&s.closeMenu(s.navIdx[s.navIdx.length-1],i,!0)):s.closeMenu(s.navIdx[s.navIdx.length-1],i)}else if(X&&!n&&!e&&(s.hamburgerMode&&s.navIdx.length||1===s.navIdx.length&&m&&Me!==m.parentElement))s.closeMenu(null,i);else if(X&&v(e)&&s.navIdx.length)s.closeMenu(null,i);else if(!X||s.isMenu||e||0!==s.navIdx.length||s.isMenusClosed)if(X&&s.isMenu&&i&&i.target&&0!==s.navIdx.length&&Je(i.target,".e-menu-parent.e-control"))s.closeMenu(0,i);else if(X&&!s.isMenu&&bi(".e-menu-parent",l)[e-1]&&3===i.which)s.closeMenu(null,i);else{if(!X||"right"!==s.keyType&&"click"!==s.keyType){var ze=s.getUlByNavIdx(),Ie=s.getLIByClass(ze,oa);if(Ie&&(Ie.setAttribute("aria-expanded","false"),Ie.classList.remove(oa),(M.isFocused&&m||"left"===s.keyType)&&(Ie.classList.add(Wa),(!i.target||!i.target.classList.contains("e-edit-template"))&&Ie.focus())),!X&&s.hamburgerMode&&m&&"false"===m.getAttribute("aria-expanded")&&"true"===m.getAttribute("aria-haspopup")){Je(m,".e-menu-parent.e-control")?s.navIdx=[]:s.navIdx.pop(),s.navIdx.push(s.cliIdx);var pe=s.getItem(s.navIdx);m.setAttribute("aria-expanded","true"),s.openMenu(m,pe,-1,-1,i)}}else s.afterCloseMenu(i);s.navIdx.length<1&&("Hover"===s.showSubMenuOn||"Click"===s.showSubMenuOn)&&(s.showItemOnClick=s.defaultOption,s.showSubMenuOn="Auto")}else s.isMenusClosed=!0,s.closeMenu(0,i);s.removeStateWrapper()})}}},t.prototype.updateReactTemplate=function(){if(this.isReact&&this.template&&0===this.navIdx.length){var e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}},t.prototype.getMenuItemModel=function(e,i){if(v(e))return null;v(i)&&(i=0);var n=this.getFields(i);return{text:e[n.text],id:e[n.id],items:e[n.child],separator:e[n.separator],iconCss:e[n.iconCss],url:e[n.url]}},t.prototype.getPopups=function(){var e=this,i=[];return[].slice.call(document.querySelectorAll("."+Mw)).forEach(function(n){!v(n.querySelector("."+Iw))&&e.getIndex(n.querySelector("."+Iw).id,!0).length&&i.push(n)}),i},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&ra(this.element).valueOf()},t.prototype.canOpen=function(e){var i=!0;if(this.filter){i=!1;for(var n=this.filter.split(" "),s=0,o=n.length;s<o;s++)if(Je(e,"."+n[s])){i=!0;break}}return i},t.prototype.openMenu=function(e,i,n,s,o,a){var l=this;void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=null),void 0===a&&(a=this.targetElement);var h=this.getWrapper();this.lItem=e;var c=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,v(n)&&(n=-1),v(s)&&(s=-1),e){if(this.uList=this.createItems(i[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&Ue.isDevice){h.lastChild.style.display="none";var u={text:i[this.getField("text")].toString(),iconCss:y8+" e-previous"},d=new Mx(this.items[0],"items",u,!0),p=this.createItems([d]).children[0];p.classList.add(MO),this.uList.insertBefore(p,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+Mw,id:e.id+"-ej2menu-"+c+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&be([this.popupWrapper],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,i,o,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout(function(){l.triggerBeforeOpen(e,l.uList,i,o,0,0,"menu")},this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,h.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout(function(){l.triggerBeforeOpen(e,l.uList,i,o,n,s,"none")},this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,i,o,n,s,"none"))}else if(this.uList=this.element,this.uList.style.zIndex=zf(a||this.element).toString(),v(o)){var f=document.createEvent("MouseEvents");f.initEvent("click",!0,!1);var m=this.copyObject(f,{});m.target=m.srcElement=a,m.currentTarget=a,this.triggerBeforeOpen(e,this.uList,i,m,n,s,"none")}else this.triggerBeforeOpen(e,this.uList,i,o,n,s,"none")},t.prototype.copyObject=function(e,i){for(var n in e)i[""+n]=e[""+n];return i},t.prototype.calculateIndentSize=function(e,i){var n=getComputedStyle(i),s=parseInt(n.textIndent,10);this.navIdx.length<2&&!i.classList.contains("e-blankicon")?s*=2:s+=s/4,e.style.textIndent=s+"px";var o=e.querySelectorAll(".e-blankicon");if(o&&o.length)for(var a=e.querySelector(".e-menu-icon"),l=getComputedStyle(a),h=parseInt(l.marginRight,10)+a.offsetWidth+s,c=0;c<o.length;c++)o[c].style.textIndent=h+"px"},t.prototype.generatePopup=function(e,i,n,s){var o=this,a=new Yu(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:s||this.enableRtl?"none":"flip",Y:"fit"},position:s&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:i,open:function(){var l=Ge(".e-menu-vscroll",a.element);l&&(l.style.height="inherit",l.style.maxHeight="");var h=Ge(".e-ul",a.element);a.element.style.maxHeight="",h.focus(),o.triggerOpen(h)}});return a},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var i=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),n=this.enableHtmlSanitizer?Ms.sanitize(this.title):this.title,s=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:n}),o=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});i.appendChild(s),i.appendChild(o),e.insertBefore(i,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var i=this;this.trigger("beforeClose",{element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},function(s){s.cancel||(i.closeMenu(null,e),i.element.classList.add("e-hide-menu"),i.trigger("onClose",{element:i.element,parentItem:null,items:i.items}))})},t.prototype.callFit=function(e,i,n,s,o){return SR(e,null,{X:i,Y:n},{top:s,left:o})},t.prototype.triggerBeforeOpen=function(e,i,n,s,o,a,l){var h=this,c=e?n[this.getField("children",this.navIdx.length-1)]:this.items,d=l;this.trigger("beforeOpen",{element:i,items:c,parentItem:n,event:s,cancel:!1,top:o,left:a,showSubMenuOn:"Auto"},function(p){switch(d){case"menu":h.hamburgerMode||("Auto"!==p.showSubMenuOn&&(h.showItemOnClick=!h.defaultOption,h.showSubMenuOn=p.showSubMenuOn),h.top=p.top,h.left=p.left),h.popupWrapper.style.display="block",h.hamburgerMode||(h.popupWrapper.style.maxHeight=h.popupWrapper.getBoundingClientRect().height+"px",h.enableScrolling&&mv(h.createElement,h.popupWrapper,h.uList,"vscroll",h.enableRtl),h.checkScrollOffset(s)),h.hamburgerMode||h.left||h.top?(h.popupObj.collision={X:"none",Y:"none"},h.popupWrapper.style.display=""):(h.popupObj.refreshPosition(h.lItem,!0),h.left=parseInt(h.popupWrapper.style.left,10),h.top=parseInt(h.popupWrapper.style.top,10),h.enableRtl&&(h.left=h.isNestedOrVertical?h.left-h.popupWrapper.offsetWidth-h.lItem.parentElement.offsetWidth+2:h.left-h.popupWrapper.offsetWidth+h.lItem.offsetWidth),h.template&&(h.isReact||h.isAngular)?requestAnimationFrame(function(){h.collision(),h.popupWrapper.style.display=""}):(h.collision(),h.popupWrapper.style.display=""));break;case"none":h.top=p.top,h.left=p.left;break;case"hamburger":p.cancel||(h.element.classList.remove("e-hide-menu"),h.triggerOpen(h.element))}if("hamburger"!==d&&(p.cancel?(h.isMenu?(h.popupObj.destroy(),Ot(h.popupWrapper)):i.className.indexOf("e-ul")>-1&&Ot(i),h.navIdx.pop()):h.isMenu?h.hamburgerMode?(h.popupWrapper.style.top=h.top+"px",h.popupWrapper.style.left="0px",h.toggleAnimation(h.popupWrapper)):(h.setBlankIconStyle(h.popupWrapper),h.wireKeyboardEvent(h.popupWrapper),dh(h.popupWrapper,{selector:"."+Iw}),h.popupWrapper.style.left=h.left+"px",h.popupWrapper.style.top=h.top+"px",h.popupObj.show("None"!==h.animationSettings.effect?{name:h.animationSettings.effect,duration:h.animationSettings.duration,timingFunction:h.animationSettings.easing}:null,h.lItem)):(h.setBlankIconStyle(h.uList),h.setPosition(h.lItem,h.uList,h.top,h.left),h.toggleAnimation(h.uList))),"right"===h.keyType){var m=h.getUlByNavIdx();e.classList.remove(Wa),h.isMenu&&1===h.navIdx.length&&h.removeLIStateByClass([oa],[h.getWrapper()]),e.classList.add(oa),h.action===IO&&h.trigger("select",{element:e,item:n,event:s}),e.focus(),m=h.getUlByNavIdx();var T=h.isValidLI(m.children[0],0,h.action);m.children[T].classList.add(Wa),m.children[T].focus()}})},t.prototype.collision=function(){var e;if(e=Rf(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";var i=Je(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?gh(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-i+2}((e=Rf(this.popupWrapper,null,this.left,this.top)).indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"},t.prototype.setBlankIconStyle=function(e){var i=[].slice.call(e.getElementsByClassName("e-blankicon"));if(i.length){var n=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)");if(n){var s=n.querySelector(".e-menu-icon");if(s){var o=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},a=getComputedStyle(s),l=parseInt(a.fontSize,10);parseInt(a.width,10)&&parseInt(a.width,10)>l&&(l=parseInt(a.width,10));var h=l+parseInt(a[o.margin],10)+parseInt(getComputedStyle(n)[o.padding],10)+"px";i.forEach(function(c){c.style[o.padding]=h})}}}},t.prototype.checkScrollOffset=function(e){var i=this.getWrapper();if(i.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var n=v(e)?this.element:Je(e.target,"."+Iw),s=Ge(".e-hscroll-bar",i);s.scrollLeft>n.offsetLeft&&(s.scrollLeft-=s.scrollLeft-n.offsetLeft);var o=s.scrollLeft+s.offsetWidth,a=n.offsetLeft+n.offsetWidth;o<a&&(s.scrollLeft+=a-o)}},t.prototype.setPosition=function(e,i,n,s){var o="px";if(this.toggleVisiblity(i),i===this.element||s>-1&&n>-1){if((a=Rf(i,null,s,n)).indexOf("right")>-1&&(s-=i.offsetWidth),a.indexOf("bottom")>-1&&(n=(l=this.callFit(i,!1,!0,n,s)).top-20)<0){var h=pageYOffset+document.documentElement.clientHeight-i.getBoundingClientRect().height;h>-1&&(n=h)}(a=Rf(i,null,s,n)).indexOf("left")>-1&&(s=(l=this.callFit(i,!0,!1,n,s)).left)}else if(Ue.isDevice)n=Number(this.element.style.top.replace(o,"")),s=Number(this.element.style.left.replace(o,""));else{var l;s=(l=gh(e,this.enableRtl?"left":"right","top")).left;var a,u=(a=Rf(i,null,this.enableRtl?s-i.offsetWidth:s,n=l.top)).indexOf("left")>-1||a.indexOf("right")>-1;u&&(s=(l=gh(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||u)&&(s=this.enableRtl&&u?s:s-i.offsetWidth),a.indexOf("bottom")>-1&&(n=(l=this.callFit(i,!1,!0,n,s)).top)}this.toggleVisiblity(i,!1),i.style.top=n+o,i.style.left=s+o},t.prototype.toggleVisiblity=function(e,i){void 0===i&&(i=!0),e.style.visibility=i?"hidden":"",e.style.display=i?"block":"none"},t.prototype.createItems=function(e){var i=this,n=this.navIdx?this.navIdx.length:0,s=this.getFields(n),o=this.hasField(e,this.getField("iconCss",n)),a={showIcon:o,moduleName:"menu",fields:s,template:this.template,itemNavigable:!0,itemCreating:function(h){h.curData[h.fields[s.id]]||(h.curData[h.fields[s.id]]=Or("menuitem")),v(h.curData.htmlAttributes)&&(h.curData.htmlAttributes={}),Ue.isIE?(h.curData.htmlAttributes.role="menuitem",h.curData.htmlAttributes.tabindex="-1"):Object.assign(h.curData.htmlAttributes,{role:"menuitem",tabindex:"-1"}),i.isMenu&&!h.curData[i.getField("separator",n)]&&(h.curData.htmlAttributes["aria-label"]=h.curData[h.fields.text]?h.curData[h.fields.text]:h.curData[h.fields.id]),""===h.curData[h.fields[s.iconCss]]&&(h.curData[h.fields[s.iconCss]]=null)},itemCreated:function(h){if(h.curData[i.getField("separator",n)]&&(h.item.classList.add(xO),h.item.setAttribute("role","separator")),o&&!h.curData[h.fields.iconCss]&&!h.curData[i.getField("separator",n)]&&h.item.classList.add("e-blankicon"),h.curData[h.fields.child]&&h.curData[h.fields.child].length){var c=i.createElement("span",{className:y8+" "+m8});h.item.appendChild(c),h.item.setAttribute("aria-haspopup","true"),h.item.setAttribute("aria-expanded","false"),h.item.classList.add("e-menu-caret-icon")}i.isMenu&&i.template&&(h.item.setAttribute("id",h.curData[h.fields.id].toString()),h.item.removeAttribute("data-uid"),h.item.classList.contains("e-level-1")&&h.item.classList.remove("e-level-1"),h.item.classList.contains("e-has-child")&&h.item.classList.remove("e-has-child"),h.item.removeAttribute("aria-level")),i.trigger("beforeItemRender",{item:h.curData,element:h.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(a.templateID=this.element.id+"Template");var l=$n.createList(this.createElement,e,a,!this.template,this);return l.setAttribute("tabindex","0"),l.setAttribute("role",this.isMenu?"menu":"menubar"),l},t.prototype.moverHandler=function(e){var i=e.target;this.liTrgt=i;var n=this.getLI(i),s=n?Je(n,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),o=this.getWrapper(),a=new RegExp("-ej2menu-(.*)-popup"),h=!1;if(s){if((""!==s.id?a.exec(s.id)[1]:s.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([Wa,oa],[this.getWrapper()]),!this.navIdx.length)return;h=!0}n&&Je(n,".e-"+this.getModuleName()+"-wrapper")&&!h?(this.removeLIStateByClass([Wa],this.isMenu?[s].concat(this.getPopups()):[s]),this.removeLIStateByClass([Wa],this.isMenu?[o].concat(this.getPopups()):[o]),n.classList.add(Wa),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!h&&this.removeLIStateByClass([Wa],[s].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||i.parentElement===s||Je(i,".e-"+this.getModuleName()+"-popup")||n&&(!n||this.getIndex(n.id,!0).length)||"Hover"===this.showSubMenuOn?h&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([Wa],[s]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=Je(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([Wa,oa],[e])}},t.prototype.removeLIStateByClass=function(e,i){for(var n,s=function(a){e.forEach(function(l){(n=Ge("."+l,i[a]))&&n.classList.remove(l)})},o=0;o<i.length;o++)s(o)},t.prototype.getField=function(e,i){void 0===i&&(i=0);var n=this.fields[""+e];return"string"==typeof n?n:n[i]?n[i].toString():n[n.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,i){for(var n=0,s=e.length;n<s;n++)if(e[n][""+i])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){Je(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.className.indexOf("e-hide-menu")>-1?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var i=this.getWrapper(),n=e.target,s=this.cli=this.getLI(n),o=new RegExp("-ej2menu-(.*)-popup"),a=s?Je(s,".e-"+this.getModuleName()+"-wrapper"):null,l=s&&a&&(this.isMenu?this.getIndex(s.id,!0).length>0:i.firstElementChild.id===a.firstElementChild.id);if(Ue.isDevice&&this.isMenu&&(this.removeLIStateByClass([Wa],[i].concat(this.getPopups())),this.mouseDownHandler(e)),s&&a&&this.isMenu){var h=a.id?o.exec(a.id)[1]:a.querySelector(".e-menu-parent").id;if(this.element.id!==h)return}if(l&&"click"===e.type&&!s.classList.contains(MO)){this.setLISelected(s);var c=this.getIndex(s.id,!0),u=this.getItem(c);this.trigger("select",{element:s,item:u,event:e})}if(l&&("mouseover"===e.type||Ue.isDevice||this.showItemOnClick)){var p=void 0;if(s.classList.contains(MO))this.toggleAnimation(p=i.children[this.navIdx.length-1]),(f=this.getLIByClass(p,oa))&&f.classList.remove(oa),Ot(s.parentNode),this.navIdx.pop();else if(!s.classList.contains(xO)){this.showSubMenu=!0;var m=s.parentNode;if(this.cliIdx=this.getIdx(m,s),this.isMenu||!Ue.isDevice){var f,M=this.isMenu?Array.prototype.indexOf.call([i].concat(this.getPopups()),Je(m,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(i,m);this.navIdx[M]===this.cliIdx&&(this.showSubMenu=!1),M===this.navIdx.length||"mouseover"===e.type&&!this.showSubMenu||((f=this.getLIByClass(m,oa))&&f.classList.remove(oa),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(s),this.closeMenu(M+1,e),this.showItemOnClick&&this.setLISelected(s))}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===n.tagName&&this.navIdx.length&&Je(n,".e-menu-vscroll")){var T=Je(n,"."+Mw),P=Array.prototype.indexOf.call(this.getPopups(),T)+1;P<this.navIdx.length&&(this.closeMenu(P+1,e),T&&this.removeLIStateByClass([Wa,oa],[T]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):("UL"!==n.tagName||(this.isMenu?n.parentElement.classList.contains("e-menu-wrapper")&&!this.getIndex(n.querySelector("."+Iw).id,!0).length:n.parentElement!==i))&&(s||this.removeLIStateByClass([oa],[i]),(!s||!s.querySelector("."+m8))&&this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){if(!v(e)){var i;if(this.showSubMenu){i=Je(this.showItemOnClick&&0===this.navIdx.length?e.target:this.element,".e-menu-parent.e-control");var n=this.navIdx.concat(this.cliIdx),s=this.getItem(n);if(s&&s[this.getField("children",n.length-1)]&&s[this.getField("children",n.length-1)].length?(("mouseover"===e.type||Ue.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&i||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,s,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!i){var o=this.getUlByNavIdx(),a=this.getLIByClass(o,oa);a&&(a.setAttribute("aria-expanded","false"),a.classList.remove(oa))}}this.keyType=""}},t.prototype.setLISelected=function(e){var i=this.getLIByClass(e.parentElement,oa);i&&i.classList.remove(oa),this.isMenu||e.classList.remove(Wa),e.classList.add(oa)},t.prototype.getLIByClass=function(e,i){for(var n=0,s=e.children.length;n<s;n++)if(e.children[n].classList.contains(i))return e.children[n];return null},t.prototype.getItemIndex=function(e,i){return this.getIndex("string"==typeof e?e:e.id,!1!==i)},t.prototype.setItem=function(e,i,n){var o=this.getIndex(n?i||e.id:i||e.text,n),a=this.getItem(o);Object.assign(a,e)},t.prototype.getItem=function(e){var i=(e=e.slice()).pop();return this.getItems(e)[i]},t.prototype.getItems=function(e){for(var i=this.items,n=0;n<e.length;n++)i=i[e[n]][this.getField("children",n)];return i},t.prototype.setItems=function(e,i){var n=this.getItems(i);n.splice(0,n.length);for(var s=0;s<e.length;s++)n.splice(s,0,e[s])},t.prototype.getIdx=function(e,i,n){void 0===n&&(n=!0);var s=Array.prototype.indexOf.call(e.children,i);return n&&e.children[0].classList.contains(MO)&&s--,s},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:Je(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,i=0,n=0;n<this.navIdx.length&&(e=e[n].items);n++){i++;var s=this.getUlByNavIdx(i);if(!s)break;this.updateItem(s,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,i){for(var n=this,s=this.getWrapper(),o=function(u){switch(u){case"cssClass":i.cssClass&&Ae([s],i.cssClass.split(" ")),e.cssClass&&be([s],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":s.classList.toggle("e-rtl");break;case"showItemOnClick":a.unWireEvents(),a.showItemOnClick=e.showItemOnClick,a.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var d;a.element.classList.contains("e-vertical")?mv(a.createElement,s,a.element,"vscroll",a.enableRtl):mv(a.createElement,s,a.element,"hscroll",a.enableRtl),a.getPopups().forEach(function(Y){d=Ge(".e-ul",Y),mv(n.createElement,Y,d,"vscroll",n.enableRtl)})}else{var p=s.children[0];a.element.classList.contains("e-vertical")?Cw(_o(p,bw),p):Cw(_o(p,Sx),p),s.style.overflow="",s.appendChild(a.element),a.getPopups().forEach(function(Y){Cw(_o(p=Y.children[0],bw),p),Y.style.overflow=""})}break;case"items":var f=void 0,m=void 0,M=void 0;if(a.isReact&&a.template&&a.clearTemplate(["template"]),Object.keys(i.items).length)for(var U=Object.keys(e.items),T=0;T<U.length;T++)(m=a.getChangedItemIndex(e,[],Number(U[T]))).length<=a.getWrapper().children.length&&(f=m.pop(),M=a.getItems(m),a.insertAfter([M[f]],M[f].text),a.removeItem(M,m,f),a.setItems(M,m)),m.length=0;else{if(a.updateItem(a.element,a.items),a.enableScrolling&&a.element.parentElement.classList.contains("e-custom-scroll")&&(a.element.classList.contains("e-vertical")?mv(a.createElement,s,a.element,"vscroll",a.enableRtl):mv(a.createElement,s,a.element,"hscroll",a.enableRtl)),!a.hamburgerMode){T=1;for(var P=s.childElementCount;T<P;T++)Ot(s.lastElementChild)}a.navIdx=[]}}},a=this,l=0,h=Object.keys(e);l<h.length;l++)o(h[l])},t.prototype.updateItem=function(e,i){if(ge()&&!this.isMenu)e=this.removeChildElement(e);else{if(this.enableScrolling){var s=this.getWrapper().children[0];this.element.classList.contains("e-vertical")?Cw(_o(s,bw),s):Cw(_o(s,Sx),s)}e.innerHTML=""}[].slice.call(this.createItems(i).children).forEach(function(a){e.appendChild(a)})},t.prototype.getChangedItemIndex=function(e,i,n){i.push(n);var s=Object.keys(e.items[n]).pop();if("items"===s){var o=e.items[n],a=Object.keys(o.items).pop();a&&this.getChangedItemIndex(o,i,Number(a))}else"isParentArray"===s&&i.length>1&&i.pop();return i},t.prototype.removeItem=function(e,i,n){e.splice(n,1);var s=this.getWrapper().children;i.length<s.length&&Ot(s[i.length].children[n])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var i=this.getWrapper();if(e){for(var n=void 0,s=void 0,o=bi(e),a=0,l=o.length;a<l;a++)n=o[a],this.isMenu?$.remove(n,"click",this.menuHeaderClickHandler):Ue.isIos?(s=_o(n,ph))&&s.destroy():$.remove(n,"contextmenu",this.cmenuHandler);if(!this.isMenu){$.remove(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler);for(var h=0,c=TR(this.targetElement);h<c.length;h++)$.remove(c[h],"mousewheel DOMMouseScroll",this.scrollHandler)}}Ue.isDevice||($.remove(this.isMenu?document:i,"mouseover",this.delegateMoverHandler),$.remove(document,"mousedown",this.delegateMouseDownHandler)),$.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(i),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var i=_o(e,Fa);i&&i.destroy()},t.prototype.toggleAnimation=function(e,i){var s,o,n=this;void 0===i&&(i=!0),"None"!==this.animationSettings.effect&&i?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(a){n.hamburgerMode?(o=a.element.parentElement,a.element.style.position="absolute",s=o.offsetHeight,a.element.style.maxHeight=a.element.offsetHeight+"px",o.style.maxHeight=""):(a.element.style.display="block",a.element.style.maxHeight=a.element.getBoundingClientRect().height+"px")},progress:function(a){n.hamburgerMode&&(o.style.minHeight=s+a.element.offsetHeight+"px")},end:function(a){n.hamburgerMode?(a.element.style.position="",a.element.style.maxHeight="",o.style.minHeight="",a.element.style.top="0px",a.element.children[0].focus(),n.triggerOpen(a.element.children[0])):n.end(a.element,i)}}):this.end(e,i)},t.prototype.triggerOpen=function(e){var i=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:i,items:i?i.items:this.items}),this.isMenu||$.add(e,"keydown",this.keyHandler,this)},t.prototype.end=function(e,i){if(i)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+Wa))e.querySelector("."+Wa).focus();else{var n=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];this.currentTarget&&(this.currentTarget.classList.contains("e-numerictextbox")||this.currentTarget.classList.contains("e-textbox")||"INPUT"===this.currentTarget.tagName)||(n?n.querySelector("."+oa).focus():this.element.focus())}else if(e===this.element){var s=this.getLIByClass(this.element,Wa);s&&s.classList.remove(Wa);var o=this.getLIByClass(this.element,oa);o&&o.classList.remove(oa),e.style.display="none"}else Ot(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return Je(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,i,n,s,o,a){var l;void 0===n&&(n=this.items),void 0===s&&(s=[]),void 0===o&&(o=!1),void 0===a&&(a=0),a=o?a+1:0;for(var h=0,c=n.length;h<c;h++){if(l=n[h],(i?l[this.getField("itemId",a)]:l[this.getField("text",a)])===e){s.push(h);break}if(l[this.getField("children",a)]&&l[this.getField("children",a)].length){if(-1!==(s=this.getIndex(e,i,l[this.getField("children",a)],s,!0,a))[s.length-1]){s.unshift(h);break}h!==c-1&&s.pop()}else h===c-1&&s.push(-1)}return o||-1!==s[0]?s:[]},t.prototype.enableItems=function(e,i,n){void 0===i&&(i=!0);for(var s,o,a,h,l=Oz,c=0;c<e.length;c++){if(a=this.getIndex(e[c],n),this.navIdx.length){if(1!==a.length){h=!1;for(var u=0,d=a.length-1;u<d;u++)if(a[u]!==this.navIdx[u]){h=!0;break}if(h)continue}}else if(1!==a.length)continue;o=a.pop(),(s=this.getUlByNavIdx(a.length))&&!v(o)&&(i?this.isMenu?(s.children[o].classList.remove(l),s.children[o].removeAttribute("aria-disabled")):Ue.isDevice&&!s.classList.contains("e-contextmenu")?s.children[o+1].classList.remove(l):s.children[o].classList.remove(l):this.isMenu?(s.children[o].classList.add(l),s.children[o].setAttribute("aria-disabled","true")):Ue.isDevice&&!s.classList.contains("e-contextmenu")?s.children[o+1].classList.add(l):s.children[o].classList.add(l))}},t.prototype.showItems=function(e,i){this.showHideItems(e,!1,i)},t.prototype.hideItems=function(e,i){this.showHideItems(e,!0,i)},t.prototype.showHideItems=function(e,i,n){for(var s,o,a,l=0;l<e.length;l++)if(o=(a=this.getIndex(e[l],n)).pop(),s=this.getUlByNavIdx(a.length)){var h=n?s.children[o].id:s.children[o].textContent;i&&h===e[l]?s.children[o].classList.add(EO):!i&&h===e[l]&&s.children[o].classList.remove(EO)}},t.prototype.removeItems=function(e,i){for(var n,s,o,a=0;a<e.length;a++)n=(s=this.getIndex(e[a],i)).pop(),o=this.getItems(s),v(n)||this.removeItem(o,s,n)},t.prototype.insertAfter=function(e,i,n){this.insertItems(e,i,n)},t.prototype.insertBefore=function(e,i,n){this.insertItems(e,i,n,!1)},t.prototype.insertItems=function(e,i,n,s){void 0===s&&(s=!0);for(var o,a,l,h,c,u=0;u<e.length;u++){a=(l=this.getIndex(i,n)).pop(),h=this.getItems(l),c=new Mx(h[0],"items",e[u],!0),h.splice(s?a+1:a,0,c);var d=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(!v(a)&&l.length<d.length){a=s?a+1:a,o=this.createItems(h).children[a];var p=this.isMenu?Ge(".e-menu-parent",d[l.length]):d[l.length];p.insertBefore(o,p.children[a])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach(function(i){e.element.style.removeProperty(i)}),["role","tabindex","class","style"].forEach(function(i){"class"===i&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),(-1===["class","style"].indexOf(i)||!e.element.getAttribute(i))&&e.element.removeAttribute(i),e.isMenu&&"class"===i&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")})},t.prototype.destroy=function(){var e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),ge()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)be([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var i=this.clonedElement.nextElementSibling;i&&i!==e?this.clonedElement.parentElement.insertBefore(this.element,i):this.clonedElement.parentElement.appendChild(this.element),ge()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",Yi([].slice.call(this.clonedElement.children),this.element),Ot(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(Ot(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):Ot(e),r.prototype.destroy.call(this),this.template&&this.clearTemplate(["template"])}this.rippleFn=null},Ns([Se()],t.prototype,"beforeItemRender",void 0),Ns([Se()],t.prototype,"beforeOpen",void 0),Ns([Se()],t.prototype,"onOpen",void 0),Ns([Se()],t.prototype,"beforeClose",void 0),Ns([Se()],t.prototype,"onClose",void 0),Ns([Se()],t.prototype,"select",void 0),Ns([Se()],t.prototype,"created",void 0),Ns([O("")],t.prototype,"cssClass",void 0),Ns([O(0)],t.prototype,"hoverDelay",void 0),Ns([O(!1)],t.prototype,"showItemOnClick",void 0),Ns([O("")],t.prototype,"target",void 0),Ns([O("")],t.prototype,"filter",void 0),Ns([O(null)],t.prototype,"template",void 0),Ns([O(!1)],t.prototype,"enableScrolling",void 0),Ns([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ns([Lt({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},C8)],t.prototype,"fields",void 0),Ns([Qn([],Mx)],t.prototype,"items",void 0),Ns([Lt({duration:400,easing:"ease",effect:"SlideDown"},S8)],t.prototype,"animationSettings",void 0),Ns([Jn],t)}(Xr),I8=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eo=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Lz="e-vertical",Xo="e-toolbar-items",aa="e-toolbar-item",Wf="e-rtl",ka="e-separator",AO="e-popup-up-icon",xx="e-popup-down-icon",M8="e-popup-open",x8="e-template",Uc="e-overlay",D8="e-toolbar-text",kz="e-popup-text",Bp="e-overflow-show",OO="e-overflow-hide",lu="e-hor-nav",T8="e-scroll-nav",E8="e-toolbar-center",Fp="e-tbar-pos",A8="e-hscroll-bar",Dx="e-toolbar-pop",my="e-toolbar-popup",Tx="e-nav-active",Ex="e-ignore",Nz="e-popup-alone",bv="e-hidden",O8="e-toolbar-multirow",L8="e-multirow-pos",Pz="e-multirow-separator",_z="e-extended-separator",k8="e-extended-toolbar",LO="e-toolbar-extended",Rz="e-tbar-extended",gpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return I8(t,r),eo([O("")],t.prototype,"id",void 0),eo([O("")],t.prototype,"text",void 0),eo([O("auto")],t.prototype,"width",void 0),eo([O("")],t.prototype,"cssClass",void 0),eo([O(!1)],t.prototype,"showAlwaysInPopup",void 0),eo([O(!1)],t.prototype,"disabled",void 0),eo([O("")],t.prototype,"prefixIcon",void 0),eo([O("")],t.prototype,"suffixIcon",void 0),eo([O(!0)],t.prototype,"visible",void 0),eo([O("None")],t.prototype,"overflow",void 0),eo([O("")],t.prototype,"template",void 0),eo([O("Button")],t.prototype,"type",void 0),eo([O("Both")],t.prototype,"showTextOn",void 0),eo([O(null)],t.prototype,"htmlAttributes",void 0),eo([O("")],t.prototype,"tooltipText",void 0),eo([O("Left")],t.prototype,"align",void 0),eo([Se()],t.prototype,"click",void 0),eo([O(-1)],t.prototype,"tabIndex",void 0),t}(ii),N8=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return I8(t,r),t.prototype.destroy=function(){var e=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(n){!v(n)&&!v(n.ej2_instances)&&!v(n.ej2_instances[0])&&!n.ej2_instances[0].isDestroyed&&n.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(n){v(e.element.querySelector(n))||(document.body.appendChild(e.element.querySelector(n)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),Ot(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&Ae([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(n){return e.element.removeAttribute(n)}),r.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(Lz),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,Wf)},t.prototype.wireEvents=function(){$.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new Fa(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),$.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var i=this.element.querySelector("."+aa+":not(."+Uc+" ):not(."+ka+" ):not(."+bv+" )");if(!v(i)&&!v(i.firstElementChild)){var n=i.firstElementChild.getAttribute("data-tabindex");n&&"-1"===n&&"INPUT"!==i.firstElementChild.tagName&&i.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&($.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var i=!v(this.popObj)&&ra(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&i&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){$.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),$.remove(document,"scroll",this.docEvent),$.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var i=Je(e.target,".e-popup");this.popObj&&ra(this.popObj.element)&&!i&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,Fp),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+aa)).forEach(function(i){Ot(i)}),this.tbarAlign){var e=this.element.querySelector("."+Xo);[].slice.call(e.children).forEach(function(i){Ot(i)}),this.tbarAlign=!1,this.remove(e,Fp)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,Wf),this.destroyScroll()),this.remove(this.element,Rz),this.remove(this.element,k8);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,O8),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,i){e.classList.add(i)},t.prototype.remove=function(e,i){e.classList.remove(i)},t.prototype.elementFocus=function(e){var i=e.firstElementChild;i?(i.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,i){return e&&this.popObj&&ra(this.popObj.element)?this.popObj.element.querySelector("."+aa):this.element===i||e?this.element.querySelector("."+aa+":not(."+Uc+" ):not(."+ka+" ):not(."+bv+" )"):Je(i,"."+aa)},t.prototype.keyHandling=function(e,i,n,s,o){var u,d,a=this.popObj,l=this.element,h={name:"FadeOut",duration:100},c="moveUp"===i.action?"previous":"next";switch(i.action){case"moveRight":if(this.isVertical)return;l===n?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var p=Je(e,".e-popup"),f=this.element.querySelector("."+LO);"Extended"===this.overflowMode&&f&&f.classList.contains("e-popup-open")&&(p="end"===i.action?f:null),p?ra(this.popObj.element)&&(d=[].slice.call(p.children),u="home"===i.action?this.focusFirstVisibleEle(d):this.focusLastVisibleEle(d)):(d=this.element.querySelectorAll("."+Xo+" ."+aa+":not(."+ka+")"),u="home"===i.action?this.focusFirstVisibleEle(d):this.focusLastVisibleEle(d)),u&&this.elementFocus(u)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===i.action?"previous":"next");else if(a&&Je(n,".e-popup")){var m=a.element,M=m.firstElementChild;"previous"===c&&M===e?m.lastElementChild.firstChild.focus():"next"===c&&m.lastElementChild===e?M.firstChild.focus():this.eleFocus(e,c)}else"moveDown"===i.action&&a&&ra(a.element)&&this.elementFocus(e);break;case"tab":if(!o&&!s){var T=e.firstElementChild;l===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(T),T.focus()))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(h);break;case"popupOpen":if(!s)return;a&&!ra(a.element)?(a.element.style.top=l.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(h)}},t.prototype.keyActionHandler=function(e){var i=e.target;if("INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!this.element.classList.contains(Uc)){e.preventDefault();var n=i.classList.contains(lu),s=i.classList.contains(T8),o=this.clstElement(n,i);(o||s)&&this.keyHandling(o,e,i,n,s)}},t.prototype.disable=function(e){var i=this.element;e?i.classList.add(Uc):i.classList.remove(Uc),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(ra(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(ka)||e.classList.contains(Uc)||e.getAttribute("disabled")||e.classList.contains(bv)||!ra(e)||!e.classList.contains(aa)},t.prototype.focusFirstVisibleEle=function(e){for(var n=0;n<e.length;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(bv)&&!s.classList.contains(Uc))return s;n++}},t.prototype.focusLastVisibleEle=function(e){for(var n=e.length-1;n>=0;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(bv)&&!s.classList.contains(Uc))return s;n--}},t.prototype.eleFocus=function(e,i){var n=Object(e)[i+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,i);this.elementFocus(n)}else if(this.tbarAlign){var o=Object(e.parentElement)[i+"ElementSibling"];if(!v(o)&&0===o.children.length&&(o=Object(o)[i+"ElementSibling"]),!v(o)&&o.children.length>0)if("next"===i){var a=o.querySelector("."+aa);this.eleContains(a)?this.eleFocus(a,i):(a.firstElementChild.focus(),this.activeEleSwitch(a))}else this.eleContains(a=o.lastElementChild)?this.eleFocus(a,i):this.elementFocus(a)}else if(!v(e)){var l=this.element.querySelectorAll("."+Xo+" ."+aa+":not(."+ka+"):not(."+Uc+"):not(."+bv+")");"next"===i&&l?this.elementFocus(l[0]):"previous"===i&&l&&this.elementFocus(l[l.length-1])}},t.prototype.clickHandler=function(e){var i=this,n=e.target,s=this.element,o=!v(Je(n,"."+Dx)),a=n.classList,l=Je(n,"."+lu);l||(l=n),!s.children[0].classList.contains("e-hscroll")&&!s.children[0].classList.contains("e-vscroll")&&a.contains(lu)&&(a=n.querySelector(".e-icons").classList),(a.contains(AO)||a.contains(xx))&&this.popupClickHandler(s,l,Wf);var h,c=Je(e.target,"."+aa);if(!v(c)&&!c.classList.contains(Uc)||l.classList.contains(lu)){c&&(h=this.items[this.tbarEle.indexOf(c)]);var d={originalEvent:e,item:h};h&&!v(h.click)&&this.trigger("items["+this.tbarEle.indexOf(c)+"].click",d),d.cancel||this.trigger("clicked",d,function(p){!v(i.popObj)&&o&&!p.cancel&&"Popup"===i.overflowMode&&p.item&&"Input"!==p.item.type&&i.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,i,n){var s=this.popObj;ra(s.element)?(i.classList.remove(Tx),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0===s.offsetX&&!e.classList.contains(n)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),i.classList.add(Tx),s.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},t.prototype.initialize=function(){var e=si(this.width),i=si(this.height);("msie"!==Ue.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&$i(this.element,{height:i}),$i(this.element,{width:e}),wi(this.element,{role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&be([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,i){var n,s;this.tbarEle||(this.tbarEle=[]);for(var o=0;o<e.length;o++)n=this.renderSubComponent(e[parseInt(o.toString(),10)],o),-1===this.tbarEle.indexOf(n)&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[parseInt(o.toString(),10)],i,o),(s=i.querySelector(".e-toolbar-"+e[parseInt(o.toString(),10)].align.toLowerCase()))?(e[parseInt(o.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(o.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(o.toString(),10)].align+"s").toLowerCase()].push(n),s.appendChild(n)):i.appendChild(n);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(Lz),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(Lz),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),$i(this.element,{height:si(this.height),width:si(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,i){!this.scrollModule&&this.checkOverflow(e,i[0])&&(this.tbarAlign&&this.element.querySelector("."+Xo+" ."+E8).removeAttribute("style"),this.scrollModule=this.isVertical?new bw({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):new Sx({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.cssClass&&be([i[0]],this.cssClass.split(" ")),this.remove(this.scrollModule.element,Fp),$i(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var s,i=this,n=0;return[].slice.call(bi("."+aa,e)).forEach(function(o){ra(o)&&(s=window.getComputedStyle(o),n+=i.isVertical?o.offsetHeight:o.offsetWidth,n+=parseFloat(i.isVertical?s.marginTop:s.marginRight),n+=parseFloat(i.isVertical?s.marginBottom:s.marginLeft))}),n},t.prototype.getScrollCntEle=function(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")},t.prototype.checkOverflow=function(e,i){if(v(e)||v(i)||!ra(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,s=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||n===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var o=e.querySelector("."+lu),a=e.querySelector("."+T8),l=0;return o?l=this.isVertical?o.offsetHeight:o.offsetWidth:a&&(l=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),s>n-l},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,Fp),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+Xo),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===Ue.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":v(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(Xo)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,i)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(i);break;case"MultiRow":this.add(i,O8),this.checkOverflow(e,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,L8)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===Ue.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,k8),(this.checkOverflow(e,i)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(i)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(bi("."+Xo+" ."+aa,e))),wi(this.element.querySelector("."+lu),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},t.prototype.separator=function(){var e=this.element,i=[].slice.call(e.querySelectorAll("."+ka)),n=e.querySelector("."+Pz),s=e.querySelector("."+_z),o="MultiRow"===this.overflowMode?n:s;null!==o&&("MultiRow"===this.overflowMode?o.classList.remove(Pz):"Extended"===this.overflowMode&&o.classList.remove(_z));for(var a=0;a<=i.length-1;a++)i[parseInt(a.toString(),10)].offsetLeft<30&&0!==i[parseInt(a.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?i[parseInt(a.toString(),10)].classList.add(Pz):"Extended"===this.overflowMode&&i[parseInt(a.toString(),10)].classList.add(_z))},t.prototype.createPopupEle=function(e,i){var n=e.querySelector("."+lu),s=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector("."+lu);var a=(s?e.offsetHeight:e.offsetWidth)-(s?n.offsetHeight:n.offsetWidth);this.element.classList.remove("e-rtl"),$i(this.element,{direction:"initial"}),this.checkPriority(e,i,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,i,n,s,o){var a=e.element,l=[].slice.call(bi("."+my,a.querySelector("."+Xo))),h=bi("."+Bp,n),c=0,u=0;l.forEach(function(m,M){h=bi("."+Bp,n),m.classList.contains(Bp)&&h.length>0?e.tbResize&&h.length>M?(n.insertBefore(m,h[parseInt(M.toString(),10)]),++u):(n.insertBefore(m,n.children[h.length]),++u):m.classList.contains(Bp)||e.tbResize&&m.classList.contains(OO)&&n.children.length>0&&0===h.length?(n.insertBefore(m,n.firstChild),++u):m.classList.contains(OO)?i.push(m):e.tbResize?(n.insertBefore(m,n.childNodes[c+u]),++c):n.appendChild(m),m.classList.contains(ka)?$i(m,{display:"",height:o+"px"}):$i(m,{display:"",height:s+"px"})}),i.forEach(function(m){n.appendChild(m)});for(var d=bi("."+aa,a.querySelector("."+Xo)),p=d.length-1;p>=0;p--){var f=d[parseInt(p.toString(),10)];if(!f.classList.contains(ka)||"Extended"===this.overflowMode)break;$i(f,{display:"none"})}},t.prototype.createPopup=function(){var i,n,e=this.element;"Extended"===this.overflowMode&&(n=e.querySelector("."+ka),i="auto"===e.style.height||""===e.style.height?null:n&&n.offsetHeight);var a,s=e.querySelector("."+aa+":not(."+ka+"):not(."+my+")"),o="auto"===e.style.height||""===e.style.height?null:s&&s.offsetHeight;if(Ge("#"+e.id+"_popup."+Dx,e))a=Ge("#"+e.id+"_popup."+Dx,e);else{var h=this.createElement("div",{id:e.id+"_popup",className:Dx+" "+LO}),c=this.createElement("div",{id:e.id+"_popup",className:Dx});a="Extended"===this.overflowMode?h:c}this.pushingPoppedEle(this,[],a,o,i),this.popupInit(e,a)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,i){if(this.popObj){var a=this.popObj.element;$i(a,{maxHeight:"",display:"block"}),$i(a,{maxHeight:a.offsetHeight+"px",display:""})}else{e.appendChild(i),this.cssClass&&be([i],this.cssClass.split(" ")),$i(this.element,{overflow:""});var n=window.getComputedStyle(this.element),s=new Yu(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(s.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth),s.offsetX=0),s.appendTo(i),$.add(document,"scroll",this.docEvent.bind(this)),$.add(document,"click ",this.docEvent.bind(this)),s.element.style.maxHeight=s.element.offsetHeight+"px",this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){var o=this.element.querySelector("."+lu);o.classList.add(Tx),dl(o.firstElementChild,[AO],[xx]),this.element.querySelector("."+LO).classList.add(M8)}else s.hide();this.popObj=s}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,Rz):this.remove(this.element,Rz))},t.prototype.popupOpen=function(e){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var n=this.popObj.element,s=this.popObj.element.parentElement,o=s.querySelector("."+lu);o.setAttribute("aria-expanded","true"),$i(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="");var a=n.offsetTop+n.offsetHeight+gh(s).top,l=o.firstElementChild;o.classList.add(Tx),dl(l,[AO],[xx]),this.tbarPopupHandler(!0);var h=v(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+h<a&&this.element.offsetTop<n.offsetHeight){var c=n.offsetHeight-(a-window.innerHeight-h+5);i.height=c+"px";for(var u=0;u<=n.childElementCount;u++){var d=n.children[parseInt(u.toString(),10)];if(d.offsetTop+d.offsetHeight>c){c=d.offsetTop;break}}$i(i.element,{maxHeight:c+"px"})}else if(this.isVertical){var p=this.element.getBoundingClientRect();$i(i.element,{maxHeight:p.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(i){var f=n.getBoundingClientRect();f.right>document.documentElement.clientWidth&&f.width>s.getBoundingClientRect().width&&(i.collision={Y:"none"},i.dataBind()),i.refreshPosition()}},t.prototype.popupClose=function(e){var n=this.element.querySelector("."+lu);n.setAttribute("aria-expanded","false");var s=n.firstElementChild;n.classList.remove(Tx),dl(s,[xx],[AO]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,i,n,s){for(var h,o=this.popupPriCount>0,l=n,u=0,d=0,p=0,f=function(Q,oe){var de=!1;return oe.forEach(function(Me){Q.classList.contains(Me)&&(de=!0)}),de},m=i.length-1;m>=0;m--){var M=void 0,T=window.getComputedStyle(i[parseInt(m.toString(),10)]);this.isVertical?(M=parseFloat(T.marginTop),M+=parseFloat(T.marginBottom)):(M=parseFloat(T.marginRight),M+=parseFloat(T.marginLeft));var P=i[parseInt(m.toString(),10)]===this.tbarEle[0];P&&(this.tbarEleMrgn=M),h=this.isVertical?i[parseInt(m.toString(),10)].offsetHeight:i[parseInt(m.toString(),10)].offsetWidth;var U=P?h+M:h;if(f(i[parseInt(m.toString(),10)],[Nz])&&o&&(i[parseInt(m.toString(),10)].classList.add(my),$i(i[parseInt(m.toString(),10)],this.isVertical?{display:"none",minHeight:U+"px"}:{display:"none",minWidth:U+"px"}),p++),this.isVertical?i[parseInt(m.toString(),10)].offsetTop+i[parseInt(m.toString(),10)].offsetHeight+M>n:i[parseInt(m.toString(),10)].offsetLeft+i[parseInt(m.toString(),10)].offsetWidth+M>n){if(i[parseInt(m.toString(),10)].classList.contains(ka)){if("Extended"===this.overflowMode)f(Y=i[parseInt(m.toString(),10)],[ka,Ex])&&(i[parseInt(m.toString(),10)].classList.add(my),p++),d++;else if("Popup"===this.overflowMode){var Y;u>0&&d===p&&f(Y=i[m+d+(u-1)],[ka,Ex])&&$i(Y,{display:"none"}),u++,d=0,p=0}}else d++;i[parseInt(m.toString(),10)].classList.contains(Bp)&&s||f(i[parseInt(m.toString(),10)],[ka,Ex])?n-=(this.isVertical?i[parseInt(m.toString(),10)].offsetHeight:i[parseInt(m.toString(),10)].offsetWidth)+M:(i[parseInt(m.toString(),10)].classList.add(my),$i(i[parseInt(m.toString(),10)],this.isVertical?{display:"none",minHeight:U+"px"}:{display:"none",minWidth:U+"px"}),p++)}}if(s){var X=bi("."+aa+":not(."+my+")",this.element);this.checkPriority(e,X,l,!1)}},t.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-hor-nav"),s=this.createElement("div",{id:i,className:n="Extended"===this.overflowMode?n+" e-expended-nav":n});("msie"===Ue.info.name||"edge"===Ue.info.name)&&s.classList.add("e-ie-align");var o=this.createElement("div",{className:xx+" e-icons"});s.appendChild(o),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),e.appendChild(s)},t.prototype.tbarPriRef=function(e,i,n,s,o,a,l,h,c){var u=h,p="."+aa+":not(."+ka+"):not(."+Bp+")",f=bi("."+my+":not(."+Bp+")",this.popObj.element).length,m=function(Y,X){return Y.classList.contains(X)};if(0===bi(p,e).length){var M=e.children[i-(i-n)-1],T=!v(M)&&m(M,Ex);if(!v(M)&&m(M,ka)&&!ra(M)||T){M.style.display="unset";var P=M.offsetWidth+2*parseFloat(window.getComputedStyle(M).marginRight),U=M.previousElementSibling;a+P<l||o?(e.insertBefore(s,e.children[i+u-(i-n)]),v(U)||(U.style.display="")):($i(s,c),U.classList.contains(ka)&&(U.style.display="none")),M.style.display=""}else e.insertBefore(s,e.children[i+u-(i-n)])}else e.insertBefore(s,e.children[i+u-f])},t.prototype.popupRefresh=function(e,i){var n=this,s=this.element,o=this.isVertical,a=s.querySelector("."+Xo),l=s.querySelector("."+lu);if(!v(l)){var h;a.removeAttribute("style"),e.style.display="block",h=o?s.offsetHeight-(l.offsetHeight+a.offsetHeight):s.offsetWidth-(l.offsetWidth+a.offsetWidth);var c=0;[].slice.call(e.children).forEach(function(u){c+=n.popupEleWidth(u),$i(u,{position:""})}),h+(o?l.offsetHeight:l.offsetWidth)>c&&0===this.popupPriCount&&(i=!0),this.popupEleRefresh(h,e,i),e.style.display="",0===e.children.length&&l&&this.popObj&&(Ot(l),l=null,this.popObj.destroy(),Ot(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,i){var n=[].slice.call(i.querySelectorAll("."+Ex)),s=[],o=0;return n.length>0?(n.forEach(function(a){s.push([].slice.call(i.children).indexOf(a))}),s.forEach(function(a){a<=e&&o++}),o):0},t.prototype.checkPopupRefresh=function(e,i){i.style.display="block";var n=this.popupEleWidth(i.firstElementChild);i.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector("."+lu).offsetWidth,o=e.querySelector("."+Xo).offsetWidth;return i.style.removeProperty("display"),s>n+o},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(kz)){var s=e.children[0];!v(n)&&e.classList.contains(kz)?n.style.display="none":!v(n)&&e.classList.contains(D8)&&(n.style.display="block"),s.style.minWidth="0%",i=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",v(n)||(n.style.display="")}return i},t.prototype.popupEleRefresh=function(e,i,n){for(var a,l,s=this.popupPriCount>0,o=this.tbarEle,h=this.element.querySelector("."+Xo),c=0,u=function(P){if(P.classList.contains(Nz)&&s&&!n)return"continue";var U=d.popupEleWidth(P);if(P===d.tbarEle[0]&&(U+=d.tbarEleMrgn),P.style.position="",!(U<e||n))return"break";var Y={minWidth:P.style.minWidth,height:P.style.height,minHeight:P.style.minHeight};if($i(P,{minWidth:"",height:"",minHeight:""}),P.classList.contains(OO)||P.classList.remove(my),l=d.tbarEle.indexOf(P),d.tbarAlign){var X=d.items[parseInt(l.toString(),10)].align;l=d.tbarAlgEle[(X+"s").toLowerCase()].indexOf(P),o=d.tbarAlgEle[(X+"s").toLowerCase()],h=d.element.querySelector("."+Xo+" .e-toolbar-"+X.toLowerCase())}var Q=0;"Extended"!==d.overflowMode&&o.slice(0,l).forEach(function(oe){(oe.classList.contains(Bp)||oe.classList.contains(ka))&&(oe.classList.contains(ka)&&(oe.style.display="",e-=oe.offsetWidth),Q++)}),c=d.ignoreEleFetch(l,h),P.classList.contains(Bp)?(d.tbarPriRef(h,l,Q,P,n,U,e,c,Y),e-=P.offsetWidth):0===l?(h.insertBefore(P,h.firstChild),e-=P.offsetWidth):(a=bi("."+Bp,d.popObj.element).length,h.insertBefore(P,h.children[l+c-a]),e-=P.offsetWidth),P.style.height=""},d=this,p=0,f=[].slice.call(i.children);p<f.length&&"break"!==u(f[p]);p++);this.checkOverflow(this.element,this.element.getElementsByClassName(Xo)[0])&&!n&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+Xo);if(!v(e)&&e.classList.contains(Fp)){this.remove(e,Fp);var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+Xo);this.add(e,Fp),this.itemPositioning()},t.prototype.itemPositioning=function(){var i,e=this.element.querySelector("."+Xo);if(!v(e)&&e.classList.contains(Fp)){var s,n=this.element.querySelector("."+lu);s=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),i=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){a-=this.isVertical?n.offsetHeight:n.offsetWidth;var l=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(!(a<=i)){var h=(a-i-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var c=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+h+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=c:s[1].style.marginTop=c:this.enableRtl?s[1].style.marginRight=c:s[1].style.marginLeft=c}}},t.prototype.tbarItemAlign=function(e,i,n){var s=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var o=[];if(o.push(this.createElement("div",{className:"e-toolbar-left"})),o.push(this.createElement("div",{className:E8})),o.push(this.createElement("div",{className:"e-toolbar-right"})),0===n&&"Left"!==e.align)o.forEach(function(h){i.appendChild(h)}),this.tbarAlign=!0,this.add(i,Fp);else if("Left"!==e.align){var l=o[0];[].slice.call(i.childNodes).forEach(function(h){s.tbarAlgEle.lefts.push(h),l.appendChild(h)}),i.appendChild(l),i.appendChild(o[1]),i.appendChild(o[2]),this.tbarAlign=!0,this.add(i,Fp)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,Xo),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(n){"DIV"===n.tagName&&(e.tbarEle.push(n),v(n.firstElementChild)||n.firstElementChild.setAttribute("aria-disabled","false"),e.add(n,aa))})},t.prototype.renderItems=function(){var e=this.element,i=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&i.length>0){var n=void 0;e&&e.children.length>0&&(n=e.querySelector("."+Xo)),n||(n=this.createElement("div",{className:Xo})),this.itemsAlign(i,n),e.appendChild(n)}},t.prototype.setAttr=function(e,i){for(var s,n=Object.keys(e),o=0;o<n.length;o++)"class"===(s=n[parseInt(o.toString(),10)])?this.add(i,e[""+s]):i.setAttribute(s,e[""+s])},t.prototype.enableItems=function(e,i){var o,n=e,s=n.length;v(i)&&(i=!0);var a=function(u,d){u?(d.classList.remove(Uc),v(d.firstElementChild)||d.firstElementChild.setAttribute("aria-disabled","false")):(d.classList.add(Uc),v(d.firstElementChild)||d.firstElementChild.setAttribute("aria-disabled","true"))};if(!v(s)&&s>=1){for(var l=0,h=[].slice.call(n);l<s;l++){var c=h[parseInt(l.toString(),10)];if("number"==typeof c){if(v(o=this.getElementByIndex(c)))return;n[parseInt(l.toString(),10)]=o}else o=c;a(i,o)}i?Ae(n,Uc):be(n,Uc)}else{if("number"==typeof n){if(v(o=this.getElementByIndex(n)))return}else o=e;a(i,o)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,i){var n;this.extendedOpen();var s=this.element.querySelector("."+Xo);if(v(s))this.itemsRerender(e);else{var o,a="Left";v(i)&&(i=0),e.forEach(function(p){!v(p.align)&&"Left"!==p.align&&"Left"===a&&(a=p.align)});for(var l=0,h=e;l<h.length;l++){var c=h[l];if(v(c.type)&&(c.type="Button"),n=bi("."+aa,this.element),c.align=a,o=this.renderSubComponent(c,i),this.tbarEle.length>=i&&n.length>=0){v(this.scrollModule)&&this.destroyMode();var u="L"===c.align[0]?0:"C"===c.align[0]?1:2,d=void 0;this.tbarAlign||"Left"===a?this.tbarAlign?((d=Je(n[0],"."+Xo).children[parseInt(u.toString(),10)]).insertBefore(o,d.children[parseInt(i.toString(),10)]),this.tbarAlgEle[(c.align+"s").toLowerCase()].splice(i,0,o),this.refreshPositioning()):0===n.length?(n=bi("."+Xo,this.element))[0].appendChild(o):n[0].parentNode.insertBefore(o,n[parseInt(i.toString(),10)]):(this.tbarItemAlign(c,s,1),this.tbarAlign=!0,(d=Je(n[0],"."+Xo).children[parseInt(u.toString(),10)]).appendChild(o),this.tbarAlgEle[(c.align+"s").toLowerCase()].push(o),this.refreshPositioning()),this.items.splice(i,0,c),c.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(i,0,o),i++,this.offsetWid=s.offsetWidth}}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},t.prototype.removeItems=function(e){var n,i=e,s=[].slice.call(bi("."+aa,this.element));if("number"==typeof i)n=parseInt(e.toString(),10),this.removeItemByIndex(n,s);else if(i&&i.length>1)for(var o=0,a=[].slice.call(i);o<a.length;o++)n=this.tbarEle.indexOf(a[o]),this.removeItemByIndex(n,s),s=bi("."+aa,this.element);else n=s.indexOf(i&&i.length&&1===i.length?i[0]:e),this.removeItemByIndex(n,s);this.resize()},t.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[parseInt(e.toString(),10)]&&i[parseInt(e.toString(),10)]){var n=this.tbarEle.indexOf(i[parseInt(e.toString(),10)]);if(this.tbarAlign){var s=this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(n.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].splice(parseInt(s.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(i[parseInt(e.toString(),10)]);var o=i[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");!v(o)&&!v(o.ej2_instances[0])&&!o.ej2_instances[0].isDestroyed&&o.ej2_instances[0].destroy(),Ot(i[parseInt(e.toString(),10)]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},t.prototype.templateRender=function(e,i,n,s){var l,a=e;if("object"==typeof e&&(l="function"==typeof a.appendTo),"string"!=typeof e&&l)"Input"===n.type&&((d=this.createElement("input")).id=n.id?n.id:Or("tbr-ipt"),i.appendChild(d),a.appendTo(d));else{var c,h=void 0,u=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);c="string"==typeof e?e.trim():e;try{if("object"!=typeof e||v(e.tagName))if("string"==typeof e&&u.test(c))i.innerHTML=c;else if(document.querySelectorAll(c).length){var d,p=(d=document.querySelector(c)).outerHTML.trim();i.appendChild(d),d.style.display="",v(p)||this.tempId.push(c)}else h=wn(c);else i.appendChild(e)}catch{h=wn(c)}var f=void 0;v(h)||(f=h({},this,"template",this.element.id+s+"_template",this.isStringTemplate,void 0,void 0,this.root)),!v(f)&&f.length>0&&[].slice.call(f).forEach(function(M){v(M.tagName)||(M.style.display=""),i.appendChild(M)})}this.add(i,x8),this.tbarEle.push(i)},t.prototype.buttonRendering=function(e,i){var n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var o,a,s=e.text;n.id=e.id?e.id:Or("e-tbr-btn");var l=this.createElement("span",{className:"e-tbar-btn-text"});s?(l.innerHTML=this.enableHtmlSanitizer?Ms.sanitize(s):s,n.appendChild(l),n.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(o=e.prefixIcon+" e-icons",a="Left"):(o=e.suffixIcon+" e-icons",a="Right"));var h=new Io({iconCss:o,iconPosition:a});return h.createElement=this.createElement,h.appendTo(n),e.width&&$i(n,{width:si(e.width)}),n},t.prototype.renderSubComponent=function(e,i){var n,s=this.createElement("div",{className:aa}),o=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?Ms.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",o.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,i);else switch(e.type){case"Button":(n=this.buttonRendering(e,s)).setAttribute("tabindex",v(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("data-tabindex",v(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("aria-label",e.text||e.tooltipText),n.setAttribute("aria-disabled","false"),s.appendChild(n),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,ka)}if(e.showTextOn){var a=e.showTextOn;"Toolbar"===a?(this.add(s,D8),this.add(s,"e-tbtn-align")):"Overflow"===a&&this.add(s,kz)}if(e.overflow){var l=e.overflow;"Show"===l?this.add(s,Bp):"Hide"===l&&(s.classList.contains(ka)||this.add(s,OO))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains(ka)&&(this.add(s,Nz),this.popupPriCount++),e.disabled&&this.add(s,Uc),!1===e.visible&&this.add(s,bv),s},t.prototype.getDataTabindex=function(e){return v(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){v(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle)&&(v(this.trgtEle)&&!e.parentElement.classList.contains(x8)?(this.updateTabIndex("-1"),e.removeAttribute("tabindex")):this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)))},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var i=this.checkOverflow(e,e.getElementsByClassName(Xo)[0]);if(!i){this.destroyScroll();var n=e.querySelector("."+Xo);v(n)||(this.remove(n,L8),this.tbarAlign&&this.add(n,Fp))}if(!i||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||i)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var s=window.getComputedStyle(this.element);this.popObj.width=parseFloat(s.width)+2*parseFloat(s.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+A8)&&(this.scrollStep=this.element.querySelector("."+A8).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+LO);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(M8))},t.prototype.updateHideEleTabIndex=function(e,i,n,s,o){n&&(s=o.indexOf(e));for(var a=o[++s];a;){if(!this.eleContains(a)){var h=a.firstElementChild.getAttribute("data-tabindex");i&&"-1"===h?a.firstElementChild.setAttribute("tabindex","0"):h!==a.firstElementChild.getAttribute("tabindex")&&a.firstElementChild.setAttribute("tabindex",h);break}a=o[++s]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template){for(var i=this.registeredTemplate,n=0;n<i.template.length;n++)if(!v(o=Je(i.template[parseInt(n.toString(),10)].rootNodes[0],"."+aa))&&o===e){this.clearTemplate(["template"],[i.template[parseInt(n.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var a=this.portals;for(n=0;n<a.length;n++){var o;if(!v(o=Je(a[parseInt(n.toString(),10)].containerInfo,"."+aa))&&o===e){this.clearTemplate(["template"],n);break}}}},t.prototype.onPropertyChanged=function(e,i){var n=this.element;this.extendedOpen();for(var o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var h=Object.keys(e.items),c=0;c<h.length;c++){var u=parseInt(Object.keys(e.items)[parseInt(c.toString(),10)],10),d=Object.keys(e.items[parseInt(u.toString(),10)])[0],p=Object(e.items[parseInt(u.toString(),10)])[""+d];if(this.tbarAlign||"align"===d){this.refresh(),this.trigger("created");break}var m="overflow"===d&&0!==this.popupPriCount;("showAlwaysInPopup"===d&&!p||this.items[parseInt(u.toString(),10)].showAlwaysInPopup&&m)&&--this.popupPriCount,v(this.scrollModule)&&this.destroyMode();var M=[].slice.call(bi("."+Xo+" ."+aa,n));this.isReact&&this.items[parseInt(u.toString(),10)].template&&this.clearToolbarTemplate(M[parseInt(u.toString(),10)]),Ot(M[parseInt(u.toString(),10)]),this.tbarEle.splice(u,1),this.addItems([this.items[parseInt(u.toString(),10)]],u),this.items.splice(u,1),this.items[parseInt(u.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":$i(n,{width:si(e.width)}),this.refreshOverflow();break;case"height":$i(this.element,{height:si(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,Wf),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,Wf):this.remove(n,Wf),v(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,Wf):this.remove(this.scrollModule.element,Wf)),v(this.popObj)||(e.enableRtl?this.add(this.popObj.element,Wf):this.remove(this.popObj.element,Wf)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":i.cssClass&&Ae([this.element],i.cssClass.split(" ")),e.cssClass&&be([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}},t.prototype.hideItem=function(e,i){var o,n="object"==typeof e,s=e;if(n||!v(s)){var a=[].slice.call(bi("."+aa,this.element));n?o=e:this.tbarEle[parseInt(s.toString(),10)]&&(o=[].slice.call(bi("."+aa,this.element))[parseInt(s.toString(),10)]),o&&(i?(o.classList.add(bv),o.classList.contains(ka)||(v(o.firstElementChild.getAttribute("tabindex"))||"-1"!==o.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(o,i,n,s,a)):(o.classList.remove(bv),o.classList.contains(ka)||this.updateHideEleTabIndex(o,i,n,s,a)),this.refreshOverflow())}},eo([Qn([],gpe)],t.prototype,"items",void 0),eo([O("auto")],t.prototype,"width",void 0),eo([O("auto")],t.prototype,"height",void 0),eo([O("")],t.prototype,"cssClass",void 0),eo([O("Scrollable")],t.prototype,"overflowMode",void 0),eo([O()],t.prototype,"scrollStep",void 0),eo([O(!0)],t.prototype,"enableCollision",void 0),eo([O(!0)],t.prototype,"enableHtmlSanitizer",void 0),eo([O(!0)],t.prototype,"allowKeyboard",void 0),eo([Se()],t.prototype,"clicked",void 0),eo([Se()],t.prototype,"created",void 0),eo([Se()],t.prototype,"destroyed",void 0),eo([Se()],t.prototype,"beforeCreate",void 0),eo([Jn],t)}(Xr),kO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xo=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},NO="e-acrdn-root",Sb="e-accordion",hu="e-acrdn-item",P8="e-item-focus",Ax="e-hide",Zl="e-acrdn-header",wb="e-acrdn-header-content",_d="e-acrdn-panel",Yf="e-acrdn-content",Ox="e-toggle-icon",_8="e-expand-icon",zz="e-rtl",Bz="e-content-hide",Fz="e-select",Lx="e-selected",kx="e-active",xw="e-overlay",PO="e-toggle-animation",jp="e-expand-state",R8="e-accordion-container",z8=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kO(t,r),xo([O("SlideDown")],t.prototype,"effect",void 0),xo([O(400)],t.prototype,"duration",void 0),xo([O("linear")],t.prototype,"easing",void 0),t}(ii),Cpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kO(t,r),xo([Lt({effect:"SlideUp",duration:400,easing:"linear"},z8)],t.prototype,"collapse",void 0),xo([Lt({effect:"SlideDown",duration:400,easing:"linear"},z8)],t.prototype,"expand",void 0),t}(ii),Spe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kO(t,r),xo([O(null)],t.prototype,"content",void 0),xo([O(null)],t.prototype,"header",void 0),xo([O(null)],t.prototype,"cssClass",void 0),xo([O(null)],t.prototype,"iconCss",void 0),xo([O(!1)],t.prototype,"expanded",void 0),xo([O(!0)],t.prototype,"visible",void 0),xo([O(!1)],t.prototype,"disabled",void 0),xo([O()],t.prototype,"id",void 0),t}(ii),wpe=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},n}return kO(t,r),t.prototype.destroy=function(){(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate();var e=this.element;if(r.prototype.destroy.call(this),this.unWireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(e.children).forEach(function(i){e.removeChild(i)}),this.trgtEle){for(this.trgtEle=null;this.ctrlTem.firstElementChild;)e.appendChild(this.ctrlTem.firstElementChild);this.ctrlTem=null}e.classList.remove(NO),e.removeAttribute("style"),this.element.removeAttribute("data-ripple"),!this.isNested&&Td&&this.removeRippleEffect()},t.prototype.preRender=function(){var e=Je(this.element,"."+_d);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),e&&e.firstElementChild&&e.firstElementChild.firstElementChild?e.firstElementChild.firstElementChild.classList.contains(Sb)&&(e.classList.add("e-nested"),this.isNested=!0):this.element.classList.add(NO),this.enableRtl&&this.add(this.element,zz)},t.prototype.add=function(e,i){e.classList.add(i)},t.prototype.remove=function(e,i){e.classList.remove(i)},t.prototype.render=function(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=si(this.width),i=si(this.height);$i(this.element,{width:e,height:i}),v(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices)},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?Ge("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll("."+hu));i<n.length;i++){var s=n[i],o=s.querySelector("."+Zl);s.childElementCount>0&&o&&($.clearEvents(o),$.add(o,"focus",this.focusIn,this),$.add(o,"blur",this.focusOut,this))}},t.prototype.unWireEvents=function(){$.remove(this.element,"click",this.clickHandler),v(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){$.add(this.element,"click",this.clickHandler,this),!this.isNested&&!this.isDestroy&&(this.removeRippleEffect=dh(this.element,{selector:"."+Zl})),this.isNested||(this.keyModule=new Fa(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?wn(document.querySelector(e).innerHTML.trim()):wn(e)}catch{return wn(e)}},t.prototype.initializeHeaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add(P8)},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove(P8)},t.prototype.ctrlTemplate=function(){this.ctrlTem=this.element.cloneNode(!0);var i=Ge("."+R8,this.element),n=[];[].slice.call(i?i.children:this.element.children).forEach(function(s){n.push({header:s.childElementCount>0&&s.children[0]?s.children[0]:"",content:s.childElementCount>1&&s.children[1]?s.children[1]:""}),s.parentNode.removeChild(s)}),i&&this.element.removeChild(i),this.setProperties({items:n},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:Ox}),i=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(i),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var i=0;i<e;i++)this.expandItem(!0,this.initExpand[parseInt(i.toString(),10)]);this.isReact&&this.renderReactTemplates()}},t.prototype.renderItems=function(){var n,s,e=this,i=this.element;if(v(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach(function(a,l){s=e.renderInnerItem(a,l),i.appendChild(s),s.childElementCount>0&&($.add(s.querySelector("."+Zl),"focus",e.focusIn,e),$.add(s.querySelector("."+Zl),"blur",e.focusOut,e))});else{var o=this.items;i&&o.length>0&&o.forEach(function(a,l){n=e.renderInnerItem(a,l),i.appendChild(n),n.childElementCount>0&&($.add(n.querySelector("."+Zl),"focus",e.focusIn,e),$.add(n.querySelector("."+Zl),"blur",e.focusOut,e))})}this.isReact&&this.renderReactTemplates()},t.prototype.clickHandler=function(e){var o,i=e.target,n=this.getItems(),s={};if(Je(i,"."+Sb)===this.element){i.classList.add("e-target");var u,l=Je(i,"."+hu),h=Je(i,"."+Zl),c=Je(i,"."+_d);l&&(v(h)||v(c))&&(h=l.children[0],c=l.children[1]),h&&(o=Ge("."+Ox,h)),h?u=Je(h,"."+hu):c&&(u=Je(c,"."+hu));var d=this.getIndexByItem(l);u&&(s.item=n[this.getIndexByItem(u)]),s.originalEvent=e,!(!v(o)&&l.childElementCount<=1)||!v(c)&&v(Ge("."+Zl+" ."+Ox,u))||(l.appendChild(this.contentRendering(d)),this.ariaAttrUpdate(l)),this.afterContentRender(i,s,l,h,c,u),this.isReact&&this.renderReactTemplates()}},t.prototype.afterContentRender=function(e,i,n,s,o,a){var l=this,h=[];this.trigger("clicked",i);var c=o&&!v(Ge(".e-target",o)),u="."+_d+" ."+Sb,d=o&&!v(Ge("."+Sb,o))&&v(Je(e,u)),p=o&&v(Ge("."+Sb,o))||Je(e,"."+Sb)!==this.element;if(c=c&&(d||p),e.classList.remove("e-target"),!(e.classList.contains(_d)||e.classList.contains(Yf)||c)){var f=this.element.querySelector("."+R8);[].slice.call(f?f.children:this.element.children).forEach(function(Me){Me.classList.contains(kx)&&h.push(Me)});var M=[].slice.call(this.element.querySelectorAll("."+hu+" [e-animate]"));if(M.length>0)for(var T=0,P=M;T<P.length;T++)h.push(P[T].parentElement);var Y=-1!==h.indexOf(a)&&"true"===o.getAttribute("e-animate"),X=!1;if(!v(n)&&!v(s)){var Q=Ge("."+_d,n),de=Je(n,"."+NO).querySelector("."+jp);if(v(Q))return;X=de===n,!ra(Q)||Y&&!a.classList.contains(Lx)?(h.length>0&&"Single"===this.expandMode&&!Y&&h.forEach(function(Me){l.collapse(Ge("."+_d,Me)),Me.classList.remove(jp)}),this.expand(Q)):this.collapse(Q),!v(de)&&!X&&de.classList.remove(jp)}}},t.prototype.eleMoveFocus=function(e,i,n){var s,o=Je(n,"."+hu);n===i?s=("moveUp"===e?n.lastElementChild:n).querySelector("."+Zl):n.classList.contains(Zl)&&(o="moveUp"===e?o.previousElementSibling:o.nextElementSibling)&&(s=Ge("."+Zl,o)),s&&s.focus()},t.prototype.keyActionHandler=function(e){var i=e.target;if(!v(Je(e.target,Zl))||i.classList.contains(Sb)||i.classList.contains(Zl)){var a,o=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,o,i);break;case"space":case"enter":!v(a=i.nextElementSibling)&&a.classList.contains(_d)?"true"!==a.getAttribute("e-animate")&&i.click():i.click(),e.preventDefault();break;case"home":case"end":("home"===e.action?o.firstElementChild.children[0]:o.lastElementChild.children[0]).focus(),e.preventDefault()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:Zl,id:Or("acrdn_header")});return wi(e,{tabindex:"0",role:"button","aria-disabled":"false","aria-expanded":"false"}),e},t.prototype.renderInnerItem=function(e,i){var n=this.createElement("div",{className:hu,id:e.id||Or("acrdn_item")});if(this.headerTemplate){var s=this.headerEleGenerate(),o=this.createElement("div",{className:wb});return s.appendChild(o),Yi(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),o),n.appendChild(s),s.appendChild(this.toggleIconGenerate()),this.add(n,Fz),n}e.header&&this.angularnativeCondiCheck(e,"header")&&(this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=Ms.sanitize(e.header)),s=this.headerEleGenerate(),o=this.createElement("div",{className:wb}),s.appendChild(o),s.appendChild(this.fetchElement(o,e.header,i)),n.appendChild(s));var a=Ge("."+Zl,n);if(e.expanded&&!v(i)&&!this.enablePersistence&&-1===this.initExpand.indexOf(i)&&this.initExpand.push(i),e.cssClass&&be([n],e.cssClass.split(" ")),e.disabled&&be([n],xw),!1===e.visible&&be([n],Ax),e.iconCss){var l=this.createElement("div",{className:"e-acrdn-header-icon"}),h=this.createElement("span",{className:e.iconCss+" e-icons"});l.appendChild(h),v(a)?((a=this.headerEleGenerate()).appendChild(l),n.appendChild(a)):a.insertBefore(l,a.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var c=this.toggleIconGenerate();v(a)&&(a=this.headerEleGenerate(),n.appendChild(a)),a.appendChild(c),this.add(n,Fz)}return n},t.prototype.angularnativeCondiCheck=function(e,i){var s="content"===i?e.content:e.header;if(this.isAngular&&!v(s.elementRef)){var o=s.elementRef.nativeElement.data;if(v(o)||""===o||-1===o.indexOf("bindings="))return!0;var a=JSON.parse(s.elementRef.nativeElement.data.replace("bindings=",""));return!(!v(a)&&"false"===a["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,i,n){var s,o,l;try{if(document.querySelectorAll(i).length&&"Button"!==i){var a=document.querySelector(i);o=a.outerHTML.trim(),e.appendChild(a),a.style.display=""}else s=wn(i)}catch{"string"==typeof i?e.innerHTML=Ms.sanitize(i):!v(this.trgtEle)&&i instanceof HTMLElement?(e.appendChild(i),e.firstElementChild.style.display=""):s=wn(i)}if(!v(s)){this.isReact&&this.renderReactTemplates();var h=void 0,c=void 0;e.classList.contains(wb)?(h=this.element.id+n+"_header",c="header"):e.classList.contains(Yf)&&(h=this.element.id+n+"_content",c="content"),l=s({},this,c,h,this.isStringTemplate)}return v(l)||!(l.length>0)||v(l[0].tagName)&&1===l.length?0===e.childElementCount&&(e.innerHTML=Ms.sanitize(i)):[].slice.call(l).forEach(function(u){v(u.tagName)||(u.style.display=""),e.appendChild(u)}),v(o)||-1===this.templateEle.indexOf(i)&&this.templateEle.push(i),e},t.prototype.ariaAttrUpdate=function(e){var i=Ge("."+Zl,e),n=Ge("."+_d,e);i.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",i.id),n.setAttribute("role","region")},t.prototype.contentRendering=function(e){var i=this.createElement("div",{className:_d+" "+Bz,id:Or("acrdn_panel")});wi(i,{"aria-hidden":"true"});var n=this.createElement("div",{className:Yf});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),Yi(this.getItemTemplate()(this.dataSource[parseInt(e.toString(),10)],this,"itemTemplate",this.element.id+"_itemTemplate",!1),n),i.appendChild(n)):(this.enableHtmlSanitizer&&typeof this.items[parseInt(e.toString(),10)].content&&(this.items[parseInt(e.toString(),10)].content=Ms.sanitize(this.items[parseInt(e.toString(),10)].content)),i.appendChild(this.fetchElement(n,this.items[parseInt(e.toString(),10)].content,e))),i},t.prototype.expand=function(e){var i=this,n=this.getItems(),s=Je(e,"."+hu);if(!(v(e)||ra(e)&&"true"!==e.getAttribute("e-animate")||s.classList.contains(xw))){var a=Je(s,"."+NO).querySelector("."+jp),l={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},h=Ge("."+Ox,s).firstElementChild,c={element:s,item:n[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+_d),isExpanded:!0};this.trigger("expanding",c,function(u){u.cancel||(h.classList.add(PO),i.expandedItemsPush(s),v(a)||a.classList.remove(jp),s.classList.add(jp),"None"===l.name?(i.expandProgress("begin",h,e,s,u),i.expandProgress("end",h,e,s,u)):i.expandAnimation(l.name,h,e,s,l,u))})}},t.prototype.expandAnimation=function(e,i,n,s,o,a){var h,l=this;this.lastActiveItemId=s.id,"SlideDown"===e?(o.begin=function(){l.expandProgress("begin",i,n,s,a),n.style.position="absolute",h=s.offsetHeight,n.style.maxHeight=n.offsetHeight+"px",s.style.maxHeight=""},o.progress=function(){s.style.minHeight=h+n.offsetHeight+"px"},o.end=function(){$i(n,{position:"",maxHeight:""}),s.style.minHeight="",l.expandProgress("end",i,n,s,a)}):(o.begin=function(){l.expandProgress("begin",i,n,s,a)},o.end=function(){l.expandProgress("end",i,n,s,a)}),new Ro(o).animate(n)},t.prototype.expandProgress=function(e,i,n,s,o){this.remove(n,Bz),this.add(s,Lx),this.add(i,_8),"end"===e&&(this.add(s,kx),n.setAttribute("aria-hidden","false"),wi(n.previousElementSibling,{"aria-expanded":"true"}),i.classList.remove(PO),this.trigger("expanded",o))},t.prototype.expandedItemsPush=function(e){var i=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(i)){var n=[].slice.call(this.expandedIndices);n.push(i),this.setProperties({expandedIndices:n},!0)}},t.prototype.getIndexByItem=function(e){var i=this.getItemElements();return[].slice.call(i).indexOf(e)},t.prototype.getItemElements=function(){var e=[];return[].slice.call(this.element.children).forEach(function(n){n.classList.contains(hu)&&e.push(n)}),e},t.prototype.expandedItemsPop=function(e){var i=this.getIndexByItem(e),n=[].slice.call(this.expandedIndices);n.splice(n.indexOf(i),1),this.setProperties({expandedIndices:n},!0)},t.prototype.collapse=function(e){var i=this,n=this.getItems(),s=Je(e,"."+hu);if(!v(e)&&ra(e)&&!s.classList.contains(xw)){var o={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},a=Ge("."+Ox,s).firstElementChild,l={element:s,item:n[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+_d),isExpanded:!1};this.trigger("expanding",l,function(h){h.cancel||(i.expandedItemsPop(s),s.classList.remove(jp),a.classList.add(PO),"None"===o.name?(i.collapseProgress("begin",a,e,s,h),i.collapseProgress("end",a,e,s,h)):i.collapseAnimation(o.name,e,s,a,o,h))})}},t.prototype.collapseAnimation=function(e,i,n,s,o,a){var h,c,u,d,l=this;this.lastActiveItemId=n.id,"SlideUp"===e?(o.begin=function(){n.style.minHeight=(u=n.offsetHeight)+"px",i.style.position="absolute",h=n.offsetHeight,i.style.maxHeight=(c=i.offsetHeight)+"px",l.collapseProgress("begin",s,i,n,a)},o.progress=function(){(d=h-(c-i.offsetHeight))<u&&(n.style.minHeight=d+"px")},o.end=function(){i.style.display="none",l.collapseProgress("end",s,i,n,a),n.style.minHeight="",$i(i,{position:"",maxHeight:"",display:""})}):(o.begin=function(){l.collapseProgress("begin",s,i,n,a)},o.end=function(){l.collapseProgress("end",s,i,n,a)}),new Ro(o).animate(i)},t.prototype.collapseProgress=function(e,i,n,s,o){this.remove(i,_8),this.remove(s,Lx),"end"===e&&(this.add(n,Bz),i.classList.remove(PO),this.remove(s,kx),n.setAttribute("aria-hidden","true"),wi(n.previousElementSibling,{"aria-expanded":"false"}),this.trigger("expanded",o))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,i){var n=this,s=this.element,o=this.getItemElements(),a=this.getItems();v(i)&&(i=a.length),s.childElementCount>=i&&(e instanceof Array?e:[e]).forEach(function(h,c){var u=i+c;a.splice(u,0,h);var d=n.renderInnerItem(h,u);s.childElementCount===u?s.appendChild(d):s.insertBefore(d,o[parseInt(u.toString(),10)]),$.add(d.querySelector("."+Zl),"focus",n.focusIn,n),$.add(d.querySelector("."+Zl),"blur",n.focusOut,n),n.expandedIndices=[],n.expandedItemRefresh(),h&&h.expanded&&n.expandItem(!0,u)}),this.isReact&&this.renderReactTemplates()},t.prototype.expandedItemRefresh=function(){var e=this,i=this.getItemElements();[].slice.call(i).forEach(function(n){n.classList.contains(Lx)&&e.expandedItemsPush(n)})},t.prototype.removeItem=function(e){if(this.isReact||this.isAngular){var i=bi("."+hu,this.element)[parseInt(e.toString(),10)],n=Ge("."+wb,i),s=Ge("."+Yf,i);this.clearAccordionTemplate(n,this.dataSource.length>0?"headerTemplate":"header",wb),this.clearAccordionTemplate(s,this.dataSource.length>0?"itemTemplate":"content",Yf)}var a=this.getItemElements()[parseInt(e.toString(),10)],l=this.getItems();v(a)||(this.restoreContent(e),Ot(a),l.splice(e,1),this.expandedIndices=[],this.expandedItemRefresh())},t.prototype.select=function(e){var n=this.getItemElements()[parseInt(e.toString(),10)];v(n)||v(Ge("."+Zl,n))||n.children[0].focus()},t.prototype.hideItem=function(e,i){var s=this.getItemElements()[parseInt(e.toString(),10)];v(s)||(v(i)&&(i=!0),i?this.add(s,Ax):this.remove(s,Ax))},t.prototype.enableItem=function(e,i){var s=this.getItemElements()[parseInt(e.toString(),10)];if(!v(s)){var o=s.firstElementChild;i?(this.remove(s,xw),wi(o,{tabindex:"0","aria-disabled":"false"}),o.focus()):(s.classList.contains(kx)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,o)),this.add(s,xw),o.setAttribute("aria-disabled","true"),o.removeAttribute("tabindex"))}},t.prototype.expandItem=function(e,i){var n=this,s=this.getItemElements();if(v(i))if("Single"===this.expandMode&&e)this.itemExpand(e,o=s[s.length-1],this.getIndexByItem(o));else{var a=Ge("#"+this.lastActiveItemId,this.element);[].slice.call(s).forEach(function(h){n.itemExpand(e,h,n.getIndexByItem(h)),h.classList.remove(jp)});var l=Ge("."+jp,this.element);l&&l.classList.remove(jp),a&&a.classList.add(jp)}else{var o;if(v(o=s[parseInt(i.toString(),10)])||!o.classList.contains(Fz)||o.classList.contains(kx)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,o,i)}},t.prototype.itemExpand=function(e,i,n){var s=i.children[1];i.classList.contains(xw)||(v(s)&&e?(s=this.contentRendering(n),i.appendChild(s),this.ariaAttrUpdate(i),this.expand(s)):v(s)||(e?this.expand(s):this.collapse(s)),this.isReact&&this.renderReactTemplates())},t.prototype.destroyItems=function(){this.restoreContent(null),(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+hu)).forEach(function(e){Ot(e)})},t.prototype.restoreContent=function(e){var i;i=v(e)?this.element:this.element.querySelectorAll("."+hu)[parseInt(e.toString(),10)],this.templateEle.forEach(function(n){v(i.querySelector(n))||(document.body.appendChild(i.querySelector(n)).style.display="none")})},t.prototype.updateItem=function(e,i){if(!v(e)){var n=this.getItems(),s=n[parseInt(i.toString(),10)];n.splice(i,1),this.restoreContent(i);var o=Ge("."+wb,e),a=Ge("."+Yf,e);(this.isReact||this.isAngular)&&(this.clearAccordionTemplate(o,"header",wb),this.clearAccordionTemplate(a,"content",Yf)),Ot(e),this.addItem(s,i)}},t.prototype.setTemplate=function(e,i,n){this.fetchElement(i,e,n),this.isReact&&this.renderReactTemplates()},t.prototype.clearAccordionTemplate=function(e,i,n){if(this.registeredTemplate&&this.registeredTemplate[""+i])for(var s=this.registeredTemplate,o=0;o<s[""+i].length;o++){var a=s[""+i][parseInt(o.toString(),10)].rootNodes[0];if(!v(l=Je(a,"."+n))&&l===e||v(a.parentNode)){this.clearTemplate([i],[s[""+i][parseInt(o.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var h=this.portals;for(o=0;o<h.length;o++){var l;if(!v(l=Je(h[parseInt(o.toString(),10)].containerInfo,"."+n))&&l===e){this.clearTemplate([i],o);break}}}},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedIndices"])},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element,s=!1,o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"items":if(e.items instanceof Array&&i.items instanceof Array)s=!0;else for(var h=Object.keys(e.items),c=0;c<h.length;c++)for(var u=parseInt(Object.keys(e.items)[parseInt(c.toString(),10)],10),d=Object.keys(e.items[parseInt(u.toString(),10)]),p=0;p<d.length;p++){var f=bi("."+hu,this.element)[parseInt(u.toString(),10)],m=Object(i.items[parseInt(u.toString(),10)])[""+d[parseInt(p.toString(),10)]],M=Object(e.items[parseInt(u.toString(),10)])[""+d[parseInt(p.toString(),10)]],T=d[parseInt(p.toString(),10)],P=Ge("."+Yf,f);if(("header"===T||"iconCss"===T||"expanded"===T||"content"===T&&""===m)&&this.updateItem(f,u),"cssClass"===d[parseInt(p.toString(),10)]&&!v(f)&&(m&&Ae([f],m.split(" ")),M&&be([f],M.split(" "))),"visible"===d[parseInt(p.toString(),10)]&&!v(f)&&(!1===Object(e.items[parseInt(u.toString(),10)])[""+d[parseInt(p.toString(),10)]]?f.classList.add(Ax):f.classList.remove(Ax)),"disabled"===d[parseInt(p.toString(),10)]&&!v(f)&&this.enableItem(u,!M),d.indexOf("header")<0&&"content"===d[parseInt(p.toString(),10)]&&!v(f)&&2===f.children.length)if("function"==typeof M){(this.isAngular||this.isReact)&&this.clearAccordionTemplate(P,d[parseInt(p.toString(),10)],Yf);var U=f.querySelector("."+Yf);U.innerHTML="",this.setTemplate(M,U,u)}else f.classList.contains(Lx)&&this.expandItem(!1,u),Ot(f.querySelector("."+_d))}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),s=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),s=!0;break;case"itemTemplate":this.initializeItemTemplate(),s=!0;break;case"enableRtl":e.enableRtl?this.add(n,zz):this.remove(n,zz);break;case"height":$i(this.element,{height:si(e.height)});break;case"width":$i(this.element,{width:si(e.width)});break;case"expandMode":"Single"===e.expandMode&&this.expandedIndices.length>1&&this.expandItem(!1)}s&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())},xo([Qn([],Spe)],t.prototype,"items",void 0),xo([O([])],t.prototype,"dataSource",void 0),xo([O()],t.prototype,"itemTemplate",void 0),xo([O()],t.prototype,"headerTemplate",void 0),xo([O("100%")],t.prototype,"width",void 0),xo([O("auto")],t.prototype,"height",void 0),xo([O([])],t.prototype,"expandedIndices",void 0),xo([O("Multiple")],t.prototype,"expandMode",void 0),xo([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),xo([Lt({},Cpe)],t.prototype,"animation",void 0),xo([Se()],t.prototype,"clicked",void 0),xo([Se()],t.prototype,"expanding",void 0),xo([Se()],t.prototype,"expanded",void 0),xo([Se()],t.prototype,"created",void 0),xo([Se()],t.prototype,"destroyed",void 0),xo([Jn],t)}(Xr),Ipe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_O=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},B8=function(r){function t(e,i){return r.call(this,e,i)||this}return Ipe(t,r),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||Or("ej2-contextmenu"),r.prototype.preRender.call(this)},t.prototype.initialize=function(){r.prototype.initialize.call(this),wi(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=zf(this.element).toString()},t.prototype.open=function(e,i,n){r.prototype.openMenu.call(this,null,null,e,i,null,n)},t.prototype.close=function(){r.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(e,i){r.prototype.onPropertyChanged.call(this,e,i);for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(i.target),this.wireEvents()}},t.prototype.getModuleName=function(){return"contextmenu"},_O([O("")],t.prototype,"target",void 0),_O([O("")],t.prototype,"filter",void 0),_O([Qn([],Mx)],t.prototype,"items",void 0),_O([Jn],t)}(w8),Mpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cv=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Hp="e-vertical",jz="e-hamburger",Hz=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.tempItems=[],n}return Mpe(t,r),t.prototype.getModuleName=function(){return"menu"},t.prototype.preRender=function(){if(this.isMenu=!0,this.element.id=this.element.id||Or("ej2-menu"),this.template){try{"function"!=typeof this.template&&document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch{}this.updateMenuItems(this.items)}else this.updateMenuItems(this.items);r.prototype.preRender.call(this)},t.prototype.initialize=function(){r.prototype.initialize.call(this),wi(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(Hp),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(Hp),this.element.setAttribute("aria-orientation","vertical")):Ue.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add(jz),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))},t.prototype.updateMenuItems=function(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]},t.prototype.onPropertyChanged=function(e,i){for(var n=this,s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(Hp),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(Hp),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(Hp),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(Hp),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(i.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||r.prototype.createHeaderContainer.call(this),e.hamburgerMode?(this.element.parentElement.classList.add(jz),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach(function(l){l.style[n.enableRtl?"paddingRight":"paddingLeft"]=""})):(this.element.parentElement.classList.remove(jz),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(Hp),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(Hp):this.element.previousElementSibling.classList.remove(Hp),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?Ms.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(i.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(Hp):(this.element.previousElementSibling||r.prototype.createHeaderContainer.call(this),this.element.previousElementSibling.classList.remove(Hp)),this.element.classList.add("e-hide-menu")))}r.prototype.onPropertyChanged.call(this,e,i)},t.prototype.createMenuItems=function(e){var i,n,s=this.items,o=this.getField("parentId");if(e[""+o]){for(i=this.getIndex(e[""+o].toString(),!0),n=0;n<i.length;n++)s[i[n]].items||(s[i[n]].items=[]),s=s[i[n]].items;s.push(e)}else this.items.push(e)},t.prototype.open=function(){r.prototype.openHamburgerMenu.call(this)},t.prototype.close=function(){r.prototype.closeHamburgerMenu.call(this)},Cv([O("Horizontal")],t.prototype,"orientation",void 0),Cv([O("")],t.prototype,"target",void 0),Cv([O(null)],t.prototype,"template",void 0),Cv([O(!1)],t.prototype,"enableScrolling",void 0),Cv([O(!1)],t.prototype,"hamburgerMode",void 0),Cv([O("Menu")],t.prototype,"title",void 0),Cv([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Cv([Lt({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},C8)],t.prototype,"fields",void 0),Cv([Jn],t)}(w8),Nx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mr=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yy="e-tab",zh="e-tab-header",us="e-content",RO="e-nested",Ya="e-item",Uz="e-template",Vz="e-rtl",Ws="e-active",by="e-disable",zo="e-hidden",Wz="e-focused",Yz="e-icons",Gz="e-icon",F8="e-icon-tab",Xz="e-close-icon",zO="e-close-show",Px="e-tab-text",BO="e-indicator",Rd="e-tab-wrap",FO="e-text-wrap",j8="e-tab-icon",cu="e-toolbar-items",Hr="e-toolbar-item",H8="e-toolbar-pop",Sv="e-toolbar-popup",jO="e-progress",Qz="e-overlay",$z="e-vertical-tab",qz="e-vertical",U8="e-vertical-left",V8="e-vertical-right",W8="e-horizontal-bottom",Zz="e-fill-mode",Y8="tabitem_",Jz="e-reorder-active-item",G8=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nx(t,r),Mr([O("SlideLeftIn")],t.prototype,"effect",void 0),Mr([O(600)],t.prototype,"duration",void 0),Mr([O("ease")],t.prototype,"easing",void 0),t}(ii),X8=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nx(t,r),Mr([Lt({effect:"SlideLeftIn",duration:600,easing:"ease"},G8)],t.prototype,"previous",void 0),Mr([Lt({effect:"SlideRightIn",duration:600,easing:"ease"},G8)],t.prototype,"next",void 0),t}(ii),Ppe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nx(t,r),Mr([O("")],t.prototype,"text",void 0),Mr([O("")],t.prototype,"iconCss",void 0),Mr([O("left")],t.prototype,"iconPosition",void 0),t}(ii),_pe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nx(t,r),Mr([Lt({},Ppe)],t.prototype,"header",void 0),Mr([O(null)],t.prototype,"headerTemplate",void 0),Mr([O("")],t.prototype,"content",void 0),Mr([O("")],t.prototype,"cssClass",void 0),Mr([O(!1)],t.prototype,"disabled",void 0),Mr([O(!0)],t.prototype,"visible",void 0),Mr([O()],t.prototype,"id",void 0),Mr([O(-1)],t.prototype,"tabIndex",void 0),t}(ii),Rpe=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.show={},n.hide={},n.maxHeight=0,n.title="Close",n.isInteracted=!1,n.lastIndex=0,n.isAdd=!1,n.isIconAlone=!1,n.draggableItems=[],n.resizeContext=n.refreshActiveTabBorder.bind(n),n.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},n}return Nx(t,r),t.prototype.destroy=function(){if((this.isReact||this.isAngular)&&this.clearTemplate(),v(this.tbObj)||(this.tbObj.destroy(),this.tbObj=null),this.unWireEvents(),this.element.removeAttribute("aria-disabled"),this.expTemplateContent(),this.isTemplate){var e=Ge(".e-tab > ."+us,this.element);this.element.classList.remove(Uz),v(e)||(e.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)bn(this.element.firstElementChild);if(this.btnCls&&(this.btnCls=null),this.hdrEle=null,this.cntEle=null,this.tbItems=null,this.tbItem=null,this.tbPop=null,this.prevItem=null,this.popEle=null,this.bdrLine=null,this.content=null,this.dragItem=null,this.cloneElement=null,this.draggingItems=[],this.draggableItems&&this.draggableItems.length>0){for(var i=0;i<this.draggableItems.length;i++)this.draggableItems[i].destroy(),this.draggableItems[i]=null;this.draggableItems=[]}r.prototype.destroy.call(this),this.trigger("destroyed")},t.prototype.refresh=function(){this.isReact&&this.clearTemplate(),r.prototype.refresh.call(this),this.isReact&&this.renderReactTemplates()},t.prototype.preRender=function(){var e=Je(this.element,"."+us);this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwiped=!1,this.itemIndexArray=[],this.templateEle=[],this.allowDragAndDrop&&(this.dragArea=v(this.dragArea)?"#"+this.element.id+" ."+zh:this.dragArea),v(e)||(e.parentElement.classList.add(RO),this.isNested=!0);var i=Ue.info.name,n="msie"===i?"e-ie":"edge"===i?"e-edge":"safari"===i?"e-safari":"";$i(this.element,{width:si(this.width),height:si(this.height)}),this.setCssClass(this.element,this.cssClass,!0),wi(this.element,{"aria-disabled":"false"}),this.setCssClass(this.element,n,!0),this.updatePopAnimationConfig()},t.prototype.render=function(){var e=this;this.btnCls=this.createElement("span",{className:Yz+" "+Xz,attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:l6(),this.renderContainer(),this.wireEvents(),this.initRender=!1,this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){v(e.tbObj)||e.tbObj.refreshOverflow(),e.refreshActiveBorder()})},t.prototype.renderContainer=function(){var e=this.element;if(this.items.forEach(function(s,o){v(s.id)&&!v(s.setProperties)&&s.setProperties({id:Y8+o.toString()},!0)}),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:us})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:zh})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add(Uz);var i=e.querySelector("."+zh);i&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,i)}if(!v(Ge("."+zh,this.element))&&!v(Ge("."+us,this.element))){if(this.renderHeader(),this.tbItems=Ge("."+zh+" ."+cu,this.element),v(this.tbItems)||dh(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),bi("."+Hr,this.element).length>0){this.tbItems=Ge("."+zh+" ."+cu,this.element),this.bdrLine=this.createElement("div",{className:BO+" "+zo+" e-ignore"});var n=Ge("."+this.scrCntClass,this.tbItems);v(n)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):n.insertBefore(this.bdrLine,n.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}},t.prototype.renderHeader=function(){var e=this,i=this.headerPlacement,n=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(zh)&&this.setProperties({headerPlacement:"Bottom"},!0);for(var s=this.hdrEle.children.length,o=[],a=0;a<s;a++)o.push(this.hdrEle.children.item(a));if(s>0){var l=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(l),o.forEach(function(c,u){e.lastIndex=u;var d={className:Ya,id:Ya+e.tabId+"_"+u},p=e.createElement("span",{className:Px,attrs:{role:"presentation"}}).outerHTML,f=e.createElement("div",{className:FO,innerHTML:p+e.btnCls.outerHTML}).outerHTML,m=e.createElement("div",{className:Rd,innerHTML:f,attrs:{role:"tab",tabIndex:"-1","aria-selected":"false","aria-controls":us+e.tabId+"_"+u,"aria-disabled":"false"}});m.querySelector("."+Px).appendChild(c),l.appendChild(e.createElement("div",d)),bi("."+Ya,l)[u].appendChild(m)})}}else n=this.parseObject(this.items,0);this.tbObj=new N8({width:"Left"===i||"Right"===i?"auto":"100%",height:"Left"===i||"Right"===i?"100%":"auto",overflowMode:this.overflowMode,items:0!==n.length?n:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer,cssClass:this.cssClass}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),wi(this.hdrEle,{role:"tablist"}),v(this.element.getAttribute("aria-label"))?v(this.element.getAttribute("aria-labelledby"))||(this.hdrEle.setAttribute("aria-labelledby",this.element.getAttribute("aria-labelledby")),this.element.removeAttribute("aria-labelledby")):(this.hdrEle.setAttribute("aria-label",this.element.getAttribute("aria-label")),this.element.removeAttribute("aria-label")),this.setCloseButton(this.showCloseButton);var h=this.tbObj.element.querySelector("."+cu);v(h)||(v(h.id)||""===h.id)&&(h.id=this.element.id+"_tab_header_items")},t.prototype.renderContent=function(){this.cntEle=Ge("."+us,this.element);var e=bi("."+Hr,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var i=this.cntEle.children,n=0;n<e.length;n++)i.length-1>=n&&(be([i.item(n)],Ya),wi(i.item(n),{role:"tabpanel","aria-labelledby":Ya+this.tabId+"_"+n}),i.item(n).id=us+this.tabId+"_"+n)}},t.prototype.reRenderItems=function(){this.renderContainer(),v(this.cntEle)||(this.touchModule=new ph(this.cntEle,{swipe:this.swipeHandler.bind(this)}))},t.prototype.parseObject=function(e,i){var n=this,s=Array.prototype.slice.call(bi(".e-tab-header ."+Hr,this.element)),o=this.lastIndex;if(!this.isReplace&&s.length>0){var a=[];s.forEach(function(u){a.push(n.getIndexFromEle(u.id))}),o=Math.max.apply(Math,a)}var h,l=[],c=[];return e.forEach(function(u,d){var p=v(u.header)||v(u.header.iconPosition)?"":u.header.iconPosition,f=v(u.header)||v(u.header.iconCss)?"":u.header.iconCss;if(v(u.headerTemplate)&&(v(u.header)||v(u.header.text)||0===u.header.text.length&&""===f))c.push(d);else{var M,m=u.headerTemplate||u.header.text;"string"==typeof m&&n.enableHtmlSanitizer&&(m=Ms.sanitize(m)),n.isReplace&&!v(n.tbId)&&""!==n.tbId?(M=parseInt(n.tbId.substring(n.tbId.lastIndexOf("_")+1),10),n.tbId=""):M=i+d,n.lastIndex=0===s.length?d:n.isReplace?M:o+1+d;var T=u.disabled?" "+by+" "+Qz:"",P=!1===u.visible?" "+zo:"";h=n.createElement("div",{className:Px,attrs:{role:"presentation"}});var U=m instanceof Object?m.outerHTML:m,Y=!v(U)&&""!==U;v(m.tagName)?n.headerTextCompile(h,m,d):h.appendChild(m);var Q=n.createElement("span",{className:Yz+" "+j8+" "+Gz+"-"+p+" "+f}),oe=n.createElement("div",{className:FO});oe.appendChild(h),""!==m&&void 0!==m&&""!==f?("left"===p||"top"===p?oe.insertBefore(Q,oe.firstElementChild):oe.appendChild(Q),n.isIconAlone=!1):(""===f?h:Q)===Q&&(Ot(h),oe.appendChild(Q),n.isIconAlone=!0);var de=v(u.tabIndex)?"-1":u.tabIndex.toString(),Me=u.disabled?{}:{tabIndex:de,"data-tabindex":de,role:"tab","aria-selected":"false","aria-disabled":"false"};oe.appendChild(n.btnCls.cloneNode(!0));var Ve=n.createElement("div",{className:Rd,attrs:Me});Ve.appendChild(oe),n.itemIndexArray instanceof Array&&n.itemIndexArray.splice(i+d,0,Ya+n.tabId+"_"+n.lastIndex);var ze={htmlAttributes:{id:Ya+n.tabId+"_"+n.lastIndex,"data-id":u.id},template:Ve};ze.cssClass=(void 0!==u.cssClass?u.cssClass:" ")+" "+T+" "+P+" "+(""!==f?"e-i"+p:"")+" "+(Y?"":Gz),("top"===p||"bottom"===p)&&n.element.classList.add("e-vertical-icon"),l.push(ze),d++}}),this.isAdd||c.forEach(function(u){n.items.splice(u,1)}),this.isIconAlone?this.element.classList.add(F8):this.element.classList.remove(F8),l},t.prototype.removeActiveClass=function(){var e=this.getTabHeader();if(e){var i=bi("."+Hr+"."+Ws,e);[].slice.call(i).forEach(function(n){return n.classList.remove(Ws)}),[].slice.call(i).forEach(function(n){return n.firstElementChild.setAttribute("aria-selected","false")})}},t.prototype.checkPopupOverflow=function(e){this.tbPop=Ge("."+H8,this.element);var i=Ge(".e-hor-nav",this.element),n=Ge("."+cu,this.element),s=n.lastChild,o=!1;return(!this.isVertical()&&(this.enableRtl&&i.offsetLeft+i.offsetWidth>n.offsetLeft||!this.enableRtl&&i.offsetLeft<n.offsetWidth)||this.isVertical()&&i.offsetTop<s.offsetTop+s.offsetHeight)&&(o=!0),o&&(e.classList.add(Sv),this.tbPop.insertBefore(e,bi("."+Sv,this.tbPop)[0])),!0},t.prototype.popupHandler=function(e){var i=e.querySelector(".e-ripple-element");v(i)||(i.outerHTML="",e.querySelector("."+Rd).classList.remove("e-ripple")),this.tbItem=bi("."+cu+" ."+Hr,this.hdrEle);var n=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove(Sv),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(n)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),bi("."+Hr,this.tbItems).length-1},t.prototype.setCloseButton=function(e){var i=Ge("."+zh,this.element);!0===e?i.classList.add(zO):i.classList.remove(zO),this.tbObj.refreshOverflow(),this.refreshActiveTabBorder()},t.prototype.prevCtnAnimation=function(e,i){return this.enableRtl||this.element.classList.contains(Vz),this.isPopup||e<=i?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},t.prototype.triggerPrevAnimation=function(e,i){var n=this,s=this.prevCtnAnimation(i,this.selectedItem);v(s)?e.classList.remove(Ws):(s.begin=function(){$i(e,{position:"absolute"}),e.classList.add(jO),e.classList.add("e-view")},s.end=function(){e.style.display="none",e.classList.remove(Ws),e.classList.remove(jO),e.classList.remove("e-view"),$i(e,{display:"",position:""}),0===e.childNodes.length&&!n.isTemplate&&Ot(e)},new Ro(s).animate(e))},t.prototype.triggerAnimation=function(e,i){var o,n=this,s=this.prevIndex;[].slice.call(this.element.querySelector("."+us).children).forEach(function(M){M.id===n.prevActiveEle&&(o=M)});var l=this.tbItem[s],h=this.getTrgContent(this.cntEle,this.extIndex(e));if(v(o)&&!v(l)){var c=this.extIndex(l.id);o=this.getTrgContent(this.cntEle,c)}v(h)||(this.prevActiveEle=h.id);var u=v(this.animation)||v(this.animation.next.effect)||v(this.animation.previous.effect)||"None"===this.animation.previous.effect||"None"===this.animation.next.effect;if(this.initRender||!1===i||u)o&&o!==h&&o.classList.remove(Ws);else{var p,d=Ge("."+us,this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var f=this.animation.previous.effect;p={name:"None"===f?"":"SlideLeftIn"!==f?f:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var m=this.animation.next.effect;p={name:"None"===m?"":"SlideRightIn"!==m?m:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}p.progress=function(){d.classList.add(jO),n.setActiveBorder()},p.end=function(){d.classList.remove(jO),h.classList.add(Ws)},!this.initRender&&!v(o)&&this.triggerPrevAnimation(o,s),this.isPopup=!1,""===p.name?h.classList.add(Ws):new Ro(p).animate(h)}},t.prototype.keyPressed=function(e){var i=Je(e,"."+zh+" ."+Hr),n=this.getEleIndex(i);!v(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():!v(i)&&!1===i.classList.contains(Ws)&&(this.selectTab(n,null,!0),v(this.popEle)||this.popObj.hide(this.hide))},t.prototype.getTabHeader=function(){if(!v(this.element)){var e=[].slice.call(this.element.children).filter(function(n){return n.classList.contains(zh)});if(e.length>0)return e[0];var i=[].slice.call(this.element.children).filter(function(n){return!n.classList.contains("blazor-template")})[0];return i?[].slice.call(i.children).filter(function(n){return n.classList.contains(zh)})[0]:void 0}},t.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call(bi("."+Hr,this.getTabHeader()),e)},t.prototype.extIndex=function(e){return e.replace(Ya+this.tabId+"_","")},t.prototype.expTemplateContent=function(){var e=this;this.templateEle.forEach(function(i){v(e.element.querySelector(i))||(document.body.appendChild(e.element.querySelector(i)).style.display="none")})},t.prototype.templateCompile=function(e,i,n){var s=this.createElement("div");this.compileElement(s,i,"content",n),0!==s.childNodes.length&&e.appendChild(s),this.isReact&&this.renderReactTemplates()},t.prototype.compileElement=function(e,i,n,s){var o,a;"string"==typeof i?(i=i.trim(),this.isVue?o=wn(Ms.sanitize(i)):e.innerHTML=Ms.sanitize(i)):o=wn(i),v(o)||(a=o({},this,n)),!v(o)&&a.length>0&&[].slice.call(a).forEach(function(l){e.appendChild(l)})},t.prototype.headerTextCompile=function(e,i,n){this.compileElement(e,i,"headerTemplate",n)},t.prototype.getContent=function(e,i,n,s){var o;if("string"==typeof(i=v(i)?"":i)||v(i.innerHTML))if("string"==typeof i&&this.enableHtmlSanitizer&&(i=Ms.sanitize(i)),"."===i[0]||"#"===i[0])if(document.querySelectorAll(i).length){var a=document.querySelector(i);o=a.outerHTML.trim(),"clone"===n?e.appendChild(a.cloneNode(!0)):(e.appendChild(a),a.style.display="")}else this.templateCompile(e,i,s);else this.templateCompile(e,i,s);else e.appendChild(i);v(o)||-1===this.templateEle.indexOf(i.toString())&&this.templateEle.push(i.toString())},t.prototype.getTrgContent=function(e,i){return this.element.classList.contains(RO)?Ge("."+RO+"> ."+us+" > #"+us+this.tabId+"_"+i,this.element):this.findEle(e.children,us+this.tabId+"_"+i)},t.prototype.findEle=function(e,i){for(var n,s=0;s<e.length;s++)if(e[s].id===i){n=e[s];break}return n},t.prototype.isVertical=function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e},t.prototype.addVerticalClass=function(){if(this.isVertical()){var e="Left"===this.headerPlacement?U8:V8;be([this.hdrEle],[qz,e]),this.element.classList.contains(RO)?be([this.hdrEle],[$z,e]):be([this.element],[$z,e])}"Bottom"===this.headerPlacement&&be([this.hdrEle],[W8])},t.prototype.updatePopAnimationConfig=function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}},t.prototype.changeOrientation=function(e){this.setOrientation(e,this.hdrEle);var i=this.hdrEle.querySelector("."+Ws),n=!!this.hdrEle.classList.contains(qz);Ae([this.element],[$z]),Ae([this.hdrEle],[qz,U8,V8]),n!==this.isVertical()&&(this.changeToolbarOrientation(),!v(i)&&i.classList.contains(Sv)&&this.popupHandler(i)),this.addVerticalClass(),this.setActiveBorder(),this.focusItem()},t.prototype.focusItem=function(){var e=Ge(" #"+Ya+this.tabId+"_"+this.selectedItem,this.hdrEle);v(e)||e.firstElementChild.focus()},t.prototype.changeToolbarOrientation=function(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()},t.prototype.setOrientation=function(e,i){var n=Array.prototype.indexOf.call(this.element.children,i),s=Array.prototype.indexOf.call(this.element.children,this.element.querySelector("."+us));"Bottom"===e&&s>n?this.element.appendChild(i):(Ae([i],[W8]),this.element.insertBefore(i,Ge("."+us,this.element)))},t.prototype.setCssClass=function(e,i,n){if(""!==i)for(var s=i.split(" "),o=0;o<s.length;o++)n?e.classList.add(s[o]):e.classList.remove(s[o])},t.prototype.setContentHeight=function(e){if(this.element.classList.contains(Zz)&&Ae([this.element],[Zz]),!v(this.cntEle)){var i=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||$i(this.cntEle,{height:this.element.clientHeight-i.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)be([this.element],[Zz]),$i(this.element,{height:"100%"}),this.cntEle.style.height="calc(100% - "+this.hdrEle.offsetHeight+"px)";else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate)for(var n=bi("."+us+" > ."+Ya,this.element),s=0;s<n.length;s++)n[s].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(n[s])),n[s].style.removeProperty("display"),n[s].style.removeProperty("visibility");else{this.cntEle=Ge("."+us,this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:us+this.tabId+"_0",className:Ya+" "+Ws,attrs:{role:"tabpanel","aria-labelledby":Ya+this.tabId+"_0"}}));var o=this.cntEle.children.item(0);for(s=0;s<this.items.length;s++)for(this.getContent(o,this.items[s].content,"clone",s),this.maxHeight=Math.max(this.maxHeight,this.getHeight(o));o.firstChild;)o.removeChild(o.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(o,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&o.classList.remove(Ws)}$i(this.cntEle,{height:this.maxHeight+"px"})}else $i(this.cntEle,{height:"auto"})}},t.prototype.getHeight=function(e){var i=window.getComputedStyle(e);return e.offsetHeight+parseFloat(i.getPropertyValue("padding-top"))+parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("margin-top"))+parseFloat(i.getPropertyValue("margin-bottom"))},t.prototype.setActiveBorder=function(){var e=this.getTabHeader(),i=Ge("."+Hr+"."+Ws,e);if(!v(i)){this.reorderActiveTab?e&&e.classList.remove(Jz):(i.classList.contains(Sv)&&!this.bdrLine.classList.contains(zo)&&this.bdrLine.classList.add(zo),e&&!e.classList.contains(Jz)&&e.classList.add(Jz));var n=Je(i,"."+yy);if(this.element===n){this.tbItems=Ge("."+cu,e);var s=Ge("."+BO,e),o=Ge("."+cu+" ."+this.scrCntClass,e);if(this.isVertical())$i(s,{left:"",right:""}),$i(s,0!==(v(o)?this.tbItems.offsetHeight:o.offsetHeight)?{top:i.offsetTop+"px",height:i.offsetHeight+"px"}:{top:0,height:0});else{$i(s,"MultiRow"===this.overflowMode?{top:("Bottom"===this.headerPlacement?i.offsetTop:i.offsetHeight+i.offsetTop)+"px",height:""}:{top:"",height:""});var h=v(o)?this.tbItems.offsetWidth:o.offsetWidth;$i(s,0!==h?{left:i.offsetLeft+"px",right:h-(i.offsetLeft+i.offsetWidth)+"px"}:{left:"auto",right:"auto"})}!v(this.bdrLine)&&!i.classList.contains(Sv)&&this.bdrLine.classList.remove(zo)}}},t.prototype.setActive=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.tbItem=bi("."+Hr,this.getTabHeader());var s=this.tbItem[e];if(!(e<0||isNaN(e)||0===this.tbItem.length)){if(e>=0&&!i&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),s.classList.contains(Ws))return void this.setActiveBorder();this.isTemplate||wi(s.firstElementChild,{"aria-controls":us+this.tabId+"_"+e});var o=s.id;this.removeActiveClass(),s.classList.add(Ws),s.firstElementChild.setAttribute("aria-selected","true");var a=Number(this.extIndex(o));if(v(this.prevActiveEle)&&(this.prevActiveEle=us+this.tabId+"_"+a),this.isTemplate){if(Ge("."+us,this.element).children.length>0){var l=this.findEle(Ge("."+us,this.element).children,us+this.tabId+"_"+a);v(l)||l.classList.add(Ws),this.triggerAnimation(o,this.enableAnimation)}}else{this.cntEle=Ge(".e-tab > ."+us,this.element);var h=this.getTrgContent(this.cntEle,this.extIndex(o));if(v(h)){this.cntEle.appendChild(this.createElement("div",{id:us+this.tabId+"_"+this.extIndex(o),className:Ya+" "+Ws,attrs:{role:"tabpanel","aria-labelledby":Ya+this.tabId+"_"+this.extIndex(o)}}));var c=this.getTrgContent(this.cntEle,this.extIndex(o)),u=Array.prototype.indexOf.call(this.itemIndexArray,o);this.getContent(c,this.items[u].content,"render",u)}else h.classList.add(Ws);this.triggerAnimation(o,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(s),!this.initRender&&!i){var d={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:s,selectedIndex:e,selectedContent:Ge("#"+us+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:n,preventFocus:!1};this.trigger("selected",d,function(p){p.preventFocus||s.firstElementChild.focus()})}}},t.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=Ge("."+cu,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1},t.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,Vz,e),this.refreshActiveBorder()},t.prototype.refreshActiveBorder=function(){v(this.bdrLine)||this.bdrLine.classList.add(zo),this.setActiveBorder()},t.prototype.showPopup=function(e){var i=Ge(".e-popup.e-toolbar-pop",this.hdrEle);if(i&&i.classList.contains("e-popup-close")){var n=i&&i.ej2_instances[0];n.position.X="Left"===this.headerPlacement?"left":"right",n.dataBind(),n.show(e)}},t.prototype.bindDraggable=function(){var e=this;if(this.allowDragAndDrop){var i=this.element.querySelector("."+zh);i&&Array.prototype.slice.call(i.querySelectorAll("."+Hr)).forEach(function(s){e.initializeDrag(s)})}},t.prototype.wireEvents=function(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),$.add(this.element,"mouseover",this.hoverHandler,this),$.add(this.element,"keydown",this.spaceKeyDown,this),v(this.cntEle)||(this.touchModule=new ph(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new Fa(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new Fa(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},t.prototype.unWireEvents=function(){v(this.keyModule)||this.keyModule.destroy(),v(this.tabKeyModule)||this.tabKeyModule.destroy(),!v(this.cntEle)&&!v(this.touchModule)&&(this.touchModule.destroy(),this.touchModule=null),window.removeEventListener("resize",this.resizeContext),$.remove(this.element,"mouseover",this.hoverHandler),$.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove(Vz),this.element.classList.remove(Wz)},t.prototype.clickHandler=function(e){this.element.classList.remove(Wz);var i=e.originalEvent.target,n=Je(i,"."+Hr),s=this.getEleIndex(n);i.classList.contains(Xz)?this.removeTab(s):this.isVertical()&&Je(i,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,!v(n)&&s!==this.selectedItem&&this.selectTab(s,e.originalEvent,!0))},t.prototype.swipeHandler=function(e){if(!(e.velocity<3&&v(e.originalEvent.changedTouches))){this.isNested&&this.element.setAttribute("data-swipe","true");var i=this.element.querySelector('[data-swipe="true"]');if(i)return void i.removeAttribute("data-swipe");if(this.isSwiped=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var n=this.selectedItem-1;n>=0;n--)if(!this.tbItem[n].classList.contains(zo)){this.selectTab(n,null,!0);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==bi("."+Hr,this.element).length-1)for(var s=this.selectedItem+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains(zo)){this.selectTab(s,null,!0);break}this.isSwiped=!1}},t.prototype.spaceKeyDown=function(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(v(Je(e.target,"."+zh))||e.preventDefault())},t.prototype.keyHandler=function(e){if(!this.element.classList.contains(by)){this.element.classList.add(Wz);var i=e.target,n=this.getTabHeader(),s=Ge("."+Ws,n);this.popEle=Ge("."+H8,n),v(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);var o=Je(document.activeElement,"."+Hr),a=Je(i,"."+Hr);switch(e.action){case"space":case"enter":if(i.parentElement.classList.contains(by))return;if("enter"===e.action&&i.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(i);break;case"tab":case"shiftTab":i.classList.contains(Rd)&&!1===Je(i,"."+Hr).classList.contains(Ws)&&i.setAttribute("tabindex",i.getAttribute("data-tabindex")),this.popObj&&ra(this.popObj.element)&&this.popObj.hide(this.hide),!v(s)&&"-1"===s.children.item(0).getAttribute("tabindex")&&s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":v(o)||this.refreshItemVisibility(o);break;case"openPopup":e.preventDefault(),!v(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!v(a)){var l=a.nextSibling;!v(l)&&l.classList.contains(Hr)&&l.firstElementChild.focus(),this.removeTab(this.getEleIndex(a))}this.setActiveBorder()}}},t.prototype.refreshItemVisibility=function(e){var i=Ge("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!v(i)){var n=Ge(".e-hscroll-bar",this.tbItems);n.removeAttribute("tabindex");var s=n.scrollLeft,o=s+n.offsetWidth,a=e.offsetLeft,l=e.offsetWidth,h=e.offsetLeft+e.offsetWidth;s<a&&o<h?n.scrollLeft=s+(l-(o-a)):s>a&&o>h&&(n.scrollLeft=s-(l-(h-s)))}},t.prototype.getIndexFromEle=function(e){return parseInt(e.substring(e.lastIndexOf("_")+1),10)},t.prototype.hoverHandler=function(e){var i=e.target;!v(i.classList)&&i.classList.contains(Xz)&&i.setAttribute("title",new Go("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))},t.prototype.evalOnPropertyChangeItems=function(e,i){if(e.items instanceof Array&&i.items instanceof Array)if(this.lastIndex=0,v(this.tbObj))this.reRenderItems();else{(this.isReact||this.isAngular)&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];for(var X=Ge(".e-tab > ."+us,this.element);X.firstElementChild;)Ot(X.firstElementChild);this.select(this.selectedItem),this.draggableItems=[],this.bindDraggable()}else for(var n=Object.keys(e.items),s=0;s<n.length;s++)for(var o=parseInt(Object.keys(e.items)[s],10),a=Object.keys(e.items[o]),l=0;l<a.length;l++){var d,h=Object(i.items[o])[a[l]],c=Object(e.items[o])[a[l]],u=this.element.querySelectorAll("."+Hr)[o];d=u&&!v(u.id)&&""!==u.id?this.getIndexFromEle(u.id):o;var p=Ge("."+cu+" #"+Ya+this.tabId+"_"+d,this.element),f=Ge("."+us+" #"+us+this.tabId+"_"+d,this.element);if("header"===a[l]||"headerTemplate"===a[l]){var m=v(this.items[o].header)||v(this.items[o].header.iconCss)?"":this.items[o].header.iconCss,M=this.items[o].headerTemplate||this.items[o].header.text;if("headerTemplate"===a[l]&&this.clearTabTemplate(p,a[l],Hr),""===M&&""===m)this.removeTab(o);else{this.tbId=u.id;var T=[];T.push(this.items[o]),this.items.splice(o,1),this.itemIndexArray.splice(o,1),this.tbObj.items.splice(o,1);var P=p.classList.contains(zo);Ot(p),this.isReplace=!0,this.addTab(T,o),P&&this.hideTab(o),this.isReplace=!1}}if("content"===a[l]&&!v(f))if("string"!=typeof c&&!v(c.innerHTML)||"."!==c[0]&&"#"!==c[0]||!c.length)""===c&&"#"===h[0]?(document.body.appendChild(this.element.querySelector(h)).style.display="none",f.innerHTML=c):this.isAngular||this.isReact?(this.clearTabTemplate(f,a[l],Ya),f.innerHTML="",this.templateCompile(f,c,o)):"function"!=typeof c&&(f.innerHTML=c);else{var Y=document.querySelector(c);f.appendChild(Y),Y.style.display=""}"cssClass"===a[l]&&(v(p)||(p.classList.remove(h),p.classList.add(c)),v(f)||(f.classList.remove(h),f.classList.add(c))),"disabled"===a[l]&&this.enableTab(o,!0!==c),"visible"===a[l]&&this.hideTab(o,!0!==c)}},t.prototype.clearTabTemplate=function(e,i,n){if(this.clearTemplates)if(this.registeredTemplate&&this.registeredTemplate[i]){for(var s=this.registeredTemplate,o=0;o<s[i].length;o++)if(!v(l=Je(s[i][o].rootNodes[0],"."+n))&&l===e){this.clearTemplate([i],[s[i][o]]);break}}else if(this.portals&&this.portals.length>0){var h=this.portals;for(o=0;o<h.length;o++){var l;if(!v(l=Je(h[o].containerInfo,"."+n))&&l===e){this.clearTemplate([i],o);break}}}},t.prototype.initializeDrag=function(e){var i=this,n=new tw(e,{dragArea:this.dragArea,dragTarget:"."+Hr,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:function(s){var a,l,o=i.getEleIndex(i.dragItem),h={draggedItem:i.dragItem,event:s.event,target:s.target,droppedItem:s.target.closest("."+Hr),clonedElement:i.cloneElement,index:o};if(v(s.target.closest("."+yy))||s.target.closest("."+yy).isEqualNode(i.element)||i.dragArea==="."+zh){if(s.target.closest(i.dragArea)||"Popup"===i.overflowMode?(document.body.style.cursor="",i.dragItem.querySelector("."+Rd).style.visibility="hidden",i.cloneElement.classList.contains(zo)&&Ae([i.cloneElement],zo)):(document.body.style.cursor="not-allowed",be([i.cloneElement],zo),i.dragItem.classList.contains(zo)&&Ae([i.dragItem],zo),i.dragItem.querySelector("."+Rd).style.visibility="visible"),"Scrollable"===i.overflowMode&&!v(i.element.querySelector(".e-hscroll"))){var c=i.element.querySelector(".e-scroll-right-nav"),u=i.element.querySelector(".e-scroll-left-nav"),d=i.element.querySelector(".e-hscroll-bar");!v(c)&&Math.abs(c.offsetWidth/2+c.offsetLeft)>i.cloneElement.offsetLeft+i.cloneElement.offsetWidth&&(d.scrollLeft-=10),!v(u)&&Math.abs(u.offsetLeft+u.offsetWidth-i.cloneElement.offsetLeft)>u.offsetWidth/2&&(d.scrollLeft+=10)}i.cloneElement.style.pointerEvents="none",l=Je(s.target,"."+Hr+".e-draggable");var p=0;"Scrollable"===i.overflowMode&&!v(i.element.querySelector(".e-hscroll"))&&(p=i.element.querySelector(".e-hscroll-content").offsetWidth),null!=l&&!l.isSameNode(i.dragItem)&&l.closest("."+yy).isSameNode(i.dragItem.closest("."+yy))&&((a=i.getEleIndex(l))<o&&Math.abs(l.offsetLeft+l.offsetWidth-i.cloneElement.offsetLeft)>l.offsetWidth/2&&i.dragAction(l,o,a),a>o&&Math.abs(l.offsetWidth/2)+l.offsetLeft-p<i.cloneElement.offsetLeft+i.cloneElement.offsetWidth&&i.dragAction(l,o,a)),i.droppedIndex=i.getEleIndex(i.dragItem),i.trigger("dragging",h)}else i.trigger("dragging",h)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(n)},t.prototype.helper=function(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),be([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+zh).classList.contains(zO)&&be([this.cloneElement],zO),Ae([this.cloneElement.querySelector("."+Rd)],"e-ripple"),v(this.cloneElement.querySelector(".e-ripple-element"))||bn(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement},t.prototype.itemDragStart=function(e){var i=this;this.draggingItems=this.items.map(function(s){return s}),this.dragItem=e.element;var n={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",n,function(s){if(s.cancel){var o=e.element.ej2_instances[0];v(o)||o.intDestroy(e.event),Ot(i.cloneElement)}else i.removeActiveClass(),be([i.tbItems.querySelector("."+BO)],zo),i.dragItem.querySelector("."+Rd).style.visibility="hidden"})},t.prototype.dragAction=function(e,i,n){if(this.items.length>0){var s=this.draggingItems[i];this.draggingItems.splice(i,1),this.draggingItems.splice(n,0,s)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),i>n)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){var o=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),o.insertBefore(e.parentElement.lastChild,o.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{var a=e.parentElement.lastChild;e.isSameNode(a)?(o=this.dragItem.parentNode,e.parentNode.insertBefore(this.dragItem,e),o.insertBefore(a,o.childNodes[0])):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e))}i<n&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(this.dragItem,e.nextElementSibling):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))},t.prototype.itemDragStop=function(e){var i=this;Ot(this.cloneElement),this.cloneElement=null,this.dragItem.querySelector("."+Rd).style.visibility="visible",document.body.style.cursor="",this.trigger("dragged",{draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1},function(s){s.cancel?i.refresh():i.items.length>0&&i.draggingItems.length>0?(i.items=i.draggingItems,i.selectedItem=i.droppedIndex,i.refresh()):(i.dragItem.querySelector("."+Rd).style.visibility="",Ae([i.tbItems.querySelector("."+BO)],zo),i.selectTab(i.droppedIndex,null,!0))}),this.dragItem=null},t.prototype.enableTab=function(e,i){var n=bi("."+Hr,this.element)[e];v(n)||(!0===i?(n.classList.remove(by,Qz),n.firstElementChild.setAttribute("tabindex",n.firstElementChild.getAttribute("data-tabindex"))):(n.classList.add(by,Qz),n.firstElementChild.removeAttribute("tabindex"),n.classList.contains(Ws)&&this.select(e+1)),v(this.items[e])||(this.items[e].disabled=!i,this.dataBind()),n.firstElementChild.setAttribute("aria-disabled",!0===i?"false":"true"))},t.prototype.addTab=function(e,i){var n=this,s={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,i):this.trigger("adding",s,function(o){o.cancel||n.addingTabContent(e,i)}),this.isReact&&this.renderReactTemplates()},t.prototype.addingTabContent=function(e,i){var n=this,s=0;if(this.hdrEle=Ge("."+zh,this.element),v(this.hdrEle))this.items=e,this.reRenderItems(),this.bindDraggable();else{var o=bi(".e-tab-header ."+Hr,this.element).length;if(0!==o&&(s=this.lastIndex+1),v(i)&&(i=o-1),o<i||i<0||isNaN(i))return;0===o&&!v(this.hdrEle)&&(this.hdrEle.style.display=""),v(this.bdrLine)||this.bdrLine.classList.add(zo),this.tbItems=Ge("."+cu,this.getTabHeader()),this.isAdd=!0;var a=this.parseObject(e,i);this.isAdd=!1;var h,l=0;e.forEach(function(c,u){if(h=c.headerTemplate||c.header.text,v(c.headerTemplate||c.header)||v(h)||0===h.length&&!v(c.header)&&v(c.header.iconCss)||(a[u]&&(v(c.id)&&(c.id=Ya+n.tabId+"_"+Y8+(s+u).toString()),a[u].htmlAttributes["data-id"]=c.id),n.items.splice(i+l,0,c),l++),n.isTemplate&&!v(c.header)&&!v(c.header.text)){var d=s+u,p=n.createElement("div",{id:us+n.tabId+"_"+d,className:Ya,attrs:{role:"tabpanel","aria-labelledby":Ya+"_"+d}});n.cntEle.insertBefore(p,n.cntEle.children[i+u]);var f=n.getTrgContent(n.cntEle,d.toString());n.getContent(f,c.content,"render",i)}}),this.tbObj.addItems(a,i),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===i?this.select(i):(this.setActiveBorder(),this.tbItem=bi("."+Hr,this.getTabHeader())),this.bindDraggable()}},t.prototype.removeTab=function(e){var i=this,n=bi("."+Hr,this.element)[e];v(n)||this.trigger("removing",{removedItem:n,removedIndex:e,cancel:!1},function(o){if(!o.cancel){var a=Ge("#"+Ya+i.tabId+"_"+i.extIndex(n.id),Ge("."+cu,i.element));v(a)||i.clearTabTemplate(a,"headerTemplate",Hr),i.tbObj.removeItems(e),i.allowDragAndDrop&&e!==Array.prototype.indexOf.call(i.itemIndexArray,n.id)&&(e=Array.prototype.indexOf.call(i.itemIndexArray,n.id));var l=i.itemIndexArray.indexOf(n.id);i.items.splice(l,1),i.itemIndexArray.splice(l,1),i.refreshActiveBorder();var h=Ge("#"+us+i.tabId+"_"+i.extIndex(n.id),Ge("."+us,i.element));v(h)||(i.clearTabTemplate(h,"content",Ya),Ot(h)),i.trigger("removed",o),i.draggableItems&&i.draggableItems.length>0&&(i.draggableItems[e].destroy(),i.draggableItems[e]=null,i.draggableItems.splice(e,1)),n.classList.contains(Ws)?(e=e>bi("."+Hr+":not(."+Sv+")",i.element).length-1?e-1:e,i.enableAnimation=!1,i.selectedItem=e,i.select(e)):e!==i.selectedItem&&(e<i.selectedItem&&(e=i.itemIndexArray.indexOf(i.tbItem[i.selectedItem].id),i.setProperties({selectedItem:e>-1?e:i.selectedItem},!0),i.prevIndex=i.selectedItem),i.tbItem=bi("."+Hr,i.getTabHeader())),0===bi("."+Hr,i.element).length&&(i.hdrEle.style.display="none"),i.enableAnimation=!0}})},t.prototype.hideTab=function(e,i){var n,s=bi("."+Hr,this.element)[e];if(!v(s)){if(v(i)&&(i=!0),this.bdrLine.classList.add(zo),!0===i)if(s.classList.add(zo),0!==(n=bi("."+Hr+":not(."+zo+")",this.tbItems)).length&&s.classList.contains(Ws)){if(0!==e)for(var o=e-1;o>=0;o--){if(!this.tbItem[o].classList.contains(zo)){this.select(o);break}if(0===o)for(var a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains(zo)){this.select(a);break}}else for(a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains(zo)){this.select(a);break}}else 0===n.length&&this.element.classList.add(zo);else this.element.classList.remove(zo),n=bi("."+Hr+":not(."+zo+")",this.tbItems),s.classList.remove(zo),0===n.length&&this.select(e);this.setActiveBorder(),v(s.firstElementChild)||s.firstElementChild.setAttribute("aria-hidden",""+i),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}},t.prototype.selectTab=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=!1),this.isInteracted=n,this.select(e,i)},t.prototype.select=function(e,i){var n=this,s=this.getTabHeader();this.tbItems=Ge("."+cu,s),this.tbItem=bi("."+Hr,s),this.content=Ge("."+us,this.element),this.prevItem=this.tbItem[this.prevIndex],v(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var o=this.tbItem[e];v(o)?this.selectedID="0":this.selectingID=this.extIndex(o.id),!v(this.prevItem)&&!this.prevItem.classList.contains(by)&&this.prevItem.children.item(0).setAttribute("tabindex",this.prevItem.firstElementChild.getAttribute("tabindex"));var a={event:i,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:v(this.content)?null:Ge("#"+us+this.tabId+"_"+this.selectedID,this.content),selectingItem:o,selectingIndex:e,selectingContent:v(this.content)?null:Ge("#"+us+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:this.isInteracted,cancel:!1};this.initRender?this.selectingContent(e,this.isInteracted):this.trigger("selecting",a,function(l){l.cancel||n.selectingContent(e,n.isInteracted)}),this.isInteracted=!1},t.prototype.selectingContent=function(e,i){if("number"==typeof e){if(!v(this.tbItem[e])&&(this.tbItem[e].classList.contains(by)||this.tbItem[e].classList.contains(zo)))for(var n=e+1;n<this.items.length;n++){if(!1===this.items[n].disabled&&!0===this.items[n].visible){e=n;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.prevItem=this.tbItem[this.prevIndex],this.tbItem[e].classList.contains(Sv)&&this.reorderActiveTab){if(this.setActive(this.popupHandler(this.tbItem[e]),null,i),!v(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=bi("."+cu+" ."+Hr,this.hdrEle);var s=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,s);var o=this.itemIndexArray[e];this.itemIndexArray.splice(e,1),this.itemIndexArray.splice(this.tbItem.length-1,0,o)}}else this.setActive(e,null,i);else this.setActive(0,null,i)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e),null,i)},t.prototype.getItemIndex=function(e){for(var i,n=0;n<this.tbItem.length;n++)if(e===this.tbItem[n].getAttribute("data-id")){i=n;break}return i},t.prototype.disable=function(e){this.setCssClass(this.element,by,e),this.element.setAttribute("aria-disabled",""+e)},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},t.prototype.getModuleName=function(){return"tab"},t.prototype.onPropertyChanged=function(e,i){for(var n=this,s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"width":$i(this.element,{width:si(e.width)});break;case"height":$i(this.element,{height:si(e.height)}),this.setContentHeight(!1);break;case"cssClass":var l=this.element.querySelector("."+zh);""===i.cssClass||v(i.cssClass)?(this.setCssClass(this.element,e.cssClass,!0),v(l)||this.setCssClass(l,e.cssClass,!0)):(this.setCssClass(this.element,i.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0),v(l)||(this.setCssClass(l,i.cssClass,!1),this.setCssClass(l,e.cssClass,!0)));break;case"items":this.evalOnPropertyChangeItems(e,i);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"reorderActiveTab":this.refreshActiveTabBorder();break;case"selectedItem":this.selectedItem=i.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActiveTabBorder();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach(function(h){h.dragArea=n.dragArea}),this.refresh())}},t.prototype.refreshActiveTab=function(){if(this.isReact&&this.isTemplate&&this.clearTemplate(),this.isTemplate){var T=this.element.querySelector("."+cu),P=this.element.querySelector("."+Hr+"."+Ws),U=this.getIndexFromEle(P.id),Y=P.innerText,X=this.element.querySelector("."+us).querySelector("."+Ws).children[0],Q=X.innerHTML;Ot(P),Ot(X);var oe={className:Hr+" "+Uz+" "+Ws,id:Ya+this.tabId+"_"+U},de=this.createElement("span",{className:Px,innerHTML:Y,attrs:{role:"presentation"}}).outerHTML,Me=this.createElement("div",{className:FO,innerHTML:de+this.btnCls.outerHTML}).outerHTML,c=P.firstElementChild.getAttribute("data-tabindex"),Ve=this.createElement("div",{className:Rd,innerHTML:Me,attrs:{tabIndex:c,"data-tabindex":c,role:"tab","aria-controls":us+this.tabId+"_"+U,"aria-selected":"true","aria-disabled":"false"}});T.insertBefore(this.createElement("div",oe),T.children[U+1]),this.element.querySelector("."+Hr+"."+Ws).appendChild(Ve);var p=this.createElement("div",{innerHTML:Q});this.element.querySelector("."+us).querySelector("."+Ws).appendChild(p)}else if(this.element.querySelector("."+Hr+"."+Ws)){Ot(this.element.querySelector("."+Hr+"."+Ws).children[0]),Ot(this.element.querySelector("."+us).querySelector("."+Ws).children[0]);var e=this.items[this.selectedItem],i=v(e.header)||v(e.header.iconPosition)?"":e.header.iconPosition,n=v(e.header)||v(e.header.iconCss)?"":e.header.iconCss,s=e.headerTemplate||e.header.text,o=this.createElement("div",{className:Px,attrs:{role:"presentation"}});v(s.tagName)?this.headerTextCompile(o,s,this.selectedItem):o.appendChild(s);var l=this.createElement("span",{className:Yz+" "+j8+" "+Gz+"-"+i+" "+n}),h=this.createElement("div",{className:FO});h.appendChild(o),""!==s&&void 0!==s&&""!==n?("left"===i||"top"===i?h.insertBefore(l,h.firstElementChild):h.appendChild(l),this.isIconAlone=!1):(""===n?o:l)===l&&(Ot(o),h.appendChild(l),this.isIconAlone=!0),c=v(e.tabIndex)?"-1":e.tabIndex.toString();var u=e.disabled?{}:{tabIndex:c,"data-tabindex":c,role:"tab","aria-selected":"true","aria-disabled":"false"};h.appendChild(this.btnCls.cloneNode(!0));var d=this.createElement("div",{className:Rd,attrs:u});d.appendChild(h),("top"===i||"bottom"===i)&&this.element.classList.add("e-vertical-icon"),this.element.querySelector("."+Hr+"."+Ws).appendChild(d),p=this.createElement("div");var f=e.content,m=void 0;if("string"==typeof f||v(f.innerHTML))if("string"==typeof f&&this.enableHtmlSanitizer&&(f=Ms.sanitize(f)),"."===f[0]||"#"===f[0])if(document.querySelectorAll(f).length){var M=document.querySelector(f);m=M.outerHTML.trim(),p.appendChild(M),M.style.display=""}else this.compileElement(p,f,"content",this.selectedItem);else this.compileElement(p,f,"content",this.selectedItem);else p.appendChild(f);v(m)||-1===this.templateEle.indexOf(f.toString())&&this.templateEle.push(f.toString()),this.element.querySelector(".e-item."+Ws).appendChild(p)}this.isReact&&this.renderReactTemplates()},t.prototype.refreshActiveTabBorder=function(){var e=Ge("."+Hr+"."+Sv+"."+Ws,this.element);!v(e)&&this.reorderActiveTab&&this.select(this.getEleIndex(e)),this.refreshActiveBorder()},Mr([Qn([],_pe)],t.prototype,"items",void 0),Mr([O("100%")],t.prototype,"width",void 0),Mr([O("auto")],t.prototype,"height",void 0),Mr([O("")],t.prototype,"cssClass",void 0),Mr([O(0)],t.prototype,"selectedItem",void 0),Mr([O("Top")],t.prototype,"headerPlacement",void 0),Mr([O("Content")],t.prototype,"heightAdjustMode",void 0),Mr([O("Scrollable")],t.prototype,"overflowMode",void 0),Mr([O("Dynamic")],t.prototype,"loadOn",void 0),Mr([O(!1)],t.prototype,"enablePersistence",void 0),Mr([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),Mr([O(!1)],t.prototype,"showCloseButton",void 0),Mr([O(!0)],t.prototype,"reorderActiveTab",void 0),Mr([O()],t.prototype,"scrollStep",void 0),Mr([O()],t.prototype,"dragArea",void 0),Mr([O(!1)],t.prototype,"allowDragAndDrop",void 0),Mr([O(!0)],t.prototype,"clearTemplates",void 0),Mr([Lt({},X8)],t.prototype,"animation",void 0),Mr([Se()],t.prototype,"created",void 0),Mr([Se()],t.prototype,"adding",void 0),Mr([Se()],t.prototype,"added",void 0),Mr([Se()],t.prototype,"selecting",void 0),Mr([Se()],t.prototype,"selected",void 0),Mr([Se()],t.prototype,"removing",void 0),Mr([Se()],t.prototype,"removed",void 0),Mr([Se()],t.prototype,"onDragStart",void 0),Mr([Se()],t.prototype,"dragging",void 0),Mr([Se()],t.prototype,"dragged",void 0),Mr([Se()],t.prototype,"destroyed",void 0),Mr([Jn],t)}(Xr),HO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),An=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zd="e-treeview",Q8="e-control",kl="e-icon-collapsible",Ys="e-icon-expandable",Kn="e-list-item",Ib="e-list-text",Kr="e-list-parent",UO="e-hover",uu="e-active",Kz="e-icons-spinner",wv="e-process",Ca="e-icons",Nl="e-text-content",VO="e-input",$8="e-input-group",WO="e-tree-input",eB="e-editing",Z8="e-interaction",J8="e-droppable",tB="e-dragging",_x="e-sibling",YO="e-drop-in",Rx="e-drop-next",iB="e-drop-out",nB="e-no-drop",Iv="e-fullrow",Dw="e-selected",GO="e-expanded",K8="e-node-collapsed",eY="e-disable",Bh="e-check",Bd="e-stop",Qu="e-checkbox-wrapper",Mv="e-frame",tY="e-ripple",Mb="e-node-focus",iY="e-list-img",XO="e-animation-active",nY="e-disabled",Tw="e-prevent",rY={treeRole:"group",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},Xpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HO(t,r),An([O("child")],t.prototype,"child",void 0),An([O([])],t.prototype,"dataSource",void 0),An([O("expanded")],t.prototype,"expanded",void 0),An([O("hasChildren")],t.prototype,"hasChildren",void 0),An([O("htmlAttributes")],t.prototype,"htmlAttributes",void 0),An([O("iconCss")],t.prototype,"iconCss",void 0),An([O("id")],t.prototype,"id",void 0),An([O("imageUrl")],t.prototype,"imageUrl",void 0),An([O("isChecked")],t.prototype,"isChecked",void 0),An([O("parentID")],t.prototype,"parentID",void 0),An([O(null)],t.prototype,"query",void 0),An([O("selectable")],t.prototype,"selectable",void 0),An([O("selected")],t.prototype,"selected",void 0),An([O(null)],t.prototype,"tableName",void 0),An([O("text")],t.prototype,"text",void 0),An([O("tooltip")],t.prototype,"tooltip",void 0),An([O("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(ii),sY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HO(t,r),An([O("SlideDown")],t.prototype,"effect",void 0),An([O(400)],t.prototype,"duration",void 0),An([O("linear")],t.prototype,"easing",void 0),t}(ii),Qpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HO(t,r),An([Lt({effect:"SlideUp",duration:400,easing:"linear"},sY)],t.prototype,"collapse",void 0),An([Lt({effect:"SlideDown",duration:400,easing:"linear"},sY)],t.prototype,"expand",void 0),t}(ii),oY=function(r){function t(i,n){var s=r.call(this,i,n)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.validNodes=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.hasTemplate=!1,s.isFirstRender=!1,s.isNodeDropped=!1,s.isInteracted=!1,s.isRightClick=!1,s.mouseDownStatus=!1,s}var e;return HO(t,r),e=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var i=this;this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",shiftSpace:"shift+space",ctrlSpace:"ctrl+space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:Ys,ariaAttributes:rY,expandIconPosition:"Left",itemCreated:function(n){i.beforeNodeCreate(n)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new Ro({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),v(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),v(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),v(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])},t.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()},t.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?this.element.classList.add(nY):this.element.classList.remove(nY)},t.prototype.setEnableRtl=function(){(this.enableRtl?be:Ae)([this.element],"e-rtl")},t.prototype.setRipple=function(){this.rippleFn=dh(this.element,{selector:"."+Iv+",."+Nl,ignore:"."+Nl+" > ."+Ca+",."+$8+",."+VO+", ."+Qu}),this.rippleIconFn=dh(this.element,{selector:"."+Nl+" > ."+Ca,isCenterRipple:!0})},t.prototype.setFullRow=function(i){(i?be:Ae)([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(i){var n=Ge("."+Kr,this.element);i?n.setAttribute("aria-multiselectable","true"):n.removeAttribute("aria-multiselectable")},t.prototype.templateComplier=function(i){if(i){this.hasTemplate=!0,this.element.classList.add(Z8);try{return"function"!=typeof i&&document.querySelectorAll(i).length?wn(document.querySelector(i).innerHTML.trim()):wn(i)}catch{return wn(i)}}this.element.classList.remove(Z8)},t.prototype.setDataBinding=function(i){var n=this;this.treeList.push("false"),this.fields.dataSource instanceof Ri?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(function(s){n.isOffline=n.fields.dataSource.dataSource.offline,n.fields.dataSource instanceof Ri&&n.isOffline&&(n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),n.renderItems(!0),0===n.treeList.length&&!n.isLoaded&&n.finalize())}).catch(function(s){n.trigger("actionFailure",{error:s})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(s){n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),i&&(n.changeDataSource=!0),n.renderItems(!0),n.changeDataSource=!1,0===n.treeList.length&&!n.isLoaded&&n.finalize()}).catch(function(s){n.trigger("actionFailure",{error:s})})):(this.treeList.pop(),v(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0===this.treeList.length&&!this.isLoaded&&this.finalize()},t.prototype.getQuery=function(i,n){void 0===n&&(n=null);var o,s=[];if(i.query)o=i.query.clone();else{o=new Vn;for(var a=this.getActualProperties(i),l=0,h=Object.keys(a);l<h.length;l++){var c=h[l];"dataSource"!==c&&"tableName"!==c&&"child"!==c&&i[c]&&"url"!==c&&-1===s.indexOf(i[c])&&s.push(i[c])}o.select(s),a.hasOwnProperty("tableName")&&o.from(i.tableName)}return $n.addSorting(this.sortOrder,i.text,o),!v(n)&&!v(i.parentID)&&o.where(i.parentID,"equal",this.isNumberTypeId?parseFloat(n):n),o},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof Xe(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var i=this.getChildNodes(this.treeData,void 0,!0);this.rootData=v(i)?[]:i}else this.rootData=this.treeData},t.prototype.renderItems=function(i){this.listBaseOption.ariaAttributes.level=1;var n=this.getSortedData(this.rootData);this.ulElement=$n.createList(this.createElement,i?this.rootData:n,this.listBaseOption),this.element.appendChild(this.ulElement);var s=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var o=0;o<s.length;)this.renderChildNodes(s[o],!0,null,!0),o++;(1===bi("."+Kr,this.element).length&&s&&0!==s.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateCheckedStateFromDS=function(i){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){for(var n=this.fields,s=new Ri(this.treeData).executeLocal((new Vn).where(n.isChecked,"equal",!0,!1)),o=0;o<s.length;o++){var a=s[o][this.fields.id]?s[o][this.fields.id].toString():null;if(s[o][this.fields.parentID]&&s[o][this.fields.parentID].toString(),-1===this.checkedNodes.indexOf(a)&&!this.isLoaded&&this.checkedNodes.push(a),s[o][this.fields.hasChildren])for(var h=s[o][this.fields.id],c=new Ri(this.treeData).executeLocal((new Vn).where(n.parentID,"equal",h,!1)),u=0;u<c.length;u++){var d=c[u][this.fields.id]?c[u][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(d)&&this.autoCheck&&this.checkedNodes.push(d)}}for(o=0;o<this.checkedNodes.length;o++){var p=this.fields,f=new Ri(this.treeData).executeLocal((new Vn).where(p.id,"equal",this.checkedNodes[o],!0));if(f[0]&&this.autoCheck&&(this.getCheckedNodeDetails(p,f),this.checkIndeterminateState(f[0])),f.length>0){var m=f[0][this.fields.id]?f[0][this.fields.id].toString():null;this.checkedNodes.indexOf(m)>-1&&-1===this.validNodes.indexOf(m)&&this.validNodes.push(m)}for(var M=new Ri(this.treeData).executeLocal((new Vn).where(p.parentID,"equal",this.checkedNodes[o],!0)),T=0;T<M.length;T++)m=M[T][this.fields.id]?M[T][this.fields.id].toString():null,-1===this.checkedNodes.indexOf(m)&&this.autoCheck&&this.checkedNodes.push(m),this.checkedNodes.indexOf(m)>-1&&-1===this.validNodes.indexOf(m)&&this.validNodes.push(m)}}else if(2===this.dataType||this.fields.dataSource instanceof Ri&&this.isOffline){for(T=0;T<this.treeData.length;T++){var P=this.treeData[T][this.fields.id]?this.treeData[T][this.fields.id].toString():"";this.treeData[T][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(P)&&this.checkedNodes.push(P),this.checkedNodes.indexOf(P)>-1&&-1===this.validNodes.indexOf(P)&&this.validNodes.push(P);var U=Xe(this.fields.child.toString(),this.treeData[T]);U&&this.updateChildCheckState(U,this.treeData[T])}this.validNodes=this.enablePersistence?this.checkedNodes:this.validNodes}this.setProperties({checkedNodes:this.validNodes},!0)}},t.prototype.getCheckedNodeDetails=function(i,n){var s=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,o=0,a=this.element.querySelector('[data-uid="'+n[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+n[0][this.fields.parentID]+'"]');if(a||l)l&&(Ge("."+Bh,l)||this.changeState(l,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(s)&&this.parentNodeCheck.push(s);for(var c=this.getChildNodes(this.treeData,s),u=0;u<c.length;u++){var d=c[u][this.fields.id]?c[u][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(d)&&o++,o===c.length&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}var p=new Ri(this.treeData).executeLocal((new Vn).where(i.id,"equal",s,!0));this.getCheckedNodeDetails(i,p)}},t.prototype.updateParentCheckState=function(){for(var n,i=bi("."+Bd,this.element),s=0;s<i.length;s++){var o=Je(i[s],"."+Kn),a=o.getAttribute("data-uid").toString(),l=0;if(n=1===this.dataType?new Ri(this.treeData).executeLocal((new Vn).where(this.fields.parentID,"equal",a,!0)):this.getChildNodes(this.treeData,a)){for(var h=0;h<n.length;h++){var c=n[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(c)&&l++}if(l===n.length){var u=o.getAttribute("data-uid");-1===this.checkedNodes.indexOf(u)&&this.checkedNodes.push(u),this.changeState(o,"check",null,!0,!0)}else 0===l&&0===this.checkedNodes.length&&this.changeState(o,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(i){var n;(n=this.element.querySelector(1===this.dataType?'[data-uid="'+i[this.fields.parentID]+'"]':'[data-uid="'+i[this.fields.id]+'"]'))?"true"!==n.querySelector("."+Qu).getAttribute("aria-checked")&&this.changeState(n,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(i[this.fields.id].toString())&&this.parentNodeCheck.push(i[this.fields.id].toString())},t.prototype.updateChildCheckState=function(i,n){for(var s=0,o=n[this.fields.id]?n[this.fields.id].toString():"",a=0;a<i.length;a++){var l=i[a][this.fields.id]?i[a][this.fields.id].toString():"";i[a][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(o)&&-1===this.checkedNodes.indexOf(l)&&this.autoCheck&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(l)&&this.autoCheck&&s++,this.checkedNodes.indexOf(l)>-1&&-1===this.validNodes.indexOf(l)&&this.validNodes.push(l);var h=Xe(this.fields.child.toString(),i[a]);h&&h.length&&(-1===this.parentCheckData.indexOf(n)&&this.parentCheckData.push(n),this.updateChildCheckState(h,i[a])),s===i.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o)}if(0!==s&&this.autoCheck){this.checkIndeterminateState(n);for(var c=0;c<this.parentCheckData.length;c++)n!==this.parentCheckData[c]&&this.parentCheckData[c]&&this.checkIndeterminateState(this.parentCheckData[c])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(i){if(this.showCheckBox){var n=function wA(r,t,e){void 0===t&&(t=!1),void 0===e&&(e={});var i=r("div",{className:"e-checkbox-wrapper e-css"});if(e.cssClass&&be([i],e.cssClass.split(" ")),e.enableRtl&&i.classList.add("e-rtl"),t){var n=r("span",{className:"e-ripple-container"});dh(n,{isCenterRipple:!0,duration:400}),i.appendChild(n)}var s=r("span",{className:"e-frame e-icons"});if(e.checked&&s.classList.add("e-check"),i.appendChild(s),e.label){var o=r("span",{className:"e-label"});e.disableHtmlEncode?o.textContent=e.label:o.innerHTML=e.label,i.appendChild(o)}return i}(this.createElement,!0,{cssClass:this.touchClass});n.setAttribute("role","checkbox"),n.setAttribute("aria-label","checkbox");var s=Ge("div."+Ca,i.item),o=i.item.getAttribute("data-uid");i.item.childNodes[0].insertBefore(n,i.item.childNodes[0].childNodes[v(s)?0:1]);var a=Xe(i.fields.isChecked,i.curData);this.checkedNodes.indexOf(o)>-1?(Ge("."+Mv,n).classList.add(Bh),n.setAttribute("aria-checked","true"),this.addCheck(i.item)):v(a)||"true"!==a.toString()?n.setAttribute("aria-checked","false"):(Ge("."+Mv,n).classList.add(Bh),n.setAttribute("aria-checked","true"),this.addCheck(i.item));var l=Ge("."+Mv,n);$.add(l,"mousedown",this.frameMouseHandler,this),$.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(i.item),this.allowMultiSelection&&!i.item.classList.contains(Dw)&&i.item.setAttribute("aria-selected","false");var h=i.fields;if(this.addActionClass(i,h.selected,Dw),this.addActionClass(i,h.expanded,GO),i.item.setAttribute("tabindex","-1"),$.add(i.item,"focus",this.focusIn,this),!v(this.nodeTemplateFn)){var c=i.item.querySelector("."+Ib),u=i.item.getAttribute("data-uid");c.innerHTML="",this.renderNodeTemplate(i.curData,c,u)}this.isRefreshed||(this.trigger("drawNode",{node:i.item,nodeData:i.curData,text:i.text}),!1===i.curData[this.fields.selectable]&&!this.showCheckBox&&(i.item.classList.add(Tw),i.item.firstElementChild.setAttribute("style","cursor: not-allowed")))},t.prototype.frameMouseHandler=function(i){cb(i,Ge(".e-ripple-container",i.target.parentElement))},t.prototype.addActionClass=function(i,n,s){var a=Xe(n,i.curData);!v(a)&&"false"!==a.toString()&&i.item.classList.add(s)},t.prototype.getDataType=function(i,n){if(this.fields.dataSource instanceof Ri){for(var s=0;s<i.length;s++)if(this.isOffline){if("string"==typeof n.child&&v(Xe(n.child,i[s]))&&!v(Xe(n.parentID,i[s])))return 1}else if("string"==typeof n.child&&v(Xe(n.child,i[s])))return 1;return 2}s=0;for(var o=i.length;s<o;s++){if("string"==typeof n.child&&!v(Xe(n.child,i[s])))return 2;if(!v(Xe(n.parentID,i[s]))||!v(Xe(n.hasChildren,i[s])))return 1}return 1},t.prototype.getGroupedData=function(i,n){for(var s=(new Vn).group(n),o=$n.getDataSource(i,s),a=[],l=0;l<o.length;l++)a.push(o[l].items);return a},t.prototype.getSortedData=function(i){return i&&"None"!==this.sortOrder&&(i=$n.getDataSource(i,$n.addSorting(this.sortOrder,this.fields.text))),i},t.prototype.finalizeNode=function(i){for(var n=this,s=bi("."+iY,i),o=0;o<s.length;o++)s[o].setAttribute("alt",iY);if(this.isLoaded){for(var a=bi("."+Dw,i),l=0;l<a.length;l++){this.selectNode(a[l],null);break}Ae(a,Dw)}for(var h=bi("."+Kn+":not(."+GO+")",i),c=0;c<h.length;c++){var u=Ge("div."+Ca,h[c]);u&&u.classList.contains(Ys)&&this.disableExpandAttr(h[c])}var d=bi("."+GO,i);if(!this.loadOnDemand&&this.fields.dataSource instanceof Ri&&(this.isInitalExpand=this.treeData.filter(function(p){return 1==p[n.fields.expanded]}).length>0||this.isInitalExpand),!this.isInitalExpand)for(l=0;l<d.length;l++)this.renderChildNodes(d[l]);Ae(d,GO),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var i=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:i},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var i=bi("li",this.element),s=0;s<i.length;s++)i[s].classList.contains(Kn)&&(Ge("."+Kr,i[s])?this.ensureParentCheckState(i[s]):this.ensureChildCheckState(i[s]));else{var o=bi("."+Bd,this.element);for(s=0;s<o.length;s++)o[s].classList.remove(Bd)}},t.prototype.ensureParentCheckState=function(i){if(!v(i)){if(i.classList.contains(zd))return;var n=i;i.classList.contains(Kn)&&(n=Ge("."+Kr,i));var s=bi("."+Bh,n),o=bi("."+Bd,n),a=bi("."+Kn,n),l=i.getElementsByClassName(Qu)[0];a.length===s.length?this.changeState(l,"check",null,!0,!0):s.length>0||o.length>0?this.changeState(l,"indeterminate",null,!0,!0):0===s.length&&this.changeState(l,"uncheck",null,!0,!0);var h=Je(i,"."+Kr);if(!v(h)){var c=Je(h,"."+Kn);this.ensureParentCheckState(c)}}},t.prototype.ensureChildCheckState=function(i,n){if(!v(i)){var s=Ge("."+Kr,i),o=void 0;if(!v(s)){o=bi("."+Qu,s);for(var a=i.getElementsByClassName(Mv)[0].classList.contains(Bh),l=i.getElementsByClassName(Mv)[0].classList.contains(Bd),h=s.querySelectorAll("li"),u=void s.parentElement.getAttribute("aria-expanded"),d=0;d<o.length;d++){var p=h[d].getAttribute("data-uid");if(v(this.currentLoadData)||v(Xe(this.fields.isChecked,this.currentLoadData[d]))){var f=o[d].getElementsByClassName(Mv)[0].classList.contains(Bh);a||f&&!this.isLoaded||-1!==this.checkedNodes.indexOf(p)&&this.isLoaded&&(l||a)?u="check":h[d].classList.contains("e-has-child")&&!Cn(this.parentNodeCheck)&&this.autoCheck&&(a||l)&&-1!==this.parentNodeCheck.indexOf(p)||1===this.dataType&&!Cn(this.parentNodeCheck)&&this.autoCheck&&(a||l)&&-1!==this.parentNodeCheck.indexOf(p)?(u="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(p),1)):u="uncheck"}else u=Xe(this.fields.isChecked,this.currentLoadData[d])?"check":"uncheck",-1!==this.ele&&(u=a?"check":"uncheck"),"uncheck"===u&&!Cn(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(p)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(p),1),u="indeterminate");this.changeState(o[d],u,n,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(i,n){if(bi("."+Kn,this.element),v(i)){var f=bi("."+Qu,this.element);if(this.loadOnDemand)for(var m=0;m<f.length;m++)this.updateFieldChecked(f[m],n),this.changeState(f[m],n?"check":"uncheck",null,null,null,n);else for(m=0;m<f.length;m++)this.updateFieldChecked(f[m],n),this.changeState(f[m],n?"check":"uncheck")}else for(var o=i.length;o>=0;o--){var a;if(v(a=this.getElement(1===i.length?i[o-1]:i[o]))){var l=void 0;if(""!==(l=i[o-i.length]?i[o-i.length].toString():i[o]?i[o].toString():null)&&n&&l)this.setValidCheckedNode(l),this.dynamicCheckState(l,n);else if(-1!==this.checkedNodes.indexOf(l)&&""!==l&&!n){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);var h=this.getChildNodes(this.treeData,l);if(h){for(var c=0;c<h.length;c++){var u=h[c][this.fields.id]?h[c][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(u)){this.checkedNodes.splice(this.checkedNodes.indexOf(u),1);var d=this.element.querySelector('[data-uid="'+u+'"]');d&&this.changeState(d,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,n),this.updateField(this.treeData,this.fields,l,"isChecked",null)}}else{var p=Ge("."+Kr+" ."+Qu,a);this.validateCheckNode(p,!n,a,null)}}if(i)for(var M=0;M<i.length;M++)l=i[M]?i[M].toString():"",n||this.updateField(this.treeData,this.fields,l,"isChecked",null);this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(i,n){var s=Je(i,"."+Kn),o=s.getAttribute("data-uid");"true"===this.getNodeData(s).isChecked&&!n&&this.updateField(this.treeData,this.fields,o,"isChecked",null)},t.prototype.dynamicCheckState=function(i,n){if(1===this.dataType){var s=0,o=new Ri(this.treeData).executeLocal((new Vn).where(this.fields.id,"equal",i,!0));if(o[0]){var a=o[0][this.fields.id]?o[0][this.fields.id].toString():null,l=o[0][this.fields.parentID]?o[0][this.fields.parentID].toString():null,u=((h=this.element.querySelector('[data-uid="'+l+'"]'))&&Ge("."+Bd,h),h?Ge("."+Bh,h):null),d=this.element.querySelector('[data-uid="'+a+'"]'),p=this.getChildNodes(this.treeData,l);if(p)for(var f=0;f<p.length;f++){var m=p[f][this.fields.id]?p[f][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(m)&&s++}-1!==this.checkedNodes.indexOf(i)&&h&&a===i&&this.autoCheck?this.changeState(h,"indeterminate",null):-1===this.checkedNodes.indexOf(i)&&d&&a===i&&!n?this.changeState(d,"uncheck",null):-1!==this.checkedNodes.indexOf(i)&&d&&a===i&&n?this.changeState(d,"check",null):-1===this.checkedNodes.indexOf(i)&&!d&&h&&a===i&&this.autoCheck&&0!==s?this.changeState(h,"indeterminate",null):-1===this.checkedNodes.indexOf(i)&&!d&&h&&a===i&&this.autoCheck&&0===s?this.changeState(h,"uncheck",null):!d&&!h&&a===i&&this.autoCheck&&this.updateIndeterminate(i,n)}}else if(2===this.dataType||this.fields.dataSource instanceof Ri&&this.isOffline){a=void 0;var h=void 0;for(u=void 0,f=0;f<this.treeData.length;f++){a=this.treeData[f][this.fields.id]?this.treeData[f][this.fields.id].toString():"",u=(h=this.element.querySelector('[data-uid="'+a+'"]'))?Ge("."+Bh,h):null,-1===this.checkedNodes.indexOf(a)&&h&&u&&!n&&this.changeState(h,"uncheck",null);var M=Xe(this.fields.child.toString(),this.treeData[f]);M&&this.updateChildIndeterminate(M,a,i,n,a)}}},t.prototype.updateIndeterminate=function(i,n){var a,s=this.getTreeData(i),o=0;1===this.dataType&&(a=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var l=this.getChildNodes(this.treeData,a);if(l)for(var h=0;h<l.length;h++){var c=l[h][this.fields.id]?l[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&o++}var u=this.element.querySelector('[data-uid="'+a+'"]');u&&n||!n&&u&&-1===this.parentNodeCheck.indexOf(a)&&0!==o?this.changeState(u,"indeterminate",null):!n&&u&&-1===this.parentNodeCheck.indexOf(a)&&0===o?this.changeState(u,"uncheck",null):u||(n||-1!==this.checkedNodes.indexOf(a)||-1===this.parentNodeCheck.indexOf(a)?(n&&-1===this.checkedNodes.indexOf(a)&&-1===this.parentNodeCheck.indexOf(a)||!n&&-1!==this.checkedNodes.indexOf(a)&&-1===this.parentNodeCheck.indexOf(a)&&0!==o)&&this.parentNodeCheck.push(a):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1),this.updateIndeterminate(a,n),-1!==this.checkedNodes.indexOf(a)&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1))},t.prototype.updateChildIndeterminate=function(i,n,s,o,a){for(var l=0,h=0;h<i.length;h++){var c=i[h][this.fields.id]?i[h][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(c)&&l++;var u=this.element.querySelector('[data-uid="'+n+'"]'),d=u?Ge("."+Bd,u):null,p=u?Ge("."+Bh,u):null,f=this.element.querySelector('[data-uid="'+c+'"]'),m=f?Ge("."+Bh,f):null;if(-1!==this.checkedNodes.indexOf(s)&&u&&c===s&&this.autoCheck)this.changeState(u,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(s)||!u||f||c!==s||o){if(-1===this.checkedNodes.indexOf(s)&&f&&c===s&&!o)this.changeState(f,"uncheck",null);else if(-1===this.checkedNodes.indexOf(s)&&d&&c===s&&this.autoCheck&&0===l&&!o)d.classList.remove(Bd);else if(-1===this.checkedNodes.indexOf(s)&&!f&&p&&c===s&&0===l)this.changeState(u,"uncheck",null);else if(-1===this.checkedNodes.indexOf(c)&&f&&m&&0===l)this.changeState(f,"uncheck",null);else if(!f&&!u&&c===s||-1!==this.parentNodeCheck.indexOf(n)&&this.autoCheck){var M=this.element.querySelector('[data-uid="'+a+'"]');o&&0!==l?this.changeState(M,"indeterminate",null):o&&l===i.length&&-1===this.checkedNodes.indexOf(n)?this.checkedNodes.push(n):!o&&0===l&&-1!==this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n)),-1===this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.push(n)}}else this.changeState(u,this.autoCheck?"uncheck":0!==l?"indeterminate":"uncheck",null);var T=Xe(this.fields.child.toString(),i[h]);T&&this.updateChildIndeterminate(T,c,s,o,a)}},t.prototype.changeState=function(i,n,s,o,a,l){var c,h=this,u=Je(i,"."+Kn);i===u&&(i=Ge("."+Qu,u)),o?this.nodeCheckAction(i,n,u,c,s,o,a,l):(this.checkActionNodes=[],c=this.getCheckEvent(u,n,s),this.trigger("nodeChecking",c,function(d){d.cancel||h.nodeCheckAction(i,n,u,d,s,o,a,l)}))},t.prototype.nodeCheckAction=function(i,n,s,o,a,l,h,c){var u,d=i.getElementsByClassName(Mv)[0];if("check"!==n||d.classList.contains(Bh)?"uncheck"===n&&(d.classList.contains(Bh)||d.classList.contains(Bd))?(Ae([d],[Bh,Bd]),this.removeCheck(s),u="false"):"indeterminate"===n&&this.autoCheck&&(d.classList.remove(Bh),d.classList.add(Bd),this.removeCheck(s),u="mixed"):(d.classList.remove(Bd),d.classList.add(Bh),this.addCheck(s),u="true"),v(u="check"===n?"true":"uncheck"===n?"false":u)||i.setAttribute("aria-checked",u),h){var p=[].concat([],this.checkActionNodes);o=this.getCheckEvent(s,n,a),Cn(l)&&(o.data=p)}void 0!==c&&this.ensureStateChange(s,c),l||v(u)||(i.setAttribute("aria-checked",u),o.data[0].checked=u,this.trigger("nodeChecked",o),this.checkActionNodes=[])},t.prototype.addCheck=function(i){var n=i.getAttribute("data-uid");!v(n)&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n)},t.prototype.removeCheck=function(i){var n=this.checkedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.checkedNodes.splice(n,1)},t.prototype.getCheckEvent=function(i,n,s){this.checkActionNodes.push(this.getNodeData(i));var o=this.checkActionNodes;return{action:n,cancel:!1,isInteracted:!v(s),node:i,data:o}},t.prototype.finalize=function(){var i=Ge("."+Kr,this.element);if(!v(i)){i.setAttribute("role",rY.treeRole),this.setMultiSelect(this.allowMultiSelection);var n=Ge("."+Kn,this.element);n&&(n.setAttribute("tabindex","0"),this.updateIdAttr(null,n)),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.setTextWrap=function(){(this.allowTextWrap?be:Ae)([this.element],"e-text-wrap"),Ue.isIE&&(this.allowTextWrap?be:Ae)([this.element],"e-ie-wrap")},t.prototype.updateWrap=function(i){if(this.fullRowSelect)for(var n=i?bi("."+Kn,i):this.liList,s=n.length,o=0;o<s;o++)this.calculateWrap(n[o])},t.prototype.calculateWrap=function(i){var n=Ge("."+Iv,i);n&&n.nextElementSibling&&(n.style.height=this.allowTextWrap?n.nextElementSibling.offsetHeight+"px":"")},t.prototype.doExpandAction=function(){var i=this,n=this.expandedNodes;if(!this.loadOnDemand&&this.fields.dataSource instanceof Ri&&(this.isInitalExpand=this.treeData.filter(function(l){return 1==l[i.fields.expanded]}).length>0||this.isInitalExpand),this.isInitalExpand&&n.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof Ri)this.expandGivenNodes(n);else{for(var s=0;s<n.length;s++){var o=Ge('[data-uid="'+n[s]+'"]',this.element);if(v(o))n[s]&&-1===this.expandChildren.indexOf(n[s])&&this.expandChildren.push(n[s].toString());else{var a=Ge("."+Ys,Ge("."+Nl,o));v(a)||this.expandAction(o,a,null)}}this.afterFinalized()}else this.afterFinalized()},t.prototype.expandGivenNodes=function(i){var n=this;this.expandCallback(i[this.index],function(){n.index++,n.index<i.length?n.expandGivenNodes(i):n.afterFinalized()})},t.prototype.expandCallback=function(i,n){var s=Ge('[data-uid="'+i+'"]',this.element);if(v(s))n();else{var o=Ge("."+Ys,Ge("."+Nl,s));v(o)?n():this.expandAction(s,o,null,!1,n)}},t.prototype.afterFinalized=function(){this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,this.isLoaded&&!this.isFieldChange||this.isNodeDropped||this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0,this.isNodeDropped=!1},t.prototype.doSelectionAction=function(){var i=bi("."+Dw,this.element),n=this.selectedNodes;if(n.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<n.length;s++){var o=Ge('[data-uid="'+n[s]+'"]',this.element);if(o&&!o.classList.contains("e-active")?this.selectNode(o,null,!0):this.selectedNodes.push(n[s]),!this.allowMultiSelection)break}}else this.selectGivenNodes(i);Ae(i,Dw)},t.prototype.selectGivenNodes=function(i){for(var n=0;n<i.length&&(i[n].classList.contains("e-disable")||this.selectNode(i[n],null,!0),this.allowMultiSelection);n++);},t.prototype.clickHandler=function(i){var n=Ue.isDevice&&!Ue.isIos?document.elementFromPoint(i.originalEvent.changedTouches[0].clientX,i.originalEvent.changedTouches[0].clientY):i.originalEvent.target;if($.remove(this.element,"contextmenu",this.preventContextMenu),n&&!this.dragStartAction){var s=n.classList,o=Je(n,"."+Kn);if(!o||o.classList.contains(Tw)&&!s.contains(Ys)&&!s.contains(kl))return;if(3!==i.originalEvent.which){var a=Ge(".e-ripple-element",o),l=Ge("."+Ca,o);if(this.removeHover(),this.setFocusElement(o),this.showCheckBox&&!o.classList.contains("e-disable")){var h=Je(n,"."+Qu);if(!v(h)){var c=Ge("."+Mv,h);return this.validateCheckNode(h,c.classList.contains(Bh),o,i.originalEvent),void this.triggerClickEvent(i.originalEvent,o)}}s.contains(Ys)?this.expandAction(o,n,i):s.contains(kl)?this.collapseNode(o,n,i):a&&l?l.classList.contains(tY)&&l.classList.contains(Ys)?this.expandAction(o,l,i):l.classList.contains(tY)&&l.classList.contains(kl)?this.collapseNode(o,l,i):!s.contains(Kr)&&!s.contains(Kn)&&this.toggleSelect(o,i.originalEvent,!1):!s.contains(Kr)&&!s.contains(Kn)&&this.toggleSelect(o,i.originalEvent,!1)}3===i.originalEvent.which&&(this.isRightClick=!0),this.triggerClickEvent(i.originalEvent,o)}},t.prototype.nodeCheckedEvent=function(i,n,s){Je(i,"."+Kn);var a=this.getCheckEvent(i,n?"uncheck":"check",s);a.data=a.data.splice(0,a.data.length-1),this.trigger("nodeChecked",a)},t.prototype.triggerClickEvent=function(i,n){this.trigger("nodeClicked",{event:i,node:n})},t.prototype.expandNode=function(i,n,s){var o=this;if(this.renderReactTemplates(),n.classList.contains(Kz)&&this.hideSpinner(n),this.initialRender||n.classList.add("interaction"),!0!==s||!0===s&&i.classList.contains("e-expanded")){if(!0!==this.preventExpand){Ae([n],Ys),be([n],kl);var a=0,l=0,h=this,c=Ge("."+Kr,i),u=i;this.setHeight(u,c);var d=Ge("."+Kn+"."+uu,i);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(c,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(f){u.style.overflow="hidden",!v(d)&&d instanceof HTMLElement&&d.classList.add(XO),a=u.offsetHeight,l=Ge("."+Nl,i).offsetHeight},progress:function(f){f.element.style.display="block",h.animateHeight(f,a,l)},end:function(f){f.element.style.display="block",!v(d)&&d instanceof HTMLElement&&d.classList.remove(XO),o.expandedNode(u,c,n)}}):this.expandedNode(u,c,n)}}else Ge("."+Kr,i).style.display="none",this.fields.dataSource instanceof Ri&&(this.preventExpand=!1);this.initialRender&&n.classList.add("interaction")},t.prototype.expandedNode=function(i,n,s){n.style.display="block",i.style.display="block",i.style.overflow="",i.style.height="",Ae([s],wv),this.addExpand(i),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(i),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(i,null),this.expandArgs.isInteracted=this.isInteracted,this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(i){i.setAttribute("aria-expanded","true"),Ae([i],K8);var n=i.getAttribute("data-uid");!v(n)&&-1===this.expandedNodes.indexOf(n)&&this.expandedNodes.push(n)},t.prototype.collapseNode=function(i,n,s){var a,o=this;n.classList.contains(wv)||(be([n],wv),this.isLoaded?(a=this.getExpandEvent(i,s),this.isInteracted=a.isInteracted,this.trigger("nodeCollapsing",a,function(l){l.cancel?Ae([n],wv):o.nodeCollapseAction(i,n,l)})):this.nodeCollapseAction(i,n,a))},t.prototype.nodeCollapseAction=function(i,n,s){var o=this;Ae([n],kl),be([n],Ys);var a=0,l=0,h=this,c=Ge("."+Kr,i),u=i,d=Ge("."+Kn+"."+uu,i);this.isAnimate?this.aniObj.animate(c,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(p){u.style.overflow="hidden",!v(d)&&d instanceof HTMLElement&&d.classList.add(XO),a=Ge("."+Nl,i).offsetHeight,l=u.offsetHeight},progress:function(p){h.animateHeight(p,a,l)},end:function(p){p.element.style.display="none",!v(d)&&d instanceof HTMLElement&&d.classList.remove(XO),o.collapsedNode(u,c,n,s)}}):this.collapsedNode(u,c,n,s)},t.prototype.collapsedNode=function(i,n,s,o){n.style.display="none",i.style.overflow="",i.style.height="",Ae([s],wv),this.removeExpand(i),this.isLoaded&&((o=this.getExpandEvent(i,null)).isInteracted=this.isInteracted,this.trigger("nodeCollapsed",o))},t.prototype.removeExpand=function(i,n){n?i.removeAttribute("aria-expanded"):this.disableExpandAttr(i);var s=this.expandedNodes.indexOf(i.getAttribute("data-uid"));s>-1&&this.expandedNodes.splice(s,1)},t.prototype.disableExpandAttr=function(i){i.setAttribute("aria-expanded","false"),be([i],K8)},t.prototype.setHeight=function(i,n){n.style.display="block",n.style.visibility="hidden",i.style.height=i.offsetHeight+"px",n.style.display="none",n.style.visibility=""},t.prototype.animateHeight=function(i,n,s){i.element.parentElement.style.height=(i.duration-i.timeStamp)/i.duration*(s-n)+n+"px"},t.prototype.renderChildNodes=function(i,n,s,o){var h,a=this,l=Ge("div."+Ca,i);if(!v(l))if(this.showSpinner(l),this.fields.dataSource instanceof Ri){var c=this.parents(i,"."+Kr).length,u=this.getChildFields(this.fields,c,1);if(v(u)||v(u.dataSource))return Ot(l),void this.removeExpand(i,!0);this.treeList.push("false"),this.fields.dataSource instanceof Ri&&this.isOffline?(this.treeList.pop(),h=this.getChildNodes(this.treeData,i.getAttribute("data-uid")),this.loadChild(h,u,l,i,n,s,o)):u.dataSource.executeQuery(this.getQuery(u,i.getAttribute("data-uid"))).then(function(d){a.treeList.pop(),h=d.result,1===a.dataType&&(a.dataType=2),a.loadChild(h,u,l,i,n,s,o)}).catch(function(d){a.trigger("actionFailure",{error:d})})}else{if(h=this.getChildNodes(this.treeData,i.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(h),v(h)||0===h.length)return Ot(l),void this.removeExpand(i,!0);this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild($n.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(i,l,o),this.setSelectionForChildNodes(h),this.ensureCheckNode(i),this.finalizeNode(i),this.disableTreeNodes(h),this.renderSubChild(i,n,o)}},t.prototype.loadChild=function(i,n,s,o,a,l,h){if(this.currentLoadData=i,v(i)||0===i.length)Ot(s),this.removeExpand(o,!0);else{if(this.updateListProp(n),this.fields.dataSource instanceof Ri&&!this.isOffline){var c=o.getAttribute("data-uid");zn("child",i,this.getNodeObject(c))}this.listBaseOption.ariaAttributes.level=parseFloat(o.getAttribute("aria-level"))+1,o.appendChild($n.createList(this.createElement,i,this.listBaseOption)),this.expandNode(o,s,h),this.setSelectionForChildNodes(i),this.ensureCheckNode(o),this.finalizeNode(o),this.disableTreeNodes(i),this.renderSubChild(o,a,h)}l&&l(),a&&this.expandedNodes.push(o.getAttribute("data-uid")),0===this.treeList.length&&!this.isLoaded&&this.finalize()},t.prototype.disableTreeNodes=function(i){for(var n=0;n<i.length;){var s=i[n][this.fields.id]?i[n][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(s)&&this.doDisableAction([s]),n++}},t.prototype.setSelectionForChildNodes=function(i){var n;for(n=0;n<i.length;n++){var s=i[n][this.fields.id]?i[n][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(s)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(i){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(i.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(i),this.ensureParentCheckState(i))),this.currentLoadData=null},t.prototype.getFields=function(i,n,s){return n===s?i:this.getFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildFields=function(i,n,s){return n===s?this.getChildMapper(i):this.getChildFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildMapper=function(i){return"string"==typeof i.child||v(i.child)?i:i.child},t.prototype.getChildNodes=function(i,n,s){var a,o=this;if(void 0===s&&(s=!1),v(i))return a;if(1===this.dataType)return this.getChildGroup(this.groupedData,n,s);if("string"==typeof this.fields.child){var l=i.findIndex(function(p){return Xe(o.fields.id,p)&&Xe(o.fields.id,p).toString()===n});if(-1!==l)return Xe(this.fields.child,i[l]);if(-1===l)for(var h=0,c=i.length;h<c;h++){var u=Xe(this.fields.child,i[h]),d=v(u)?-1:u.findIndex(function(p){return Xe(o.fields.id,p)&&Xe(o.fields.id,p).toString()===n});if(-1!==d)return Xe(this.fields.child,u[d]);if(!v(u)&&void 0!==(a=this.getChildNodes(u,n)))break}}return a},t.prototype.getChildGroup=function(i,n,s){var o;if(v(i))return o;for(var a=0,l=i.length;a<l;a++){if(v(i[a][0])||v(Xe(this.fields.parentID,i[a][0])))return s?i[a]:[];if(Xe(this.fields.parentID,i[a][0]).toString()===n)return i[a]}return o},t.prototype.renderSubChild=function(i,n,s){if(n)for(var o=bi("."+Ys,i),a=0,l=o.length;a<l;a++){var h=o[a];if(i.querySelector(".e-icons")!==o[a]){var c=Je(h,"."+Kn);this.expandArgs=this.getExpandEvent(c,null),!0!==s&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(c,n,null,s)}}},t.prototype.toggleSelect=function(i,n,s){i.classList.contains("e-disable")||(this.allowMultiSelection&&(n&&n.ctrlKey||s)&&this.isActive(i)?this.unselectNode(i,n):this.selectNode(i,n,s))},t.prototype.isActive=function(i){return!!i.classList.contains(uu)},t.prototype.selectNode=function(i,n,s){var a,o=this;v(i)||!this.allowMultiSelection&&this.isActive(i)&&!v(n)?this.setFocusElement(i):this.isLoaded?(a=this.getSelectEvent(i,"select",n),this.trigger("nodeSelecting",a,function(l){!l.cancel&&!l.node.classList.contains(Tw)&&o.nodeSelectAction(i,n,l,s)})):this.nodeSelectAction(i,n,a,s)},t.prototype.nodeSelectAction=function(i,n,s,o){if((!this.allowMultiSelection||!o&&(!n||n&&!n.ctrlKey))&&this.removeSelectAll(),this.allowMultiSelection&&n&&n.shiftKey){this.startNode||(this.startNode=i);var a=this.liList.indexOf(this.startNode),l=this.liList.indexOf(i);if(a>l){var h=a;a=l,l=h}for(var c=a;c<=l;c++){var u=this.liList[c];ra(u)&&!u.classList.contains("e-disable")&&this.addSelect(u)}}else this.startNode=i,this.addSelect(i);this.isLoaded&&(s.nodeData=this.getNodeData(i),this.trigger("nodeSelected",s),this.isRightClick=!1),this.isRightClick=!1},t.prototype.unselectNode=function(i,n){var o,s=this;this.isLoaded?(o=this.getSelectEvent(i,"un-select",n),this.trigger("nodeSelecting",o,function(a){a.cancel||s.nodeUnselectAction(i,a)})):this.nodeUnselectAction(i,o)},t.prototype.nodeUnselectAction=function(i,n){this.removeSelect(i),this.setFocusElement(i),this.isLoaded&&(n.nodeData=this.getNodeData(i),this.trigger("nodeSelected",n))},t.prototype.setFocusElement=function(i){if(!v(i)){var n=this.getFocusedNode();n&&(Ae([n],Mb),n.setAttribute("tabindex","-1")),be([i],Mb),i.setAttribute("tabindex","0"),$.add(i,"blur",this.focusOut,this),this.updateIdAttr(n,i)}},t.prototype.addSelect=function(i){i.setAttribute("aria-selected","true"),be([i],uu);var n=i.getAttribute("data-uid");!v(n)&&-1===this.selectedNodes.indexOf(n)&&this.selectedNodes.push(n)},t.prototype.removeSelect=function(i){this.allowMultiSelection?i.setAttribute("aria-selected","false"):i.removeAttribute("aria-selected"),Ae([i],uu);var n=this.selectedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.selectedNodes.splice(n,1)},t.prototype.removeSelectAll=function(){for(var i=this.element.querySelectorAll("."+uu),n=0,s=i;n<s.length;n++){var o=s[n];this.allowMultiSelection?o.setAttribute("aria-selected","false"):o.removeAttribute("aria-selected")}Ae(i,uu),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(i,n,s){var o=this.getNodeData(i);return{action:n,cancel:!1,isInteracted:!v(s),node:i,nodeData:o}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?Ue.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(i){var n=i.originalEvent.target;!n||n.classList.contains(VO)||n.classList.contains(zd)||n.classList.contains(Kr)||n.classList.contains(Kn)||n.classList.contains(Ca)||this.showCheckBox&&Je(n,"."+Qu)||this.expandCollapseAction(Je(n,"."+Kn),i)},t.prototype.expandCollapseAction=function(i,n){var s=Ge("div."+Ca,i);if(s&&!s.classList.contains(wv)){var o=s.classList;o.contains(Ys)?this.expandAction(i,s,n):o.contains(kl)&&this.collapseNode(i,s,n)}},t.prototype.expandAction=function(i,n,s,o,a){var l=this;n.classList.contains(wv)||(be([n],wv),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(i,s),this.isInteracted=this.expandArgs.isInteracted,this.trigger("nodeExpanding",this.expandArgs,function(h){h.cancel?Ae([n],wv):l.nodeExpandAction(i,n,o,a)})):this.nodeExpandAction(i,n,o,a))},t.prototype.nodeExpandAction=function(i,n,s,o){var a=Ge("."+Kr,i);if(a&&"UL"===a.nodeName)this.expandNode(i,n);else{this.isFirstRender=!0,this.renderChildNodes(i,s,o);for(var l=bi("."+Kn,i),h=0;h<l.length;h++){var c=this.getId(l[h]);if(-1!==this.expandChildren.indexOf(c)&&void 0!==this.expandChildren){var u=Ge("."+Ys,Ge("."+Nl,l[h]));v(u)||this.expandAction(l[h],u,null),this.expandChildren.splice(this.expandChildren.indexOf(c),1)}}}},t.prototype.keyActionHandler=function(i){var n=this,s=i.target,o=this.getFocusedNode();if(s&&s.classList.contains(VO)){var a=s;"enter"===i.action?a.blur():"escape"===i.action&&(a.value=this.oldText,a.blur())}else i.preventDefault(),this.trigger("keyPress",{cancel:!1,event:i,node:o},function(h){if(!h.cancel)switch(i.action){case"space":n.showCheckBox?n.checkNode(i):n.toggleSelect(o,i);break;case"moveRight":n.openNode(!n.enableRtl,i);break;case"moveLeft":n.openNode(!!n.enableRtl,i);break;case"shiftDown":n.shiftKeySelect(!0,i);break;case"moveDown":case"ctrlDown":case"csDown":n.navigateNode(!0);break;case"shiftUp":n.shiftKeySelect(!1,i);break;case"moveUp":case"ctrlUp":case"csUp":n.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":n.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":n.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":case"shiftSpace":case"ctrlSpace":n.toggleSelect(o,i);break;case"f2":n.allowEditing&&!o.classList.contains("e-disable")&&n.createTextbox(o,i);break;case"ctrlA":if(n.allowMultiSelection){var c=bi("."+Kn+":not(."+uu+")",n.element);n.selectGivenNodes(c)}}})},t.prototype.navigateToFocus=function(i){var n=this.getFocusedNode().querySelector("."+Nl),s=n.getBoundingClientRect(),o=this.getScrollParent(this.element);if(!v(o)){var a=o.getBoundingClientRect();s.bottom>a.bottom?o.scrollTop+=s.bottom-a.bottom:s.top<a.top&&(o.scrollTop-=a.top-s.top)}this.isVisibleInViewport(n)||n.scrollIntoView(i)},t.prototype.isVisibleInViewport=function(i){var n=i.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(i){return v(i)?null:i.scrollHeight>i.clientHeight?i:this.getScrollParent(i.parentElement)},t.prototype.shiftKeySelect=function(i,n){if(this.allowMultiSelection){var s=this.getFocusedNode(),o=i?this.getNextNode(s):this.getPrevNode(s);this.removeHover(),this.setFocusElement(o),this.toggleSelect(o,n,!1),this.navigateToFocus(!i)}else this.navigateNode(i)},t.prototype.checkNode=function(i){var n=this.getFocusedNode(),s=Ge("."+Qu,n),o=Ge(" ."+Mv,s).classList.contains(Bh);n.classList.contains("e-disable")||0==n.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(s,o,n,i)},t.prototype.validateCheckNode=function(i,n,s,o){var a=this,l=Je(i,"."+Kn);this.checkActionNodes=[];var h=n?"false":"true";v(h)||i.setAttribute("aria-checked",h);var c=this.getCheckEvent(l,n?"uncheck":"check",o);this.trigger("nodeChecking",c,function(u){u.cancel||a.nodeCheckingAction(i,n,s,u,o)})},t.prototype.nodeCheckingAction=function(i,n,s,o,a){if(-1===this.checkedElement.indexOf(s.getAttribute("data-uid"))&&(this.checkedElement.push(s.getAttribute("data-uid")),this.autoCheck)){var l=this.getChildNodes(this.treeData,s.getAttribute("data-uid"));null!==l?this.allCheckNode(l,this.checkedElement,null,null,!1):l=null}if(this.changeState(i,n?"uncheck":"check",a,!0),this.autoCheck){this.ensureChildCheckState(s),this.ensureParentCheckState(Je(Je(s,"."+Kr),"."+Kn));var h=void 0;"check"===o.action?h=!0:"uncheck"===o.action&&(h=!1),this.ensureStateChange(s,h)}this.nodeCheckedEvent(i,n,a)},t.prototype.ensureStateChange=function(i,n){var s=Ge("."+Kr,i),o=i.getAttribute("data-uid"),a=this.fields;if(1===this.dataType&&this.autoCheck)for(var l=new Ri(this.treeData).executeLocal((new Vn).where(a.parentID,"equal",o,!0)),h=0;h<l.length;h++){var c=l[h][this.fields.id]?l[h][this.fields.id].toString():null,u=l[h][this.fields.isChecked]?l[h][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(o)&&-1===this.checkedNodes.indexOf(c)){this.checkedNodes.push(c);var d=this.getChildNodes(this.treeData,c);this.getChildItems(d,n),-1!==this.parentNodeCheck.indexOf(c)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)}else if(-1===this.checkedNodes.indexOf(o)&&null===s&&-1!==this.checkedNodes.indexOf(c)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(c),1),"true"===u&&this.updateField(this.treeData,this.fields,c,"isChecked",null),-1===this.checkedNodes.indexOf(o)&&null===s||-1!==this.parentNodeCheck.indexOf(c)){var p=this.getChildNodes(this.treeData,c);this.getChildItems(p,n),-1!==this.parentNodeCheck.indexOf(c)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)}}else d=this.getChildNodes(this.treeData,c),this.getChildItems(d,n)}else if(1!==this.dataType||this.autoCheck)(d=this.getChildNodes(this.treeData,o))&&this.childStateChange(d,o,s,n);else if(n)for(h=0;h<this.treeData.length;h++){var M=this.treeData[h][this.fields.id]?this.treeData[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(M)&&this.checkedNodes.push(M)}else{var f=new Ri(this.treeData).executeLocal((new Vn).where(a.isChecked,"equal",!0,!1));for(h=0;h<f.length;h++){var m=f[h][this.fields.id]?f[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(m)&&this.checkedNodes.splice(this.checkedNodes.indexOf(m),1),this.updateField(this.treeData,this.fields,m,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(i,n){for(var s=0;s<i.length;s++){var o=i[s][this.fields.id]?i[s][this.fields.id].toString():null,a=i[s][this.fields.isChecked]?i[s][this.fields.isChecked].toString():null;-1!==this.checkedNodes.indexOf(o)&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(o),1),-1===this.checkedNodes.indexOf(o)&&n&&this.checkedNodes.push(o),"true"===a&&!n&&this.updateField(this.treeData,this.fields,o,"isChecked",null);var l=this.getChildNodes(this.treeData,o);l.length>0&&this.getChildItems(l,n)}},t.prototype.childStateChange=function(i,n,s,o){for(var a=0;a<i.length;a++){var l=i[a][this.fields.id]?i[a][this.fields.id].toString():"",h=i[a][this.fields.isChecked]?i[a][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(l)?(this.checkedNodes.push(l),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)):-1===this.checkedNodes.indexOf(n)&&-1!==this.checkedNodes.indexOf(l)&&!o&&(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===h&&this.updateField(this.treeData,this.fields,l,"isChecked",null)):this.autoCheck||(o?-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l):(-1!==this.checkedNodes.indexOf(l)&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),this.updateField(this.treeData,this.fields,l,"isChecked",null),this.checkedNodes=[]));var c=this.getChildNodes([i[a]],l);c&&this.childStateChange(c,n,s,o)}},t.prototype.allCheckNode=function(i,n,s,o,a){if(i)for(var l=0;l<i.length;l++){var h=Xe(this.fields.id,i[l]),c=this.element.querySelector('[data-uid="'+h+'"]');!1!==a&&-1===this.checkedElement.indexOf(h.toString())&&(null===c&&!v(i[l][this.fields.isChecked])&&-1===n.indexOf(h.toString())||0===o||2===s)&&(!1!==i[l][this.fields.isChecked]||2===s?n.push(h.toString()):o=null,o=!1!==i[l][this.fields.isChecked]||2===s?0:null),-1===n.indexOf(h.toString())&&v(s)&&n.push(h.toString());var u=Xe(this.fields.child.toString(),i[l]);if(!0===Xe(this.fields.hasChildren,i[l])||u){var p,d=Xe(this.fields.id,i[l]);(p=1===this.dataType?this.getChildNodes(this.treeData,d.toString()):u)&&(v(a)?this.allCheckNode(p,n,s,o):this.allCheckNode(p,n,s,o,a),o=null)}o=null}},t.prototype.openNode=function(i,n){var s=this.getFocusedNode(),o=Ge("div."+Ca,s);if(i){if(!o)return;o.classList.contains(Ys)?this.expandAction(s,o,n):this.focusNextNode(s,!0)}else if(o&&o.classList.contains(kl))this.collapseNode(s,o,n);else{var a=Je(Je(s,"."+Kr),"."+Kn);if(!a)return;a.classList.contains("e-disable")||(this.setFocus(s,a),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(i){var n=this.getFocusedNode();this.focusNextNode(n,i)},t.prototype.navigateRootNode=function(i){var n=this.getFocusedNode(),s=i?this.getRootNode():this.getEndNode();s.classList.contains("e-disable")||(this.setFocus(n,s),this.navigateToFocus(i))},t.prototype.getFocusedNode=function(){var i,n=Ge("."+Kn+'[tabindex="0"]',this.element);return v(n)&&(i=Ge("."+Kn,this.element)),v(n)?v(i)?this.element.firstElementChild:i:n},t.prototype.focusNextNode=function(i,n){var s=n?this.getNextNode(i):this.getPrevNode(i);if(this.setFocus(i,s),this.navigateToFocus(!n),s.classList.contains("e-disable")){var o=s.lastChild;null==s.previousSibling&&s.classList.contains("e-level-1")?this.focusNextNode(s,!0):null==s.nextSibling&&s.classList.contains("e-node-collapsed")||null==s.nextSibling&&o.classList.contains(Nl)?this.focusNextNode(s,!1):this.focusNextNode(s,n)}},t.prototype.getNextNode=function(i){var s,n=this.liList.indexOf(i);do{if(n++,v(s=this.liList[n]))return i}while(!ra(s));return s},t.prototype.getPrevNode=function(i){var s,n=this.liList.indexOf(i);do{if(n--,v(s=this.liList[n]))return i}while(!ra(s));return s},t.prototype.getRootNode=function(){var n,i=0;do{n=this.liList[i],i++}while(!ra(n));return n},t.prototype.getEndNode=function(){var n,i=this.liList.length-1;do{n=this.liList[i],i--}while(!ra(n));return n},t.prototype.setFocus=function(i,n){Ae([i],Mb),i.setAttribute("tabindex","-1"),!n.classList.contains("e-disable")&&!n.classList.contains(Tw)&&(be([n],Mb),n.setAttribute("tabindex","0"),n.focus(),$.add(n,"blur",this.focusOut,this),this.updateIdAttr(i,n))},t.prototype.updateIdAttr=function(i,n){this.element.removeAttribute("aria-activedescendant"),i&&i.removeAttribute("id"),n.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){if(!this.mouseDownStatus){var i=this.getFocusedNode();i.setAttribute("tabindex","0"),be([i],Mb),$.add(i,"blur",this.focusOut,this)}this.mouseDownStatus=!1},t.prototype.focusOut=function(i){var n=this.getFocusedNode();i.target==n&&(Ae([n],Mb),$.remove(n,"blur",this.focusOut))},t.prototype.onMouseOver=function(i){var n=i.target,s=n.classList,o=Je(n,"."+Kn);!o||s.contains(Kr)||s.contains(Kn)?this.removeHover():o&&!o.classList.contains("e-disable")&&this.setHover(o)},t.prototype.setHover=function(i){!i.classList.contains(UO)&&!i.classList.contains(Tw)&&(this.removeHover(),be([i],UO))},t.prototype.onMouseLeave=function(i){this.removeHover()},t.prototype.removeHover=function(){var i=bi("."+UO,this.element);i&&i.length&&Ae(i,UO)},t.prototype.getNodeData=function(i,n){if(!v(i)&&i.classList.contains(Kn)&&!v(Je(i,"."+Q8))&&Je(i,"."+Q8).classList.contains(zd)){var s=i.getAttribute("data-uid"),o=this.getText(i,n),a=Je(i.parentNode,"."+Kn),l=a?a.getAttribute("data-uid"):null,h=i.classList.contains(uu),c=!i.classList.contains(Tw),u="true"===i.getAttribute("aria-expanded"),d=null!==i.getAttribute("aria-expanded")||null!=(Ge("."+Ys,i)||Ge("."+kl,i)),p=null,f=Ge("."+Qu,i);return this.showCheckBox&&f&&(p=f.getAttribute("aria-checked")),{id:s,text:o,parentID:l,selected:h,selectable:c,expanded:u,isChecked:p,hasChildren:d}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(i,n){if(n){var s=this.getNodeObject(i.getAttribute("data-uid")),o=parseFloat(i.getAttribute("aria-level"));return Xe(this.getFields(this.fields,o,1).text,s)}return Ge("."+Ib,i).textContent},t.prototype.getExpandEvent=function(i,n){var s=this.getNodeData(i);return{cancel:!1,isInteracted:!v(n),node:i,nodeData:s,event:n}},t.prototype.renderNodeTemplate=function(i,n,s){var o=this.nodeTemplateFn(i,this,"nodeTemplate"+s,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,n,this.root);o&&Yi(o=Array.prototype.slice.call(o),n)},t.prototype.destroyTemplate=function(i){this.clearTemplate(["nodeTemplate"+i.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),Ue.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",v(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(i,n){!v(i)&&""!==i&&Ae([this.element],i.split(" ")),!v(n)&&""!==n&&be([this.element],n.split(" "))},t.prototype.editingHandler=function(i){var n=i.target;if(!(!n||n.classList.contains(zd)||n.classList.contains(Kr)||n.classList.contains(Kn)||n.classList.contains(Ca)||n.classList.contains(VO)||n.classList.contains($8))){var s=Je(n,"."+Kn);this.createTextbox(s,i)}},t.prototype.createTextbox=function(i,n){var s=this,o=Ge("."+WO,this.element);o&&o.blur();var a=Ge("."+Ib,i);this.updateOldText(i);var l=this.createElement("input",{className:WO,attrs:{value:this.oldText}}),h=this.getEditEvent(i,null,l.outerHTML);this.trigger("nodeEditing",h,function(c){if(!c.cancel){var d="width:"+(a.offsetWidth+5)+"px";be([i],eB),v(s.nodeTemplateFn)||s.destroyTemplate(i),s.isReact?setTimeout(function(){s.renderTextBox(h,a,d)},5):s.renderTextBox(h,a,d)}})},t.prototype.renderTextBox=function(i,n,s){n.innerHTML=i.innerHtml;var o=Ge("."+WO,n);this.inputObj=vi.createInput({element:o,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",s),o.focus(),o.setSelectionRange(0,o.value.length),this.wireInputEvents(o)},t.prototype.updateOldText=function(i){var n=i.getAttribute("data-uid");this.editData=this.getNodeObject(n);var s=parseFloat(i.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,s,1),this.oldText=Xe(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(i){if(Ge("."+WO,this.element)){var n=i.target,s=n.value,o=Je(n,"."+Ib),a=Je(n,"."+Kn);Ot(this.inputObj.container),this.fields.dataSource instanceof Ri&&!this.isOffline?this.crudOperation("update",null,a,s,null,null,!0):this.appendNewText(a,o,s,!0)}},t.prototype.appendNewText=function(i,n,s,o){var a=this,l=this.getEditEvent(i,s,null);this.trigger("nodeEdited",l,function(h){a.updateText(i,n,s=h.cancel?h.oldText:h.newText,o),h.oldText!==s&&a.triggerEvent("nodeEdited",[a.getNode(i)])})},t.prototype.updateText=function(i,n,s,o){var a=zn(this.editFields.text,s,this.editData);if(v(this.nodeTemplateFn))this.enableHtmlSanitizer?n.innerText=Ms.sanitize(s):n.innerHTML=s;else{n.innerText="";var l=i.getAttribute("data-uid");this.renderNodeTemplate(a,n,l),this.renderReactTemplates()}o&&(Ae([i],eB),i.focus(),$.add(i,"blur",this.focusOut,this),be([i],Mb)),this.allowTextWrap&&this.calculateWrap(i)},t.prototype.getElement=function(i){return v(i)?null:"string"==typeof i?this.element.querySelector('[data-uid="'+i+'"]'):"object"==typeof i?IW(i):null},t.prototype.getId=function(i){return v(i)?null:"string"==typeof i?i:"object"==typeof i?IW(i).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(i,n,s){return{cancel:!1,newText:n,node:i,nodeData:this.getNodeData(i),oldText:this.oldText,innerHtml:s}},t.prototype.getNodeObject=function(i){var n;if(v(i))return n;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,i);for(var s=0,o=this.treeData.length;s<o;s++){var a=Xe(this.fields.id,this.treeData[s]);if(!v(this.treeData[s])&&!v(a)&&a.toString()===i)return this.treeData[s]}return n},t.prototype.getChildNodeObject=function(i,n,s){var o;if(v(i))return o;for(var a=0,l=i.length;a<l;a++){var h=Xe(n.id,i[a]);if(i[a]&&h&&h.toString()===s)return i[a];if("string"!=typeof n.child||v(Xe(n.child,i[a]))){if(this.fields.dataSource instanceof Ri&&!v(Xe("child",i[a]))&&void 0!==(o=this.getChildNodeObject(Xe("child",i[a]),this.getChildMapper(n),s)))break}else{var c=Xe(n.child,i[a]);if(void 0!==(o=this.getChildNodeObject(c,this.getChildMapper(n),s)))break}}return o},t.prototype.setDragAndDrop=function(i){i&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var n,i=this,s=this;this.dragObj=new tw(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+Nl,enableTapHold:!0,tapHoldThreshold:100,helper:function(o){i.dragTarget=o.sender.target;var a=Je(i.dragTarget,"."+zd),l=Je(i.dragTarget,"."+Nl);if(i.dragLi=Je(i.dragTarget,"."+Kn),i.fullRowSelect&&!l&&i.dragTarget.classList.contains(Iv)&&(l=i.dragTarget.nextElementSibling),!i.dragTarget||!o.element.isSameNode(a)||!l||i.dragTarget.classList.contains(zd)||i.dragTarget.classList.contains(Kr)||i.dragTarget.classList.contains(Kn)||i.dragLi.classList.contains("e-disable"))return!1;var h=l.cloneNode(!0);if(v(Ge("div."+Ca,h))){var c=s.createElement("div",{className:Ca+" "+Ys});h.insertBefore(c,h.children[0])}(n=s.createElement("div",{className:"e-drag-item "+zd+" "+i.cssClass+" "+(i.enableRtl?"e-rtl":"")})).appendChild(h);var d=i.selectedNodes.length;if(d>1&&i.allowMultiSelection&&i.dragLi.classList.contains(uu)){var p=s.createElement("span",{className:"e-drop-count",innerHTML:""+d});n.appendChild(p)}return document.body.appendChild(n),document.body.style.cursor="",i.dragData=i.getNodeData(i.dragLi),n},dragStart:function(o){be([i.element],tB);var l,a=Je(o.target,".e-list-item");a&&(l=parseInt(a.getAttribute("aria-level"),10));var h=i.getDragEvent(o.event,i,null,o.target,null,n,l);h.draggedNode.classList.contains(eB)?(i.dragObj.intDestroy(o.event),i.dragCancelAction(n)):i.trigger("nodeDragStart",h,function(c){c.cancel?(i.dragObj.intDestroy(o.event),i.dragCancelAction(n)):i.dragStartAction=!0})},drag:function(o){i.dragObj.setProperties({cursorAt:{top:!v(o.event.targetTouches)||Ue.isDevice?60:-20}}),i.dragAction(o,n)},dragStop:function(o){Ae([i.element],tB),i.removeVirtualEle();var a=o.target,h=Je(a,"."+J8);(!a||!h)&&(Ot(o.helper),document.body.style.cursor="");var u,c=Je(a,".e-list-item");c&&(u=parseInt(c.getAttribute("aria-level"),10));var d=i.getDragEvent(o.event,i,a,a,null,o.helper,u);d.preventTargetExpand=!1,i.trigger("nodeDragStop",d,function(p){i.dragParent=p.draggedParentNode,i.preventExpand=p.preventTargetExpand,p.cancel&&(o.helper.parentNode&&Ot(o.helper),document.body.style.cursor=""),i.dragStartAction=!1})}}),this.dropObj=new i6(this.element,{out:function(o){!v(o)&&!o.target.classList.contains(_x)&&i.dropObj.dragData.default&&i.dropObj.dragData.default.helper.classList.contains(zd)&&(document.body.style.cursor="not-allowed")},over:function(o){document.body.style.cursor=""},drop:function(o){i.dropAction(o)}})},t.prototype.dragCancelAction=function(i){Ot(i),Ae([this.element],tB),this.dragStartAction=!1},t.prototype.dragAction=function(i,n){var s=Je(i.target,"."+J8),o=Je(i.target,"."+Nl),a=Ge("div."+Ca,n);Ae([a],[YO,Rx,iB,nB]),this.removeVirtualEle(),document.body.style.cursor="";var l=i.target.classList;if(this.fullRowSelect&&!o&&!v(l)&&l.contains(Iv)&&(o=i.target.nextElementSibling),s){var h=Je(i.target,"."+Kn),c=Je(i.target,"."+Qu),u=Je(i.target,"."+kl),d=Je(i.target,"."+Ys);if(!s.classList.contains(zd)||o&&!h.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,h))if(this.hasTemplate&&h){var p=Ge(this.fullRowSelect?"."+Iv:"."+Nl,h);i&&!d&&!u&&i.event.offsetY<7&&!c||d&&i.event.offsetY<5||u&&i.event.offsetX<3?this.appendIndicator(h,a,this.fullRowSelect?1:0):i&&!d&&!u&&!c&&p&&i.event.offsetY>p.offsetHeight-10||d&&i.event.offsetY>19||u&&i.event.offsetX>19?this.appendIndicator(h,a,this.fullRowSelect?2:1):be([a],YO)}else h&&i&&!d&&!u&&i.event.offsetY<7&&!c||d&&i.event.offsetY<5||u&&i.event.offsetX<3?this.appendIndicator(h,a,this.fullRowSelect?1:0):h&&i&&!d&&!u&&i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-10&&!c||d&&i.event.offsetY>19||u&&i.event.offsetX>19?this.appendIndicator(h,a,this.fullRowSelect?2:1):be([a],YO);else"LI"!==i.target.nodeName||h.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,h)?i.target.classList.contains(_x)?be([a],Rx):be([a],iB):(be([a],Rx),this.renderVirtualEle(i))}else be([a],nB),document.body.style.cursor="not-allowed";var M,m=Je(i.target,".e-list-item");m&&(M=parseInt(m.getAttribute("aria-level"),10));var T=this.getDragEvent(i.event,this,i.target,i.target,null,n,M);T.dropIndicator&&Ae([a],T.dropIndicator),this.trigger("nodeDragging",T),T.dropIndicator&&be([a],T.dropIndicator)},t.prototype.appendIndicator=function(i,n,s){be([n],Rx);var o=this.createElement("div",{className:_x});i.insertBefore(o,i.children[s])},t.prototype.dropAction=function(i){var o,a,h,n=i.event.offsetY,s=i.target,l=!1,c=[],u=[];h=i.dragData.draggable;for(var d=0;d<h.ej2_instances.length;d++)if(h.ej2_instances[d]instanceof e){o=h.ej2_instances[d];break}if(o&&o.dragTarget){var f=Je(o.dragTarget,"."+Kn),m=Je(s,"."+Kn);if(u.push(f),null==m&&s.classList.contains(zd)&&(m=s.firstElementChild),Ot(i.droppedElement),document.body.style.cursor="",!m||m.isSameNode(f)||this.isDescendant(f,m))return void(this.fields.dataSource instanceof Ri||(this.preventExpand=!1));if(o.allowMultiSelection&&f.classList.contains(uu)){var M=bi("."+uu,o.element);if(u=M,i.target.offsetHeight<=33&&n>i.target.offsetHeight-10&&n>6)for(var T=M.length-1;T>=0;T--)m.isSameNode(M[T])||this.isDescendant(M[T],m)||this.appendNode(s,M[T],m,i,o,n);else for(var P=0;P<M.length;P++)m.isSameNode(M[P])||this.isDescendant(M[P],m)||this.appendNode(s,M[P],m,i,o,n)}else this.appendNode(s,f,m,i,o,n);a=parseInt(f.getAttribute("aria-level"),10),l=!0}this.fields.dataSource instanceof Ri||(this.preventExpand=!1);for(var U=0;U<u.length;U++)c.push(this.getNode(u[U]));this.trigger("nodeDropped",this.getDragEvent(i.event,o,s,i.target,i.dragData.draggedElement,null,a,l)),o.element.id!==this.element.id&&(o.triggerEvent("nodeDropped",c),this.isNodeDropped=!0,this.fields.dataSource=this.treeData),this.triggerEvent("nodeDropped",c)},t.prototype.appendNode=function(i,n,s,o,a,l){var h=Je(i,"."+Qu),c=Je(o.target,"."+kl),u=Je(o.target,"."+Ys);n.classList.contains("e-disable")||h||!(u&&o.event.offsetY<5||c&&o.event.offsetX<3||u&&o.event.offsetY>19||c&&o.event.offsetX>19||!u&&!c)?this.dropAsChildNode(n,s,a,null,o,l,!0):"LI"===i.nodeName?this.dropAsSiblingNode(n,s,o,a):i.firstElementChild&&i.classList.contains(zd)?"UL"===i.firstElementChild.nodeName&&this.dropAsSiblingNode(n,s,o,a):i.classList.contains("e-icon-collapsible")||i.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(n,s,o,a):this.dropAsChildNode(n,s,a,null,o,l)},t.prototype.dropAsSiblingNode=function(i,n,s,o){var c,a=Je(n,"."+Kr),l=Je(i,"."+Kr),h=Je(l,"."+Kn);if(s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?c=!1:s.event.offsetY<2?c=!0:(s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible"))&&(s.event.offsetY<5||s.event.offsetX<3?c=!0:(s.event.offsetY>15||s.event.offsetX>17)&&(c=!1)),s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible")){var u=s.target.closest("li");a.insertBefore(i,c?u:u.nextElementSibling)}else a.insertBefore(i,c?s.target:s.target.nextElementSibling);this.moveData(i,n,a,c,o),this.updateElement(l,h),this.updateAriaLevel(i),o.element.id===this.element.id?this.updateList():(o.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(i,n,s,o,a,l,h){var p,c=Je(i,"."+Kr),u=Je(c,"."+Kn),d=Je(n,"."+Kr);if(a&&a.target&&(p=Ge(this.fullRowSelect?"."+Iv:"."+Nl,n)),a&&l<7&&!h)d.insertBefore(i,n),this.moveData(i,n,d,!0,s);else if(a&&a.target.offsetHeight>0&&l>a.target.offsetHeight-10&&!h&&!this.hasTemplate)d.insertBefore(i,n.nextElementSibling),this.moveData(i,n,d,!1,s);else if(this.hasTemplate&&p&&l>p.offsetHeight-10&&!h)d.insertBefore(i,n.nextElementSibling),this.moveData(i,n,d,!1,s);else{var f=this.expandParent(n),m=f.childNodes[o];f.insertBefore(i,m),this.moveData(i,m,f,!0,s)}this.updateElement(c,u),this.updateAriaLevel(i),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.moveData=function(i,n,s,o,a){var l=Je(s,"."+Kn),h=this.getId(i),c=a.updateChildField(a.treeData,a.fields,h,null,null,!0),u=this.getId(n),d=this.getDataPos(this.treeData,this.fields,u),p=this.getId(l);if(1===this.dataType){this.updateField(this.treeData,this.fields,p,"hasChildren",!0);var f=v(d)?this.treeData.length:o?d:d+1;if(v(p)&&!this.hasPid)delete c[0][this.fields.parentID];else{var m=this.isNumberTypeId?parseFloat(p):p;zn(this.fields.parentID,m,c[0])}if(this.treeData.splice(f,0,c[0]),a.element.id!==this.element.id){var M=a.removeChildNodes(h);f++;for(var T=0,P=M.length;T<P;T++)this.treeData.splice(f,0,M[T]),f++;a.groupedData=a.getGroupedData(a.treeData,a.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,p,c,o?d:d+1)},t.prototype.expandParent=function(i){var n=Ge("div."+Ca,i);n&&n.classList.contains(Ys)&&!0!==this.preventExpand&&this.expandAction(i,n,null);var s=Ge("."+Kr,i);if(!0===this.preventExpand&&!s&&n&&this.renderChildNodes(i),!v(s=Ge("."+Kr,i))&&!0===this.preventExpand&&(s.style.display="none"),!v(s)&&!1===this.preventExpand&&(s.style.display="block"),v(s)&&!0===this.preventExpand&&(v(n)&&$n.generateIcon(this.createElement,i,Ys,this.listBaseOption),(o=Ge("div."+Ca,i))&&o.classList.add("e-icon-expandable"),s=$n.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),o?Ae([o],kl):$n.generateIcon(this.createElement,i,Ys,this.listBaseOption),i.setAttribute("aria-expanded","false"),s.style.display="none"),v(s)){var o,a=this.expandArgs;(v(a)||"nodeExpanding"!=a.name)&&this.trigger("nodeExpanding",this.getExpandEvent(i,null)),v(n)&&$n.generateIcon(this.createElement,i,kl,this.listBaseOption),(o=Ge("div."+Ca,i))||($n.generateIcon(this.createElement,i,kl,this.listBaseOption),o=Ge("div."+Ca,i)),Ae([o],Ys),s=$n.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),this.addExpand(i),this.trigger("nodeExpanded",this.getExpandEvent(i,null))}return s},t.prototype.updateElement=function(i,n){if(n&&0===i.childElementCount){var s=Ge("div."+Ca,n);Ot(i),Ot(s);var o=this.getId(n);this.updateField(this.treeData,this.fields,o,"hasChildren",!1),this.removeExpand(n,!0)}},t.prototype.updateAriaLevel=function(i){var n=this.parents(i,"."+Kr).length;i.setAttribute("aria-level",""+n),this.updateChildAriaLevel(Ge("."+Kr,i),n+1)},t.prototype.updateChildAriaLevel=function(i,n){if(!v(i))for(var s=i.childNodes,o=0,a=s.length;o<a;o++){var l=s[o];l.setAttribute("aria-level",""+n),this.updateChildAriaLevel(Ge("."+Kr,l),n+1)}},t.prototype.renderVirtualEle=function(i){var n;i.event.offsetY>i.target.offsetHeight-2?n=!1:i.event.offsetY<2&&(n=!0);var s=this.createElement("div",{className:_x});i.target.insertBefore(s,i.target.children[this.fullRowSelect?n?1:2:n?0:1])},t.prototype.removeVirtualEle=function(){var i=Ge("."+_x);i&&Ot(i)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(i,n,s,o,a,l,h,c){var u=s?Je(s,"."+Kn):null,d=u?this.getNodeData(u):null,p=n?n.dragLi:a,f=n?n.dragData:null,m=s?this.parents(s,"."+Kn):null,M=n.dragLi.parentElement,T=n.dragLi?Je(M,"."+Kn):null,P=null,U=null,Y=[Rx,YO,iB,nB],X=null,Q=!0===c?p:u,oe=Q?Je(Q,".e-list-parent"):null,de=0,Me=null;if(T=n.dragLi&&null===T?Je(M,"."+zd):T,T=!0===c?this.dragParent:T,l)for(;de<4;){if(Ge("."+Ca,l).classList.contains(Y[de])){X=Y[de];break}de++}if(oe){var Ve=0;for(de=0;de<oe.childElementCount;de++){if(Ve=!0!==c&&oe.children[de]===p&&u!==p?++Ve:Ve,!0!==c&&oe.children[de].classList.contains("e-hover")){U=i.offsetY>=23?de+1:de;break}if(oe.children[de]===Q){U=de;break}}U=0!==Ve?--U:U,Me="e-drop-in"==X?"Inside":i.offsetY<7?"Before":"After"}if(s&&(P=0===m.length?null:s.classList.contains(Kn)?m[0]:m[1]),u===p&&(P=u),s&&o.offsetHeight<=33&&i.offsetY<o.offsetHeight-10&&i.offsetY>6&&(P=u,!0!==c)){h=++h;var Ce=P?Ge(".e-list-parent",P):null;if(U=Ce?Ce.children.length:0,!(this.fields.dataSource instanceof Ri)&&null===Ce&&P){var ze=P.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,P.getAttribute("data-uid").toString()):null;U=ze?ze.length:0}}return{cancel:!1,clonedNode:l,event:i,draggedNode:p,draggedNodeData:f,droppedNode:u,droppedNodeData:d,dropIndex:U,dropLevel:h,draggedParentNode:T,dropTarget:P,dropIndicator:X,target:o,position:Me}},t.prototype.addFullRow=function(i){var n=this.liList.length;if(i)for(var s=0;s<n;s++)this.createFullRow(this.liList[s]);else for(s=0;s<n;s++)Ot(Ge("."+Iv,this.liList[s]))},t.prototype.createFullRow=function(i){var n=this.createElement("div",{className:Iv});i.insertBefore(n,i.childNodes[0])},t.prototype.addMultiSelect=function(i){if(i)for(var s=0,o=bi("."+Kn+':not([aria-selected="true"])',this.element);s<o.length;s++)o[s].setAttribute("aria-selected","false");else for(var l=0,h=bi("."+Kn+'[aria-selected="false"]',this.element);l<h.length;l++)h[l].removeAttribute("aria-selected")},t.prototype.collapseByLevel=function(i,n,s){if(n>0&&!v(i))for(var o=this.getVisibleNodes(s,i.childNodes),a=0,l=o.length;a<l;a++){var h=o[a],c=Ge("."+kl,Ge("."+Nl,h));v(c)||this.collapseNode(h,c,null),this.collapseByLevel(Ge("."+Kr,h),n-1,s)}},t.prototype.collapseAllNodes=function(i){for(var n=this.getVisibleNodes(i,bi("."+kl,this.element)),s=0,o=n.length;s<o;s++){var a=n[s],l=Je(a,"."+Kn);this.collapseNode(l,a,null)}},t.prototype.expandByLevel=function(i,n,s){if(n>0&&!v(i))for(var o=this.getVisibleNodes(s,i.childNodes),a=0,l=o.length;a<l;a++){var h=o[a],c=Ge("."+Ys,Ge("."+Nl,h));v(c)||this.expandAction(h,c,null),this.expandByLevel(Ge("."+Kr,h),n-1,s)}},t.prototype.expandAllNodes=function(i){for(var n=this.getVisibleNodes(i,bi("."+Ys,this.element)),s=0,o=n.length;s<o;s++){var a=n[s],l=Je(a,"."+Kn);this.expandAction(l,a,null,!0)}},t.prototype.getVisibleNodes=function(i,n){var s=Array.prototype.slice.call(n);if(i)for(var o=0;o<s.length;o++)ra(s[o])||(s.splice(o,1),o--);return s},t.prototype.removeNode=function(i){var n=Je(i,"."+Kr),s=Je(n,"."+Kn);v(this.nodeTemplateFn)||this.destroyTemplate(i),Ot(i),this.updateElement(n,s),this.removeData(i)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(bi("."+Kn,this.element))},t.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var i=bi("."+uu,this.element);this.selectGivenNodes(i)},t.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var i=bi('[aria-expanded="true"]',this.element),n=0,s=i.length;n<s;n++)this.addExpand(i[n])},t.prototype.removeData=function(i){if(1===this.dataType){var n=new Ri(this.treeData),s=this.getId(i),o={},a=this.isNumberTypeId?parseFloat(s):s;o[this.fields.id]=a,n.remove(this.fields.id,o),this.removeChildNodes(s)}else s=this.getId(i),this.updateChildField(this.treeData,this.fields,s,null,null,!0)},t.prototype.removeChildNodes=function(i){var n=this.getChildGroup(this.groupedData,i,!1),s=[];if(n)for(var o=0,a=n.length;o<a;o++){var l=new Ri(this.treeData),h=Xe(this.fields.id,n[o]).toString(),c={},u=this.isNumberTypeId?parseFloat(h):h;c[this.fields.id]=u;var d=l.remove(this.fields.id,c);s.push(d[0]),this.removeChildNodes(h)}return s},t.prototype.doGivenAction=function(i,n,s){for(var o=0,a=i.length;o<a;o++){var l=this.getElement(i[o]);if(!v(l)){var h=Ge("."+n,Ge("."+Nl,l));v(h)||(s?this.expandAction(l,h,null):this.collapseNode(l,h,null))}}},t.prototype.addGivenNodes=function(i,n,s,o,a){if(0!==i.length){var l=this.getSortedData(i),h=n?parseFloat(n.getAttribute("aria-level"))+1:1;o&&this.updateMapper(h);var d,p,f,c=$n.createListItemFromJson(this.createElement,l,this.listBaseOption,h),u=this.getId(n);if(v(n)||(p=Ge("div."+Ca,n)),1===this.dataType&&p&&p.classList.contains(Ys)&&!v(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")&&(this.preventExpand=!0),1!==this.dataType&&(this.addChildData(this.treeData,this.fields,u,i,s),this.isFirstRender=!1),d=(f=a||(n?this.expandParent(n):Ge("."+Kr,this.element))).childNodes[s],!this.isFirstRender||1===this.dataType){var m=this.expandArgs;if(d||"None"===this.sortOrder){for(var M=0;M<c.length;M++)f.insertBefore(c[M],d);1!==this.dataType||v(n)||v(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(T=Ge("div."+Ca,n))&&T.classList.contains(Ys)&&(v(m)||"nodeExpanding"!=m.name)&&this.expandAction(n,T,null))}if(!d&&("Ascending"===this.sortOrder||"Descending"===this.sortOrder))if(0===f.childNodes.length){for(M=0;M<c.length;M++)f.insertBefore(c[M],d);var T;1!==this.dataType||v(n)||v(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(T=Ge("div."+Ca,n))&&T.classList.contains(Ys)&&(v(m)||"nodeExpanding"!=m.name)&&this.expandAction(n,T,null))}else{var P=f.childNodes;for(M=0;M<c.length;M++)for(var U=0;U<P.length;U++){if("Ascending"===this.sortOrder?P[U].textContent.toUpperCase()>c[M].innerText.toUpperCase():P[U].textContent.toUpperCase()<c[M].innerText.toUpperCase()){f.insertBefore(c[M],P[U]);break}f.insertBefore(c[M],P[P.length])}}}if(1===this.dataType){this.updateField(this.treeData,this.fields,u,"hasChildren",!0);var X=this.getId(d),Q=v(X)?this.treeData.length:this.getDataPos(this.treeData,this.fields,X);for(U=0;U<i.length;U++){if(!v(u)){var oe=this.isNumberTypeId?parseFloat(u):u;zn(this.fields.parentID,oe,i[U])}this.treeData.splice(Q,0,i[U]),Q++}}this.finalizeNode(f)}},t.prototype.updateMapper=function(i){var n=1===i?this.fields:this.getChildFields(this.fields,i-1,1);this.updateListProp(n)},t.prototype.updateListProp=function(i){var n=this.getActualProperties(i);this.listBaseOption.fields=n,this.listBaseOption.fields.url=n.hasOwnProperty("navigateUrl")?n.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(i,n,s){for(var o=null,a=0,l=i.length;a<l;a++){var h=Xe(n.id,i[a]);if(i[a]&&h&&h.toString()===s)return a;if("string"!=typeof n.child||v(Xe(n.child,i[a]))){if(this.fields.dataSource instanceof Ri&&!v(Xe("child",i[a]))){var u=Xe("child",i[a]);if(null!==(o=this.getDataPos(u,this.getChildMapper(n),s)))break}}else{var c=Xe(n.child,i[a]);if(null!==(o=this.getDataPos(c,this.getChildMapper(n),s)))break}}return o},t.prototype.addChildData=function(i,n,s,o,a){var l;if(v(s)){a=v(a)?i.length:a;for(var h=0,c=o.length;h<c;h++)i.splice(a,0,o[h]),a++;return l}for(var u=0,d=i.length;u<d;u++){var p=Xe(n.id,i[u]);if(i[u]&&p&&p.toString()===s){if("string"==typeof n.child&&i[u].hasOwnProperty(n.child)&&null!==i[u][n.child]||this.fields.dataSource instanceof Ri&&i[u].hasOwnProperty("child"))for(v(m=Xe("string"==typeof n.child?n.child:"child",i[u]))&&(m=[]),a=v(a)?m.length:a,h=0,c=o.length;h<c;h++)m.splice(a,0,o[h]),a++;else i[u]["string"==typeof n.child?n.child:"child"]=o;return!0}if("string"!=typeof n.child||v(Xe(n.child,i[u]))){if(this.fields.dataSource instanceof Ri&&!v(Xe("child",i[u]))){var m=Xe("child",i[u]);if(void 0!==(l=this.addChildData(m,this.getChildMapper(n),s,o,a)))break}}else{var M=Xe(n.child,i[u]);if(void 0!==(l=this.addChildData(M,this.getChildMapper(n),s,o,a)))break}}return l},t.prototype.doDisableAction=function(i){var n=this.nodeType(i),s=this.checkValidId(n);this.validArr=[];for(var o=0,a=s.length;o<a;o++){var l=s[o][this.fields.id].toString();l&&-1===this.disableNode.indexOf(l)&&this.disableNode.push(l);var h=this.getElement(l);h&&(h.setAttribute("aria-disabled","true"),be([h],eY))}},t.prototype.doEnableAction=function(i){for(var n=this.nodeType(i),s=0,o=n.length;s<o;s++){var a=this.getElement(n[s]),l=n[s];l&&-1!==this.disableNode.indexOf(l)&&this.disableNode.splice(this.disableNode.indexOf(l),1),a&&(a.removeAttribute("aria-disabled"),Ae([a],eY))}},t.prototype.nodeType=function(i){for(var n=[],s=0,o=i.length;s<o;s++){var a=void 0;"string"==typeof i[s]?a=i[s]?i[s].toString():null:"object"==typeof i[s]&&(a=i[s]?i[s].getAttribute("data-uid").toString():null),-1==n.indexOf(a)&&n.push(a)}return n},t.prototype.checkValidId=function(i){var n=this;if(1===this.dataType)this.validArr=this.treeData.filter(function(l){return-1!==i.indexOf(l[n.fields.id]?l[n.fields.id].toString():null)});else if(2===this.dataType)for(var s=0;s<this.treeData.length;s++){var o=this.treeData[s][this.fields.id]?this.treeData[s][this.fields.id].toString():null;-1!==i.indexOf(o)&&this.validArr.push(this.treeData[s]);var a=Xe(this.fields.child.toString(),this.treeData[s]);a&&this.filterNestedChild(a,i)}return this.validArr},t.prototype.filterNestedChild=function(i,n){for(var s=0;s<i.length;s++){var o=i[s][this.fields.id]?i[s][this.fields.id].toString():null;-1!==n.indexOf(o)&&this.validArr.push(i[s]);var a=Xe(this.fields.child.toString(),i[s]);a&&this.filterNestedChild(a,n)}},t.prototype.setTouchClass=function(){var i=Je(this.element,".e-bigger");this.touchClass=v(i)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var i=this.selectedNodes,n=0,s=i.length;n<s;n++)this.updateField(this.treeData,this.fields,i[n],"selected",!0);for(var o=this.expandedNodes,a=0,l=o.length;a<l;a++)this.updateField(this.treeData,this.fields,o[a],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);var h=this.checkedNodes,c=0;for(l=h.length;c<l;c++)this.updateField(this.treeData,this.fields,h[c],"isChecked",!0)}},t.prototype.removeField=function(i,n,s){if(!v(i)&&!v(n))for(var o=0,a=i.length;o<a;o++){for(var l=0;l<s.length;l++){var h=this.getMapperProp(n,s[l]);v(i[o][h])||delete i[o][h]}"string"!=typeof n.child||v(Xe(n.child,i[o]))?this.fields.dataSource instanceof Ri&&!v(Xe("child",i[o]))&&this.removeField(Xe("child",i[o]),this.getChildMapper(n),s):this.removeField(Xe(n.child,i[o]),this.getChildMapper(n),s)}},t.prototype.getMapperProp=function(i,n){switch(n){case"selected":return v(i.selected)?"selected":i.selected;case"expanded":return v(i.expanded)?"expanded":i.expanded;case"isChecked":return v(i.isChecked)?"isChecked":i.isChecked;case"hasChildren":return v(i.hasChildren)?"hasChildren":i.hasChildren;default:return n}},t.prototype.updateField=function(i,n,s,o,a){if(!v(s))if(1===this.dataType){var l=this.isNumberTypeId?parseFloat(s):s,h=new Ri(this.treeData).executeLocal((new Vn).where(n.id,"equal",l,!1));zn(this.getMapperProp(n,o),a,h[0])}else this.updateChildField(i,n,s,o,a)},t.prototype.updateChildField=function(i,n,s,o,a,l){var h;if(v(i))return h;for(var c=0,u=i.length;c<u;c++){var d=Xe(n.id,i[c]);if(i[c]&&d&&d.toString()===s)return l?h=i.splice(c,1):(zn(this.getMapperProp(n,o),a,i[c]),h=[]),h;if("string"!=typeof n.child||v(Xe(n.child,i[c]))){if(this.fields.dataSource instanceof Ri&&!v(Xe("child",i[c]))){var f=Xe("child",i[c]);if(void 0!==(h=this.updateChildField(f,this.getChildMapper(n),s,o,a,l)))break}}else{var p=Xe(n.child,i[c]);if(void 0!==(h=this.updateChildField(p,this.getChildMapper(n),s,o,a,l)))break}}return h},t.prototype.triggerEvent=function(i,n){if(this.renderReactTemplates(),"addNodes"===i){for(var s=[],o=0;o<n.length;o++)s.push(this.getNode(this.getElement(v(n[o][this.fields.id])?Xe(this.fields.id,n[o]).toString():null)));n=s}this.trigger("dataSourceChanged",{data:this.treeData,action:i,nodeData:n})},t.prototype.wireInputEvents=function(i){$.add(i,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(i){var n=this;if(i&&!this.disabled){var s=this;this.touchEditObj=new ph(this.element,{tap:function(o){n.isDoubleTapped(o)&&2===o.tapCount&&(o.originalEvent.preventDefault(),s.editingHandler(o.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(i){if(i){var n=this;this.touchClickObj=new ph(this.element,{tap:function(s){n.clickHandler(s)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(i){var n=this;if(i){var s=this;this.touchExpandObj=new ph(this.element,{tap:function(o){("Click"===n.expandOnType||"DblClick"===n.expandOnType&&n.isDoubleTapped(o)&&2===o.tapCount)&&3!==o.originalEvent.which&&s.expandHandler(o)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(i){this.mouseDownStatus=!0,(i.shiftKey||i.ctrlKey)&&i.preventDefault(),i.ctrlKey&&this.allowMultiSelection&&$.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(i){i.preventDefault()},t.prototype.wireEvents=function(){$.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),$.add(this.element,"mouseover",this.onMouseOver,this),$.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new Fa(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){$.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),$.remove(this.element,"mouseover",this.onMouseOver),$.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(i,n){for(var s=[],o=i.parentNode;!v(o);)W1(o,n)&&s.push(o),o=o.parentNode;return s},t.prototype.isDoubleTapped=function(i){var s,n=i.originalEvent.target;return n&&i.tapCount&&(1===i.tapCount?this.firstTap=Je(n,"."+Kn):2===i.tapCount&&(s=Je(n,"."+Kn))),this.firstTap===s},t.prototype.isDescendant=function(i,n){for(var s=n.parentNode;!v(s);){if(s===i)return!0;s=s.parentNode}return!1},t.prototype.showSpinner=function(i){be([i],Kz),Np({target:i,width:Ue.isDevice?16:14},this.createElement),Xu(i)},t.prototype.hideSpinner=function(i){Hc(i),i.innerHTML="",Ae([i],Kz)},t.prototype.setCheckedNodes=function(i){i=JSON.parse(JSON.stringify(i)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(i),i.length>0&&this.checkAll(i)},t.prototype.setValidCheckedNode=function(i){if(1===this.dataType){var n=this.fields,s=new Ri(this.treeData).executeLocal((new Vn).where(n.id,"equal",i,!0));if(s[0]&&(this.setChildCheckState(s,i,s[0]),this.autoCheck)){for(var o=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,a=this.getChildNodes(this.treeData,o),l=0,h=0;h<a.length;h++){var c=a[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(c)&&l++}l===a.length&&-1===this.checkedNodes.indexOf(o)&&o&&this.checkedNodes.push(o)}}else if(2===this.dataType)for(var u=0;u<this.treeData.length;u++){if((this.treeData[u][this.fields.id]?this.treeData[u][this.fields.id].toString():"")===i&&-1===this.checkedNodes.indexOf(i)){this.checkedNodes.push(i);break}var p=Xe(this.fields.child.toString(),this.treeData[u]);p&&this.setChildCheckState(p,i,this.treeData[u])}},t.prototype.setChildCheckState=function(i,n,s){var o,a=0;if(1===this.dataType){s&&(o=s[this.fields.id]?s[this.fields.id].toString():null);for(var l=0;l<i.length;l++){var h=i[l][this.fields.id]?i[l][this.fields.id].toString():null;s&&o&&this.autoCheck&&-1!==this.checkedNodes.indexOf(o)&&-1===this.checkedNodes.indexOf(h)&&this.checkedNodes.push(h),h===n&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n),(c=this.getChildNodes(this.treeData,h))&&this.setChildCheckState(c,n,s)}}else for(s&&(o=s[this.fields.id]?s[this.fields.id].toString():""),l=0;l<i.length;l++){var c,u=i[l][this.fields.id]?i[l][this.fields.id].toString():"";s&&o&&this.autoCheck&&-1!==this.checkedNodes.indexOf(o)&&-1===this.checkedNodes.indexOf(u)&&this.checkedNodes.push(u),u===n&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n),(c=Xe(this.fields.child.toString(),i[l]))&&this.setChildCheckState(c,n,i[l]),-1!==this.checkedNodes.indexOf(u)&&this.autoCheck&&a++,a===i.length&&-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o)}},t.prototype.setIndeterminate=function(i){for(var n=0;n<i.length;n++)this.setValidCheckedNode(i[n])},t.prototype.updatePosition=function(i,n,s,o){if(1===this.dataType){var a=this.getDataPos(this.treeData,this.fields,i);if(this.treeData.splice(a,1,n),s){this.removeChildNodes(i);for(var l=0;l<o.length;l++)this.treeData.splice(a,0,o[l]),a++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,i,[n],void 0)},t.prototype.updateChildPosition=function(i,n,s,o,a){for(var l,h=0,c=i.length;h<c;h++){var u=Xe(n.id,i[h]);if(i[h]&&u&&u.toString()===s)return i[h]=o[0],!0;if("string"!=typeof n.child||v(Xe(n.child,i[h]))){if(this.fields.dataSource instanceof Ri&&!v(Xe("child",i[h]))){var p=Xe("child",i[h]);if(void 0!==(l=this.updateChildPosition(p,this.getChildMapper(n),s,o,a)))break}}else{var d=Xe(n.child,i[h]);if(void 0!==(l=this.updateChildPosition(d,this.getChildMapper(n),s,o,a)))break}}return l},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(i,n,s,o,a,l,h){var m,c=this,u=this.fields.dataSource,d=[],p=this.getQuery(this.fields),f=this.fields.id,M={addedRecords:[],deletedRecords:[],changedRecords:[]},T=[];n?T=this.nodeType(n):s&&("string"==typeof s?T[0]=s.toString():"object"==typeof s&&(T[0]=s.getAttribute("data-uid").toString()));for(var P=0,U=T.length;P<U;P++)if(!v(this.getElement(T[P]))){var X=this.getNodeObject(T[P]);d.push(X)}switch(i){case"delete":1==n.length?m=u.remove(f,d[0],p.fromTable,p):(M.deletedRecords=d,m=u.saveChanges(M,f,p.fromTable,p)),m.then(function(oe){return c.deleteSuccess(T)}).catch(function(oe){return c.dmFailure(oe)});break;case"update":d[0][this.fields.text]=o,(m=u.update(f,d[0],p.fromTable,p)).then(function(oe){return c.editSucess(s,o,h)}).catch(function(oe){return c.dmFailure(oe,s,h)});break;case"insert":if(1==a.length)m=u.insert(a[0],p.fromTable,p);else{var Q=[];for(P=0,U=a.length;P<U;P++)Q.push(a[P]);M.addedRecords=Q,m=u.saveChanges(M,f,p.fromTable,p)}m.then(function(oe){var de=c.getElement(s);c.addSuccess(a,de,l),c.preventExpand=!1}).catch(function(oe){return c.dmFailure(oe)})}},t.prototype.deleteSuccess=function(i){for(var n=[],s=0,o=i.length;s<o;s++){var a=this.getElement(i[s]);n.push(this.getNode(a)),!v(a)&&this.removeNode(a)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent("removeNode",n)},t.prototype.editSucess=function(i,n,s){var o=this.getElement(i),a=Ge("."+Ib,o);this.appendNewText(o,a,n,s)},t.prototype.addSuccess=function(i,n,s){var o,a=n?n.querySelector("."+Ca):null,l=this;n&&a&&a.classList.contains(Ys)&&null===n.querySelector("."+Kr)?l.renderChildNodes(n,null,function(){o=n.querySelector("."+Kr),l.addGivenNodes(i,n,s,!0,o),l.triggerEvent("addNodes",i)}):(this.addGivenNodes(i,n,s,!0),this.triggerEvent("addNodes",i))},t.prototype.dmFailure=function(i,n,s){n&&this.updatePreviousText(n,s),this.trigger("actionFailure",{error:i})},t.prototype.updatePreviousText=function(i,n){var s=this.getElement(i),o=Ge("."+Ib,s);this.updateText(s,o,this.oldText,n)},t.prototype.getHierarchicalParentId=function(i,n,s){var o=this,a=n.findIndex(function(c){return c[o.fields.id]&&c[o.fields.id].toString()===i});if(-1==a)for(var l=0;l<n.length;l++){var h=Xe(this.fields.child.toString(),n[l]);if(!v(h)){if(-1!=(a=h.findIndex(function(c){return c[o.fields.id]&&c[o.fields.id].toString()===i}))){s.push(n[l][this.fields.id].toString()),this.getHierarchicalParentId(n[l][this.fields.id].toString(),this.treeData,s);break}this.getHierarchicalParentId(i,h,s)}}return s},t.prototype.onPropertyChanged=function(i,n){for(var s=0,o=Object.keys(i);s<o.length;s++)switch(o[s]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var l=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(l,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=n.checkedNodes,this.setCheckedNodes(i.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=i.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(n.cssClass,i.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:v(i.expandedNodes)?[]:i.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var h=this.element.querySelectorAll("li"),c=0;c<h.length;)"true"!==h[c].getAttribute("aria-expanded")&&this.renderChildNodes(h[c],!0,null,!0),c++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:i.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:i.fullRowNavigable},!0),this.listBaseOption.itemNavigable=i.fullRowNavigable,this.reRenderNodes()}},t.prototype.destroy=function(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.ulElement=null,this.liList=null,this.startNode=null,this.firstTap=null,this.expandArgs=null,this.dragLi=null,this.dragTarget=null,this.dragParent=null,this.dragObj=null,this.dropObj=null,this.inputObj=null,this.touchEditObj=null,this.touchExpandObj=null,this.touchClickObj=null,r.prototype.destroy.call(this)},t.prototype.addNodes=function(i,n,s,o){if(!v(i)){i=JSON.parse(JSON.stringify(i));var a=this.getElement(n);if(this.preventExpand=o,this.fields.dataSource instanceof Ri)this.isOffline?this.addSuccess(i,a,s):this.crudOperation("insert",null,n,null,i,s,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(i,a,s);else{if(a)this.addGivenNodes(i,a,s);else{i=this.getSortedData(i);for(var l=0;l<i.length;l++){var h=Xe(this.fields.parentID,i[l]);a=h&&this.getElement(h.toString()),this.addGivenNodes([i[l]],a,s)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&a&&this.ensureParentCheckState(a),this.fields.dataSource instanceof Ri||(this.preventExpand=!1,this.triggerEvent("addNodes",i))}},t.prototype.beginEdit=function(i){var n=this.getElement(i);v(n)||this.disabled||this.createTextbox(n,null)},t.prototype.checkAll=function(i){this.showCheckBox&&this.doCheckBoxAction(i,!0)},t.prototype.collapseAll=function(i,n,s){v(i)?n>0?this.collapseByLevel(Ge("."+Kr,this.element),n,s):this.collapseAllNodes(s):this.doGivenAction(i,kl,!1)},t.prototype.disableNodes=function(i){v(i)||this.doDisableAction(i)},t.prototype.enableNodes=function(i){v(i)||this.doEnableAction(i)},t.prototype.ensureVisible=function(i){var n=[];if(1==this.dataType)for(var s=this.getTreeData(i);0!=s.length&&!v(s[0][this.fields.parentID]);)n.push(s[0][this.fields.parentID].toString()),s=this.getTreeData(s[0][this.fields.parentID].toString());else 2==this.dataType&&(n=this.getHierarchicalParentId(i,this.treeData,n).reverse());this.expandAll(n);var o=this.getElement(i);if(!v(o)){if("object"==typeof i){var a=this.parents(o,"."+Kn);this.expandAll(a)}setTimeout(function(){o.scrollIntoView({behavior:"smooth"})},450)}},t.prototype.expandAll=function(i,n,s){v(i)?n>0?this.expandByLevel(Ge("."+Kr,this.element),n,s):this.expandAllNodes(s):this.doGivenAction(i,Ys,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(i){var n=this.getElement(i);return this.getNodeData(n,!0)},t.prototype.getTreeData=function(i){var n=this.getId(i);if(this.updatePersistProp(),v(n))return this.treeData;var s=this.getNodeObject(n);return v(s)?[]:[s]},t.prototype.moveNodes=function(i,n,s,o){var a=this.getElement(n),l=[];if(!v(a)){for(var h=0;h<i.length;h++){var c=this.getElement(i[h]);l.push(this.getNode(c)),!(v(c)||a.isSameNode(c)||this.isDescendant(c,a))&&(this.preventExpand=o,this.dropAsChildNode(c,a,this,s))}this.fields.dataSource instanceof Ri||(this.preventExpand=!1),this.triggerEvent("moveNodes",l)}},t.prototype.refreshNode=function(i,n){if(!v(i)&&!v(n)){var s,o=!1;1==this.dataType&&n.length>1?o=!0:2==this.dataType&&1===n.length&&(v(Xe(this.fields.child.toString(),n[0]))||(o=!0));var h,c,l=this.getElement(i);if(s=l?l.getAttribute("data-uid"):i?i.toString():null,this.refreshData=this.getNodeObject(s),n=JSON.parse(JSON.stringify(n)),1==this.dataType&&o){for(var u=0;u<n.length;u++)if(v(n[u][this.fields.parentID])){c=n[u],n.splice(u,1);break}h=Ii({},this.refreshData,c)}else h=Ii({},this.refreshData,n[0]);if(v(l))return void this.updatePosition(s,h,o,n);this.isRefreshed=!0;var d=parseFloat(l.getAttribute("aria-level")),p=$n.createListItemFromJson(this.createElement,[h],this.listBaseOption,d),f=Ge("."+Kr,l),m=Xe(this.fields.child.toString(),h);if(o&&f||o&&!v(m)){var M=l.parentElement,T=Array.prototype.indexOf.call(M.childNodes,l);bn(l),M.insertBefore(p[0],M.childNodes[T]),this.updatePosition(s,h,o,n),o&&f&&this.expandAll([s])}else{var P=Ge("."+Nl,l),U=Ge("."+Nl,p[0]),Y=Ge("div."+Ca,P),X=Ge("div."+Ca,U);Y&&X&&(X.classList.contains(Ys)&&Y.classList.contains(kl)?(Ae([X],Ys),be([X],kl)):X.classList.contains(kl)&&Y.classList.contains(Ys)?(Ae([X],kl),be([X],Ys)):Y.classList.contains("interaction")&&be([X],"interaction")),bn(P);var Q=Ge("."+Iv,l);Q.parentNode.insertBefore(U,Q.nextSibling),this.updatePosition(s,h,o,n)}if(l=this.getElement(i),h[this.fields.tooltip]&&l.setAttribute("title",h[this.fields.tooltip]),h.hasOwnProperty(this.fields.htmlAttributes)&&h[this.fields.htmlAttributes]){var oe={};ya(oe,h[this.fields.htmlAttributes]),oe.class?(be([l],oe.class.split(" ")),delete oe.class):wi(l,oe)}-1!==this.selectedNodes.indexOf(s)&&(l.setAttribute("aria-selected","true"),be([l],uu)),this.isRefreshed=!1,this.triggerEvent("refreshNode",[this.getNode(l)])}},t.prototype.removeNodes=function(i){v(i)||(this.fields.dataSource instanceof Ri&&!this.isOffline?this.crudOperation("delete",i):this.deleteSuccess(i))},t.prototype.updateNode=function(i,n){var s=this;if(!v(i)&&!v(n)&&this.allowEditing){var o=this.getElement(i);if(!v(o)){var a=Ge("."+Ib,o);this.updateOldText(o);var l=this.getEditEvent(o,null,null);this.trigger("nodeEditing",l,function(h){h.cancel||(s.fields.dataSource instanceof Ri&&!s.isOffline?s.crudOperation("update",null,i,n,null,null,!1):s.appendNewText(o,a,n,!1))})}}},t.prototype.uncheckAll=function(i){this.showCheckBox&&this.doCheckBoxAction(i,!1)},An([O(!1)],t.prototype,"allowDragAndDrop",void 0),An([O(!1)],t.prototype,"allowEditing",void 0),An([O(!1)],t.prototype,"allowMultiSelection",void 0),An([O(!1)],t.prototype,"allowTextWrap",void 0),An([Lt({},Qpe)],t.prototype,"animation",void 0),An([O()],t.prototype,"checkedNodes",void 0),An([O("")],t.prototype,"cssClass",void 0),An([O(!1)],t.prototype,"disabled",void 0),An([O(null)],t.prototype,"dragArea",void 0),An([O(!1)],t.prototype,"enableHtmlSanitizer",void 0),An([O(!1)],t.prototype,"enablePersistence",void 0),An([O()],t.prototype,"expandedNodes",void 0),An([O("Auto")],t.prototype,"expandOn",void 0),An([Lt({},Xpe)],t.prototype,"fields",void 0),An([O(!0)],t.prototype,"fullRowSelect",void 0),An([O(!0)],t.prototype,"loadOnDemand",void 0),An([O()],t.prototype,"locale",void 0),An([O()],t.prototype,"nodeTemplate",void 0),An([O()],t.prototype,"selectedNodes",void 0),An([O("None")],t.prototype,"sortOrder",void 0),An([O(!1)],t.prototype,"showCheckBox",void 0),An([O(!0)],t.prototype,"autoCheck",void 0),An([O(!1)],t.prototype,"fullRowNavigable",void 0),An([Se()],t.prototype,"actionFailure",void 0),An([Se()],t.prototype,"created",void 0),An([Se()],t.prototype,"dataBound",void 0),An([Se()],t.prototype,"dataSourceChanged",void 0),An([Se()],t.prototype,"drawNode",void 0),An([Se()],t.prototype,"destroyed",void 0),An([Se()],t.prototype,"keyPress",void 0),An([Se()],t.prototype,"nodeChecked",void 0),An([Se()],t.prototype,"nodeChecking",void 0),An([Se()],t.prototype,"nodeClicked",void 0),An([Se()],t.prototype,"nodeCollapsed",void 0),An([Se()],t.prototype,"nodeCollapsing",void 0),An([Se()],t.prototype,"nodeDragging",void 0),An([Se()],t.prototype,"nodeDragStart",void 0),An([Se()],t.prototype,"nodeDragStop",void 0),An([Se()],t.prototype,"nodeDropped",void 0),An([Se()],t.prototype,"nodeEdited",void 0),An([Se()],t.prototype,"nodeEditing",void 0),An([Se()],t.prototype,"nodeExpanded",void 0),An([Se()],t.prototype,"nodeExpanding",void 0),An([Se()],t.prototype,"nodeSelected",void 0),An([Se()],t.prototype,"nodeSelecting",void 0),e=An([Jn],t)}(Xr),pi=function(){function r(t,e){this.width=t,this.height=e}return r.prototype.isEmpty=function(){return 0===this.height&&0===this.width},r.prototype.clone=function(){return new r(this.width,this.height)},r}(),lfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OY=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Be=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lfe(t,r),t.equals=function(e,i){return e===i||!(!e||!i)&&(!e||!i||e.x===i.x&&e.y===i.y)},t.isEmptyPoint=function(e){return!(e.x&&e.y)},t.transform=function(e,i,n){var s={x:0,y:0};return s.x=Math.round(100*(e.x+n*Math.cos(i*Math.PI/180)))/100,s.y=Math.round(100*(e.y+n*Math.sin(i*Math.PI/180)))/100,s},t.findLength=function(e,i){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))},t.findAngle=function(e,i){var n=Math.atan2(i.y-e.y,i.x-e.x);return n=180*n/Math.PI,(n%=360)<0&&(n+=360),n},t.distancePoints=function(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},t.getLengthFromListOfPoints=function(e){for(var i=0,n=0;n<e.length-1;n++)i+=this.distancePoints(e[parseInt(n.toString(),10)],e[n+1]);return i},t.adjustPoint=function(e,i,n,s){var a,o=n?{x:e.x,y:e.y}:{x:i.x,y:i.y};return e.x===i.x?e.y<i.y&&n||e.y>i.y&&!n?o.y+=s:o.y-=s:e.y===i.y?e.x<i.x&&n||e.x>i.x&&!n?o.x+=s:o.x-=s:n?(a=this.findAngle(e,i),o=this.transform(e,a,s)):(a=this.findAngle(i,e),o=this.transform(i,a,s)),o},t.direction=function(e,i){return Math.abs(i.x-e.x)>Math.abs(i.y-e.y)?e.x<i.x?"Right":"Left":e.y<i.y?"Bottom":"Top"},t.prototype.getClassName=function(){return"Point"},OY([O(0)],t.prototype,"x",void 0),OY([O(0)],t.prototype,"y",void 0),t}(ii);function _w(r){var e,t=[],i=function hfe(r){var t=/([a-z]+)|([+-]?(?:\d+\.?\d*|\.\d+))/gi,e=[],i=[],n={};t.lastIndex=0;var s=!1;for(n=t.exec(r);n;)"e"===n[1]?s=!0:n[1]?("zm"===n[1].toLowerCase()?(e.length&&i.push(e),i.push(["Z"]),e=[n[1].substring(1,2)]):(e.length&&i.push(e),e=[n[1]]),s=!1):(e.length||(e=[]),s||e.push(Number(n[2])),s=!1),n=t.exec(r);return e.length&&i.push(e),i}(r);if(i.length>0)for(var n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)],o="";switch((o=s[0]).toLowerCase()){case"m":for(e=1;e<s.length;e++)t.push({command:o,x:s[parseInt(e.toString(),10)],y:s[e+1]}),e+=1,"m"===o?o="l":"M"===o&&(o="L");break;case"l":case"t":for(e=1;e<s.length;e++)t.push({command:o,x:s[parseInt(e.toString(),10)],y:s[e+1]}),e+=1;break;case"h":for(e=1;e<s.length;e++)t.push({command:o,x:s[parseInt(e.toString(),10)]});break;case"v":for(e=1;e<s.length;e++)t.push({command:o,y:s[parseInt(e.toString(),10)]});break;case"z":t.push({command:o});break;case"c":for(e=1;e<s.length;e++)t.push({command:o,x1:s[parseInt(e.toString(),10)],y1:s[e+1],x2:s[e+2],y2:s[e+3],x:s[e+4],y:s[e+5]}),e+=5;break;case"s":for(e=1;e<s.length;e++)t.push({command:o,x2:s[parseInt(e.toString(),10)],y2:s[e+1],x:s[e+2],y:s[e+3]}),e+=3;break;case"q":for(e=1;e<s.length;e++)t.push({command:o,x1:s[parseInt(e.toString(),10)],y1:s[e+1],x:s[e+2],y:s[e+3]}),e+=3;break;case"a":for(e=1;e<s.length;e++)t.push({command:o,r1:s[parseInt(e.toString(),10)],r2:s[e+1],angle:s[e+2],largeArc:s[e+3],sweep:s[e+4],x:s[e+5],y:s[e+6]}),e+=6}}return t}function CB(r){var e,i,t="";for(t="M"+r[0].x+" "+r[0].y,i=1;i<r.length;i++)t+="L"+(e=r[parseInt(i.toString(),10)]).x+" "+e.y;return t+"Z"}function SB(r){var t;for(t=0;t<r.length;t++)r[parseInt(t.toString(),10)].x=Math.round(r[parseInt(t.toString(),10)].x),r[parseInt(t.toString(),10)].y=Math.round(r[parseInt(t.toString(),10)].y);var i,n,e="";for(e="M"+r[0].x+" "+r[0].y,n=1;n<r.length;n++)e+="L"+(i=r[parseInt(n.toString(),10)]).x+" "+i.y;return e}function LY(r){var t,e,i,n,s,o,a,l,h,c,u=[];for(a=0,l=0,c=0,h=r.length;c<h;++c){var p=r[c];"y1"in p&&(n=p.y1),"y2"in p&&(o=p.y2),"x1"in p&&(i=p.x1),"x2"in p&&(s=p.x2),"x"in p&&(a=p.x),"y"in p&&(l=p.y);var m=u[u.length-1];switch(p.command){case"M":u.push({command:"M",x:a,y:l});break;case"L":u.push({command:"L",x0:t,y0:e,x:a,y:l});break;case"H":u.push({command:"L",x0:t,y0:e,x:a,y:e});break;case"V":u.push({command:"L",x0:t,y0:e,x:t,y:l});break;case"C":u.push({command:"C",x0:t,y0:e,x1:i,y1:n,x2:s,y2:o,x:a,y:l});break;case"S":if(m){var M=void 0;u.push({command:"C",x0:t,y0:e,x1:(T={x:2*t-(M="C"===m.command||"S"===m.command?{x:m.x2,y:m.y2}:{x:t,y:e}).x,y:2*e-M.y}).x,y1:T.y,x2:s,y2:o,x:a,y:l})}break;case"Q":u.push({command:"Q",x0:t,y0:e,x1:i,y1:n,x:a,y:l});break;case"T":var T;if(m)M=void 0,u.push({command:"Q",x0:t,y0:e,x1:(T={x:2*t-(M="Q"===m.command?{x:m.x1,y:m.y1}:{x:t,y:e}).x,y:2*e-M.y}).x,y1:T.y,x:a,y:l});break;case"A":var P=p;P.command="A",u.push(P);break;case"Z":case"z":u.push({command:"Z"}),a=t,l=e}t=a,e=l}return u}function oL(r,t,e,i,n,s,o,a){var l,h,c,u,d,p,f,m,M;for(d=0,p=0,m=0,f=r.length;m<f;++m){var P=r[m],U=P.command;"x"in P&&(d=P.x),"y"in P&&(p=P.y),"y1"in P&&(h=P.y1),"y2"in P&&(u=P.y2),"x1"in P&&(l=P.x1),"x2"in P&&(c=P.x2),i?(void 0!==d&&(d=Rw(d,t,n,o)),void 0!==p&&(p=Rw(p,e,s,a)),void 0!==l&&(l=Rw(l,t,n,o)),void 0!==h&&(h=Rw(h,e,s,a)),void 0!==c&&(c=Rw(c,t,n,o)),void 0!==u&&(u=Rw(u,e,s,a))):(void 0!==d&&(d=Number((d+t).toFixed(2))),void 0!==p&&(p=Number((p+e).toFixed(2))),void 0!==l&&(l=Number((l+t).toFixed(2))),void 0!==h&&(h=Number((h+e).toFixed(2))),void 0!==c&&(c=Number((c+t).toFixed(2))),void 0!==u&&(u=Number((u+e).toFixed(2)))),(M=ufe(P,U,{x:d,y:p,x1:l,y1:h,x2:c,y2:u,r1:P.r1,r2:P.r2},i,t,e))&&(r[m]=M)}return kY(r)}function ufe(r,t,e,i,n,s){switch(t){case"M":case"L":case"T":r.x=e.x,r.y=e.y;break;case"H":r.x=e.x;break;case"V":r.y=e.y;break;case"C":r.x=e.x,r.y=e.y,r.x1=e.x1,r.y1=e.y1,r.x2=e.x2,r.y2=e.y2;break;case"S":r.x=e.x,r.y=e.y,r.x2=e.x2,r.y2=e.y2;break;case"Q":r.x=e.x,r.y=e.y,r.x1=e.x1,r.y1=e.y1;break;case"A":var o=e.r1,a=e.r2;i&&(e.r1=o*=n,e.r2=a*=s),r.x=e.x,r.y=e.y,r.r1=e.r1,r.r2=e.r2;break;case"z":case"Z":r={command:"Z"}}return r}function Rw(r,t,e,i){return r!==e?r=i!==e?r*t-(Number(e)*t-Number(e))+(i-Number(e)):Number(r)*t-(Number(e)*t-Number(e)):i!==e&&(r=i),Number(r.toFixed(2))}function aL(r){var t,e,i,n,s,o,a,l,h,c;for(a=0,l=0,c=0,h=r.length;c<h;++c){var d=r[parseInt(c.toString(),10)],p=d.command;if(/[MLHVCSQTA]/.test(p))"x"in d&&(d.x=a=d.x),"y"in d&&(d.y=l=d.y);else{"x1"in d&&(d.x1=i=a+d.x1),"x2"in d&&(d.x2=s=a+d.x2),"y1"in d&&(d.y1=n=l+d.y1),"y2"in d&&(d.y2=o=l+d.y2),"x"in d&&(d.x=a+=d.x),"y"in d&&(d.y=l+=d.y);var f=void 0;switch(p){case"m":case"M":f={command:"M",x:a,y:l};break;case"l":case"L":f={command:"L",x:a,y:l};break;case"h":case"H":f={command:"H",x:a};break;case"v":case"V":f={command:"V",y:l};break;case"c":case"C":f={command:"C",x:a,y:l,x1:i,y1:n,x2:s,y2:o};break;case"s":case"S":f={command:"S",x:a,y:l,x2:s,y2:o};break;case"q":case"Q":f={command:"Q",x:a,y:l,x1:i,y1:n};break;case"t":case"T":f={command:"T",x:a,y:l};break;case"a":case"A":(f={command:"A",x:a,y:l}).r1=d.r1,f.r2=d.r2,f.angle=d.angle,f.largeArc=d.largeArc,f.sweep=d.sweep;break;case"z":case"Z":f={command:"Z"},a=t,l=e,f=r[parseInt(c.toString(),10)]}f&&(r[parseInt(c.toString(),10)]=f)}("M"===p||"m"===p)&&(t=a,e=l)}return r}function kY(r){var e,t="";for(e=0;e<r.length;e++)t+=0===e?NY(r[parseInt(e.toString(),10)]):" "+NY(r[parseInt(e.toString(),10)]);return t}function NY(r){var t="";switch(r.command){case"Z":case"z":t=r.command;break;case"M":case"m":case"L":case"l":case"T":case"t":t=r.command+" "+r.x+" "+r.y;break;case"C":case"c":t=r.command+" "+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;break;case"Q":case"q":t=r.command+" "+r.x1+" "+r.y1+" "+r.x+" "+r.y;break;case"A":case"a":t=r.command+" "+r.r1+" "+r.r2+" "+r.angle+" "+(r.largeArc?"1":"0")+" "+(r.sweep?"1":"0")+" "+r.x+" "+r.y;break;case"H":case"h":t=r.command+" "+r.x;break;case"V":case"v":t=r.command+" "+r.y;break;case"S":case"s":t=r.command+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y}return t}var Xi=function(){function r(t,e,i,n){this.x=Number.MAX_VALUE,this.y=Number.MAX_VALUE,this.width=0,this.height=0,void 0===t||void 0===e?(t=e=Number.MAX_VALUE,i=n=0):(void 0===i&&(i=0),void 0===n&&(n=0)),this.x=t,this.y=e,this.width=i,this.height=n}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topLeft",{get:function(){return{x:this.left,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topRight",{get:function(){return{x:this.right,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomLeft",{get:function(){return{x:this.left,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRight",{get:function(){return{x:this.right,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"middleLeft",{get:function(){return{x:this.left,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"middleRight",{get:function(){return{x:this.right,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topCenter",{get:function(){return{x:this.x+this.width/2,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomCenter",{get:function(){return{x:this.x+this.width/2,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"center",{get:function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),r.prototype.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},r.prototype.uniteRect=function(t){var e=Math.max(Number.NaN===this.right||this.x===Number.MAX_VALUE?t.right:this.right,t.right),i=Math.max(Number.NaN===this.bottom||this.y===Number.MAX_VALUE?t.bottom:this.bottom,t.bottom);return this.x=Math.min(this.left,t.left),this.y=Math.min(this.top,t.top),this.width=e-this.x,this.height=i-this.y,this},r.prototype.unitePoint=function(t){if(this.x===Number.MAX_VALUE)return this.x=t.x,void(this.y=t.y);var e=Math.min(this.left,t.x),i=Math.min(this.top,t.y),n=Math.max(this.right,t.x),s=Math.max(this.bottom,t.y);this.x=e,this.y=i,this.width=n-this.x,this.height=s-this.y},r.prototype.Inflate=function(t){return this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t,this},r.prototype.intersects=function(t){return!(this.right<t.left||this.left>t.right||this.top>t.bottom||this.bottom<t.top)},r.prototype.containsRect=function(t){return this.left<=t.left&&this.right>=t.right&&this.top<=t.top&&this.bottom>=t.bottom},r.prototype.containsPoint=function(t,e){return void 0===e&&(e=0),this.left-e<=t.x&&this.right+e>=t.x&&this.top-e<=t.y&&this.bottom+e>=t.y},r.toBounds=function(t){for(var e=new r,i=0,n=t;i<n.length;i++)e.unitePoint(n[i]);return e},r.empty=new r(Number.MAX_VALUE,Number.MIN_VALUE,0,0),r}(),xs=function(r){return r[r.Identity=0]="Identity",r[r.Translation=1]="Translation",r[r.Scaling=2]="Scaling",r[r.Unknown=4]="Unknown",r}(xs||{}),dfe=function(){return function r(t,e,i,n,s,o,a){this.m11=t,this.m12=e,this.m21=i,this.m22=n,this.offsetX=s,this.offsetY=o,this.type=a}}();function Bs(){return new dfe(1,0,0,1,0,0,xs.Identity)}function xn(r,t){var e=function vfe(r,t,e){switch(r.type){case xs.Identity:break;case xs.Translation:t+=r.offsetX,e+=r.offsetY;break;case xs.Scaling:t*=r.m11,e*=r.m22;break;case xs.Translation|xs.Scaling:t*=r.m11,t+=r.offsetX,e*=r.m22,e+=r.offsetY;break;default:var n=t*r.m12+r.offsetY;t*=r.m11,t+=e*r.m21+r.offsetX,e*=r.m22,e+=n}return{x:t,y:e}}(r,t.x,t.y);return{x:Math.round(100*e.x)/100,y:Math.round(100*e.y)/100}}function to(r,t,e,i){wB(r,function gfe(r,t,e){var i=Bs(),n=Math.sin(r),s=Math.cos(r),o=t*(1-s)+e*n,a=e*(1-s)-t*n;return i.type=xs.Unknown,lL(i,s,n,-n,s,o,a),i}(.017453292519943295*(t%=360),e||0,i||0))}function zw(r,t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),wB(r,function ffe(r,t,e,i){var n=Bs();return n.type=e||i?xs.Scaling|xs.Translation:xs.Scaling,lL(n,r,0,0,t,e-r*e,i-t*i),n}(t,e,i,n))}function PY(r,t,e){return r.type&xs.Identity?(r.type=xs.Translation,void lL(r,1,0,0,1,t,e)):r.type&xs.Unknown?(r.offsetX+=t,void(r.offsetY+=e)):(r.offsetX+=t,r.offsetY+=e,void(r.type|=xs.Translation))}function wB(r,t){var e=r.type,i=t.type;if(i!==xs.Identity){if(e===xs.Identity)return _Y(r,t),void(r.type=t.type);if(i===xs.Translation)return r.offsetX+=t.offsetX,r.offsetY+=t.offsetY,void(e!==xs.Unknown&&(r.type|=xs.Translation));if(e!==xs.Translation){var n=e<<4|i;switch(n){case 34:return r.m11*=t.m11,void(r.m22*=t.m22);case 35:return r.m11*=t.m11,r.m22*=t.m22,r.offsetX=t.offsetX,r.offsetY=t.offsetY,void(r.type=xs.Translation|xs.Scaling);case 36:break;default:switch(n){case 50:return r.m11*=t.m11,r.m22*=t.m22,r.offsetX*=t.m11,void(r.offsetY*=t.m22);case 51:return r.m11*=t.m11,r.m22*=t.m22,r.offsetX=t.m11*r.offsetX+t.offsetX,void(r.offsetY=t.m22*r.offsetY+t.offsetY);case 52:break;default:switch(n){case 66:case 67:case 68:break;default:return}}}var s=Bs();return lL(s,r.m11*t.m11+r.m12*t.m21,r.m11*t.m12+r.m12*t.m22,r.m21*t.m11+r.m22*t.m21,r.m21*t.m12+r.m22*t.m22,r.offsetX*t.m11+r.offsetY*t.m21+t.offsetX,r.offsetX*t.m12+r.offsetY*t.m22+t.offsetY),s.m21||s.m12?s.type=xs.Unknown:((s.m11&&1!==s.m11||s.m22&&1!==s.m22)&&(s.type=xs.Scaling),(s.offsetX||s.offsetY)&&(s.type|=xs.Translation),(s.type&(xs.Translation|xs.Scaling))===xs.Identity&&(s.type=xs.Identity),s.type=xs.Scaling|xs.Translation),_Y(r,s),void(r.type=s.type)}var d=r.offsetX,p=r.offsetY;if(r.offsetX=d*t.m11+p*t.m21+t.offsetX,r.offsetY=d*t.m12+p*t.m22+t.offsetY,i===xs.Unknown)return void(r.type=xs.Unknown);r.type=xs.Translation|xs.Scaling}}function lL(r,t,e,i,n,s,o){r.m11=t,r.m12=e,r.m21=i,r.m22=n,r.offsetX=s,r.offsetY=o}function _Y(r,t){r.m11=t.m11,r.m12=t.m12,r.m21=t.m21,r.m22=t.m22,r.offsetX=t.offsetX,r.offsetY=t.offsetY,r.type=t.type}var Wp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ln=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},RY=function(r){if(r){if(ge())return bfe;switch(r.type){case"Linear":default:return hL;case"Radial":return Cfe}}return hL},mfe=function(){return function r(t,e,i,n){this.left=t,this.right=e,this.top=i,this.bottom=n}}(),_l=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O(0)],t.prototype,"left",void 0),Ln([O(0)],t.prototype,"right",void 0),Ln([O(0)],t.prototype,"top",void 0),Ln([O(0)],t.prototype,"bottom",void 0),t}(ii),yfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O(45)],t.prototype,"angle",void 0),Ln([O(5)],t.prototype,"distance",void 0),Ln([O(.7)],t.prototype,"opacity",void 0),Ln([O("lightgrey")],t.prototype,"color",void 0),t}(ii),zY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),t.prototype.getClassName=function(){return"Stop"},Ln([O("")],t.prototype,"color",void 0),Ln([O(0)],t.prototype,"offset",void 0),Ln([O(1)],t.prototype,"opacity",void 0),t}(ii),IB=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([Qn([],zY)],t.prototype,"stops",void 0),Ln([O("None")],t.prototype,"type",void 0),Ln([O("")],t.prototype,"id",void 0),t}(ii),bfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O(0)],t.prototype,"x1",void 0),Ln([O(0)],t.prototype,"x2",void 0),Ln([O(0)],t.prototype,"y1",void 0),Ln([O(0)],t.prototype,"y2",void 0),Ln([O(0)],t.prototype,"cx",void 0),Ln([O(0)],t.prototype,"cy",void 0),Ln([O(0)],t.prototype,"fx",void 0),Ln([O(0)],t.prototype,"fy",void 0),Ln([O(50)],t.prototype,"r",void 0),t}(IB),hL=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O(0)],t.prototype,"x1",void 0),Ln([O(0)],t.prototype,"x2",void 0),Ln([O(0)],t.prototype,"y1",void 0),Ln([O(0)],t.prototype,"y2",void 0),t}(IB),Cfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O(0)],t.prototype,"cx",void 0),Ln([O(0)],t.prototype,"cy",void 0),Ln([O(0)],t.prototype,"fx",void 0),Ln([O(0)],t.prototype,"fy",void 0),Ln([O(50)],t.prototype,"r",void 0),t}(IB),wy=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O("white")],t.prototype,"fill",void 0),Ln([O("black")],t.prototype,"strokeColor",void 0),Ln([O("")],t.prototype,"strokeDashArray",void 0),Ln([O(1)],t.prototype,"strokeWidth",void 0),Ln([O(1)],t.prototype,"opacity",void 0),Ln([mA(RY)],t.prototype,"gradient",void 0),t}(ii),BY=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O("transparent")],t.prototype,"fill",void 0),t}(wy),Eb=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wp(t,r),Ln([O("black")],t.prototype,"color",void 0),Ln([O("Arial")],t.prototype,"fontFamily",void 0),Ln([O(12)],t.prototype,"fontSize",void 0),Ln([O(!1)],t.prototype,"italic",void 0),Ln([O(!1)],t.prototype,"bold",void 0),Ln([O("CollapseSpace")],t.prototype,"whiteSpace",void 0),Ln([O("WrapWithOverflow")],t.prototype,"textWrapping",void 0),Ln([O("Center")],t.prototype,"textAlign",void 0),Ln([O("None")],t.prototype,"textDecoration",void 0),Ln([O("Wrap")],t.prototype,"textOverflow",void 0),Ln([O("transparent")],t.prototype,"fill",void 0),t}(wy),Rr=function(r){return r[r.Default=0]="Default",r[r.expandNode=2]="expandNode",r[r.interaction=4]="interaction",r[r.GroupingInProgress=8]="GroupingInProgress",r[r.GroupClipboardInProcess=16]="GroupClipboardInProcess",r[r.ClearObject=32]="ClearObject",r}(Rr||{}),zi=function(r){return r[r.Visible=1]="Visible",r[r.Hidden=2]="Hidden",r[r.Hover=4]="Hover",r[r.Connect=8]="Connect",r}(zi||{}),zr=function(r){return r[r.None=0]="None",r[r.ShowHorizontalLines=1]="ShowHorizontalLines",r[r.ShowVerticalLines=2]="ShowVerticalLines",r[r.ShowLines=3]="ShowLines",r[r.SnapToHorizontalLines=4]="SnapToHorizontalLines",r[r.SnapToVerticalLines=8]="SnapToVerticalLines",r[r.SnapToLines=12]="SnapToLines",r[r.SnapToObject=16]="SnapToObject",r[r.All=31]="All",r}(zr||{}),Bo=function(r){return r[r.None=1]="None",r[r.ConnectorSourceThumb=2]="ConnectorSourceThumb",r[r.ConnectorTargetThumb=4]="ConnectorTargetThumb",r[r.ResizeSouthEast=8]="ResizeSouthEast",r[r.ResizeSouthWest=16]="ResizeSouthWest",r[r.ResizeNorthEast=32]="ResizeNorthEast",r[r.ResizeNorthWest=64]="ResizeNorthWest",r[r.ResizeEast=128]="ResizeEast",r[r.ResizeWest=256]="ResizeWest",r[r.ResizeSouth=512]="ResizeSouth",r[r.ResizeNorth=1024]="ResizeNorth",r[r.Rotate=2048]="Rotate",r[r.UserHandle=4096]="UserHandle",r[r.ToolTip=8192]="ToolTip",r[r.ResizeAll=2046]="ResizeAll",r[r.All=16382]="All",r}(Bo||{}),$e=function(r){return r[r.None=1]="None",r[r.Select=2]="Select",r[r.Delete=4]="Delete",r[r.Drag=8]="Drag",r[r.DragSourceEnd=16]="DragSourceEnd",r[r.DragTargetEnd=32]="DragTargetEnd",r[r.DragSegmentThumb=64]="DragSegmentThumb",r[r.AllowDrop=128]="AllowDrop",r[r.Bridging=256]="Bridging",r[r.BridgeObstacle=512]="BridgeObstacle",r[r.InheritBridging=1024]="InheritBridging",r[r.PointerEvents=2048]="PointerEvents",r[r.Tooltip=4096]="Tooltip",r[r.InheritTooltip=8192]="InheritTooltip",r[r.Interaction=4218]="Interaction",r[r.ReadOnly=16384]="ReadOnly",r[r.LineRouting=32768]="LineRouting",r[r.InheritLineRouting=65536]="InheritLineRouting",r[r.ConnectToNearByNode=131072]="ConnectToNearByNode",r[r.ConnectToNearByPort=262144]="ConnectToNearByPort",r[r.ConnectToNearByElement=393216]="ConnectToNearByElement",r[r.InheritSegmentThumbShape=524288]="InheritSegmentThumbShape",r[r.Default=994878]="Default",r}($e||{}),Rl=function(r){return r[r.ReadOnly=2]="ReadOnly",r[r.InheritReadOnly=4]="InheritReadOnly",r[r.Select=8]="Select",r[r.Drag=16]="Drag",r[r.Resize=32]="Resize",r[r.Rotate=64]="Rotate",r[r.Interaction=120]="Interaction",r[r.None=0]="None",r}(Rl||{}),j=function(r){return r[r.None=0]="None",r[r.Select=2]="Select",r[r.Drag=4]="Drag",r[r.Rotate=8]="Rotate",r[r.Shadow=16]="Shadow",r[r.PointerEvents=32]="PointerEvents",r[r.Delete=64]="Delete",r[r.InConnect=128]="InConnect",r[r.OutConnect=256]="OutConnect",r[r.Individual=512]="Individual",r[r.Expandable=1024]="Expandable",r[r.AllowDrop=2048]="AllowDrop",r[r.Inherit=78]="Inherit",r[r.ResizeNorthEast=4096]="ResizeNorthEast",r[r.ResizeEast=8192]="ResizeEast",r[r.ResizeSouthEast=16384]="ResizeSouthEast",r[r.ResizeSouth=32768]="ResizeSouth",r[r.ResizeSouthWest=65536]="ResizeSouthWest",r[r.ResizeWest=131072]="ResizeWest",r[r.ResizeNorthWest=262144]="ResizeNorthWest",r[r.ResizeNorth=524288]="ResizeNorth",r[r.Resize=1044480]="Resize",r[r.AspectRatio=1048576]="AspectRatio",r[r.Tooltip=2097152]="Tooltip",r[r.InheritTooltip=4194304]="InheritTooltip",r[r.ReadOnly=8388608]="ReadOnly",r[r.HideThumbs=16777216]="HideThumbs",r[r.AllowMovingOutsideLane=33554432]="AllowMovingOutsideLane",r[r.Default=5240814]="Default",r}(j||{}),Na=function(r){return r[r.None=0]="None",r[r.ElementIsPort=2]="ElementIsPort",r[r.ElementIsGroup=4]="ElementIsGroup",r[r.HorizontalLaneHeader=8]="HorizontalLaneHeader",r}(Na||{}),ir=function(r){return r[r.Rotate=2]="Rotate",r[r.ConnectorSource=4]="ConnectorSource",r[r.ConnectorTarget=8]="ConnectorTarget",r[r.ResizeNorthEast=16]="ResizeNorthEast",r[r.ResizeEast=32]="ResizeEast",r[r.ResizeSouthEast=64]="ResizeSouthEast",r[r.ResizeSouth=128]="ResizeSouth",r[r.ResizeSouthWest=256]="ResizeSouthWest",r[r.ResizeWest=512]="ResizeWest",r[r.ResizeNorthWest=1024]="ResizeNorthWest",r[r.ResizeNorth=2048]="ResizeNorth",r[r.Default=4094]="Default",r}(ir||{}),Un=function(r){return r[r.None=1]="None",r[r.Bridging=2]="Bridging",r[r.UndoRedo=4]="UndoRedo",r[r.Tooltip=8]="Tooltip",r[r.UserInteraction=16]="UserInteraction",r[r.ApiUpdate=32]="ApiUpdate",r[r.PageEditable=48]="PageEditable",r[r.Zoom=64]="Zoom",r[r.PanX=128]="PanX",r[r.PanY=256]="PanY",r[r.Pan=384]="Pan",r[r.ZoomTextEdit=512]="ZoomTextEdit",r[r.Virtualization=1024]="Virtualization",r[r.LineRouting=2048]="LineRouting",r[r.Default=500]="Default",r}(Un||{}),Do=function(r){return r[r.None=0]="None",r[r.SingleSelect=1]="SingleSelect",r[r.MultipleSelect=2]="MultipleSelect",r[r.ZoomPan=4]="ZoomPan",r[r.DrawOnce=8]="DrawOnce",r[r.ContinuousDraw=16]="ContinuousDraw",r[r.Default=3]="Default",r}(Do||{}),$u=function(r){return r[r.Self=1]="Self",r[r.Parent=2]="Parent",r}($u||{}),oc=function(r){return r[r.None=0]="None",r[r.Control=1]="Control",r[r.Meta=1]="Meta",r[r.Alt=2]="Alt",r[r.Shift=4]="Shift",r}(oc||{}),bh=function(r){return r[r.None=null]="None",r[r.Number0=0]="Number0",r[r.Number1=1]="Number1",r[r.Number2=2]="Number2",r[r.Number3=3]="Number3",r[r.Number4=4]="Number4",r[r.Number5=5]="Number5",r[r.Number6=6]="Number6",r[r.Number7=7]="Number7",r[r.Number8=8]="Number8",r[r.Number9=9]="Number9",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.Left=37]="Left",r[r.Up=38]="Up",r[r.Right=39]="Right",r[r.Down=40]="Down",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.Delete=46]="Delete",r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.BackSpace=8]="BackSpace",r[r.F1=112]="F1",r[r.F2=113]="F2",r[r.F3=114]="F3",r[r.F4=115]="F4",r[r.F5=116]="F5",r[r.F6=117]="F6",r[r.F7=118]="F7",r[r.F8=119]="F8",r[r.F9=120]="F9",r[r.F10=121]="F10",r[r.F11=122]="F11",r[r.F12=123]="F12",r[r.Star=56]="Star",r[r.Plus=187]="Plus",r[r.Minus=189]="Minus",r}(bh||{}),Dt=function(r){return r[r.Render=2]="Render",r[r.PublicMethod=4]="PublicMethod",r[r.ToolAction=8]="ToolAction",r[r.UndoRedo=16]="UndoRedo",r[r.TextEdit=32]="TextEdit",r[r.Group=64]="Group",r[r.Clear=128]="Clear",r[r.PreventClearSelection=256]="PreventClearSelection",r[r.Interactions=512]="Interactions",r[r.PreventHistory=1024]="PreventHistory",r[r.PreventIconsUpdate=2048]="PreventIconsUpdate",r[r.PreventCollectionChangeOnDragOver=4096]="PreventCollectionChangeOnDragOver",r[r.PreventZIndexOnDragging=8192]="PreventZIndexOnDragging",r[r.isGroupDragging=16384]="isGroupDragging",r[r.DragUsingMouse=32768]="DragUsingMouse",r[r.DecoratorPropertyChange=65536]="DecoratorPropertyChange",r[r.PreventLaneContainerUpdate=131072]="PreventLaneContainerUpdate",r}(Dt||{}),Yp=function(r){return r[r.None=2]="None",r[r.DrawSelectorBorder=4]="DrawSelectorBorder",r[r.PreventRenderSelector=8]="PreventRenderSelector",r}(Yp||{}),Gs=function(r){return r[r.None=0]="None",r[r.PreventDrag=2]="PreventDrag",r[r.PreventScale=4]="PreventScale",r[r.PreventDataInit=8]="PreventDataInit",r[r.hScrollbarMoved=16]="hScrollbarMoved",r[r.vScrollbarMoved=32]="vScrollbarMoved",r[r.AnimationClick=64]="AnimationClick",r[r.EnableGroupAction=128]="EnableGroupAction",r[r.PanInProgress=256]="PanInProgress",r[r.OverViewAction=512]="OverViewAction",r}(Gs||{}),jd=function(r){return r[r.None=0]="None",r[r.PropertyChange=1024]="PropertyChange",r[r.Interaction=2048]="Interaction",r}(jd||{}),ji=function(r){return r[r.Zero=0]="Zero",r[r.One=1]="One",r[r.Two=2]="Two",r[r.Three=3]="Three",r[r.Four=4]="Four",r[r.Five=5]="Five",r}(ji||{}),_i=function(r){return r[r.collectionChange=0]="collectionChange",r[r.rotateChange=1]="rotateChange",r[r.positionChange=2]="positionChange",r[r.propertyChange=3]="propertyChange",r[r.selectionChange=4]="selectionChange",r[r.sizeChange=5]="sizeChange",r[r.drop=6]="drop",r[r.sourcePointChange=7]="sourcePointChange",r[r.targetPointChange=8]="targetPointChange",r[r.connectionChange=9]="connectionChange",r[r.animationComplete=10]="animationComplete",r[r.click=11]="click",r[r.doubleClick=12]="doubleClick",r[r.scrollChange=13]="scrollChange",r[r.dragEnter=14]="dragEnter",r[r.dragLeave=15]="dragLeave",r[r.dragOver=16]="dragOver",r[r.textEdit=17]="textEdit",r[r.paletteSelectionChange=18]="paletteSelectionChange",r[r.historyChange=19]="historyChange",r[r.mouseEnter=20]="mouseEnter",r[r.mouseLeave=21]="mouseLeave",r[r.mouseOver=22]="mouseOver",r[r.expandStateChange=23]="expandStateChange",r[r.segmentCollectionChange=24]="segmentCollectionChange",r[r.commandExecute=25]="commandExecute",r[r.historyStateChange=26]="historyStateChange",r[r.onUserHandleMouseDown=27]="onUserHandleMouseDown",r[r.onUserHandleMouseUp=28]="onUserHandleMouseUp",r[r.onUserHandleMouseEnter=29]="onUserHandleMouseEnter",r[r.onUserHandleMouseLeave=30]="onUserHandleMouseLeave",r[r.onImageLoad=31]="onImageLoad",r[r.onDoBindingInit=32]="onDoBindingInit",r[r.keyUp=33]="keyUp",r[r.keyDown=34]="keyDown",r[r.fixedUserHandleClick=35]="fixedUserHandleClick",r[r.elementDraw=36]="elementDraw",r[r.mouseWheel=37]="mouseWheel",r[r.segmentChange=38]="segmentChange",r}(_i||{}),kr=function(r){return r[r.None=1]="None",r[r.Drag=2]="Drag",r[r.Draw=4]="Draw",r[r.InConnect=8]="InConnect",r[r.OutConnect=16]="OutConnect",r[r.ToolTip=32]="ToolTip",r[r.InheritTooltip=64]="InheritTooltip",r[r.Default=24]="Default",r}(kr||{}),FY="contextMenuOpen",MB=function(r){return r[r.None=1]="None",r[r.Source=2]="Source",r[r.Target=4]="Target",r[r.Intermediate=8]="Intermediate",r[r.All=14]="All",r}(MB||{}),cL=function(r){return r[r.None=0]="None",r[r.SymmetricAngle=2]="SymmetricAngle",r[r.SymmetricDistance=4]="SymmetricDistance",r[r.Default=6]="Default",r}(cL||{}),Jl=function(){function r(){this.pivot={x:.5,y:.5},this.isDirt=!0,this.isExport=!1,this.exportScaleValue={x:0,y:0},this.exportScaleOffset={x:0,y:0},this.canApplyStyle=!0,this.visible=!0,this.offsetX=0,this.offsetY=0,this.cornerRadius=0,this.minHeight=void 0,this.minWidth=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.width=void 0,this.height=void 0,this.rotateAngle=0,this.margin={left:0,right:0,top:0,bottom:0},this.horizontalAlignment="Auto",this.verticalAlignment="Auto",this.flip="None",this.relativeMode="Point",this.transform=$u.Self|$u.Parent,this.style={fill:"white",strokeColor:"black",opacity:1,strokeWidth:1},this.desiredSize=new pi,this.actualSize=new pi,this.parentTransform=0,this.preventContainer=!1,this.isSvgRender=!1,this.bounds=new Xi(0,0,0,0),this.shadow=null,this.description="",this.staticSize=!1,this.shapeType="",this.isRectElement=!1,this.isCalculateDesiredSize=!0,this.flipOffset={x:0,y:0},this.elementActions=Na.None,this.inversedAlignment=!0,this.position=void 0,this.unitMode=void 0,this.float=!1,this.floatingBounds=void 0}return r.prototype.setOffsetWithRespectToBounds=function(t,e,i){this.unitMode=i,this.position={x:t,y:e}},r.prototype.getAbsolutePosition=function(t){if(void 0!==this.position)return"Absolute"===this.unitMode?this.position:{x:this.position.x*t.width,y:this.position.y*t.height}},Object.defineProperty(r.prototype,"outerBounds",{get:function(){return this.floatingBounds||this.bounds},set:function(t){this.floatingBounds=t},enumerable:!0,configurable:!0}),r.prototype.measure=function(t,e,i){var s=void 0!==this.height?this.height:(t.height||0)-this.margin.top-this.margin.bottom;return this.id&&0===s&&this.elementActions&Na.HorizontalLaneHeader&&(s=this.actualSize.height),this.desiredSize=new pi(void 0!==this.width?this.width:(t.width||0)-this.margin.left-this.margin.right,s),this.isCalculateDesiredSize&&(this.desiredSize=this.validateDesiredSize(this.desiredSize,t)),this.desiredSize},r.prototype.arrange=function(t){return this.actualSize=t,this.updateBounds(),this.actualSize},r.prototype.updateBounds=function(){this.bounds=Fo(this)},r.prototype.validateDesiredSize=function(t,e){return this.isRectElement&&!this.width&&!this.minWidth&&!this.maxWidth&&(t.width=50),this.isRectElement&&!this.height&&!this.minHeight&&!this.maxHeight&&(t.height=50),(void 0===t||void 0!==this.width&&void 0!==this.height)&&((t=t||new pi).width=void 0===this.width?(e.width||0)-this.margin.left-this.margin.right:this.width,t.height=void 0===this.height?(e.height||0)-this.margin.top-this.margin.bottom:this.height),void 0!==this.minWidth&&(t.width=Math.max(t.width,this.minWidth)),void 0!==this.minHeight&&(t.height=Math.max(t.height,this.minHeight)),void 0!==this.maxWidth&&0!==this.maxWidth&&(t.width=Math.min(t.width,this.maxWidth)),void 0!==this.maxHeight&&0!==this.maxHeight&&(t.height=Math.min(t.height,this.maxHeight)),t},r}(),Dfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fh=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.padding=new mfe(0,0,0,0),e.desiredBounds=void 0,e.measureChildren=!0,e.prevRotateAngle=0,e}return Dfe(t,r),t.prototype.hasChildren=function(){return void 0!==this.children&&this.children.length>0},t.prototype.measure=function(e,i,n){this.desiredBounds=void 0;var o,a,s=void 0;if(this.hasChildren()){for(var l=0;l<this.children.length;l++)"Stretch"===(o=this.children[parseInt(l.toString(),10)]).horizontalAlignment&&!e.width&&(e.width=o.bounds.width),"Stretch"===o.verticalAlignment&&!e.height&&(e.height=o.bounds.height),(this.measureChildren||"Stretch"===o.horizontalAlignment||"Stretch"===o.verticalAlignment||o instanceof t&&void 0!==o.measureChildren)&&o.measure(e,i,n),a=this.GetChildrenBounds(o),"Stretch"!==o.horizontalAlignment&&"Stretch"!==o.verticalAlignment?void 0===this.desiredBounds?this.desiredBounds=a:this.desiredBounds.uniteRect(a):this.actualSize&&!this.actualSize.width&&!this.actualSize.height&&!o.preventContainer&&"Stretch"===o.horizontalAlignment&&"Stretch"===o.verticalAlignment&&(void 0===this.desiredBounds?this.desiredBounds=o.bounds:this.desiredBounds.uniteRect(o.bounds));if(void 0!==this.desiredBounds&&0!==this.rotateAngle){var u=uc(this.rotateAngle,void 0,void 0,{x:this.desiredBounds.x+this.desiredBounds.width*this.pivot.x,y:this.desiredBounds.y+this.desiredBounds.height*this.pivot.y});this.desiredBounds.x=u.x-this.desiredBounds.width*this.pivot.x,this.desiredBounds.y=u.y-this.desiredBounds.height*this.pivot.y}void 0!==this.desiredBounds&&(this.desiredBounds.width+=this.padding.left+this.padding.right,this.desiredBounds.height+=this.padding.top+this.padding.bottom,this.desiredBounds.x-=this.padding.left,this.desiredBounds.y-=this.padding.top),this.desiredBounds&&(s=new pi(this.desiredBounds.width,this.desiredBounds.height))}return s=this.validateDesiredSize(s,e),this.stretchChildren(s),this.desiredSize=s,s},t.prototype.arrange=function(e){var i,n=this.desiredBounds;if(n&&(this.offsetX=n.x+n.width*this.pivot.x,this.offsetY=n.y+n.height*this.pivot.y,this.hasChildren()))for(var a=0;a<this.children.length;a++){var l=!1;"Stretch"===(i=this.children[parseInt(a.toString(),10)]).horizontalAlignment&&(i.offsetX=this.offsetX,i.parentTransform=this.parentTransform+this.rotateAngle,this.flip&&this.elementActions&Na.ElementIsGroup&&(i.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-i.parentTransform:i.parentTransform),l=!0),"Stretch"===i.verticalAlignment&&(i.offsetY=this.offsetY,i.parentTransform=this.parentTransform+this.rotateAngle,l=!0),(l||this.measureChildren||i instanceof t&&void 0!==i.measureChildren)&&i.arrange(i.desiredSize),0==a?this.outerBounds=i.outerBounds:this.outerBounds.uniteRect(i.outerBounds)}return this.actualSize=e,this.updateBounds(),this.prevRotateAngle=this.rotateAngle,e},t.prototype.stretchChildren=function(e){if(this.hasChildren())for(var i=0,n=this.children;i<n.length;i++){var s=n[i];("Stretch"===s.horizontalAlignment||void 0===s.desiredSize.width)&&(s.desiredSize.width=e.width-s.margin.left-s.margin.right),("Stretch"===s.verticalAlignment||void 0===s.desiredSize.height)&&(s.desiredSize.height=e.height-s.margin.top-s.margin.bottom),s instanceof t&&s.stretchChildren(s.desiredSize)}},t.prototype.applyPadding=function(e){e.width+=this.padding.left+this.padding.right,e.height+=this.padding.top+this.padding.bottom},t.prototype.findChildOffsetFromCenter=function(e,i){var s=function dye(r,t){return{x:r.x+t.desiredSize.width*t.pivot.x,y:r.y+t.desiredSize.height*t.pivot.y}}({x:i.x-e.desiredSize.width/2,y:i.y-e.desiredSize.height/2},e);s=uc(e.rotateAngle,i.x,i.y,s),s=uc(this.rotateAngle+this.parentTransform,this.offsetX,this.offsetY,s),e.offsetX=s.x,e.offsetY=s.y},t.prototype.GetChildrenBounds=function(e){var i=e.desiredSize.clone(),o=e.offsetX-i.width*e.pivot.x,a=e.offsetY-i.height*e.pivot.y,l=o+i.width,h=a+i.height,c={x:o,y:a},u={x:l,y:a},d={x:o,y:h},p={x:l,y:h};return c=uc(e.rotateAngle,e.offsetX,e.offsetY,c),u=uc(e.rotateAngle,e.offsetX,e.offsetY,u),d=uc(e.rotateAngle,e.offsetX,e.offsetY,d),p=uc(e.rotateAngle,e.offsetX,e.offsetY,p),0!==this.rotateAngle&&(c=uc(-this.rotateAngle,void 0,void 0,c),u=uc(-this.rotateAngle,void 0,void 0,u),d=uc(-this.rotateAngle,void 0,void 0,d),p=uc(-this.rotateAngle,void 0,void 0,p)),Xi.toBounds([c,u,d,p])},t}(Jl),Tfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qr=function(r){function t(){var e=r.call(this)||this;return e.textContent="",e.canMeasure=!0,e.isLaneOrientation=!1,e.canConsiderBounds=!0,e.hyperlink={color:"blue"},e.doWrap=!0,e.textNodes=[],e.style={color:"black",fill:"transparent",strokeColor:"black",strokeWidth:1,fontFamily:"Arial",fontSize:12,whiteSpace:"CollapseSpace",textWrapping:"WrapWithOverflow",textAlign:"Center",italic:!1,bold:!1,textDecoration:"None",strokeDashArray:"",opacity:5,gradient:null,textOverflow:"Wrap"},e.style.fill="transparent",e.style.strokeColor="transparent",e}return Tfe(t,r),Object.defineProperty(t.prototype,"content",{get:function(){return this.textContent},set:function(e){this.textContent!==e&&(this.textContent=e,this.isDirt=!0,this.doWrap=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.textNodes},set:function(e){this.textNodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapBounds",{get:function(){return this.textWrapBounds},set:function(e){this.textWrapBounds=e},enumerable:!0,configurable:!0}),t.prototype.refreshTextElement=function(){this.isDirt=!0},t.prototype.measure=function(e){var i;return i=this.isDirt&&this.canMeasure?function Zme(r,t,e,i,n){var o,a,s=new pi(0,0),l=function Xme(r,t){var e={fill:r.style.fill,stroke:r.style.strokeColor,angle:r.rotateAngle+r.parentTransform,pivotX:r.pivot.x,pivotY:r.pivot.y,strokeWidth:r.style.strokeWidth,dashArray:r.style.strokeDashArray,opacity:r.style.opacity,shadow:r.shadow,gradient:r.style.gradient,visible:r.visible,id:r.id,description:r.description,width:t||r.actualSize.width,height:r.actualSize.height,x:r.offsetX-r.actualSize.width*r.pivot.x+.5,y:r.offsetY-r.actualSize.height*r.pivot.y+.5};return e.fontSize=r.style.fontSize,e.fontFamily=r.style.fontFamily,e.textOverflow=r.style.textOverflow,e.textDecoration=r.style.textDecoration,e.doWrap=r.doWrap,e.whiteSpace=B4(r.style.whiteSpace,r.style.textWrapping),e.content=r.content,e.textWrapping=r.style.textWrapping,e.breakWord=ak(r.style.textWrapping),e.textAlign=$X(r.style.textAlign),e.color=r.style.color,e.italic=r.style.italic,e.bold=r.style.bold,e.dashArray="",e.strokeWidth=0,e.fill="",e}(r,i);return r.childNodes=o=function Qme(r,t,e){var s,o,i=[],n=0,a=t||r.content;if("nowrap"!==r.whiteSpace&&"pre"!==r.whiteSpace)if("breakall"===r.breakWord)for(s="",s+=a[0],n=0;n<a.length;n++)if((o=Ny(s,r))>=r.width&&s.length>0)i[i.length]={text:s,x:0,dy:0,width:o},s="";else{(s+=a[n+1]||"").indexOf("\n")>-1&&(i[i.length]={text:s,x:0,dy:0,width:Ny(s,r)},s="");var l=Ny(s,r);Math.ceil(l)+2>=r.width&&s.length>0&&(i[i.length]={text:s,x:0,dy:0,width:l},s=""),n===a.length-1&&s.length>0&&(i[i.length]={text:s,x:0,dy:0,width:l},s="")}else i=function $me(r,t,e){var c,u,d,p,i=[],n="",s=0,o=0,a="nowrap"!==r.whiteSpace,h=(t||r.content).split("\n");for(s=0;s<h.length;s++)for(c="NoWrap"!==r.textWrapping?h[parseInt(s.toString(),10)].split(" "):"NoWrap"===r.textWrapping?[h[parseInt(s.toString(),10)]]:h,o=0;o<c.length;o++){var f=Ny(u=(n+=((0!==o||1===c.length)&&a&&n.length>0?" ":"")+c[parseInt(o.toString(),10)])+" "+(c[o+1]||""),r);Math.floor(f)>(e||r.width)-2&&n.length>0?(i[i.length]={text:n,x:0,dy:0,width:u===n?f:n===p?d:Ny(n,r)},n=""):o===c.length-1&&(i[i.length]={text:n,x:0,dy:0,width:f},n=""),p=u,d=f}return i}(r,t,e);else i[i.length]={text:a,x:0,dy:0,width:Ny(a,r)};return i}(l,n,r.isLaneOrientation?i:void 0),r.wrapBounds=a=function qme(r,t){var n,s,e={x:0,width:0},i=0;for(i=0;i<t.length;i++)s=n=t[parseInt(i.toString(),10)].width,n="left"===r.textAlign?0:"center"===r.textAlign?n>r.width&&("Ellipsis"===r.textOverflow||"Clip"===r.textOverflow)?0:-n/2:"right"===r.textAlign?-n:t.length>1?0:-n/2,t[parseInt(i.toString(),10)].dy=1.2*r.fontSize,t[parseInt(i.toString(),10)].x=n,e?(e.x=Math.min(e.x,n),e.width=Math.max(e.width,s)):e={x:n,width:s};return e}(l,o),s.width=a.width,r.wrapBounds.width>=i&&"Wrap"!==l.textOverflow&&(s.width=i),s.height=o.length*r.style.fontSize*1.2,s}(this,0,0,this.isLaneOrientation?e.height:this.width||e.width):this.desiredSize,this.desiredSize=void 0===this.width||void 0===this.height?new pi(i.width,i.height):new pi(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return(e.width!==this.actualSize.width||e.height!==this.actualSize.height||this.isDirt)&&(this.doWrap=!0),this.actualSize=e,this.updateBounds(),this.isDirt=!1,this.actualSize},t}(Jl),Efe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ds=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.measureChildren=void 0,e}return Efe(t,r),t.prototype.measure=function(e,i,n){var s=void 0,o=void 0;if(this.hasChildren()){for(var a=0,l=this.children;a<l.length;a++){var h=l[a];h instanceof Qr?h.canMeasure&&(e.width=e.width||this.maxWidth||this.minWidth,h.measure(e)):h instanceof Qr||h.measure(e,i,n);var c=h.desiredSize.clone();0!==h.rotateAngle&&(c=F4(c,h.rotateAngle));var p=new Xi(h.margin.left,h.margin.top,c.width+h.margin.right,c.height+h.margin.bottom);h.float&&void 0!==h.getAbsolutePosition(c)||(!(h instanceof Qr)||h instanceof Qr&&h.canConsiderBounds)&&(void 0===o?o=p:o.uniteRect(p))}var m,M;if(o)m=Math.max(o.left,0),M=Math.max(o.top,0),s=new pi(o.width+m,o.height+M)}return s=r.prototype.validateDesiredSize.call(this,s,e),r.prototype.stretchChildren.call(this,s),s.width+=this.padding.left+this.padding.right,s.height+=this.padding.top+this.padding.bottom,this.desiredSize=s,s},t.prototype.arrange=function(e,i){if(this.outerBounds=new Xi,this.hasChildren())for(var n=this.offsetY-e.height*this.pivot.y+this.padding.top,s=this.offsetX-e.width*this.pivot.x+this.padding.left,o=0,a=this.children;o<a.length;o++){var l=a[o];if(l.transform&$u.Parent){l.parentTransform=this.parentTransform+this.rotateAngle,("None"!==this.flip||this.elementActions&Na.ElementIsGroup)&&(l.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-l.parentTransform:l.parentTransform);var c,h=l.desiredSize.clone(),d=s,p=n;if("Point"===l.relativeMode){var f=l.getAbsolutePosition(e);void 0!==f&&(d+=f.x,p+=f.y)}c="Object"===l.relativeMode?this.alignChildBasedOnParent(l,h,e,d,p):this.alignChildBasedOnaPoint(l,d,p),r.prototype.findChildOffsetFromCenter.call(this,l,{x:c.x+h.width/2,y:c.y+h.height/2})}!i||"Stretch"!==l.horizontalAlignment&&"Stretch"!==l.verticalAlignment?l instanceof Qr&&l.canMeasure?(l.arrange(l.desiredSize),this.outerBounds.uniteRect(l.outerBounds)):l instanceof Qr||(l.arrange(l.desiredSize),this.outerBounds.uniteRect(l.outerBounds)):l.arrange(e)}return this.actualSize=e,this.updateBounds(),this.outerBounds.uniteRect(this.bounds),e},t.prototype.alignChildBasedOnParent=function(e,i,n,s,o){switch(e.horizontalAlignment){case"Auto":case"Left":s+=e.margin.left;break;case"Right":s+=n.width-i.width-e.margin.right;break;case"Stretch":case"Center":s+=n.width/2-i.width/2}switch(e.verticalAlignment){case"Auto":case"Top":o+=e.margin.top;break;case"Bottom":o+=n.height-i.height-e.margin.bottom;break;case"Stretch":case"Center":o+=n.height/2-i.height/2}return{x:s,y:o}},t.prototype.alignChildBasedOnaPoint=function(e,i,n){switch(i+=e.margin.left-e.margin.right,n+=e.margin.top-e.margin.bottom,e.horizontalAlignment){case"Auto":case"Left":i=e.inversedAlignment?i:i-e.desiredSize.width;break;case"Stretch":case"Center":i-=e.desiredSize.width*e.pivot.x;break;case"Right":i=e.inversedAlignment?i-e.desiredSize.width:i}switch(e.verticalAlignment){case"Auto":case"Top":n=e.inversedAlignment?n:n-e.desiredSize.height;break;case"Stretch":case"Center":n-=e.desiredSize.height*e.pivot.y;break;case"Bottom":n=e.inversedAlignment?n-e.desiredSize.height:n}return{x:i,y:n}},t}(Fh);function uL(r){return Afe[r.toString()]}var Dv,Vx,jY,Wx,Bw,Hd,Afe={Rectangle:"M0,0 L50,0 L50,50 L0,50 z",Ellipse:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Hexagon:"M30,0 L60,0 L90,30 L60,60 L30,60 L0,30 L30,0 z",Parallelogram:"M30,0 L60,0 L45,30 L15,30 z",Triangle:"M45,0 L90,45 L0,45 L45,0 z",Plus:"M696.6084,158.2656 L674.8074,158.2656 L674.8074,136.4656 L658.4084,136.4656 L658.4084,158.2656 L636.6084,158.2656L636.6084,174.6646 L658.4084,174.6646 L658.4084,196.4656 L674.8074,196.4656 L674.8074,174.6646 L696.6084,174.6646L696.6084,158.2656 z",Star:"M540.3643,137.9336 L546.7973,159.7016 L570.3633,159.7296 L550.7723,171.9366 L558.9053,194.9966 L540.3643,179.4996L521.8223,194.9966 L529.9553,171.9366 L510.3633,159.7296 L533.9313,159.7016 L540.3643,137.9336 z",Pentagon:"M30,0 L60,30 L50,70 L10,70 L0,30 L30,0 z",Heptagon:"M223.7783,195.7134 L207.1303,174.8364 L213.0713,148.8034 L237.1303,137.2174 L261.1883,148.8034 L267.1303,174.8364L250.4813,195.7134 L223.7783,195.7134 z",Octagon:"M98.7319,196.4653 L81.1579,178.8923 L81.1579,154.0393 L98.7319,136.4653 L123.5849,136.4653L141.1579,154.0393 L141.1579,178.8923 L123.5849,196.4653 L98.7319,196.4653 z",Trapezoid:"M127.2842,291.4492 L95.0322,291.4492 L81.1582,256.3152 L141.1582,256.3152 L127.2842,291.4492 z",Decagon:"M657.3379,302.4141 L642.3369,291.5161 L636.6089,273.8821 L642.3369,256.2481 L657.3379,245.3511 L675.8789,245.3511L690.8789,256.2481 L696.6089,273.8821L690.8789,291.5161 L675.8789,302.4141 L657.3379,302.4141 z",RightTriangle:"M836.293,292.9238 L776.293,292.9238 L776.293,254.8408 L836.293,292.9238 z",Cylinder:"M 542.802,362.009C 542.802,368.452 525.341,373.676 503.802,373.676C 482.263,373.676 464.802,368.452 464.802,362.009L 464.802,466.484C 464.802,472.928 482.263,478.151 503.802,478.151C 525.341,478.151 542.802,472.928 542.802,466.484L 542.802,362.016C 542.802,368.459 525.341,373.534 503.802,373.534C 482.263,373.534 464.802,368.31 464.802,361.867L 464.802,362.016C 464.802,355.572 482.263,350.349 503.802,350.349C 525.341,350.349 542.802,355.572 542.802,362.016",Diamond:"M397.784,287.875 L369.5,316.159 L341.216,287.875 L369.5,259.591 L397.784,287.875 z"},Ofe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nn=function(r){function t(){var e=r.call(this)||this;return e.pathData="",e.transformPath=!0,e.absolutePath="",e.canMeasurePath=!1,e.absoluteBounds=new Xi,e}return Ofe(t,r),Object.defineProperty(t.prototype,"data",{get:function(){return this.pathData},set:function(e){this.pathData!==e&&(this.pathData=e,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.getPoints=function(){var e=this;return this.pointTimer||(this.pointTimer=setTimeout(function(){e.points=null,e.pointTimer=null},200)),this.points=this.points||function Yme(r){var e,i,t=[],n="measureElement";window[""+n].style.visibility="visible";var o=L4(window[""+n].children[2])[0];o.setAttributeNS(null,"d",r.data);var l=FX(r,r.absoluteBounds);o.setAttributeNS(null,"d",l);var h=o.getTotalLength();for(i=0;i<=h;i+=10)e=o.getPointAtLength(i),t.push({x:e.x,y:e.y});return window[""+n].style.visibility="hidden",t}(this),function Gme(r,t){for(var e=[],i=0,n=t;i<n.length;i++){var s=n[i],o={x:r.offsetX-r.actualSize.width*r.pivot.x+s.x,y:r.offsetY-r.actualSize.height*r.pivot.y+s.y},a=void 0,l=r.rotateAngle+r.parentTransform;l&&to(a=Bs(),l,r.offsetX,r.offsetY),a&&(o=xn(a,o)),e.push(o)}return e}(this,this.points)},t.prototype.measure=function(e){return this.staticSize&&void 0!==this.width&&void 0!==this.height?this.absoluteBounds=new Xi(this.offsetX-this.width*this.pivot.x,this.offsetY-this.height*this.pivot.y,this.width,this.height):(this.isDirt&&(this.transformPath||void 0===this.width||void 0===this.height)&&(!this.absoluteBounds||0===this.absoluteBounds.height)||this.canMeasurePath)&&(this.absoluteBounds=sk(this.data?this.data:"")),this.desiredSize=void 0===this.width?new pi(this.absoluteBounds.width,this.height||this.absoluteBounds.height):void 0===this.height?new pi(this.width||this.absoluteBounds.width,this.absoluteBounds.height):new pi(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.canMeasurePath=!1,this.desiredSize},t.prototype.arrange=function(e){return(this.isDirt||this.actualSize.width!==e.width||this.actualSize.height!==e.height)&&(this.isDirt=!0,this.absolutePath=this.updatePath(this.data,this.absoluteBounds,e),this.staticSize||(this.points=null)),this.actualSize=this.desiredSize,this.updateBounds(),this.isDirt=!1,this.actualSize},t.prototype.updatePath=function(e,i,n){var o,s=!1,a=-i.x,l=-i.y,h=[];return(n.width!==i.width||n.height!==i.height)&&(a=n.width/Number(i.width?i.width:1),l=n.height/Number(i.height?i.height:1),s=!0),h=aL(h=_w(e)),o=(s||this.isDirt)&&this.transformPath?oL(h,a,l,s,i.x,i.y,0,0):kY(h),s=!1,o},t}(Jl),Lfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dL=function(r){function t(){var e=r.call(this)||this;return e.imageSource="",e.imageScale="None",e.imageAlign="None",e.stretch="Stretch",e}return Lfe(t,r),Object.defineProperty(t.prototype,"source",{get:function(){return this.imageSource},set:function(e){this.imageSource=e,this.isDirt=!0},enumerable:!0,configurable:!0}),t.prototype.measure=function(e,i,n){return this.isDirt&&("Stretch"!==this.stretch||void 0===this.width&&void 0===this.height)&&(this.contentSize=function Jme(r,t,e,i){var n="measureElement";window[""+n].style.visibility="visible";var s=window[""+n].children[1];s.setAttribute("src",r);var o=s.getBoundingClientRect();t=new pi(o.width,o.height),window[""+n].style.visibility="hidden";var h=document.createElement("img");return h.setAttribute("src",r),Gd(h,{id:e+"sf-imageNode",style:"display: none;"}),document.body.appendChild(h),h.onload=function(c){var u=c.currentTarget;i&&i(e,{width:u.width,height:u.height})},t}(this.source,this.contentSize,i,n),this.isDirt=!1),void 0!==this.width&&void 0!==this.height?(this.desiredSize=new pi(this.width,this.height),this.contentSize=this.desiredSize):this.desiredSize=this.contentSize,this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new pi(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(Jl),kfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fl=function(r){function t(e,i){var n=r.call(this)||this;return n.data="",n.nodeId="",n.diagramId="",n.scale="Stretch",n.diagramId=i,n.nodeId=e,n}return kfe(t,r),Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.canReset||(this.canReset=!0,this.template=Hb(this,!1),this.canReset=!1,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){if(this.isDirt){var i=function Kme(r){var t="measureElement";window[t].style.visibility="visible";var e=window[t].children[2];e.appendChild(r);var i=r.getBoundingClientRect(),n=e.getBoundingClientRect(),s=i;return s.x=i.left-n.left,s.y=i.top-n.top,e.removeChild(r),window[t].style.visibility="hidden",s}(this.template);this.contentSize=new pi,this.contentSize.width=i.width,this.contentSize.height=i.height,this.templatePosition={x:i.x,y:i.y},this.isDirt=!1}if(void 0===this.width||void 0===this.height){var o=function eye(r){var t="measureElement";window[t].style.visibility="visible";var e=window[t].children[2];e.appendChild(r);var i=e.getBoundingClientRect();return e.removeChild(r),window[t].style.visibility="hidden",i}(this.template);this.desiredSize=new pi(o.width,o.height)}else this.desiredSize=new pi(this.width,this.height);return this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new pi(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(Jl),xB=!1;function pL(r,t,e,i,n){return Vx=e+t==="topright"?void 0:n,Vx=n,xB=!!i,r?(t||(t="left"),e||(e="top"),Wx=r.ownerDocument,jY=r,function Nfe(r,t,e){switch(Dv=jY.getBoundingClientRect(),t+r){case"topcenter":Tv(AB(),e),Ev(fL(),e);break;case"topright":Tv(EB(),e),Ev(fL(),e);break;case"centercenter":Tv(AB(),e),Ev(TB(),e);break;case"centerright":Tv(EB(),e),Ev(TB(),e);break;case"centerleft":Tv(gL(),e),Ev(TB(),e);break;case"bottomcenter":Tv(AB(),e),Ev(DB(),e);break;case"bottomright":Tv(EB(),e),Ev(DB(),e);break;case"bottomleft":Tv(gL(),e),Ev(DB(),e);break;default:Tv(gL(),e),Ev(fL(),e)}return e}(t.toLowerCase(),e.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function Tv(r,t){t.left=r}function Ev(r,t){t.top=r}function HY(){return Wx.documentElement.scrollTop||Wx.body.scrollTop}function UY(){return Wx.documentElement.scrollLeft||Wx.body.scrollLeft}function DB(){return xB?Dv.bottom:Dv.bottom+HY()}function TB(){return fL()+Dv.height/2}function fL(){return xB?Dv.top:Dv.top+HY()}function gL(){return Dv.left+UY()}function EB(){return Dv.right+UY()-(Vx?Vx.width:0)}function AB(){return gL()+Dv.width/2}function VY(){return Hd.getBoundingClientRect().width}function WY(){return Hd.getBoundingClientRect().height}function YY(){return Hd.getBoundingClientRect().left}function GY(){return Hd.getBoundingClientRect().top}function XY(){return Hd?GY():0}function QY(){return Hd?YY():0}function $Y(){return Hd?LB()+YY()+VY():LB()+JY()}function qY(){return Hd?OB()+GY()+WY():OB()+ZY()}function OB(){return Bw.documentElement.scrollTop||Bw.body.scrollTop}function LB(){return Bw.documentElement.scrollLeft||Bw.body.scrollLeft}function ZY(){return window.innerHeight}function JY(){var r=window.innerWidth;return r-(r-(v(document.documentElement)?0:document.documentElement.offsetWidth))}var eG="e-tip-content",Yx="e-arrow-tip",tG="e-arrow-tip-outer",kB="e-arrow-tip-inner",Gx="e-tip-bottom",NB="e-tip-top",iG="e-tip-left",PB="e-tip-right",Xx="e-popup-open",_B="e-popup-close",rG=function(){function r(t){this.isBlazorTooltip=!1,this.contentEvent=null,this.width="auto",this.height="auto",this.content="",this.target="",this.position="TopCenter",this.offsetX=0,this.offsetY=0,this.tipPointerPosition="Auto",this.openDelay=0,this.closeDelay=0,this.cssClass="",this.element=t,this.tipClass=Gx,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0,this.showTipPointer=!0}return r.prototype.open=function(t,e,i){v(this.animation.open)&&(this.animation.open=this.element.tooltip&&this.element.tooltip.animation&&this.element.tooltip.animation.open),this.showTooltip(t,e)},r.prototype.updateTooltip=function(t){this.tooltipEle&&(this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),this.reposition(t),this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY))},r.prototype.formatPosition=function(){var t,e;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=t[0],this.tooltipPositionX=t[1]):(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=e[0],this.tooltipPositionY=e[1])},r.prototype.destroy=function(){},r.prototype.close=function(){if(this.tooltipEle){Ae([this.tooltipEle],_B),be([this.tooltipEle],Xx),Ro.stop(this.tooltipEle);var t=void 0,e=this;e.isHidden=!0,this.animation.close&&(t={name:this.animation.close.effect,duration:this.animation.close.duration||0,delay:this.animation.close.delay||0,timingFunction:"easeOut"}),v(t)?(Ae([this.tooltipEle],"e-popup-open"),be([this.tooltipEle],"e-popup-close"),bn(this.tooltipEle),this.tooltipEle=null):(t.end=function(){e.isHidden&&(bn(e.tooltipEle),e.tooltipEle=null)},new Ro(t).animate(this.tooltipEle))}},r.prototype.showTooltip=function(t,e,i){var n=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:t,event:i||null,element:this.tooltipEle,isInteracted:!v(i)},this.element.trigger("beforeRender",this.tooltipEventArgs,function(o){n.beforeRenderCallback(o,t,i,e)}.bind(this))},r.prototype.beforeRenderCallback=function(t,e,i,n){this.formatPosition(),t.cancel?this.isHidden=!0:(this.isHidden=!1,v(this.tooltipEle)?(this.ctrlId=this.element.element.id,this.tooltipEle=Lr("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+si(this.width)+";height:"+si(this.height)+";position:absolute; pointer-events:none;"}),this.beforeRenderBlazor(e,this),Ro.stop(this.tooltipEle),this.afterRenderBlazor(e,i,n,this)):e&&(this.addDescribedBy(e,this.ctrlId+"_content"),this.renderContent(e),Ro.stop(this.tooltipEle),this.reposition(e),this.afterRenderBlazor(e,i,n,this),this.adjustArrow(e,this.position,this.tooltipPositionX,this.tooltipPositionY)))},r.prototype.afterRenderBlazor=function(t,e,i,n){var s=this;if(t){Ae([n.tooltipEle],Xx),be([n.tooltipEle],_B),n.tooltipEventArgs={type:e?e.type:null,cancel:!1,target:t,event:e||null,element:n.tooltipEle,isInteracted:!v(e)};var o=void 0;this.animation.open&&(o={name:this.animation.open.effect,duration:this.animation.open.duration||0,delay:this.animation.open.delay||0,timingFunction:"easeIn"}),v(o)?(Ae([n.tooltipEle],_B),be([n.tooltipEle],Xx)):(o.begin=function(){Ae([n.tooltipEle],"e-popup-close"),be([n.tooltipEle],"e-popup-open")},o.end=function(){s.element.trigger("open")},new Ro(o).animate(this.tooltipEle))}},r.prototype.setTipClass=function(t){this.tipClass=0===t.indexOf("Right")?iG:0===t.indexOf("Bottom")?NB:0===t.indexOf("Left")?PB:Gx},r.prototype.renderArrow=function(){this.setTipClass(this.position);var t=Lr("div",{className:Yx+" "+this.tipClass});t.appendChild(Lr("div",{className:tG+" "+this.tipClass})),t.appendChild(Lr("div",{className:kB+" "+this.tipClass})),this.tooltipEle.appendChild(t)},r.prototype.getTooltipPosition=function(t){this.tooltipEle.style.display="block";var e=pL(t,this.tooltipPositionX,this.tooltipPositionY),i=this.calculateTooltipOffset(this.position),n=this.collisionFlipFit(t,e.left+i.left,e.top+i.top);return this.tooltipEle.style.display="",n},r.prototype.checkCollision=function(t,e,i){var n={left:e,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},s=function _fe(r,t,e,i){void 0===t&&(t=null);var n=pL(r,"left","top");e&&(n.left=e),i&&(n.top=i);var s=[];Hd=t,Bw=r.ownerDocument;var o=r.getBoundingClientRect(),l=n.left,h=n.left+o.width,u=function zfe(r,t){var e=!1,i=!1;return r-OB()<XY()&&(e=!0),t>qY()&&(i=!0),{topSide:e,bottomSide:i}}(n.top,n.top+o.height),d=function Rfe(r,t){var e=!1,i=!1;return r-LB()<QY()&&(e=!0),t>$Y()&&(i=!0),{leftSide:e,rightSide:i}}(l,h);return u.topSide&&s.push("top"),d.rightSide&&s.push("right"),d.leftSide&&s.push("left"),u.bottomSide&&s.push("bottom"),s}(this.tooltipEle,this.target?this.element.element:null,e,i);return s.length>0&&(n.horizontal=s.indexOf("left")>=0?"Right":s.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=s.indexOf("top")>=0?"Bottom":s.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n},r.prototype.collisionFlipFit=function(t,e,i){var n=this.checkCollision(t,e,i),s=n.position;if(this.tooltipPositionY!==n.vertical&&(s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(0===s.indexOf("Left")&&(n.vertical="LeftTop"===s||"LeftCenter"===s?"Top":"Bottom",s=n.vertical+"Left"),0===s.indexOf("Right")&&(n.vertical="RightTop"===s||"RightCenter"===s?"Top":"Bottom",s=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:t,event:null,element:this.tooltipEle,collidedPosition:s},this.element.trigger("beforeCollision",this.tooltipEventArgs),n.position!==s){var o=pL(t,n.horizontal,n.vertical);this.adjustArrow(t,s,n.horizontal,n.vertical);var a=this.calculateTooltipOffset(s);a.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(s.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,a.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(s.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,n.position=s,n.left=o.left+a.left,n.top=o.top+a.top}else this.adjustArrow(t,s,n.horizontal,n.vertical);var l={left:n.left,top:n.top},h=function Pfe(r,t,e,i){if(void 0===t&&(t=null),void 0===e&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Hd=t,Bw=r.ownerDocument,i||(i=pL(r,"left","top")),e.X){var s=Hd?VY():JY(),o=QY(),a=$Y(),l=o-i.left,h=i.left+n.width-a;n.width>s?i.left=l>0&&h<=0?a-n.width:h>0&&l<=0?o:l>h?a-n.width:o:l>0?i.left+=l:h>0&&(i.left-=h)}if(e.Y){var c=Hd?WY():ZY(),u=XY(),d=qY(),p=u-i.top,f=i.top+n.height-d;n.height>c?i.top=p>0&&f<=0?d-n.height:f>0&&p<=0?u:p>f?d-n.height:u:p>0?i.top+=p:f>0&&(i.top-=f)}return i}(this.tooltipEle,this.target?this.element.element:null,{X:!0,Y:!1},l).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===s.indexOf("Bottom")||0===s.indexOf("Top"))){var c=this.tooltipEle.querySelector("."+Yx),u=parseInt(c.style.left,10)-(h-n.left);u<0?u=0:u+c.offsetWidth>this.tooltipEle.clientWidth&&(u=this.tooltipEle.clientWidth-c.offsetWidth),c.style.left=u.toString()+"px"}return this.tooltipEle.style.display="",l.left=h,l},r.prototype.calculateTooltipOffset=function(t){var e={top:0,left:0},i=this.tooltipEle.offsetWidth,n=this.tooltipEle.offsetHeight,s=this.tooltipEle.querySelector("."+Yx),o=s?s.offsetWidth:0,a=s?s.offsetHeight:0,l=this.showTipPointer?0:8,h=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(t){case"RightTop":e.left+=o+l,e.top-=n-h;break;case"RightCenter":e.left+=o+l,e.top-=n/2;break;case"RightBottom":e.left+=o+l,e.top-=h;break;case"BottomRight":e.top+=a+l,e.left-=c;break;case"BottomCenter":e.top+=a+l,e.left-=i/2;break;case"BottomLeft":e.top+=a+l,e.left-=i-c;break;case"LeftBottom":e.left-=o+i+l,e.top-=h;break;case"LeftCenter":e.left-=o+i+l,e.top-=n/2;break;case"LeftTop":e.left-=o+i+l,e.top-=n-h;break;case"TopLeft":e.top-=n+a+l,e.left-=i-c;break;case"TopRight":e.top-=n+a+l,e.left-=c;break;default:e.top-=n+a+l,e.left-=i/2}return e.left+=this.offsetX,e.top+=this.offsetY,e},r.prototype.reposition=function(t){var e=this.getTooltipPosition(t);this.tooltipEle.style.left=e.left+"px",this.tooltipEle.style.top=e.top+"px"},r.prototype.beforeRenderBlazor=function(t,e){if(t){Ue.isDevice&&be([e.tooltipEle],"e-bigger"),"auto"!==e.width&&(e.tooltipEle.style.maxWidth=si(e.width)),e.tooltipEle.appendChild(Lr("div",{className:eG+" e-diagramTooltip-content"})),document.body.appendChild(e.tooltipEle),be([e.tooltipEle],Xx),Ae([e.tooltipEle],"e-hidden"),e.addDescribedBy(t,e.ctrlId+"_content"),e.renderContent(t),be([e.tooltipEle],Xx),this.showTipPointer&&e.renderArrow();var i=this.getTooltipPosition(t);this.tooltipEle.classList.remove("e-lib"),this.tooltipEle.style.left=i.left+"px",this.tooltipEle.style.top=i.top+"px",e.reposition(t),e.adjustArrow(t,e.position,e.tooltipPositionX,e.tooltipPositionY)}},r.prototype.addDescribedBy=function(t,e){var i=(t.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(e)<0&&i.push(e),wi(t,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":e})},r.prototype.renderContent=function(t){var e=this.tooltipEle.querySelector("."+eG);this.cssClass&&be([this.tooltipEle],this.cssClass.split(" ")),t&&!v(t.getAttribute("title"))&&(t.setAttribute("data-content",t.getAttribute("title")),t.removeAttribute("title")),v(this.content)?t&&!v(t.getAttribute("data-content"))&&(e.innerHTML=t.getAttribute("data-content")):(e.innerHTML="",this.content instanceof HTMLElement?e.appendChild(this.content):"string"==typeof this.content&&this.content.indexOf("<div>Blazor")<0?e.innerHTML=this.content:(Yi(wn(this.content)({},null,null,this.element.element.id+"content"),e),"string"==typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0,rw(this.element.element.id+"content","Content",this))))},r.prototype.updateTipPosition=function(t){var e=this.tooltipEle.querySelectorAll("."+Yx+",."+tG+",."+kB);Ae(e,[Gx,NB,iG,PB]),this.setTipClass(t),be(e,this.tipClass)},r.prototype.adjustArrow=function(t,e,i,n){if(this.showTipPointer){var s,o;this.updateTipPosition(e),this.tooltipEle.style.display="block";var p,a=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,h=this.tooltipEle.querySelector("."+Yx),c=this.tooltipEle.querySelector("."+kB),u=h.offsetWidth,d=h.offsetHeight;this.tooltipEle.style.display="",this.tipClass===Gx||this.tipClass===NB?(this.tipClass===Gx?(o="99.9%",c.style.top="-"+(d-2)+"px"):(o=-(d-1)+"px",c.style.top="-"+(d-6)+"px"),t&&(s=(p="Center"!==i||a>t.offsetWidth)&&"Left"===i||!p&&"End"===this.tipPointerPosition?a-u-2+"px":p&&"Right"===i||!p&&"Start"===this.tipPointerPosition?"2px":a/2-u/2+"px")):(this.tipClass===PB?(s="99.9%",c.style.left="-"+(u-2)+"px"):(s=-(u-1)+"px",c.style.left=u-2-u+"px"),o=(p="Center"!==n||l>t.offsetHeight)&&"Top"===n||!p&&"End"===this.tipPointerPosition?l-d-2+"px":p&&"Bottom"===n||!p&&"Start"===this.tipPointerPosition?"2px":l/2-d/2+"px"),h.style.top=o,h.style.left=s}},r.prototype.getModuleName=function(){return"BlazorTooltip"},r}(),Yfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Av=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Qx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Yfe(t,r),Av([O("")],t.prototype,"content",void 0),Av([O("TopLeft")],t.prototype,"position",void 0),Av([O("Mouse")],t.prototype,"relativeMode",void 0),Av([O(!0)],t.prototype,"showTipPointer",void 0),Av([O("auto")],t.prototype,"width",void 0),Av([O("auto")],t.prototype,"height",void 0),Av([O("Auto")],t.prototype,"openOn",void 0),Av([O()],t.prototype,"animation",void 0),Av([O(!1)],t.prototype,"isSticky",void 0),t}(ii);function sG(r){var t;if(ge())t=new rG(r),t=zB(r.tooltip,t);else{var e=new Gu;e=zB(r.tooltip,e),(t=new Gu(e)).beforeCollision=Xfe,t.beforeOpen=Gfe,t.cssClass="e-diagram-tooltip",t.opensOn="custom",t.appendTo("#"+r.element.id),t.close()}return t}function Gfe(r){(""===this.content||void 0===this.content)&&(r.element.style.display="none")}function Xfe(r){r.collidedPosition&&r.collidedPosition!==this.position&&(r.element.style.display="none")}function RB(r,t){var e=r.tooltipObject;return zB(t?t.tooltip:r.tooltip,e),e}function zB(r,t){return r.content?(t.content=r.content,"string"==typeof r.content&&(t.content=Ed(function(){return r.content})),t.position=r.position,t.showTipPointer=r.showTipPointer,t.width=r.width,t.height=r.height,t.animation=r.animation?r.animation:{close:{effect:"None"}}):t.close(),t}var BB=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kl=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mL=function(r){function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.inEdges=[],o.outEdges=[],o}return BB(t,r),Kl([O("")],t.prototype,"id",void 0),Kl([O("Center")],t.prototype,"horizontalAlignment",void 0),Kl([O("Center")],t.prototype,"verticalAlignment",void 0),Kl([Lt({},_l)],t.prototype,"margin",void 0),Kl([O(12)],t.prototype,"width",void 0),Kl([O(12)],t.prototype,"height",void 0),Kl([Lt({},wy)],t.prototype,"style",void 0),Kl([O("Square")],t.prototype,"shape",void 0),Kl([O(zi.Connect)],t.prototype,"visibility",void 0),Kl([O("")],t.prototype,"pathData",void 0),Kl([O(kr.Default)],t.prototype,"constraints",void 0),Kl([O()],t.prototype,"addInfo",void 0),Kl([O()],t.prototype,"outEdges",void 0),Kl([O()],t.prototype,"inEdges",void 0),Kl([Lt({},Qx)],t.prototype,"tooltip",void 0),t}(ii),ac=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return BB(t,r),t.prototype.getClassName=function(){return"PointPort"},Kl([Lt({x:.5,y:.5},Be)],t.prototype,"offset",void 0),t}(mL),Iy=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return BB(t,r),t.prototype.getClassName=function(){return"PathPort"},Kl([O(.5)],t.prototype,"offset",void 0),Kl([Lt({x:0,y:0},Be)],t.prototype,"displacement",void 0),Kl([O("Center")],t.prototype,"alignment",void 0),t}(mL),yL=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qo=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Qfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return yL(t,r),Qo([O("blue")],t.prototype,"color",void 0),Qo([O("")],t.prototype,"content",void 0),Qo([O("")],t.prototype,"link",void 0),Qo([O("None")],t.prototype,"textDecoration",void 0),Qo([O("NewTab")],t.prototype,"hyperlinkOpenState",void 0),t}(ii),bL=function(r){function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return n.id||(o.id=e.parentObj&&e.parentObj.propName&&"phases"===e.parentObj.propName?e.parentObj.id:kn()),o}return yL(t,r),Qo([O("")],t.prototype,"content",void 0),Qo([O(void 0)],t.prototype,"template",void 0),Qo([O("String")],t.prototype,"annotationType",void 0),Qo([O(!0)],t.prototype,"visibility",void 0),Qo([O(Rl.InheritReadOnly)],t.prototype,"constraints",void 0),Qo([Lt(void 0,Qfe)],t.prototype,"hyperlink",void 0),Qo([O("")],t.prototype,"id",void 0),Qo([O()],t.prototype,"width",void 0),Qo([O()],t.prototype,"height",void 0),Qo([O(0)],t.prototype,"rotateAngle",void 0),Qo([Lt({strokeWidth:0,strokeColor:"transparent",fill:"transparent"},Eb)],t.prototype,"style",void 0),Qo([O("Center")],t.prototype,"horizontalAlignment",void 0),Qo([O("Center")],t.prototype,"verticalAlignment",void 0),Qo([Lt({},_l)],t.prototype,"margin",void 0),Qo([Lt({top:void 0,bottom:void 0,left:void 0,right:void 0},_l)],t.prototype,"dragLimit",void 0),Qo([O("Shape")],t.prototype,"type",void 0),Qo([O()],t.prototype,"addInfo",void 0),t}(ii),qu=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return yL(t,r),t.prototype.getClassName=function(){return"ShapeAnnotation"},Qo([Lt({x:.5,y:.5},Be)],t.prototype,"offset",void 0),t}(bL),zl=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return yL(t,r),t.prototype.getClassName=function(){return"PathAnnotation"},Qo([O(.5)],t.prototype,"offset",void 0),Qo([Lt({x:0,y:0},Be)],t.prototype,"displacement",void 0),Qo([O("Center")],t.prototype,"alignment",void 0),Qo([O(!1)],t.prototype,"segmentAngle",void 0),t}(bL);function FB(r){return Jfe[r.toString()]}function oG(r){return tge[""+r]}var Jfe={X:"M14,14 L106,106 M106,14 L14,106",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Square:"M0,0 L10,0 L10,10 L0,10 z"},Kfe={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z"},ege={Square:"M0,0 L10,0 L10,10 L0,10 z",Rhombus:"M10,5 L5,10 L0,5 L5,0 L10,5 Z ",Rectangle:"M0,0 L15,0 L15,10 L0,10 z ",OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Fletch:"M9.82,0 C9.82,0,6.61,5,10,10 C10,10,7.71,5,0,5 C0,5,6.61,5,9.82,0 Z ",OpenFetch:"M0.71,5.71 C0.29,5.71,0,5.43,0,5 C0,4.57,0.29,4.29,0.71,4.29 C8.5,4.29,8.57,0.71,8.57,0.71 C8.57,0.29,8.86,0,9.29,0 C9.719999999999999,0,10,0.29,10,0.71 C10,0.93,9.93,5.71,0.71,5.71 C0.71,5.71,0.71,5.71,0.71,5.71 Z M9.29,10 C8.93,10,8.57,9.71,8.57,9.29 C8.57,9.14,8.36,5.71,0.71,5.71 C0.29,5.71,0,5.36,0,5 C0,4.64,0.29,4.29,0.71,4.29 C0.71,4.29,0.71,4.29,0.71,4.29 C9.93,4.29,10,9.07,10,9.29 C10,9.71,9.71,10,9.29,10 Z ",IndentedArrow:"M10,0 C10,0,6.25,4.58,10,10 L0,5 L10,0 Z ",OutdentedArrow:"M8,0 C8,0,12.5,5,8,10 L0,5 L8,0 Z ",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M10,5 L5,10 L0,5 L5,0 L10,5 Z  ",Circle:"M10,5 C10,7.76,7.76,10,5,10 C2.24,10,0,7.76,0,5 C0,2.24,2.24,0,5,0 C7.76,0,10,2.24,10,5 Z ",Ellipse:"M15,5 C15,7.76,11.64,10,7.5,10 C3.36,10,0,7.76,0,5 C0,2.24,3.36,0,7.5,0 C11.64,0,15,2.24,15,5 Z  "},tge={Square:"M0,0 L10,0 L10,10 L0,10 z",Rhombus:"M10,5 L5,10 L0,5 L5,0 L10,5 Z ",Rectangle:"M0,0 L15,0 L15,10 L0,10 z",OpenArrow:"M23,15.9 L16,5 L9,15.9 L10.7,17 L16,8.7 L21,17.3Z",Fletch:"M9.82,0 C9.82,0,6.61,5,10,10 C10,10,7.71,5,0,5 C0,5,6.61,5,9.82,0 Z ",OpenFetch:"M0.71,5.71 C0.29,5.71,0,5.43,0,5 C0,4.57,0.29,4.29,0.71,4.29 C8.5,4.29,8.57,0.71,8.57,0.71 C8.57,0.29,8.86,0,9.29,0 C9.719999999999999,0,10,0.29,10,0.71 C10,0.93,9.93,5.71,0.71,5.71 C0.71,5.71,0.71,5.71,0.71,5.71 Z M9.29,10 C8.93,10,8.57,9.71,8.57,9.29 C8.57,9.14,8.36,5.71,0.71,5.71 C0.29,5.71,0,5.36,0,5 C0,4.64,0.29,4.29,0.71,4.29 C0.71,4.29,0.71,4.29,0.71,4.29 C9.93,4.29,10,9.07,10,9.29 C10,9.71,9.71,10,9.29,10 Z ",IndentedArrow:"M10,0 C10,0,6.25,4.58,10,10 L0,5 L10,0 Z ",OutdentedArrow:"M8,0 C8,0,12.5,5,8,10 L0,5 L8,0 Z ",DoubleArrow:"M10,19 L22,19 L16,13Z M10,12 L22,12 L16,6Z",Arrow:"M10,15 L22,15 L16,5Z",Diamond:"M10,5 L5,10 L0,5 L5,0 L10,5 Z ",Circle:"M10,5 C10,7.76,7.76,10,5,10 C2.24,10,0,7.76,0,5 C0,2.24,2.24,0,5,0 C7.76,0,10,2.24,10,5 Z ",Ellipse:"M15,5 C15,7.76,11.64,10,7.5,10 C3.36,10,0,7.76,0,5 C0,2.24,3.36,0,7.5,0 C11.64,0,15,2.24,15,5 Z   "};function jB(r){return ige[r.toString()]}var ige={Process:"M419.511,76.687L359.511,76.687L359.511,43.086L419.511,43.086z",Decision:"M 253.005,115.687L 200.567,146.071L 148.097,115.687L 200.534,85.304L 253.005,115.687 Z",Document:"M 60 31.9 c 0 0 -11 -7.7 -30 0 s -30 0 -30 0 V 0 h 60 V 31.9 Z",PreDefinedProcess:"M 0,0 L 50,0 L 50,50 L 0,50 Z  M 8.334,0 L 8.334,50 M 41.667,0 L 41.667,50",Terminator:"M 269.711,29.33C 269.71,44.061 257.77,56 243.04,56L 158.058,56C 143.33,56 131.39,44.061 131.39,29.33L 131.39,29.33C 131.391,14.6057 143.33,2.669 158.058,2.669L 243.044,2.669C 257.772,2.669 269.711,14.6057 269.711,29.333 Z",PaperTap:"M0.0009,17.2042 L0.0009,47.165 C0.001,47.165 14.403,53.5455 25.00,47.165 C35.599,40.7852 44.403,43.5087 50.00,47.165L50.001,17.2042 M50.001,32.7987 L50.001,2.8405 C50.001,2.8405 35.599,-3.5427 25.001,2.8405C14.403,9.2237 5.599,6.494 0.0009,2.8405 L0.0009,32.7987",DirectData:"M 132.62 0 L 17.38 0 C 7.78 0 0 13.43 0 30 C 0 46.57 7.78 60 17.38 60 L 132.62 60 M 132.62 0C 123.02 0 115.24 13.43 115.24 30 C 115.24 46.57 123.02 60 132.62 60 C 142.22 60 150 46.57 150 30 C 150 13.43 142.22 0 132.62 0 z ",SequentialData:"M0.0029,24.999 C0.0029,11.1922 10.433,0.0021 23.295,0.0021 C36.159,0.00216 46.585,11.1922 46.585,24.999C46.585,38.8057 36.159,49.9979 23.295,49.9979 C10.433,49.9979 0.0029,38.8057 0.0029,24.999 z M23.294,49.999 L50.002,49.999",Sort:"M50.001,24.9971 L25.001,49.9971 L0.00097,24.9971 L25.001,-0.00286865 L50.001,24.9971 z M0.000976562,24.9971 L50.001,24.9971",MultiDocument:"M43.6826,40 C44.8746,40.6183 45.8586,41.3502 46.8366,42.1122 L46.8366,4.74487 L3.09857,4.74487 L3.09857,10.9544 M46.837,35.143 C48.027,35.765 49.025,36.604 50.003,37.369 L50.003,0.002 L6.264,0.002 L6.264,4.744 M43.682,47.113 L43.682,10.765 L0.0025,10.7652 L0.0025,47.1132 C0.0025,47.1132 12.5846,53.6101 21.8426,47.1132 C31.1006,40.6163 38.792,43.393 43.6826,47.1132 z",Collate:"M50.001,0.0028 L25.001,25.0029 L0.00097,0.0028 L50.001,0.002 z M0.0009,50.002 L25.001,25.002L50.001,50.002 L0.0009,50.0029 z",SummingJunction:"M7.3252,42.6768 L42.6772,7.3247 M42.6768,42.6768 L7.3248,7.3247 M0.0009,25.001 C0.0009,11.193 11.197,0.0009 25.001,0.0009 C38.809,0.0009 50.001,11.193 50.001,25.001 C50.001,38.809 38.809,50.001 25.001,50.001 C11.197,50.00 0.0009,38.809 0.0009,25.00 z",Or:"M 0 50 L 100 50 M 50 100 L 50 0.0 M 0 50 C 0 22.384 22.392 0 50 0 C 77.616 0 100 22.384 100 50 C 100 77.616 77.616 100 50 100 C 22.392 100 0 77.616 0 50 Z",InternalStorage:"M 0 3.81946A 2.5,3.81946 0 0,1 2.5,0L 47.5 0A 2.5,3.81946 0 0,1 50,3.81946L 50 45.836A 2.5,3.819446 0 0,1 47.5,49.652778L 2.5 49.652778A 2.5,3.819446 0 0,1 0,45.8336L 0 3.819446ZM 0 11.45834L 50 11.4583334M 12.5 0L 12.5 49.652778",Extract:"M0,35 L30,0 L60,35 Z",ManualOperation:"M46.4,28.8 L14.8,28.8 L0,0 L60,0 Z",Merge:"M60,0 L30,35 L0,0 Z",OffPageReference:"M60,33.3 L30.1,39 L0,33.3 L0,0 L60,0 Z",SequentialAccessStorage:"M 60 30 C 60 13.4 46.6 0 30 0 S 0 13.4 0 30 s 13.4 30 30 30 h 28.6 v -6.5 h -9.9C 55.5 48 60 39.5 60 30 Z",Annotation:"M49.9984,50.0029 L-0.00271199,50.0029 L-0.00271199,0.00286865 L49.9984,0.00286865",Annotation2:"M49.9977,50.0029 L25.416,50.0029 L25.416,0.00286865 L49.9977,0.00286865 M25.4166,25.0029 L-0.00227869,25.0029",Data:"M 10 0 L 40 0 L 30 40 L 0 40 Z",Card:"M275,60 L400,60 L400,110 L260,110 L260,75 Z",Delay:"M0,0 L12.029,0 C14.212999,0 16,1.7869979 16,3.9709952 C16,6.1549926 14.212999,7.9409904 12.029,7.9409904 L0,7.9409904 z",Preparation:"M 1048.17 572 C 1051.06 568.86 1055.17 567.05 1059.5 567 L 1094.51 567 C 1098.84 567.05 1102.95 568.86 1105.84 572 L 1126.43 595 C 1127.01 596.28 1127.01 597.72 1126.43 599 L 1105.84 622 C 1102.95 625.14 1098.84 626.95 1094.51 627 L 1059.5 627 C 1055.17 626.95 1051.06 625.14 1048.17 622 L 1027.58 599 C 1027 597.72 1027 596.28 1027.58 595 L 1048.17 572 Z",Display:"M47.8809,19.2914 L32.7968,-0.00594145 L11.3902,-0.00594145 C7.93166,-0.00594145 0.00124586,11.187 0.00124586,24.9968C0.00124586,38.8032 7.93166,49.9962 11.3902,49.9962 L32.7968,49.99 L47.615,31.038 C47.615,31.0388 52.798,24.9968 47.880,19.2914 z",ManualInput:"M 912 732 L 1006.85 707 C 1008.2 707 1009.5 707.53 1010.46 708.46 C 1011.41 709.4 1011.95 710.67 1011.95 712 L 1011.95 762C 1012 764.41 1010.28 766.52 1007.87 767 L 917.1 767 C 915.75 767 914.45 766.47 913.49 765.54 C 912.54 764.6 912 763.33 912 762 L 912 732 Z",LoopLimit:"M 8 9 L 27 9 L 33 15 L 33 26 C 33 27 33 27 32 27 L 4 27 C 3 27 2 27 2 26 L 2 15 L 8 9 Z",StoredData:"M 5.55 0L 50 0A 1.5,30 0 0,1 50,0A 5.555,25 0 0,0 50,50A 1.5,30 0 0,1 50,50L 5.555 50A 5.55,25 0 0,1 5.555,0Z"};function aG(r,t,e){var i;i="Straight"!==r.type&&r.sourceWrapper?r.sourceWrapper.corners.center:function nge(r){var t;if(r.sourcePortWrapper){var e=r.sourcePortWrapper;t={x:e.offsetX,y:e.offsetY}}else t=r.sourceID&&r.sourceWrapper&&r.targetWrapper?Ov(r,0,r.sourceWrapper.corners.center,r.targetWrapper.corners.center,!1):r.sourcePoint;return t}(r);var n=function sge(r,t,e,i,n){var U,Y,s=r.sourceWrapper,o=r.targetWrapper,a=r.sourcePortWrapper,l=r.targetPortWrapper,u=[],f=Gp(r),T={corners:undefined,point:t,direction:undefined,margin:{left:5,right:5,bottom:5,top:5}},P={corners:undefined,point:e,direction:undefined,margin:{left:5,right:5,bottom:5,top:5}};if(void 0!==s&&void 0!==o&&(U=gl(s),Y=gl(o),T.corners=s.corners,P.corners=o.corners),void 0!==a&&(T.direction=Zu({x:a.offsetX,y:a.offsetY},U,s.bounds)),void 0!==l&&(P.direction=Zu({x:l.offsetX,y:l.offsetY},Y,o.bounds)),"Bezier"===r.type&&!r.isBezierEditing&&r.segments.length>0)for(var oe=r.segments.length-1;oe>=0;)r.segments[parseInt(oe.toString(),10)].isInternalSegment&&r.segments.pop(),oe--;if(void 0!==s&&void 0!==o)return(void 0===T.direction||void 0===P.direction)&&(i?function rge(r,t,e){"LeftToRight"===e?(r.direction=r.direction?r.direction:"Right",t.direction=t.direction?t.direction:"Left"):"RightToLeft"===e?(r.direction=r.direction?r.direction:"Left",t.direction=t.direction?t.direction:"Right"):"TopToBottom"===e?(r.direction=r.direction?r.direction:"Bottom",t.direction=t.direction?t.direction:"Top"):"BottomToTop"===e&&(r.direction=r.direction?r.direction:"Top",t.direction=t.direction?t.direction:"Bottom")}(T,P,i):T.corners.top>P.corners.bottom&&Math.abs(T.corners.top-P.corners.bottom)>f?(T.direction=T.direction?T.direction:"Top",P.direction=P.direction?P.direction:"Bottom"):T.corners.bottom<P.corners.top&&Math.abs(T.corners.bottom-P.corners.top)>f?(T.direction=T.direction?T.direction:"Bottom",P.direction=P.direction?P.direction:"Top"):T.corners.right<P.corners.left&&Math.abs(T.corners.right-P.corners.left)>f||T.corners.right+f<P.corners.left||P.corners.right>=T.corners.left-f&&T.corners.left>P.corners.left?(T.direction=T.direction?T.direction:"Right",P.direction=P.direction?P.direction:"Left"):T.corners.left>P.corners.right&&Math.abs(T.corners.left-P.corners.right)>T.margin.left+T.margin.right||P.corners.right+f<T.corners.left||T.corners.right>=P.corners.left-f&&T.corners.left<P.corners.left?(T.direction=T.direction?T.direction:"Left",P.direction=P.direction?P.direction:"Right"):s.id!==o.id&&!U.equals(U,Y)&&Y.containsPoint(U.topCenter,T.margin.top)?(T.direction=T.direction?T.direction:"Bottom",P.direction=P.direction?P.direction:"Top"):(T.direction=T.direction?T.direction:"Top",P.direction=P.direction?P.direction:"Bottom")),function pge(r,t,e,i,n,s){var u,o=r.sourceWrapper,a=r.targetWrapper,l=r.sourcePortWrapper,h=r.targetPortWrapper,c=[],d=o.corners,p=a.corners,T={corners:d,point:i,direction:t,margin:{left:5,right:5,bottom:5,top:5}},P={corners:p,point:n,direction:e,margin:{left:5,right:5,bottom:5,top:5}},U=SL(o,d,r.sourceWrapper.bounds),Y=SL(a,p,r.targetWrapper.bounds),X=!1;if(r.sourceWrapper&&r.targetWrapper&&(X=function uge(r,t,e){for(var i=pG(r,e.sourcePadding),n=pG(t,e.targetPadding),s=0;s<i.length-1;s++)for(var o=i[parseInt(s.toString(),10)],a=0;a<n.length-1;a++)if(cD(o,n[parseInt(a.toString(),10)]).enabled)return!0;return!1}(r.sourceWrapper,r.targetWrapper,r)),void 0!==l){switch(T.point={x:l.offsetX,y:l.offsetY},T.direction){case"Bottom":case"Top":T.point.y=T.point.y;break;case"Left":case"Right":T.point.x=T.point.x}r.sourcePadding&&!X&&(h&&(P.point={x:h.offsetX,y:h.offsetY}),T.point=CL(r,T,P,!1))}else"Orthogonal"===r.type||"Bezier"===r.type?(r.segments&&r.segments.length>0&&r.segments[0].direction&&(T.direction=r.segments[0].direction),T.point=My(U,T.direction),u=My(U,Ch(T.direction)),T.point=Ov(r,0,T.point,u,!1)):T.point=o.corners.center;if(void 0!==h){switch(P.point={x:h.offsetX,y:h.offsetY},P.direction){case"Bottom":case"Top":P.point.y=P.point.y;break;case"Left":case"Right":P.point.x=P.point.x}r.targetPadding&&!X&&(P.point=CL(r,T,P,!0))}else"Orthogonal"===r.type||"Bezier"===r.type?(P.point=My(Y,P.direction),u=My(Y,Ch(P.direction)),P.point=Ov(r,0,P.point,u,!0)):P.point=a.corners.center;if("Orthogonal"!==r.type){var Q=void 0,oe=void 0;if("Bezier"===r.type){if(r.bezierSettings.allowSegmentsReset||0===r.segments.length||!Be.isEmptyPoint(r.segments[r.segments.length-1].point))return c=mG(r,T,P,void 0,s),HB(r,T,P);$x(r)}else $x(r);if(void 0===r.sourcePortWrapper){T.point=T.corners.center,r.segments&&r.segments.length>0&&(Q=Be.isEmptyPoint((oe=r.segments[0]).point)?void 0:oe);var de=void 0!==Q?Q.point:P.point;if("Bezier"===r.type&&r.segments.length>0&&r.segments[0].vector1.angle&&r.segments[0].vector1.distance){var Me=Math.max(T.corners.width,T.corners.height);de=Be.transform(T.point,r.segments[0].vector1.angle,Me/2)}T.point=X?r.sourceWrapper.bounds.center:Ov(r,0,T.point,de,!1)}if(void 0===r.targetPortWrapper){P.point=P.corners.center,r.segments&&r.segments.length>1&&(Q=Be.isEmptyPoint((oe=r.segments[r.segments.length-2]).point)?void 0:oe);var Ve=Q?Q.point:T.point;"Bezier"===r.type&&r.segments.length>0&&r.segments[r.segments.length-1].vector2.angle&&r.segments[r.segments.length-1].vector2.distance&&(Me=Math.max(T.corners.width,T.corners.height),Ve=Be.transform(P.point,r.segments[0].vector2.angle,Me/2)),P.point=X?r.targetWrapper.bounds.center:Ov(r,0,Ve,P.point,!0)}c=HB(r,T,P)}else"Orthogonal"===r.type&&r.segments&&r.segments.length>0&&null!==r.segments[0].direction?c=function gge(r,t,e,i,n,s,o){var a,h,c,u;$x(r);for(var d=0;d<r.segments.length;d++){if(h=r.segments[parseInt(d.toString(),10)],i&&t.direction===Ch(h.direction)&&(h.direction=t.direction),d>0&&r.segments[d-1].direction===h.direction?d=fG(r,d,t):t.point=h.direction?lG(t,r.segments[parseInt(d.toString(),10)]):(p=r.segments[d-1]).points[p.points.length-1],d===r.segments.length-1)if(gG(r,t),dG(a=void 0===n?fge(r,t,e):cG(r,t,e),r),h.points=[],a.length>=2)for(c=0;c<a.length;c++)if(r.selectedSegmentIndex)if(c===a.length-1&&a.length>2&&r.segments.length>2){var f;f={x:a[parseInt(c.toString(),10)].x,y:t.point.y},h.points=[],h.points.push(f),h.points.push(a[parseInt(c.toString(),10)]);var p=r.segments[d-1];r.segments.length<4&&p.points.pop(),p.points=p.points.concat(h.points)}else h.points.push(a[parseInt(c.toString(),10)]);else h.points.push(a[parseInt(c.toString(),10)]);else u=d;if(void 0!==u&&!r.selectedSegmentIndex&&(u===r.segments.length-1&&(r.segments[u-1].direction=null,r.segments[u-1].length=null),r.segments.splice(u,1)),i&&0===d){var m=uG(r,i,s);m&&(t.point=m)}}return vG(r,[])}(r,T,P,l,h,o):(r.segments[0]||(Q=new Ts(r,"segments",{type:"Orthogonal"},!0),r.segments.push(Q)),r.segments[0].points=c=mG(r,T,P,void 0,s));return c}(r,T.direction,P.direction,T.point,P.point,n);if($x(r),(r.sourceWrapper||r.targetWrapper)&&function cge(r,t,e){var i=r.sourcePortWrapper,n=r.targetPortWrapper,s=r.sourceWrapper,o=t.point,a={left:0,right:0,top:0,bottom:0},l={x:0,y:0},c="Top";if(s?(o=e.point,a=t.margin):(s=r.targetWrapper,a=e.margin),"Orthogonal"===r.type)if(r.segments&&r.segments.length>0&&r.sourceWrapper&&r.segments[0].direction)t.direction=r.segments[0].direction,l=Ov(r,0,l=My(s.corners,t.direction),My(s.corners,Ch(t.direction)),!1);else{var d={corners:null,direction:null,point:null,margin:null};qx(s,{corners:null,direction:null,point:o,margin:a},d,r),l=d.point,c=d.direction}else{var p=void 0;r.segments&&r.segments.length>1&&(p=s===r.sourceWrapper?r.segments[0].point:r.segments[r.segments.length-2].point),l=Ov(r,0,s.bounds.center,r.segments&&r.segments.length>1?p:o,s===r.targetWrapper)}s===r.sourceWrapper?(t.direction=t.direction||c,t.point=l,r.sourcePortWrapper&&(t.point={x:i.offsetX,y:i.offsetY},r.sourcePadding&&(t.point=CL(r,t,e,!1)))):(e.direction=e.direction||c,e.point=l,r.targetPortWrapper&&(e.point={x:n.offsetX,y:n.offsetY},r.targetPadding&&(e.point=CL(r,t,e,!0))))}(r,T,P),"Straight"===r.type||"Bezier"===r.type)u=HB(r,T,P);else if("Orthogonal"===r.type&&r.segments&&r.segments.length>0&&null!==r.segments[0].length&&null!==r.segments[0].direction)u=function hge(r,t,e,i,n,s,o){var a,l,c,d,h=[];if($x(r),r.segments.length>0){for(var p=0;p<r.segments.length;p++){var f=r.segments[parseInt(p.toString(),10)];if(0===p&&void 0!==r.sourcePortWrapper&&(c=Zu({x:s.offsetX,y:s.offsetY},gl(i),i.bounds),f.direction===Ch(c)&&(f.direction=c)),p>0&&r.segments[p-1].direction===f.direction)p=fG(r,p,t);else{var m=r.segments[p-1];t.point=f.direction?lG(t,f):m.points[m.points.length-1]}if(p===r.segments.length-1&&(o||n?r.targetWrapper&&void 0===r.targetPortWrapper?(gG(r,t),l=age(r,t,e)):l=cG(r,t,e):l=oge(r,t,e),l))if(dG(l,r),f.points=[],l.length>=2)for(a=0;a<l.length;a++)f.points.push(l[parseInt(a.toString(),10)]);else d=p;if(s&&0===p){var M=uG(r,s,i);M&&(t.point=M)}}void 0!==d&&(d===r.segments.length-1&&(r.segments[d-1].direction=null,r.segments[d-1].length=null),r.segments.splice(d,1)),h=vG(r,h)}return h}(r,T,P,s,o,a,l);else{var Me=void 0;T.direction?Me=SG(s.bounds,T,20):T.direction=P.direction?void 0!==r.targetPortWrapper?P.direction:Ch(P.direction):Be.direction(T.point,P.point),r.segments[0].points=u=lc(r,T,P,Me)}return u}(r,i,r.targetPoint,t,e);return yG(r,n[0],!1),yG(r,n[n.length-1],!0),n}function lG(r,t){r.direction=t.direction,t.points=[],t.points.push(r.point);var n=Bl(r.point,"Left"===t.direction||"Top"===t.direction?-t.length:t.length,"Left"===t.direction||"Right"===t.direction?0:90);return t.points.push(n),n}function oge(r,t,e){var i,n,s,a;return t.corners=r.sourceWrapper?r.sourceWrapper.corners:void 0,r.sourcePortWrapper&&(s=Zu({x:r.sourcePortWrapper.offsetX,y:r.sourcePortWrapper.offsetY},gl(r.sourceWrapper),r.sourceWrapper.bounds),!t.corners||"Bottom"!==t.direction&&"Top"!==t.direction?t.corners&&("Left"===t.direction||"Right"===t.direction)&&e.point.y>t.corners.top&&e.point.y<t.corners.bottom&&(n=t.point.x>e.point.x?"Left":"Right"):e.point.x>t.corners.left&&e.point.x<t.corners.right&&(n=t.point.y>e.point.y?"Top":"Bottom")),r.sourcePortWrapper&&s===Ch(n)?(("Left"===s||"Right"===s)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.center.y&&e.point.y>=t.corners.top&&e.point.y<=t.corners.center.y?(t.direction="Top",a=t.point.y-t.corners.top+20):("Left"===s||"Right"===s)&&t.point.y>t.corners.center.y&&t.point.y<=t.corners.bottom&&e.point.y>t.corners.center.y&&e.point.y<=t.corners.bottom?(t.direction="Bottom",a=t.corners.bottom-t.point.y+20):("Top"===s||"Bottom"===s)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.center.x&&e.point.x>=t.corners.left&&e.point.x<=t.corners.center.x?(t.direction="Left",a=t.point.x-t.corners.left+20):("Top"===s||"Bottom"===s)&&t.point.x<=t.corners.right&&t.point.x>t.corners.center.x&&e.point.x<=t.corners.right&&e.point.x<t.corners.center.x&&(t.direction="Right",a=t.corners.right-t.point.x+20),t.direction&&a&&(i=lc(r,t,e,a,!0))):(t.direction=n||UB(t.direction,t.point,e.point),i=Lv(t,e)),i}function age(r,t,e){var i;e.corners=r.targetWrapper.corners,qx(r.targetWrapper,t,e,r);var n=UB(e.direction,t.point,e.point);return t.direction!==e.direction||"Left"!==t.direction&&"Right"!==t.direction?(t.direction=n,i=Lv(t,e)):(t.direction=n,i=lc(r,t,e,r.targetWrapper.width/2+20),t.point=i[1],qx(r.targetWrapper,t,e,r),i=lc(r,t,e)),i}function hG(r,t,e){var i,n;e.corners=r.targetWrapper.corners,"Left"!==t.direction&&"Right"!==t.direction?e.corners.center.y!==t.point.y||e.corners.left<=t.point.x&&t.point.x<=e.corners.right?e.corners.center.y===t.point.y&&"Bottom"===r.segments[r.segments.length-2].direction||e.corners.center.y>t.point.y&&t.point.y>=e.corners.top?(i="Top",n=t.point.y-e.corners.top+20):e.corners.center.y===t.point.y&&"Top"===r.segments[r.segments.length-2].direction||e.corners.center.y<t.point.y&&t.point.y<=e.corners.bottom?(i="Bottom",n=e.corners.bottom-t.point.y+20):void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&t.corners.top<=t.point.y&&t.point.y<=t.corners.bottom&&(i=t.direction,n=t.point.y>e.point.y?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):(i="Top",n=e.corners.height/2+20):e.corners.center.x!==t.point.x||e.corners.top<t.point.y&&t.point.y<=e.corners.bottom?e.corners.center.x===t.point.x&&"Right"===r.segments[r.segments.length-2].direction||e.corners.center.x>t.point.x&&t.point.x>=e.corners.left?(i="Left",n=t.point.x-e.corners.left+20):e.corners.center.x===t.point.x&&"Left"===r.segments[r.segments.length-2].direction||e.corners.center.x<=t.point.x&&t.point.x<=e.corners.right?(i="Right",n=e.corners.right-t.point.x+20):void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&t.corners.left<=t.point.x&&t.point.x<=t.corners.right&&(i=t.direction,n=t.point.x>e.point.x?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20):(i="Left",n=e.corners.width/2+20);var a=t.point;t.point=Bl(t.point,"Left"===i||"Top"===i?-n:n,"Left"===i||"Right"===i?0:90),t.direction=Be.direction(t.point,e.point),void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&(t.corners.center.x===e.corners.center.x||t.corners.center.y===e.corners.center.y)&&(t.direction=e.direction);var l=lc(r,t,e);return l.splice(0,0,a),l}function cG(r,t,e){var i,n;e.corners=r.targetWrapper.corners,void 0!==r.sourcePortWrapper&&(n=Zu({x:r.sourcePortWrapper.offsetX,y:r.sourcePortWrapper.offsetY},gl(r.sourceWrapper),r.sourceWrapper.bounds));var a=function lge(r,t,e,i){var n=!1;switch(e.direction){case"Left":void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&"Right"===i&&t.point.x>e.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||("Bottom"===i&&t.point.y>e.point.y||"Top"===i&&t.point.y<e.point.y)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction="Right"===i?t.point.y>e.point.y?"Top":"Bottom":t.point.x<e.point.x?"Right":"Left",n=!0):t.point.x>e.point.x&&(t.point.y>e.point.y||t.point.y<e.point.y)&&!(e.corners.top>t.point.y&&e.corners.bottom<t.point.y)?t.direction="Left":t.point.x<e.point.x&&t.point.y>e.point.y||t.point.x>e.point.x&&t.point.y<=e.point.y&&e.corners.top<t.point.y&&e.corners.center.y>=t.point.y?t.direction="Top":t.point.x<e.point.x&&t.point.y<e.point.y||t.point.x>e.point.x&&t.point.y>e.point.y&&e.corners.bottom<t.point.y&&e.corners.center.y>t.point.y?t.direction="Bottom":t.point.y===e.point.y&&t.point.x<e.point.x&&(t.direction="Right");break;case"Right":void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&("Bottom"===i&&t.point.y>e.point.y||"Top"===i&&t.point.y<e.point.y)&&t.point.x>e.point.x&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction=t.point.x>e.point.x?"Left":"Right",n=!0):void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&"Left"===i&&t.point.x<e.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=t.point.y>e.point.y?"Top":"Bottom",n=!0):t.point.x<e.point.x&&e.corners.top<=t.point.y&&e.corners.bottom>=t.point.y&&t.point.y===e.point.y||t.point.y>e.point.y&&t.point.x>e.point.x?t.direction="Top":t.point.y<e.point.y&&t.point.x>e.point.x?t.direction="Bottom":t.point.x<e.point.x&&(t.point.y>e.point.y||t.point.y<e.point.y)?t.direction="Right":t.point.y===e.point.y&&t.point.x>e.point.x&&(t.direction="Left");break;case"Top":void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&"Bottom"===i&&t.point.y>e.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right||("Right"===i&&t.point.x>e.point.x||"Left"===i&&e.point.y>t.point.y&&e.point.x>t.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction="Bottom"===i?t.point.x>e.point.x?"Left":"Right":t.point.y<e.point.y?"Bottom":"Top",n=!0):t.point.x===e.point.x&&t.point.y<e.point.y?t.direction="Bottom":t.point.y>e.point.y&&t.point.x>e.corners.left&&t.point.x<e.corners.right?t.direction="Left":t.point.y>=e.point.y?t.direction="Top":t.point.y<e.point.y&&t.point.x>e.point.x?t.direction="Left":t.point.y<e.point.y&&t.point.x<e.point.x&&(t.direction="Right");break;case"Bottom":void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&(("Right"===i||"Left"===i&&e.point.x>t.point.x)&&t.point.y>e.point.y&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Top"===i&&t.point.y<e.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?(t.direction="Right"===i||"Left"===i?t.point.y>e.point.y?"Top":"Bottom":t.point.x>e.point.x?"Left":"Right",n=!0):t.point.y<e.point.y&&t.point.x>e.corners.left&&e.corners.right>t.point.x?t.point.y<e.point.y&&t.point.x>e.corners.left&&e.corners.center.x>=t.point.x?t.direction="Left":t.point.y<e.point.y&&t.point.x<e.corners.right&&e.corners.center.x<t.point.x&&(t.direction="Right"):t.point.y>e.point.y&&t.point.x>e.point.x?t.direction="Left":t.point.y>e.point.y&&t.point.x<e.point.x?t.direction="Right":t.point.y<=e.point.y&&(t.point.x>e.point.x||e.point.x>t.point.x)&&(t.direction="Bottom")}return n}(r,t,e,n);return!r.selectedSegmentIndex&&void 0!==r.sourcePortWrapper&&void 0!==r.targetPortWrapper&&e.direction===Ch(n)&&(("Left"===e.direction&&t.point.x>e.point.x||"Right"===e.direction&&t.point.x<e.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Bottom"===e.direction&&t.point.y<e.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?i=hG(r,t,e):r.selectedSegmentIndex||t.direction!==e.direction?!r.selectedSegmentIndex&&("Left"===e.direction&&t.point.x>e.point.x||"Right"===e.direction&&t.point.x<e.point.x)&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.y<=e.point.y&&e.corners.top<=t.point.y&&e.corners.bottom>=t.point.y||"Top"===e.direction&&t.point.y>e.point.y||"Bottom"===e.direction&&t.point.y<e.point.y&&e.corners.left<=t.point.x&&e.corners.right>=t.point.x?i=r.selectedSegmentIndex?Lv(t,e):hG(r,t,e):!r.selectedSegmentIndex&&void 0!==r.sourceWrapper&&void 0!==r.targetWrapper&&void 0!==r.targetPortWrapper&&("Left"===t.direction||"Right"===t.direction)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom&&("Top"===e.direction||"Bottom"===e.direction)&&e.corners.center.x===t.corners.center.x?(t.direction="Top"===e.direction?"Bottom":"Top",i=lc(r,t,e,"Top"===e.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)):!r.selectedSegmentIndex&&void 0!==r.sourceWrapper&&void 0!==r.targetWrapper&&void 0!==r.targetPortWrapper&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&("Left"===e.direction||"Right"===e.direction)&&e.corners.center.y===t.corners.center.y?(t.direction="Left"===e.direction?"Right":"Left",i=lc(r,t,e,"Left"===e.direction?t.corners.right-t.point.x+20:t.point.x-t.corners.left+20)):i=a?lc(r,t,e,"Left"===t.direction||"Right"===t.direction?"Left"===t.direction?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20:"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):Lv(t,e):i=lc(r,t,e),i}function uG(r,t,e){var n,i={x:t.offsetX,y:t.offsetY},s=gl(e),o=Zu(i,s,e.bounds),a=r.segments[0];return a.direction!==o&&(function vge(r,t,e,i,n,s){var a,h,o=13,l=[];l.push(i),i.y===n.y&&("Left"===t&&n.x<i.x||"Right"===t&&n.x>i.x)||i.x===n.x&&("Top"===t&&n.y<i.y||"Bottom"===t&&n.y>i.y)||("Top"===t||"Bottom"===t?"Top"===t&&n.y<i.y&&n.y>i.y-o||"Bottom"===t&&n.y>i.y&&n.y<i.y+o?(l.push({x:i.x,y:h="Top"===t?e.top-o:e.bottom+o}),l.push({x:i.x+(n.x-i.x)/2,y:h}),l.push({x:i.x+(n.x-i.x)/2,y:n.y})):Math.abs(i.x-n.x)>o&&("Top"===t&&n.y<i.y||"Bottom"===t&&n.y>i.y)?l.push({x:i.x,y:n.y}):(a=n.x<i.x?e.left-o:e.right+o,l.push({x:i.x,y:h="Top"===t?e.top-o:e.bottom+o}),l.push({x:n.x,y:h})):"Left"===t&&n.x<i.x&&n.x>i.x-o||"right"===t&&n.x>i.x&&n.x<i.x+o?(l.push({x:a="Left"===t?e.left-o:e.right+o,y:i.y}),l.push({x:a,y:i.y+(n.y-i.y)/2}),l.push({x:n.x,y:i.y+(n.y-i.y)/2})):Math.abs(i.y-n.y)>o&&("Left"===t&&n.x<i.x||"Right"===t&&n.x>i.x)?l.push({x:n.x,y:i.y}):(l.push({x:a="Left"===t?e.left-o:e.right+o,y:i.y}),l.push({x:a,y:n.y})),s&&(l.push(r.points[0]),l.reverse()),r.points=l)}(a,o,s,a.points[0],a.points[a.points.length-1],!1),n=a.points[a.points.length-1],a.direction=Be.direction(a.points[a.points.length-2],a.points[a.points.length-1])),n}function dG(r,t,e){var s,i=t.segments[t.segments.length-2],n=i.points[i.points.length-1];(("Top"===i.direction||"Bottom"===i.direction)&&n.x===r[1].x||("Left"===i.direction||"Right"===i.direction)&&n.y===r[1].y)&&(i.points[i.points.length-1]=r[1],s=Be.direction(i.points[0],i.points[i.points.length-1]),void 0!==t.sourceWrapper&&void 0===t.sourcePortWrapper&&s===Ch(i.direction)&&("Left"===i.direction||"Right"===i.direction?i.points[0].x="Right"===i.direction?i.points[0].x-t.sourceWrapper.corners.width:i.points[0].x+t.sourceWrapper.corners.width:i.points[0].y="Bottom"===i.direction?i.points[0].y-t.sourceWrapper.corners.height:i.points[0].y+t.sourceWrapper.corners.height),i.direction=s,i.length=Be.distancePoints(i.points[0],i.points[i.points.length-1]),r.splice(0,1))}function CL(r,t,e,i){var o=i?r.targetPadding:r.sourcePadding,a=i?r.targetPortWrapper:r.sourcePortWrapper,l=new Xi(a.bounds.x-o,a.bounds.y-o,a.actualSize.width+2*o,a.actualSize.height+2*o),h=[l.topLeft,l.topRight,l.bottomRight,l.bottomLeft];h[h.length]=h[0];var u=i?e.point:t.point;return VB({x1:t.point.x,y1:t.point.y,x2:e.point.x,y2:e.point.y},h,0,u)||u}function pG(r,t){var e=[],i=gX(0,r.corners,t);i.push(i[0]);for(var n=0;n<i.length-1;n++)e.push(dge(i[parseInt(n.toString(),10)],i[n+1]));return e}function dge(r,t){return{x1:r.x,y1:r.y,x2:t.x,y2:t.y}}function SL(r,t,e){var i,n=r.rotateAngle+r.parentTransform;if(n){if(n<45)return t;if(n<=135)i={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.middleLeft,topRight:t.topLeft,middleLeft:t.bottomCenter,center:e.center,middleRight:t.topCenter,bottomLeft:t.bottomRight,bottomCenter:t.middleRight,bottomRight:t.topRight,left:e.left,right:e.right,top:e.top,bottom:e.bottom};else if(n<=225)i={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.bottomCenter,topRight:t.bottomRight,middleLeft:t.middleRight,center:e.center,middleRight:t.middleLeft,bottomLeft:t.topLeft,bottomCenter:t.topCenter,bottomRight:t.topRight,left:e.left,right:e.right,top:e.top,bottom:e.bottom};else{if(!(n<=315))return t;i={width:t.width,height:t.height,topLeft:t.topRight,topCenter:t.middleRight,topRight:t.bottomRight,middleLeft:t.topCenter,center:e.center,middleRight:t.bottomCenter,bottomLeft:t.topLeft,bottomCenter:t.middleLeft,bottomRight:t.bottomLeft,left:e.left,right:e.right,top:e.top,bottom:e.bottom}}return i}return t}function HB(r,t,e){var i=[];if(r.segments&&r.segments.length>0){var n=void 0,s=[],o=t.point;for(n=0;n<r.segments.length;n++){var a=r.segments[parseInt(n.toString(),10)];if((s=[]).push(o),n!==r.segments.length-1?(s.push(a.point),o=a.point):s.push(e.point),r.segments[parseInt(n.toString(),10)].points=s,r.segments.length>1&&Be.equals(a.points[0],a.points[1])&&r.segments.splice(n,1),a)for(var l=0;l<a.points.length;l++)(l>0||0===n)&&i.push(a.points[parseInt(l.toString(),10)])}}return i}function UB(r,t,e){return"Top"===r||"Bottom"===r?e.x>t.x?"Right":"Left":e.y>t.y?"Bottom":"Top"}function $x(r){if("Straight"===r.type||"Bezier"===r.type){if(0===r.segments.length||r.segments.length>0&&!Be.isEmptyPoint(r.segments[r.segments.length-1].point))if("Bezier"===r.type){var t=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0},!0);r.segments.push(t)}else t=new zv(r,"segments",{type:"Straight"},!0),r.segments.push(t)}else(0===r.segments.length||r.segments[r.segments.length-1].direction)&&(t=new Ts(r,"segments",{type:"Orthogonal"},!0),r.segments.push(t))}function fG(r,t,e){var i=r.segments[parseInt(t.toString(),10)],o=Bl(e.point,"Left"===i.direction||"Top"===i.direction?-i.length:i.length,"Left"===i.direction||"Right"===i.direction?0:90);return r.segments[t-1].length+=i.length,r.segments[t-1].points[1]=e.point=o,r.segments.splice(t,1),--t}function fge(r,t,e){var i,n;r.sourcePortWrapper&&(n=Zu({x:r.sourcePortWrapper.offsetX,y:r.sourcePortWrapper.offsetY},gl(r.sourceWrapper),r.sourceWrapper.bounds)),qx(r.targetWrapper,t,e,r);var o=UB(e.direction,t.point,e.point);if(void 0===r.sourcePortWrapper||t.direction!==e.direction||("Top"!==t.direction&&"Bottom"!==t.direction||t.corners.center.x!==e.corners.center.x)&&("Left"!==t.direction&&"Right"!==t.direction||t.corners.center.y!==e.corners.center.y))if(e.point.x>=t.corners.left&&e.point.x<=t.corners.right&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom)t.direction=e.point.y>t.point.y?"Bottom":"Top",i=lc(r,t,e,"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20);else if(r.sourcePortWrapper&&n===Ch(o)){var h;("Left"===n||"Right"===n)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=e.point.y>t.point.y?"Bottom":"Top",h=t.corners.height/2+20):("Top"===n||"Bottom"===n)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&(t.direction=e.point.x>t.point.x?"Right":"Left",h=t.corners.width/2+20),t.direction&&h?i=lc(r,t,e,h,!0):(t.direction=o,i=Lv(t,e))}else!r.sourcePortWrapper||n!==e.direction||"Top"!==n&&"Bottom"!==n||t.corners.center.x!==e.corners.center.x?(t.direction=o,i=Lv(t,e)):(t.direction=e.point.y>t.point.y?"Bottom":"Top",i=lc(r,t,e,"Bottom"===t.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20));else t.direction=o,i=lc(r,t,e,"Top"===o||"Bottom"===o?r.sourceWrapper.height/2+20:r.sourceWrapper.width/2+20),t.point=i[1],"Left"===o||"Right"===o?(e.direction=o,e.point="Left"===o?e.corners.middleLeft:e.corners.middleRight):qx(r.targetWrapper,t,e,r),i=lc(r,t,e);return i}function gG(r,t){if(void 0!==r.targetWrapper&&void 0===r.targetPortWrapper&&gl(r.targetWrapper).containsPoint(t.point,1)){var i=r.targetWrapper,n=r.segments[r.segments.length-2],s=n.points[n.points.length-1],o=Ch(n.direction);"Bottom"===o?s.y<i.corners.bottom+1&&(n.points[n.points.length-1].y=i.corners.bottom+20,n.length=Be.distancePoints(n.points[0],n.points[n.points.length-1])):"Top"===o?s.y>i.corners.top-1&&(n.points[n.points.length-1].y=i.corners.top-20,n.length=Be.distancePoints(n.points[0],n.points[n.points.length-1])):"Left"===o?s.x>i.corners.left-1&&(n.points[n.points.length-1].x=i.corners.left-20,n.length=Be.distancePoints(n.points[0],n.points[n.points.length-1])):"Right"===o&&s.x<i.corners.right+1&&(n.points[n.points.length-1].x=i.corners.right+20,n.length=Be.distancePoints(n.points[0],n.points[n.points.length-1])),t.point=n.points[n.points.length-1]}}function vG(r,t){for(var e=0;e<r.segments.length;e++)for(var i=r.segments[parseInt(e.toString(),10)],n=0;n<i.points.length;n++)(n>0||0===e)&&t.push(i.points[parseInt(n.toString(),10)]);return t}function qx(r,t,e,i){var n,s={x:0,y:0},o=SL(r,r.corners,r.bounds),a=t.margin,l=t.point;if(o.bottomCenter.y+a.bottom<l.y)n="Bottom",s=o.bottomCenter;else if(o.topCenter.y-a.top>l.y)n="Top",s=o.topCenter;else if(o.middleLeft.x-a.left>l.x)n="Left",s=o.middleLeft;else if(o.middleRight.x+a.right<l.x)n="Right",s=o.middleRight;else{var h=Math.abs(l.y-o.topCenter.y),c=Math.abs(l.x-o.middleRight.x),u=Math.abs(l.y-o.bottomCenter.y),d=Math.abs(l.x-o.middleLeft.x),p=Number.MAX_VALUE;n="Top",s=o.topCenter,(p=h)>c&&(p=c,n="Right",s=o.middleRight),p>u&&(p=u,n="Bottom",s=o.bottomCenter),p>d&&(n="Left",s=o.middleLeft)}e.point=s,e.direction=n;var f=My(o,Ch(e.direction));e.point=Ov(i,0,e.point,f,r===i.targetWrapper)}function mG(r,t,e,i,n){var s,o,a;if(s=function Oge(r,t){var e=!1;switch(r){case"Left":switch(t){case"Right":case"Bottom":e=!0}break;case"Top":switch(t){case"Left":case"Right":case"Bottom":e=!0}break;case"Bottom":"Right"===t&&(e=!0)}return e}(t.direction,e.direction),s&&IG(t,e),"Right"===t.direction&&"Left"===e.direction)a=function mge(r,t,e,i){var o=Math.round(Math.abs(t.point.y-e.point.y)),a={x:Math.max(t.point.x,t.corners.right),y:t.point.y},l={x:Math.min(e.point.x,e.corners.left),y:e.point.y},h=Gp(r);if(i){var c=l;l=a,a=c}return t.corners.bottom+h<e.corners.top-h||t.corners.top-h>e.corners.bottom+h||("Bezier"!==r.type||e.corners.left-t.corners.right<=2*h&&e.corners.left-t.corners.right>=5)&&(h=0),t.margin={left:h,right:h,top:h,bottom:h},e.margin={left:h,right:h,top:h,bottom:h},0===o&&(t.corners.right<e.corners.left||i&&t.corners.right<e.corners.left)?ji.One:t.point.x+t.margin.right<e.point.x-e.margin.left||r.sourceWrapper!==r.targetWrapper&&(gl(r.sourceWrapper).containsPoint(l)||gl(r.targetWrapper).containsPoint(a))?ji.Three:ji.Five}(r,t,e,s);else if("Right"===t.direction&&"Right"===e.direction)a=function yge(r,t,e){var i=r.sourcePortWrapper,n=r.targetPortWrapper,o=t.point.x-e.point.x,a=t.point.y-e.point.y,l=Gp(r);return e.margin={left:l,right:l,top:l,bottom:l},t.margin={left:l,right:l,top:l,bottom:l},t.corners.right>=e.corners.right?void 0!==i&&(i.offsetY<e.corners.top-e.margin.top||i.offsetY>e.corners.bottom+e.margin.bottom)||void 0===i&&t.corners.middleRight.y<e.corners.top||void 0!==i&&i.offsetY>e.corners.bottom+e.margin.bottom&&t.corners.top>e.corners.bottom||void 0===i&&t.corners.middleRight.y>e.corners.bottom||void 0!==i&&i.offsetY<e.corners.top-e.margin.top&&t.corners.bottom>e.corners.top||void 0===i&&t.corners.middleRight.y>e.corners.bottom?ji.Three:t.corners.right<e.corners.left||e.corners.right<t.corners.left?ji.Five:0===o||0===a?ji.One:ji.Three:void 0!==n&&t.corners.bottom<n.offsetY-e.margin.top||void 0===n&&t.corners.bottom<e.corners.middleRight.y||void 0!==n&&t.corners.top>n.offsetY+e.margin.right||void 0===n&&t.corners.top>e.corners.middleRight.y||void 0!==n&&(void 0!==i&&i.offsetX<e.corners.left&&i.offsetX!==n.offsetX&&Math.abs(t.corners.right-e.corners.left)<=20||void 0===i&&t.corners.right<e.corners.left&&t.corners.center.x!==e.corners.center.x&&t.corners.center.y!==e.corners.center.y)?ji.Three:t.corners.right<e.corners.left?ji.Five:0===o||0===a?ji.One:ji.Three}(r,t,e);else if("Right"===t.direction&&"Top"===e.direction)a=function bge(r,t,e,i){var n=r.targetPortWrapper,s=r.sourcePortWrapper,o={x:Math.max(t.point.x,t.corners.right),y:t.point.y},a={x:e.point.x,y:Math.min(e.point.y,e.corners.top)},l=Gp(r);if(e.margin={left:l,right:l,top:l,bottom:l},t.margin={top:l,bottom:l,left:l,right:l},i){var c=s;s=n,n=c;var u=o;o=a,a=u}return void 0!==s&&s.offsetY<e.corners.top-e.margin.top||void 0===s&&t.corners.bottom<e.corners.top-e.margin.top?t.corners.bottom<e.corners.top?void 0!==n&&t.corners.right+t.margin.right<n.offsetX||void 0===n&&t.corners.right+t.margin.right<e.corners.topCenter.x?ji.Two:ji.Four:void 0!==n&&t.corners.left>n.offsetX||void 0===n&&t.corners.left>e.corners.topCenter.x?ji.Four:ji.Two:void 0!==s&&Math.abs(t.corners.right-e.corners.left)<=5&&Math.abs(s.offsetY-e.corners.top)<=5||void 0!==n&&t.corners.right<e.corners.left&&Math.abs(n.offsetX-t.corners.topCenter.x)>=25&&t.corners.middleRight.y+t.margin.right<n.offsetY?ji.Two:t.corners.right<e.corners.left?ji.Four:r.sourceWrapper!==r.targetWrapper&&(gl(r.sourceWrapper).containsPoint(a)||gl(r.targetWrapper).containsPoint(o))?ji.Two:ji.Four}(r,t,e,s);else if("Right"===t.direction&&"Bottom"===e.direction)a=function Cge(r,t,e,i){var n=Gp(r);t.margin={left:n,right:n,top:n,bottom:n},e.margin={left:n,right:n,top:n,bottom:n};var o=r.sourcePortWrapper,a=r.targetPortWrapper;if(i){var l=o;o=a,a=l}return void 0!==o&&o.offsetY>e.corners.bottom+e.margin.bottom||void 0===o&&t.corners.middleRight.y>e.corners.bottom+e.margin.bottom?t.corners.top>e.corners.bottom?void 0!==a&&t.corners.right+t.margin.right<a.offsetX||void 0===a&&t.corners.right+t.margin.right<e.corners.bottomCenter.x?ji.Two:ji.Four:void 0!==a&&t.corners.left>a.offsetX||void 0===a&&t.corners.left>e.corners.bottomCenter.x?ji.Four:ji.Two:void 0!==o&&Math.abs(t.corners.right-e.corners.left)<=25&&Math.abs(o.offsetY-e.corners.bottom)<=25?ji.Two:ji.Four}(r,t,e,s);else if("Bottom"===t.direction&&"Top"===e.direction)a=function Sge(r,t,e){var n=t.point.x-e.point.x,s=Gp(r);return t.corners.right+s<e.corners.left-s||t.corners.left-s>e.corners.right+s||("Bezier"!==r.type||e.corners.top-t.corners.bottom<=2*s&&e.corners.top-t.corners.bottom>=5)&&(s=0),t.margin={left:s,right:s,top:s,bottom:s},e.margin={left:s,right:s,top:s,bottom:s},0===n&&t.corners.bottom<e.corners.top?ji.One:t.corners.bottom+t.margin.bottom<e.corners.top-e.margin.top?ji.Three:ji.Five}(r,t,e);else if("Bottom"===t.direction&&"Bottom"===e.direction){var l=Gp(r);t.margin={left:l,right:l,top:l,bottom:l},e.margin={left:l,right:l,top:l,bottom:l},a=function Ige(r,t,e){var i=r.sourcePortWrapper,n=r.targetPortWrapper,s=Math.round(Math.abs(t.point.x-e.point.x)),o=Math.round(Math.abs(e.point.y-e.point.y));return t.corners.bottom<e.corners.bottom?void 0!==i&&i.offsetX<e.corners.left-e.margin.left||void 0===i&&t.corners.bottomCenter.x<e.corners.left-e.margin.left||void 0!==i&&i.offsetX>e.corners.right+e.margin.right||void 0===i&&t.corners.bottomCenter.x>e.corners.right+e.margin.right?ji.Three:t.corners.bottom<e.corners.top?ji.Five:0===s||0===o?ji.One:ji.Three:void 0!==n&&t.corners.left-t.margin.left>n.offsetX||void 0===n&&t.corners.left>e.corners.left||void 0!==n&&t.corners.right+t.margin.right<n.offsetX||void 0===n&&t.corners.right<e.corners.right?ji.Three:t.corners.top>e.corners.bottom?ji.Five:0===s||0===o?ji.One:ji.Three}(r,t,e)}else"Bottom"===t.direction&&"Left"===e.direction?a=function wge(r,t,e,i){var n=r.sourcePortWrapper,s=r.targetPortWrapper,o=Gp(r);if(e.margin={left:o,right:o,top:o,bottom:o},t.margin={top:o,bottom:o,left:o,right:o},i){var l=n;n=s,s=l}return void 0!==n&&n.offsetX<e.corners.left-e.margin.left||void 0===n&&t.corners.bottomCenter.x<e.corners.bottomLeft.x-e.margin.left?t.corners.right<e.corners.left?void 0!==s&&t.corners.bottom+t.margin.bottom<s.offsetY||void 0===s&&t.corners.bottom+t.margin.bottom<e.corners.middleLeft.y?ji.Two:ji.Four:void 0!==s&&t.corners.top>s.offsetY||void 0===s&&t.corners.top>e.corners.middleLeft.y?ji.Four:ji.Two:void 0!==s&&Math.abs(t.corners.right-e.corners.left)<=25&&Math.abs(s.offsetY-t.corners.bottom)<=25?ji.Two:ji.Four}(r,t,e,s):"Left"===t.direction&&"Left"===e.direction?a=function xge(r,t,e){var i=r.sourcePortWrapper,n=r.targetPortWrapper,s=Gp(r);t.margin={left:s,right:s,top:s,bottom:s},e.margin={left:s,right:s,top:s,bottom:s};var o=Math.round(Math.abs(t.point.x-e.point.x)),a=Math.round(Math.abs(t.point.y-e.point.y));return t.corners.left<e.corners.left?void 0!==n&&t.corners.bottom+t.margin.bottom<n.offsetY||void 0===n&&t.corners.bottom+t.margin.bottom<e.corners.middleLeft.y||void 0!==n&&t.corners.top-t.margin.top>n.offsetY||void 0===n&&t.corners.top-t.margin.top>e.corners.middleLeft.y?ji.Three:t.corners.right<e.corners.left||e.corners.right<t.corners.left?ji.Five:0===o||0===a?ji.One:ji.Three:void 0!==i&&i.offsetY<e.corners.top-e.margin.top||void 0===i&&t.corners.middleLeft.y<e.corners.top||void 0!==i&&i.offsetY>e.corners.bottom+e.margin.bottom||void 0===i&&t.corners.middleLeft.y>e.corners.bottom+e.margin.bottom?ji.Three:t.corners.left>e.corners.right?ji.Five:0===o||0===a?ji.One:ji.Three}(r,t,e):"Left"===t.direction&&"Top"===e.direction?a=function Mge(r,t,e,i){var s=r.sourcePortWrapper,o=Gp(r);e.margin={left:o,right:o,top:o,bottom:o},t.margin={top:o,bottom:o,left:o,right:o};var a=r.targetPortWrapper,l={x:Math.min(t.point.x,t.corners.left),y:t.point.y},h={x:e.point.x,y:Math.min(e.point.y,e.corners.top)};if(i){var c=s;s=a,a=c;var u=l;l=h,h=u}return void 0!==s&&s.offsetY<e.corners.top-e.margin.top||void 0===s&&(t.corners.bottom<e.corners.top-e.margin.top||t.corners.middleLeft.y<e.corners.top-e.margin.top)?t.corners.bottom<e.corners.top?void 0!==a&&t.corners.left-t.margin.left>a.offsetX||void 0===a&&t.corners.left-t.margin.left>e.corners.topCenter.x?ji.Two:ji.Four:void 0!==a&&t.corners.right<a.offsetX||void 0===a&&t.corners.right<e.corners.topCenter.x?ji.Four:ji.Two:void 0!==s&&Math.abs(t.corners.left-e.corners.right)<=25&&Math.abs(s.offsetY-e.corners.top)<=25||r.sourceWrapper!==r.targetWrapper&&(gl(r.sourceWrapper).containsPoint(h)||gl(r.targetWrapper).containsPoint(l))?ji.Two:ji.Four}(r,t,e,s):"Top"===t.direction&&"Top"===e.direction&&(a=function Dge(r,t,e){var i=r.sourcePortWrapper,n=r.targetPortWrapper,s=Math.round(Math.abs(t.point.x-e.point.x)),o=Math.round(Math.abs(t.point.y-e.point.y)),a=Gp(r);return e.margin={left:a,right:a,top:a,bottom:a},t.margin={top:a,bottom:a,left:a,right:a},t.corners.top<e.corners.top?void 0!==n&&t.corners.left-t.margin.left>n.offsetX||void 0===n&&t.corners.left>e.corners.left||void 0!==n&&t.corners.right+t.margin.right<n.offsetX||void 0===n&&t.corners.right<e.corners.right?ji.Three:t.corners.bottom<e.corners.top?ji.Five:0===s||0===o?ji.One:ji.Three:void 0!==i&&i.offsetX>e.corners.right+e.margin.right||void 0===i&&t.corners.left>e.corners.right||void 0!==i&&i.offsetX<e.corners.left-e.margin.left||void 0===i&&t.corners.bottomRight.x<e.corners.left?ji.Three:t.corners.top>e.corners.bottom?ji.Five:0===s||0===o?ji.One:ji.Three}(r,t,e));return s&&IG(t,e),o=function Tge(r,t,e,i,n,s){var l,u,h=r.sourceWrapper.corners,c=r.targetWrapper.corners,d=20,p={corners:e.corners,point:e.point,direction:e.direction,margin:e.margin},f={corners:i.corners,point:i.point,direction:i.direction,margin:i.margin};if(!(p.direction===f.direction&&t!==ji.Five||p.direction!==Ch(f.direction)&&t!==ji.Three))switch(p.direction){case"Left":h.middleLeft.x>c.middleRight.x&&(u=(h.middleLeft.x-c.middleRight.x)/2,d=s?u:Math.min(d,u));break;case"Right":h.middleRight.x<c.middleLeft.x&&(u=(c.middleLeft.x-h.middleRight.x)/2,d=s?u:Math.min(d,u));break;case"Top":h.topCenter.y>c.bottomCenter.y&&(u=(h.topCenter.y-c.bottomCenter.y)/2,d=s?u:Math.min(d,u));break;case"Bottom":h.bottomCenter.y<c.topCenter.y&&(u=(c.topCenter.y-h.bottomCenter.y)/2,d=s?u:Math.min(d,u))}d=SG(h,p,d);var m="Bezier"===r.type;return n&&(d=Math.max(d,n)),t===ji.One&&(l=[p.point,f.point]),t===ji.Two&&(l=Lv(p,f)),t===ji.Three&&(l=lc(r,p,f,d,void 0,m)),t===ji.Four&&(l=WB(p,f,void 0,l,d,m)),t===ji.Five&&(l=function Ege(r,t,e,i){void 0===e&&(e=20),void 0===i&&(i=!1),i&&(e=20);var n,f,s=e,o=r.corners.left-r.margin.left,a=r.corners.right+r.margin.right,l=r.corners.bottom+r.margin.bottom,h=r.corners.top-r.margin.top,c=t.corners.left-t.margin.left,u=t.corners.right+t.margin.right,d=t.corners.bottom+t.margin.bottom,p=t.corners.top-t.margin.top;switch(r.direction){case"Left":(h>p&&h<d||l<d&&l>p)&&o>c&&o<=u&&e>=20&&(s=r.point.x-t.corners.left+s),i&&r.direction===t.direction&&r.corners.left>t.corners.left&&r.corners.left-t.corners.right>=20&&(s=(r.corners.left-t.corners.right)/2),f=Bl(r.point,s,180);break;case"Top":(o>c&&o<u||a<u&&a>c)&&h>p&&h<=d&&e>=20&&(s=r.point.y-t.corners.top+s),i&&r.direction===t.direction&&r.corners.top>t.corners.top&&r.corners.top-t.corners.bottom>=20&&(s=(r.corners.top-t.corners.bottom)/2),f=Bl(r.point,s,270);break;case"Right":(h>p&&h<d||l<d&&l>p)&&a<u&&a>=c&&e>=20&&(s=t.corners.right-r.point.x+s),i&&r.direction===t.direction&&r.corners.right<t.corners.right&&t.corners.left-r.corners.right>=20&&(s=(t.corners.left-r.corners.right)/2),f=Bl(r.point,s,0);break;case"Bottom":(o>c&&o<u||a<u&&a>c)&&l<d&&l>=p&&e>=20&&(s=t.corners.bottom-r.point.y+s),i&&r.direction===t.direction&&r.corners.bottom<t.corners.bottom&&t.corners.top-r.corners.bottom>=20&&(s=(t.corners.top-r.corners.bottom)/2),f=Bl(r.point,s,90)}n=[r.point,f];var m=void 0;if("Top"===r.direction||"Bottom"===r.direction){var M=r.direction;r.direction=f.x>t.point.x?"Left":"Right",r.point=f,n=WB(r,t,M,n,m=i?.5*Math.abs(f.x-t.point.x):m,i)}else M=r.direction,r.direction=f.y>t.point.y?"Top":"Bottom",r.point=f,n=WB(r,t,M,n,m=i?.5*Math.abs(f.y-t.point.y):m,i);return n}(p,f,d,m)),l}(r,a,t,e,i,n),"Bezier"===r.type&&function Age(r,t,e){if("Bezier"===r.type)if(0===r.segments.length){var i=e[0],n=e[e.length-1];if(t===ji.One){var s=Math.min(20,.5*Be.findLength(i,n)),o={angle:Nr(i,n),distance:s},a={angle:Nr(n,i),distance:s},l=Be.direction(i,n),c=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:o,vector2:a,orientation:"Left"===l||"Right"===l?"Horizontal":"Vertical"},!0);r.segments.push(c)}else if(t===ji.Two)o={angle:Nr(i,u=e[1]),distance:.5*Be.findLength(i,u)},a={angle:Nr(n,u),distance:.5*Be.findLength(n,u)},l=Be.direction(i,u),c=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:o,vector2:a,orientation:"Left"===l||"Right"===l?"Horizontal":"Vertical"},!0),r.segments.push(c);else if(t===ji.Three){var u={x:.5*((d=e[1]).x+(p=e[e.length-2]).x),y:.5*(d.y+p.y)},f=(o={angle:Nr(i,d),distance:.5*Be.findLength(i,d)},a={angle:Nr(u,d),distance:.5*Be.findLength(u,d)},Be.direction(i,d)),M=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:o,vector2:a,point:u,orientation:"Left"===f||"Right"===f?"Horizontal":"Vertical"},!0);r.segments.push(M);var T={angle:Nr(u,p),distance:.5*Be.findLength(u,p)},P={angle:Nr(n,p),distance:.5*Be.findLength(n,p)},U=Be.direction(u,p),X=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:T,vector2:P,orientation:"Left"===U||"Right"===U?"Horizontal":"Vertical"},!0);r.segments.push(X)}else if(t===ji.Four){var oe={x:.5*((d=e[1]).x+(p=e[2]).x),y:.5*(d.y+p.y)},de={x:.5*(p.x+(Q=e[3]).x),y:.5*(p.y+Q.y)};o={angle:Nr(i,d),distance:.5*Be.findLength(i,d)},a={angle:Nr(oe,d),distance:.5*Be.findLength(oe,d)},f=Be.direction(i,d),M=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:o,vector2:a,point:oe,orientation:"Left"===f||"Right"===f?"Horizontal":"Vertical"},!0),r.segments.push(M),T={angle:Nr(oe,p),distance:.5*Be.findLength(oe,p)},P={angle:Nr(de,p),distance:.5*Be.findLength(de,p)},U=Be.direction(oe,p),X=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:T,vector2:P,point:de,orientation:"Left"===U||"Right"===U?"Horizontal":"Vertical"},!0),r.segments.push(X);var Me={angle:Nr(de,Q),distance:.5*Be.findLength(de,Q)},Ve={angle:Nr(n,Q),distance:.5*Be.findLength(n,Q)},Ce=Be.direction(de,Q),Ie=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:Me,vector2:Ve,orientation:"Left"===Ce||"Right"===Ce?"Horizontal":"Vertical"},!0);r.segments.push(Ie)}else if(t===ji.Five){var d,p,Q,pe=e[4],Pe=(oe={x:.5*((d=e[1]).x+(p=e[2]).x),y:.5*(d.y+p.y)},de={x:.5*(p.x+(Q=e[3]).x),y:.5*(p.y+Q.y)},{x:.5*(Q.x+pe.x),y:.5*(Q.y+pe.y)});o={angle:Nr(i,d),distance:.5*Be.findLength(i,d)},a={angle:Nr(oe,d),distance:.5*Be.findLength(oe,d)},f=Be.direction(i,d),M=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:o,vector2:a,point:oe,orientation:"Left"===f||"Right"===f?"Horizontal":"Vertical"},!0),r.segments.push(M),T={angle:Nr(oe,p),distance:.5*Be.findLength(oe,p)},P={angle:Nr(de,p),distance:.5*Be.findLength(de,p)},U=Be.direction(oe,p),X=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:T,vector2:P,point:de,orientation:"Left"===U||"Right"===U?"Horizontal":"Vertical"},!0),r.segments.push(X),Me={angle:Nr(de,Q),distance:.5*Be.findLength(de,Q)},Ve={angle:Nr(Pe,Q),distance:.5*Be.findLength(Pe,Q)},Ce=Be.direction(de,Q),Ie=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:Me,vector2:Ve,point:Pe,orientation:"Left"===Ce||"Right"===Ce?"Horizontal":"Vertical"},!0),r.segments.push(Ie);var Qe={angle:Nr(Pe,pe),distance:.5*Be.findLength(Pe,pe)},Oe={angle:Nr(n,pe),distance:.5*Be.findLength(n,pe)},Ye=Be.direction(Pe,pe),Xt=new Hh(r,"segments",{type:"Bezier",isInternalSegment:!0,vector1:Qe,vector2:Oe,orientation:"Left"===Ye||"Right"===Ye?"Horizontal":"Vertical"},!0);r.segments.push(Xt)}else c=new Hh(r,"segments",{type:"Bezier"},!0),r.segments.push(c)}else for(var ni=0;ni<r.segments.length;ni++)r.bezierSettings.allowSegmentsReset&&(r.segments[parseInt(ni.toString(),10)].isInternalSegment=!0)}(r,a,o),o}function Gp(r){return r.connectorSpacing>=13?13:r.connectorSpacing<=1?1:r.connectorSpacing}function Nr(r,t){var i=Be.findLength({x:t.x,y:r.y},t),n=Be.findLength(t,r),s=Math.asin(i/n);return s=180*s/Math.PI,r.x<t.x?r.y>t.y&&(s=360-s):s=r.y<t.y?180-s:180+s,s}function My(r,t){var e;switch(t){case"Left":e=r.middleLeft;break;case"Top":e=r.topCenter;break;case"Right":e=r.middleRight;break;case"Bottom":e=r.bottomCenter}return e}function Bl(r,t,e){return Be.transform(r,e,t)}function Ov(r,t,e,i,n){e={x:e.x,y:e.y},i={x:i.x,y:i.y};var a,l,s=n?r.targetWrapper:r.sourceWrapper,o=n?r.targetPadding:r.sourcePadding,h=n||"Orthogonal"===r.type||"Bezier"===r.type?e:i,c=s,u=uc(-s.parentTransform,s.offsetX,s.offsetY,e),d=uc(-s.parentTransform,s.offsetX,s.offsetY,i);if("Orthogonal"===r.type||"Bezier"===r.type)u.x===d.x&&(u.y<d.y?u.y-=5:u.y+=5),u.y===d.y&&(u.x<d.x?u.x-=5:u.x+=5),e=uc(s.parentTransform,s.offsetX,s.offsetY,u);else if(n){var f=Be.findAngle(e,i);i=Be.transform({x:i.x,y:i.y},f,Math.max(s.actualSize.width,s.actualSize.height))}else f=Be.findAngle(i,e),e=Be.transform({x:e.x,y:e.y},f,Math.max(s.actualSize.width,s.actualSize.height));return(r.sourcePadding||r.targetPadding)&&(a=new Xi(s.bounds.x-o,s.bounds.y-o,s.actualSize.width+2*o,s.actualSize.height+2*o)),s instanceof Nn&&s.data?(l=a?[a.topLeft,a.topRight,a.bottomRight,a.bottomLeft]:c.getPoints(),c.data.split("m").length-1+(c.data.split("M").length-1)==1&&(l[l.length]=l[0])):(l=a?[a.topLeft,a.topRight,a.bottomRight,a.bottomLeft]:gX(0,s.corners))[l.length]=l[0],VB({x1:e.x,y1:e.y,x2:i.x,y2:i.y},l,0,h)||e}function yG(r,t,e){return t.x=Math.round(100*t.x)/100,t.y=Math.round(100*t.y)/100,e?r.targetPoint=t:r.sourcePoint=t,t}function VB(r,t,e,i){var s,n=t.length,o={x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y},a=bG(r,o);if(a&&(s=Be.distancePoints(a,i)),isNaN(s)||s>0)for(var l=1;l<n-1;l++){var h=bG(r,o={x1:t[parseInt(l.toString(),10)].x,y1:t[parseInt(l.toString(),10)].y,x2:t[l+1].x,y2:t[l+1].y});if(h){var c=Be.distancePoints(h,i);if((isNaN(s)||s>c)&&(s=c,a=h),s>=0&&s<=1)break}}return a}function bG(r,t){var c,u,d,p,f,m,P,U,Y,X,oe,e=r.x1,i=r.y1,n=r.x2,s=r.y2,o=t.x1,a=t.y1,l=t.x2,h=t.y2;if(X=(c=s-i)*l+(d=e-n)*h+(f=n*i-e*s),0!==(Y=c*o+d*a+f)&&0!==X&&CG(Y,X)||(U=(u=h-a)*n+(p=o-l)*s+(m=l*a-o*h),0!==(P=u*e+p*i+m)&&0!==U&&CG(P,U)))return null;var de=c*p-u*d;return 0===de?null:(de<0?-de/2:de/2,0,{x:(oe=d*m-p*f)<0?(oe-0)/de:(oe+0)/de,y:(oe=u*f-c*m)<0?(oe-0)/de:(oe+0)/de})}function CG(r,t){return r*t>=0}function SG(r,t,e){switch(t.direction){case"Left":t.point.x>r.left&&(e=t.point.x-r.left>e?t.point.x-r.left+e:e);break;case"Right":t.point.x<r.right&&(e=r.right-t.point.x>e?r.right-t.point.x+e:e);break;case"Top":t.point.y>r.top&&(e=t.point.y-r.top>e?t.point.y-r.top+e:e);break;case"Bottom":t.point.y<r.bottom&&(e=r.bottom-t.point.y>e?r.bottom-t.point.y+e:e)}return e}function Lv(r,t){var e;switch(r.direction){case"Left":case"Right":var i={x:t.point.x,y:r.point.y};e=Be.equals(r.point,i)||Be.equals(t.point,i)?[r.point,t.point]:[r.point,i,t.point];break;case"Top":case"Bottom":var n={x:r.point.x,y:t.point.y};e=Be.equals(r.point,n)||Be.equals(t.point,n)?[r.point,t.point]:[r.point,n,t.point]}return e}function lc(r,t,e,i,n,s){void 0===s&&(s=!1),i||(i=20),s&&t.direction!==e.direction&&(i="Left"===t.direction||"Right"===t.direction?Math.floor(.5*Math.abs(t.point.x-e.point.x)):Math.floor(.5*Math.abs(t.point.y-e.point.y)));var l,h,d,o=r.sourcePortWrapper,c=e.point.x-t.point.x,u=e.point.y-t.point.y;if(!n&&(Math.abs(c)<.001||Math.abs(u)<.001)&&void 0===e.direction)return[t.point,e.point];if(void 0===r.targetWrapper&&Math.abs(c)<=31&&Math.abs(u)<=31){if("Left"===t.direction||"Right"===t.direction?Math.abs(u)<12&&(t.direction=t.point.y>e.point.y?"Top":"Bottom"):Math.abs(c)<12&&(t.direction=t.point.x>e.point.x?"Left":"Right"),Math.abs(c)>12||Math.abs(u)>12)return Lv(t,e);i+=5}return"Left"===t.direction||"Right"===t.direction?("Right"===t.direction?(void 0!==e.direction&&"Right"===e.direction&&(i=Math.max(t.point.x,e.point.x)-t.point.x+i),t.point.x>e.point.x&&void 0===o&&(i=-i)):(void 0!==e.direction&&"Left"===e.direction&&(i=t.point.x-Math.min(t.point.x,e.point.x)+i),(t.point.x>e.point.x||void 0!==o||"Left"===t.direction)&&(i=-i)),d=e.point.y-t.point.y,l=Bl(t.point,i,0),0!=(d=e.point.y-l.y)&&(h=Bl(l,e.point.y-l.y,90))):("Top"===t.direction||"Bottom"===t.direction)&&("Bottom"===t.direction?void 0!==e.direction&&"Bottom"===e.direction&&(i=Math.max(t.point.y,e.point.y)-t.point.y+i):(void 0!==e.direction&&"Top"===e.direction&&(i=t.point.y-Math.min(t.point.y,e.point.y)+i),(t.point.y>e.point.y||void 0!==o||"Top"===t.direction)&&(i=-i)),d=e.point.x-t.point.x,l=Bl(t.point,i,90),0!=(d=e.point.x-l.x)&&(h=Bl(l,e.point.x-l.x,0))),0===d?[t.point,e.point]:[t.point,l,h,e.point]}function WB(r,t,e,i,n,s){var o;switch(void 0===n&&(n=20),void 0===s&&(s=!1),void 0===e?(r.margin={left:2,right:2,top:2,bottom:2},t.margin={left:0,right:5,top:0,bottom:5},s&&(r.margin={left:10,right:10,top:10,bottom:10},t.margin={left:10,right:10,top:10,bottom:10},"Left"===r.direction?(n=GB(r,t,e,n),r.corners.left-t.corners.right>=5&&(n=Math.abs(r.point.x-r.corners.left)+.5*Math.floor(r.corners.left-t.corners.right))):"Right"===r.direction?(n=XB(r,t,n,e),t.corners.left-r.corners.right>=5&&(n=Math.abs(r.point.x-r.corners.right)+.5*Math.floor(t.corners.left-r.corners.right))):"Top"===r.direction?(n=YB(r,t,e,n),r.corners.top-t.corners.bottom>=5&&(n=Math.abs(r.point.y-r.corners.top)+.5*Math.floor(r.corners.top-t.corners.bottom))):"Bottom"===r.direction&&(n=QB(r,t,n,e),t.corners.top-r.corners.bottom>=5&&(n=Math.abs(r.point.y-r.corners.bottom)+.5*Math.floor(t.corners.top-r.corners.bottom))))):("Bottom"===r.direction?s?t.corners.top-r.corners.bottom<20&&(n=t.corners.bottom-r.point.y+25):t.corners.top>r.corners.bottom&&t.corners.top-r.corners.bottom<20&&(n=(t.corners.top-r.corners.bottom)/2):"Top"===r.direction?s?r.corners.top-t.corners.bottom<20&&(n=r.point.y-t.corners.top+25):t.corners.bottom<r.corners.top&&r.corners.top-t.corners.bottom<20&&(n=(r.corners.top-t.corners.bottom)/2):"Right"===r.direction?s?t.corners.left-r.corners.right<20&&(n=t.corners.right-r.point.x+25):t.corners.left>r.corners.right&&t.corners.left-r.corners.right<20&&(n=(t.corners.left-r.corners.right)/2):"Left"===r.direction&&(s?r.corners.left-t.corners.right<20&&(n=r.point.x-t.corners.left+25):t.corners.right<r.corners.left&&r.corners.left-t.corners.right<20&&(n=(r.corners.left-t.corners.right)/2)),e===t.direction&&s&&("Bottom"===t.direction&&r.point.y>t.point.y||"Top"===t.direction&&r.point.y<t.point.y?"Left"===r.direction?n=GB(r,t,e,20):"Right"===r.direction&&(n=XB(r,t,20,e)):("Right"===t.direction&&r.point.x>t.point.x||"Left"===t.direction&&r.point.x<t.point.x)&&("Top"===r.direction?n=YB(r,t,e,20):"Bottom"===r.direction&&(n=QB(r,t,20,e))))),r.direction){case"Left":n=s?n:GB(r,t,e,n),o=Bl(r.point,n,180);break;case"Right":n=s?n:XB(r,t,n,e),o=Bl(r.point,n,0);break;case"Top":n=s?n:YB(r,t,e,n),o=Bl(r.point,n,270);break;case"Bottom":n=s?n:QB(r,t,n,e),o=Bl(r.point,n,90)}return void 0!==i?i.push(o):i=[r.point,o],"Top"===r.direction||"Bottom"===r.direction?wG(o,"horizontal",r,t,i,s):("Right"===r.direction||"Left"===r.direction)&&wG(o,"vertical",r,t,i,s),i}function wG(r,t,e,i,n,s){var o,a,l;"horizontal"===t?(e.margin={left:0,right:10,top:0,bottom:10},i.margin={left:0,right:10,top:0,bottom:10}):"vertical"===t&&(e.margin={left:10,right:0,top:10,bottom:0},i.margin={left:10,right:0,top:10,bottom:0});var h=20;if("horizontal"===t){switch(i.direction){case"Left":if(e.corners.right+e.margin.right<i.corners.left-i.margin.left&&(i.corners.left-e.margin.right-e.corners.right>h||e.corners.top-e.margin.top<=i.point.y&&e.corners.bottom+e.margin.bottom>=i.point.y))if(!s||"Top"!==e.direction&&"Bottom"!==e.direction)c=Math.min(Math.abs(i.corners.left-e.corners.right)/2,20),h=e.corners.right-r.x+c;else{var c=Math.abs(i.corners.left-e.corners.right)/2;h=e.corners.right-r.x+c}else h="Top"===e.direction&&r.y>i.point.y||"Bottom"===e.direction&&r.y<i.point.y?Math.min(i.corners.left,r.x)-r.x-20:r.x>=e.corners.left-e.margin.left&&r.x<=e.corners.right+e.margin.right?Math.min(i.corners.left,e.corners.left)-r.x-20:i.corners.left-r.x-20;break;case"Right":if(e.corners.left-e.margin.left>i.corners.right+i.margin.right&&(e.corners.left-e.margin.right-i.corners.right>h||e.corners.top-e.margin.top<=i.point.y&&e.corners.bottom+e.margin.bottom>=i.point.y))if(!s||"Top"!==e.direction&&"Bottom"!==e.direction)c=Math.min(Math.abs(e.corners.left-i.corners.right)/2,20),h=e.corners.left-r.x-c;else{c=Math.abs(e.corners.left-i.corners.right)/2;h=e.corners.left-r.x-c}else h="Top"===e.direction&&r.y>i.point.y||"Bottom"===e.direction&&r.y<i.point.y?Math.max(i.corners.right,r.x)-r.x+20:r.x>=e.corners.left-e.margin.left&&r.x<=e.corners.right+e.margin.right?Math.max(i.corners.right,e.corners.right)-r.x+20:i.corners.right-r.x+20}o=Bl(r,h,0),a=Bl(o,i.point.y-r.y,90),l=i.point}else if("vertical"===t){switch(i.direction){case"Top":e.corners.bottom+e.margin.bottom<i.corners.top-i.margin.top&&(i.corners.top-e.margin.top-e.corners.bottom>h||e.corners.left-e.margin.left<=i.point.x&&e.corners.right+e.margin.right>=i.point.x)?!s||"Right"!==e.direction&&"Left"!==e.direction?(c=Math.min(Math.abs(i.corners.top-e.corners.bottom)/2,20),h=e.corners.bottom-r.y+c):(c=Math.abs(i.corners.top-e.corners.bottom)/2,h=e.corners.bottom-r.y+c):h="Left"===e.direction&&r.x>i.point.x||"Right"===e.direction&&r.x<i.point.x?Math.min(i.corners.top,r.y)-r.y-20:r.y>=e.corners.top-e.margin.top&&r.y<=e.corners.bottom+e.margin.bottom?Math.min(i.corners.top,e.corners.top)-r.y-20:i.corners.top-r.y-20;break;case"Bottom":e.corners.top-e.margin.top>i.corners.bottom+i.margin.bottom&&(e.corners.top-e.margin.top-i.corners.bottom>h||e.corners.left-e.margin.left<=i.point.x&&e.corners.right+e.margin.right>=i.point.x)?!s||"Right"!==e.direction&&"Left"!==e.direction?(c=Math.min(Math.abs(e.corners.top-i.corners.bottom)/2,20),h=e.corners.top-r.y-c):(c=Math.abs(e.corners.top-i.corners.bottom)/2,h=e.corners.top-r.y-c):h="Left"===e.direction&&r.x>i.point.x||"Right"===e.direction&&r.x<i.point.x?Math.max(i.corners.bottom,r.y)-r.y+20:r.y>=e.corners.top-e.margin.top&&r.y<=e.corners.bottom+e.margin.bottom?Math.max(i.corners.bottom,e.corners.bottom)-r.y+20:i.corners.bottom-r.y+20}o=Bl(r,h,90),a=Bl(o,i.point.x-r.x,0),l=i.point}n.push(o),n.push(a),n.push(l)}function YB(r,t,e,i){return r.corners.top-r.margin.top>t.corners.top+t.margin.top&&r.corners.top-r.margin.top<=t.corners.bottom+t.margin.bottom?(("Right"===t.direction&&r.point.x<t.point.x||"Left"===t.direction&&r.point.x>t.point.x)&&(i+=r.corners.top-t.corners.top),i+=r.point.y-r.corners.top):i+=void 0!==e&&"Left"!==e&&"Right"===t.direction&&r.point.x<t.point.x||void 0!==e&&"Right"!==e&&"Left"===t.direction&&t.point.x<r.point.x?Math.abs(r.point.y-t.corners.bottom):r.point.y-r.corners.top,i}function GB(r,t,e,i){return r.corners.left-r.margin.left>t.corners.left-t.margin.left&&r.corners.left-r.margin.left<=t.corners.right+t.margin.right?(("Bottom"===t.direction&&r.point.y<t.point.y||"Top"===t.direction&&r.point.y>t.point.y)&&(i+=r.corners.left-t.corners.left),i+=r.point.x-r.corners.left):i+=void 0!==e&&"Top"!==e&&"Bottom"===t.direction&&r.point.y<t.point.y||void 0!==e&&"Bottom"!==e&&"Top"===t.direction&&t.point.y<r.point.y?Math.abs(r.point.x-t.corners.right):r.point.x-r.corners.left,i}function XB(r,t,e,i){return r.corners.right+r.margin.right<t.corners.right+t.margin.right&&r.corners.right+r.margin.right>=t.corners.left-t.margin.left?(("Bottom"===t.direction&&r.point.y<t.point.y||"Top"===t.direction&&r.point.y>t.point.y)&&(e+=t.corners.right-r.corners.right),e+=r.corners.right-r.point.x):e+=void 0!==i&&"Top"!==i&&"Bottom"===t.direction&&r.point.y<t.point.y||void 0!==i&&"Bottom"!==i&&"Top"===t.direction&&t.point.y<r.point.y?Math.abs(r.point.x-t.corners.right):r.corners.right-r.point.x,e}function QB(r,t,e,i){return r.corners.bottom+r.margin.bottom<t.corners.bottom+t.margin.bottom&&r.corners.bottom+r.margin.bottom>=t.corners.top-t.margin.top?(("Right"===t.direction&&r.point.x<t.point.x||"Left"===t.direction&&r.point.x>t.point.x)&&(e+=t.corners.bottom-r.corners.bottom),e+=r.corners.bottom-r.point.y):e+=void 0!==i&&"Left"!==i&&"Right"===t.direction&&r.point.x<t.point.x||void 0!==i&&"Right"!==i&&"Left"===t.direction&&t.point.x<r.point.x?Math.abs(r.point.y-t.corners.bottom):r.corners.bottom-r.point.y,e}function IG(r,t){var e=r.direction;r.direction=t.direction,t.direction=e;var i=r.point;r.point=t.point,t.point=i;var n=r.corners;r.corners=t.corners,t.corners=n}function Zu(r,t,e,i){var s=void 0===t?e:t,o=s.topLeft,a=s.topRight,l=s.bottomRight,h=s.bottomLeft,c=s.center,u=Nr(c,r),d=Nr(c,l),p=Nr(c,h),f=Nr(c,o),m=Nr(c,a);return u>f&&u<m?"Top":u>=d&&u<p?"Bottom":u>=p&&u<=f?"Left":"Right"}function MG(r){var t=r.wrapper.children[0].bounds;return"None"!==r.sourceDecorator.shape&&t.uniteRect(r.wrapper.children[1].bounds),"None"!==r.targetDecorator.shape&&t.uniteRect(r.wrapper.children[2].bounds),t}function Ch(r){switch(r){case"Top":return"Bottom";case"Bottom":return"Top";case"Left":return"Right";case"Right":return"Left"}return"auto"}var xG=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xy=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},wL=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return xG(t,r),xy([O()],t.prototype,"width",void 0),xy([O()],t.prototype,"height",void 0),t}(ii),Lge=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return xG(t,r),xy([O()],t.prototype,"width",void 0),xy([O()],t.prototype,"height",void 0),xy([O()],t.prototype,"fit",void 0),xy([O()],t.prototype,"description",void 0),xy([O()],t.prototype,"template",void 0),xy([O()],t.prototype,"tooltip",void 0),t}(ii),kge=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gf=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},DG=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kge(t,r),Gf([O("")],t.prototype,"id",void 0),Gf([O(-1)],t.prototype,"zIndex",void 0),Gf([Lt({},_l)],t.prototype,"margin",void 0),Gf([O(!0)],t.prototype,"visible",void 0),Gf([Lt({},Qx)],t.prototype,"tooltip",void 0),Gf([O(!1)],t.prototype,"excludeFromLayout",void 0),Gf([O()],t.prototype,"addInfo",void 0),Gf([O("None")],t.prototype,"flip",void 0),Gf([O("All")],t.prototype,"flipMode",void 0),Gf([Lt({},Lge)],t.prototype,"symbolInfo",void 0),t}(ii),Nge=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sh=function(r){function t(e,i,n,s){var o=r.call(this)||this;return o.data="",o.nodeId="",o.annotationId="",o.diagramId="",o.diagramId=i,o.nodeId=e,o.annotationId=n,o.templateFn=QX(s),o}return Nge(t,r),t.prototype.getNodeTemplate=function(){return this.templateFn},Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.canReset||(this.canReset=!0,this.isTemplate||(this.template=Hb(this,!0)),this.canReset=!1,this.isDirt=!0)},enumerable:!0,configurable:!0}),t}(Jl),$B=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jh=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},TG=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $B(t,r),jh([O("")],t.prototype,"id",void 0),jh([O("transparent")],t.prototype,"fill",void 0),jh([O("black")],t.prototype,"iconStrokeColor",void 0),jh([O(0)],t.prototype,"iconStrokeWidth",void 0),jh([O(!0)],t.prototype,"visibility",void 0),jh([O(10)],t.prototype,"width",void 0),jh([O(10)],t.prototype,"height",void 0),jh([O("transparent")],t.prototype,"handleStrokeColor",void 0),jh([O(1)],t.prototype,"handleStrokeWidth",void 0),jh([O("")],t.prototype,"pathData",void 0),jh([O(0)],t.prototype,"cornerRadius",void 0),jh([Lt({left:0,right:0,top:0,bottom:0},_l)],t.prototype,"padding",void 0),t}(ii),EG=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $B(t,r),jh([Lt({x:0,y:0},Be)],t.prototype,"offset",void 0),jh([Lt({},_l)],t.prototype,"margin",void 0),t}(TG),IL=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $B(t,r),jh([O(.5)],t.prototype,"offset",void 0),jh([O("Center")],t.prototype,"alignment",void 0),jh([Lt({x:0,y:0},Be)],t.prototype,"displacement",void 0),t}(TG);function Ab(r){return r?r instanceof qu||r instanceof zl?r.constraints&Rl.Select:r instanceof Gt?r.constraints&$e.Select:r.constraints&j.Select:1}function Vc(r){return r?r instanceof qu||r instanceof zl?r.constraints&Rl.Drag:r instanceof Gt?r.constraints&$e.Drag:r instanceof Pr?1:r.constraints&j.Drag:1}function Pge(r,t){return r instanceof Gt?r.constraints&$e.PointerEvents:r.constraints&j.PointerEvents}function qB(r){return r instanceof Gt?r.constraints&$e.Delete:r.constraints&j.Delete}function ML(r){return r.constraints&$e.DragSourceEnd}function xL(r){return r.constraints&$e.DragTargetEnd}function ZB(r){return r.constraints&$e.DragSegmentThumb}function DL(r){return r instanceof qu||r instanceof zl?r.constraints&Rl.Rotate:r.constraints&j.Rotate}function TL(r){return r.constraints&j.Shadow}function Ud(r){return r instanceof Et&&r.constraints&j.InConnect?r.constraints&j.InConnect:0}function kv(r){return r&&r.constraints&&!(r.constraints&kr.None)&&r.constraints&kr.InConnect?r.constraints&kr.InConnect:0}function Nv(r){return r instanceof Et&&r.constraints&j.OutConnect?r.constraints&j.OutConnect:0}function Ob(r){return r&&r.constraints&&!(r.constraints&kr.None)&&r.constraints&kr.OutConnect?r.constraints&kr.OutConnect:0}function Xf(r,t){var e=0;return r instanceof qu||r instanceof zl?e=r.constraints&Rl.Resize:r&&("SouthEast"===t?e=r.constraints&j.ResizeSouthEast:"East"===t?e=r.constraints&j.ResizeEast:"NorthEast"===t?e=r.constraints&j.ResizeNorthEast:"South"===t?e=r.constraints&j.ResizeSouth:"North"===t?e=r.constraints&j.ResizeNorth:"SouthWest"===t?e=r.constraints&j.ResizeSouthWest:"West"===t?e=r.constraints&j.ResizeWest:"NorthWest"===t&&(e=r.constraints&j.ResizeNorthWest)),e}function EL(r){return r instanceof Gt?r.constraints&$e.AllowDrop:r.constraints&j.AllowDrop}function hc(r){return r.constraints&Un.Virtualization}function AL(r){return r.tool&Do.SingleSelect}function JB(r){return r.tool&Do.MultipleSelect}function Pv(r){return r.tool&Do.ZoomPan}function OL(r){return r.tool&Do.ContinuousDraw}function AG(r){return r.tool&Do.DrawOnce}function LL(r){return r.tool&Do.SingleSelect||r.tool&Do.MultipleSelect}function Zx(r){return r.constraints&Un.UserInteraction}function OG(r){return r.constraints&Un.ZoomTextEdit}function Jx(r){return function jge(r){return r.constraints&Un.ApiUpdate}(r)||r.diagramActions&Dt.ToolAction}function KB(r,t){return r.constraints&kr.Draw}function e4(r,t){return r.constraints&kr.Drag}function kL(r){return!(r&Yp.DrawSelectorBorder)}function LG(r){return!!(r&Yp.PreventRenderSelector)}var t4=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kx=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.childTable=[],e.cellStyle={},e.desiredRowHeight=[],e.desiredCellWidth=[],e}return t4(t,r),t.prototype.rowDefinitions=function(){return this.rowDefns},t.prototype.columnDefinitions=function(){return this.colDefns},t.prototype.addObject=function(e,i,n,s,o){if(this.rows.length>=i){var a=this.rows[parseInt(i.toString(),10)];if(a.cells.length>n){o=o||1,s=s||1;var l=a.cells[parseInt(n.toString(),10)];l.columnSpan=Math.max(o,l.columnSpan),l.rowSpan=Math.max(s,l.rowSpan);var h=new Yge;(h=e).rowId=i,h.columnId=n,h.columnSpan=o,this.childTable[h.id]=h,this.addObjectToCell(h,l)}}},t.prototype.addObjectToCell=function(e,i){i.children||(i.children=[]),e.style.strokeColor="black",e.style.strokeWidth=1,e.style.fill="white",i.children.push(e)},t.prototype.updateProperties=function(e,i,n,s){this.offsetX=e,this.offsetY=i,this.width=n,this.height=s},t.prototype.setDefinitions=function(e,i){this.rowDefns=e,this.colDefns=i,this.children=[],this.rows=this.rows||[];for(var n=0;n<e.length;n++){var s=e[parseInt(n.toString(),10)],o=new kG;o.cells=[];var a=new Lb;a.width=this.width;var l=this.colDefns;(void 0===l||l.length<1)&&(l=[a]),this.addCellInRow(l,s,o),this.rows.push(o)}},t.prototype.addCellInRow=function(e,i,n){for(var s=0;s<e.length;s++){var o=e[parseInt(s.toString(),10)],a=new NG;a.children=[],this.cellStyle.fill="none",this.cellStyle.strokeColor="none",a.id=kn(),a.style=this.cellStyle,a.desiredCellWidth=a.minWidth=o.width,a.desiredCellHeight=a.minHeight=i.height,n.cells.push(a),this.children.push(a)}},t.prototype.calculateSize=function(){for(var e=this.rows||[],i=0,n=0,s=0;s<e.length;s++){var o=this.rows[parseInt(s.toString(),10)];n=0;for(var a=0;a<o.cells.length;a++)if(n+=o.cells[parseInt(a.toString(),10)].desiredCellWidth,a===o.cells.length-1&&(this.width&&this.width!==n&&(o.cells[parseInt(a.toString(),10)].desiredCellWidth+=this.width-n,o.cells[parseInt(a.toString(),10)].minWidth=o.cells[parseInt(a.toString(),10)].desiredCellWidth,o.cells[parseInt(a.toString(),10)].children&&o.cells[parseInt(a.toString(),10)].children.length&&(o.cells[parseInt(a.toString(),10)].children[0].width=o.cells[parseInt(a.toString(),10)].desiredCellWidth),this.colDefns[parseInt(a.toString(),10)].width=o.cells[parseInt(a.toString(),10)].desiredCellWidth),i+=o.cells[parseInt(a.toString(),10)].desiredCellHeight,s===e.length-1&&this.height&&this.height!==i)){var l=this.height-i;if(l>0){for(var h=0;h<o.cells.length;h++)o.cells[parseInt(h.toString(),10)].desiredCellHeight+=l,o.cells[parseInt(h.toString(),10)].minHeight=o.cells[parseInt(h.toString(),10)].desiredCellHeight=o.cells[parseInt(h.toString(),10)].desiredCellHeight,o.cells[parseInt(h.toString(),10)].children&&o.cells[parseInt(h.toString(),10)].children.length&&(o.cells[parseInt(h.toString(),10)].children[0].height=o.cells[parseInt(h.toString(),10)].desiredCellHeight);this.rowDefns[parseInt(s.toString(),10)].height+=l}}}},t.prototype.updateRowHeight=function(e,i,n,s){var o=this.rows[parseInt(e.toString(),10)];this.rowDefns[parseInt(e.toString(),10)].height=i,void 0!==this.height&&(this.height+=i-o.cells[0].desiredCellHeight);for(var a=0;a<o.cells.length;a++)o.cells[parseInt(a.toString(),10)].desiredCellHeight=o.cells[parseInt(a.toString(),10)].minHeight=i,o.cells[parseInt(a.toString(),10)].children&&o.cells[parseInt(a.toString(),10)].children.length&&(o.cells[parseInt(a.toString(),10)].children[0].height=i,this.setTextRefresh(o.cells[parseInt(a.toString(),10)].children[0]));if(this.desiredRowHeight[parseInt(e.toString(),10)]=i,this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize),n){var l=void 0!==s?this.calculateCellHeightBasedOnChildren(e,s):this.calculateCellHeight(e);l>i&&this.updateRowHeight(e,l,!1)}},t.prototype.setTextRefresh=function(e){if(e.children&&e.children.length)for(var i=e.children,n=0;n<i.length;n++)i[parseInt(n.toString(),10)]instanceof Qr&&i[parseInt(n.toString(),10)].refreshTextElement(),i[parseInt(n.toString(),10)]instanceof Ds&&this.setTextRefresh(i[parseInt(n.toString(),10)])},t.prototype.updateColumnWidth=function(e,i,n,s){this.colDefns[parseInt(e.toString(),10)].width=i,void 0!==this.width&&(this.width+=i-this.rows[this.rows.length-1].cells[parseInt(e.toString(),10)].desiredCellWidth);for(var o=0;o<this.rows.length;o++)this.setTextRefresh(this.rows[parseInt(o.toString(),10)].cells[0]),this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)].desiredCellWidth=this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)].minWidth=i,this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)].children&&this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)].children.length&&(this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)].children[0].width=i);if(this.desiredCellWidth[parseInt(e.toString(),10)]=i,this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize),n){var a=void 0!==s?this.calculateCellWidthBasedOnChildren(e,s):this.calculateCellWidth(e);a>i&&this.updateColumnWidth(e,a,!1)}},t.prototype.calculateCellWidth=function(e){for(var i,n,s,o=0;o<this.rows.length;o++)1===(s=this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)]).columnSpan&&(n=s.outerBounds.width>s.bounds.width&&(0===s.children.length||void 0===s.children[0].maxWidth)?s.outerBounds.width:s.bounds.width,i=i?i<n?n:i:n);return i},t.prototype.calculateCellHeight=function(e){for(var i,n,s,o=this.rows[parseInt(e.toString(),10)],a=0;a<o.cells.length;a++)n=(s=o.cells[parseInt(a.toString(),10)]).outerBounds.height>s.bounds.height?s.outerBounds.height:s.bounds.height,i=i?i<n?n:i:n;return i},t.prototype.calculateCellSizeBasedOnChildren=function(e,i,n,s){var o,a=e&&e.children.length>0?e.children[0]:void 0;if(a&&1===e.columnSpan){o="Width"===i?a.bounds.right:a.bounds.bottom,s||(s="Width"===i?a.bounds.width:a.bounds.height);for(var l=0;l<a.children.length;l++){var h=a.children[parseInt(l.toString(),10)];if(h instanceof Ds&&-1===h.id.indexOf("header")){var c=("Width"===i?h.bounds.right:h.bounds.bottom)+n;if(c>o){var u=c-o+("Width"===i?a.bounds.width:a.bounds.height);s&&(s=s<u?u:s)}}}}return s},t.prototype.calculateCellWidthBasedOnChildren=function(e,i){for(var n,s,o=0;o<this.rows.length;o++)s=this.rows[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)],n=this.calculateCellSizeBasedOnChildren(s,"Width",i,n);return n},t.prototype.calculateCellHeightBasedOnChildren=function(e,i){for(var n,s,o=this.rows[parseInt(e.toString(),10)],a=0;a<o.cells.length;a++)s=o.cells[parseInt(a.toString(),10)],n=this.calculateCellSizeBasedOnChildren(s,"Height",i,n);return n},t.prototype.addRow=function(e,i,n){this.rowDefns.length>0?this.rowDefns.splice(e,0,i):this.rowDefns.push(i);var s=new kG;s.cells=[],(new Lb).width=this.width,this.addCellInRow(this.colDefns,i,s),e>this.rows.length-1?this.rows.push(s):this.rows.splice(e,0,s),n&&(this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.addColumn=function(e,i,n){var s,o,a,l,h=this.rows;this.colDefns.length>0?this.colDefns.splice(e,0,i):this.colDefns.push(i),void 0!==this.width&&(this.width+=i.width);for(var c=0;c<h.length;c++)s=h[parseInt(c.toString(),10)],o=this.rowDefns[parseInt(c.toString(),10)],a=i,(l=new NG).style=this.cellStyle,l.desiredCellWidth=l.minWidth=a.width,l.desiredCellHeight=l.minHeight=o.height,l.children=[],e>s.cells.length-1?s.cells.push(l):s.cells.splice(e,0,l),this.children.push(l);n&&(this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.removeRow=function(e){var i,n,o=this.rows[parseInt(e.toString(),10)];this.height-=this.rowDefns[parseInt(e.toString(),10)].height;for(var a=0;a<o.cells.length;a++)i=o.cells[parseInt(a.toString(),10)],this.children.splice(this.children.indexOf(i),1),(n=document.getElementById(i.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n);this.rows.splice(e,1),this.rowDefns.splice(e,1),this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.removeColumn=function(e){var i,n,s=this.rows;this.width-=this.colDefns[parseInt(e.toString(),10)].width;for(var o=0;o<s.length;o++)i=s[parseInt(o.toString(),10)].cells[parseInt(e.toString(),10)],this.children.splice(this.children.indexOf(i),1),(n=document.getElementById(i.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n),s[parseInt(o.toString(),10)].cells.splice(e,1);this.colDefns.splice(e,1),this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateRowIndex=function(e,i){var n=this.rows[parseInt(e.toString(),10)];this.rows.splice(e,1),this.rows.splice(i,0,n);var s=this.rowDefns[parseInt(e.toString(),10)];this.rowDefns.splice(e,1),this.rowDefns.splice(i,0,s),this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateColumnIndex=function(e,i,n){for(var s,o,a=e;a<this.rows.length;a++)s=this.rows[parseInt(a.toString(),10)],o=this.rows[parseInt(a.toString(),10)].cells[parseInt(i.toString(),10)],s.cells.splice(i,1),s.cells.splice(n,0,o);var l=this.colDefns[parseInt(i.toString(),10)];this.colDefns.splice(i,1),this.colDefns.splice(n,0,l);var h=this.desiredCellWidth[parseInt(i.toString(),10)];this.desiredCellWidth.splice(i,1),this.desiredCellWidth.splice(n,0,h),this.measure(new pi(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.measure=function(e){var i=void 0;if(void 0!==this.rows&&this.rows.length>0){var n=0,s=0;i=new pi(0,0),this.calculateSize();for(var o=0,a=this.rows;o<a.length;o++){s=0;for(var h=0,c=(l=a[o]).cells;h<c.length;h++){var d=(u=c[h]).measure(new pi(u.desiredCellWidth,u.desiredCellHeight));1===u.rowSpan&&(0===s||void 0===this.desiredRowHeight[parseInt(n.toString(),10)]?this.desiredRowHeight[parseInt(n.toString(),10)]=d.height:this.desiredRowHeight[parseInt(n.toString(),10)]=Math.max(d.height,this.desiredRowHeight[parseInt(n.toString(),10)])),1===u.columnSpan&&(0===n||void 0===this.desiredCellWidth[parseInt(s.toString(),10)]?this.desiredCellWidth[parseInt(s.toString(),10)]=d.width:this.desiredCellWidth[parseInt(s.toString(),10)]=Math.max(d.width,this.desiredCellWidth[parseInt(s.toString(),10)]),n===this.rows.length-1&&(i.width+=this.desiredCellWidth[parseInt(s.toString(),10)])),s++}i.height+=this.desiredRowHeight[parseInt(n.toString(),10)],n++}n=s=0;for(var p=0,f=0,m=this.rows;f<m.length;f++){var l;s=0;for(var M=0,T=0,P=(l=m[f]).cells;T<P.length;T++){var u;if(1!==(u=P[T]).columnSpan){u.desiredSize.width=0;for(var U=0;U<u.columnSpan;U++)U+s<l.cells.length&&(u.desiredSize.width+=this.desiredCellWidth[U+s],u.minWidth=u.desiredSize.width,u.measure(u.desiredSize));s++}else u.desiredSize.width=this.desiredCellWidth[parseInt(M.toString(),10)],u.measure(u.desiredSize);if(1!==u.rowSpan)for(u.desiredSize.height=0,U=0;U<u.rowSpan;U++)U+p<this.rows.length&&(u.desiredSize.height+=this.desiredRowHeight[U+p],u.minHeight=u.desiredSize.height,u.measure(u.desiredSize));else u.desiredSize.height=this.desiredRowHeight[parseInt(p.toString(),10)],u.measure(u.desiredSize);n++,M++}p++}}return void 0===i&&(i=r.prototype.validateDesiredSize.call(this,i,e)),r.prototype.stretchChildren.call(this,i),this.desiredSize=i,i},t.prototype.arrange=function(e,i){var n=0,s=0;if(void 0!==this.rows&&this.rows.length>0){for(var o=this.offsetX-e.width*this.pivot.x,a=this.offsetY-e.height*this.pivot.y,l=o,h=0,c=this.rows;h<c.length;h++){l=o,n=0;for(var d=0,p=(u=c[h]).cells;d<p.length;d++){var f=p[d],m=Math.max(this.desiredCellWidth[parseInt(n.toString(),10)],f.desiredSize.width),M=Math.max(this.desiredRowHeight[parseInt(s.toString(),10)],f.desiredSize.height);f.offsetX=l+m*f.pivot.x,f.offsetY=a+M*f.pivot.y,l+=this.desiredCellWidth[parseInt(n.toString(),10)],f.arrange(new pi(m,M)),n++}a+=this.desiredRowHeight[parseInt(s.toString(),10)],s++}if(i){f=void 0;var u=void 0,T=void 0,P=void 0,U=void 0;for(s=0;s<this.rows.length;s++)for(u=this.rows[parseInt(s.toString(),10)],n=0;n<u.cells.length;n++)if((f=u.cells[parseInt(n.toString(),10)]).columnSpan>1&&this.children.splice(this.children.indexOf(f)+1,f.columnSpan-1),f.rowSpan>1)for(T=s,P=0;T+f.rowSpan-1<this.rows.length&&P<f.rowSpan-1;T++,P++)U=this.rows[T+1].cells[parseInt(n.toString(),10)],this.children.splice(this.children.indexOf(U),1)}}return this.actualSize=e,this.updateBounds(),e},t}(Fh),eD=function(){return function r(){this.height=void 0}}(),Lb=function(){return function r(){this.width=void 0}}(),kG=function(){return function r(){this.cells=null}}(),NG=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.columnSpan=1,e.rowSpan=1,e}return t4(t,r),t}(Ds),Yge=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rowId=0,e.columnId=0,e.rowSpan=1,e.columnSpan=1,e}return t4(t,r),t}(Jl);function tD(r,t,e,i,n,s,o,a){var l=new Et(r,"nodes",i,!0);if(l.parentId=e.id,l.isHeader=!!n,l.isPhase=!!s,l.isLane=!!o,a&&(l[s?"PhaseHeaderParent":"LaneHeaderParent"]=a),l.constraints&=~(j.InConnect|j.OutConnect),l.constraints|=j.HideThumbs,r.initObject(l),r.nodes.push(l),l.wrapper.children.length>0){for(var c=0;c<l.wrapper.children.length;c++){var u=l.wrapper.children[parseInt(c.toString(),10)];u instanceof Jl&&(u.isCalculateDesiredSize=!1),u instanceof Qr&&(u.canConsiderBounds=!1,(!n&&"Vertical"===e.shape.orientation&&s||"Vertical"!==e.shape.orientation&&o)&&(u.isLaneOrientation=!0,u.refreshTextElement()))}l.wrapper.measure(new pi(void 0,void 0)),l.wrapper.arrange(l.wrapper.desiredSize)}return l.wrapper}function i4(r,t,e,i,n,s){var l,o=0,a=0,h=e.shape;n?(a=s,o=i,l=r.columnDefinitions()[parseInt(s.toString(),10)].width):o=h.header&&h.hasHeader?s+1:s;var c={annotations:[rt(h.phases[parseInt(s.toString(),10)].header.annotation)],maxWidth:l,id:e.id+h.phases[parseInt(s.toString(),10)].id+"_header",addInfo:h.phases[parseInt(s.toString(),10)].addInfo,offsetX:e.offsetX,offsetY:e.offsetY,style:h.phases[parseInt(s.toString(),10)].style,rowIndex:o,columnIndex:a,container:{type:"Canvas",orientation:n?"Horizontal":"Vertical"}};c.annotations[0].rotateAngle=n?0:270,Ab(e)||(c.constraints&=~j.Select),h.phases[parseInt(s.toString(),10)].header.id=c.id;var u=tD(t,0,e,c,!1,!0,!1,h.phases[parseInt(s.toString(),10)].id);r.addObject(u,o,a)}function PG(r,t,e,i,n,s){for(var o,a,l,h,c,u=e.shape,d=u.phases.length||1,f=s?i:u.header&&u.hasHeader?1:0,m=u.phaseSize&&u.phases.length>0?1:0,M=0;M<d;M++){var T=s?M:n+m;l=r.rows[parseInt(f.toString(),10)].cells[parseInt(T.toString(),10)],h={id:e.id+u.lanes[parseInt(n.toString(),10)].id+M,rowIndex:f,columnIndex:T,width:l.minWidth,height:l.minHeight,offsetX:e.offsetX,offsetY:e.offsetY,style:u.lanes[parseInt(n.toString(),10)].style,addInfo:u.lanes[parseInt(n.toString(),10)].addInfo,constraints:j.Default|j.ReadOnly|j.AllowDrop,container:{type:"Canvas",orientation:s?"Horizontal":"Vertical"}},Ab(e)||(h.constraints&=~j.Select),(a=tD(t,0,e,h,!1,!1,!0)).children[0].isCalculateDesiredSize=!1,0===M&&((o={id:e.id+u.lanes[parseInt(n.toString(),10)].id+"_"+M+"_header",style:u.lanes[parseInt(n.toString(),10)].header.style,annotations:[rt(u.lanes[parseInt(n.toString(),10)].header.annotation)],offsetX:e.offsetX,offsetY:e.offsetY,rowIndex:f,columnIndex:T,container:{type:"Canvas",orientation:s?"Horizontal":"Vertical"}}).annotations[0].rotateAngle=s?270:0,u.lanes[parseInt(n.toString(),10)].header.id=o.id,s?o.width=u.lanes[n].header.width:o.height=u.lanes[parseInt(n.toString(),10)].header.height,Ab(e)||(o.constraints&=~j.Select),c=tD(t,0,e,o,!1,!1,!0,u.lanes[parseInt(n.toString(),10)].id),s&&(c.children[0].elementActions=c.children[0].elementActions|Na.HorizontalLaneHeader),a.children.push(c)),r.addObject(a,f,T),s||f++,T=s?M:n+1}}function iD(r,t){var e=new eD;e.height=t,r.push(e)}function nD(r){var t=new Lb;return t.width=r,t}function Dy(r,t,e,i){for(var o,a,l,h,c,u,p,n=[],s=0,d=t.rowDefinitions().length,f=0;f<d;f++)for(u=t.rows[parseInt(f.toString(),10)],h=0;h<u.cells.length;h++)if((c=u.cells[parseInt(h.toString(),10)].children[0])&&c.children&&c.children.length)for(l=1;l<c.children.length;l++)if(o=c.children[parseInt(l.toString(),10)],(a=r.getObject(o.id))&&(a.inEdges.length>0||a.outEdges.length>0))for(p=a.inEdges.concat(a.outEdges),s=0;s<p.length;s++)-1===n.indexOf(p[parseInt(s.toString(),10)])&&n.push(p[parseInt(s.toString(),10)]);return n}function jw(r){var t=r.wrapper;if(t.measure(new pi(r.width,r.height)),t.children[0]instanceof Kx){var e=t.children[0],i=!1;e.width&&e.width<e.desiredSize.width&&(i=!0,e.width=e.desiredSize.width),e.height&&e.height<e.desiredSize.height&&(i=!0,e.height=e.desiredSize.height),i&&e.measure(new pi(e.width,e.height))}t.arrange(t.desiredSize)}function Hw(r,t,e){var n,s,o,a,l,h,c,u,i=t.wrapper.children[0];for(n=e;n<i.rows.length;n++)for(h=i.rows[parseInt(n.toString(),10)],s=0;s<h.cells.length;s++)if((c=h.cells[parseInt(s.toString(),10)]).children&&c.children.length>0)for(o=0;o<c.children.length;o++)u=c.children[parseInt(o.toString(),10)],(a=r.nameTable[u.id]).isLane&&u.children.length>1&&(l=r.nameTable[u.children[1].id])&&l.isLane&&(l.rowIndex=n,l.columnIndex=s),a.rowIndex=n,a.columnIndex=s}function _G(r,t,e){r.measure(new pi(t.width,t.height)),r.arrange(r.desiredSize);var i=e.getObject(t.parentId);e.addChild(i,t.id)}function RG(r){if("SwimLane"===r.shape.type&&!r.shape.isLane&&!r.shape.isPhase){var t=void 0,e=void 0,n=void 0,s=r.shape.lanes,o=_L(r),a=r.wrapper.children[0].rowDefinitions();for(e=0;e<s.length;e++,o++)t=s[parseInt(e.toString(),10)],"Horizontal"===r.shape.orientation?(n=a[parseInt(o.toString(),10)].height,t.height!==n&&(t.height=n)):(n=r.wrapper.children[0].columnDefinitions()[parseInt(o.toString(),10)].width,t.width!==n&&(t.width=n))}}function NL(r,t){var n,s,o,a,e=r.shape,i=e.phases,l=e.header&&e.hasHeader?1:0,h=r.wrapper.children[0],c=h.bounds.y+(e.header&&e.hasHeader?e.header.height:0);if("SwimLane"===r.shape.type&&(r=t.getObject(r.id)||r,i.length>0))if(h=r.wrapper.children[0],"Horizontal"===e.orientation)for(o=e.header&&e.hasHeader?h.rows[1]:h.rows[0],n=0;n<i.length;n++)s=(a=o.cells[parseInt(n.toString(),10)].children[0]).bounds.right-h.bounds.x,i[parseInt(n.toString(),10)].offset!==s&&(i[parseInt(n.toString(),10)].offset=s),t.nameTable[a.id].maxWidth=a.maxWidth;else for(n=0;n<i.length;n++)s=(a=h.rows[l+n].cells[0].children[0]).bounds.bottom-c,i[parseInt(n.toString(),10)].offset!==s&&(i[parseInt(n.toString(),10)].offset=s),t.nameTable[a.id].maxWidth=a.maxWidth}function kb(r,t){if(r&&r.length>0){var e=void 0;t.lineRoutingModule&&t.constraints&Un.LineRouting&&t.lineRoutingModule.renderVirtualRegion(t,!0);for(var i=0;i<r.length;i++)e=t.getObject(r[parseInt(i.toString(),10)]),t.lineRoutingModule&&t.constraints&Un.LineRouting&&"Orthogonal"===e.type?t.lineRoutingModule.refreshConnectorSegments(t,e,!0):t.connectorPropertyChange(e,{},{sourceID:e.sourceID,targetID:e.targetID})}}function zG(r,t,e,i){var n,s,a,l,h,c,u,d,f=r.getObject(t.parentId),m=f.shape,M=f.wrapper.children[0],T=m.lanes,P=Dy(r,M);if("Horizontal"===m.orientation&&t.rowIndex!==e.rowIndex||"Vertical"===m.orientation&&t.columnIndex!==e.columnIndex){if("Horizontal"===m.orientation)l=t.rowIndex,h=e.rowIndex,u=t.rowIndex-(n=(m.header&&m.hasHeader?1:0)+(m.phases.length&&m.phaseSize?1:0)),d=e.rowIndex-n,T[parseInt(u.toString(),10)].canMove&&(u<d?i&&e.wrapper.offsetY>i.y&&(h+=d>0?-1:1,d+=d>0?-1:1):i&&e.wrapper.offsetY<i.y&&(h+=1,d+=1),l!==h&&M.updateRowIndex(l,h));else if(l=t.columnIndex,h=e.columnIndex,u=t.columnIndex-(n=m.phases.length&&m.phaseSize?1:0),d=e.columnIndex-n,T[parseInt(u.toString(),10)].canMove&&(u<d?i&&e.wrapper.offsetX>i.x&&(h+=d>0?-1:1,d+=d>0?-1:1):i&&e.wrapper.offsetX<i.x&&(h+=1,d+=1),l!==h)){if((0===m.phaseSize||0===m.phases.length)&&(0===h||0===l)&&m.header&&m.hasHeader){var U=0===h?l:h;M.rows[0].cells[parseInt(U.toString(),10)].children=M.rows[0].cells[0].children,M.rows[0].cells[parseInt(U.toString(),10)].columnSpan=M.rows[0].cells[0].columnSpan,M.rows[0].cells[0].children=[]}M.updateColumnIndex(0,l,h)}l!==h&&(c=T[parseInt(u.toString(),10)]).canMove&&(s={target:rt(e),source:rt(t)},c=T[parseInt(u.toString(),10)],T.splice(u,1),T.splice(d,0,c),a={target:rt(s.source),source:rt(s.target)},r.diagramActions&Dt.UndoRedo||r.commandHandler.addHistoryEntry({type:"LanePositionChanged",redoObject:a,undoObject:s,category:"Internal"}),Hw(r,f,0),kb(P,r),function uve(r,t){for(var e,i,n=0;n<r.length;n++){e=r[parseInt(n.toString(),10)];for(var s=0;s<e.children.length;s++)(i=t.nameTable[e.children[parseInt(s.toString(),10)].id]).offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY}}(T,r),f.wrapper.measure(new pi(f.width,f.height)),f.wrapper.arrange(f.wrapper.desiredSize),r.updateDiagramObject(f))}r.updateDiagramElementQuad()}function n4(r,t,e,i){var n=r.getObject(e.id),s=n.shape,o=s.header&&s.hasHeader?1:0,a=s.lanes,l=s.phases,h=i.wrapper.actualSize.width,c=i.wrapper.actualSize.height,u=t.wrapper.actualSize.width,d=t.wrapper.actualSize.height;"SwimLane"===n.shape.type&&("Horizontal"===s.orientation?t.isPhase?l[t.columnIndex].offset+=h-u:a[t.rowIndex-(o=s.phaseSize&&s.phases.length>0?o+1:o)].height+=c-d:t.isPhase?l[t.rowIndex-o].offset+=c-d:a[t.columnIndex-(o=s.phaseSize&&s.phases.length>0?1:0)].width+=h-u)}function PL(r,t){var i=r.shape,n=i.header&&i.hasHeader?1:0;return"Horizontal"===i.orientation?t.rowIndex-(n+=i.phases.length>0?1:0):t.columnIndex-(i.phaseSize&&i.phases.length>0?1:0)}function _L(r){var t=0,e=r.shape;return"Horizontal"===e.orientation&&(t=e.header&&e.hasHeader?1:0),e.phases.length>0&&e.phaseSize&&(t+=1),t}function RL(r,t,e,i){var n=r.shape;if(n.phases.length>0){var s=t.nameTable[n.phases[parseInt(i.toString(),10)].header.id];s&&s.maxWidth<e.outerBounds.width&&(s.maxWidth=e.outerBounds.width,s.wrapper.maxWidth=e.outerBounds.width)}}function Ty(r,t){if(t.shape.header&&t.shape.hasHeader){var n=r.nameTable[""+t.wrapper.children[0].rows[0].cells[0].children[0].id];n&&n.isHeader&&n.maxWidth<t.width&&(n.maxWidth=t.width,n.wrapper.maxWidth=t.width)}}function Kge(r,t,e,i){var n,s=r.nameTable[t.id];if("SwimLane"===s.shape.type){r.protectPropertyChange(!0);var o=s.wrapper.children[0],a=o.bounds,l=s.shape,h=void 0,c=!1,u=void 0,d=void 0,p=void 0,f=void 0,m=void 0,M=void 0,P=void 0,U=void 0,Y=new yD(l,"lanes",e,!0);d=l.header&&l.hasHeader?1:0,"Horizontal"===l.orientation&&(c=!0,d=l.phases.length>0?d+1:d);var X=Dy(r,o),Q=void 0!==i?i:l.lanes.length;if(d+=Q,n={element:Y,cause:r.diagramActions,diagramAction:r.getDiagramAction(r.diagramActions),state:"Changing",type:"Addition",cancel:!1,laneIndex:Q},r.triggerEvent(_i.collectionChange,n),!n.cancel){if(c){var oe=new eD;oe.height=e.height,o.addRow(d,oe,!1),s.height=void 0!==s.height?s.height+e.height:s.height,s.wrapper.height=o.height=s.height}else{var de=new Lb;de.width=e.width,o.addColumn(Q+1,de,!1),s.width&&(s.width+=e.width,s.wrapper.width=o.width=s.width),r.diagramActions&Dt.UndoRedo||(o.rows[0].cells[0].columnSpan+=1)}if(r.diagramActions&Dt.UndoRedo||(Y.id=""===Y.id?kn():Y.id),void 0!==i?l.lanes.splice(i,0,Y):l.lanes.push(Y),n={element:Y,cause:r.diagramActions,diagramAction:r.getDiagramAction(r.diagramActions),state:"Changed",type:"Addition",cancel:!1,laneIndex:Q},r.triggerEvent(_i.collectionChange,n),PG(o,r,s,d,Q,c),h="Horizontal"===l.orientation?r.nameTable[o.rows[parseInt(d.toString(),10)].cells[0].children[0].id]:l.header&&l.hasHeader?r.nameTable[o.rows[1].cells[parseInt(d.toString(),10)].children[0].id]:r.nameTable[o.rows[0].cells[parseInt(d.toString(),10)].children[0].id],r.diagramActions&Dt.UndoRedo||(u={type:"LaneCollectionChanged",changeType:"Insert",undoObject:rt(Y),redoObject:rt(h),category:"Internal"},r.addHistoryEntry(u)),Hw(r,s,"Horizontal"===l.orientation?d:l.header&&l.hasHeader?1:0),jw(s),Ty(r,s),(p=e.children)&&p.length>0)for(f=0;f<p.length;f++)if(U={x:(P=p[parseInt(f.toString(),10)]).wrapper.offsetX,y:P.wrapper.offsetY},"Horizontal"===l.orientation)for(parseInt(d.toString(),10),parseInt(f.toString(),10),m=0;m<o.rows[parseInt(d.toString(),10)].cells.length;m++)BG(r,o.rows[parseInt(d.toString(),10)].cells[parseInt(m.toString(),10)],U,P);else for(M=0;M<o.rows.length;M++)BG(r,o.rows[parseInt(M.toString(),10)].cells[parseInt(d.toString(),10)],U,P);kb(X,r),r.drag(s,a.x-o.bounds.x,a.y-o.bounds.y)}r.protectPropertyChange(!1)}}function BG(r,t,e,i){if(t.children&&t.children.length>0){var n=t.children[0],s=r.nameTable[n.id];n.bounds.containsPoint(e)&&r.addChild(s,i)}}function eve(r,t,e){if("SwimLane"===t.shape.type){var i=void 0,n=void 0,s=void 0,a=void 0,l=void 0,h=void 0,c=t.wrapper.bounds.x,u=t.wrapper.bounds.y,d=t.shape,p=d.padding,f=d.phases,m=void 0,M=t.wrapper.children[0],T="Horizontal"===d.orientation;if(i=d.header&&d.hasHeader?0:-1,d.phases.length>0&&(i+=1),e.offset>(T?d.lanes[0].header.width:d.lanes[0].header.height)){for(h=0;h<f.length;h++)if((s=f[parseInt(h.toString(),10)]).offset>e.offset){if(m=h>0?e.offset-(h>0?f[h-1]:s).offset:e.offset,T){var U=M.columnDefinitions()[parseInt(h.toString(),10)];U.width-=m,(a=r.nameTable[d.phases[parseInt(h.toString(),10)].header.id]).maxWidth=a.wrapper.maxWidth=U.width,M.updateColumnWidth(h,U.width,!1);var Y=new Lb;Y.width=m,l=h,M.addColumn(h,Y,!1);break}var X=M.rowDefinitions()[h+i];X.height-=m,a=r.nameTable[d.phases[parseInt(h.toString(),10)].header.id],M.updateRowHeight(h+i,X.height,!1);var Q=new eD;Q.height=m,l=h,M.addRow(h+i,Q,!1);break}r.diagramActions&Dt.UndoRedo&&void 0===l&&(oe=r.historyManager.currentEntry.next).isLastPhase&&function tve(r,t,e,i,n,s){var a=t.shape.phases[r-2],l=e.previousPhase.offset;if(n){var h=i.columnDefinitions()[r-1],c=new Lb;r>1?(c.width=h.width-(l-a.offset),h.width=l-a.offset):(c.width=h.width-l,h.width=l),i.updateColumnWidth(r-1,h.width,!1),i.addColumn(r,c,!1)}else{h=i.rowDefinitions()[parseInt(r.toString(),10)];var u=new eD;r>1?(u.height=e.undoObject.offset-l,h.height=l-a.offset):(u.height=h.height-l,h.height=l),i.updateRowHeight(r,h.height,!1),i.addRow(1+r,u,!1)}}(l=f.length,t,oe,M,T);var de=new rk(t.shape,"phases",e,!0);if(r.diagramActions&Dt.UndoRedo||(de.id+=kn()),d.phases.splice(l,0,de),i4(M,r,t,i,T,l),T){if(n=r.nameTable[M.rows[parseInt(i.toString(),10)].cells[parseInt(l.toString(),10)].children[0].id],0===l&&d.header&&d.hasHeader){M.rows[0].cells[0].children=M.rows[0].cells[1].children,M.rows[0].cells[1].children=[];for(var Me=M.rows[0],Ve=0;Ve<Me.cells.length;Ve++)Me.cells[parseInt(Ve.toString(),10)].minWidth=void 0,Me.cells[parseInt(Ve.toString(),10)].columnSpan=0===Ve?M.rows[0].cells.length:1}!function ive(r,t,e,i,n){var a,c,s=t.shape,u=_L(t);for(s.header&&s.hasHeader&&(e.rows[0].cells[0].columnSpan=e.rows[0].cells.length),a=u;a<e.rows.length;a++)FG(r,t,(c=e.rows[parseInt(a.toString(),10)]).cells[i-1],c.cells[parseInt(i.toString(),10)],c.cells[i+1],a,i);Hw(r,t,1)}(r,t,M,l);var Ce=M.columnDefinitions();if(M.updateColumnWidth(l,Ce[parseInt(l.toString(),10)].width,!0,p),n.maxWidth=n.wrapper.maxWidth=Ce[parseInt(l.toString(),10)].width,Ce.length>l+1){var ze=r.nameTable[M.rows[parseInt(i.toString(),10)].cells[l+1].children[0].id];M.updateColumnWidth(l+1,Ce[l+1].width,!0,p),ze.maxWidth=ze.wrapper.maxWidth=Ce[l+1].width}t.width=t.wrapper.width=t.wrapper.children[0].width=M.width}else{n=r.nameTable[M.rows[i+l].cells[0].children[0].id];var Ie=M.rowDefinitions(),pe=Ie[i+l].height;(function nve(r,t,e,i,n){for(var o,a,l=e.rows[parseInt(i.toString(),10)],h=e.rows[i+1],c=e.rows[i-1],u=1;u<l.cells.length;u++)o=l.cells[parseInt(u.toString(),10)],a=h?h.cells[parseInt(u.toString(),10)]:void 0,FG(r,t,c.cells[parseInt(u.toString(),10)],o,a,i,u);Hw(r,t,1)})(r,t,M,i+l),M.updateRowHeight(i+l,pe,!0,p),Ie.length>i+l+1&&M.updateRowHeight(i+l+1,pe=Ie[i+l+1].height,!0,p),t.height=t.wrapper.height=t.wrapper.children[0].height=M.actualSize.height}if(jw(t),t.width=t.wrapper.actualSize.width,Ty(r,t),r.drag(t,c-t.wrapper.bounds.x,u-t.wrapper.bounds.y),NL(t,r),!(r.diagramActions&Dt.UndoRedo)){var oe={type:"PhaseCollectionChanged",changeType:"Insert",undoObject:rt(de),redoObject:rt(n),category:"Internal"};r.addHistoryEntry(oe)}r.updateDiagramObject(t)}}}function FG(r,t,e,i,n,s,o){var a,l,f,h=t.shape,c="Horizontal"===h.orientation,u=t.wrapper.children[0],m=c?s:o;e?(a=c?e.bounds.x+e.bounds.width:e.bounds.x,l=c?e.bounds.y:e.bounds.y+e.bounds.height):(a=u.bounds.x,l=n.bounds.y);var M=new Xi(a,l,i.desiredCellWidth,i.desiredCellHeight),P=tD(r,0,t,{id:t.id+(c?h.lanes[m-2]:h.lanes[m-1]).id+kn()[0],rowIndex:s,columnIndex:o,width:i.minWidth,height:i.minHeight,style:(c?h.lanes[m-2]:h.lanes[m-1]).style,constraints:j.Default|j.AllowDrop,container:{type:"Canvas",orientation:c?"Horizontal":"Vertical"}},!1,!1,!0);if(P.children[0].isCalculateDesiredSize=!1,u.addObject(P,s,o),n&&n.children&&n.children.length)for(f=0;f<n.children.length;f++)c?r.nameTable[n.children[parseInt(f.toString(),10)].id].columnIndex+=1:r.nameTable[n.children[parseInt(f.toString(),10)].id].rowIndex+=1;!function rve(r,t,e,i,n,s,o){var a,h,c=r.nameTable[n.id],u=t||o,p=r.nameTable[c.parentId].shape.padding;if(u.children&&u.children[0].children.length>1)for(var f=1;f<u.children[0].children.length;f++)a=u.children[0].children[parseInt(f.toString(),10)],h=r.nameTable[a.id],i.containsPoint(s?{x:a.bounds.x,y:a.bounds.center.y}:{x:a.bounds.center.x,y:a.bounds.top})?(e.children[0].children.push(a),u.children[0].children.splice(f,1),f--,r.deleteChild(h,void 0,!0),h.isLane||(h.parentId=n.id),c.children||(c.children=[]),t||(s?h.margin.left=h.wrapper.bounds.x-u.children[0].bounds.right:h.margin.top=h.wrapper.bounds.y-u.children[0].bounds.bottom),c.children.push(a.id),h.zIndex=c.zIndex+1,r.removeElements(h)):t&&(s?(h.margin.left-=e.desiredCellWidth,p>h.margin.left&&(h.margin.left=p)):(h.margin.top-=e.desiredCellHeight,p>h.margin.top&&(h.margin.top=p)))}(r,n,i,M,P,c,e)}function jG(r,t,e){if("SwimLane"===t.shape.type&&("ResizeSouth"===e||"ResizeEast"===e)){var i=t.shape,n=t.wrapper.children[0],s=void 0,o=void 0;"ResizeSouth"===e?"Vertical"===i.orientation?s=n.rows[n.rows.length-1].cells[0]:(o=n.rows.length-1,s=n.rows[parseInt(o.toString(),10)].cells[n.rows[parseInt(o.toString(),10)].cells.length-1]):(o=i.header&&i.hasHeader?1:0,s=n.rows[parseInt(o.toString(),10)].cells[n.rows[parseInt(o.toString(),10)].cells.length-1]),r.commandHandler.select(r.nameTable[s.children[0].id])}}function zL(r,t,e,i,n,s){var o,a,l,c,d,p,f,u=kn(),m=r.shape,M=m.phases,T=r.offsetX-r.wrapper.actualSize.width/2,P=r.offsetY-r.wrapper.actualSize.height/2;if("Vertical"===m.orientation&&(P+=m.header&&m.hasHeader?m.header.height:0),!s)for(n||(r.id+=u,m&&m.header&&m.hasHeader?m.header.id+=u:m.header=void 0),o=0;M&&o<M.length;o++)M[parseInt(o.toString(),10)].id+=u;var U=n?[e.childTable[i.id]]:m.lanes;for(o=0;U&&o<U.length;o++)for(l=U[parseInt(o.toString(),10)],s||(l.id+=u),a=0;l.children&&a<l.children.length;a++)p=(c=l.children[parseInt(a.toString(),10)]).wrapper.offsetX-c.width/2,f=c.wrapper.offsetY-c.height/2,c.zIndex=-1,c.inEdges=c.outEdges=[],(s||e&&(1===e.pasteIndex||0===e.pasteIndex))&&("Vertical"===m.orientation?c.margin.top=f-P:c.margin.left=p-T),s||(c.id+=u);if(!s){if(n&&(d={shape:{lanes:U,phases:M,phaseSize:m.phaseSize,type:"SwimLane",orientation:m.orientation,header:{annotation:{content:"Title"},height:50}}},"Horizontal"===m.orientation?(d.width=r.wrapper.actualSize.width,d.height=i.wrapper.actualSize.height+m.header.height+m.phaseSize,d.offsetX=r.wrapper.offsetX+10*e.pasteIndex,d.offsetY=i.wrapper.offsetY+10*e.pasteIndex):(d.width=i.wrapper.actualSize.width,d.height=r.wrapper.actualSize.height,d.offsetX=i.wrapper.offsetX+10*e.pasteIndex,d.offsetY=r.wrapper.offsetY+10*e.pasteIndex),r=d),0!==e.pasteIndex&&(r.offsetX+=10,r.offsetY+=10),r.zIndex=-1,r=t.add(r),!n)for(var X=0,Q=Object.keys(e.childTable);X<Q.length;X++){var de=e.childTable[""+Q[X]];de.id+=u,de.sourceID+=u,de.targetID+=u,de.zIndex=-1,t.add(de)}"SVG"!==t.mode&&t.refreshDiagramLayer(),t.select([r])}return r}function r4(r,t,e,i){var n,s=t.nodes[0];if(i||wh(r,s,!0)){var o=void 0,a=void 0,l=void 0,h=new Jl;e&&(l=r.nameTable[""+e].parentId,o=s=r.nameTable[""+e]);var c=e?o.wrapper:s.wrapper,u=r.nameTable[l||s.parentId];u&&"Grid"===u.container.type&&((n=new Ds).children=[],(i||!s.isHeader)&&("Horizontal"===u.container.orientation&&s.isPhase||"Vertical"===u.container.orientation&&(s.rowIndex>0&&s.columnIndex>0||s.isLane)?(a=function pve(r,t,e){for(var i=new Xi,n="SwimLane"===r.shape.type?r.wrapper.children[0].rows:r.wrapper.rows,s=e?1:0;s<n.length;s++)i.uniteRect(n[parseInt(s.toString(),10)].cells[parseInt(t.toString(),10)].bounds);return i}(u,o?o.columnIndex:s.columnIndex,!(!u.shape.header||!u.shape.hasHeader)),n.offsetX=a.center.x,n.offsetY=a.center.y,h.width=a.width,h.height=a.height):(n.offsetX=u.offsetX,n.offsetY=c.offsetY,h.width=u.wrapper.actualSize.width,h.height=c.actualSize.height)),n.children.push(h),n.measure(new pi),n.arrange(n.desiredSize))}return n}function HG(r,t,e,i,n){n=void 0!==n?n:PL(t,e);for(var s=!1,o=t.shape.lanes[parseInt(n.toString(),10)],a=o.children.length-1;a>=0;a--)i?i.id===o.children[parseInt(a.toString(),10)].id&&o.children.splice(a,1):(r.removeDependentConnector(o.children[parseInt(a.toString(),10)]),r.diagramActions&Dt.UndoRedo||(r.diagramActions=r.diagramActions|Dt.UndoRedo,s=!0),r.remove(o.children[parseInt(a.toString(),10)]),o.children.splice(a,1),s&&(r.diagramActions=r.diagramActions&~Dt.UndoRedo))}function sve(r){return r.children[0]}function rD(r,t){r.nodes.splice(r.nodes.indexOf(t),1),r.removeFromAQuad(t),r.removeObjectsFromLayer(t),delete r.nameTable[t.id],r.removeElements(t)}function UG(r,t,e,i){var n;if("SwimLane"===e.shape.type){var s=e.shape,o=void 0;if(1===s.lanes.length)r.remove(e);else{var a=e.wrapper.bounds.x,l=e.wrapper.bounds.y,h=void 0,c=void 0,u=void 0,d=void 0,f=e.wrapper.children[0];if(o=i?s.lanes.indexOf(i):PL(e,t),n={element:t,cause:r.diagramActions,diagramAction:r.getDiagramAction(r.diagramActions),state:"Changing",type:"Removal",cancel:!1,laneIndex:o},r.triggerEvent(_i.collectionChange,n),!n.cancel){var m=rt(s.lanes[parseInt(o.toString(),10)]);if(HG(r,e,t,void 0,o),!(r.diagramActions&Dt.UndoRedo)){var M={type:"LaneCollectionChanged",changeType:"Remove",undoObject:m,redoObject:rt(t),category:"Internal"};r.addHistoryEntry(M)}s.lanes.splice(o,1);var T=t?"Horizontal"===s.orientation?t.rowIndex:t.columnIndex:_L(e)+o;if("Horizontal"===s.orientation){for(h=f.rows[parseInt(T.toString(),10)],c=0;c<h.cells.length;c++)if((u=h.cells[parseInt(c.toString(),10)])&&u.children.length>0)for(d=0;d<u.children.length;d++)s4(r,u.children[parseInt(d.toString(),10)]);f.removeRow(T)}else{for(e.width=void 0!==e.width?e.width-f.rows[0].cells[parseInt(T.toString(),10)].actualSize.width:e.width,c=0;c<f.rows.length;c++)if((u=f.rows[parseInt(c.toString(),10)].cells[parseInt(T.toString(),10)])&&u.children.length>0)for(d=0;d<u.children.length;d++)s4(r,u.children[parseInt(d.toString(),10)]);f.removeColumn(T)}n={element:t,cause:r.diagramActions,diagramAction:r.getDiagramAction(r.diagramActions),state:"Changed",type:"Removal",cancel:!1,laneIndex:o},r.triggerEvent(_i.collectionChange,n),e.width=e.wrapper.width=f.width,e.height=e.wrapper.height=f.height,jw(e),"Vertical"===e.shape.orientation&&(T=0),Hw(r,e,T),r.drag(e,a-e.wrapper.bounds.x,l-e.wrapper.bounds.y),r.updateDiagramObject(e)}}}}function s4(r,t){var e,i;if(t instanceof Ds){if(t.children.length>0)for(e=0;e<t.children.length;e++)t.children[parseInt(e.toString(),10)]instanceof Ds&&s4(r,t.children[parseInt(e.toString(),10)]);i=r.getObject(t.id),rD(r,i)}}function VG(r,t,e,i){r.protectPropertyChange(!0);var a,o=!1,l=e.shape,h=e.wrapper.children[0],c=i?l.phases.indexOf(i):function Jge(r,t){var e=t.shape;return"Horizontal"===e.orientation?r.columnIndex:r.rowIndex-(e.header&&e.hasHeader?1:0)}(t,e);if(l.phases.length>1){c===l.phases.length-1&&(o=!0,a=rt(l.phases[c-1]));var d=rt(l.phases[parseInt(c.toString(),10)]);if(l.phases.splice(c,1),!(r.diagramActions&Dt.UndoRedo)){var p={type:"PhaseCollectionChanged",changeType:"Remove",undoObject:d,previousPhase:a,redoObject:rt(t),category:"Internal",isLastPhase:o};r.addHistoryEntry(p)}"Horizontal"===l.orientation?function ave(r,t,e,i){var n,s,o,a,l,h,c,u,d,p,f,m;for(i=void 0!==i?i:e.columnIndex,c=0;c<t.rows.length;c++)if((n=t.rows[parseInt(c.toString(),10)]).cells.length>1&&(s=n.cells[parseInt(i.toString(),10)],l=(o=n.cells.length-1===i?n.cells[i-1]:n.cells[i+1]).children[0],s.children.length>0))if(f=r.nameTable[(a=s.children[0]).id],0===o.children.length&&s.children.length>0)o.children=s.children,o.columnSpan=s.columnSpan-1;else{for(u=0;u<a.children.length;u++){if((p=a.children[parseInt(u.toString(),10)])instanceof Ds){if((m=r.nameTable[p.id]).isLane||(m.parentId=l.id),n.cells.length-1===i&&(m.margin.left=m.wrapper.bounds.x-l.bounds.x,p.margin.left=m.wrapper.bounds.x-l.bounds.x),l.children.push(p),r.nameTable[l.id]){var M=r.nameTable[l.id];M.children||(M.children=[]),M.children.push(p.id)}a.children.splice(u,1),u--,f&&f.children&&-1!==f.children.indexOf(m.id)&&f.children.splice(f.children.indexOf(m.id),1)}if(n.cells.length-1!==i)for(d=0;d<l.children.length;d++){var T=l.children[parseInt(d.toString(),10)];if(T instanceof Ds){var P=r.nameTable[T.id];P.margin.left=P.wrapper.bounds.x-a.bounds.x,T.margin.left=P.wrapper.bounds.x-a.bounds.x}}}if(f&&f.isPhase){var U=r.nameTable[l.id];U&&(l.maxWidth=U.wrapper.maxWidth=U.wrapper.maxWidth+=f.wrapper.maxWidth)}rD(r,f)}var Y=t.columnDefinitions()[parseInt(i.toString(),10)].width;t.removeColumn(i),i<t.columnDefinitions().length?(h=t.columnDefinitions()[parseInt(i.toString(),10)].width,t.updateColumnWidth(i,h+=Y,!0)):(h=t.columnDefinitions()[i-1].width,t.updateColumnWidth(i-1,h+=Y,!0))}(r,h,t,c):function lve(r,t,e,i,n){var s,o,a,l,h,u,p,f,d=n.shape,m=void 0!==i?d.header?i+1:i:e.rowIndex,M=t.rows[parseInt(m.toString(),10)],T=n.wrapper.bounds.y,P=d.phases.length;void 0!==d.header&&d.hasHeader&&(T+=t.rowDefinitions()[0].height);var U=i===P?t.rows[m-1]:t.rows[m+1];for(a=0;a<M.cells.length;a++)if(s=M.cells[parseInt(a.toString(),10)],u=U.cells[parseInt(a.toString(),10)].children[0],s.children.length>0){var Y=s.children[0],X=r.nameTable[Y.id];if(i<P)for(h=0;h<u.children.length;h++)(p=u.children[parseInt(h.toString(),10)])instanceof Ds&&((f=r.nameTable[p.id]).margin.top=f.wrapper.bounds.y-(0===i?T:Y.bounds.y),p.margin.top=f.wrapper.bounds.y-(0===i?T:Y.bounds.y));for(l=0;l<Y.children.length;l++)(p=Y.children[parseInt(l.toString(),10)])instanceof Ds&&((f=r.nameTable[p.id]).parentId=u.id,i===P&&(f.margin.top=f.wrapper.bounds.y-(0===i?T:u.bounds.y),p.margin.top=f.wrapper.bounds.y-(0===i?T:u.bounds.y)),u.children.push(p),Y.children.splice(l,1),l--,X.children&&-1!==X.children.indexOf(f.id)&&X.children.splice(X.children.indexOf(f.id),1));rD(r,X)}var Q=t.rowDefinitions()[parseInt(m.toString(),10)].height;t.removeRow(m),m<t.rowDefinitions().length?(o=t.rowDefinitions()[parseInt(m.toString(),10)].height,t.updateRowHeight(m,o+=Q,!0)):(o=t.rowDefinitions()[m-1].height,t.updateRowHeight(m-1,o+=Q,!0))}(r,h,t,c,e),Ty(r,e),Hw(r,e,1),NL(e,r),r.protectPropertyChange(!1),r.updateDiagramObject(e)}}function WG(r,t){var e;if(r.isLane){var i=t.getObject(r.parentId);if(i&&"SwimLane"===i.shape.type&&r.isLane){var n=PL(i,r);e=i.shape.lanes[parseInt(n.toString(),10)]}}return e}function o4(r,t){if(r.isLane){var e=WG(r,t);if(t.eventHandler.action.includes("Resize")||e.canMove)return!0}return!1}function YG(r,t,e,i){var n;if(wh(r,t,!0)){var o=r.isProtectedOnChange;r.protectPropertyChange(!0);var a=(n=r.nameTable[t.parentId]).wrapper;if(n&&"Canvas"===n.container.type&&!i&&!(a.bounds.x<=e.x&&a.bounds.right>=e.x&&a.bounds.y<=e.y&&a.bounds.bottom>=e.y)&&!(t.constraints&j.AllowMovingOutsideLane)){var l=rt(t);r.clearSelection(),GG(r,t),t.parentId="",t.parentObj=r,t.propName="nodes";var h={type:"ChildCollectionChanged",category:"Internal",undoObject:l,redoObject:rt(t)};r.addHistoryEntry(h),r.commandHandler.isContainer&&(r.commandHandler.isContainer=!1,r.endGroupAction()),XG(t,r)}r.protectPropertyChange(o)}}function BL(r,t){var e,i,n;return r.enableServerDataBinding(!1),(!ge()||ge()&&r.diagramActions&Dt.ToolAction)&&(r.selectedObject.helperObject?n=r.selectedObject.helperObject:(r.selectedItems.nodes.length>0||r.selectedItems.connectors.length>0)&&(t instanceof Pr&&t.nodes.length+t.connectors.length===1?(e=t.nodes.length>0?t.nodes[0]:t.connectors[0],i=r.selectedItems.wrapper.children[0]):(e=t,i=ge()?t===r.selectedItems.nodes[0]?r.selectedItems.wrapper:t.wrapper:r.selectedItems.wrapper),r.selectedObject.actualObject=e,!r.currentSymbol&&(e.isLane&&o4(e,r)&&wh(r,e)||!e.isLane&&wh(r,e)||r.constraints&Un.LineRouting&&r.selectedItems.nodes.length>0))&&(n=function fve(r,t){for(var e,i={},n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];i[""+o]=t[""+o]}return os(t)===Et&&((e=new Et(r,"nodes",i,!0)).id=t.id,r.initObject(e)),r.updateDiagramObject(e),e}(r,{id:"helper",rotateAngle:i.rotateAngle,offsetX:i.offsetX,offsetY:i.offsetY,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.actualSize.width,height:i.actualSize.height,style:{strokeDashArray:"2 2",fill:"transparent",strokeColor:"#7D7D7D",strokeWidth:2}}),r.selectedObject.helperObject=n)),r.enableServerDataBinding(!0),n}function wh(r,t,e){var i=e?r.nameTable[t.parentId]:r.nameTable[t.parentId]||t;return!(!i||!i.container)}function a4(r,t){var e=r.nameTable[t.parentId];"Canvas"===e.container.type&&(t.margin.left=t.offsetX-e.wrapper.bounds.x-t.width/2,t.margin.top=t.offsetY-e.wrapper.bounds.y-t.height/2),r.nodePropertyChange(t,{},{width:t.width,height:t.height,offsetX:t.offsetX,offsetY:t.offsetY,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},rotateAngle:t.rotateAngle}),e.isLane||(e.wrapper.measure(new pi),e.wrapper.arrange(e.wrapper.desiredSize))}function GG(r,t){if(t.parentId&&""!==t.parentId){var e=r.nameTable[t.parentId];if(e.isLane&&e.parentId)for(var i=r.nameTable[e.parentId],n=e.id.slice(i.id.length),s=n.substring(0,n.length-1),o=i.shape.lanes,a=void 0,l=0;l<o.length;l++)if(s===(a=o[parseInt(l.toString(),10)]).id)for(var h=0;h<a.children.length;h++)a.children[parseInt(h.toString(),10)].id===t.id&&(a.children.splice(h,1),h--);r.deleteChild(t)}}function sD(r,t,e,i,n){if(!r.currentSymbol){r.protectPropertyChange(!0);var s=r.nameTable[t.parentId];e=r.getObject(e.id)||e;var o=-1!==r.nodes.indexOf(e)?e.id:e;if("Canvas"!==t.container.type||n){if(s){var h=s.wrapper.bounds,c=t.wrapper.bounds;"Horizontal"===s.shape.orientation?e.margin.left-=c.x-h.x:e.margin.top-=c.y-h.y-r.nameTable[t.parentId+s.shape.lanes[0].id+"_0_header"].wrapper.bounds.height}}else{var l=e.wrapper.offsetY-e.wrapper.actualSize.height/2-(t.wrapper.offsetY-t.wrapper.actualSize.height/2);e.margin.left=e.wrapper.offsetX-e.wrapper.actualSize.width/2-(t.wrapper.offsetX-t.wrapper.actualSize.width/2),e.margin.top=l}var d=r.nameTable[t.id];if(d.children||(d.children=[]),-1===d.children.indexOf(e.id)){GG(r,e),r.getObject(e.id)&&r.removeElements(e);var p=rt(e);if(r.addChild(d,o),e=r.getObject(e.id),d.isLane&&d.parentId){s=r.nameTable[d.parentId],"Bpmn"===e.shape.type&&e.shape.annotations&&e.shape.annotations.length>0&&(s.isTextNode=!0);for(var f=s.shape.lanes,m=d.id.slice(s.id.length),M=m.substring(0,m.length-1),T=0;T<f.length;T++)d.isLane&&M===f[parseInt(T.toString(),10)].id&&(e.parentObj instanceof _y||(e.parentObj=f[parseInt(T.toString(),10)]),r.nameTable.hasOwnProperty(e.id)||f[parseInt(T.toString(),10)].children.push(e))}if(r.updateDiagramObject(e),XG(e,r),d.parentId?i||oD(d,s,e,r):r.updateDiagramObject(d),!(r.diagramActions&Dt.UndoRedo)){var P={type:"ChildCollectionChanged",category:"Internal",undoObject:p,redoObject:rt(e),historyAction:n?"AddNodeToLane":void 0};r.addHistoryEntry(P)}}r.protectPropertyChange(!1)}}function XG(r,t){var e=es(r.id+"_groupElement",t.element.id),n=es(r.parentId?r.parentId+"_groupElement":t.element.id+"_diagramLayer",t.element.id);e&&n&&n.appendChild(e)}function oD(r,t,e,i,n){var o,s=rt(r),a=!1,l=t.shape.padding,h=r.wrapper.bounds,c=r.wrapper.outerBounds,u=e.wrapper.bounds;if(t&&"SwimLane"===t.shape.type&&(h.right<u.right+l||h.bottom<u.bottom+l)){var d=t.wrapper.children[0],p=d.bounds.x,f=d.bounds.y;if(h.right<u.right+l&&c.x<=h.x&&(o=!1,d.updateColumnWidth(r.columnIndex,h.width+(u.right-h.right),!0,l)),h.bottom<u.bottom+l&&c.y<=h.y&&(o=!0,d.updateRowHeight(r.rowIndex,h.height+(u.bottom-h.bottom),!0,l)),!(i.diagramActions&Dt.UndoRedo)&&(n&&(i.startGroupAction(),a=!0),void 0!==o)){var M={category:"Internal",type:o?"RowHeightChanged":"ColumnWidthChanged",undoObject:s,redoObject:rt(r)};i.addHistoryEntry(M)}t.width=t.wrapper.width=d.width,t.height=t.wrapper.height=d.height,jw(t),"Horizontal"===t.shape.orientation&&RL(t,i,r.wrapper,r.columnIndex),Ty(i,t),i.drag(t,p-d.bounds.x,f-d.bounds.y),NL(t,i),RG(t)}return function hve(r,t,e){var i=r.nameTable[t.parentId];if(i&&i.isLane){var n=r.nameTable[i.parentId],s=n.wrapper.children[0];s.updateColumnWidth(i.columnIndex,s.columnDefinitions()[i.columnIndex].width,!0,e),s.updateRowHeight(i.rowIndex,s.rowDefinitions()[i.rowIndex].height,!0,e);var o=i.wrapper,a=void 0;t.margin.left<e&&(t.margin.left=e),t.margin.top<e&&(t.margin.top=e);for(var l=0;l<o.children.length;l++){var h=o.children[parseInt(l.toString(),10)];if(h instanceof Ds){var c=r.nameTable[h.id];if(c.isLane){a=c.wrapper;break}}}a&&("Horizontal"===n.shape.orientation?t.margin.left<e+a.actualSize.width&&(t.margin.left=e+a.actualSize.width):t.margin.top<e+a.actualSize.height&&(t.margin.top=e+a.actualSize.height)),n.wrapper.measure(new pi(n.width,n.height)),n.wrapper.arrange(n.wrapper.desiredSize),t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY,r.nodePropertyChange(t,{},{margin:{left:t.margin.left,top:t.margin.top}}),r.bpmnModule&&"Bpmn"===t.shape.type&&t.shape.annotations&&t.shape.annotations.length>0&&r.nodePropertyChange(t,{},{margin:{left:t.margin.left,top:t.margin.top}}),s.measure(new pi(s.width,s.height)),s.arrange(s.desiredSize),n.width=n.wrapper.width=n.wrapper.children[0].actualSize.width,n.height=n.wrapper.height=n.wrapper.children[0].actualSize.height}}(i,e,l),i.updateDiagramElementQuad(),a}function QG(r,t,e,i,n,s){var o=$f(i.element.id);i.diagramRenderer.renderStackHighlighter(r,o,i.scroller.transform,t,e,n,s)}function $o(r,t,e){return r.x>=t.x-e&&r.x<=t.x+e&&r.y>=t.y-e&&r.y<=t.y+e}function Xp(r){return r.selectedItems.nodes.length>0||r.selectedItems.connectors.length>0}function $G(r){return 1===r.selectedItems.connectors.length&&!r.selectedItems.nodes.length}function Sa(r,t,e,i){if(void 0===e&&(e=!0),t instanceof Pr)return!0;if(t instanceof Et)for(;t;){if(-1!==r.selectedItems.nodes.indexOf(t)&&void 0===r.selectedItems.annotation)return!0;if(e)break;t=r.nameTable[t.parentId]}else if(t instanceof Gt){if(-1!==r.selectedItems.connectors.indexOf(t)&&void 0===r.selectedItems.annotation)return!0}else if((t instanceof qu||t instanceof zl)&&r.selectedItems.annotation&&r.selectedItems.wrapper.children[0].id===i.id)return!0;return!1}var l4={None:"default",Rotate:"crosshair",Select:"default",Drag:"move",ResizeWest:"w-resize",ResizeEast:"e-resize",ResizeSouth:"s-resize",ResizeNorth:"n-resize",Draw:"crosshair",PortDraw:"crosshair",ResizeNorthEast:"ne-resize",ResizeNorthWest:"nw-resize",ResizeSouthEast:"se-resize",ResizeSouthWest:"sw-resize",ConnectorSourceEnd:"move",ConnectorTargetEnd:"move",BezierSourceThumb:"move",BezierTargetThumb:"move",OrthoThumb:"move",SegmentEnd:"move",Pan:"grab",Hyperlink:"pointer",PortDrag:"pointer",LabelSelect:"pointer",LabelDrag:"move",LabelRotate:"crosshair",LabelResizeWest:"w-resize",LabelResizeEast:"e-resize",LabelResizeSouth:"s-resize",LabelResizeNorth:"n-resize",LabelResizeNorthEast:"ne-resize",LabelResizeNorthWest:"nw-resize",LabelResizeSouthEast:"se-resize",LabelResizeSouthWest:"sw-resize"},qG=function(){function r(){this.valueCreated="created",this.valueUpdated="updated",this.valueDeleted="deleted",this.valueUnchanged="unchanged",this.newNodeObject=[],this.newConnectorObject=[],this.diagramObject={}}return r.prototype.updateObjectCollection=function(t,e){for(var i=0;i<t.length;i++)t[i].objects||(t[i].objects=[]),t[i].objects=e.layers[i].objects},r.prototype.getOldObject=function(t,e,i){for(var n=e?i.oldNodeObjects:i.oldConnectorObjects,s=0;s<n.length;s++)if(n[s].id===t)return n[s]},r.prototype.changeSegments=function(t,e){for(var i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];if("segments"===s){var o=this.removeNullValues(e[s]);t[s]=o}}return t},r.prototype.removeNullValues=function(t){for(var e=[],i={},n=0;n<t.length;n++)i=this.removeNullObjectValues(t[n]),e.push(i);return e},r.prototype.removeNullObjectValues=function(t){for(var e={},i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];void 0!==t[s]&&(e[s]=t[s]instanceof Object?this.removeNullObjectValues(t[s]):t[s])}return e},r.prototype.getDifferenceValues=function(t,e,i,n){var s,o,a,h,l=t instanceof Et;if(t&&(h=this.getOldObject(t.id,!!l,n))){var c=rt(t);if(a=this.map(c,h),s=this.frameObject({},a),o=this.removeEmptyValues(s),(o=this.changeSegments(o,c)).children&&(o.children=rt(t).children),o.ports&&o.ports.length)for(var u=0;u<o.ports.length;u++)c.ports[u].outEdges&&(o.ports[u].outEdges=c.ports[u].outEdges),c.ports[u].inEdges&&(o.ports[u].inEdges=c.ports[u].inEdges);return this.getDiagramObjects(o,t.id,l,e,i,n)}},r.prototype.getLayerObject=function(t,e,i){if(ge()){for(var n={layers:[]},s={layers:[]},o=0;o<i.layers.length;o++)s.layers.push(rt(i.layers[o]));var a=void 0;for(o=0;o<s.layers.length;o++){a=e?this.map(t.layers[o],rt(s.layers[o])):this.map(rt(s.layers[o]),t.layers[o]);var l=this.frameObject({},a),h=this.removeEmptyValues(l);n.layers[o]=h}return this.updateObjectCollection(n.layers,i),n}},r.prototype.getDiagramObjects=function(t,e,i,n,s,o){var a;if(a=R4(o,e),t.sfIndex=a,i?this.newNodeObject.push(t):this.newConnectorObject.push(t),n&&(n.sourceWrapper instanceof Qr&&s||n.portId)){var h,l=void 0;h=i?n.portId?this.newNodeObject[0].ports:this.newNodeObject[0].annotations:this.newConnectorObject[0].annotations||[];for(var c=0;c<h.length;c++)if(Object.keys(h[c]).length>0){var u=o.nameTable[e];if(l=h[c],n.portId)this.newNodeObject[0].ports=[l];else{for(var d=0;d<u.annotations.length;d++)n.sourceWrapper.id===u.id+"_"+u.annotations[d].id&&(l.sfIndex=d);i?this.newNodeObject[0].annotations=[l]:this.newConnectorObject[0].annotations=[l]}}}this.diagramObject={nodes:this.newNodeObject,connectors:this.newConnectorObject}},r.prototype.removeArrayValues=function(t){var e=[];if(JSON.stringify(t)!==JSON.stringify({data:[]}))for(var n=0;n<t.length;n++)if(t[n]instanceof Object){var s=this.removeEmptyValues(t[n]);e.push(s)}else e.push(t[n]);return e},r.prototype.removeEmptyValues=function(t){for(var e={},i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];if("wrapper"!==s&&("data"!==s||"data"===s&&!(t[s]instanceof Array))){var o=t[s],a=JSON.stringify(o);if(o instanceof Array){var l=this.removeArrayValues(o);"[]"!==JSON.stringify(l)&&(e[s]=l)}else o instanceof Object?a!==JSON.stringify({data:[]})&&(l=this.removeEmptyValues(o),"{}"!==JSON.stringify(l)&&(e[s]=l)):a===JSON.stringify(["data"])||a===JSON.stringify("data")||a===JSON.stringify({data:[]})||"version"!==s&&"ejsAction"!==s&&(e[s]=t[s])}}return e},r.prototype.map=function(t,e,i){if(this.isFunction(t)||this.isFunction(e))throw"Invalid argument. Function given, object expected.";if(this.isValue(t)||this.isValue(e))return{type:this.compareValues(t,e),data:void 0===t?e:t};var n={};if(this.isArray(t))for(var s=0;s<t.length;s++){n[i]||(n[i]=[]);var o=this.map(t[s],e[s]);n[i].push(o)}else for(var a in t)if(!this.isFunction(t[a])){var l=void 0;void 0!==e[a]&&(l=e[a]);var h=this.map(t[a],l,this.isArray(l)?a:void 0);n[a]=this.isArray(l)?h[a]:h}if(this.isArray(e))for(var c=e.length-1;c>=0;c--)n[i]||(n[i]=[]),this.isFunction(e[c])||void 0!==n[i][c]?n[i][c].type&&n[i][c].type!==this.valueUpdated&&delete n[i]:(o=this.map(void 0,e[c]),n[i][c]=o);else for(var a in e)this.isFunction(e[a])||void 0!==n[a]?n[a].type&&n[a].type!==this.valueUpdated&&n[a].type!==this.valueDeleted&&delete n[a]:(h=this.map(void 0,e[a]),n[a]=h);return n},r.prototype.compareValues=function(t,e){return t===e||this.isDate(t)&&this.isDate(e)&&t.getTime()===e.getTime()?this.valueUnchanged:void 0===t?this.valueCreated:void 0===e?this.valueDeleted:this.valueUpdated},r.prototype.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},r.prototype.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.prototype.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},r.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},r.prototype.isValue=function(t){return!this.isObject(t)&&!this.isArray(t)},r.prototype.frameObject=function(t,e){for(var i in e)if(this.isArray(e[i])){t[i]||(t[i]=[]);for(var n=0;n<e[i].length;n++){var s=this.frameObject({},e[i][n]);t[i].push(s)}}else if("type"!=i||"type"==i&&e[i]!==this.valueUpdated&&e[i]!==this.valueUnchanged&&e[i]!==this.valueDeleted&&e[i]!==this.valueCreated){if(this.isFunction(e[i]))continue;if(this.isValue(e[i]))return e.data;s=this.frameObject({},e[i]),(this.isValue(s)||Object.keys(s).length>0)&&(t[i]=s)}return t},r}(),Ih=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nb=function(r,t,e,i){return new(e||(e=Promise))(function(n,s){function o(h){try{l(i.next(h))}catch(c){s(c)}}function a(h){try{l(i.throw(h))}catch(c){s(c)}}function l(h){h.done?n(h.value):new e(function(c){c(h.value)}).then(o,a)}l((i=i.apply(r,t||[])).next())})},Pb=function(r,t){var i,n,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(c){return function l(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(s=2&h[0]?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[2&h[0],s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===h[0]||2===h[0])){e=0;continue}if(3===h[0]&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(6===h[0]&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(c){h=[6,c],n=0}finally{i=s=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,c])}}},Mh=function(){function r(t,e){void 0===e&&(e=!1),this.commandHandler=null,this.deepDiffer=new qG,this.inAction=!1,this.isProtectChange=!1,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.undoElement={nodes:[],connectors:[]},this.checkProperty=!0,this.undoParentElement={nodes:[],connectors:[]},this.commandHandler=t,this.isProtectChange=e}return r.prototype.startAction=function(t){this.currentElement=t,this.inAction=!0},r.prototype.mouseDown=function(t){ge()&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0)),this.currentElement=t.source,this.startPosition=this.currentPosition=this.prevPosition=t.position,this.isTooltipVisible=!0,this.startAction(t.source),this.checkProperty=!0,this.mouseDownElement=t.source},r.prototype.checkPropertyValue=function(){this.checkProperty&&this.commandHandler.startTransaction(this.isProtectChange)},r.prototype.mouseMove=function(t){return this.currentPosition=t.position,this.inAction&&(this.commandHandler.startTransaction(this.isProtectChange),this.checkProperty=!1),!this.blocked},r.prototype.mouseUp=function(t){this.checkPropertyValue(),this.currentPosition=t.position,this.isTooltipVisible=!1,this.commandHandler.endTransaction(this.isProtectChange),ge()&&(this.commandHandler.enableCloneObject(!1),this.commandHandler.ismouseEvents(!1),this.commandHandler.getBlazorOldValues(t,this instanceof KG)),this.endAction(),this.mouseDownElement=null},r.prototype.endAction=function(){this.isTooltipVisible||this.commandHandler.closeTooltip(),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},r.prototype.mouseWheel=function(t){this.currentPosition=t.position},r.prototype.mouseLeave=function(t){this.mouseUp(t)},r.prototype.updateSize=function(t,e,i,n,s,o){t=this.commandHandler.renderContainerHelper(t)||t;var f,a={snapped:!1,offset:0,left:!1,right:!1},l={snapped:!1,offset:0,top:!1,bottom:!1},h=this.currentPosition.x-this.startPosition.x,c=this.currentPosition.y-this.startPosition.y,u=!(t instanceof Qr)&&this.commandHandler.snappingModule&&this.commandHandler.snappingModule.canSnap(),d=u?this.commandHandler.snappingModule.getLayer():null,p=t instanceof Qr?o:t.rotateAngle;to(f=Bs(),-p,0,0);var X,U=0,Y=0,Q=t instanceof Qr?t.actualSize.width:t.width,oe=t instanceof Qr?t.actualSize.height:t.height;switch(n){case"ResizeWest":h=(X=xn(f,{x:h,y:c})).x,c=X.y,Y=1,h=u?this.commandHandler.snappingModule.snapLeft(a,l,d,h,c,t,i===e,s):h,c=0,U=(s.width-h)/Q;break;case"ResizeEast":h=(X=xn(f,{x:h,y:c})).x,c=X.y,h=u?this.commandHandler.snappingModule.snapRight(a,l,d,h,c,t,i===e,s):h,c=0,U=(s.width+h)/Q,Y=1;break;case"ResizeNorth":U=1,h=(X=xn(f,{x:h,y:c})).x,c=X.y,c=u?this.commandHandler.snappingModule.snapTop(a,l,d,h,c,t,i===e,s):c,Y=(s.height-c)/oe;break;case"ResizeSouth":U=1,h=(X=xn(f,{x:h,y:c})).x,c=X.y,c=u?this.commandHandler.snappingModule.snapBottom(a,l,d,h,c,t,i===e,s):c,Y=(s.height+c)/oe;break;case"ResizeNorthEast":h=(X=xn(f,{x:h,y:c})).x,c=X.y,h=u?this.commandHandler.snappingModule.snapRight(a,l,d,h,c,t,i===e,s):h,c=u?this.commandHandler.snappingModule.snapTop(a,l,d,h,c,t,i===e,s):c,U=(s.width+h)/Q,Y=(s.height-c)/oe;break;case"ResizeNorthWest":h=(X=xn(f,{x:h,y:c})).x,c=X.y,c=u?this.commandHandler.snappingModule.snapTop(a,l,d,h,c,t,i===e,s):c,h=u?this.commandHandler.snappingModule.snapLeft(a,l,d,h,c,t,i===e,s):h,U=(s.width-h)/Q,Y=(s.height-c)/oe;break;case"ResizeSouthEast":h=(X=xn(f,{x:h,y:c})).x,c=X.y,c=u?this.commandHandler.snappingModule.snapBottom(a,l,d,h,c,t,i===e,s):c,h=u?this.commandHandler.snappingModule.snapRight(a,l,d,h,c,t,i===e,s):h,Y=(s.height+c)/oe,U=(s.width+h)/Q;break;case"ResizeSouthWest":h=(X=xn(f,{x:h,y:c})).x,c=X.y,c=u?this.commandHandler.snappingModule.snapBottom(a,l,d,h,c,t,i===e,s):c,h=u?this.commandHandler.snappingModule.snapLeft(a,l,d,h,c,t,i===e,s):h,U=(s.width-h)/Q,Y=(s.height+c)/oe}return{width:U,height:Y}},r.prototype.getPivot=function(t){switch(t){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},r.prototype.getShapeType=function(){return this.commandHandler.diagram.drawingObject.shape.type},r.prototype.triggerElementDrawEvent=function(t,e,i,n,s){var o={source:t,state:e,objectType:i,cancel:!1,elementType:n};this.commandHandler.triggerEvent(_i.elementDraw,o),s&&o.cancel&&this.commandHandler.diagram.resetTool()},r}(),aD=function(r){function t(e,i,n){var s=r.call(this,e,!0)||this;return s.action=n,s}return Ih(t,r),t.prototype.mouseDown=function(e){this.inAction=!0,r.prototype.mouseDown.call(this,e)},t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.inAction&&!1===Be.equals(this.currentPosition,this.prevPosition)){var i=Xi.toBounds([this.prevPosition,this.currentPosition]);this.mouseDownElement&&!Vc(this.mouseDownElement)?this.commandHandler.clearObjectSelection(this.mouseDownElement):(this.commandHandler.clearSelectedItems(),this.commandHandler.drawSelectionRectangle(i.x,i.y,i.width,i.height))}return!this.blocked},t.prototype.mouseUp=function(e){if(this.checkPropertyValue(),!this.commandHandler.isUserHandle(this.currentPosition))if(!1===Be.equals(this.currentPosition,this.prevPosition)&&this.inAction){var i=Xi.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.doRubberBandSelection(i)}else{var n=this.commandHandler.getSelectedObject();this.commandHandler.hasSelection()&&e.info&&e.info.ctrlKey?e&&e.source&&(this.commandHandler.isSelected(e.source)?1===e.clickCount&&(this.commandHandler.unSelect(e.source),this.commandHandler.updateBlazorSelector()):this.commandHandler.selectObjects([e.source],!0)):(this.commandHandler.clearSelection(null===e.source),"LabelSelect"===this.action?this.commandHandler.labelSelect(e.source,e.sourceWrapper):e.source&&this.commandHandler.selectObjects([e.source],!1,n))}this.inAction=!1,r.prototype.mouseUp.call(this,e)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Mh),Ive=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ih(t,r),t.prototype.mouseUp=function(e){this.checkPropertyValue(),this.inAction=!1;for(var n,i=e.source,s=e.sourceWrapper.id,o=0;o<i.fixedUserHandles.length;o++)s.indexOf(i.fixedUserHandles[parseInt(o.toString(),10)].id)>-1&&(n=i.fixedUserHandles[parseInt(o.toString(),10)]);if(ge()){var a=os(e.source)===Gt?{connector:e.source}:{node:e.source},l=os(e.source)===Gt?{connectorFixedUserHandle:n}:{nodeFixedUserHandle:n};this.commandHandler.triggerEvent(_i.fixedUserHandleClick,{fixedUserHandle:l,element:a}),r.prototype.mouseUp.call(this,e)}else this.commandHandler.triggerEvent(_i.fixedUserHandleClick,{fixedUserHandle:n,element:e.source}),r.prototype.mouseUp.call(this,e)},t}(Mh),_b=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.isConnected=!1,n.endPoint=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){return Nb(this,void 0,void 0,function(){var i,n,s,a,l,h,c,u;return Pb(this,function(d){if(ge()&&e&&e.source&&(this.commandHandler.insertSelectedObjects(),this.commandHandler.insertBlazorConnector(e.source),(i=e.source).connectors&&(this.oldConnector=rt(n=i.connectors[0]),s={connector:Rt(n),oldValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},newValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},cancel:!1,state:"Changing",connectorEnd:this.endPoint},this.tempArgs=s)),this.inAction=!0,this.undoElement=void 0,this instanceof Vd||(this.undoElement=rt(e.source)),r.prototype.mouseDown.call(this,e),e.source&&e.source.connectors&&(this.oldConnector=rt(a=e.source.connectors[0])),"BezierSourceThumb"===this.endPoint||"BezierTargetThumb"===this.endPoint)for(l=0;l<a.segments.length;l++)h=a.segments[parseInt(l.toString(),10)],c=Be.isEmptyPoint(h.point1)?h.bezierPoint1:h.point1,u=Be.isEmptyPoint(h.point2)?h.bezierPoint2:h.point2,this.currentElement.handleSize!==a.hitPadding&&(a.hitPadding=this.currentElement.handleSize),($o(this.currentPosition,c,a.hitPadding)||$o(this.currentPosition,u,a.hitPadding))&&(this.selectedSegment=h);return this.currentPosition=e.position,[2]})})},t.prototype.mouseUp=function(e){return Nb(this,void 0,void 0,function(){var i,n,a,l,h,c,u,d,p,f,M,T,P;return Pb(this,function(U){switch(U.label){case 0:return ge()?(i=void 0,this.tempArgs&&this.oldConnector?(this.commandHandler.updatePropertiesToBlazor(e,!1),this.tempArgs.state="Changed",l="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",h="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",this.tempArgs.oldValue="ConnectorSourceEnd"===this.endPoint?{connectorSourceValue:{nodeId:this.oldConnector[""+l],portId:this.oldConnector[""+h]}}:{connectorTargetValue:{nodeId:this.oldConnector[""+l],portId:this.oldConnector[""+h]}},i={state:this.tempArgs.state,oldValue:this.tempArgs.oldValue,newValue:this.tempArgs.newValue,cancel:this.tempArgs.cancel,connectorEnd:this.tempArgs.connectorEnd},n="diagram",window&&window.Blazor&&this.commandHandler[""+n].connectionChange?(a={EventName:"connectionChange",args:JSON.stringify(this.tempArgs)},[4,window.sfBlazor.updateBlazorDiagramEvents(a,this.commandHandler[""+n])]):[3,2]):[3,3]):[3,3];case 1:i=U.sent(),U.label=2;case 2:i&&this.commandHandler.updateConnectorValue(i),U.label=3;case 3:return!ge()&&this.isConnected&&e.source.connectors&&(l="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",h="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",f={connector:Rt(P=e.source.connectors[0]),oldValue:{nodeId:this.oldConnector[""+l],portId:this.oldConnector[""+h]},newValue:{nodeId:P[""+l],portId:P[""+h]},cancel:!1,state:"Changed",connectorEnd:this.endPoint},P[""+l]!==this.oldConnector[""+l]&&(this.commandHandler.triggerEvent(_i.connectionChange,f),this.isConnected=!1)),this.checkPropertyValue(),this.commandHandler.updateSelector(),this.commandHandler.removeSnap(),this.commandHandler.changeAnnotationDrag(e),this instanceof Vd||("ConnectorSourceEnd"!==this.endPoint||!e.source.connectors.length||Be.equals(e.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)&&e.source.connectors[0].sourceID===this.undoElement.connectors[0].sourceID)&&("ConnectorTargetEnd"!==this.endPoint||Be.equals(e.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint)&&e.source.connectors[0].targetID===this.undoElement.connectors[0].targetID)?!(this instanceof Vd)&&("BezierTargetThumb"===this.endPoint||"BezierSourceThumb"===this.endPoint)&&this.undoElement&&e.source&&(M=rt(e.source),this.commandHandler.addHistoryEntry(T={type:"SegmentChanged",redoObject:M,undoObject:this.undoElement,category:"Internal"})):(c=void 0,P=void 0,e.source&&e.source.connectors&&(c={x:this.prevPosition.x,y:this.prevPosition.y},P=e.source.connectors[0]),u=void 0,d=void 0,e.target&&((p=this.commandHandler.findTarget(e.targetWrapper,e.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof ac?u=p.id:d=p.id),f={connector:P,state:"Completed",targetNode:d,oldValue:c,newValue:c,cancel:!1,targetPort:u},ge()&&(f={connector:Rt(P),state:"Completed",targetNode:d,oldValue:Rt(c),newValue:c,cancel:f.cancel,targetPort:u}),this.commandHandler.triggerEvent("ConnectorSourceEnd"===this.endPoint?_i.sourcePointChange:_i.targetPointChange,f),this.commandHandler.removeTerminalSegment(P,!0),this.undoElement&&e.source&&(M=void 0,M=rt(e.source),T={type:"ConnectionChanged",redoObject:rt(M),undoObject:rt(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(T))),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,e.source&&e.source.connectors&&(P=e.source.connectors[0]).isBezierEditing&&(P.isBezierEditing=!1),r.prototype.mouseUp.call(this,e),[2]}})})},t.prototype.mouseMove=function(e){var i;if(r.prototype.mouseMove.call(this,e),!(this instanceof Vd)&&("ConnectorSourceEnd"===this.endPoint&&Be.equals(e.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)||"ConnectorTargetEnd"===this.endPoint&&Be.equals(e.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint))){var n=void 0,s=void 0;e.source&&e.source.connectors&&(n={x:this.prevPosition.x,y:this.prevPosition.y},s=e.source.connectors[0]);var o=void 0,a=void 0;e.target&&(a=e.target.id,(l=this.commandHandler.findTarget(e.targetWrapper,e.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof ac||l instanceof Bb?o=l.id:a=l.id);var h={connector:s,state:"Start",targetNode:a,oldValue:n,newValue:n,cancel:!1,targetPort:o};ge()&&(h={connector:Rt(s),state:"Start",targetNode:a,oldValue:n,newValue:n,cancel:h.cancel,targetPort:o}),this.commandHandler.triggerEvent("ConnectorSourceEnd"===this.endPoint?_i.sourcePointChange:_i.targetPointChange,h)}if(this.currentPosition=e.position,this.currentPosition&&this.prevPosition){var u=this.currentPosition.x-this.prevPosition.x,d=this.currentPosition.y-this.prevPosition.y,p=void 0,f=void(n=void 0),m=void 0;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var M=void 0;e.source&&e.source.connectors&&(p={x:this.currentPosition.x,y:this.currentPosition.y},n={x:this.prevPosition.x,y:this.prevPosition.y},M=e.source.connectors[0]);var T=void 0,P=void 0;if(e.target&&((l=this.commandHandler.findTarget(e.targetWrapper,e.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof ac?T=l.id:P=l.id),h={connector:M,state:"Progress",targetNode:P,oldValue:n,newValue:p,cancel:!1,targetPort:T},ge()&&(h={connector:Rt(M),state:"Progress",targetNode:P,oldValue:n,newValue:p,cancel:h.cancel,targetPort:T}),this instanceof Vd||this.commandHandler.triggerEvent("ConnectorSourceEnd"===this.endPoint?_i.sourcePointChange:_i.targetPointChange,h),e.target&&(f=Uw(e.target,!0),m=Uw(e.target,!1)),!h.cancel&&this.inAction&&void 0!==this.endPoint&&0!==u||0!==d)if(h.cancel||(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,e.source,this.currentPosition,this.selectedSegment,e.target,T),this.commandHandler.updateSelector()),e.target&&("ConnectorSourceEnd"===this.endPoint&&(Nv(e.target)||Ob(m))||"ConnectorTargetEnd"===this.endPoint&&(Ud(e.target)||kv(f)))){var l;this.commandHandler.canDisconnect(this.endPoint,e,T,P)&&(i=this.commandHandler.disConnect(e.source,this.endPoint,this.canCancel),this.isConnected=!0),(l=this.commandHandler.findTarget(e.targetWrapper,e.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Et?(Ud(l)&&"ConnectorTargetEnd"===this.endPoint||Nv(l)&&"ConnectorSourceEnd"===this.endPoint)&&(i=this.commandHandler.connect(this.endPoint,e,this.canCancel),this.isConnected=!0):this.checkConnect(l)&&(this.isConnected=!0,i=this.commandHandler.connect(this.endPoint,e,this.canCancel))}else-1===this.endPoint.indexOf("Bezier")&&(this.isConnected=!0,i=this.commandHandler.disConnect(e.source,this.endPoint,this.canCancel),this.commandHandler.updateSelector());if(this.commandHandler.canEnableDefaultTooltip()){var Y=this.getTooltipContent(e.position);this.commandHandler.showTooltip(e.source,e.position,Ed(function(){return Y}),"ConnectTool",this.isTooltipVisible),this.isTooltipVisible=!1}i&&(this.tempArgs=i)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.x)+" Y:"+Math.round(e.y)},t.prototype.checkConnect=function(e){return!!(kv(e)&&"ConnectorTargetEnd"===this.endPoint||Ob(e)&&"ConnectorSourceEnd"===this.endPoint)||!(e.constraints&kr.None||kv(e)||Ob(e)||!(void 0===e.constraints||(e.constraints&kr.Default&~(kr.InConnect|kr.OutConnect))>0))},t.prototype.endAction=function(){r.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(Mh),Qp=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.currentTarget=null,n.isStartAction=!1,n.canCancel=!1,n.canTrigger=!1,n.objectType=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){if(e.source instanceof Et||e.source instanceof Gt){var i=this.commandHandler.getSelectedObject();this.commandHandler.selectObjects([e.source],e.info&&e.info.ctrlKey,i);var n={nodes:[],connectors:[]};e.source instanceof Et?n.nodes.push(rt(e.source)):n.connectors.push(rt(e.source)),this.undoElement=rt(n)}else this.undoElement=rt(e.source);var s;if(this.undoParentElement=this.commandHandler.getSubProcess(e.source),"Port"===this.objectType&&(this.portId=e.sourceWrapper.id),this.commandHandler.insertBlazorConnector(e.source),ge()){this.commandHandler.insertSelectedObjects(),this.startPosition=this.currentPosition=this.prevPosition=e.position,this.initialOffset={x:0,y:0},e.source&&(s={offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY});var o={source:rt(e.source),state:"Start",oldValue:s,newValue:{},target:rt(e.target),targetPosition:e.position,allowDrop:!0,cancel:!1};this.tempArgs=o}r.prototype.mouseDown.call(this,e),this.initialOffset={x:0,y:0}},t.prototype.mouseUp=function(e,i){return Nb(this,void 0,void 0,function(){var s,o,a,c,p,f,m,M,T,P,U,X,Q,oe,de,Me,Ve;return Pb(this,function(Ce){switch(Ce.label){case 0:return ge()&&"Port"!==this.objectType?(this.commandHandler.updatePropertiesToBlazor(e,!1),e.source&&(s={offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY}),X={state:"Completed",oldValue:Rt(this.tempArgs.oldValue),newValue:Rt(s),target:Rt(this.currentTarget),targetPosition:Rt(this.currentPosition),allowDrop:!0,cancel:!1},o=void 0,a="diagram",window&&window.Blazor&&this.commandHandler[""+a].positionChange?(c={EventName:"positionChange",args:JSON.stringify(X)},[4,window.sfBlazor.updateBlazorDiagramEvents(c,this.commandHandler[""+a])]):[3,2]):[3,3];case 1:o=Ce.sent(),Ce.label=2;case 2:o&&o.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.canCancel=!0),this.canCancel&&(this.commandHandler.insertBlazorObject(e.source),this.commandHandler.dragSelectedObjects(this.tempArgs.oldValue.offsetX-e.source.wrapper.offsetX,this.tempArgs.oldValue.offsetY-e.source.wrapper.offsetY)),Ce.label=3;case 3:return this.checkPropertyValue(),f=!1,M={nodes:[],connectors:[]},"Port"===this.objectType?[3,8]:(e.source instanceof Et||e.source instanceof Gt?(e.source instanceof Et?M.nodes.push(rt(e.source)):M.connectors.push(rt(e.source)),(p=rt(M)).offsetX=(T=e.source.wrapper).offsetX,p.offsetY=T.offsetY):p=rt(e.source),("helper"===(m=this.commandHandler.renderContainerHelper(e.source)||e.source||this.commandHandler.renderContainerHelper(e.source)).id||"helper"!==m.id)&&((m instanceof Pr&&(Math.round(m.width)===Math.round(this.undoElement.width)&&Math.round(m.height)===Math.round(this.undoElement.height)||m.selectedObjects&&1===m.selectedObjects.length)||!(m instanceof Pr))&&(m.offsetX!==this.undoElement.offsetX||m.offsetY!==this.undoElement.offsetY||m.sourcePoint!==this.undoElement.sourcePoint||m.targetPoint!==this.undoElement.targetPoint)||this.isSelectionHasConnector(m))&&(e.source&&(s={offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY}),X={source:e.source,state:"Completed",oldValue:this.intialValue,newValue:s,target:this.currentTarget,targetPosition:this.currentPosition,allowDrop:!0,cancel:!1},X={source:Rt(e.source),state:"Completed",oldValue:Rt(this.intialValue),newValue:Rt(s),target:Rt(this.currentTarget),targetPosition:Rt(this.currentPosition),allowDrop:X.allowDrop,cancel:X.cancel},ge()&&(X=this.getBlazorPositionChangeEventArgs(X,this.currentTarget)),P=!0,ge()||("helper"===m.id?this.canTrigger?(this.commandHandler.triggerEvent(_i.positionChange,X),this.connectorEndPointChangeEvent(X),P=!0):P=!1:(this.commandHandler.triggerEvent(_i.positionChange,X),this.connectorEndPointChangeEvent(X))),!i&&P&&(this.commandHandler.startGroupAction(),f=!0,Ve={type:"PositionChanged",redoObject:rt(p),undoObject:rt(this.undoElement),category:"Internal"},p.nodes[0]&&p.nodes[0].processId&&(U={type:"SizeChanged",category:"Internal",undoObject:this.undoParentElement,redoObject:this.commandHandler.getSubProcess(e.source)},this.commandHandler.addHistoryEntry(U)),this.commandHandler.addHistoryEntry(Ve))),this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,0,0),this.commandHandler.removeSnap(),this.commandHandler.removeHighlighter(),e.source&&this.currentTarget&&EL(this.currentTarget)&&this.commandHandler.isDroppable(e.source,this.currentTarget)?(this.commandHandler.drop(this.currentElement,this.currentTarget,this.currentPosition),this.currentTarget&&this.currentTarget instanceof Gt&&!0===this.commandHandler.diagram.enableConnectorSplit&&this.currentElement&&(this.currentElement&&this.currentElement instanceof Et?this.commandHandler.connectorSplit(this.currentElement,this.currentTarget):this.currentElement instanceof Pr&&!this.commandHandler.PreventConnectorSplit&&this.currentElement.nodes.length>0&&(this.commandHandler.connectorSplit(this.currentElement.nodes[0],this.currentTarget),this.commandHandler.PreventConnectorSplit=!1)),X={element:e.source,target:this.currentTarget,position:this.currentPosition,cancel:!1},ge()?(X=function Ome(r,t){if(ge()){var s,o,e=os(r.source)===Gt,i=Rt(r.source),n=Rt(r.target);s=i.connectors&&i.connectors.length>0?i.connectors[0]:i,o=i.nodes&&i.nodes.length>0?i.nodes[0]:i,t={element:e?{connector:s,connectorId:s.id}:{node:o,nodeId:o.id},target:e?{connector:n}:{node:n},position:t.position,cancel:t.cancel}}return t}(e,X),[4,this.commandHandler.triggerEvent(_i.drop,X)]):[3,5]):[3,7]);case 4:return X=Ce.sent()||X,[3,6];case 5:this.commandHandler.triggerEvent(_i.drop,X),Ce.label=6;case 6:if(!X.cancel&&e.source&&this.commandHandler.isParentAsContainer(this.currentTarget)){for(Q=e.source instanceof Pr?e.source.nodes:[e.source],oe=!1,de=void 0,Me=0;Me<Q.length;Me++){if(Q[0].parentId!==Q[parseInt(Me.toString(),10)].parentId){de=!1;break}de=!0}for(Me=0;Me<Q.length;Me++)!Q[parseInt(Me.toString(),10)].container&&de&&(oe=!0,this.commandHandler.updateLaneChildrenZindex(Q[parseInt(Me.toString(),10)],this.currentTarget),this.commandHandler.dropChildToContainer(this.currentTarget,Q[parseInt(Me.toString(),10)]),this.commandHandler.renderContainerHelper(Q[parseInt(Me.toString(),10)]));f&&this.commandHandler.isContainer&&oe&&this.commandHandler.endGroupAction()}Ce.label=7;case 7:return e.source&&this.currentTarget&&this.commandHandler.dropAnnotation(e.source,this.currentTarget),this.commandHandler.updateSelector(),f&&!this.commandHandler.isContainer&&this.commandHandler.endGroupAction(),[3,9];case 8:M.nodes.push(rt(e.source)),e.portId=this.portId,p=rt(M),Ve={type:"PortPositionChanged",objectId:this.portId,redoObject:rt(p),undoObject:rt(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(Ve),Ce.label=9;case 9:return this.commandHandler.updateBlazorSelector(),r.prototype.mouseUp.call(this,e),[2]}})})},t.prototype.connectorEndPointChangeEvent=function(e,i){var n=e.source;if(n instanceof Pr&&n.nodes.length>0)for(var s=0;s<n.nodes.length;s++){var o=n.nodes[parseInt(s.toString(),10)];if(o&&o.inEdges.length>0)for(var a=0;a<o.inEdges.length;a++){var l=this.commandHandler.diagram.getObject(o.inEdges[parseInt(a.toString(),10)]);this.triggerEndPointEvent(l,e,i,"targetPointChange")}if(o&&o.outEdges.length>0)for(a=0;a<o.outEdges.length;a++)l=this.commandHandler.diagram.getObject(o.outEdges[parseInt(a.toString(),10)]),this.triggerEndPointEvent(l,e,i,"sourcePointChange")}},t.prototype.triggerEndPointEvent=function(e,i,n,s){this.commandHandler.triggerEvent("targetPointChange"===s?_i.targetPointChange:_i.sourcePointChange,{connector:e,state:i.state,targetNode:e.targetID,targetPort:e.targetPortID,sourceNode:e.sourceID,sourcePort:e.sourcePortID,oldValue:{x:e.targetPoint.x,y:e.targetPoint.y},newValue:{x:e.targetPoint.x+(n?n.x:0),y:e.targetPoint.y+(n?n.y:0)},cancel:i.cancel})},t.prototype.isSelectionHasConnector=function(e){return!(!(e.nodes&&e.connectors&&e.nodes.length>0&&e.connectors.length>0)||e.width===this.undoElement.width&&e.height===this.undoElement.height)},t.prototype.getBlazorPositionChangeEventArgs=function(e,i){return{source:Rt(e.source),state:e.state,oldValue:e.oldValue,newValue:e.newValue,target:os(i)===Gt?{connector:Rt(i)}:{node:Rt(i)},targetPosition:this.currentPosition,allowDrop:!0,cancel:!1}},t.prototype.mouseMove=function(e){r.prototype.mouseMove.call(this,e);var n,s,i=!1;(n=this.commandHandler.renderContainerHelper(e.source)||e.source)instanceof Et||n instanceof Gt?n instanceof Et?n.offsetX===this.undoElement.nodes[0].offsetX&&n.offsetY===this.undoElement.nodes[0].offsetY&&(i=!0):Be.equals(n.sourcePoint,this.undoElement.connectors[0].sourcePoint)&&Be.equals(n.targetPoint,this.undoElement.connectors[0].targetPoint)&&(i=!0):n.wrapper.offsetX===this.undoElement.wrapper.offsetX&&n.wrapper.offsetY===this.undoElement.wrapper.offsetY&&(i=!0),n&&(s={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY});var o={source:n,state:"Start",oldValue:s,newValue:s,target:e.target,targetPosition:e.position,allowDrop:!0,cancel:!1};if(o={source:Rt(n),state:"Start",oldValue:Rt(s),newValue:Rt(s),target:e.target,targetPosition:e.position,allowDrop:o.allowDrop,cancel:o.cancel},this.isStartAction||(this.intialValue={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY}),i&&!ge()&&(this.commandHandler.triggerEvent(_i.positionChange,o),this.connectorEndPointChangeEvent(o),this.isStartAction=!0),this.currentPosition=e.position,"Port"!==this.objectType){var h=this.initialOffset.x+(this.currentPosition.x-this.prevPosition.x),c=this.initialOffset.y+(this.currentPosition.y-this.prevPosition.y);this.commandHandler.dragOverElement(e,this.currentPosition),this.commandHandler.disConnect(e.source),this.commandHandler.removeSnap();var u,d=void 0,p=this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,h,c);this.initialOffset.x=h-p.x,this.initialOffset.y=c-p.y,n&&(u={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY},d={offsetX:n.wrapper.offsetX+p.x,offsetY:n.wrapper.offsetY+p.y}),this.currentTarget&&e.target!==this.currentTarget&&this.commandHandler.removeChildFromBPmn(e.source,e.target,this.currentTarget),this.currentTarget=e.target;var f={source:n,state:"Progress",oldValue:u,newValue:d,target:e.target,targetPosition:e.position,allowDrop:!0,cancel:!1};if(ge()&&(f=this.getBlazorPositionChangeEventArgs(f,e.target)),ge()||(this.commandHandler.triggerEvent(_i.positionChange,f),this.canTrigger=!0,this.connectorEndPointChangeEvent(f,p)),!f.cancel&&!this.canCancel){this.blocked=!this.commandHandler.dragSelectedObjects(p.x,p.y);var m=!this.commandHandler.mouseOver(this.currentElement,this.currentTarget,this.currentPosition);this.blocked=this.blocked||m}if(this.commandHandler.removeStackHighlighter(),this.commandHandler.renderStackHighlighter(e),this.currentTarget&&e.source!==this.currentTarget&&this.commandHandler.isDroppable(e.source,this.currentTarget)&&"helper"!==e.source.id){var M=e.source instanceof Pr?e.source.nodes[0]:e.source;!this.commandHandler.isParentAsContainer(M,!0)&&"SwimLane"!==M.shape.type&&!M.shape.isPhase&&(this.currentTarget.isLane?this.commandHandler.renderStackHighlighter(e,this.currentTarget):this.commandHandler.drawHighlighter(this.currentTarget))}else this.commandHandler.removeHighlighter();if(this.commandHandler.canEnableDefaultTooltip()){var T=this.getTooltipContent(e.source);this.commandHandler.showTooltip(e.source,e.position,Ed(function(){return T}),"MoveTool",this.isTooltipVisible),this.isTooltipVisible=!1}}else{var U=Bs(),Y=e.source;to(U,-Y.rotateAngle||-Y.wrapper.rotateAngle,Y.offsetX||Y.wrapper.offsetX,Y.offsetY||Y.wrapper.offsetY);var X=xn(U,{x:this.prevPosition.x,y:this.prevPosition.y}),Q=xn(U,{x:e.position.x,y:e.position.y});this.commandHandler.portDrag(e.source,e.sourceWrapper,Q.x-X.x,Q.y-X.y)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.wrapper.bounds.x)+" Y:"+Math.round(e.wrapper.bounds.y)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){r.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},t}(Mh),ZG=function(r){function t(e){var i=r.call(this,e,!0)||this;return i.rotateStart=!1,i}return Ih(t,r),t.prototype.mouseDown=function(e){if(ge()){var n={rotateAngle:(this.commandHandler.renderContainerHelper(e.source)||e.source).wrapper.rotateAngle},s={source:Rt(e.source),state:"Start",oldValue:n,newValue:void 0,cancel:!1};this.tempArgs=s,this.tempArgs&&this.tempArgs.cancel&&(this.canCancel=!0)}if(this.undoElement=rt(e.source),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var l=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),h=0;h<l.length;h++){var c=this.commandHandler.cloneChild(l[parseInt(h.toString(),10)].id);this.childTable[l[parseInt(h.toString(),10)].id]=rt(c)}r.prototype.mouseDown.call(this,e)},t.prototype.mouseUp=function(e){return Nb(this,void 0,void 0,function(){var i,o,l,h,c,u,d,p,f;return Pb(this,function(m){switch(m.label){case 0:return this.checkPropertyValue(),ge()?(i="diagram",this.commandHandler.updatePropertiesToBlazor(e,!1),o=this.commandHandler.renderContainerHelper(e.source)||e.source,d={state:"Completed",oldValue:u={rotateAngle:this.tempArgs.oldValue.rotateAngle},newValue:{rotateAngle:o.wrapper.rotateAngle},cancel:!1},l=void 0,window&&window.Blazor&&this.commandHandler[""+i].rotateChange?(h={EventName:"rotateChange",args:JSON.stringify(d)},[4,window.sfBlazor.updateBlazorDiagramEvents(h,this.commandHandler[""+i])]):[3,2]):[3,3];case 1:l=m.sent(),m.label=2;case 2:l&&l.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.canCancel=!0),this.canCancel&&(this.commandHandler.insertBlazorObject(e.source),this.commandHandler.rotatePropertyChnage(this.tempArgs.oldValue.rotateAngle)),m.label=3;case 3:return c=this.commandHandler.renderContainerHelper(e.source)||e.source,this.undoElement.rotateAngle!==c.wrapper.rotateAngle&&(d={source:e.source,state:"Completed",oldValue:u={rotateAngle:c.wrapper.rotateAngle},newValue:u,cancel:!1},ge()||this.commandHandler.triggerEvent(_i.rotateChange,d),p=rt(e.source),f={type:"RotationChanged",redoObject:rt(p),undoObject:rt(this.undoElement),category:"Internal",childTable:this.childTable},this.commandHandler.addHistoryEntry(f),this.commandHandler.updateSelector(),this.rotateStart=!1),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,r.prototype.mouseUp.call(this,e),[2]}})})},t.prototype.mouseMove=function(e){var i;if(r.prototype.mouseMove.call(this,e),i=this.commandHandler.renderContainerHelper(e.source)||e.source,this.undoElement.rotateAngle===i.wrapper.rotateAngle&&!this.rotateStart){var n={rotateAngle:i.wrapper.rotateAngle},s={source:e.source,state:"Start",oldValue:n,newValue:n,cancel:!1};ge()||this.commandHandler.triggerEvent(_i.rotateChange,s),this.rotateStart=!0}this.currentPosition=e.position;var a=Be.findAngle({x:i.wrapper.offsetX,y:i.wrapper.offsetY},this.currentPosition)+90,l=this.commandHandler.snapAngle(a),h={rotateAngle:i.wrapper.rotateAngle},c={rotateAngle:a=((a=0!==l?l:a)+360)%360},d={source:Rt(e.source),state:"Progress",oldValue:Rt(h),newValue:Rt(c),cancel:!1};if(ge()||this.commandHandler.triggerEvent(_i.rotateChange,d),(!ge()&&!d.cancel||ge()&&!this.canCancel)&&(this.blocked=!this.commandHandler.rotateSelectedItems(a-i.wrapper.rotateAngle)),this.commandHandler.canEnableDefaultTooltip()){var p=this.getTooltipContent(e.source);this.commandHandler.showTooltip(e.source,e.position,Ed(function(){return p}),"RotateTool",this.isTooltipVisible),this.isTooltipVisible=!1}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+"\xb0"},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){r.prototype.endAction.call(this)},t}(Mh),Rb=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.resizeStart=!1,n.initialBounds=new Xi,n.canCancel=!1,n.corner=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){var i;if(ge()){this.commandHandler.insertSelectedObjects(),this.startPosition=this.currentPosition=this.prevPosition=e.position,this.currentElement=e.source,this.initialBounds.x=e.source.wrapper.offsetX,this.initialBounds.y=e.source.wrapper.offsetY,this.initialBounds.height=e.source.wrapper.actualSize.height,this.initialBounds.width=e.source.wrapper.actualSize.width,e.source&&(i={offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height});var n={source:Rt(e.source),state:"Start",oldValue:i,newValue:Rt(this.currentElement),cancel:!1};this.tempArgs=n}if(this.undoElement=rt(e.source),this.undoParentElement=this.commandHandler.getSubProcess(e.source),r.prototype.mouseDown.call(this,e),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var o=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),a=0;a<o.length;a++){var l=this.commandHandler.cloneChild(o[parseInt(a.toString(),10)].id);this.childTable[o[parseInt(a.toString(),10)].id]=rt(l)}this.commandHandler.checkSelection(e.source,this.corner),r.prototype.mouseDown.call(this,e),this.initialBounds.x=e.source.wrapper.offsetX,this.initialBounds.y=e.source.wrapper.offsetY,this.initialBounds.height=e.source.wrapper.actualSize.height,this.initialBounds.width=e.source.wrapper.actualSize.width},t.prototype.mouseUp=function(e,i){return Nb(this,void 0,void 0,function(){var n,l,h,d,p,f,m,M,T,P;return Pb(this,function(U){switch(U.label){case 0:return ge()?(n="diagram",this.commandHandler.updatePropertiesToBlazor(e,!1),M=rt(e.source),m={oldValue:this.tempArgs.oldValue,newValue:{width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height,offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY},cancel:!1,state:"Completed"},this.canCancel?[3,3]:(l=void 0,window&&window.Blazor&&this.commandHandler[""+n].sizeChange?(h={EventName:"sizeChange",args:JSON.stringify(m)},[4,window.sfBlazor.updateBlazorDiagramEvents(h,this.commandHandler[""+n])]):[3,2])):[3,4];case 1:l=U.sent(),U.label=2;case 2:l&&l.cancel&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0),this.commandHandler.insertBlazorObject(e.source),this.commandHandler.scaleSelectedItems(this.tempArgs.oldValue.width/M.wrapper.actualSize.width,this.tempArgs.oldValue.height/M.wrapper.actualSize.height,this.getPivot(this.corner))),U.label=3;case 3:this.tempArgs=void 0,this.canCancel=void 0,U.label=4;case 4:return this.checkPropertyValue(),this.commandHandler.removeSnap(),this.commandHandler.updateSelector(),d=this.commandHandler.renderContainerHelper(e.source)||e.source,(this.undoElement.offsetX!==d.wrapper.offsetX||this.undoElement.offsetY!==d.wrapper.offsetY||this.undoElement.width!==d.wrapper.bounds.width||this.undoElement.height!==d.wrapper.bounds.height)&&(ge()||(p=this.updateSize(e.source,this.currentPosition,this.prevPosition,this.corner,this.initialBounds),this.blocked=this.scaleObjects(p.width,p.height,this.corner,this.currentPosition,this.prevPosition,d),f={offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height},m={source:Rt(e.source),state:"Completed",oldValue:f,newValue:f,cancel:!1},this.commandHandler.triggerEvent(_i.sizeChange,m)),M=rt(e.source),T={type:"SizeChanged",redoObject:rt(M),undoObject:rt(this.undoElement),category:"Internal",childTable:this.childTable},this.resizeStart=!1,i||(this.commandHandler.startGroupAction(),this.commandHandler.addHistoryEntry(T),M.nodes[0]&&M.nodes[0].processId&&(P={type:"SizeChanged",redoObject:this.commandHandler.getSubProcess(e.source),undoObject:this.undoParentElement,category:"Internal"},this.commandHandler.addHistoryEntry(P)),this.commandHandler.endGroupAction())),this.commandHandler.updateBlazorSelector(),r.prototype.mouseUp.call(this,e),[2,!this.blocked]}})})},t.prototype.mouseMove=function(e){var i;if(r.prototype.mouseMove.call(this,e),i=this.commandHandler.renderContainerHelper(e.source)||e.source,this.undoElement.offsetX===i.wrapper.offsetX&&this.undoElement.offsetY===i.wrapper.offsetY&&!this.resizeStart){var s={source:e.source,state:"Start",oldValue:{offsetX:e.source.wrapper.offsetX,offsetY:e.source.wrapper.offsetY,width:e.source.wrapper.actualSize.width,height:e.source.wrapper.actualSize.height},newValue:this.currentElement,cancel:!1};ge()||this.commandHandler.triggerEvent(_i.sizeChange,s),this.resizeStart=!0}this.currentPosition=e.position;var l={x:this.currentPosition.x-this.startPosition.x,y:this.currentPosition.y-this.startPosition.y};l=uc(-this.currentElement.wrapper.rotateAngle,void 0,void 0,l),l=this.getChanges(l),this.commandHandler.removeSnap();var u=this.updateSize(e.source,this.startPosition,this.currentPosition,this.corner,this.initialBounds);if(this.blocked=!this.scaleObjects(u.width,u.height,this.corner,this.startPosition,this.currentPosition,i),this.commandHandler.canEnableDefaultTooltip()){var d=this.getTooltipContent(e.source);this.commandHandler.showTooltip(e.source,e.position,Ed(function(){return d}),"ResizeTool",this.isTooltipVisible),this.isTooltipVisible=!1}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.scaleObjects=function(e,i,n,s,o,a){a instanceof Pr&&1===a.nodes.length&&a.nodes[0].constraints&j.AspectRatio&&("ResizeWest"===n||"ResizeEast"===n||"ResizeNorth"===n||"ResizeSouth"===n?1===i&&1===e||(i=e=Math.max(1===i?0:i,1===e?0:e)):i=e=s!==o?Math.max(i,e):0);var l={offsetX:a.offsetX,offsetY:a.offsetY,width:a.width,height:a.height};this.blocked=this.commandHandler.scaleSelectedItems(e,i,this.getPivot(this.corner));var c,u,h={offsetX:a.offsetX,offsetY:a.offsetY,width:a.width,height:a.height};return c={source:a,state:"Progress",oldValue:l,newValue:h,cancel:!1},u={source:Rt(a),state:"Progress",oldValue:Rt(l),newValue:Rt(h),cancel:c.cancel},ge()||this.commandHandler.triggerEvent(_i.sizeChange,u),(u.cancel||this.canCancel)&&this.commandHandler.scaleSelectedItems(1/e,1/i,this.getPivot(this.corner)),this.blocked},t}(Mh),FL=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.sourceObject=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){r.prototype.mouseDown.call(this,e),this.inAction=!0,this.commandHandler.setFocus(),this.triggerElementDrawEvent(e.source,"Start","Node",this.getShapeType(),!0)},t.prototype.mouseMove=function(e){var i;if(r.prototype.mouseMove.call(this,e),this.drawingObject||(this.drawingObject=this.commandHandler.drawObject({offsetX:this.currentPosition.x,width:3,height:3,offsetY:this.currentPosition.y})),this.triggerElementDrawEvent(this.drawingObject,"Progress","Node",this.getShapeType(),!1),this.inAction&&!1===Be.equals(this.currentPosition,this.prevPosition)){var s=Xi.toBounds([this.prevPosition,this.currentPosition]);(i=this.commandHandler.checkBoundaryConstraints(void 0,void 0,s))&&this.commandHandler.updateNodeDimension(this.drawingObject,s)}return i},t.prototype.mouseUp=function(e){this.checkPropertyValue();var n=Xi.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.checkBoundaryConstraints(void 0,void 0,n),this.drawingObject&&this.drawingObject instanceof Et&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.triggerElementDrawEvent(this.drawingObject,"Completed","Node",this.getShapeType(),!1),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),r.prototype.mouseUp.call(this,e),this.inAction=!1},t.prototype.endAction=function(){r.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Mh),Vd=function(r){function t(e,i,n){var s=r.call(this,e,i)||this;return s.sourceObject=n,s}return Ih(t,r),t.prototype.mouseDown=function(e){return Nb(this,void 0,void 0,function(){return Pb(this,function(i){return r.prototype.mouseDown.call(this,e),this.inAction=!0,this.commandHandler.setFocus(),this.triggerElementDrawEvent(e.source,"Start","Connector",this.commandHandler.diagram.drawingObject.type,!0),[2]})})},t.prototype.mouseMove=function(e){return this.commandHandler.enableServerDataBinding(!1),this.inAction&&(this.drawingObject||(this.drawingObject=this.commandHandler.drawObject({sourcePoint:this.currentPosition,targetPoint:this.currentPosition})),e.source=this.drawingObject,this.triggerElementDrawEvent(e.source,"Progress","Connector",this.drawingObject.type,!1),(e.target&&e.target instanceof Et||e.actualObject&&e.sourceWrapper&&ZL(e.actualObject,e.sourceWrapper))&&("ConnectorTargetEnd"!==this.endPoint||Ud(e.target))&&this.commandHandler.connect(this.endPoint,e),this.endPoint="ConnectorTargetEnd"),this.inAction||(this.commandHandler.updateSelector(),e.source&&e.sourceWrapper&&this.commandHandler.renderHighlighter(e,!0)),r.prototype.mouseMove.call(this,e),this.commandHandler.enableServerDataBinding(!0),!this.blocked},t.prototype.mouseUp=function(e){return Nb(this,void 0,void 0,function(){return Pb(this,function(i){return this.commandHandler.enableServerDataBinding(!1),this.checkPropertyValue(),this.drawingObject&&this.drawingObject instanceof Gt&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.triggerElementDrawEvent(this.drawingObject,"Completed","Connector",this.drawingObject.type,!1),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),this.inAction=!1,this.commandHandler.enableServerDataBinding(!0),r.prototype.mouseUp.call(this,e),[2]})})},t.prototype.endAction=function(){r.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(_b),jL=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseDown=function(e){r.prototype.mouseDown.call(this,e),this.commandHandler.clearSelection(),e.source||(this.drawingNode=this.commandHandler.drawObject({shape:{type:"Text"},offsetX:this.currentPosition.x,offsetY:this.currentPosition.y}))},t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.drawingNode?(this.drawingNode.style.strokeColor="black",this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent"):(this.drawingNode=this.commandHandler.drawObject({shape:{type:"Text"},offsetX:this.currentPosition.x,width:30,height:30,offsetY:this.currentPosition.y}),this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent"),this.inAction&&!1===Be.equals(this.currentPosition,this.prevPosition)){var n=Xi.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.updateNodeDimension(this.drawingNode,n)}return!this.blocked},t.prototype.mouseUp=function(e){this.checkPropertyValue(),this.drawingNode?(this.drawingNode.style.strokeColor="none",this.drawingNode.style.fill="none"):this.drawingNode=e.source,this.drawingNode&&(this.drawingNode instanceof Et||this.drawingNode instanceof Gt)&&this.commandHandler.addText(this.drawingNode,this.currentPosition),r.prototype.mouseUp.call(this,e),this.inAction=!1},t.prototype.endAction=function(){r.prototype.endAction.call(this)},t}(Mh),lD=function(r){function t(e,i){var n=r.call(this,e)||this;return n.zooming=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){r.prototype.mouseDown.call(this,e),this.inAction=!0,this.commandHandler.setBlazorDiagramProps(!0)},t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.inAction)if(this.zooming||!1!==Be.equals(this.currentPosition,this.prevPosition)){if(e.moveTouches&&e.moveTouches.length&&e.moveTouches.length>=2){var s=e.startTouches[0],o=e.startTouches[1],a=e.moveTouches[0],l=e.moveTouches[1],h=this.getDistance(a,l)/this.getDistance(s,o);this.commandHandler.zoom(h,0,0,e.position),this.updateTouch(s,a),this.updateTouch(o,l)}}else this.commandHandler.scroll(this.currentPosition.x-this.prevPosition.x,this.currentPosition.y-this.prevPosition.y,this.currentPosition);return this.commandHandler.dataBinding(),!this.blocked},t.prototype.mouseUp=function(e){this.commandHandler.setBlazorDiagramProps(!1),this.checkPropertyValue(),this.commandHandler.updatePanState(!1),r.prototype.mouseUp.call(this,e),this.inAction=!1},t.prototype.endAction=function(){r.prototype.endAction.call(this)},t.prototype.getDistance=function(e,i){var n=i.pageX-e.pageX,s=i.pageY-e.pageY;return Math.sqrt(n*n+s*s)},t.prototype.updateTouch=function(e,i){e.pageX=i.pageX,e.pageY=i.pageY},t}(Mh),Mve=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseUp=function(e){this.checkPropertyValue(),this.commandHandler.initExpand(e),r.prototype.mouseUp.call(this,e)},t}(Mh),JG=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseUp=function(e){this.checkPropertyValue();var i="_blank",n="",s=window.innerHeight,o=window.innerWidth,a=window.screenTop,l=window.screenLeft;"CurrentTab"===e.sourceWrapper.hyperlink.hyperlinkOpenState?i="_self":"NewWindow"===e.sourceWrapper.hyperlink.hyperlinkOpenState&&(n="height="+s+",width="+o+",top="+a+",left="+l),window.open(e.sourceWrapper.hyperlink.link,i,n).focus(),r.prototype.mouseUp.call(this,e)},t}(Mh),_v=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseDown=function(e){if(r.prototype.mouseDown.call(this,e),this.inAction=!0,this.drawingObject){var n=void 0,s=this.drawingObject.shape;this.drawingObject.shape.points.push(n={x:(n=s.points[s.points.length-1]).x,y:n.y})}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var i={offsetX:this.currentPosition.x,offsetY:this.currentPosition.y,width:5,height:5,style:{strokeColor:"black",strokeWidth:1},shape:{type:"Basic",shape:"Polygon",points:[{x:this.startPoint.x,y:this.startPoint.y},{x:this.currentPosition.x,y:this.currentPosition.y}]}};ge()&&"Basic"===i.shape.type&&(i.shape.basicShape="Polygon"),this.drawingObject=this.commandHandler.drawObject(i)}},t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.inAction){var i=this.drawingObject.shape;if(this.drawingObject&&this.currentPosition&&(i.points[i.points.length-1].x=this.currentPosition.x,i.points[i.points.length-1].y=this.currentPosition.y,this.drawingObject.wrapper.children[0].data=CB(this.drawingObject.shape.points),this.inAction&&!1===Be.equals(this.currentPosition,this.prevPosition))){var n=Xi.toBounds(this.drawingObject.shape.points);this.commandHandler.updateNodeDimension(this.drawingObject,n)}}return!0},t.prototype.mouseUp=function(e,i){this.checkPropertyValue(),r.prototype.mouseMove.call(this,e),this.inAction&&(this.inAction=!1,this.drawingObject&&this.commandHandler.addObjectToDiagram(this.drawingObject)),this.endAction()},t.prototype.mouseWheel=function(e){r.prototype.mouseWheel.call(this,e),this.mouseMove(e)},t.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null},t}(Mh),Rv=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.inAction){var i=this.drawingObject;i.targetPoint=this.currentPosition,this.commandHandler.updateConnectorPoints(i)}return!0},t.prototype.mouseDown=function(e){if(r.prototype.mouseDown.call(this,e),this.inAction=!0,this.drawingObject){var n=this.drawingObject,s=void 0;(s=new zv(n,"segments",{type:"Straight"},!0)).point=this.currentPosition,n.segments[n.segments.length-1]=s}else this.drawingObject=this.commandHandler.drawObject({id:"Connector",type:"Straight",sourcePoint:this.currentPosition,targetPoint:this.currentPosition})},t.prototype.mouseWheel=function(e){r.prototype.mouseWheel.call(this,e),this.mouseMove(e)},t.prototype.mouseUp=function(e){if(this.checkPropertyValue(),r.prototype.mouseMove.call(this,e),this.inAction&&this.drawingObject){var i=this.drawingObject;i.segments[i.segments.length-1].point={x:0,y:0},this.commandHandler.addObjectToDiagram(this.drawingObject)}this.endAction()},t.prototype.endAction=function(){this.drawingObject=null,this.inAction=!1},t}(Mh),KG=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseDown=function(e){this.inAction=!0,this.undoElement=rt(e.source),this.annotationId=e.sourceWrapper.id,r.prototype.mouseDown.call(this,e)},t.prototype.mouseMove=function(e){r.prototype.mouseMove.call(this,e);var i=this.currentPosition.x-this.prevPosition.x,n=this.currentPosition.y-this.prevPosition.y,s=e.source;if(s instanceof Et){var o=Bs();to(o,-s.rotateAngle,0,0);var a=xn(o,{x:i,y:n});i=a.x,n=a.y}return this.inAction&&(this.commandHandler.labelDrag(e.source,e.sourceWrapper,i,n),this.commandHandler.updateSelector()),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(e){this.checkPropertyValue();var i=e.source;this.inAction=!1;var n={type:"AnnotationPropertyChanged",objectId:this.annotationId,undoObject:rt(this.undoElement),category:"Internal",redoObject:rt(i)};this.commandHandler.addHistoryEntry(n),r.prototype.mouseUp.call(this,e)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(Mh),xve=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.corner=i,n}return Ih(t,r),t.prototype.mouseDown=function(e){this.inAction=!0;var i=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0];this.annotationId=e.source.wrapper.children[0].id,this.undoElement=rt(i);var n=e.source.wrapper.children[0];this.initialBounds={x:n.offsetX,y:n.offsetY,width:n.actualSize.width,height:n.actualSize.height},r.prototype.mouseDown.call(this,e)},t.prototype.mouseMove=function(e){return r.prototype.mouseMove.call(this,e),this.inAction&&this.resizeObject(e),!this.blocked},t.prototype.mouseUp=function(e){this.checkPropertyValue();var i=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0];this.inAction=!1;var n={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:rt(i),undoObject:rt(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(n),r.prototype.mouseUp.call(this,e)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.resizeObject=function(e){var i,s,o,n=e.source.wrapper.children[0],a={x:n.offsetX,y:n.offsetY},l=n.rotateAngle;l=((l+=(i=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0])instanceof Et?i.rotateAngle:0)+360)%360;var h=Bs();to(h,l,a.x,a.y);var c=this.corner.slice(5),u=this.updateSize(n,this.startPosition,this.currentPosition,c,this.initialBounds,l),d=n.offsetX-n.actualSize.width*n.pivot.x,p=n.offsetY-n.actualSize.height*n.pivot.y,f=this.getPivot(c),m=xn(h,f={x:d+n.actualSize.width*f.x,y:p+n.actualSize.height*f.y});u.x=m.x,u.y=m.y,this.commandHandler.labelResize(i,e.source.annotation,s=(s=u.width)<0?1:s,o=(o=u.height)<0?1:o,u,e.source),this.commandHandler.updateSelector()},t}(Mh),Dve=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseDown=function(e){this.inAction=!0,this.annotationId=e.source.wrapper.children[0].id,this.undoElement=rt(e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0]),r.prototype.mouseDown.call(this,e)},t.prototype.mouseMove=function(e){return r.prototype.mouseMove.call(this,e),e.source&&this.inAction&&(this.commandHandler.labelRotate(e.source.nodes[0]?e.source.nodes[0]:e.source.connectors[0],e.source.annotation,this.currentPosition,e.source),this.commandHandler.updateSelector()),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(e){this.checkPropertyValue(),this.inAction=!1;var n={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:rt(e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0]),undoObject:rt(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(n),r.prototype.mouseUp.call(this,e)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(Mh),Tve=function(r){function t(e){return r.call(this,e,!0)||this}return Ih(t,r),t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.inAction){var i=this.drawingObject.shape;if(this.drawingObject&&this.currentPosition&&(i.points.push(this.currentPosition),this.drawingObject.wrapper.children[0].data=SB(this.drawingObject.shape.points),i.data=SB(i.points),this.inAction&&!1===Be.equals(this.currentPosition,this.prevPosition))){var s=Xi.toBounds(this.drawingObject.shape.points);this.commandHandler.updateNodeDimension(this.drawingObject,s)}}return!0},t.prototype.mouseDown=function(e){r.prototype.mouseDown.call(this,e),this.inAction=!0,this.drawingObject||(this.startPoint={x:this.startPosition.x,y:this.startPosition.y},this.drawingObject=this.commandHandler.drawObject({offsetX:this.currentPosition.x,offsetY:this.currentPosition.y,width:5,height:5,style:{strokeColor:"black",strokeWidth:1,fill:"transparent"},shape:{type:"Path",points:[{x:this.startPoint.x,y:this.startPoint.y},{x:this.currentPosition.x,y:this.currentPosition.y}]}}))},t.prototype.mouseUp=function(e){if(this.checkPropertyValue(),this.inAction&&(this.inAction=!1,this.drawingObject)){var s=this.drawingObject.shape,o=s.points;this.commandHandler.addObjectToDiagram(this.drawingObject),this.commandHandler.diagram.remove(this.commandHandler.diagram.nameTable[""+this.drawingObject.id]),o=this.pointReduction(o,10);var h={id:"newConnector"+kn(),type:"Bezier",sourcePoint:{x:o[0].x,y:o[0].y},targetPoint:{x:o[o.length-1].x,y:o[o.length-1].y},segments:[],targetDecorator:{shape:"None"},bezierSettings:{allowSegmentsReset:!1}};this.drawingObject=this.commandHandler.drawObject(h),this.drawingObject=this.bezierCurveSmoothness(o,.5,this.drawingObject,s),this.commandHandler.updateConnectorPoints(this.drawingObject),this.commandHandler.addObjectToDiagram(this.drawingObject),r.prototype.mouseUp.call(this,e)}},t.prototype.pointReduction=function(e,i){if(null===e||e.length<3)return e;var s=e.length-1,o=[];for(o.push(0),o.push(s);e[parseInt((0).toString(),10)]===e[parseInt(s.toString(),10)];)s--;this.reduction(e,0,s,i,o);var a=[];return o.sort(function(l,h){return l-h}),o.forEach(function(l){a.push(e[parseInt(l.toString(),10)])}),a},t.prototype.reduction=function(e,i,n,s,o){for(var a=0,l=0,h=i;h<n;h++){var c=this.perpendicularDistance(e[parseInt(i.toString(),10)],e[parseInt(n.toString(),10)],e[parseInt(h.toString(),10)]);c>a&&(a=c,l=h)}a>s&&0!==l&&(o.push(l),this.reduction(e,i,l,s,o),this.reduction(e,l,n,s,o))},t.prototype.perpendicularDistance=function(e,i,n){return Math.abs(.5*(e.x*i.y-i.x*e.y+(i.x*n.y-n.x*i.y)+(n.x*e.y-e.x*n.y)))/Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))*2},t.prototype.bezierCurveSmoothness=function(e,i,n,s){if(e.length<3)return n;for(var o=0;o<e.length-1;o++){var a=e[parseInt(o.toString(),10)].x,l=e[parseInt(o.toString(),10)].y,h=e[o+1].x,c=e[o+1].y,u=void 0,d=void 0;if(0===o){var p=e[parseInt(o.toString(),10)];u=p.x,d=p.y}else u=e[o-1].x,d=e[o-1].y;var f=void 0,m=void 0;if(o===e.length-2){var M=e[o+1];f=M.x,m=M.y}else f=e[o+2].x,m=e[o+2].y;var T=(u+a)/2,P=(d+l)/2,U=(a+h)/2,Y=(l+c)/2,X=(h+f)/2,Q=(c+m)/2,oe={},de={},Me={},Ve={};oe.x=u,oe.y=d,de.x=a,de.y=l,Me.x=h,Me.y=c,Ve.x=f,Ve.y=m;var Ce=Be.findLength(oe,de),ze=Be.findLength(de,Me),pe=Ce/(Ce+ze),Pe=ze/(ze+Be.findLength(Me,Ve)),Qe=T+(U-T)*pe,Oe=P+(Y-P)*pe,Ye=U+(X-U)*Pe,ut=Y+(Q-Y)*Pe,Xt=Qe+(U-Qe)*i+a-Qe,ni=Oe+(Y-Oe)*i+l-Oe,ui=Ye+(U-Ye)*i+h-Ye,Pi=ut+(Y-ut)*i+c-ut,Di=new Hh(s,"segments",{type:"Bezier"},!0),Fi={x:Xt,y:ni},Mi={x:ui,y:Pi},hn={x:a,y:l},xr={x:h,y:c};Di.type="Bezier",n.segments[parseInt(o.toString(),10)]=Di,0===o&&(Fi={x:a,y:l}),o===e.length-2&&(Mi={x:h,y:c}),n.segments[parseInt(o.toString(),10)].vector1={angle:Nr(hn,Fi),distance:Be.findLength(hn,Fi)},n.segments[parseInt(o.toString(),10)].vector2={angle:Nr(xr,Mi),distance:Be.findLength(xr,Mi)},n.segments[parseInt(o.toString(),10)].point=xr}return n},t}(Mh),cc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qi=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Eve=function(r){if(ge())return zve;if(r)switch(r.type){case"Bpmn":return kve;case"UmlActivity":return Lve;case"UmlClassifier":return Rve;default:return hD}return hD},Ave=function(r){if(r){if(ge())return Nve;switch(r.type){case"Straight":default:return zv;case"Bezier":return Hh;case"Orthogonal":return Ts}}},h4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O(10)],t.prototype,"width",void 0),Qi([O(10)],t.prototype,"height",void 0),Qi([O("Arrow")],t.prototype,"shape",void 0),Qi([Lt({fill:"black",strokeColor:"black",strokeWidth:1},wy)],t.prototype,"style",void 0),Qi([Lt({x:0,y:.5},Be)],t.prototype,"pivot",void 0),Qi([O("")],t.prototype,"pathData",void 0),t}(ii),HL=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O(0)],t.prototype,"angle",void 0),Qi([O(0)],t.prototype,"distance",void 0),t}(ii),Ove=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O(MB.All)],t.prototype,"controlPointsVisibility",void 0),Qi([O("FreeForm")],t.prototype,"segmentEditOrientation",void 0),Qi([O(cL.Default)],t.prototype,"smoothness",void 0),Qi([O(!0)],t.prototype,"allowSegmentsReset",void 0),t}(ii),hD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("None")],t.prototype,"type",void 0),t}(ii),Lve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("Object")],t.prototype,"flow",void 0),Qi([O(30)],t.prototype,"exceptionFlowHeight",void 0),t}(hD),kve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("Sequence")],t.prototype,"flow",void 0),Qi([O("Normal")],t.prototype,"sequence",void 0),Qi([O("Default")],t.prototype,"message",void 0),Qi([O("Default")],t.prototype,"association",void 0),t}(hD),eX=function(r){function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.points=[],o}return cc(t,r),Qi([O("Straight")],t.prototype,"type",void 0),Qi([O(!0)],t.prototype,"allowDrag",void 0),t}(ii),zv=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),t.prototype.getClassName=function(){return"StraightSegment"},Qi([Lt({x:0,y:0},Be)],t.prototype,"point",void 0),t}(eX),Hh=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),t.prototype.getClassName=function(){return"BezierSegment"},t.prototype.getPoints=function(e,i){var n=[];if(n.length>0||null!=i){var o=this.bezireToPoly(n.length>0?n[n.length-1]:i,e);n.push.apply(n,o)}return n},t.prototype.bezireToPoly=function(e,i){var n=[];return i&&this.flattenCubicBezier(n,e,i.bezierPoint1,i.bezierPoint2,{x:i.points[1].x,y:i.points[1].y},10),n},t.prototype.flattenCubicBezier=function(e,i,n,s,o,a){var h,l=(Be.findLength(i,n)+Be.findLength(n,s)+Be.findLength(s,o))/a;for(h=0;h<=l;h++){var c=h/l;e.push({x:(1-c)*(1-c)*(1-c)*i.x+3*c*(1-c)*(1-c)*n.x+3*c*c*(1-c)*s.x+c*c*c*o.x,y:(1-c)*(1-c)*(1-c)*i.y+3*c*(1-c)*(1-c)*n.y+3*c*c*(1-c)*s.y+c*c*c*o.y})}},Qi([O("Horizontal")],t.prototype,"orientation",void 0),Qi([Lt({x:0,y:0},Be)],t.prototype,"point1",void 0),Qi([Lt({x:0,y:0},Be)],t.prototype,"point2",void 0),Qi([Lt({angle:0,distance:0},HL)],t.prototype,"vector1",void 0),Qi([Lt({angle:0,distance:0},HL)],t.prototype,"vector2",void 0),t}(zv),Ts=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),t.prototype.getClassName=function(){return"OrthogonalSegment"},Qi([O(null)],t.prototype,"length",void 0),Qi([O(null)],t.prototype,"direction",void 0),t}(eX),Nve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),t.prototype.getClassName=function(){return"DiagramConnectorSegment"},Qi([O("Straight")],t.prototype,"type",void 0),Qi([O(!0)],t.prototype,"allowDrag",void 0),Qi([Lt({x:0,y:0},Be)],t.prototype,"point",void 0),Qi([Lt({x:0,y:0},Be)],t.prototype,"point1",void 0),Qi([Lt({x:0,y:0},Be)],t.prototype,"point2",void 0),Qi([Lt({angle:0,distance:0},HL)],t.prototype,"vector1",void 0),Qi([Lt({angle:0,distance:0},HL)],t.prototype,"vector2",void 0),Qi([O(null)],t.prototype,"length",void 0),Qi([O(null)],t.prototype,"direction",void 0),t}(ii);function tX(r,t,e){var s=e?45:180/(2+2/(r.height/r.width)),o=s,a=180-s,l=a+2*s,h=360-s,c=Nr(t,r.center);return c>o&&c<a?"top":c>a&&c<l?"right":c>l&&c<h?"bottom":"left"}function UL(r){return!r.distance&&!r.angle}function VL(r,t,e){var i=60,n={x:0,y:0};switch(e||(e=Math.abs(t.x-r.x)>Math.abs(t.y-r.y)?r.x<t.x?"right":"left":r.y<t.y?"bottom":"top"),e){case"bottom":case"top":i=Math.min(.45*Math.abs(r.y-t.y),i),n={x:r.x,y:r.y+("bottom"===e?i:-i)};break;case"right":case"left":i=Math.min(.45*Math.abs(r.x-t.x),i),n={x:r.x+("right"===e?i:-i),y:r.y}}return n}function Pve(r,t,e,i,n){var s=0,o=0,a=0,l=0,c=Number((n.distance(t,r)+n.distance(e,t)+n.distance(i,e))/3);if(0!==c)for(var u=0;u<=c;u++){var d=u/c,p=(1-d)*(1-d)*(1-d)*r.x+3*d*(1-d)*(1-d)*t.x+3*d*d*(1-d)*e.x+d*d*d*i.x,f=(1-d)*(1-d)*(1-d)*r.y+3*d*(1-d)*(1-d)*t.y+3*d*d*(1-d)*e.y+d*d*d*i.y;0===u?(s=a=p,o=l=f):(s=Math.min(p,s),o=Math.min(f,o),a=Math.max(p,a),l=Math.max(f,l))}return{x:s,y:o,width:a-s,height:l-o,left:s,top:o,right:s+(a-s),bottom:o+(l-o),center:{x:(s+(a-s))/2,y:(o+(l-o))/2}}}function _ve(r,t,e,i,n,s,o){var a={x:0,y:0},l=s/o;return a.x=(1-l)*(1-l)*(1-l)*t.x+3*l*(1-l)*(1-l)*e.x+3*l*l*(1-l)*i.x+l*l*l*n.x,a.y=(1-l)*(1-l)*(1-l)*t.y+3*l*(1-l)*(1-l)*e.y+3*l*l*(1-l)*i.y+l*l*l*n.y,a}var iX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O(!0)],t.prototype,"optional",void 0),Qi([O(void 0)],t.prototype,"lowerBounds",void 0),Qi([O(void 0)],t.prototype,"upperBounds",void 0),t}(ii),nX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("OneToOne")],t.prototype,"type",void 0),Qi([Lt({},iX)],t.prototype,"target",void 0),Qi([Lt({},iX)],t.prototype,"source",void 0),t}(ii),Rve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("UmlClassifier")],t.prototype,"type",void 0),Qi([O("Aggregation")],t.prototype,"relationship",void 0),Qi([O("Directional")],t.prototype,"associationType",void 0),Qi([Lt({},nX)],t.prototype,"multiplicity",void 0),t}(hD),zve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cc(t,r),Qi([O("None")],t.prototype,"type",void 0),Qi([O("Directional")],t.prototype,"associationType",void 0),Qi([O("Aggregation")],t.prototype,"relationship",void 0),Qi([Lt({},nX)],t.prototype,"multiplicity",void 0),Qi([O("Sequence")],t.prototype,"bpmnFlow",void 0),Qi([O("Default")],t.prototype,"message",void 0),Qi([O("Normal")],t.prototype,"sequence",void 0),Qi([O("Default")],t.prototype,"association",void 0),Qi([O("Object")],t.prototype,"umlActivityFlow",void 0),Qi([O(30)],t.prototype,"exceptionFlowHeight",void 0),t}(ii),Gt=function(r){function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.parentId="",o.bridges=[],o.status="None",o.outEdges=[],o.inEdges=[],o.shape&&"UmlActivity"===o.shape.type&&GL(n,o),n&&n.shape&&"None"!==n.shape.type&&pX(n,o),o}return cc(t,r),t.prototype.setPortID=function(e,i){if(this.targetID&&this.sourceID)for(var n=e.nameTable[this.targetID],s=e.nameTable[this.sourceID],o=i?n&&n.ports:s&&s.ports,a=void 0,l=0;o&&l<o.length;l++)a=o[parseInt(l.toString(),10)],this.targetPortID===a.id&&i?(a.constraints&kr.None||!(a.constraints&kr.InConnect))&&(this.targetPortID=""):this.sourcePortID===a.id&&!i&&(a.constraints&kr.None||!(a.constraints&kr.OutConnect))&&(this.sourcePortID="")},t.prototype.init=function(e){this.id||(this.id=kn()),this.sourcePortID&&this.setPortID(e),this.targetPortID&&this.setPortID(e,!0);var i,n=new Ds,s=new Nn;s.id=this.id+"_path";var o=new Nn,a=new Nn;s=this.getSegmentElement(this,s);var l=[];l="Bezier"===this.type?this.intermediatePoints:this.getConnectorPoints(this.type),l=this.clipDecorators(this,l);var h=Xi.toBounds(l);switch(n.width=h.width,n.height=h.height,n.offsetX=h.x+n.pivot.x*h.width,n.offsetY=h.y+n.pivot.y*h.height,this.shape.type){case"Bpmn":switch(ge()?this.shape.bpmnFlow:this.shape.flow){case"Sequence":i=this.getBpmnSequenceFlow();break;case"Association":(i=new Nn).visible=!1,this.getBpmnAssociationFlow();break;case"Message":i=this.getBpmnMessageFlow(),s=this.getSegmentElement(this,s),this.updateShapePosition(this,i)}break;case"UmlActivity":switch(ge()?this.shape.umlActivityFlow:this.shape.flow){case"Object":this.getUMLObjectFlow();break;case"Exception":this.getUMLExceptionFlow(s)}break;case"UmlClassifier":this.getConnectorRelation()}var d=this.intermediatePoints;if("Bezier"===this.type){var p=this.segments[0],f=this.segments[this.segments.length-1];d=[Be.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,Be.isEmptyPoint(p.point1)?p.bezierPoint1:p.point1]}var M=e.getDescription;if(o=this.getDecoratorElement(l[0],d[1],this.sourceDecorator,!0,M),a=this.getDecoratorElement(l[l.length-1],d[d.length-2],this.targetDecorator,!1,M),o.id=this.id+"_srcDec",a.id=this.id+"_tarDec",s.style=this.style,s.style.fill="transparent",void 0!==M){var T=M(this,e);s.description=T||this.id}n.style.strokeColor="transparent",n.style.fill="transparent",n.style.strokeWidth=0,n.children=[s,o,a],n.id=this.id,void 0!==i&&n.children.push(i),n.offsetX=s.offsetX,n.offsetY=s.offsetY,n.width=s.width,n.height=s.height;for(var P=0;P<this.annotations.length;P++)n.children.push(this.getAnnotationElement(this.annotations[parseInt(P.toString(),10)],this.intermediatePoints,h,M,e.element.id,e.annotationTemplate));for(P=0;P<this.fixedUserHandles.length;P++)n.children.push(this.getfixedUserHandle(this.fixedUserHandles[parseInt(P.toString(),10)],this.intermediatePoints,h));return this.initPorts(M,n,h),this.wrapper=n,n},t.prototype.initPorts=function(e,i,n){for(var s=0;s<this.ports.length;s++)i.children.push(this.initPort(this.ports[parseInt(s.toString(),10)],this.intermediatePoints,n,e))},t.prototype.initPort=function(e,i,n,s){var o=new Nn;o.height=e.height,o.width=e.width,o.margin=e.margin;var a="Custom"===e.shape?e.pathData:FB(e.shape);o.data=a,o.horizontalAlignment=e.horizontalAlignment,o.verticalAlignment=e.verticalAlignment,o=this.initPortWrapper(e,i,n,o,this);var l,h=ho(s);return h&&(l=h(o,this)),o.description=l||o.id,o.elementActions=o.elementActions|Na.ElementIsPort,o.isPathPort=!0,o},t.prototype.initPortWrapper=function(e,i,n,s,o){e.id=e.id||kn();var a={x:0,y:0},l=function ame(r,t,e){var i=function lme(r,t){for(var n,s,a,l,e=0,i=t.offset,o=[],h=0;h<r.length-1;h++)e+=Be.distancePoints(r[parseInt(h.toString(),10)],r[h+1]),o.push(e);for(var c=i*e,u=0;u<o.length;u++){if(o[parseInt(u.toString(),10)]>=c)return s=Be.findAngle(r[parseInt(u.toString(),10)],r[u+1]),{point:n=Be.transform(r[parseInt(u.toString(),10)],s,c-(a||0)),index:l=u};a=o[parseInt(u.toString(),10)]}return{point:n,index:l}}(r,t),n=Be.findAngle(r[i.index],r[i.index+1]),s=function hme(r){var e=0;switch(r.alignment){case"Center":case"After":e=0;break;case"Before":e=-0}return e}(t),o=Be.transform(i.point,n+45,s);return i.point=o,i.angle=n,i}(i,e),h=l.point;s.id=this.id+"_"+e.id;var c=e.style;s.style={fill:c.fill,strokeColor:c.strokeColor,gradient:null,opacity:c.opacity,strokeDashArray:c.strokeDashArray,strokeWidth:c.strokeWidth},0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth);var u_y=(h.y-n.y)/n.height;a.x=n.width*((h.x-n.x)/n.width),a.y=n.height*u_y;var m,M,d=mX(e,l.angle,i),p=d.hAlign,f=d.vAlign;return"left"===p?(m="Left",a.x+=e.displacement.x):"right"===p?(m="Right",a.x-=e.displacement.x):"center"===p&&(m="Center"),"top"===f?(M="Top",a.y+=e.displacement.y):"bottom"===f?(M="Bottom",a.y-=e.displacement.y):"center"===f&&(M="Center"),s.horizontalAlignment=m,s.verticalAlignment=M,(s=pD(s,o&&"Label"!==o.flipMode&&"None"!==o.flipMode?this.flip:"None",e)).float=!0,s.setOffsetWithRespectToBounds(a.x,a.y,"Absolute"),s.relativeMode="Point",s.visible=!(!Yd(e,zi.Visible)||Yd(e,zi.Hover)||Yd(e,zi.Connect)),s.elementActions=s.elementActions|Na.ElementIsPort,s},t.prototype.getConnectorRelation=function(){var e=this.shape;"Association"===e.relationship?(this.segments[0].type="Straight",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Inheritance"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Composition"===e.relationship||"Aggregation"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="Diamond",this.targetDecorator.shape="None"):"Dependency"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="OpenArrow"):"Realization"===e.relationship&&(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"),"BiDirectional"===e.associationType&&(this.sourceDecorator.shape="None",this.targetDecorator.shape="None");var i,o,n="",s="";e.multiplicity.source&&(e.multiplicity.source.lowerBounds=e.multiplicity.source.lowerBounds,e.multiplicity.source.upperBounds=e.multiplicity.source.upperBounds),e.multiplicity.target&&(e.multiplicity.target.lowerBounds=e.multiplicity.target.lowerBounds,e.multiplicity.target.upperBounds=e.multiplicity.target.upperBounds);var a=e.multiplicity.source,l=e.multiplicity.target;o=a.upperBounds?a.lowerBounds+"..."+a.upperBounds:a.lowerBounds,i=l.upperBounds?l.lowerBounds+"..."+l.upperBounds:l.lowerBounds,"ManyToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,n=o||"*",s="1"),"OneToMany"===e.multiplicity.type&&(e.multiplicity.source.optional=!1,s=i||"*",n="1"),"ManyToMany"===e.multiplicity.type&&(n=o||"*",s=i||"*"),"OneToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,e.multiplicity.source.optional=!1,n="1",s="1"),this.annotations=[{id:this.id+"sourcelabel",content:n,offset:0,alignment:"Before",margin:{right:5,bottom:5}},{id:this.id+"targetlabel",content:s,offset:1,alignment:"Before",margin:{right:5,bottom:5}}]},t.prototype.getBpmnSequenceFlow=function(){var e=new Nn,i=new Nn;return"Normal"===this.shape.sequence&&"Bezier"!==this.type&&(this.targetDecorator.shape="Arrow"),"Default"===this.shape.sequence&&(e=this.getSegmentElement(this,e),i=MX(this.intermediatePoints,this),this.targetDecorator.shape="Arrow"),"Conditional"===this.shape.sequence&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Diamond",i.id=this.id+this.shape.type),i},t.prototype.getUMLObjectFlow=function(){if(this.annotations)for(var e=0;e<this.annotations.length;e++)this.annotations[parseInt(e.toString(),10)].content="["+this.annotations[parseInt(e.toString(),10)].content+"]"},t.prototype.getUMLExceptionFlow=function(e){this.type="Straight";var n={x:(this.targetPoint.x+this.sourcePoint.x)/2,y:(this.targetPoint.y+this.sourcePoint.y)/2},s=n.x-this.sourcePoint.x,o=n.y-this.sourcePoint.y,l=this.shape.exceptionFlowHeight/2/Math.sqrt(s*s+o*o),h={x:n.x-s*l,y:n.y-o*l},c={x:n.x+s*l,y:n.y+o*l},u=Bs();to(u,315,n.x,n.y),this.segments=[];var d=new zv(this,"segments",{type:"Straight",point:xn(u,c)},!0);this.segments.push(d),d=new zv(this,"segments",{type:"Straight",point:xn(u,h)},!0),this.segments.push(d),e=this.getSegmentElement(this,e)},t.prototype.getBpmnAssociationFlow=function(){"Default"===this.shape.association&&(this.targetDecorator.shape="None",this.style.strokeDashArray="2 2"),"Directional"===this.shape.association&&(this.targetDecorator.shape="OpenArrow",this.style.strokeDashArray="2 2"),"BiDirectional"===this.shape.association&&(this.targetDecorator.shape="OpenArrow",this.sourceDecorator.shape="OpenArrow",this.style.strokeDashArray="2 2")},t.prototype.getfixedUserHandle=function(e,i,n){var s=new Ds;s.float=!0,e.id=e.id||kn(),s.id=this.id+"_"+e.id,s.children=[],s.visible=e.visibility,s.width=e.width,s.height=e.height,s.style.strokeWidth=e.handleStrokeWidth,s.style.fill=e.fill,s.style.strokeColor=e.handleStrokeColor,s.cornerRadius=e.cornerRadius,this.updateAnnotation(e,i,n,s);var a=vX(e,s);return s.children.push(a),s.description=s.id,s},t.prototype.getBpmnMessageFlow=function(){var e=new Nn;return this.targetDecorator.shape="Arrow",this.targetDecorator.width=10,this.targetDecorator.height=10,this.sourceDecorator.shape="Circle",this.sourceDecorator.style.fill="white",this.targetDecorator.style.fill="white",("InitiatingMessage"===this.shape.message||"NonInitiatingMessage"===this.shape.message)&&(e.id=this.id+"_"+this.shape.message,e.width=25,e.height=15,e.data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.horizontalAlignment="Center",e.verticalAlignment="Center",e.transform=$u.Self,e.style.fill="NonInitiatingMessage"===this.shape.message?"lightgrey":"white"),e},t.prototype.distance=function(e,i){return JL(e,i)},t.prototype.findPath=function(e,i){return xX(e,i)},t.prototype.getAnnotationElement=function(e,i,n,s,o,a){var l;if(e.id=e.id||kn(),ge()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),o&&(e.template||"Template"===e.annotationType||a&&""===e.content)){var u=document.getElementById(o).ej2_instances[0];l=new Sh(this.id,o,e.id,a),e.template&&"function"==typeof e.template&&u.isReact&&(l.templateFn=wn(e.template),l.isTemplate=!0),l=XX(l,e,a,u)}else(l=new Qr).content=e.content,l.style.textOverflow="Wrap";l.constraints=e.constraints,l.visible=e.visibility,l.rotateAngle=e.rotateAngle,l.horizontalAlignment=e.horizontalAlignment,l.verticalAlignment=e.verticalAlignment,l.width=e.width,l.height=e.height,void 0!==n.width&&!e.template&&(l.width=(e.width||n.width)-e.margin.left-e.margin.right),l.margin=e.margin,l.id=this.id+"_"+e.id,0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth),l.style=e.style;var d,p=ho(s);return p&&(d=p(e,this)),l.description=d||l.id,this.updateAnnotation(e,i,n,l),l},t.prototype.updateAnnotation=function(e,i,n,s,o){var a={x:0,y:0};!(s instanceof Sh||Jl)&&!o&&s.refreshTextElement(),s.width=e.width||n.width;var l=d4(i,e),h=l.point;e instanceof zl&&e.segmentAngle&&(s.rotateAngle=e.rotateAngle+l.angle,s.rotateAngle=(s.rotateAngle+360)%360),0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth);var c_y=(h.y-n.y)/n.height;a.x=n.width*((h.x-n.x)/n.width),a.y=n.height*c_y;var f,m,u=mX(e,l.angle,i),d=u.hAlign,p=u.vAlign;"left"===d?(f="Left",a.x+=e.displacement.x):"right"===d?(f="Right",a.x-=e.displacement.x):"center"===d&&(f="Center"),"top"===p?(m="Top",a.y+=e.displacement.y):"bottom"===p?(m="Bottom",a.y-=e.displacement.y):"center"===p&&(m="Center"),s.horizontalAlignment=f,s.verticalAlignment=m,s.setOffsetWithRespectToBounds(a.x,a.y,"Absolute"),s.relativeMode="Point"},t.prototype.getConnectorPoints=function(e,i,n,s){var o=aG(this,n,s).slice(0);return o&&o.length>0&&(this.sourcePoint=o[0],this.targetPoint=o[o.length-1]),o},t.prototype.clipDecorator=function(e,i,n,s){var a,l,o={x:0,y:0},h=i.length,c=Be.distancePoints(a=n?i[0]:i[h-1],l=n?i[1]:i[h-2]);c=0===c?1:c;var u=1,d=n?e.sourceWrapper:e.targetWrapper;d&&(u=d.style.strokeWidth,s&&s&Dt.DecoratorPropertyChange&&(u=1));var p=u-1;return o.x=Math.round(a.x+p*(l.x-a.x)/c),o.y=Math.round(a.y+p*(l.y-a.y)/c),(n&&"None"!==e.sourceDecorator.shape||!n&&"None"!==e.targetDecorator.shape)&&(o=Be.adjustPoint(o,l,!0,s&Dt.DecoratorPropertyChange?0:u/2)),o},t.prototype.clipDecorators=function(e,i,n){return"None"!==e.sourceDecorator.shape&&(i[0]=this.clipDecorator(e,i,!0,n)),"None"!==e.targetDecorator.shape&&(i[i.length-1]=this.clipDecorator(e,i,!1,n)),i},t.prototype.updateSegmentElement=function(e,i,n,s){var o=new Xi,a=this.getSegmentPath(e,i,s);if("Bezier"===e.type){if(this.segments.length>0)for(var l=0;l<this.segments.length;l++){var h=this.segments[parseInt(l.toString(),10)],c=e.segments[parseInt(l.toString(),10)],u=Be.isEmptyPoint(h.point1)?c.bezierPoint1:c.point1,d=Be.isEmptyPoint(h.point2)?c.bezierPoint2:c.point2;o.uniteRect(Pve(h.points[0],u,d,h.points[1],e))}}else o=Xi.toBounds(i);return n.width=o.width,n.height=o.height,n.offsetX=o.x+n.width/2,n.offsetY=o.y+n.height/2,n.data=a,e.wrapper&&(e.wrapper.offsetX=n.offsetX,e.wrapper.offsetY=n.offsetY,e.wrapper.width=o.width,e.wrapper.height=o.height),n},t.prototype.getSegmentElement=function(e,i,n,s,o){var a;return void 0===o&&(o=!0),o&&IX(e),a=this.getConnectorPoints(e.type,void 0,n),this.intermediatePoints=a,i.staticSize=!0,this.updateSegmentElement(e,a,i,s)},t.prototype.getDecoratorElement=function(e,i,n,s,o){var a=new Nn;if(a.transform=$u.Self,this.updateDecoratorElement(a,e,i,n),void 0!==o){var l=o(n,this);a.description=l||"source"}return a},t.prototype.bridgePath=function(e,i,n){var s=i;if(e.bridges.length>0)if("Straight"===e.type&&e.segments.length<2)for(var o=0;o<e.bridges.length;o++)(a=e.bridges[parseInt(o.toString(),10)]).rendered||(s+=" L"+a.startPoint.x+" "+a.startPoint.y,s+=a.path,a.rendered=!0);else if("Orthogonal"===e.type||"Straight"===e.type&&e.segments.length>1)for(o=0;o<e.bridges.length;o++){var a;(a=e.bridges[parseInt(o.toString(),10)]).segmentPointIndex===n&&(a.rendered||a.segmentPointIndex===n&&(s+=" L"+a.startPoint.x+" "+a.startPoint.y,s+=a.path,a.rendered=!0))}return s},t.prototype.updateDecoratorElement=function(e,i,n,s){e.offsetX=i.x,e.offsetY=i.y;var o=Be.findAngle(i,n),a=function $fe(r,t){return"Custom"===r?t.pathData:Kfe[""+r]}(s.shape,s),l=new pi(s.width,s.height);e.pivot.x=s.pivot.x,e.pivot.y=s.pivot.y,e.style=s.style,e.rotateAngle=o,e.data=a,e.canMeasurePath=!0,e.width=l.width,e.height=l.height},t.prototype.getSegmentPath=function(e,i,n){for(var o,a,l,s="",h=[],c=0;c<i.length;)h.push({x:i[parseInt(c.toString(),10)].x,y:i[parseInt(c.toString(),10)].y}),c++;for(var u=0;u<e.bridges.length;u++)e.bridges[parseInt(u.toString(),10)].rendered=!1;if(h=this.clipDecorators(e,h,n),this.cornerRadius>0&&"Bezier"!==this.type)for(var p=0;p<h.length-1;p++){o=h[parseInt(p.toString(),10)],0===p&&(s="M"+o.x+" "+o.y);var f=Be.distancePoints(h[parseInt(p.toString(),10)],h[p+1]);f>0&&(a=p<h.length-2?Be.adjustPoint(h[parseInt(p.toString(),10)],h[p+1],!1,f<2*this.cornerRadius?f/2:this.cornerRadius):h[p+1],p>0&&(f<2*this.cornerRadius?(l=Be.adjustPoint(h[parseInt(p.toString(),10)],h[p+1],!0,f/2),p<h.length-2&&(a=null)):l=Be.adjustPoint(h[parseInt(p.toString(),10)],h[p+1],!0,this.cornerRadius)),l&&(s+="Q"+o.x+" "+o.y+" "+l.x+" "+l.y),a&&(e.bridges.length>0&&(s=this.bridgePath(e,s,p),"Orthogonal"===e.type&&(s=this.bridgePath(e,s,p+1))),s+=" L"+a.x+" "+a.y))}else if("Bezier"===this.type){var m=void 0,M=void 0;if(this.parentObj.element){var T=this.parentObj.element.ej2_instances[0].eventHandler.action;m=this.parentObj.element.ej2_instances[0].eventHandler.tool instanceof Rb,M=T.includes("PortDraw")||T.includes("Drag")}for(var P=void 0,U=this.segments,Y=0;Y<U.length;Y++)h.length>2&&(U[parseInt(Y.toString(),10)].bezierPoint1={x:0,y:0},U[parseInt(Y.toString(),10)].bezierPoint2={x:0,y:0}),!Be.isEmptyPoint(U[parseInt(Y.toString(),10)].point1)||U[parseInt(Y.toString(),10)].vector1.angle||U[parseInt(Y.toString(),10)].vector1.distance?U[parseInt(Y.toString(),10)].vector1.angle||U[parseInt(Y.toString(),10)].vector1.distance?U[parseInt(Y.toString(),10)].bezierPoint1=Be.transform(h[parseInt(Y.toString(),10)],U[parseInt(Y.toString(),10)].vector1.angle,U[parseInt(Y.toString(),10)].vector1.distance):U[parseInt(Y.toString(),10)].bezierPoint1={x:U[parseInt(Y.toString(),10)].point1.x||U[parseInt(Y.toString(),10)].bezierPoint1.x,y:U[parseInt(Y.toString(),10)].point1.y||U[parseInt(Y.toString(),10)].bezierPoint1.y}:((e.sourceID||this.sourcePortID)&&this.sourceWrapper&&!M&&!m&&(P=tX(this.sourceWrapper.bounds,h[parseInt(Y.toString(),10)],!0)),U[parseInt(Y.toString(),10)].bezierPoint1=VL(h[parseInt(Y.toString(),10)],h[Y+1],P)),!Be.isEmptyPoint(U[parseInt(Y.toString(),10)].point2)||U[parseInt(Y.toString(),10)].vector2.angle||U[parseInt(Y.toString(),10)].vector2.distance?U[parseInt(Y.toString(),10)].vector2.angle||U[parseInt(Y.toString(),10)].vector2.distance?U[parseInt(Y.toString(),10)].bezierPoint2=Be.transform(h[Y+1],U[parseInt(Y.toString(),10)].vector2.angle,U[parseInt(Y.toString(),10)].vector2.distance):U[parseInt(Y.toString(),10)].bezierPoint2={x:U[parseInt(Y.toString(),10)].point2.x||U[parseInt(Y.toString(),10)].bezierPoint2.x,y:U[parseInt(Y.toString(),10)].point2.y||U[parseInt(Y.toString(),10)].bezierPoint2.y}:((e.targetID||this.targetPortID)&&this.targetWrapper&&!M&&!m&&(P=tX(this.targetWrapper.bounds,h[Y+1],!0)),U[parseInt(Y.toString(),10)].bezierPoint2=VL(h[Y+1],h[parseInt(Y.toString(),10)],P));h.splice(1,0,{x:U[0].bezierPoint1.x,y:U[0].bezierPoint1.y}),h.splice(h.length-1,0,{x:U[U.length-1].bezierPoint2.x,y:U[U.length-1].bezierPoint2.y}),h=this.clipDecorators(e,h,n);for(var X=0;X<U.length;X++){0===X&&(s="M"+h[0].x+" "+h[0].y);var Q=X===U.length-1?h[h.length-1].x+" "+h[h.length-1].y:U[parseInt(X.toString(),10)].points[U[parseInt(X.toString(),10)].points.length-1].x+" "+U[parseInt(X.toString(),10)].points[U[parseInt(X.toString(),10)].points.length-1].y;s+="C"+U[parseInt(X.toString(),10)].bezierPoint1.x+" "+U[parseInt(X.toString(),10)].bezierPoint1.y+" "+U[parseInt(X.toString(),10)].bezierPoint2.x+" "+U[parseInt(X.toString(),10)].bezierPoint2.y+" "+Q}}else for(var oe=0;oe<h.length;oe++)o=h[parseInt(oe.toString(),10)],0===oe&&(s="M"+o.x+" "+o.y),oe>0&&(s=this.bridgePath(e,s,oe),s+=" L"+o.x+" "+o.y);return s},t.prototype.updateShapeElement=function(e){var i;switch(e.shape.type){case"Bpmn":e.wrapper.children[3]instanceof Nn&&(i=e.wrapper.children[3]),("Message"===e.shape.flow||ge()&&"Message"===e.shape.bpmnFlow)&&this.updateShapePosition(e,i);break;case"UmlActivity":("Exception"===e.shape.flow||ge()&&"Exception"===e.shape.umlActivityFlow)&&this.getUMLExceptionFlow(e.wrapper.children[0])}},t.prototype.updateShapePosition=function(e,i){for(var s,o,a=0,l=this.intermediatePoints,h=0;h<l.length-1;h++){var c=.5*(a+=this.distance(l[parseInt(h.toString(),10)],l[h+1]));a>=c&&(s=Nr(l[parseInt(h.toString(),10)],l[h+1]),o=Be.transform(l[parseInt(h.toString(),10)],s,c))}i.offsetX=o.x,i.offsetY=o.y},t.prototype.scale=function(e,i,n,s,o){var a=0,l=0;if(this.wrapper&&this.wrapper.outerBounds){var h=MG(this),c=Math.abs((this.wrapper.bounds.width||this.style.strokeWidth||1)-2),u=Math.abs((this.wrapper.bounds.height||this.style.strokeWidth||1)-2);a=h.width-c,l=h.height-u,e=Math.abs((n-Math.max(a,l))/c),i=Math.abs((s-Math.max(a,l))/u),a=l=Math.min(a,l)}e=i=Math.min(e,i);var d=Bs();to(d,-(o=o||this.wrapper).rotateAngle,o.offsetX,o.offsetY),zw(d,e,i,o.offsetX,o.offsetY),to(d,o.rotateAngle,o.offsetX,o.offsetY);var p=function pfe(r,t){for(var e=[],i=0,n=t;i<n.length;i++)e.push(xn(r,n[i]));return e}(d,this.intermediatePoints);return this.sourcePoint=p[0],this.targetPoint=p[p.length-1],$L(this,p=this.intermediatePoints=aG(this)),{x:a,y:l}},t.prototype.getClassName=function(){return"Connector"},Qi([mA(Eve)],t.prototype,"shape",void 0),Qi([O($e.Default)],t.prototype,"constraints",void 0),Qi([O(10)],t.prototype,"bridgeSpace",void 0),Qi([Qn([],zl)],t.prototype,"annotations",void 0),Qi([Lt({},Be)],t.prototype,"sourcePoint",void 0),Qi([Lt({},Be)],t.prototype,"targetPoint",void 0),Qi([Qn([],IL)],t.prototype,"fixedUserHandles",void 0),Qi([UW(Ave)],t.prototype,"segments",void 0),Qi([O("")],t.prototype,"sourceID",void 0),Qi([O("")],t.prototype,"targetID",void 0),Qi([O(10)],t.prototype,"hitPadding",void 0),Qi([O(0)],t.prototype,"connectionPadding",void 0),Qi([O("Straight")],t.prototype,"type",void 0),Qi([O("Circle")],t.prototype,"segmentThumbShape",void 0),Qi([O(0)],t.prototype,"cornerRadius",void 0),Qi([Lt({shape:"None"},h4)],t.prototype,"sourceDecorator",void 0),Qi([Lt({shape:"Arrow"},h4)],t.prototype,"targetDecorator",void 0),Qi([Lt({},Qx)],t.prototype,"tooltip",void 0),Qi([O("")],t.prototype,"sourcePortID",void 0),Qi([O("")],t.prototype,"targetPortID",void 0),Qi([O(0)],t.prototype,"sourcePadding",void 0),Qi([Lt({},wL)],t.prototype,"previewSize",void 0),Qi([Lt({},wL)],t.prototype,"dragSize",void 0),Qi([O(0)],t.prototype,"targetPadding",void 0),Qi([O(13)],t.prototype,"connectorSpacing",void 0),Qi([Lt({strokeWidth:1,strokeColor:"black"},BY)],t.prototype,"style",void 0),Qi([O(null)],t.prototype,"maxSegmentThumb",void 0),Qi([O(!1)],t.prototype,"allowNodeOverlap",void 0),Qi([Lt({},Ove)],t.prototype,"bezierSettings",void 0),Qi([Qn([],Iy)],t.prototype,"ports",void 0),Qi([O(null)],t.prototype,"wrapper",void 0),t}(DG),Bve=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ey=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Fve=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.offset=0,n.scale=1,n}return Bve(t,r),t.prototype.preRender=function(){this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.updateRulerGeometry(),this.renderComplete()},t.prototype.getModuleName=function(){return"Ruler"},t.prototype.destroy=function(){this.unWireEvents(),this.notify("destroy",{}),r.prototype.destroy.call(this),this.element.classList.remove("e-ruler")},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"length":case"interval":case"segmentWidth":case"tickAlignment":case"markerColor":case"thickness":this.updateRuler()}},t.prototype.updateRulerGeometry=function(){this.element.style.textAlign="left",this.renderRulerSpace(),this.updateRuler()},t.prototype.renderRulerSpace=function(){var e=this.getRulerGeometry(),i=document.getElementById(this.element.id+"_ruler_space");return i||(i=or("div",{id:this.element.id+"_ruler_space",style:"height:"+e.height+"px;width:"+e.width+"px;cssFloat:left;"}),this.element.appendChild(i)),i},t.prototype.updateRuler=function(){var e=this.getRulerSize(),i=this.getRulerGeometry(),n=0,s=0,o=new pi,a=this.getRulerSVG(i);a&&(n=this.length,o.height=e,s=this.offset,n&&n!==1/0)&&this.updateSegments(s,n+this.segmentWidth+Math.abs(s),a,e)},t.prototype.updateSegments=function(e,i,n,s){for(var o=e,a={trans:0};o<i;){var l=this.getNewSegment(o,n);l&&(n.appendChild(l.segment),o=this.updateSegment(e,i,l,o,a,s))}},t.prototype.updateSegment=function(e,i,n,s,o,a){var l=this.updateSegmentWidth(this.scale);return s===e?(this.startValue=Math.floor(e/l)*l/this.scale,this.startValue=this.startValue%1!=0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString(),this.defStartValue=s=this.startValue*this.scale,"Horizontal"===this.orientation?this.hRulerOffset=e-s:this.vRulerOffset=e-s):(this.startValue=s/this.scale,this.startValue=this.startValue%1!=0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString()),this.updateTickLabel(n,a),n.segment.setAttribute("transform","translate("+("Horizontal"===this.orientation?o.trans+.5+",0.5":"0.5,"+(o.trans+.5))+")"),o.trans+=l,s+l},t.prototype.updateTickLabel=function(e,i){var n=e.segment.lastChild.getBBox(),s="Horizontal"===this.orientation,o="RightOrBottom"===this.tickAlignment,a=s?2:0,l=s?o?i/2+5.5-5.5:i/2+5.5:n.height;ts(e.segment.lastChild,s?{x:a,y:l}:{x:a,y:l,transform:"rotate(270)translate("+(o?-(n.width+2)+","+(i/2-n.height):-(n.width+2)+","+(i/2-n.height/2))+")"})},t.prototype.getNewSegment=function(e,i){var n=this.createNewTicks(e,i);return{segment:n,label:this.createTickLabel(i,n)}},t.prototype.createNewTicks=function(e,i){for(var n,o=this.updateSegmentWidth(this.scale),l=js("g",{class:"e-ruler-segment"}),h=0;h<this.interval;h++)n=this.createTick(i,o/this.interval,h+1,e),l.appendChild(n);return l},t.prototype.getLinePoint=function(e,i,n){var s=this.updateSegmentWidth(this.scale),o=this.getRulerSize();return(i*=n-1)%s==0?o:.3*o},t.prototype.createTick=function(e,i,n,s){var a=this.getLinePoint(e,i,n),l=this.getRulerSize(),h="Horizontal"===this.orientation,c="RightOrBottom"===this.tickAlignment,u=ho(this.arrangeTick),d={ruler:void 0,tickLength:a,tickInterval:this.segmentWidth/this.interval*(n-1)};u&&u(d),a=d.tickLength;var p=i*(n-1),U=js("line",{x1:h?p:c?l:0,y1:h?c?l:l-(l-a):p,x2:h?p:c?l-a:l-(l-a),y2:h?c?l-a:0:p,"stroke-width":"1",stroke:"black"});return U.setAttribute("class","e-ruler-tick"),U},t.prototype.createTickLabel=function(e,i){var n;return i&&(n=js("text",{class:"e-ruler-tick-label"}),i.appendChild(n)),n},t.prototype.updateSegmentWidth=function(e){if(100!==this.segmentWidth)return this.segmentWidth;var s,n=1;for(s=100,s=100/Math.pow(2,Math.round(Math.log(e)/Math.log(2)));s>100;)n/=10,s/=10;for(;s<25;)n*=10,s*=10;return s>=25&&s%25!=0&&(s=25*Math.round(s/25)),s*e/n},t.prototype.createMarkerLine=function(e,i,n){var s;return i&&((s=e.getElementById(i.id+"_marker"))&&s.parentNode.removeChild(s),s=js("line",n)),s},t.prototype.drawRulerMarker=function(e,i,n){var s,o,h,u,d="Horizontal"===this.orientation,p=e.getElementsByTagName("svg");for(h=0;h<p.length;h++){p[parseInt(h.toString(),10)]&&(s=p[parseInt(h.toString(),10)]);break}if(s){o=this.getRulerSize(),u=this.createMarkerLine(s,e,{id:e.id+"_marker",x1:0,y1:0,x2:d?0:o,y2:d?o:0,stroke:this.markerColor,"stroke-width":1.5,class:"e-d-ruler-marker"});var m=(d?i.x:i.y)*this.scale+n+(this.offset-this.defStartValue);u.setAttribute("transform","translate("+(d?m+.5+" 0.5":"0.5 "+(m+.5))+")"),s.appendChild(u)}},t.prototype.getRulerGeometry=function(){return new pi(this.element?this.element.getBoundingClientRect().width:0,this.element?this.element.getBoundingClientRect().height:0)},t.prototype.getRulerSize=function(){return this.thickness},t.prototype.getRulerSVG=function(e){var i,s,n=this.getRulerSize();if(this.element&&(i=document.getElementById(this.element.id+"_ruler_space"))){if(s=js("svg",{id:this.element.id+"_Ruler_svg",width:"Horizontal"===this.orientation?e.width+200:n+"px",height:"Horizontal"===this.orientation?n:e.height+200+"px",style:"position:inherit;"}),i.childNodes.length>0)for(var a=i.childNodes.length-1;a>=0;a--)i.childNodes[parseInt(a.toString(),10)].parentNode.removeChild(i.childNodes[parseInt(a.toString(),10)]);i.appendChild(s)}return s},t.prototype.wireEvents=function(){},t.prototype.unWireEvents=function(){},Ey([O(5)],t.prototype,"interval",void 0),Ey([O(100)],t.prototype,"segmentWidth",void 0),Ey([O("Horizontal")],t.prototype,"orientation",void 0),Ey([O("RightOrBottom")],t.prototype,"tickAlignment",void 0),Ey([O("red")],t.prototype,"markerColor",void 0),Ey([O(25)],t.prototype,"thickness",void 0),Ey([O(null)],t.prototype,"arrangeTick",void 0),Ey([O(400)],t.prototype,"length",void 0),t}(Xr);function rX(r,t){var e=document.getElementById(r.element.id+(t?"_hRuler":"_vRuler")),i=$p(r),n=sX(r);e||(e=or("div",{id:r.element.id+(t?"_hRuler":"_vRuler"),style:"height:"+(t?i.height:n.height+100)+"px;overflow:hidden;width:"+(t?n.width+100:i.width)+"px;position:absolute;font-size:11px;"+(t?"margin-left:"+i.width+"px;":"margin-top:"+i.height+"px;")})),r.element.insertBefore(e,r.element.firstChild);var l=t?r.rulerSettings.horizontalRuler:r.rulerSettings.verticalRuler,h=new Fve(l);h.orientation=t?"Horizontal":"Vertical",h.length=(t?n.width:n.height)+l.segmentWidth,h.appendTo("#"+r.element.id+(t?"_hRuler":"_vRuler")),t?r.hRuler=h:r.vRuler=h;var c=document.getElementById(r.element.id+(t?"_hRuler":"_vRuler"));t?r.hRuler.element=c:r.vRuler.element=c}function WL(r){var t=-r.scroller.horizontalOffset,e=-r.scroller.verticalOffset;r&&r.rulerSettings.showRulers?(r.hRuler.length=0,r.vRuler.length=0,void 0!==t&&r.hRuler.element&&oX(r,r.hRuler,t,!0),void 0!==e&&r.vRuler.element&&oX(r,r.vRuler,e,!1)):c4(r)}function c4(r){Xa(r.element.id+"_hRuler"),Xa(r.element.id+"_vRuler"),Xa(r.element.id+"_overlapRuler")}function $p(r){var t=0,e=0;return r.rulerSettings.showRulers&&(t=r.rulerSettings.horizontalRuler.thickness,e=r.rulerSettings.verticalRuler.thickness),new pi(e,t)}function sX(r){var t=$p(r),e=r.scroller.viewPortHeight,i=r.scroller.viewPortWidth;return i<r.element.clientWidth-t.width&&(i=r.element.clientWidth-t.width),e<r.element.clientHeight-t.height&&(e=r.element.clientHeight-t.height),r.hRuler&&r.hRuler.length&&(i=r.hRuler.length),r.vRuler&&r.vRuler.length&&(e=r.vRuler.length),new pi(i,e)}function oX(r,t,e,i){var n=$p(r),s=sX(r),o=i?r.rulerSettings.horizontalRuler:r.rulerSettings.verticalRuler;(function Wve(r,t,e){var i=document.getElementById(r.element.id+(e?"_hRuler":"_vRuler")),n=e?r.hRuler:r.vRuler;i&&r&&t&&(i.style.width=(e?t.width+n.segmentWidth:n.thickness)+"px",i.style.height=(e?n.thickness:t.height+n.segmentWidth)+"px",(i=document.getElementById(r.element.id+"_overlapRuler"))&&(e?i.style.height=n.thickness+"px":i.style.width=n.thickness+"px"))})(r,s,i),function Vve(r,t,e){var i=document.getElementById(r.element.id+(e?"_hRuler_ruler_space":"_vRuler_ruler_space")),n=e?r.hRuler:r.vRuler;i&&r&&t&&(i.style.width=(e?t.width+2*n.segmentWidth:n.thickness)+"px",i.style.height=(e?n.thickness:t.height+2*n.segmentWidth)+"px")}(r,s,i),t.offset=e,t.scale=r.scroller.currentZoom,t.length=(i?s.width:s.height)+100,t.arrangeTick=ho(o.arrangeTick),t.dataBind();var a=i?r.hRuler.element:r.vRuler.element;i?a.style.marginLeft=n.width-t.hRulerOffset+"px":a.style.marginTop=n.height-t.vRulerOffset+"px"}var Yve=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fl=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},aX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Yve(t,r),t.prototype.getClassName=function(){return"UserHandle"},Fl([O("")],t.prototype,"name",void 0),Fl([O("")],t.prototype,"pathData",void 0),Fl([O("")],t.prototype,"content",void 0),Fl([O("")],t.prototype,"source",void 0),Fl([O("#000000")],t.prototype,"backgroundColor",void 0),Fl([O("Top")],t.prototype,"side",void 0),Fl([O("")],t.prototype,"borderColor",void 0),Fl([O(.5)],t.prototype,"borderWidth",void 0),Fl([O(25)],t.prototype,"size",void 0),Fl([O("white")],t.prototype,"pathColor",void 0),Fl([O(10)],t.prototype,"displacement",void 0),Fl([O(!0)],t.prototype,"visible",void 0),Fl([O(0)],t.prototype,"offset",void 0),Fl([Lt({},_l)],t.prototype,"margin",void 0),Fl([O("Center")],t.prototype,"horizontalAlignment",void 0),Fl([O("Center")],t.prototype,"verticalAlignment",void 0),Fl([O(!1)],t.prototype,"disableNodes",void 0),Fl([O(!1)],t.prototype,"disableConnectors",void 0),Fl([Lt({},Qx)],t.prototype,"tooltip",void 0),Fl([O("")],t.prototype,"template",void 0),t}(ii);function lX(r){return Gve[r.toString()]}var Gve={Action:"M 90 82.895 C 90 86.819 86.776 90 82.8 90 H 7.2 C 3.224 90 0 86.819 0 82.895 V 7.105 C 0 3.181 3.224 0 7.2 0 h 75.6 C 86.776 0 90 3.181 90 7.105 V 82.895 Z",Decision:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",MergeNode:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",InitialNode:"M10,19.5c-5.238,0-9.5-4.262-9.5-9.5S4.762,0.5,10,0.5s9.5,4.262,9.5,9.5S15.238,19.5,10,19.5z",ForkNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",JoinNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",TimeEvent:"M50.001,0.00286865 L25.001,25.0029 L0.000976562,0.00286865 L50.001,0.00286865 z M0.000976562,50.0029 L25.001,25.0029 L50.001,50.0029 L0.000976562,50.0029 z",AcceptingEvent:"M17.8336 32.164 L29.64 24 L17.32 16 L48.1664 16 L48.5 32 Z",SendSignal:"M48.164 31.8336 L56 23.832 L47.836 16 L16.168 16 L16.1668 31.8336 Z",ReceiveSignal:"M48.1664 31.8336 L39.836 24 L47.836 16 L16.168 16 L16.168 31.836 Z",StructuredNode:"M0,0 L50,0 L50,50 L0,50 z",Note:"M20 12 L4 12 L4 22 L22 22 L22 14 L20 14 L20 12 L22 14 Z"},YL=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qp=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Xve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YL(t,r),qp([O()],t.prototype,"key",void 0),qp([O()],t.prototype,"keyModifiers",void 0),t}(ii),hX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YL(t,r),t.prototype.getClassName=function(){return"Command"},qp([O("")],t.prototype,"name",void 0),qp([O()],t.prototype,"canExecute",void 0),qp([O()],t.prototype,"execute",void 0),qp([Lt({},Xve)],t.prototype,"gesture",void 0),qp([O("")],t.prototype,"parameter",void 0),t}(ii),Qve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YL(t,r),qp([Qn([],hX)],t.prototype,"commands",void 0),t}(ii),$ve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YL(t,r),qp([O()],t.prototype,"show",void 0),qp([O()],t.prototype,"showCustomMenuOnly",void 0),qp([O()],t.prototype,"items",void 0),t}(ii);function cX(r,t){for(var e=0;e<r.length;e++)if(r[parseInt(e.toString(),10)].id===t)return!0;return!1}function uX(r,t){t instanceof Et&&(r.shape.header||(t.shape.hasHeader=!1))}function dX(r,t,e,i){return t?i:void 0!==r[e-1]?r[e-1]+i:0}function u4(r,t){var e=[];if(t)e=r;else{for(var i=0;i<r.length;i++)e.push(r[parseInt(i.toString(),10)]);e.push(r[e.length-2]),e.push(r[e.length-2])}return e}function GL(r,t){if(t instanceof Et)switch(ge()?r.shape.umlActivityShape:r.shape.shape){case"JoinNode":r.width||(t.width=20),r.height||(t.height=90),(!r.style||!r.style.fill)&&(t.style.fill="black");break;case"ForkNode":r.width||(t.width=90),r.height||(t.height=20),(!r.style||!r.style.fill)&&(t.style.fill="black");break;case"InitialNode":case"FinalNode":(!r.style||!r.style.fill)&&(t.style.fill="black")}else switch(ge()?r.shape.umlActivityFlow:r.shape.flow){case"Object":(!r.style||!r.style.strokeDashArray)&&(t.style.strokeDashArray="8 4"),(!r.style||!r.style.strokeWidth)&&(t.style.strokeWidth=2),(!r.targetDecorator||!r.targetDecorator.shape)&&(t.targetDecorator.shape="OpenArrow");break;case"Control":(!r.style||!r.style.strokeWidth)&&(t.style.strokeWidth=2),(!r.targetDecorator||!r.targetDecorator.shape)&&(t.targetDecorator.shape="OpenArrow"),(!r.sourceDecorator||!r.sourceDecorator.shape)&&(t.sourceDecorator.shape="None")}}function pX(r,t){switch(r.shape.type){case"Bpmn":switch(ge()?r.shape.bpmnFlow:r.shape.flow){case"Sequence":("Normal"===r.shape.sequence&&"Bezier"!==r.type||"Default"===r.shape.sequence||"Conditional"===r.shape.sequence)&&(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=r.targetDecorator&&r.targetDecorator.style&&r.targetDecorator.style.fill||"black"),"Conditional"===r.shape.sequence&&t.sourceDecorator&&(t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"white"),t.sourceDecorator.width=r.sourceDecorator&&r.sourceDecorator.width||20,t.sourceDecorator.height=r.sourceDecorator&&r.sourceDecorator.width||10));break;case"Association":("Default"===r.shape.association||"Directional"===r.shape.association||"BiDirectional"===r.shape.association)&&(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=r.targetDecorator&&r.targetDecorator.style&&r.targetDecorator.style.fill||"black"),"BiDirectional"===r.shape.association&&t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"white",t.sourceDecorator.width=r.sourceDecorator&&r.sourceDecorator.width||5,t.sourceDecorator.height=r.sourceDecorator&&r.sourceDecorator.height||10));break;case"Message":t.style&&!t.style.strokeDashArray&&(t.style.strokeDashArray=r.style&&r.style.strokeDashArray||"4 4")}break;case"UmlActivity":"Exception"===(ge()?r.shape.umlActivityFlow:r.shape.flow)&&("Directional"===r.shape.association||"BiDirectional"===r.shape.association)&&(t.style.strokeDashArray=r.style&&r.style.strokeDashArray||"2 2");break;case"UmlClassifier":var n=!1;"Association"===r.shape.relationship?n=!0:"Inheritance"===r.shape.relationship?(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=r.targetDecorator&&r.targetDecorator.style&&r.targetDecorator.style.fill||"white"),t.style&&(n=!0,t.style.strokeDashArray=r.style&&r.style.strokeDashArray||"4 4")):"Composition"===r.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"black"),n=!0):"Aggregation"===r.shape.relationship||void 0===r.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"white"),n=!0):"Dependency"===r.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"white"),n=!0,t.style.strokeDashArray="4 4"):"Realization"===r.shape.relationship&&(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=r.sourceDecorator&&r.sourceDecorator.style&&r.sourceDecorator.style.fill||"white"),n=!0),n&&(t.style.strokeWidth=r.style&&r.style.strokeWidth||2)}}function Kve(r,t,e){var i;i=Be.findLength(t,r)>Be.findLength(e,r)?e:t;var o=Be.findAngle(t,e),a=Be.findAngle(i,r),l=Be.findLength(i,r),h=a+2*(o-a);return{x:i.x+l*Math.cos(h*Math.PI/180),y:i.y+l*Math.sin(h*Math.PI/180)}}function XL(r,t,e){if(r&&r.children&&r.children.length>0)for(var n=void 0,s=0;s<r.children.length;s++)return(n=e[r.children[parseInt(s.toString(),10)]]).shape.type===t||XL(n,t,e);return!1}function pu(r,t,e,i,n){if(e&&(r instanceof Gt||r&&(r.shape&&"SwimLane"!==r.shape.type||void 0===r.shape)))for(var s=void 0,o=0,a=Object.keys(e);o<a.length;o++){var l=a[o];if(s=e[""+l],"shape"===l&&s.type&&(r.shape={type:s.type}),s)if(Array.isArray(s)&&s.length&&s.length>0&&"annotations"!==n&&"ports"!==n)if(r[""+l].length>0)for(var h=0;h<=r[""+l].length;h++)pu(r[""+l],t?t[""+l]:void 0,e[""+l],"annotations"===l||"ports"===l?r:void 0,l);else pu(r[""+l],t?t[""+l]:void 0,e[""+l],"annotations"===l||"ports"===l?r:void 0,l);else if(s instanceof Object&&t&&"annotations"!==n&&"ports"!==n)pu(r[""+l],t[""+l],e[""+l]);else if("annotations"!==n&&"ports"!==n&&t&&!t[""+l]||!t&&r&&(r[""+l]||void 0!==r[""+l]))r[""+l]=e[""+l];else{var c=void 0;("annotations"===n||"ports"===n)&&("annotations"===n?(r[""+l]&&pu(r[""+l],t[""+l],e[""+l]),r[""+l]||(os(i)===Gt?(c=new zl(i,"annotations",e[""+l]),i.annotations.push(c)):(c=new qu(i,"annotations",e[""+l]),i.annotations.push(c)))):r[""+l]?pu(r[""+l],t[""+l],e[""+l]):(c=new ac(i,"ports",e[""+l]),i.ports.push(c)))}}}function nme(r,t){for(var e="Bezier"===r.type?function eme(r){var t=[];if("Bezier"===r.type)for(var e=0,i=0;i<r.segments.length;i++)for(var s=r.segments[parseInt(i.toString(),10)],o=Be.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,a=Be.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,l=Number((r.distance(o,s.points[0])+r.distance(a,o)+r.distance(s.points[1],a))/1.5),h=0;h<l-1;h+=10)t[parseInt(e.toString(),10)]=_ve(0,s.points[0],Be.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,Be.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,s.points[1],h,l),e++;return t}(r):r.intermediatePoints,i=0;i<e.length-1;i++){var n=e[parseInt(i.toString(),10)],s=e[i+1],o=Xi.toBounds([n,s]);if(o.Inflate(r.hitPadding),o.containsPoint(t)){var a=Kve(t,n,s),c=cD({x1:n.x,x2:s.x,y1:n.y,y2:s.y},{x1:t.x,x2:a.x,y1:t.y,y2:a.y});if(c.enabled){var u=Be.findLength(t,c.intersectPt);if(Math.abs(u)<r.hitPadding)return!0}else{var d=Xi.toBounds([t,t]);if(d.Inflate(3),d.containsPoint(n)||d.containsPoint(s))return!0}if(Be.equals(t,a))return!0}}if(r.annotations.length>0||r.ports.length>0){var p=r.wrapper.children;for(i=3;i<p.length;i++)if(p[parseInt(i.toString(),10)].bounds.containsPoint(t))return!0}return!1}function cD(r,t){var e={x:0,y:0},i=r,s=(t.y2-t.y1)*(i.x2-i.x1)-(t.x2-t.x1)*(i.y2-i.y1),o=(t.x2-t.x1)*(i.y1-t.y1)-(t.y2-t.y1)*(i.x1-t.x1),a=(i.x2-i.x1)*(i.y1-t.y1)-(i.y2-i.y1)*(i.x1-t.x1);if(0===s||(r.x1===t.x1||r.y1===t.y1)&&(r.x2===t.x2||r.y2===t.y2)&&(0===o||0===a)&&s>0)return{enabled:!1,intersectPt:e};var l=o/s,h=a/s;return l>=0&&l<=1&&h>=0&&h<=1?(e.x=i.x1+l*(i.x2-i.x1),e.y=i.y1+l*(i.y2-i.y1),{enabled:!0,intersectPt:e}):{enabled:!1,intersectPt:e}}function QL(r,t,e,i){var a=cD(fX(r.x,r.y,t.x,t.y),fX(e.x,e.y,i.x,i.y));return a.enabled?a.intersectPt:{x:0,y:0}}function fX(r,t,e,i){return{x1:Number(r)||0,y1:Number(t)||0,x2:Number(e)||0,y2:Number(i)||0}}function gX(r,t,e){var i=[],s={x:t.topRight.x+(e=e||0),y:t.topRight.y},o={x:t.bottomRight.x,y:t.bottomRight.y-e},a={x:t.bottomLeft.x,y:t.bottomLeft.y+e};return i.push({x:t.topLeft.x-e,y:t.topLeft.y}),i.push(s),i.push(o),i.push(a),i}function Ay(r,t,e,i,n,s){var o={},a=e.scroller.transform.scale,h=e.scroller.verticalOffset;return o.x=(i?r.x:t.x)*a+e.scroller.horizontalOffset-n,o.y=(i?r.y:t.y)*a+h-s,o}function vX(r,t){var e=new Nn;return e.data=r.pathData,e.height=r.height>10?r.height-(r.padding.bottom+r.padding.top):r.height,e.width=r.width>10?r.width-(r.padding.left+r.padding.right):r.width,e.visible=t.visible,e.id=t.id+"_shape",e.inversedAlignment=!1,e.horizontalAlignment="Center",e.verticalAlignment="Center",e.style={fill:r.iconStrokeColor,strokeColor:r.iconStrokeColor,strokeWidth:r.iconStrokeWidth},e.setOffsetWithRespectToBounds(.5,.5,"Fraction"),e.relativeMode="Object",e.description=t.description||"",e}function d4(r,t,e){var i=p4(r,t),n=Be.findAngle(r[i.index],r[i.index+1]),s=function cme(r){var t;t=r instanceof IL?0:void 0===r.content?10:0;var e=0;switch(r.alignment){case"Center":e=0;break;case"Before":e=-(0+t);break;case"After":e=0+t}return e}(t),o=Be.transform(i.point,n+45,s);return i.point=o,i.angle=n,i}function p4(r,t){for(var n,s,a,l,e=0,i=t.offset,o=[],h=0;h<r.length-1;h++)e+=Be.distancePoints(r[parseInt(h.toString(),10)],r[h+1]),o.push(e);for(var c=i*e,u=0;u<o.length;u++){if(o[parseInt(u.toString(),10)]>=c)return s=Be.findAngle(r[parseInt(u.toString(),10)],r[u+1]),{point:n=Be.transform(r[parseInt(u.toString(),10)],s,c-(a||0)),index:l=u};a=o[parseInt(u.toString(),10)]}return{point:n,index:l}}function mX(r,t,e){t%=360;var a,l,s=225;switch(r.alignment){case"Before":t>=45&&t<=135?(l="right",a=.5===r.offset?"center":"top"):t>=s&&t<=315?(l="left",a=.5===r.offset?"center":"bottom"):t>45&&t<s?(a="top",l=.5===r.offset?"center":"right"):(a="bottom",l=.5===r.offset?"center":"left");break;case"After":t>=45&&t<=135?(l="left",a=.5===r.offset?"center":"top"):t>=s&&t<=315?(l="right",a=.5===r.offset?"center":"bottom"):t>45&&t<s?(a="bottom",l=.5===r.offset?"center":"right"):(a="top",l=.5===r.offset?"center":"left");break;case"Center":l=v(r.horizontalAlignment)?"center":r.horizontalAlignment.toLowerCase(),a=v(r.verticalAlignment)?"center":r.verticalAlignment.toLowerCase()}if(0===r.offset||1===r.offset){var h=function ume(r,t){return Math.abs(t.x-r.x)>Math.abs(t.y-r.y)?r.x<t.x?"right":"left":r.y<t.y?"bottom":"top"}(e[0],e[1]);switch(h){case"left":l=0===r.offset?"right":"left";break;case"right":l=0===r.offset?"left":"right";break;case"bottom":a=0===r.offset?"top":"bottom";break;case"top":a=0===r.offset?"bottom":"top"}}return{hAlign:l,vAlign:a}}function f4(r,t){if(r instanceof Et&&r.children)for(var e=0;e<r.children.length;e++)t.nameTable[r.children[parseInt(e.toString(),10)]].children&&f4(r,t),t.removeFromAQuad(t.nameTable[r.children[parseInt(e.toString(),10)]]),t.removeObjectsFromLayer(t.nameTable[r.children[parseInt(e.toString(),10)]]),delete t.nameTable[r.children[parseInt(e.toString(),10)]]}function g4(r,t){if(r&&r.children&&r.children.length>0)for(var e=0;e<r.children.length;e++){var i=r.children[parseInt(e.toString(),10)];i instanceof Ds&&g4(i,t)}return-1===t.indexOf(r.id)&&t.push(r.id),t}function v4(r,t,e,i){e=function vme(r,t){var i,e=[],n="getClassName";if(r[n]){var s=new _y;switch(r[n]()){case"Diagram":i=s;break;case"Node":i=new Et(s,"",e);break;case"Path":i=new TX(s,"",e);break;case"Native":i=new Ww(s,"",e);break;case"Html":i=new EX(s,"",e);break;case"Image":i=new AX(s,"",e);break;case"Text":i=new zb(s,"",e);break;case"BasicShape":i=new mD(s,"",e);break;case"FlowShape":i=new OX(s,"",e);break;case"BpmnShape":i=new tk(s,"",e);break;case"UmlActivityShape":i=new NX(s,"",e);break;case"UmlClassifierShape":i=new RX(s,"",e);break;case"SwimLane":i=new Yw(s,"",e),r.header&&(i.header=new nk(s,"",e),i.header.style.fill="");break;case"ShapeAnnotation":i=new qu(s,"",e);break;case"PointPort":i=new ac(s,"",e);break;case"BpmnGateway":i=new M4(s,"",e);break;case"BpmnDataObject":i=new x4(s,"",e);break;case"BpmnEvent":i=new D4(s,"",e);break;case"BpmnSubEvent":i=new Bb(s,"",e);break;case"BpmnActivity":i=new ek(s,"",e);break;case"BpmnAnnotation":i=new Fb(s,"",e);break;case"MethodArguments":i=new T4(s,"",e);break;case"UmlClassAttribute":i=new E4(s,"",e);break;case"UmlClassMethod":i=new PX(s,"",e);break;case"UmlClass":i=new ik(s,"",e);break;case"UmlInterface":i=new A4(s,"",e);break;case"UmlEnumerationMember":i=new _X(s,"",e);break;case"UmlEnumeration":i=new O4(s,"",e);break;case"Lane":i=new yD(s,"",e);break;case"Phase":i=new rk(s,"",e);break;case"ChildContainer":i=new Vme;break;case"Connector":i=new Gt(s,"",e);break;case"StraightSegment":i=new zv(s,"",e);break;case"BezierSegment":i=new Hh(s,"",e);break;case"OrthogonalSegment":i=new Ts(s,"",e);break;case"PathAnnotation":i=new zl(s,"",e);break;case"Stop":i=new zY(s,"",e);break;case"Point":i=t||new Be(s,"",e);break;case"UserHandle":i=new aX(s,"",e);break;case"Command":i=new hX(s,"",e)}}else i=t;return parent=void 0,t=void 0,i}(t,e);for(var n=[],s=0,o=n=n.concat(Object.keys(r));s<o.length;s++){var a=o[s];t instanceof Et&&(i="shape"===a),r[""+a]instanceof Array?gme(r,e,t,a):r[""+a]instanceof Object&&e&&e[""+a]?"wrapper"!==a&&(r[""+a]=v4(r[""+a],t[""+a],e[""+a],i)):(e&&r[""+a]===e[""+a]||void 0===r[""+a])&&!(i&&"type"===a)&&!(t instanceof Yw&&"orientation"===a)&&delete r[""+a],("[]"===JSON.stringify(r[""+a])||"{}"===JSON.stringify(r[""+a])||void 0===r[""+a])&&delete r[""+a]}return e=void 0,n=void 0,r}function gme(r,t,e,i){if(0===r[""+i].length)delete r[""+i];else if(r[i].every(function(o){return"number"==typeof o})){var n=void 0,s=!0;for(n=0;n<r[""+i].length;n++)s=!(!s||r[""+i][parseInt(n.toString(),10)]!==t[""+i][parseInt(n.toString(),10)]);s&&delete r[""+i]}else if(n=void 0,r[""+i]&&"layers"!==i)for(n=r[""+i].length-1;n>=0;n--)("nodes"===i||"connectors"===i)&&(r[""+i][parseInt(n.toString(),10)].wrapper=null),"dataManager"!==i&&(r[""+i][parseInt(n.toString(),10)]=v4(r[""+i][parseInt(n.toString(),10)],e[""+i][parseInt(n.toString(),10)],void 0!==t[""+i]?t[""+i][parseInt(n.toString(),10)]:[]),("[]"===JSON.stringify(r[""+i][parseInt(n.toString(),10)])||"{}"===JSON.stringify(r[""+i][parseInt(n.toString(),10)])||void 0===r[""+i][parseInt(n.toString(),10)])&&r[""+i].splice(n,1));r=void 0}function Zp(r,t){var e=t.style,i=t;t.canApplyStyle=!0;for(var n=0,s=Object.keys(r);n<s.length;n++)switch(s[n]){case"fill":e.fill=r.fill,e instanceof BY&&(e.fill="transparent");break;case"textOverflow":e.textOverflow=r.textOverflow;break;case"opacity":e.opacity=r.opacity;break;case"strokeColor":e.strokeColor=r.strokeColor;break;case"strokeDashArray":e.strokeDashArray=r.strokeDashArray;break;case"strokeWidth":e.strokeWidth=r.strokeWidth;break;case"bold":e.bold=r.bold;break;case"color":e.color=r.color;break;case"textWrapping":e.textWrapping=r.textWrapping;break;case"fontFamily":e.fontFamily=r.fontFamily;break;case"fontSize":e.fontSize=r.fontSize;break;case"italic":e.italic=r.italic;break;case"textAlign":e.textAlign=r.textAlign;break;case"whiteSpace":e.whiteSpace=r.whiteSpace;break;case"textDecoration":e.textDecoration=r.textDecoration;break;case"gradient":if(e.gradient){Cme(r.gradient,e.gradient);break}}t instanceof Qr&&i.refreshTextElement()}function Cme(r,t){for(var e=0,i=Object.keys(r);e<i.length;e++)switch(i[e]){case"type":t.type=r.type;break;case"x1":t.x1=r.x1;break;case"x2":t.x2=r.x2;break;case"y1":t.y1=r.y1;break;case"y2":t.y2=r.y2;break;case"cx":t.cx=r.cx;break;case"cy":t.cy=r.cy;break;case"fx":t.fx=r.fx;break;case"fy":t.fy=r.fy;break;case"r":t.r=r.r;break;case"stops":t.stops=r.stops}}function Oy(r,t,e){r.width=t.width,r.height=t.height,r.minHeight=t.minHeight,r.maxHeight=t.maxHeight,r.minWidth=t.minWidth,r.maxWidth=t.maxWidth,r.horizontalAlignment=t.wrapper.children[0].horizontalAlignment,r.verticalAlignment=t.wrapper.children[0].verticalAlignment,r.relativeMode=t.wrapper.children[0].relativeMode,r.visible=t.wrapper.children[0].visible,t.shape instanceof zb&&(r.margin=t.shape.margin),r.id=t.wrapper.children[0].id,r.style=t.style;for(var i=0,n=e.views;i<n.length;i++){var s=n[i];Xa(t.id+"_groupElement",s),Xa(t.id+"_content_groupElement",s),Xa(t.id+"_html_element",s)}t.wrapper.children.splice(0,1),t.wrapper.children.splice(0,0,r)}function yX(r){var t=new Ds;t.style.fill="transparent";var e="M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",i=new Nn;i.data=e,i.id=r.id+"_0_finalNode",i.horizontalAlignment="Center",i.verticalAlignment="Center",i.relativeMode="Object",i.style.strokeColor=r.style.strokeColor,i.style.strokeWidth=r.style.strokeWidth;var n=new Nn;return n.data=e,n.id=r.id+"_1_finalNode",n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object",n.style.fill=r.style.fill,n.style.strokeColor=r.style.strokeColor,n.style.strokeWidth=r.style.strokeWidth,t.children=[i,n],t.children[0].width=r.width,t.children[0].height=r.height,t.children[1].height=r.height/1.5,t.children[1].width=r.width/1.5,t.style.strokeWidth=0,t.style.strokeColor="transparent",t}function bX(r){Xa(r+"_linear"),Xa(r+"_radial")}function uD(r,t){var e=r.indexOf(t);e>=0&&r.splice(e,1)}function $L(r,t,e){var i;r.intermediatePoints=t,r.updateSegmentElement(r,t,r.wrapper.children[0],e);var n=r.sourceDecorator;if("Bezier"===r.type){var s=r.segments[0],o=r.segments[r.segments.length-1];i=[Be.isEmptyPoint(o.point2)?o.bezierPoint2:o.point2,Be.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1]}else i=r.intermediatePoints;t=r.clipDecorators(r,t,e);var a=r.wrapper.children[0];a.canMeasurePath=!0,r.updateDecoratorElement(a=r.wrapper.children[1],t[0],i[1],n),r.updateDecoratorElement(a=r.wrapper.children[2],t[t.length-1],i[i.length-2],r.targetDecorator),r.updateShapeElement(r)}function m4(r,t,e){var l,i=r.wrapper,n=i.bounds,s=t.offset,o=t.size/e.scale,a=t.margin,h=i.offsetX-i.actualSize.width*i.pivot.x,c=i.offsetY-i.actualSize.height*i.pivot.y;if(l={x:0,y:0},r.nodes.length>0){switch(t.side){case"Top":l.x+=h+n.width*s,l.y+=c-(o/2+12.5);break;case"Bottom":l.x+=h+s*n.width,l.y+=c+i.actualSize.height+(o/2+12.5);break;case"Left":l.x+=h-(o/2+12.5),l.y+=c+s*n.height;break;case"Right":l.x+=h+i.actualSize.width+(o/2+12.5),l.y+=c+s*n.height}l.x+=(a.left-a.right)/e.scale+o/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),l.y+=(a.top-a.bottom)/e.scale+o/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1)}else if(r.connectors.length>0){var u=r.connectors[0],d={offset:s},p=p4(u.intermediatePoints,d),f=p.index;l=p.point;var T,M=d4(u.intermediatePoints,d).angle;to(T=Bs(),-M,u.intermediatePoints[parseInt(f.toString(),10)].x,u.intermediatePoints[parseInt(f.toString(),10)].y),(l=xn(T,l)).x+=a.left-a.right+o/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),l.y+=a.top-a.bottom+o/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1),to(T=Bs(),M,u.intermediatePoints[parseInt(f.toString(),10)].x,u.intermediatePoints[parseInt(f.toString(),10)].y),l=xn(T,l)}return 0===i.rotateAngle&&0===i.parentTransform||(to(T=Bs(),i.rotateAngle+i.parentTransform,i.offsetX,i.offsetY),l=xn(T,l)),l}function Wd(r,t,e,i){if(i.annotation){if(Xf(i.annotation))return!0}else if(Bo[""+t]&r&&ir[""+t]&e)return!0;return!1}function Pa(r,t){return!!(Bo[""+t]&r)}function Ly(r,t){return!!(MB[""+t]&r)}function Yd(r,t){return r.visibility&t}function dD(r,t){var e;if("Text"===r.shape.type)e=r.shape;else{var i=t.split("_");t=i[i.length-1];for(var n=0;n<r.annotations.length;n++)t===r.annotations[parseInt(n.toString(),10)].id&&(e=r.annotations[parseInt(n.toString(),10)])}return e}function y4(r,t){var i=t.split("_");if(t=i[i.length-1],r)for(var n=0;n<r.ports.length;n++)if(t===r.ports[parseInt(n.toString(),10)].id)return r.ports[parseInt(n.toString(),10)]}function Uw(r,t){var e={},i=0;if(r.ports){var n=r.ports;for(i=0;i<n.length;i++)t?n[parseInt(i.toString(),10)].constraints&kr.InConnect&&(e=n[parseInt(i.toString(),10)]):n[parseInt(i.toString(),10)].constraints&kr.OutConnect&&(e=n[parseInt(i.toString(),10)])}return e}function Qf(r,t,e){for(var i=e?r.annotations:r.ports,n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].id===t)return n.toString();return"-1"}function CX(r,t){var e;for(e=0;e<r.length;e++)if(t===r[parseInt(e.toString(),10)].id)return!0;return!1}function SX(r,t,e,i){if(void 0!==r.width&&void 0!==r.height&&(r.width*=t,r.height*=e),r instanceof Fh){var n=Bs(),s=i.width||i.actualSize.width,o=i.height||i.actualSize.height;if(void 0!==s&&void 0!==o){var h={x:i.offsetX-s*i.pivot.x+s*i.pivot.x,y:i.offsetY-o*i.pivot.y+o*i.pivot.y};h=uc(i.rotateAngle,i.offsetX,i.offsetY,h),to(n,-i.rotateAngle,h.x,h.y),zw(n,t,e,h.x,h.y),to(n,i.rotateAngle,h.x,h.y);for(var c=0,u=r.children;c<u.length;c++){var d=u[c];if(void 0!==d.width&&void 0!==d.height){var p=xn(n,{x:d.offsetX,y:d.offsetY});d.offsetX=p.x,d.offsetY=p.y,SX(d,t,e,i)}}}}}function b4(r,t,e,i,n,s){for(var a,o=r.children,l=0;l<o.length;l++)if(a=i[o[parseInt(l.toString(),10)]])if(a.children)b4(a,t,e,i,n,s);else if(a.offsetX-=t,a.offsetY-=e,!n){i[a.id]=a;var h=a.initContainer();h.children||(h.children=[]);var c=a.init(s);h.children.push(c),h.measure(new pi(a.width,a.height)),h.arrange(h.desiredSize)}}function Tme(r,t,e){if(0===e.length)e.push(r);else if(1===e.length)e[0][""+t]>r[""+t]?e.splice(0,0,r):e.push(r);else if(e.length>1){for(var i=0,n=e.length-1,s=Math.floor((i+n)/2);s!==i;)if(e[parseInt(s.toString(),10)][""+t]<r[""+t])i=s,s=Math.floor((i+n)/2);else{if(!(e[parseInt(s.toString(),10)][""+t]>r[""+t]))break;n=s,s=Math.floor((i+n)/2)}e[parseInt(n.toString(),10)][""+t]<r[""+t]?e.push(r):e[parseInt(i.toString(),10)][""+t]>r[""+t]?e.splice(i,0,r):e[parseInt(i.toString(),10)][""+t]<r[""+t]&&e[parseInt(n.toString(),10)][""+t]>r[""+t]&&e.splice(n,0,r)}}function wX(r,t){var n,e=r.annotations;for(n=0;e&&n<e.length;n++)if(t.annotationId&&e[parseInt(n.toString(),10)].id===t.annotationId)return e[parseInt(n.toString(),10)];return r}function qL(r,t,e,i){return ge()&&(r={cause:r.cause,state:e,type:i,cancel:!1,element:os(t)===Gt?{connector:Rt(t)}:{node:Rt(t)}}),r}var os=function(r){return r&&(r=void 0!==r.sourceID||void 0!==r.sourcePoint||void 0!==r.targetID||void 0!==r.targetPoint||void 0!==r.type?Gt:Et),r},IX=function(r){if(!r.sourceID&&!r.targetID){var t={x:r.sourcePoint.x,y:r.sourcePoint.y},e={x:r.targetPoint.x,y:r.targetPoint.y};"Horizontal"===r.flip?(r.sourcePoint.x=e.x,r.targetPoint.x=t.x):"Vertical"===r.flip?(r.sourcePoint.y=e.y,r.targetPoint.y=t.y):"Both"===r.flip&&(r.sourcePoint=e,r.targetPoint=t)}},pD=function(r,t,e){var i=e.offset.x,n=e.offset.y;return"Horizontal"===t?(i=1-e.offset.x,n=e.offset.y):"Vertical"===t?(i=e.offset.x,n=1-e.offset.y):"Both"===t&&(i=1-e.offset.x,n=1-e.offset.y),r.setOffsetWithRespectToBounds(i,n,"Fraction"),r},C4=function(r,t,e,i,n){if(r.hasChildren())for(var s=0,o=r.children;s<o.length;s++){var a=o[s],l=t-a.offsetX+t,h=e-a.offsetY+e;("Horizontal"===n||"Both"===n)&&(a.offsetX=l,a.flipOffset.x=l-a.desiredSize.width/2),("Vertical"===n||"Both"===n)&&(a.offsetY=h,a.flipOffset.y=h-a.desiredSize.height/2),(a instanceof Ds||a instanceof Fh)&&C4(a,t,e,i,n),a.measure(new pi(a.bounds.width,a.bounds.height)),a.arrange(a.desiredSize);var c=i.nameTable[a.id];c&&i.updateConnectorEdges(c)}},ky=function(r){var t=r.selectedItems.nodes,e=r.selectedItems.connectors,n=r.allowServerDataBinding,s=r.isProtectedOnChange;r.protectPropertyChange(!0),r.allowServerDataBinding=!1,r.selectedItems.nodes=[],r.selectedItems.connectors=[],r.allowServerDataBinding=n,r.protectPropertyChange(s);for(var o=rt(r.selectedItems),a=0;a<t.length;a++)r.selectedItems.nodes.push(r.nameTable[t[a].id]);for(a=0;a<e.length;a++)r.selectedItems.connectors.push(r.nameTable[e[a].id]);return o},MX=function(r,t){for(var i,e=new Nn,n=0;n<r.length-1;n++)i=xX(r[n],r[n+1]),e.data=i[0],e.id=t.id+"_"+t.shape.sequence,e.offsetX=i[1].x,e.offsetY=i[1].y,e.rotateAngle=45,e.transform=$u.Self;return e},ZL=function(r,t){if(r instanceof Et||r instanceof Gt)for(var e=0;e<r.ports.length;e++)if(r.ports[e].id===t.id.split("_")[1])return!0;return!1},xX=function(r,t){var e={x:r.x,y:r.y},i=JL(r,t);i=Math.min(30,i/2);var n=Nr(r,t),s=Be.transform({x:e.x,y:e.y},n,i),o=Be.transform({x:s.x,y:s.y},n,-12),a=Be.transform({x:o.x,y:o.y},n,24);return["M"+o.x+" "+o.y+" L"+a.x+" "+a.y,s]},S4=function(r,t){return Math.abs(t.x-r.x)>Math.abs(t.y-r.y)?r.x<t.x?"Right":"Left":r.y<t.y?"Bottom":"Top"},JL=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))};function Rt(r){return ge()&&(r=rt(r)),r}function fD(){return(navigator.platform.indexOf("Mac")>=0||navigator.platform.indexOf("iPad")>=0||navigator.platform.indexOf("iPhone")>=0||navigator.platform.indexOf("MacIntel")>=0)&&("safari"===Ue.info.name||"webkit"===Ue.info.name)}function DX(r,t,e,i){return void 0!==t.previewSize[""+i]?t.previewSize[""+i]:void 0!==r.symbolPreview[""+i]?r.symbolPreview[""+i]:t[""+i]||e.actualSize[""+i]}function gD(r,t,e){return r&&r.parentId&&(e=(r=t.nameTable[r.parentId]).parentId?gD(r,t,e):r.id),e}function vD(r,t){return r.selectedItems.connectors.length>1&&0===r.selectedItems.nodes.length&&0!==t.rotateAngle}var Pme=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wc=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},KL=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Pme(t,r),Wc([O("None")],t.prototype,"shape",void 0),Wc([O("white")],t.prototype,"fill",void 0),Wc([O("Auto")],t.prototype,"horizontalAlignment",void 0),Wc([O("Auto")],t.prototype,"verticalAlignment",void 0),Wc([O(10)],t.prototype,"width",void 0),Wc([O(10)],t.prototype,"height",void 0),Wc([Lt({x:.5,y:1},Be)],t.prototype,"offset",void 0),Wc([O("#1a1a1a")],t.prototype,"borderColor",void 0),Wc([O(1)],t.prototype,"borderWidth",void 0),Wc([Lt({},_l)],t.prototype,"margin",void 0),Wc([O("")],t.prototype,"pathData",void 0),Wc([O("")],t.prototype,"content",void 0),Wc([O(0)],t.prototype,"cornerRadius",void 0),Wc([Lt({left:2,right:2,top:2,bottom:2},_l)],t.prototype,"padding",void 0),Wc([O("#1a1a1a")],t.prototype,"iconColor",void 0),t}(ii),_me=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w4=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.orientation="Vertical",e.measureChildren=void 0,e.considerPadding=!0,e}return _me(t,r),t.prototype.measure=function(e){return this.desiredSize=this.measureStackPanel(e,"Horizontal"===this.orientation?this.updateHorizontalStack:this.updateVerticalStack),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=this.arrangeStackPanel(e,"Horizontal"===this.orientation?this.arrangeHorizontalStack:this.arrangeVerticalStack),this.updateBounds(),this.actualSize},t.prototype.measureStackPanel=function(e,i){var n=void 0;if(void 0!==this.children&&this.children.length>0)for(var s=0,o=this.children;s<o.length;s++){var a=o[s];a.parentTransform=this.rotateAngle+this.parentTransform,a.measure(this.measureChildren?a.desiredSize:e);var l=a.desiredSize.clone();this.applyChildMargin(a,l),0!==a.rotateAngle&&(l=F4(l,a.rotateAngle)),void 0===n?n=l:a.preventContainer||i(l,n)}return n=r.prototype.validateDesiredSize.call(this,n,e),this.stretchChildren(n),this.considerPadding&&this.applyPadding(n),n},t.prototype.arrangeStackPanel=function(e,i){if(void 0!==this.children&&this.children.length>0){var n=void 0,s=void 0;n=this.offsetX-e.width*this.pivot.x+this.padding.left,s=this.offsetY-e.height*this.pivot.y+this.padding.top;for(var o=0,a=this.children;o<a.length;o++){var l=a[o],h=l.desiredSize.clone(),c=h;"Vertical"===this.orientation?s+=l.margin.top:n+=l.margin.left,0!==l.rotateAngle&&(c=F4(h,l.rotateAngle));var u=i(n,s,l,this,e,c);r.prototype.findChildOffsetFromCenter.call(this,l,u),l.arrange(h,!0),"Vertical"===this.orientation?s+=c.height+l.margin.bottom:n+=c.width+l.margin.right}}return e},t.prototype.updateHorizontalStack=function(e,i){i.height=Math.max(e.height,i.height),i.width+=e.width},t.prototype.updateVerticalStack=function(e,i){i.width=Math.max(e.width,i.width),i.height+=e.height},t.prototype.arrangeHorizontalStack=function(e,i,n,s,o,a){var l=0;return"Top"===n.verticalAlignment?l=i+n.margin.top+a.height/2:"Bottom"===n.verticalAlignment?l=s.offsetY+o.height*(1-s.pivot.y)-s.padding.bottom-n.margin.bottom-a.height/2:(l=s.offsetY-o.height*s.pivot.y+o.height/2,n.margin.top&&(l=i+n.margin.top+a.height/2)),{x:e+a.width/2,y:l}},t.prototype.arrangeVerticalStack=function(e,i,n,s,o,a){var l=0;return"Left"===n.horizontalAlignment?l=e+n.margin.left+a.width/2:"Right"===n.horizontalAlignment?l=s.offsetX+o.width*(1-s.pivot.x)-s.padding.right-n.margin.right-a.width/2:(l=s.offsetX-o.width*s.pivot.x+o.width/2,n.margin.left&&(l=e+n.margin.left+a.width/2)),{x:l,y:i+a.height/2}},t.prototype.stretchChildren=function(e){if(void 0!==this.children&&this.children.length>0)for(var i=0,n=this.children;i<n.length;i++){var s=n[i];"Vertical"===this.orientation?"Stretch"===s.horizontalAlignment&&(s.desiredSize.width=e.width-(s.margin.left+s.margin.right)):"Stretch"===s.verticalAlignment&&(s.desiredSize.height=e.height-(s.margin.top+s.margin.bottom))}},t.prototype.applyChildMargin=function(e,i){i.height+=e.margin.top+e.margin.bottom,i.width+=e.margin.left+e.margin.right},t}(Fh);function Vw(r,t){var e=new Et(t,"nodes",{id:kn()+"_path",height:1,constraints:j.Default&~j.Select,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{strokeColor:"black"===r.style.strokeColor?"#ffffff00":r.style.strokeColor}},!0);t.initObject(e),t.nodes.push(e),r.children.push(e.id)}function I4(r,t){var e={},i=t.style;return e.fill="transparent"!==i.fill?i.fill:r.style.fill,e.color=i.color,e.fontSize=12!==i.fontSize?i.fontSize:r.style.fontSize,e.strokeColor="black"!==i.strokeColor?i.strokeColor:r.style.strokeColor,e.strokeWidth=1!==i.strokeWidth?i.strokeWidth:r.style.strokeWidth,e}var Fme=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bv=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},jme=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fme(t,r),Bv([O("Horizontal")],t.prototype,"orientation",void 0),Bv([O("Center")],t.prototype,"type",void 0),Bv([O(void 0)],t.prototype,"offset",void 0),Bv([O(!1)],t.prototype,"enableRouting",void 0),Bv([O([])],t.prototype,"children",void 0),Bv([O("")],t.prototype,"assistants",void 0),Bv([O("")],t.prototype,"level",void 0),Bv([O("")],t.prototype,"hasSubTree",void 0),Bv([O("")],t.prototype,"rows",void 0),t}(ii),Fs=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),St=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Hme=function(r){if(r){if(ge())return zX;switch(r.type){case"Basic":default:return mD;case"Flow":return OX;case"Path":return TX;case"Image":return AX;case"Text":return zb;case"Bpmn":return tk;case"Native":return Ww;case"HTML":return EX;case"UmlActivity":return NX;case"UmlClassifier":return RX;case"SwimLane":return Yw}}return ge()?zX:mD},Ju=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),St([O("Basic")],t.prototype,"type",void 0),t}(ii),TX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Path"},St([O("Path")],t.prototype,"type",void 0),St([O("")],t.prototype,"data",void 0),t}(Ju),Ww=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Native"},St([O("Native")],t.prototype,"type",void 0),St([O("")],t.prototype,"content",void 0),St([O("Stretch")],t.prototype,"scale",void 0),t}(Ju),EX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Html"},St([O("HTML")],t.prototype,"type",void 0),St([O("")],t.prototype,"content",void 0),t}(Ju),AX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Image"},St([O("Image")],t.prototype,"type",void 0),St([O("")],t.prototype,"source",void 0),St([O("None")],t.prototype,"scale",void 0),St([O("None")],t.prototype,"align",void 0),t}(Ju),zb=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Text"},St([O("Text")],t.prototype,"type",void 0),St([O("")],t.prototype,"content",void 0),St([Lt({},_l)],t.prototype,"margin",void 0),t}(Ju),mD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BasicShape"},St([O("Basic")],t.prototype,"type",void 0),St([O("Rectangle")],t.prototype,"shape",void 0),St([O(0)],t.prototype,"cornerRadius",void 0),St([Qn([],Be)],t.prototype,"points",void 0),t}(Ju),OX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"FlowShape"},St([O("Flow")],t.prototype,"type",void 0),St([O("Terminator")],t.prototype,"shape",void 0),t}(Ju),M4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnGateway"},St([O("None")],t.prototype,"type",void 0),t}(ii),x4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnDataObject"},St([O("None")],t.prototype,"type",void 0),St([O(!1)],t.prototype,"collection",void 0),t}(ii),LX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),St([O("None")],t.prototype,"type",void 0),St([O("None")],t.prototype,"loop",void 0),St([O(!1)],t.prototype,"call",void 0),St([O(!1)],t.prototype,"compensation",void 0),t}(ii),D4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnEvent"},St([O("Start")],t.prototype,"event",void 0),St([O("None")],t.prototype,"trigger",void 0),t}(ii),Bb=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnSubEvent"},St([O("None")],t.prototype,"trigger",void 0),St([O("Start")],t.prototype,"event",void 0),St([O("")],t.prototype,"id",void 0),St([Lt({},Be)],t.prototype,"offset",void 0),St([Qn([],qu)],t.prototype,"annotations",void 0),St([Qn([],ac)],t.prototype,"ports",void 0),St([O()],t.prototype,"width",void 0),St([O()],t.prototype,"height",void 0),St([Lt({},_l)],t.prototype,"margin",void 0),St([O("Center")],t.prototype,"horizontalAlignment",void 0),St([O("Center")],t.prototype,"verticalAlignment",void 0),St([O(!0)],t.prototype,"visible",void 0),t}(ii),Ume=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),St([Lt({id:"success",event:"End",offset:{x:1,y:.5}},Bb)],t.prototype,"success",void 0),St([Lt({id:"failure",event:"Intermediate",trigger:"Error",offset:{x:.25,y:1}},Bb)],t.prototype,"failure",void 0),St([Lt({id:"cancel",event:"Intermediate",trigger:"Cancel",offset:{x:.75,y:1}},Bb)],t.prototype,"cancel",void 0),t}(ii),kX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),St([O("None")],t.prototype,"type",void 0),St([O(!1)],t.prototype,"adhoc",void 0),St([O("Default")],t.prototype,"boundary",void 0),St([O(!1)],t.prototype,"compensation",void 0),St([O("None")],t.prototype,"loop",void 0),St([O(!0)],t.prototype,"collapsed",void 0),St([Qn([],Bb)],t.prototype,"events",void 0),St([Lt({},Ume)],t.prototype,"transaction",void 0),St([O(void 0)],t.prototype,"processes",void 0),t}(ii),ek=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnActivity"},St([O("Task")],t.prototype,"activity",void 0),St([Lt({},LX)],t.prototype,"task",void 0),St([Lt({},kX)],t.prototype,"subProcess",void 0),t}(ii),Fb=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnAnnotation"},St([O("")],t.prototype,"text",void 0),St([O("")],t.prototype,"id",void 0),St([O(0)],t.prototype,"angle",void 0),St([O()],t.prototype,"height",void 0),St([O()],t.prototype,"width",void 0),St([O(0)],t.prototype,"length",void 0),t}(ii),tk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"BpmnShape"},St([O("Bpmn")],t.prototype,"type",void 0),St([O("Event")],t.prototype,"shape",void 0),St([Lt({},D4)],t.prototype,"event",void 0),St([Lt({},M4)],t.prototype,"gateway",void 0),St([Lt({},x4)],t.prototype,"dataObject",void 0),St([Lt({},ek)],t.prototype,"activity",void 0),St([Lt({},Fb)],t.prototype,"annotation",void 0),St([Qn([],Fb)],t.prototype,"annotations",void 0),t}(Ju),NX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlActivityShape"},St([O("UmlActivity")],t.prototype,"type",void 0),St([O("Action")],t.prototype,"shape",void 0),t}(Ju),T4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"MethodArguments"},St([O("")],t.prototype,"name",void 0),St([O("")],t.prototype,"type",void 0),St([Lt({},Eb)],t.prototype,"style",void 0),t}(ii),E4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlClassAttribute"},St([O("Public")],t.prototype,"scope",void 0),St([O(!1)],t.prototype,"isSeparator",void 0),t}(T4),PX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlClassMethod"},St([Qn([],T4)],t.prototype,"parameters",void 0),t}(E4),ik=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlClass"},St([O("")],t.prototype,"name",void 0),St([Qn([],E4)],t.prototype,"attributes",void 0),St([Qn([],PX)],t.prototype,"methods",void 0),St([Lt({},Eb)],t.prototype,"style",void 0),t}(ii),A4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlInterface"},St([O(!1)],t.prototype,"isSeparator",void 0),t}(ik),_X=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlEnumerationMember"},St([O("")],t.prototype,"name",void 0),St([O("")],t.prototype,"value",void 0),St([O(!1)],t.prototype,"isSeparator",void 0),St([Lt({},Eb)],t.prototype,"style",void 0),t}(ii),O4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlEnumeration"},St([O("")],t.prototype,"name",void 0),St([Qn([],_X)],t.prototype,"members",void 0),St([Lt({},Eb)],t.prototype,"style",void 0),t}(ii),RX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"UmlClassifierShape"},St([O("UmlClassifier")],t.prototype,"type",void 0),St([Lt({},ik)],t.prototype,"classShape",void 0),St([Lt({},A4)],t.prototype,"interfaceShape",void 0),St([Lt({},O4)],t.prototype,"enumerationShape",void 0),St([O("Class")],t.prototype,"classifier",void 0),t}(Ju),zX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"DiagramShape"},St([O("Basic")],t.prototype,"type",void 0),St([O("Rectangle")],t.prototype,"basicShape",void 0),St([O("Terminator")],t.prototype,"flowShape",void 0),St([O("Event")],t.prototype,"bpmnShape",void 0),St([O("Action")],t.prototype,"umlActivityShape",void 0),St([O("")],t.prototype,"data",void 0),St([O("")],t.prototype,"content",void 0),St([O("")],t.prototype,"textContent",void 0),St([O("Stretch")],t.prototype,"scale",void 0),St([O("")],t.prototype,"source",void 0),St([O("None")],t.prototype,"align",void 0),St([Lt({},_l)],t.prototype,"margin",void 0),St([O(0)],t.prototype,"cornerRadius",void 0),St([Qn([],Be)],t.prototype,"points",void 0),St([Lt({},x4)],t.prototype,"dataObject",void 0),St([Lt({},D4)],t.prototype,"event",void 0),St([Lt({},M4)],t.prototype,"gateway",void 0),St([Qn([],Fb)],t.prototype,"annotations",void 0),St([Lt({},ek)],t.prototype,"activity",void 0),St([Lt({},Fb)],t.prototype,"annotation",void 0),St([Lt({},O4)],t.prototype,"enumerationShape",void 0),St([O("Class")],t.prototype,"classifier",void 0),St([Lt({},ik)],t.prototype,"classShape",void 0),St([Lt({},A4)],t.prototype,"interfaceShape",void 0),t}(ii),Et=function(r){function t(e,i,n,s){var a,o=r.call(this,e,i,n,s)||this;return o.isCanvasUpdate=!1,o.status="None",o.parentId="",o.processId="",o.umlIndex=-1,o.outEdges=[],o.inEdges=[],o.isHeader=!1,o.isLane=!1,o.isPhase=!1,o.isTextNode=!1,o.children&&o.children.length>0&&((!(a=n).style||!a.style.fill)&&(o.style.fill="transparent"),(!a.style||!a.style.strokeColor)&&(o.style.strokeColor="transparent")),o.shape&&"UmlActivity"===o.shape.type&&GL(n,o),o.shape&&"SwimLane"===o.shape.type&&uX(n,o),o.ports&&o.ports.length&&function Jve(r){for(var t=0;t<r.ports.length;t++)r.ports[parseInt(t.toString(),10)].inEdges=[],r.ports[parseInt(t.toString(),10)].outEdges=[]}(o),o}return Fs(t,r),Object.defineProperty(t.prototype,"actualSize",{get:function(){return null!==this.wrapper?this.wrapper.actualSize:new pi(this.width||0,this.height||0)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var i;switch(i="SwimLane"!==this.shape.type?new Jl:new Kx,this.shape.changedProperties={},this.shape.oldProperties={},this.shape.type){case"Path":if(ge()||"Freehand"!==this.type){var l=new Nn;l.data=this.shape.data,i=l}else(a=new Nn).data=SB(this.shape.points),i=a;break;case"Image":var h=new dL;h.source=this.shape.source,h.imageAlign=this.shape.align,h.imageScale=this.shape.scale,i=h;break;case"Text":var c=new Qr;c.content=ge()?this.shape.textContent:this.shape.content,(i=c).style=this.style;break;case"Basic":if(!ge()&&"Rectangle"===this.shape.shape||ge()&&"Rectangle"===this.shape.basicShape)(i=u=new Jl).cornerRadius=this.shape.cornerRadius;else if(!ge()&&"Polygon"===this.shape.shape||ge()&&"Polygon"===this.shape.basicShape){var a;(a=new Nn).data=CB(this.shape.points),i=a}else{var u=new Nn,d=uL(ge()?this.shape.basicShape:this.shape.shape);u.data=d,i=u}break;case"Flow":var p=new Nn,f=jB(ge()?this.shape.flowShape:this.shape.shape);p.data=f,i=p;break;case"UmlActivity":i=function xme(r,t,e){var i=ge()?e.shape.umlActivityShape:e.shape.shape,n=lX(i);switch(r.data=n,t=r,i){case"StructuredNode":if(e.annotations)for(var s=0;s<e.annotations.length;s++)e.annotations[parseInt(s.toString(),10)].content="<<"+e.annotations[parseInt(s.toString(),10)].content+">>";t=r;break;case"FinalNode":t=yX(e)}return t}(new Nn,i,this);break;case"Bpmn":if(e.bpmnModule){i=e.bpmnModule.initBPMNContent(i,this,e),this.wrapper.elementActions=this.wrapper.elementActions|Na.ElementIsGroup;var M=this.shape.activity.subProcess;if(M.processes&&M.processes.length)for(var P=0,U=this.shape.activity.subProcess.processes;P<U.length;P++){var Y=U[P];e.nameTable[""+Y]&&(!e.nameTable[""+Y].processId||e.nameTable[""+Y].processId===this.id)&&(e.nameTable[""+Y].processId=this.id,M.collapsed&&e.updateElementVisibility(e.nameTable[""+Y].wrapper,e.nameTable[""+Y],!M.collapsed),i.children.push(e.nameTable[""+Y].wrapper))}}break;case"Native":var X=new fl(this.id,e.element.id);X.content=this.shape.content,X.scale=this.shape.scale,i=X;break;case"HTML":var Q=new Sh(this.id,e.element.id,void 0,e.nodeTemplate);!this.shape.content||"string"!=typeof this.shape.content&&e.isReact?e.nodeTemplate&&(Q.isTemplate=!0,Q.template=Q.content=Hb(Q,!0,this)):Q.content=this.shape.content,this.shape.content&&"function"==typeof this.shape.content&&e.isReact&&(Q.isTemplate=!0,Q.templateFn=wn(this.shape.content),Q.template=Q.content=Hb(Q,!0,this)),i=Q;break;case"UmlClassifier":i=function Rme(r,t,e){var i,n="NoWrap";"Class"===t.shape.classifier?i=t.shape.classShape:"Enumeration"===t.shape.classifier?i=t.shape.enumerationShape:"Interface"===t.shape.classifier&&(i=t.shape.interfaceShape),t.container={type:"Stack",orientation:"Vertical"},t.constraints=(j.Default|j.HideThumbs)&~(j.Rotate|j.Resize),t.style={fill:t.style.fill,strokeColor:t.style.strokeColor,strokeWidth:1.5},t.children=[],t.maxWidth&&(n="Wrap");var s=new Et(e,"nodes",{id:t.id+"_umlClass_header",annotations:[{id:"name",content:i.name,offset:{x:.5,y:.65},margin:{left:10,right:10},style:{bold:!0,fontSize:14,color:i.style.color,fill:i.style.fill,textWrapping:n}},{content:"<<"+t.shape.classifier+">>",margin:{left:10,right:10},id:"class",style:{fontSize:i.style.fontSize,color:i.style.color,fill:i.style.fill,textWrapping:n},offset:{x:.5,y:.3},constraints:Rl.ReadOnly}],constraints:(j.Default|j.HideThumbs)&~(j.Rotate|j.Drag|j.Resize),verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:t.style.fill,strokeColor:"black"===t.style.strokeColor?"#ffffff00":t.style.strokeColor}},!0);return e.initObject(s),e.nodes.push(s),e.UpdateBlazorDiagramModel(s,"Node"),t.children.push(s.id),function zme(r,t,e,i){if("Enumeration"===r.shape.classifier){var n=e.members;if(n&&n.length){Vw(r,t);for(var s="",o=0;o<n.length;o++){var a=n[parseInt(o.toString(),10)];if(""!==a.name&&(s+=a.name),o!==n.length){var l=I4(r,a),h=new Et(t,"nodes",{id:kn()+"_umlMember",annotations:[{id:"name",content:s,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:r.style.fill,strokeColor:"black"===r.style.strokeColor?"#ffffff00":r.style.strokeColor,textWrapping:i},constraints:(j.Default|j.HideThumbs)&~(j.Rotate|j.Drag|j.Resize),minHeight:25},!0);t.initObject(h),t.nodes.push(h),t.UpdateBlazorDiagramModel(h,"Node"),r.children.push(h.id),s="",a.isSeparator&&o!==n.length-1&&Vw(r,t)}}}}else{var c=e.attributes;if(c.length){var u="";for(Vw(r,t),o=0;o<c.length;o++){var d,p=c[parseInt(o.toString(),10)];d=p.scope&&"Public"===p.scope?" +":p.scope&&"Private"===p.scope?"-":p.scope&&"Protected"===p.scope?"#":"~",""!==p.name&&d&&(u+=d+" "+p.name+" : "+p.type),o!==c.length&&(l=I4(r,p),h=new Et(t,"nodes",{id:kn()+"_umlProperty",style:{fill:r.style.fill,strokeColor:"black"===r.style.strokeColor?"#ffffff00":r.style.strokeColor},annotations:[{id:"name",content:u,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(j.Default|j.HideThumbs)&~(j.Rotate|j.Drag|j.Resize),minHeight:25},!0),t.initObject(h),t.nodes.push(h),t.UpdateBlazorDiagramModel(h,"Node"),r.children.push(h.id),u="",p.isSeparator&&o!==c.length-1&&Vw(r,t))}}}}(t,e,i,n),function Bme(r,t,e,i){if(e.methods&&e.methods.length){var n=e.methods;Vw(r,t);for(var s="",o="",a=void 0,l=0;l<n.length;l++){var h=n[parseInt(l.toString(),10)];if(a=h.scope&&"Public"===h.scope?" +":h.scope&&"Private"===h.scope?"-":h.scope&&"Protected"===h.scope?"#":"~",h.parameters)for(var c=0;c<h.parameters.length;c++)h.parameters[parseInt(c.toString(),10)].type?s+=h.parameters[parseInt(c.toString(),10)].name+":"+h.parameters[parseInt(c.toString(),10)].type:s+=h.parameters[parseInt(c.toString(),10)].name,c!==h.parameters.length-1&&(s+=",");if(""!==h.name&&a&&(o+=a+" "+h.name+"("+s+") : "+h.type),l!==n.length){var u=I4(r,h),d=new Et(t,"nodes",{id:kn()+"_umlMethods",verticalAlignment:"Stretch",horizontalAlignment:"Stretch",annotations:[{id:"name",content:o,offset:{x:0,y:.5},style:{bold:!0,fontSize:u.fontSize,color:u.color,fill:u.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],style:{fill:r.style.fill,strokeColor:"black"===r.style.strokeColor?"#ffffff00":r.style.strokeColor},minHeight:25,constraints:(j.Default|j.HideThumbs)&~(j.Rotate|j.Drag|j.Resize)},!0);t.initObject(d),t.nodes.push(d),t.UpdateBlazorDiagramModel(d,"Node"),r.children.push(d.id),o="",h.isSeparator&&l!==n.length-1&&Vw(r,t)}}}}(t,e,i,n),t.offsetX=t.offsetX,t.offsetY=t.offsetY,t.style.fill=t.style.fill,t.borderColor=t.borderColor,e.initObject(t),r}(i,this,e);break;case"SwimLane":this.annotations=[],this.ports=[],i.cellStyle.fill="none",i.cellStyle.strokeColor="none",this.container={type:"Grid",orientation:this.shape.orientation},i.id=this.id,this.container.orientation=this.shape.orientation,this.constraints|=j.HideThumbs,function Gge(r,t,e){!e.width&&0===e.shape.phases.length&&(e.width=100);var i=[],n=[],s=0,o=e.shape,a="Horizontal"===o.orientation;if(o.header&&o.hasHeader&&iD(i,o.header.height),function Qge(r,t,e){var n,i=0,s=e.shape;if(r.length>0)for(var o=0;o<r.length;o++)i+=r[parseInt(o.toString(),10)].height;if(t){if(s.phases.length>0&&s.phaseSize&&(i+=s.phaseSize,iD(r,s.phaseSize)),s.lanes.length>0)for(o=0;o<s.lanes.length;o++)i+=n=s.lanes[parseInt(o.toString(),10)].height,o===s.lanes.length-1&&i<e.height&&(n+=e.height-i),iD(r,n)}else if(s.phases.length>0){var a=0;for(o=0;o<s.phases.length;o++){var l=s.phases[parseInt(o.toString(),10)].offset;0===o||(l-=a),a+=l,i+=n=l,o===s.phases.length-1&&i<e.height&&(n+=e.height-i),iD(r,n)}}else iD(r,e.height)}(i,a,e),function $ge(r,t,e){var s,o,a,l,i=0,n=e.shape;if(n.phases.length>0&&"Horizontal"===n.orientation)for(l=0;l<n.phases.length;l++)s=n.phases[parseInt(l.toString(),10)].offset,0===l||(s-=i),i+=s,o=nD(s),l===n.phases.length-1&&i<e.width&&(o.width+=e.width-i),r.push(o);else if(t)o=nD(e.width),r.push(o);else{for(n.phaseSize&&n.phases.length>0&&(i+=n.phaseSize,o=nD(n.phaseSize),r.push(o)),a=0;a<n.lanes.length;a++)i+=n.lanes[parseInt(a.toString(),10)].width,o=nD(n.lanes[parseInt(a.toString(),10)].width),a===n.lanes.length-1&&i<e.width&&(o.width+=e.width-i),r.push(o);0===n.phases.length&&0===n.lanes.length&&(o=nD(e.width),r.push(o))}}(n,a,e),r.setDefinitions(i,n),o.header&&o.hasHeader&&(function Xge(r,t,e){for(var i=0,n=r.columnDefinitions(),s=e.shape,o=0;o<n.length;o++)i+=n[parseInt(o.toString(),10)].width;s.header.id=s.header.id||kn();var a={id:e.id+s.header.id,annotations:[rt(s.header.annotation)],style:s.header.style?s.header.style:void 0,offsetX:e.offsetX,offsetY:e.offsetY,rowIndex:0,columnIndex:0,maxWidth:i,container:{type:"Canvas",orientation:"Horizontal"}};Ab(e)||(a.constraints&=~j.Select);var l=tD(t,0,e,a,!0);r.addObject(l,0,0,1,r.columnDefinitions().length)}(r,t,e),s++),o.phases.length>0&&o.phaseSize){for(var l=0;l<o.phases.length;l++)""===o.phases[parseInt(l.toString(),10)].id&&(o.phases[parseInt(l.toString(),10)].id=kn()),i4(r,t,e,s,a,l);s++}if(o.lanes.length>0)for(l=0;l<o.lanes.length;l++)""===o.lanes[parseInt(l.toString(),10)].id&&(o.lanes[parseInt(l.toString(),10)].id=kn()),PG(r,t,e,s,l,a),s++}(i,e,this)}return i.id=this.id+"_content",i.relativeMode="Object",i.shapeType="Basic"===this.shape.type&&"Rectangle"===this.shape.shape?"Rectangle":"Others",void 0!==this.width&&(i.width=this.width),i.horizontalAlignment="Stretch",void 0!==this.height&&(i.height=this.height),void 0!==this.minHeight&&(i.minHeight=this.minHeight),void 0!==this.maxHeight&&(i.maxHeight=this.maxHeight),void 0!==this.minWidth&&(i.minWidth=this.minWidth),void 0!==this.maxWidth&&(i.maxWidth=this.maxWidth),(!ge()&&"Rectangle"===this.shape.shape&&!this.shape.cornerRadius||ge()&&"Rectangle"===this.shape.basicShape&&"Basic"===this.shape.type&&!this.shape.cornerRadius)&&(i.isRectElement=!0),i.verticalAlignment="Stretch",(this.shape instanceof zb||ge()&&"Text"===this.shape.type)&&(i.margin=this.shape.margin),TL(this)&&this.constraints&j.Shadow&&(i.shadow=this.shadow),("Bpmn"!==this.shape.type||!ge()&&"Message"===this.shape.shape||ge()&&"Message"===this.shape.bpmnShape||!ge()&&"DataSource"===this.shape.shape||ge()&&"DataSource"===this.shape.bpmnShape)&&("UmlActivity"!==this.shape.type||!ge()&&"FinalNode"!==this.shape.shape||ge()&&"FinalNode"!==this.shape.umlActivityShape)&&"Text"!==this.shape.type&&(i.style=this.style,this.oldGradientValue=this.style.gradient?rt(this.style.gradient):null),(!(this.wrapper.elementActions&Na.ElementIsGroup)&&"Horizontal"===this.flip||"Vertical"===this.flip)&&(i.flip=this.flip),i},t.prototype.initContainer=function(){var e;if(this.id||(this.id=kn()),!this.container||this.shape instanceof Yw)e=this.children?new Fh:new Ds;else switch(this.container.type){case"Canvas":e=new Ds;break;case"Stack":e=new w4;break;case"Grid":(e=new Kx).setDefinitions(this.rows,this.columns)}return e.id=this.id,e.offsetX=this.offsetX,e.offsetY=this.offsetY,e.visible=this.visible,e.horizontalAlignment=this.horizontalAlignment,e.verticalAlignment=this.verticalAlignment,this.container&&(e.width=this.width,e.height=this.height,"Stack"===this.container.type&&(e.orientation=this.container.orientation)),e.style.fill=this.backgroundColor,e.style.strokeColor=this.borderColor,e.style.strokeWidth=this.borderWidth,e.rotateAngle=this.rotateAngle,e.minHeight=this.minHeight,e.minWidth=this.minWidth,e.maxHeight=this.maxHeight,e.maxWidth=this.maxWidth,e.pivot=this.pivot,e.margin=this.margin,e.flip=this.flip,this.wrapper=e,e},t.prototype.initPorts=function(e,i){for(var n=0;n<this.ports.length;n++)this.initPort(e,i,this.ports[parseInt(n.toString(),10)])},t.prototype.initPort=function(e,i,n){var o,s=this.wrapper;o=this.initPortWrapper(n,this);var a,l=ho(e);l&&(a=l(o,this)),o.description=a||o.id,o.inversedAlignment=s.inversedAlignment,o.elementActions=o.elementActions|Na.ElementIsPort,i.children.push(o)},t.prototype.getIconOffet=function(e,i){var n,s;return"BottomToTop"===e.orientation?(n=i.offset.x,s=1-i.offset.y):"LeftToRight"===e.orientation?(n=i.offset.y,s=i.offset.x):"RightToLeft"===e.orientation?(n=1-i.offset.y,s=i.offset.x):(n=i.offset.x,s=i.offset.y),{x:n,y:s}},t.prototype.initIcons=function(e,i,n,s){var a,o=this.wrapper,l=this.isExpanded?this.expandIcon:this.collapseIcon;if("None"!==l.shape){var h=new Ds;h.float=!0,h.id=this.id+"_icon_content",h.children=[],h.height=l.height,h.width=l.width,h.style.strokeColor="transparent",h.margin=l.margin,h.horizontalAlignment="Center",h.verticalAlignment="Center",h.visible=this.visible,h.cornerRadius=l.cornerRadius,a=this.getIconOffet(i,l),h.setOffsetWithRespectToBounds(a.x,a.y,"Fraction"),h.relativeMode="Point",this.initIconSymbol(l,h,e,s);var u=void 0,d=ho(e);d&&(u=d(l,this)),h.description=u||h.id,h.inversedAlignment=o.inversedAlignment,n.children.push(h)}},t.prototype.initfixedUserHandles=function(e){var i=this.wrapper,n=new Ds;n.float=!0,e.id=e.id||kn(),n.id=this.id+"_"+e.id,n.children=[],n.height=e.height,n.width=e.width,n.style.strokeColor=e.handleStrokeColor,n.style.fill=e.fill,n.style.strokeWidth=e.handleStrokeWidth,n.margin=e.margin,n.visible=e.visibility,n.cornerRadius=e.cornerRadius,n.horizontalAlignment="Center",n.verticalAlignment="Center";var o=this.getfixedUserHandleOffet(e);n.setOffsetWithRespectToBounds(o.x,o.y,"Fraction"),n.relativeMode="Point";var a=vX(e,n);return n.children.push(a),n.description=n.id,n.inversedAlignment=i.inversedAlignment,n},t.prototype.getfixedUserHandleOffet=function(e){return{x:e.offset.x,y:e.offset.y}},t.prototype.initAnnotations=function(e,i,n,s,o){for(var a,l=0;l<this.annotations.length;l++){a=this.initAnnotationWrapper(this.annotations[parseInt(l.toString(),10)],n,s,l,o);var h=void 0,c=ho(e);c&&(h=c(a,this)),a.description=h||a.id,a.inversedAlignment=i.inversedAlignment,i.children.push(a)}},t.prototype.initPortWrapper=function(e,i){e.id=e.id||kn();var n=new Nn;n.height=e.height,n.width=e.width;var s="Custom"===e.shape?e.pathData:FB(e.shape);n.id=this.id+"_"+e.id,n.margin=e.margin,n.data=s,i&&"Bpmn"===i.shape.type&&(n.flip=this.flip);var o=e.style;return n.style={fill:o.fill,strokeColor:o.strokeColor,gradient:null,opacity:o.opacity,strokeDashArray:o.strokeDashArray,strokeWidth:o.strokeWidth},n.horizontalAlignment=e.horizontalAlignment,n.verticalAlignment=e.verticalAlignment,n=pD(n,i&&"Label"!==i.flipMode&&"None"!==i.flipMode?this.flip:"None",e),(void 0!==this.width||void 0!==this.height)&&(n.float=!0),n.relativeMode="Point",n.visible=!(!Yd(e,zi.Visible)||Yd(e,zi.Hover)||Yd(e,zi.Connect)),n.elementActions=n.elementActions|Na.ElementIsPort,n},t.prototype.initAnnotationWrapper=function(e,i,n,s,o){e.id=e.id||s+"annotation"||0;var l,a=e;if(ge()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),i&&(e.template||"Template"===e.annotationType||o&&""===e.content)){l=new Sh(this.id,i,e.id,o);var u=document.getElementById(i).ej2_instances[0];e.template&&"function"==typeof e.template&&u.isReact&&(l.templateFn=wn(e.template),l.isTemplate=!0),l=XX(l,e,o,u)}else{(l=new Qr).canMeasure=!n;var d=e.style,p=e.hyperlink.link?e.hyperlink:void 0;l.style={fill:d.fill,strokeColor:d.strokeColor,strokeWidth:d.strokeWidth,bold:d.bold,textWrapping:d.textWrapping,color:p?p.color||l.hyperlink.color:d.color,whiteSpace:d.whiteSpace,fontFamily:d.fontFamily,fontSize:d.fontSize,italic:d.italic,gradient:null,opacity:d.opacity,strokeDashArray:d.strokeDashArray,textAlign:d.textAlign,textOverflow:e.style.textOverflow,textDecoration:p?p.textDecoration||l.hyperlink.textDecoration:d.textDecoration},l.hyperlink.link=e.hyperlink.link||void 0,l.hyperlink.hyperlinkOpenState=e.hyperlink.hyperlinkOpenState||void 0,l.hyperlink.content=e.hyperlink.content||void 0,l.hyperlink.textDecoration=e.hyperlink.textDecoration||void 0,l.content=p?p.content||l.hyperlink.link:e.content}return l.constraints=e.constraints,l.height=e.height,l.width=e.width,l.visible=e.visibility,l.rotateAngle=e.rotateAngle,l.id=this.id+"_"+e.id,void 0!==this.width&&!e.template&&(void 0===e.width||e.width>this.width&&("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping))&&(l.width=this.width),l.margin=e.margin,l.horizontalAlignment=e.horizontalAlignment,l.verticalAlignment=e.verticalAlignment,l.setOffsetWithRespectToBounds(a.offset.x,a.offset.y,"Fraction"),(void 0!==this.width||void 0!==this.height)&&(l.float=!0),l.relativeMode="Point",l},t.prototype.initIconContainer=function(e,i){var n=new Jl;return n.id=i.id+"_rect",n.height=e.height,n.width=e.width,n.visible=i.visible,n.margin=e.margin,n.cornerRadius=e.cornerRadius,n.style={fill:e.fill,strokeColor:e.borderColor,strokeWidth:e.borderWidth},n.setOffsetWithRespectToBounds(.5,.5,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object",n.description=n.description||"Click here to expand or collapse",n},t.prototype.initIconSymbol=function(e,i,n,s){var o;if(i.children.push(this.initIconContainer(e,i)),"Template"===e.shape)(o=new fl(this.id,s)).content=e.content,o.height=10,o.width=10;else{(o=new Nn).data=function Zfe(r){var t;switch(r.shape){case"Minus":t="M0,50 L100,50";break;case"Plus":t="M0,-50 L0,50 M-50,0 L50,0";break;case"ArrowUp":t="M0,100 L50,0 L100,100 Z";break;case"ArrowDown":t="M0,0 L50,100 L100,0 Z";break;case"Path":t=r.pathData}return t}(e);var a=sk(o.data);o.height=a.height<10?a.height:10-(e.padding.bottom+e.padding.top),o.width=a.width<10?a.width:10-(e.padding.left+e.padding.right)}o.id=i.id+"_shape",o.horizontalAlignment="Center",o.verticalAlignment="Center",o.visible=i.visible,o.visible=i.visible,o.style={fill:"black",strokeColor:e.iconColor,strokeWidth:e.borderWidth},o.setOffsetWithRespectToBounds(.5,.5,"Fraction"),o.relativeMode="Object",o.description=i.description||"Click here to expand or collapse",i.children.push(o)},t.prototype.getClassName=function(){return"Node"},St([Qn([],qu)],t.prototype,"annotations",void 0),St([O(0)],t.prototype,"offsetX",void 0),St([Lt({},jme)],t.prototype,"layoutInfo",void 0),St([O(0)],t.prototype,"offsetY",void 0),St([Qn([],ac)],t.prototype,"ports",void 0),St([O(!0)],t.prototype,"isExpanded",void 0),St([Qn([],EG)],t.prototype,"fixedUserHandles",void 0),St([Lt({},KL)],t.prototype,"expandIcon",void 0),St([Lt({},KL)],t.prototype,"collapseIcon",void 0),St([Lt({x:.5,y:.5},Be)],t.prototype,"pivot",void 0),St([O()],t.prototype,"width",void 0),St([O()],t.prototype,"height",void 0),St([O()],t.prototype,"minWidth",void 0),St([O()],t.prototype,"minHeight",void 0),St([O()],t.prototype,"maxWidth",void 0),St([O()],t.prototype,"maxHeight",void 0),St([O(0)],t.prototype,"rotateAngle",void 0),St([Lt({fill:"white"},Eb)],t.prototype,"style",void 0),St([O("transparent")],t.prototype,"backgroundColor",void 0),St([O("none")],t.prototype,"borderColor",void 0),St([O(0)],t.prototype,"borderWidth",void 0),St([O()],t.prototype,"data",void 0),St([mA(Hme)],t.prototype,"shape",void 0),St([Lt({},wL)],t.prototype,"previewSize",void 0),St([Lt({},wL)],t.prototype,"dragSize",void 0),St([O(null)],t.prototype,"wrapper",void 0),St([O(j.Default)],t.prototype,"constraints",void 0),St([Lt({},yfe)],t.prototype,"shadow",void 0),St([O()],t.prototype,"children",void 0),St([Lt({left:0,right:0,top:0,bottom:0},_l)],t.prototype,"padding",void 0),St([O(null)],t.prototype,"container",void 0),St([O("Left")],t.prototype,"horizontalAlignment",void 0),St([O("Top")],t.prototype,"verticalAlignment",void 0),St([O()],t.prototype,"rows",void 0),St([O()],t.prototype,"columns",void 0),St([O()],t.prototype,"rowIndex",void 0),St([O()],t.prototype,"columnIndex",void 0),St([O()],t.prototype,"rowSpan",void 0),St([O()],t.prototype,"columnSpan",void 0),St([O("")],t.prototype,"branch",void 0),t}(DG),nk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),St([O("")],t.prototype,"id",void 0),St([Lt({},bL)],t.prototype,"annotation",void 0),St([Lt({fill:"#E7F4FF",strokeColor:"#CCCCCC"},wy)],t.prototype,"style",void 0),St([O(50)],t.prototype,"height",void 0),St([O(50)],t.prototype,"width",void 0),t}(ii),yD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Lane"},St([O("")],t.prototype,"id",void 0),St([Lt({fill:"#F9F9F9",strokeColor:"#CCCCCC"},wy)],t.prototype,"style",void 0),St([Qn([],Et)],t.prototype,"children",void 0),St([O(100)],t.prototype,"height",void 0),St([O(100)],t.prototype,"width",void 0),St([Lt({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},nk)],t.prototype,"header",void 0),St([O(!0)],t.prototype,"canMove",void 0),St([O()],t.prototype,"addInfo",void 0),t}(ii),rk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.getClassName=function(){return"Phase"},St([O("")],t.prototype,"id",void 0),St([Lt({strokeColor:"#CCCCCC"},wy)],t.prototype,"style",void 0),St([Lt({annotation:{content:"Phase"}},nk)],t.prototype,"header",void 0),St([O(100)],t.prototype,"offset",void 0),St([O()],t.prototype,"addInfo",void 0),t}(ii),Yw=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.padding=20,e.hasHeader=!0,e}return Fs(t,r),t.prototype.getClassName=function(){return"SwimLane"},St([O("SwimLane")],t.prototype,"type",void 0),St([O(20)],t.prototype,"phaseSize",void 0),St([Qn([],rk)],t.prototype,"phases",void 0),St([O("Horizontal")],t.prototype,"orientation",void 0),St([Qn([],yD)],t.prototype,"lanes",void 0),St([Lt({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},nk)],t.prototype,"header",void 0),St([O(!1)],t.prototype,"isLane",void 0),St([O(!1)],t.prototype,"isPhase",void 0),t}(Ju),Vme=function(){function r(){}return r.prototype.getClassName=function(){return"ChildContainer"},St([O("Canvas")],r.prototype,"type",void 0),St([O("Vertical")],r.prototype,"orientation",void 0),r}(),Pr=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Fs(t,r),t.prototype.init=function(e){var i=new Fh;if(i.measureChildren=!1,i.children=[],this.annotation){var s=e.getWrapper(this.nodes.length>0?e.nameTable[this.nodes[0].id].wrapper:e.nameTable[this.connectors[0].id].wrapper,this.annotation.id);i.children.push(s)}else if(this.nodes||this.connectors){for(var o=0;o<this.nodes.length;o++){var a=e.nameTable[this.nodes[parseInt(o.toString(),10)].id];i.children.push(s=a.wrapper)}for(var l=0;l<this.connectors.length;l++){var h=e.nameTable[this.connectors[parseInt(l.toString(),10)].id];i.children.push(s=h.wrapper)}}var u=e.isProtectedOnChange;return e.protectPropertyChange(!1),this.wrapper=i,e.protectPropertyChange(u),i},St([O(null)],t.prototype,"wrapper",void 0),St([O(14)],t.prototype,"handleSize",void 0),St([Qn([],Et)],t.prototype,"nodes",void 0),St([Qn([],Gt)],t.prototype,"connectors",void 0),St([O()],t.prototype,"width",void 0),St([O()],t.prototype,"height",void 0),St([O(0)],t.prototype,"rotateAngle",void 0),St([O(0)],t.prototype,"offsetX",void 0),St([O(0)],t.prototype,"offsetY",void 0),St([Lt({x:.5,y:.5},Be)],t.prototype,"pivot",void 0),St([O("CompleteIntersect")],t.prototype,"rubberBandSelectionMode",void 0),St([Qn([],aX)],t.prototype,"userHandles",void 0),St([O(Bo.All)],t.prototype,"constraints",void 0),St([O()],t.prototype,"setTooltipTemplate",void 0),St([Qn([],Et)],t.prototype,"selectedObjects",void 0),St([O(!1)],t.prototype,"canToggleSelection",void 0),t}(ii);function L4(r){var t,e=[];if("msie"===Ue.info.name||"edge"===Ue.info.name)for(var i=0;i<r.childNodes.length;i++)1===(t=r.childNodes[parseInt(i.toString(),10)]).nodeType&&e.push(t);else e=r.children;return e}function sk(r){if(r){var t="measureElement";window[""+t].style.visibility="visible";var i=L4(window[""+t].children[2])[0];i.setAttribute("d",r);var n=i.getBBox(),s=new Xi(n.x,n.y,n.width,n.height);return window[""+t].style.visibility="hidden",s}return new Xi(0,0,0,0)}function BX(r,t,e,i,n){var s=new pi,o=or("span",{style:"display:inline-block; line-height: normal"});return r.bold&&(o.style.fontWeight="bold"),r.italic&&(o.style.fontStyle="italic"),void 0!==e&&(o.style.width=e.toString()+"px"),void 0!==i&&(o.style.height=i.toString()+"px"),void 0!==n&&(o.style.maxWidth=n.toString()+"px"),o.style.fontFamily=r.fontFamily,o.style.fontSize=r.fontSize+"px",o.style.color=r.color,o.textContent=t,o.style.whiteSpace=B4(r.whiteSpace,r.textWrapping),o.style.wordBreak=void 0!==n?"break-word":ak(r.textWrapping),document.body.appendChild(o),s.width=o.offsetWidth,s.height=o.offsetHeight,document.body.removeChild(o),s}function FX(r,t,e,i){var h,o=0,a=0,l=!1,u=t;return(0!==u.x||0!==u.y)&&(o=0-Number(u.x),a=0-Number(u.y)),(r.actualSize.width!==u.width||r.actualSize.height!==u.height||i)&&(o=(i&&i.width||r.actualSize.width)/Number(u.width?u.width:1),a=(i&&i.height||r.actualSize.height)/Number(u.height?u.height:1),l=!0),h=oL(aL(_w(r.data)),o,a,l,u.x,u.y,0,0),l=!1,h}function k4(r){return es(r).getElementsByClassName("e-diagram-layer")[0]}function es(r,t){var i;return t&&(i=document.getElementById(t)),"msie"===Ue.info.name||"edge"===Ue.info.name?i?i.querySelector("#"+r):document.getElementById(r):i?i.querySelector("#"+CSS.escape(r)):document.getElementById(r)}function tye(r,t,e){var n,i=void 0,s="";"native"===e?(n=function UX(r){return jX(r).getElementById(r+"_nativeLayer")}(r),s="_content_groupElement"):"html"===e?(n=fu(r).childNodes[0],s="_html_element"):(n=function iye(r){return k4(r).getElementById(r+"_diagramLayer")}(r),s="_groupElement");for(var o,a=0;n.childNodes&&a<n.childNodes.length;a++)if((o=n.childNodes[a])&&o.id===t+s){i=a;break}return i}function $f(r){return es(r).getElementsByClassName("e-adorner-layer")[0]}function bD(r){return $f(r).getElementById(r+"_SelectorElement")}function N4(r){return $f(r).getElementById(r+"_diagramAdorner")}function P4(r){return es(r).getElementsByClassName("e-userHandle-layer")[0]}function jX(r){return es(r).getElementsByClassName("e-native-layer")[0]}function jb(r){return es(r).getElementsByClassName("e-grid-layer")[0]}function _4(r){return es(r).getElementsByClassName("e-background-layer")[0].parentNode}function HX(r){return es(r).getElementsByClassName("e-background-layer")[0]}function fu(r){var t=null,e="domTable";return window[e][r+"html_layer"]?t=window[e][r+"html_layer"]:(t=es(r).getElementsByClassName("e-html-layer")[0],window[e][r+"html_layer"]=t),t}function or(r,t){var e=Lr(r);return Gd(e,t),e}function js(r,t){var e=document.createElementNS("http://www.w3.org/2000/svg",r);return ts(e,t),e}function VX(r,t,e){for(var i=r;i&&!(e?i.id===t:CD(i,t));)i=i.parentNode;return i}function CD(r,t){return(" "+("object"==typeof r.className?r.className.animVal:r.className)+" ").indexOf(" "+t+" ")>-1}function WX(r,t,e){r=[];for(var i=0,n=e.length;i<n;i++)r.push({pageX:e[parseInt(i.toString(),10)].clientX,pageY:e[parseInt(i.toString(),10)].clientY,pointerId:null});return r}function Xa(r,t){var e=es(r,t);e&&e.parentNode.removeChild(e)}function Hb(r,t,e){var i;i=t?or("div",{style:"height: 100%; width: 100%"}):document.createElementNS("http://www.w3.org/2000/svg","g");var l,s=function Eme(r){var t=document.getElementById(r.diagramId),e="ej2_instances",i=t[""+e][0].nodes;void 0===i&&(i=function Ame(r){for(var t=[],e=0;e<r.palettes.length;e++)for(var i=r.palettes[parseInt(e.toString(),10)].symbols,n=0;n<i.length;n++)i[parseInt(n.toString(),10)]instanceof Et&&t.push(i[parseInt(n.toString(),10)]);return t}(t[""+e][0]));for(var n="length",s=0;i&&s<i[""+n];s++)if(i[parseInt(s.toString(),10)].id===r.nodeId)return wX(i[parseInt(s.toString(),10)],r);var o=t[""+e][0].connectors;for(s=0;o&&s<o[""+n];s++)if(o[parseInt(s.toString(),10)].id===r.nodeId)return wX(o[parseInt(s.toString(),10)],r);var a=t[e][0].enterObject;return a&&(a.id===r.nodeId||a.children)?a.children&&XL(a,"HTML",t[""+e][0].enterTable)?t[""+e][0].enterTable[r.nodeId]:a:null}(r),o="",a={};if(s instanceof Et){if(a=s,"Native"===s.shape.type){var h,c=document.createElementNS("http://www.w3.org/2000/svg","svg");document.body.appendChild(c),c.innerHTML=s.shape.content,h=c.getElementsByTagName("svg").length>0?c.getElementsByTagName("svg")[0].outerHTML:c.getElementsByTagName("g").length>0?c.getElementsByTagName("g")[0].outerHTML:"",s.shape.content=h,r.content=h,c.parentElement.removeChild(c)}ge()&&(o="diagramsf_node_template",a=Rt(s)),l="nodeTemplate"}else a=s,ge()&&(a=Rt(s),o="diagramsf_annotation_template"),l="annotationTemplate";var f=document.getElementById(r.diagramId).ej2_instances[0];if("string"!=typeof r.content&&"function"!=typeof r.content||r.isTemplate&&!ge())if(r.isTemplate){if(M=void 0,M=f.isReact?r.getNodeTemplate()(rt(e),f,l+"_"+("nodeTemplate"===l?e.id:r.nodeId+e.id),void 0,void 0,!1,i):f.isVue||f.isVue3?r.getNodeTemplate()?r.getNodeTemplate()(rt(e),f,l+"_"+("nodeTemplate"===l?e.id:r.nodeId+e.id),void 0,void 0,!1,i):(M=wn("nodeTemplate"===l?f.nodeTemplate:f.annotationTemplate))(rt(e),f,l+"_"+("nodeTemplate"===l?e.id:r.nodeId+e.id),void 0,void 0,!1,i):r.getNodeTemplate()(rt(e),f,l+"_"+("nodeTemplate"===l?e.id:r.nodeId+e.id),void 0,void 0,!1))for(var Y=0;Y<M.length;Y++)i.appendChild(M[parseInt(Y.toString(),10)])}else i.appendChild(r.content);else{var m=document.getElementById(r.content);if(m)i.appendChild(m);else for(var M=void 0,T=0,P=(M=wn(r.content))(a,f,l,o);T<P.length;T++)i.appendChild(P[T])}return r.isTemplate?i:i.cloneNode(!0)}function ts(r,t){for(var e=Object.keys(t),i=0;i<e.length;i++)r&&"style"!==e[parseInt(i.toString(),10)]?r.setAttribute(e[parseInt(i.toString(),10)],t[e[parseInt(i.toString(),10)]]):Jp(r,t[e[parseInt(i.toString(),10)]])}function Jp(r,t){for(var e=t.split(";"),i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)].split(":");2===n.length&&(r.style[n[0].trim()]=n[1].trim())}}function Gd(r,t){for(var e=Object.keys(t),i=0;i<e.length;i++)"style"!==e[parseInt(i.toString(),10)]?r.setAttribute(e[parseInt(i.toString(),10)],t[e[parseInt(i.toString(),10)]]):Jp(r,t[e[parseInt(i.toString(),10)]])}function YX(){var r="measureElement";if(window[""+r])window[""+r].usageCount+=1;else{var t=or("div",{id:"measureElement",style:"visibility:hidden ; height: 0px ; width: 0px; overflow: hidden;"}),e=or("span",{style:"display:inline-block ; line-height: normal"});t.appendChild(e);var i=or("img",{alt:"measureElementImage",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"});t.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.appendChild(n);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",""),n.appendChild(s),document.createTextNode("");var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.appendChild(a),window[""+r]=t,window[""+r].usageCount=1,document.body.appendChild(t);var l="measureElementCount";window[""+l]?window[""+l]++:window[""+l]=1}}function GX(r,t,e,i){return t.length>=1&&0===r.x&&("Clip"===i.textOverflow||"Ellipsis"===i.textOverflow)&&("Wrap"===i.textWrapping||"WrapWithOverflow"===i.textWrapping)&&(r.x=t[e-1]?t[e-1].x:-r.width/2),r.x}function XX(r,t,e,i){return e&&!t.template||t.template&&"function"==typeof t.template&&i.isReact?(r.isTemplate=!0,r.template=r.content=Hb(r,!0,t)):r.content=t.template,r}function kn(){for(var e,t="",i=0;i<5;i++){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint16Array(1);e=(window.msCrypto||window.crypto).getRandomValues(n)[0]%60}else e=Math.floor(61*Math.random());0===i&&e<10?i--:t+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(e,e+1)}return t}function R4(r,t){if(r.nodes&&r.nodes.length>0)for(var e=0;e<r.nodes.length;e++)if(r.nodes[parseInt(e.toString(),10)].id===t)return e;if(r.connectors&&r.connectors.length>0)for(e=0;e<r.connectors.length;e++)if(r.connectors[parseInt(e.toString(),10)].id===t)return e;return null}function QX(r){if(r)try{return"function"!=typeof r&&document.querySelectorAll(r).length?wn(document.querySelector(r).innerHTML.trim()):wn(r)}catch{return wn(r)}}function gl(r){new Xi;var e=r.offsetY-r.actualSize.height*r.pivot.y,i=r.offsetY+r.actualSize.height*(1-r.pivot.y),n=r.offsetX-r.actualSize.width*r.pivot.x,s=r.offsetX+r.actualSize.width*(1-r.pivot.x);return Xi.toBounds([{x:n,y:e},{x:s,y:e},{x:n,y:i},{x:s,y:i}])}function Fo(r){var t=new Xi,e=gl(r),i=e.middleLeft,n=e.topCenter,s=e.bottomCenter,o=e.middleRight,a=e.topLeft,l=e.topRight,h=e.bottomLeft,c=e.bottomRight;if(r.corners={topLeft:a,topCenter:n,topRight:l,middleLeft:i,middleRight:o,bottomLeft:h,bottomCenter:s,bottomRight:c},0!==r.rotateAngle||0!==r.parentTransform){var u=Bs();to(u,r.rotateAngle+r.parentTransform,r.offsetX,r.offsetY),r.corners.topLeft=a=xn(u,a),r.corners.topCenter=n=xn(u,n),r.corners.topRight=l=xn(u,l),r.corners.middleLeft=i=xn(u,i),r.corners.middleRight=o=xn(u,o),r.corners.bottomLeft=h=xn(u,h),r.corners.bottomCenter=s=xn(u,s),r.corners.bottomRight=c=xn(u,c)}return t=Xi.toBounds([a,l,h,c]),r.corners.left=t.left,r.corners.right=t.right,r.corners.top=t.top,r.corners.bottom=t.bottom,r.corners.center=t.center,r.corners.width=t.width,r.corners.height=t.height,t}function rt(r,t,e,i){var n={},s="properties";if(r){e=r.propName;var l=[],h=[];if((l=l.concat(Object.keys(r[""+s]||r))).push("version"),e){var c=ho(t);h=c?c(e):[],l=l.concat(h)}var u=function hye(r){switch(r){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"];case"layers":return["objectZIndex"]}return[]}(e);l=l.concat(u),i&&(l=function lye(r,t){var e=[];return t instanceof Et?e=["width","height","offsetX","offsetY","container","visible","horizontalAlignment","verticalAlignment","backgroundColor","borderColor","borderWidth","rotateAngle","minHeight","minWidth","maxHeight","maxWidth","pivot","margin","flip","wrapper","constraints","style","annotations","ports","isExpanded","expandIcon"]:t instanceof Gt?e=["constraints","sourcePadding","targetPadding","cornerRadius","flip","type","targetDecorator","sourceDecorator","sourceID","shape","bridgeSpace","annotations","segments","hitPadding","tooltip","previewSize","dragSize","style","sourcePortID","targetID","targetPortID","visible"]:t instanceof h4?e=["height","width","shape","style","pivot","pathData"]:t instanceof Ju||t instanceof KL?(e.push("shape"),t instanceof mD?e.push("cornerRadius"):t instanceof Text?e.push("margin"):t instanceof Image?(e.push("align"),e.push("scale")):t instanceof Ww?e.push("scale"):t instanceof tk?(e.push("activity"),e.push("annotations")):t instanceof KL&&(e.push("borderColor"),e.push("borderWidth"),e.push("cornerRadius"),e.push("fill"))):t instanceof ek?e.push("subProcess"):t instanceof LX?(e.push("call"),e.push("compensation"),e.push("loop")):t instanceof kX?(e.push("adhoc"),e.push("boundary"),e.push("compensation"),e.push("loop"),e.push("processes")):t instanceof mL?(e.push("height"),e.push("width"),e.push("visibility"),e.push("horizontalAlignment"),e.push("verticalAlignment"),e.push("shape")):t instanceof bL?(e.push("constraints"),e.push("height"),e.push("horizontalAlignment"),e.push("rotateAngle"),e.push("template"),e.push("verticalAlignment"),e.push("visibility"),e.push("width"),e.push("margin")):t instanceof _l?(e.push("left"),e.push("right"),e.push("top"),e.push("bottom")):t instanceof Eb&&(e=["strokeWidth","strokeDashArray","opacity","gradient","fontSize","fontFamily","textOverflow","textDecoration","whiteSpace","textWrapping","textAlign","italic","bold"]),t instanceof wy&&(e.push("strokeColor"),e.push("color")),r.concat(e)}(l,r));for(var d=0,p=l;d<p.length;d++){var f=p[d];"historyManager"!==f&&("wrapper"!==f?r[""+f]&&r.hasOwnProperty("observers")||(n[""+f]=r[""+f]instanceof Array?cye(-1===u.indexOf(f)&&r[""+s]?r[""+s][""+f]:r[""+f],t,f,i):!(r[""+f]instanceof Array)&&r[""+f]instanceof HTMLElement?r[""+f].cloneNode(!0).innerHtml:!(r[""+f]instanceof Array)&&r[""+f]instanceof Object?rt(-1===u.indexOf(f)&&r[""+s]?r[""+s][""+f]:r[""+f],void 0,void 0,i):r[""+f]):r[""+f]&&(n[""+f]={actualSize:{width:r[""+f].actualSize.width,height:r[""+f].actualSize.height},offsetX:r[""+f].offsetX,offsetY:r[""+f].offsetY}))}}return n}function cye(r,t,e,i){var n;if(r){n=[];for(var s=0;s<r.length;s++)r[parseInt(s.toString(),10)]instanceof Array?n.push(r[parseInt(s.toString(),10)]):r[parseInt(s.toString(),10)]instanceof Object?n.push(rt(r[parseInt(s.toString(),10)],t,e,i)):n.push(r[parseInt(s.toString(),10)])}return n}function ok(r,t){var e="properties";if(r){t||(t={properties:{}});for(var i=0,n=Object.keys(r);i<n.length;i++){var s=n[i];if(r[""+s]instanceof Array){var o=z4(r[""+s],t[""+e][""+s]);(!t[""+e][""+s]||!t[""+e][""+s].length)&&(t[""+s]=o)}else if(!(r[""+s]instanceof Array)&&r[""+s]instanceof HTMLElement)t[""+s]=r[""+s].cloneNode(!0).innerHtml;else if(!(r[""+s]instanceof Array)&&r[""+s]instanceof Object){var a=ok(r[""+s],t[""+e][""+s]);a[""+e]&&!Object.keys(a[""+e]).length&&delete a[""+e],t[""+s]=a}else t[""+s]=void 0!==t[""+e][""+s]?t[""+s]:r[""+s]}}return t}function z4(r,t){var e=[],i=!1;t||(t=[]),t.length||(i=!0);for(var n=0;n<r.length;n++)if(r[parseInt(n.toString(),10)]instanceof Array)z4(r[parseInt(n.toString(),10)],t[parseInt(n.toString(),10)]),i&&e.push(z4);else if(r[parseInt(n.toString(),10)]instanceof Object){var o=ok(r[parseInt(n.toString(),10)],t[parseInt(n.toString(),10)]);i&&e.push(o)}else e.push(r[parseInt(n.toString(),10)]);return e}function $X(r){var t="";switch(r){case"Center":t="center";break;case"Left":t="left";break;case"Right":t="right"}return t}function ak(r){var t="";switch(r){case"Wrap":t="breakall";break;case"NoWrap":t="keepall";break;case"WrapWithOverflow":t="normal";break;case"LineThrough":t="line-through"}return t}function Ny(r,t){var e="measureElement";window[""+e].style.visibility="visible";var n=L4(window[""+e].children[2])[1];n.textContent=r,Jp(n,"font-size:"+t.fontSize+"px; font-family:"+t.fontFamily+";font-weight:"+(t.bold?"bold":"normal"));var s=n.getBBox().width;return window[""+e].style.visibility="hidden",s}function uye(r,t){return(r+t)/2}function qX(r,t){var i,e=0,n=0,s=0,o="";i=r.length;var a=0;do{s>0&&(e=n),n=Math.floor(uye(e,i)),s=Ny(o+=r.substr(e,n),t)}while(s<=t.width);for(o=o.substr(0,e),a=e;a<i;a++)if((s=Ny(o+=r[parseInt(a.toString(),10)],t))>=t.width){r=r.substr(0,o.length-1);break}return"Ellipsis"===t.textOverflow?(r=r.substr(0,r.length-3),r+="..."):r=r.substr(0,r.length),r}function B4(r,t){if("NoWrap"===t&&"PreserveAll"===r)return"pre";var e="";switch(r){case"CollapseAll":e="nowrap";break;case"CollapseSpace":e="pre-line";break;case"PreserveAll":e="pre-wrap"}return e}function F4(r,t){var e=Bs();to(e,t,0,0);var i=xn(e,{x:0,y:0}),n=xn(e,{x:r.width,y:0}),s=xn(e,{x:0,y:r.height}),o=xn(e,{x:r.width,y:r.height}),a=Math.min(i.x,n.x,s.x,o.x),l=Math.min(i.y,n.y,s.y,o.y),h=Math.max(i.x,n.x,s.x,o.x),c=Math.max(i.y,n.y,s.y,o.y);return new pi(h-a,c-l)}function uc(r,t,e,i){if(0!==r){var n=Bs();return to(n,r,t,e),xn(n,i)}return i}function ho(r){return void 0!==r&&"string"==typeof r&&(r=Xe(r,window)),r}var gu=function(){function r(){}return r.getContext=function(t){return t.getContext("2d")},r.setCanvasSize=function(t,e,i){t&&(t.setAttribute("width",e.toString()),t.setAttribute("height",i.toString()))},r.prototype.renderGradient=function(t,e,i,n){var s,o,a;if("None"!==t.gradient.type){for(var l=0;l<t.gradient.stops.length;l++)s=void 0!==s?t.gradient.stops[parseInt(l.toString(),10)].offset:Math.max(s,t.gradient.stops[parseInt(l.toString(),10)].offset),o=void 0!==o?t.gradient.stops[parseInt(l.toString(),10)].offset:Math.min(o,t.gradient.stops[parseInt(l.toString(),10)].offset);if("Linear"===t.gradient.type){var h=t.gradient;a=e.createLinearGradient(i+h.x1,n+h.y1,i+h.x2,n+h.y2)}else{var c=t.gradient;a=e.createRadialGradient(i+c.fx,n+c.fy,0,i+c.cx,n+c.cy,c.r)}for(l=0;l<t.gradient.stops.length;l++){var u=t.gradient.stops[parseInt(l.toString(),10)];a.addColorStop(o<0?(s+u.offset)/(2*s):u.offset/s,u.color)}e.fillStyle=a}return e},r.prototype.renderShadow=function(t,e,i){void 0===i&&(i=null);var n=r.getContext(e);n.save(),n.beginPath(),n.strokeStyle=n.fillStyle=t.shadow.color,n.globalAlpha=t.shadow.opacity;var o=Be.transform({x:0,y:0},t.shadow.angle,t.shadow.distance),a=t.x+o.x,l=t.y+o.y;this.rotateContext(e,t.angle,a+t.width*t.pivotX,l+t.height*t.pivotY),i?(n.translate(a,l),this.renderPath(e,t,i),n.translate(-a,-l)):(n.rect(a,l,t.width,t.height),n.fillRect(a,l,t.width,t.height)),n.fill(),n.stroke(),n.closePath(),n.restore()},r.createCanvas=function(t,e,i){var n=or("canvas",{id:t});return this.setCanvasSize(n,e,i),n},r.prototype.setStyle=function(t,e){var i=r.getContext(t);"none"===e.fill&&(e.fill="transparent"),"none"===e.stroke&&(e.stroke="transparent"),i.strokeStyle=e.stroke,i.lineWidth=e.strokeWidth,0===e.strokeWidth&&(i.strokeStyle="transparent"),i.globalAlpha=e.opacity;var n=[];e.dashArray&&(n=this.parseDashArray(e.dashArray)),i.setLineDash(n),e.gradient&&"None"!==e.gradient.type?"Rectangle"===e.shapeType?this.renderGradient(e,i,e.x,e.y):this.renderGradient(e,i,0,0):i.fillStyle=e.fill},r.prototype.rotateContext=function(t,e,i,n){var s=r.getContext(t);s.translate(i,n),s.rotate(e*Math.PI/180),s.translate(-i,-n)},r.prototype.setFontStyle=function(t,e){var i=r.getContext(t),n="";e.italic&&(n+="italic "),e.bold&&(n+="bold "),n+=e.fontSize+"px ",i.font=n+=e.fontFamily},r.prototype.parseDashArray=function(t){for(var e=[],i=-1!==t.indexOf(" ")?" ":",",s=0,o=t.split(i);s<o.length;s++)e.push(Number(o[s]));return e},r.prototype.drawRoundedRect=function(t,e){var i=r.getContext(t);i.beginPath();var n=e.x,s=e.y,o=e.width,a=e.height,l=n+o/2,h=s+a/2;i.beginPath(),this.setStyle(t,e),i.moveTo(n,h),i.quadraticCurveTo(n,s,l,s),i.quadraticCurveTo(n+o,s,n+o,h),i.quadraticCurveTo(n+o,s+a,l,s+a),i.quadraticCurveTo(n,s+a,n,h),i.stroke()},r.prototype.drawRectangle=function(t,e,i,n){if(!0===e.visible)if(e.cornerRadius)!n&&(e.width<30||e.height<30)?this.drawRoundedRect(t,e):(e.data=function cfe(r,t,e){var h,c,u,s="",o=[{x:0+r,y:0},{x:0+e-r,y:0},{x:0+e,y:0+r},{x:0+e,y:0+t-r},{x:0+e-r,y:0+t},{x:0+r,y:0+t},{x:0,y:0+t-r},{x:0,y:0+r}],a=[{x:0+e,y:0},{x:0+e,y:0+t},{x:0,y:0+t},{x:0,y:0}],l=0;for(s="M"+o[0].x+" "+o[0].y,u=0;u<o.length;u+=2)s+="L"+(h=o[u+1]).x+" "+h.y,c=o[u+2]||o[0],s+="Q"+a[parseInt(l.toString(),10)].x+" "+a[parseInt(l.toString(),10)].y+" "+c.x+" "+c.y,l++;return s}(e.cornerRadius,e.height,e.width),this.drawPath(t,e));else{var s=r.getContext(t);e.shadow&&this.renderShadow(e,t),s.save(),s.beginPath(),this.rotateContext(t,e.angle,e.x+e.width*e.pivotX,e.y+e.height*e.pivotY),this.setStyle(t,e),s.rect(e.x,e.y,e.width,e.height),s.fillRect(e.x,e.y,e.width,e.height),s.fill(),s.stroke(),s.closePath(),s.restore()}},r.prototype.drawPath=function(t,e){var i=[];i=LY(i=_w(e.data)),e.shadow&&this.renderShadow(e,t,i);var n=r.getContext(t);n.save(),n.beginPath();var s=e.y+e.height*e.pivotY,o=e.x+e.width*e.pivotX;"Horizontal"===e.flip||"Vertical"===e.flip?(n.translate(e.x+e.width/2,e.y+e.height/2),n.rotate(-e.angle*Math.PI/180),n.translate(-e.x-e.width/2,-e.y-e.height/2)):this.rotateContext(t,e.angle,o,s),this.setStyle(t,e),n.translate(e.x,e.y),"Horizontal"===e.flip?(n.scale(-1,1),n.translate(-1*e.width,0)):"Vertical"===e.flip?(n.scale(1,-1),n.translate(0,-1*e.height)):"Both"===e.flip&&(n.scale(-1,-1),n.translate(-1*e.width,-1*e.height)),this.renderPath(t,e,i),n.fill(),n.translate(-e.x,-e.y),n.stroke(),n.restore()},r.prototype.renderPath=function(t,e,i){if(!0===e.visible){var p,n=r.getContext(t),s=void 0,o=void 0,a=void 0,l=void 0,h=void 0,c=void 0,u=void 0,d=void 0,f=void 0,m=i;for(u=0,d=0,f=0,p=m.length;f<p;++f){var T=m[parseInt(f.toString(),10)];switch("x1"in T&&(a=T.x1),"x2"in T&&(h=T.x2),"y1"in T&&(l=T.y1),"y2"in T&&(c=T.y2),"x"in T&&(u=T.x),"y"in T&&(d=T.y),T.command){case"M":n.moveTo(u,d),T.x=u,T.y=d;break;case"L":n.lineTo(u,d),T.x=u,T.y=d;break;case"C":n.bezierCurveTo(a,l,h,c,u,d),T.x=u,T.y=d,T.x1=a,T.y1=l,T.x2=h,T.y2=c;break;case"Q":n.quadraticCurveTo(a,l,u,d),T.x=u,T.y=d,T.x1=a,T.y1=l;break;case"A":var U={x:s,y:o},Y=T.r1,X=T.r2,Q=T.angle*(Math.PI/180),oe=T.largeArc,de=T.sweep,Me={x:u,y:d},Ve={x:Math.cos(Q)*(U.x-Me.x)/2+Math.sin(Q)*(U.y-Me.y)/2,y:-Math.sin(Q)*(U.x-Me.x)/2+Math.cos(Q)*(U.y-Me.y)/2},Ce=Math.pow(Ve.x,2)/Math.pow(Y,2)+Math.pow(Ve.y,2)/Math.pow(X,2);Ce>1&&(Y*=Math.sqrt(Ce),X*=Math.sqrt(Ce));var ze=Math.pow(X,2)*Math.pow(Ve.x,2),Ie=(oe===de?-1:1)*Math.sqrt((Math.pow(Y,2)*Math.pow(X,2)-Math.pow(Y,2)*Math.pow(Ve.y,2)-ze)/(Math.pow(Y,2)*Math.pow(Ve.y,2)+Math.pow(X,2)*Math.pow(Ve.x,2)));isNaN(Ie)&&(Ie=0);var pe={x:Ie*Y*Ve.y/X,y:Ie*-X*Ve.x/Y},Pe={x:(U.x+Me.x)/2+Math.cos(Q)*pe.x-Math.sin(Q)*pe.y,y:(U.y+Me.y)/2+Math.sin(Q)*pe.x+Math.cos(Q)*pe.y},Qe=this.a([1,0],[(Ve.x-pe.x)/Y,(Ve.y-pe.y)/X]),Oe=[(Ve.x-pe.x)/Y,(Ve.y-pe.y)/X],Ye=[(-Ve.x-pe.x)/Y,(-Ve.y-pe.y)/X],ut=this.a(Oe,Ye);if(this.r(Oe,Ye)<=-1&&(ut=Math.PI),this.r(Oe,Ye)>=1&&(ut=0),T.centp=Pe,T.xAxisRotation=Q,T.rx=Y,T.ry=X,T.a1=Qe,T.ad=ut,T.sweep=de,null!=n){var Xt=Y>X?Y:X,ni=Y>X?1:Y/X,ui=Y>X?X/Y:1;n.save(),n.translate(Pe.x,Pe.y),n.rotate(Q),n.scale(ni,ui),n.arc(0,0,Xt,Qe,Qe+ut,!de),n.scale(1/ni,1/ui),n.rotate(-Q),n.translate(-Pe.x,-Pe.y),n.restore()}break;case"Z":case"z":n.closePath(),u=s,d=o}s=u,o=d}}},r.prototype.drawText=function(t,e,i,n,s,o,a){if(e.content&&!0===e.visible){var l=r.getContext(t);l.save(),this.setStyle(t,e),o&&(e.fontSize*=o),this.rotateContext(t,e.angle,e.x+e.width*e.pivotX,e.y+e.height*e.pivotY),this.setFontStyle(t,e);var d,u=0;d=e.childNodes;var p=e.wrapBounds;if(l.fillStyle=e.color,p){var f=this.labelAlign(e,p,d);for(u=0;u<d.length;u++){var m=d[parseInt(u.toString(),10)];m.x=GX(m,d,u,e);var M=f.x+(o?m.x*o:m.x)-p.x,T=f.y+(o?m.dy*o:m.dy)*u+.8*e.fontSize;if(p.width>e.width&&"Wrap"!==e.textOverflow&&"NoWrap"===e.textWrapping&&(m.text=qX(m.text,e)),"Clip"!==e.textOverflow&&"Ellipsis"!==e.textOverflow||"Wrap"!==e.textWrapping?l.fillText(m.text,M,T):T<a.actualSize.height+a.bounds.y&&("Ellipsis"===e.textOverflow&&d[u+1]&&f.y+d[u+1].dy*(u+1)+.8*e.fontSize>a.actualSize.height+a.bounds.y&&(m.text=m.text.slice(0,m.text.length-3),m.text=m.text.concat("...")),l.fillText(m.text,M,T)),"Underline"===e.textDecoration||"Overline"===e.textDecoration||"LineThrough"===e.textDecoration){var Y=M,X=void 0,oe=M+l.measureText(m.text).width,de=void 0;switch(e.textDecoration){case"Underline":X=T+2,de=T+2;break;case"Overline":X=f.y+m.dy*u,de=f.y+m.dy*u;break;case"LineThrough":X=(T+f.y+m.dy*u)/2+2,de=(T+f.y+m.dy*u)/2+2}l.beginPath(),l.moveTo(Y,X),l.lineTo(oe,de),l.strokeStyle=e.color,l.lineWidth=.08*e.fontSize,l.globalAlpha=e.opacity,l.stroke()}}}l.restore()}},r.prototype.loadImage=function(t,e,i,n,s){this.rotateContext(i,e.angle,n,s);var o=new Image;o.src=e.source,this.image(t,o,e.x,e.y,e.width,e.height,e)},r.prototype.drawImage=function(t,e,i,n){var s=this;if(e.visible){var o=r.getContext(t);o.save();var a=e.x+e.width*e.pivotX,l=e.y+e.height*e.pivotY,h=new Image;h.src=e.source,o.canvas.id.split("_"),n?h.onload=function(){s.loadImage(o,e,t,a,l)}:this.loadImage(o,e,t,a,l),o.restore()}},r.prototype.image=function(t,e,i,n,s,o,a){t.beginPath();var l=e.width,h=e.height,c=s,u=o,d=0,p=0;if(a&&"None"!==a.alignment){var f=a.alignment.toLowerCase().substr(1,3),m=a.alignment.toLowerCase().substr(5,3);if("Slice"===a.scale){var M=function(){d=c,p=h*c/l},T=function(){d=l*u/h,p=u};c>u?(M(),u>p&&T()):c===u?l>h?T():M():(T(),c>d&&M());var P=this.getSliceOffset(f,d,c,l),U=this.getSliceOffset(m,p,u,h),Y=l-P,X=h-U,Q=d-P*(d/l),oe=p-U*(p/h),de=or("canvas",{width:s.toString(),height:o.toString()});de.getContext("2d").drawImage(e,P,U,Y,X,0,0,Q,oe),t.drawImage(de,i,n,s,o)}else if("Meet"===a.scale){var Ve=h/l,Ce=u/c;p=Ce>Ve?c*Ve:u,i+=this.getMeetOffset(f,d=Ce>Ve?c:u/Ve,c),n+=this.getMeetOffset(m,p,u),t.drawImage(e,0,0,l,h,i,n,d,p)}else t.drawImage(e,i,n,s,o)}else if("None"!==a.flip){var ze=1,Ie=1;("Horizontal"===a.flip||"Both"===a.flip)&&(i=-i,s=-s,ze=-1),("Vertical"===a.flip||"Both"===a.flip)&&(n=-n,o=-o,Ie=-1),t.scale(ze,Ie),t.drawImage(e,i,n,s,o)}else t.drawImage(e,i,n,s,o);t.closePath()},r.prototype.getSliceOffset=function(t,e,i,n){switch(t){case"min":default:return 0;case"mid":return(e-i)/2*n/e;case"max":return(e-i)*n/e}},r.prototype.getMeetOffset=function(t,e,i){var n=Math.max(e,i),s=Math.min(e,i);switch(t){case"min":default:return 0;case"mid":return(n-s)/2;case"max":return n-s}},r.prototype.m=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},r.prototype.r=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(this.m(t)*this.m(e))},r.prototype.a=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(this.r(t,e))},r.prototype.labelAlign=function(t,e,i){var n=new pi(e.width,i.length*(1.2*t.fontSize)),s={x:0,y:0},a=t.y,c=.5*t.width,u=.5*t.height;return"left"===t.textAlign?c=0:"center"===t.textAlign?c=e.width>t.width&&("Ellipsis"===t.textOverflow||"Clip"===t.textOverflow)&&"NoWrap"===t.textWrapping?0:.5*t.width:"right"===t.textAlign&&(c=1*t.width),s.x=t.x+c+(e?e.x:0),s.y=a+u-n.height/2,s},r}(),Gw=function(){function r(){}return r.prototype.renderShadow=function(t,e,i,n){void 0===i&&(i=null);var l,o=Be.transform({x:0,y:0},t.shadow.angle,t.shadow.distance);n&&(l=n.getElementById(e.id+"_shadow")),l||(l=document.createElementNS("http://www.w3.org/2000/svg",i?"path":"rect"),e.appendChild(l));var h={id:e.id+"_shadow",fill:t.shadow.color,stroke:t.shadow.color,opacity:t.shadow.opacity.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")translate("+(t.x+o.x)+","+(t.y+o.y)+")"};if(n){var c=n.getElementById(e.id);c&&c.insertBefore(l,c.firstChild)}ts(l,h),i?i&&this.renderPath(l,t,i):ts(l,{width:t.width,height:t.height})},r.prototype.parseDashArray=function(t){return[]},r.prototype.drawRectangle=function(t,e,i,n,s,o,a,l,h){var c,u,d,p;e.shadow&&!n&&this.renderShadow(e,t,void 0,o),c=e.id===t.id?e.id+"_container":e.id,o&&(u=o.getElementById(c)),(!u||s)&&(u=document.createElementNS("http://www.w3.org/2000/svg","rect"),t.appendChild(u)),o&&!e.shadow&&(d=o.getElementById(e.id+"_groupElement_shadow"))&&d.parentNode.removeChild(d),p=l?{id:c,x:e.x.toString(),y:e.y.toString(),width:e.width.toString(),height:e.height.toString(),visibility:e.visible?"visible":"hidden",transform:"rotate("+e.angle+","+(e.x+e.width/2)+","+(e.y+e.height/2)+")",rx:e.cornerRadius||0,ry:e.cornerRadius||0,opacity:e.opacity}:{id:c,x:e.x.toString(),y:e.y.toString(),width:e.width.toString(),height:e.height.toString(),visibility:e.visible?"visible":"hidden",transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")",rx:e.cornerRadius||0,ry:e.cornerRadius||0,opacity:e.opacity},a&&(p.role="img",p["aria-label"]=a);var f=e.class||"";h||(f.includes("e-diagram-resize-handle")||f.includes("e-diagram-endpoint-handle")||f.includes("e-diagram-bezier-control-handle"))&&(f+=" e-disabled"),e.class&&(p.class=f),a||(p["pointer-events"]="none"),ts(u,p),this.setSvgStyle(u,e,i)},r.prototype.updateSelectionRegion=function(t,e){var i;i=t.parentNode.getElementById(e.id);var n={id:e.id,x:e.x.toString(),y:e.y.toString(),width:e.width.toString(),height:e.height.toString(),transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")",class:"e-diagram-selected-region"};i||(i=document.createElementNS("http://www.w3.org/2000/svg","rect"),t.appendChild(i)),this.setSvgStyle(i,e),ts(i,n)},r.prototype.createGElement=function(t,e){return js(t,e)},r.prototype.drawLine=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","line");this.setSvgStyle(i,e);var n=e.x+e.width*e.pivotX,s=e.y+e.height*e.pivotY,o={id:e.id,x1:e.startPoint.x+e.x,y1:e.startPoint.y+e.y,x2:e.endPoint.x+e.x,y2:e.endPoint.y+e.y,stroke:e.stroke,"stroke-width":e.strokeWidth.toString(),opacity:e.opacity.toString(),transform:"rotate("+e.angle+" "+n+" "+s+")",visibility:e.visible?"visible":"hidden"};e.class&&(o.class=e.class),ts(i,o),t.appendChild(i)},r.prototype.drawCircle=function(t,e,i,n){var s=document.createElementNS("http://www.w3.org/2000/svg","circle");this.setSvgStyle(s,e);var o=e.class||"";i||(o+=" e-disabled");var a={id:e.id,cx:e.centerX,cy:e.centerY,r:e.radius,visibility:e.visible?"visible":"hidden",class:o};n&&(a.role="img",a["aria-label"]=n),s.style.display=e.visible?"block":"none",ts(s,a),t.appendChild(s)},r.prototype.drawPath=function(t,e,i,n,s,o,a){var h,c,l=[];l=LY(l=_w(e.data)),e.shadow&&this.renderShadow(e,t,l,s),s&&!e.shadow&&(h=s.getElementById(e.id+"_groupElement_shadow"))&&h.parentNode.removeChild(h),s&&(c=s.getElementById(e.id)),(!c||n)&&(c=document.createElementNS("http://www.w3.org/2000/svg","path"),t.appendChild(c)),this.renderPath(c,e,l);var u={};u=a?{id:e.id,transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")translate("+e.x+","+e.y+"),scale("+a+")",visibility:e.visible?"visible":"hidden",opacity:e.opacity}:{id:e.id,transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")translate("+e.x+","+e.y+")",visibility:e.visible?"visible":"hidden",opacity:e.opacity},o&&(u.role="img",u["aria-label"]=o),e.class&&(u.class=e.class),ts(c,u),this.setSvgStyle(c,e,i)},r.prototype.renderPath=function(t,e,i){var n,s,o,a,l,h,c,u,d=i,p="";for(l=0,h=0,u=0,c=d.length;u<c;++u){var m=d[parseInt(u.toString(),10)];switch("x1"in m&&(n=m.x1),"x2"in m&&(o=m.x2),"y1"in m&&(s=m.y1),"y2"in m&&(a=m.y2),"x"in m&&(l=m.x),"y"in m&&(h=m.y),m.command){case"M":p=p+"M"+l.toString()+","+h.toString()+" ";break;case"L":p=p+"L"+l.toString()+","+h.toString()+" ";break;case"C":p=p+"C"+n.toString()+","+s.toString()+","+o.toString()+","+a.toString()+",",p+=l.toString()+","+h.toString()+" ";break;case"Q":p=p+"Q"+n.toString()+","+s.toString()+","+l.toString()+","+h.toString()+" ";break;case"A":p=p+"A"+m.r1.toString()+","+m.r2.toString()+","+m.angle.toString()+",",p+=m.largeArc.toString()+","+m.sweep+","+l.toString()+","+h.toString()+" ";break;case"Z":case"z":p+="Z "}}t.setAttribute("d",p)},r.prototype.setSvgFontStyle=function(t,e){t.style.fontStyle=e.italic?"italic":"normal",t.style.fontWeight=e.bold?"bold":"normal",t.style.fontSize=e.fontSize.toString()+"px",t.style.fontFamily=e.fontFamily},r.prototype.drawText=function(t,e,i,n,s,o,a){if(void 0!==e.content){var l=void 0,h=void 0,c=void 0,u=void 0,d=void 0,p=void 0,f=0,m=0,M=0,T=void 0,P=void 0;if(i&&(T=i.getElementById(e.id+"_text")),T){if(e.doWrap)for(;T.firstChild;)T.removeChild(T.firstChild)}else if(e.doWrap=!0,T=document.createElementNS("http://www.w3.org/2000/svg","text"),"pre-wrap"===e.whiteSpace&&T.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a&&(P=document.getElementById(a.id+"_content_groupElement")),P&&a&&a.children&&a.children[0]instanceof fl){var U=this.createGElement("g",{id:n+"_groupElement"});P.appendChild(U),U.appendChild(T)}else t.appendChild(T);var Y=e.x+e.width*e.pivotX,X=e.y+e.height*e.pivotY,Q=0;if(e.doWrap||"Wrap"!==e.textOverflow){for(;T.firstChild;)T.removeChild(T.firstChild);for(this.setSvgStyle(T,e,s),this.setSvgFontStyle(T,e),l=document.createTextNode(e.content),u=this.svgLabelAlign(e,c=e.wrapBounds,h=e.childNodes),c.width>e.width&&"Wrap"!==e.textOverflow&&"NoWrap"===e.textWrapping&&(h[0].text=qX(e.content,e)),M=0;M<h.length;M++)if(p=document.createElementNS("http://www.w3.org/2000/svg","tspan"),l=document.createTextNode(h[parseInt(M.toString(),10)].text),(d=h[parseInt(M.toString(),10)]).x=GX(d,h,M,e),f=u.x+d.x-c.x,m=u.y+d.dy*M+.8*e.fontSize,"Clip"!==e.textOverflow&&"Ellipsis"!==e.textOverflow||"WrapWithOverflow"!==e.textWrapping&&"Wrap"!==e.textWrapping||!a)this.setText(T,p,d,l,f,m);else{var oe=e.isHorizontalLane?a.actualSize.width:a.actualSize.height;if(!(m<oe))break;"Ellipsis"===e.textOverflow&&h[M+1]&&u.y+h[M+1].dy*(M+1)+.8*e.fontSize>oe&&(d.text=d.text.slice(0,d.text.length-3),d.text=d.text.concat("..."),l.data=d.text),this.setText(T,p,d,l,f,m),Q+=d.dy}}Q&&e.isHorizontalLane&&(Y=e.parentOffsetX+e.pivotX,X=e.parentOffsetY+e.pivotY,e.y=e.parentOffsetY-Q*e.pivotY+.5),e.textDecoration&&"LineThrough"===e.textDecoration&&(e.textDecoration=ak(e.textDecoration));var Ve={id:e.id+"_text",fill:e.color,visibility:e.visible?"visible":"hidden","text-decoration":e.textDecoration,transform:"rotate("+e.angle+","+Y+","+X+")translate("+e.x+","+e.y+")",opacity:e.opacity};n&&(Ve.role="img",Ve["aria-label"]=n),ts(T,Ve)}},r.prototype.setText=function(t,e,i,n,s,o){ts(e,{x:s.toString(),y:o.toString()}),t.setAttribute("fill",i.text),e.appendChild(n),t.appendChild(e)},r.prototype.drawImage=function(t,e,i,n){var s;i&&(s=i.getElementById(e.id+"image")),s||(s=document.createElementNS("http://www.w3.org/2000/svg","image"),t.appendChild(s));var o=new Image;o.src=e.source;var a="None"!==e.scale?e.scale:"";ge()&&"None"===e.alignment&&"Stretch"===a&&(a="");var l=e.alignment,h=l.charAt(0).toLowerCase()+l.slice(1);"Stretch"!==a&&(h+=" "+a.charAt(0).toLowerCase()+a.slice(1)),ts(s,{id:e.id+"image",x:e.x.toString(),y:e.y.toString(),transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")",width:e.width.toString(),visibility:e.visible?"visible":"hidden",height:e.height.toString(),preserveAspectRatio:h,opacity:e.opacity.toString()}),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.src.toString())},r.prototype.drawHTMLContent=function(t,e,i,n,s){var o,a;if(e){var l=void 0,h=void 0,c=void 0;for(l=0;l<e.childNodes.length;l++)for(c=e.childNodes[parseInt(l.toString(),10)],h=0;h<c.childNodes.length;h++)if(c.childNodes[parseInt(h.toString(),10)].id===t.id+"_html_element"){o=c.childNodes[parseInt(h.toString(),10)];break}}if(!o){(a=e.querySelector("#"+t.id+"_html_element")||e.querySelector("#"+t.nodeId+"_html_element"))||(a=or("div",{id:t.nodeId+"_html_element",class:"foreign-object"})),o=or("div",{id:t.id+"_html_element",class:"foreign-object"});var p=!1;e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.parentNode&&e.parentNode.parentNode.parentNode.classList.contains("e-overview")&&(p=!0),o.appendChild(p?t.template.cloneNode(!0):t.isTemplate?t.template:t.template.cloneNode(!0)),void 0!==s&&e.childNodes.length>s&&e.insertBefore(o,e.childNodes[parseInt(s.toString(),10)]),a.appendChild(o),e.appendChild(a)}var f=gl(t).topLeft;o.setAttribute("style","height:"+t.actualSize.height+"px; width:"+t.actualSize.width+"px;left:"+f.x+"px; top:"+f.y+"px;position:absolute;transform:rotate("+(t.rotateAngle+t.parentTransform)+"deg);pointer-events:"+(n?"all":"none")+";visibility:"+(t.visible?"visible":"hidden")+";opacity:"+t.style.opacity+";")},r.prototype.drawNativeContent=function(t,e,i,n,s){var o,a;if(s&&(o=s.getElementById(t.id+"_native_element"),a=s.getElementById(t.id+"_clip")),!o){(o=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id",t.id+"_native_element"),o.appendChild(t.template.cloneNode(!0));var l=this.createGElement("g",{id:t.id+"_inner_native_element"});l.appendChild(o),e.appendChild(l)}a&&o.removeChild(a),o.setAttribute("style","visibility:"+(t.visible?"visible":"hidden")+";opacity:"+t.style.opacity+";"),this.setNativTransform(t,o,i,n),"Slice"===t.scale&&this.drawClipPath(t,o,i,n,s),ts(o,t.description?{role:"img","aria-label":t.description}:{})},r.prototype.setNativTransform=function(t,e,i,n){var s=0!==t.contentSize.width?t.contentSize.width:1,o=0!==t.contentSize.height?t.contentSize.height:1;e.setAttribute("transform","rotate("+t.parentTransform+","+t.offsetX+","+t.offsetY+") translate("+(t.offsetX-t.templatePosition.x*n/s-n*t.pivot.x)+","+(t.offsetY-t.templatePosition.y*i/o-i*t.pivot.y)+") scale("+n/s+","+i/o+")")},r.prototype.drawClipPath=function(t,e,i,n,s){var o=t.contentSize.width,a=t.contentSize.height,l=t.width/(n/o),h=t.height/(i/a),c=t.templatePosition.x+(t.width>=t.height?0:(o-l)/2),u=t.templatePosition.y+(t.height>=t.width?0:(a-h)/2),d=s.getElementById(t.id+"_clip");(d=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id",t.id+"_clip"),e.appendChild(d);var p=s.getElementById(t.id+"_clip_rect");return p=document.createElementNS("http://www.w3.org/2000/svg","rect"),d.appendChild(p),ts(p,{id:t.id+"_clip_rect",width:l.toString(),height:h.toString(),x:c.toString(),y:u.toString()}),fD()?e.setAttribute("clip-path","url("+location.protocol+"//"+location.host+location.pathname+"#"+t.id+"_clip)"):e.setAttribute("clip-path","url(#"+t.id+"_clip)"),e},r.prototype.renderGradient=function(t,e,i){var n,s,o,h,c,a=_4(i),l=a.getElementById(i+"gradient_pattern");if(l||(l=js("defs",{id:i+"gradient_pattern"}),a.insertBefore(l,a.firstChild)),bX(e.id),"None"!==t.gradient.type){for(var u=0;u<t.gradient.stops.length;u++)n=n?Math.max(n,t.gradient.stops[parseInt(u.toString(),10)].offset):t.gradient.stops[parseInt(u.toString(),10)].offset,s=s?Math.min(s,t.gradient.stops[parseInt(u.toString(),10)].offset):t.gradient.stops[parseInt(u.toString(),10)].offset;for("Linear"===t.gradient.type?((c=t.gradient).id=e.id+"_linear",o=this.createLinearGradient(c),l.appendChild(o)):((h=t.gradient).id=e.id+"_radial",o=this.createRadialGradient(h),l.appendChild(o)),u=0;u<t.gradient.stops.length;u++){var d=t.gradient.stops[parseInt(u.toString(),10)],p=s<0?(n+d.offset)/(2*n):d.offset/n,f=document.createElementNS("http://www.w3.org/2000/svg","stop");ts(f,{offset:p.toString(),style:"stop-color:"+d.color}),o.appendChild(f)}}return o},r.prototype.createLinearGradient=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return ts(e,{id:t.id,x1:t.x1+"%",y1:t.y1+"%",x2:t.x2+"%",y2:t.y2+"%"}),e},r.prototype.createRadialGradient=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return ts(e,{id:t.id,cx:t.cx+"%",cy:t.cy+"%",r:t.r+"%",fx:t.fx+"%",fy:t.fy+"%"}),e},r.prototype.setSvgStyle=function(t,e,i){if(e.canApplyStyle||void 0===e.canApplyStyle){"none"===e.fill&&(e.fill="transparent"),"none"===e.stroke&&(e.stroke="transparent");var n=[],s=void 0;if(e.dashArray&&(n=(new gu).parseDashArray(e.dashArray)),e.gradient&&"None"!==e.gradient.type&&i){var a=this.renderGradient(e,t,i);s=fD()?"url("+location.protocol+"//"+location.host+location.pathname+"#"+a.id+")":"url(#"+a.id+")"}else s=e.fill;e.stroke&&t.setAttribute("stroke",e.stroke),null!=e.strokeWidth&&t.setAttribute("stroke-width",e.strokeWidth.toString()),n&&t.setAttribute("stroke-dasharray",n.toString()||"none"),s&&t.setAttribute("fill",s)}},r.prototype.svgLabelAlign=function(t,e,i){var n=new pi(e.width,i.length*(1.2*t.fontSize)),s={x:0,y:0},c=.5*t.width,u=.5*t.height;return"left"===t.textAlign?c=0:"center"===t.textAlign?c=e.width>t.width&&("Ellipsis"===t.textOverflow||"Clip"===t.textOverflow)&&"NoWrap"===t.textWrapping?0:.5*t.width:"right"===t.textAlign&&(c=1*t.width),s.x=0+c+(e?e.x:0),s.y=1.2+u-n.height/2,s},r}(),Py=function(){function r(t,e,i){this.renderer=null,this.isSvgMode=!0,this.transform={x:0,y:0},this.diagramId=t,this.element=es(this.diagramId),this.svgRenderer=e,this.isSvgMode=i,this.renderer=i?new Gw:new gu}return r.prototype.setCursor=function(t,e){t.style.cursor=e},r.prototype.setLayers=function(){this.iconSvgLayer=this.element.getElementsByClassName("e-ports-expand-layer")[0],this.adornerSvgLayer=this.element.getElementsByClassName("e-adorner-layer")[0],this.nativeSvgLayer=this.element.getElementsByClassName("e-native-layer")[0],this.diagramSvgLayer=this.element.getElementsByClassName("e-diagram-layer")[0]},r.prototype.getAdornerLayer=function(){return N4(this.diagramId)},r.prototype.getParentSvg=function(t,e,i){return this.diagramId&&t&&t.id?t.id.split("_icon_content").length>1||t.id.split("_nodeport").length>1||t.elementActions&Na.ElementIsPort?this.iconSvgLayer:e&&"selector"===e?this.adornerSvgLayer:t instanceof fl?this.nativeSvgLayer:this.diagramSvgLayer:i},r.prototype.getParentElement=function(t,e,i,n){var s=e;if(i&&this.diagramId&&t&&t.id){t.id.split("_icon_content").length>1?(s=i.getElementById(this.diagramId+"_diagramExpander"),e=null):t.id.split("_nodeport").length>1?s=i.getElementById(this.diagramId+"_diagramPorts"):t instanceof fl?(s=i.getElementById(this.diagramId+"_nativeLayer"),e=null):t.elementActions&Na.ElementIsPort?(s=i.getElementById(this.diagramId+"_diagramPorts"),e=null):s=i.getElementById(this.diagramId+"_diagramLayer");var o=this.getGroupElement(t,e||s,n);s=o.g,o.svg&&(i=o.svg)}return{g:s,svg:i}},r.prototype.getGroupElement=function(t,e,i){var n,o,s=this.getParentSvg(t);if(e&&s){if(s&&!(n=s.getElementById(t.id+"_groupElement"))&&s!==this.nativeSvgLayer){var a=this.nativeSvgLayer;n=a.getElementById(t.id+"_groupElement"),o=a}n||(n=this.svgRenderer.createGElement("g",{id:t.id+"_groupElement"}),void 0!==i&&e.childNodes.length>i?e.insertBefore(n,e.childNodes[parseInt(i.toString(),10)]):e.appendChild(n))}return{g:n,svg:o}},r.prototype.renderElement=function(t,e,i,n,s,o,a,l,h,c,u){t instanceof Fh?(t.id=t.id?t.id:kn(),this.renderContainer(t,e,i,n,s,o,a,l,h,c,u)):t instanceof dL?this.renderImageElement(t,e,n,s,a):t instanceof Nn?this.renderPathElement(t,e,n,s,a,h,u):t instanceof Qr?this.renderTextElement(t,e,n,s,a,c):t instanceof fl?this.renderNativeElement(t,e,n,s,a):t instanceof Sh?this.renderHTMLElement(t,e,i,n,s,a,l):this.renderRect(t,e,n,s,h)},r.prototype.drawSelectionRectangle=function(t,e,i,n,s,o){var a={width:i*o.scale,height:n*o.scale,x:.5+(t=(t+o.tx)*o.scale),y:.5+(e=(e+o.ty)*o.scale),fill:"transparent",stroke:"gray",angle:0,pivotX:.5,pivotY:.5,strokeWidth:1,dashArray:"6 3",opacity:1,visible:!0,id:s.id+"_selected_region"},l=this.getAdornerLayer();this.svgRenderer.updateSelectionRegion(l,a)},r.prototype.renderHighlighter=function(t,e,i){var n=t.actualSize.width||2,s=t.actualSize.height||2,o=t.offsetX-n*t.pivot.x,a=t.offsetY-s*t.pivot.y;this.svgRenderer.drawRectangle(e,{width:n*i.scale,height:s*i.scale,x:o=(o+i.tx)*i.scale,y:a=(a+i.ty)*i.scale,fill:"transparent",stroke:"#8CC63F",angle:t.rotateAngle,pivotX:t.pivot.x,pivotY:t.pivot.y,strokeWidth:4,dashArray:"",opacity:1,cornerRadius:0,visible:!0,id:e.id+"_highlighter",class:"e-diagram-highlighter"},this.diagramId,void 0,void 0,e)},r.prototype.renderSelectionRectangle=function(t,e,i,n){var s=t.actualSize.width||2,o=t.actualSize.height||2,a=t.offsetX-s*t.pivot.x,l=t.offsetY-o*t.pivot.y,h={width:s*i.scale,height:o*i.scale,x:a=(a+i.tx)*i.scale,y:l=(l+i.ty)*i.scale,fill:"transparent",stroke:"#00cc00",angle:t.rotateAngle,pivotX:t.pivot.x,pivotY:t.pivot.y,strokeWidth:n?2:1,dashArray:"",opacity:1,cornerRadius:0,visible:!0,id:t.id+"_highlighter",class:"e-diagram-selection-indicator"},c=this.getParentSvg(t,"selector");this.svgRenderer.drawRectangle(e,h,this.diagramId,void 0,void 0,c)},r.prototype.renderSelectionLine=function(t,e,i,n){var s=this.getBaseAttributes(t,i);s.data=t.absolutePath,s.id=s.id+"_highlighter";var o=t.description?t.description:t.id;this.isSvgMode||(s.x=t.flipOffset.x?t.flipOffset.x:s.x,s.y=t.flipOffset.y?t.flipOffset.y:s.y),i&&(s.x=s.x*i.scale,s.y=s.y*i.scale),s.stroke="#00cc00",s.strokeWidth=n?2:1,s.class="e-diagram-selection-indicator";var a=this.getParentSvg(t,"selector");this.svgRenderer.drawPath(e,s,this.diagramId,void 0,a,o,i.scale)},r.prototype.renderStackHighlighter=function(t,e,i,n,s,o,a){var l=t.actualSize.width||2,h=t.offsetX-l*t.pivot.x,c=t.actualSize.height||2,u=t.offsetY-c*t.pivot.y;h=(h+i.tx)*i.scale;var d,p=t.bounds,f="";if(u=(u+i.ty)*i.scale,n)if(o){var M,T;d="M 0 0 L "+(2+(m=l*i.scale))+" 0 Z",M=t.actualSize.width/Number(p.width?p.width:1)*i.scale,T=t.actualSize.height/Number(p.height?p.height:1)*i.scale,f=oL(aL(_w("M7,4 L8,4 8,7 11,7 11,8 8,8 8,11 7,11 7,8 4,8 4,7 7,7 z M7.5,0.99999994C3.9160004,1 1,3.9160004 0.99999994,7.5 1,11.084 3.9160004,14 7.5,14 11.084,14 14,11.084 14,7.5 14,3.9160004 11.084,1 7.5,0.99999994 z M7.5,0 C11.636002,0 15,3.3639984 15,7.5 15,11.636002 11.636002,15 7.5,15 3.3640003,15 0,11.636002 0,7.5 0,3.3639984 3.3640003,0 7.5,0 z")),M+m+2,T-8,!1,p.x,p.y,0,0),s.y>=t.offsetY&&(u+=c)}else{var m;a&&s.y>=t.offsetY&&(u+=c),d="M -10 -10 L 0 0 Z M -10 10 L 0 0 Z M 0 0 L "+(m=l*i.scale)+" 0 Z M "+m+" 0 L "+(m+10)+" 10 Z L "+(m+10)+" -10 Z"}else d="M 10 -10 L 0 0 Z M -10 -10 L 0 0 Z M 0 0 L 0 "+(m=c*i.scale)+" Z M 0  "+m+" L -10  "+(m+10)+" Z L 10  "+(m+10)+" Z",s.x>=t.offsetX&&(h+=l);this.svgRenderer.drawPath(e,{data:d+f,width:l*i.scale,height:c*i.scale,x:h,y:u,fill:"transparent",stroke:"#8CC63F",angle:t.rotateAngle,pivotX:t.pivot.x,pivotY:t.pivot.y,strokeWidth:1,dashArray:"",opacity:1,visible:!0,id:e.id+"_stack_highlighter",class:"e-diagram-highlighter"},this.diagramId)},r.prototype.drawLine=function(t,e){this.svgRenderer.drawLine(t,e)},r.prototype.drawPath=function(t,e){this.svgRenderer.drawPath(t,e,this.diagramId)},r.prototype.renderResizeHandle=function(t,e,i,n,s,o,a,l,h,c,u){var d=t.offsetX-t.actualSize.width*t.pivot.x,p=t.offsetY-t.actualSize.height*t.pivot.y,f=t.actualSize.height,m=t.actualSize.width;!c&&i&ir.Rotate&&kL(this.rendererActions)&&!LG(this.rendererActions)&&(this.renderPivotLine(t,e,o,s,a),this.renderRotateThumb(t,e,o,s,a)),this.renderBorder(t,e,o,l,h,c);var M=t.actualSize.width*n,T=t.actualSize.height*n;!h&&kL(this.rendererActions)&&!LG(this.rendererActions)&&(M>=40&&T>=40&&(s&Bo.ResizeNorthWest&&this.renderCircularHandle("resizeNorthWest",t,d,p,e,Pa(s,"ResizeNorthWest"),i&ir.ResizeNorthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-diagram-resize-handle e-northwest",u),s&Bo.ResizeNorthEast&&this.renderCircularHandle("resizeNorthEast",t,d+m,p,e,Pa(s,"ResizeNorthEast"),i&ir.ResizeNorthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-diagram-resize-handle e-northeast",u),s&Bo.ResizeSouthWest&&this.renderCircularHandle("resizeSouthWest",t,d,p+f,e,Pa(s,"ResizeSouthWest"),i&ir.ResizeSouthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-diagram-resize-handle e-southwest",u),s&Bo.ResizeSouthEast&&this.renderCircularHandle("resizeSouthEast",t,d+m,p+f,e,Pa(s,"ResizeSouthEast"),i&ir.ResizeSouthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-diagram-resize-handle e-southeast",u)),s&Bo.ResizeNorth&&this.renderCircularHandle("resizeNorth",t,d+m/2,p,e,Pa(s,"ResizeNorth"),i&ir.ResizeNorth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-diagram-resize-handle e-north",u),s&Bo.ResizeSouth&&this.renderCircularHandle("resizeSouth",t,d+m/2,p+f,e,Pa(s,"ResizeSouth"),i&ir.ResizeSouth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-diagram-resize-handle e-south",u),s&Bo.ResizeWest&&this.renderCircularHandle("resizeWest",t,d,p+f/2,e,Pa(s,"ResizeWest"),i&ir.ResizeWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-diagram-resize-handle e-west",u),s&Bo.ResizeEast&&this.renderCircularHandle("resizeEast",t,d+m,p+f/2,e,Pa(s,"ResizeEast"),i&ir.ResizeEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-diagram-resize-handle e-east",u))},r.prototype.renderEndPointHandle=function(t,e,i,n,s,o,a,l,h,c){var f,m,u=t.sourcePoint,d=t.targetPoint,p=t.wrapper;if(this.renderCircularHandle("connectorSourceThumb",p,u.x,u.y,e,Pa(n,"ConnectorSourceThumb"),i&ir.ConnectorSource,s,o,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-endpoint-handle e-sourceend",c),this.renderCircularHandle("connectorTargetThumb",p,d.x,d.y,e,Pa(n,"ConnectorTargetThumb"),i&ir.ConnectorTarget,s,a,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend",c),l)if("Straight"===t.type&&t.segments.length>0)for(f=0;f<t.segments.length-1;f++)m=t.segments[parseInt(f.toString(),10)],this.renderCircularHandle("segementThumb_"+(f+1),p,m.point.x,m.point.y,e,!0,i&ir.ConnectorSource,s,o,null,null,f,"e-diagram-straight-segment-handle",c);else if("Bezier"===t.type&&t.segments.length>0)for(f=0;f<t.segments.length-1;f++)m=t.segments[parseInt(f.toString(),10)],this.renderBezierHandle("segementThumb_"+(f+1),p,m.point.x,m.point.y,e,!0,t,s,o,null,f,"e-diagram-bezier-segment-handle",c);else if(t.maxSegmentThumb){var P=t.segments.length<=t.maxSegmentThumb?0:1,U=t.segments.length<=t.maxSegmentThumb?t.segments.length:t.segments.length-1;for(t.maxSegmentThumb>=3&&3===t.segments.length&&(P=1,U=t.segments.length-1),P=t.segments.length>t.maxSegmentThumb+2?2:P,U=t.segments.length>t.maxSegmentThumb+2?t.segments.length-2:U,1===t.segments.length&&t.segments[0].points.length<=2&&(P=1,U=t.segments.length),f=P;f<U;f++){var T=t.segments[parseInt(f.toString(),10)];this.renderOrthogonalThumbs("orthoThumb_"+(f+1),p,T,e,Pa(n,"ConnectorSourceThumb"),s,t)}}else for(f=0;f<t.segments.length;f++)T=t.segments[parseInt(f.toString(),10)],this.renderOrthogonalThumbs("orthoThumb_"+(f+1),p,T,e,Pa(n,"ConnectorSourceThumb"),s,t);if("Bezier"===t.type&&h){var Y=t.segments.length-1,X=null!=t.bezierSettings?t.bezierSettings.controlPointsVisibility:null;for(f=0;f<=Y;f++){var Q=t.segments[parseInt(f.toString(),10)],oe=Be.isEmptyPoint(Q.point1)?Q.bezierPoint1:Q.point1;(null!=X&&0===f&&Ly(X,"Source")||0!==f&&Ly(X,"Intermediate"))&&(this.renderCircularHandle("bezierPoint_"+(f+1)+"_1",p,oe.x,oe.y,e,Pa(n,"ConnectorSourceThumb"),i&ir.ConnectorSource,s,void 0,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-bezier-control-handle e-source",c),Pa(n,"ConnectorSourceThumb")&&this.renderBezierLine("bezierLine_"+(f+1)+"_1",p,e,Q.points[0],Be.isEmptyPoint(Q.point1)?Q.bezierPoint1:Q.point1,s)),oe=Be.isEmptyPoint(Q.point2)?Q.bezierPoint2:Q.point2,(null!=X&&f===Y&&Ly(X,"Target")||f!==Y&&Ly(X,"Intermediate"))&&(this.renderCircularHandle("bezierPoint_"+(f+1)+"_2",p,oe.x,oe.y,e,Pa(n,"ConnectorTargetThumb"),i&ir.ConnectorTarget,s,void 0,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-bezier-control-handle e-target",c),Pa(n,"ConnectorTargetThumb")&&this.renderBezierLine("bezierLine_"+(f+1)+"_2",p,e,Q.points[1],Be.isEmptyPoint(Q.point2)?Q.bezierPoint2:Q.point2,s))}}},r.prototype.renderOrthogonalThumbs=function(t,e,i,n,s,o,a){var l,h,c,u=0;if(a.maxSegmentThumb){var d=i.points.length<3?0:1,p=i.points.length<3?i.points.length-1:i.points.length-2;for(p=1===a.segments.length?p:i.points.length-1,u=d=1===a.segments.length?d:0;u<p;u++)c=Be.distancePoints(i.points[parseInt(u.toString(),10)],i.points[u+1]),l=i.points[parseInt(u.toString(),10)].y.toFixed(2)===i.points[u+1].y.toFixed(2)?"horizontal":"vertical",h=!!(c>=50&&i.allowDrag),this.renderOrthogonalThumb(t+"_"+(u+1),e,(i.points[parseInt(u.toString(),10)].x+i.points[u+1].x)/2,(i.points[parseInt(u.toString(),10)].y+i.points[u+1].y)/2,n,h,l,o,a)}else for(u=0;u<i.points.length-1;u++)c=Be.distancePoints(i.points[parseInt(u.toString(),10)],i.points[u+1]),l=i.points[parseInt(u.toString(),10)].y.toFixed(2)===i.points[u+1].y.toFixed(2)?"horizontal":"vertical",h=!!(c>=50&&i.allowDrag),this.renderOrthogonalThumb(t+"_"+(u+1),e,(i.points[parseInt(u.toString(),10)].x+i.points[u+1].x)/2,(i.points[parseInt(u.toString(),10)].y+i.points[u+1].y)/2,n,h,l,o,a)},r.prototype.renderOrthogonalThumb=function(t,e,i,n,s,o,a,l,h){var c,u,d,m,p=document.getElementById(this.diagramId);p&&(m=p.ej2_instances[0]);var T=h.constraints&$e.InheritSegmentThumbShape?m.segmentThumbShape:h.segmentThumbShape;if("horizontal"===a)switch(c=function qfe(r){return ege[""+r]}(T),T){case"Arrow":case"OpenArrow":case"DoubleArrow":u=-15,d=-15;break;case"Square":case"Rectangle":case"Ellipse":u=-5,d=-5;break;case"Rhombus":case"Circle":case"Diamond":u=-10,d=-5;break;case"IndentedArrow":case"OutdentedArrow":u=-5,d=-4;break;case"Fletch":case"OpenFetch":u=-5,d=-4.5}else switch(c=oG(T),T){case"Arrow":case"OpenArrow":case"DoubleArrow":u=-15,d=-15;break;case"Square":case"IndentedArrow":case"OutdentedArrow":case"Fletch":case"OpenFetch":u=-5,d=-5;break;case"Rhombus":case"Diamond":u=-5,d=-15;break;case"Rectangle":u=-7,d=-5;break;case"Circle":u=-5,d=-7;break;case"Ellipse":u=-7,d=-7}this.svgRenderer.drawPath(s,{x:(i+l.tx)*l.scale+u,y:(n+l.ty)*l.scale+d,angle:0,fill:"#e2e2e2",stroke:"black",strokeWidth:1,dashArray:"",data:c,width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:o,id:t,class:"e-diagram-ortho-segment-handle"},this.diagramId)},r.prototype.renderPivotLine=function(t,e,i,n,s){var o=t,l=!!(n&Bo.Rotate);s&&(l=!1);var h=this.getBaseAttributes(o,i);h.fill="None",h.stroke="black",h.strokeWidth=1,h.dashArray="2,3",h.visible=l;var c=i.scale;h.x*=c,h.y*=c,h.width*=c,h.height*=c,h.id="pivotLine",h.class="e-diagram-pivot-line";var d={x:o.actualSize.width*o.pivot.x*c,y:0};h.startPoint={x:o.actualSize.width*o.pivot.x*c,y:-20},h.endPoint=d,this.svgRenderer.drawLine(e,h)},r.prototype.renderBezierLine=function(t,e,i,n,s,o){var l=this.getBaseAttributes(e,o);l.id=t,l.stroke="black",l.strokeWidth=1,l.dashArray="3,3",l.fill="None",l.class="e-diagram-bezier-control-line",l.x=0,l.y=0;var h=o.scale,m={x:(s.x+o.tx)*h,y:(s.y+o.ty)*h};l.startPoint={x:(n.x+o.tx)*h,y:(n.y+o.ty)*h},l.endPoint=m,this.svgRenderer.drawLine(i,l)},r.prototype.renderCircularHandle=function(t,e,i,n,s,o,a,l,h,c,u,d,p,f){var m=e,M={x:i,y:n};if(0!==m.rotateAngle||0!==m.parentTransform){var T=Bs();to(T,m.rotateAngle+m.parentTransform,m.offsetX,m.offsetY),M=xn(T,M)}var P=this.getBaseAttributes(m);P.stroke="black",P.strokeWidth=1,void 0!==d?(P.id="segmentEnd_"+d,P.fill="#e2e2e2"):P.fill=h?"#8CC63F":"white",P.cornerRadius=f/2,P.angle=e.rotateAngle,P.id=t,P.visible=o,P.class=p,P.width=f,P.height=f,P.x=(M.x+l.tx)*l.scale,P.y=(M.y+l.ty)*l.scale,P.x=P.x-P.width/2,P.y=P.y-P.height/2,h&&(P.class+=" e-connected"),c&&(P.visible=!1);var U=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(s,P,this.diagramId,!0,!0,U,u,!0,a)},r.prototype.renderBezierHandle=function(t,e,i,n,s,o,a,l,h,c,u,d,p){var f,U,m=0,M=0,T=document.getElementById(this.diagramId);T&&(U=T.ej2_instances[0]);var Y=e,X={x:i,y:n};if(0!==Y.rotateAngle||0!==Y.parentTransform){var Q=Bs();to(Q,Y.rotateAngle+Y.parentTransform,Y.offsetX,Y.offsetY),X=xn(Q,X)}var de=a.constraints&$e.InheritSegmentThumbShape?U.segmentThumbShape:a.segmentThumbShape;switch(f=oG(de),de){case"Arrow":case"OpenArrow":case"DoubleArrow":m=-10,M=-5;break;case"Circle":m=2,M=1;break;case"Square":case"IndentedArrow":case"OutdentedArrow":case"Fletch":case"OpenFetch":case"Rhombus":case"Diamond":m=1,M=1;break;case"Rectangle":case"Ellipse":m=-1,M=1}var Me=this.getBaseAttributes(Y);Me.stroke="black",Me.strokeWidth=1,void 0!==u?(Me.id="segmentEnd_"+u,Me.fill="#e2e2e2"):Me.fill=h?"#8CC63F":"white",Me.angle=e.rotateAngle,Me.id=t,Me.visible=o,Me.class=d,Me.width=p,Me.height=p,Me.data=f,Me.x=(X.x+l.tx)*l.scale+m,Me.y=(X.y+l.ty)*l.scale+M,Me.x=Me.x-Me.width/2,Me.y=Me.y-Me.height/2,h&&(Me.class+=" e-connected"),c&&(Me.visible=!1);var Ve=this.getParentSvg(e,"selector");this.svgRenderer.drawPath(s,Me,this.diagramId,!0,Ve)},r.prototype.renderBorder=function(t,e,i,n,s,o){var l=this.getBaseAttributes(t,i);l.x*=i.scale,l.y*=i.scale,l.width*=i.scale,l.height*=i.scale,l.fill="transparent",l.stroke="#097F7F",l.strokeWidth=1.2,l.gradient=null,l.dashArray="6,3",l.class="e-diagram-selector",o&&(l.class+=" e-diagram-lane"),l.id="borderRect",l.id=this.rendererActions&Yp.DrawSelectorBorder?"borderRect_symbol":"borderRect",n||(l.class+=" e-disabled"),s&&(l.class+=" e-thick-border"),l.cornerRadius=0;var h=this.getParentSvg(t,"selector");this.svgRenderer.drawRectangle(e,l,this.diagramId,void 0,!0,h)},r.prototype.renderUserHandler=function(t,e,i,n){for(var o,s=t.wrapper,a=0,l=t.userHandles;a<l.length;a++){var h=l[a];o=!0,(h.disableConnectors&&t.connectors.length>0||h.disableNodes&&t.nodes.length>0)&&(o=!1);var c=document.getElementById(h.name+"_template_hiddenUserHandle");c&&(h.template=c.childNodes[0].cloneNode(!0));var u=m4(t,h,i);if(u.x=(u.x+i.tx)*i.scale,u.y=(u.y+i.ty)*i.scale,h.visible&&(h.visible=!!(t.constraints&Bo.UserHandle)),o)if(h.pathData){var d=h.pathData?h.pathData:h.content,p=this.getBaseAttributes(s);p.id=h.name+"_userhandle",p.fill=h.backgroundColor,p.stroke=h.borderColor,p.strokeWidth=h.borderWidth,p.centerX=u.x,p.centerY=u.y,p.radius=.5*h.size,p.class="e-diagram-userhandle-circle",p.angle=0,p.visible=h.visible,p.opacity=1,this.svgRenderer.drawCircle(e,p,1,{"aria-label":h.name+"user handle"});var m=[];m=aL(m=_w(d));var M=sk(d),U=oL(m,(h.size-.45*h.size)/M.width,(h.size-.45*h.size)/M.height,!0,M.x,M.y,0,0);M=sk(U),this.svgRenderer.drawPath(e,Y={x:u.x-M.width/2,y:u.y-M.height/2,angle:0,id:"",class:"e-diagram-userhandle-path",fill:h.pathColor,stroke:h.backgroundColor,strokeWidth:.5,dashArray:"",data:U,width:h.size-5,height:h.size-5,pivotX:0,pivotY:0,opacity:1,visible:h.visible},this.diagramId,void 0,void 0,{"aria-label":h.name+"user handle"})}else if(h.content){var X=new fl(h.name,this.diagramId);X.content=h.content,X.offsetX=u.x,X.offsetY=u.y,X.id=h.name+"_shape",X.horizontalAlignment="Center",X.verticalAlignment="Center",X.visible=h.visible,X.setOffsetWithRespectToBounds(u.x,u.y,"Fraction"),X.relativeMode="Object",X.description=h.name||"User handle",X.measure(new pi(h.size,h.size)),X.arrange(X.desiredSize),this.svgRenderer.drawNativeContent(X,e,h.size,h.size,this.adornerSvgLayer)}else if(h.source){var Y,Q=new dL;(Y=this.getBaseAttributes(Q,i)).width=h.size,Y.height=h.size,Y.x=u.x-h.size/2,Y.y=u.y-h.size/2,Y.sourceWidth=h.size,Y.sourceHeight=h.size,Y.alignment=Q.imageAlign,Y.source=h.source,Y.scale=Q.imageScale,Y.visible=h.visible,Y.description=h.name||"User handle",Y.id=h.name+"_",this.renderer.drawImage(e,Y,this.adornerSvgLayer,!1)}else{var oe=new Sh(h.name,this.diagramId);oe.offsetX=u.x,oe.offsetY=u.y,oe.id=h.name+"_shape",oe.visible=h.visible,oe.relativeMode="Object",oe.template=h.template,oe.measure(new pi(h.size,h.size)),oe.arrange(oe.desiredSize),this.svgRenderer.drawHTMLContent(oe,n,void 0,!0,void 0)}}},r.prototype.renderRotateThumb=function(t,e,i,n,s){new Nn;var a,l=new pi;l.width=18,l.height=16;var u=!!(n&Bo.Rotate);s&&(u=!1);var p=t.offsetX-t.actualSize.width*t.pivot.x+t.pivot.x*t.actualSize.width,f=t.offsetY-t.actualSize.height*t.pivot.y;if(a={x:(p=(p+i.tx)*i.scale)-.5*l.width,y:(f=(f+i.ty)*i.scale)-30-.5*l.height},0!==t.rotateAngle||0!==t.parentTransform){var m=Bs();to(m,t.rotateAngle+t.parentTransform,(i.tx+t.offsetX)*i.scale,(i.ty+t.offsetY)*i.scale),a=xn(m,a)}this.svgRenderer.drawPath(e,{x:a.x,y:a.y,angle:t.rotateAngle+t.parentTransform,fill:"#231f20",stroke:"black",strokeWidth:.5,dashArray:"",data:"M 16.856144362449648 10.238890446662904 L 18.000144362449646 3.437890446662903L 15.811144362449646 4.254890446662903 C 14.837144362449646 2.5608904466629028 13.329144362449647  1.2598904466629026 11.485144362449645 0.5588904466629026 C 9.375144362449646 - 0.24510955333709716 7.071144362449646  - 0.18010955333709716 5.010144362449646 0.7438904466629028 C 2.942144362449646 1.6678904466629028 1.365144362449646 3.341890446662903 0.558144362449646 5.452890446662903 C - 0.244855637550354 7.567890446662903 - 0.17985563755035394 9.866890446662904 0.7431443624496461 11.930890446662904 C 1.6681443624496461 13.994890446662904 3.343144362449646 15.575890446662903 5.457144362449647 16.380890446662903 C 6.426144362449647 16.7518904466629 7.450144362449647 16.9348904466629 8.470144362449647 16.9348904466629 C 9.815144362449647 16.9348904466629 11.155144362449647 16.6178904466629 12.367144362449647 15.986890446662901 L 11.351144362449647 14.024890446662901 C 9.767144362449647 14.8468904466629 7.906144362449647 14.953890446662902 6.237144362449647 14.3178904466629 C 4.677144362449647 13.7218904466629 3.444144362449647 12.5558904466629 2.758144362449647 11.028890446662901 C 2.078144362449646 9.501890446662903 2.031144362449646 7.802890446662903 2.622144362449646 6.243890446662903 C 3.216144362449646 4.6798904466629025 4.387144362449646 3.442890446662903 5.914144362449646 2.760890446662903 C 7.437144362449646 2.078890446662903 9.137144362449646 2.0298904466629026 10.700144362449645 2.6258904466629027 C 11.946144362449646 3.100890446662903 12.971144362449646 3.9538904466629026 13.686144362449646 5.049890446662903 L 11.540144362449645 5.850890446662903 L 16.856144362449648 10.238890446662904 Z",width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:u,id:"rotateThumb",class:"e-diagram-rotate-handle"},this.diagramId,!0,void 0,{"aria-label":"Thumb to rotate the selected object"})},r.prototype.renderPathElement=function(t,e,i,n,s,o,a){var l=this.getBaseAttributes(t,i,o);if(l.data=t.absolutePath,l.data=t.absolutePath,t.isPathPort&&a){l.x=a[t.id]?a[t.id].cx:l.x,l.y=a[t.id]?a[t.id].cy:l.y,t.bounds.x=l.x,t.bounds.y=l.y;var h=document.getElementById(this.diagramId);h&&"PortDrag"!==h.ej2_instances[0].eventHandler.currentAction&&(t.offsetX=l.x+t.width/2,t.offsetY=l.y+t.height/2)}var d=t.description?t.description:t.id;this.isSvgMode||(l.x=t.flipOffset.x?t.flipOffset.x:l.x,l.y=t.flipOffset.y?t.flipOffset.y:l.y),t.isExport&&(l.data=FX(t,t.absoluteBounds,0,l)),this.renderer.drawPath(e,l,this.diagramId,void 0,n,d)},r.prototype.renderSvgGridlines=function(t,e,i,n,s,o){var a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),l=document.createElementNS("http://www.w3.org/2000/svg","defs");l.setAttribute("id",this.diagramId+"_grid_pattern_defn"),(t.constraints&zr.ShowHorizontalLines||t.constraints&zr.ShowVerticalLines)&&a.setAttribute("id",this.diagramId+"_pattern");var h=0,c=0,u=0,d=0,p=1,f=!1,m="Lines"===t.gridType,M=m?t.verticalGridlines.lineIntervals:t.verticalGridlines.dotIntervals,T=m?t.horizontalGridlines.lineIntervals:t.horizontalGridlines.dotIntervals;if(n.showRulers&&n.dynamicGrid&&s&&o)u=o.updateSegmentWidth(i.scale),d=s.updateSegmentWidth(i.scale),t.horizontalGridlines.scaledIntervals=[u/s.interval],t.verticalGridlines.scaledIntervals=[d/o.interval],f=!0;else{for(var P=0;P<M.length;P+=1)h+=M[parseInt(P.toString(),10)];for(P=0;P<T.length;P+=1)c+=T[parseInt(P.toString(),10)];p=this.scaleSnapInterval(t,i.scale)}ts(a,{id:this.diagramId+"_pattern",x:0,y:0,width:h=f?d:h*p,height:c=f?u:c*p,patternUnits:"userSpaceOnUse"}),this.horizontalSvgGridlines(a,h,c,p,t,n,o,f,m,T),this.verticalSvgGridlines(a,h,c,p,t,n,s,f,m,M),l.appendChild(a),e.appendChild(l)},r.prototype.horizontalSvgGridlines=function(t,e,i,n,s,o,a,l,h,c){var p,u=0,d=[];if(s.constraints&zr.ShowHorizontalLines){s.horizontalGridlines.lineDashArray&&(d=this.renderer.parseDashArray(s.horizontalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,i,h)),c=u4(c,h);for(var f=0;f<c.length;f+=2){u=dX(c,h,f,u),p=document.createElementNS("http://www.w3.org/2000/svg",h?"path":"circle");var T=h?u+c[parseInt(f.toString(),10)]/2:u;T=l?T:T*n,h?(ts(p,""===d.toString()?{"stroke-width":c[parseInt(f.toString(),10)],d:"M0,"+T+" L"+e+","+T+" Z",class:1.25===c[parseInt(f.toString(),10)]?"e-diagram-thick-grid":"e-diagram-thin-grid",stroke:s.horizontalGridlines.lineColor}:{"stroke-width":c[parseInt(f.toString(),10)],stroke:s.horizontalGridlines.lineColor,d:"M0,"+T+" L"+e+","+T+" Z",class:1.25===c[parseInt(f.toString(),10)]?"e-diagram-thick-grid":"e-diagram-thin-grid",dashArray:d.toString()}),t.appendChild(p),u+=c[f+1]+c[parseInt(f.toString(),10)]):(this.renderDotGrid(f,t,s,0,T,n,!0),u+=c[parseInt(f.toString(),10)])}}},r.prototype.renderDotGrid=function(t,e,i,n,s,o,a){var l=a?i.verticalGridlines.dotIntervals:i.horizontalGridlines.dotIntervals;l=u4(l,!1);for(var h,c,u,p=1;p<l.length;p+=2)h=p===l.length-1?l[0]:l[p-1],u=n,u*=o,ts(c=document.createElementNS("http://www.w3.org/2000/svg","circle"),{cx:a?u:s,cy:a?s:u,fill:i.horizontalGridlines.lineColor,r:h}),e.appendChild(c),n+=l[parseInt(p.toString(),10)]+l[p-1]},r.prototype.verticalSvgGridlines=function(t,e,i,n,s,o,a,l,h,c){var p,u=0,d=[];if(s.constraints&zr.ShowVerticalLines){s.verticalGridlines.lineDashArray&&(d=this.renderer.parseDashArray(s.verticalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,e,h)),c=u4(c,h);for(var m=0;m<c.length;m+=2){u=dX(c,h,m,u);var M=h?u+c[parseInt(m.toString(),10)]/2:u;M=l?M:M*n,p=document.createElementNS("http://www.w3.org/2000/svg",h?"path":"circle"),h?(ts(p,""===d.toString()?{"stroke-width":c[parseInt(m.toString(),10)],d:"M"+M+",0 L"+M+","+i+" Z",class:1.25===c[parseInt(m.toString(),10)]?"e-diagram-thick-grid":"e-diagram-thin-grid",stroke:s.verticalGridlines.lineColor}:{"stroke-width":c[parseInt(m.toString(),10)],class:1.25===c[parseInt(m.toString(),10)]?"e-diagram-thick-grid":"e-diagram-thin-grid",stroke:s.verticalGridlines.lineColor,d:"M"+M+",0 L"+M+","+i+" Z",dashArray:d.toString()}),t.appendChild(p),u+=c[m+1]+c[parseInt(m.toString(),10)]):(this.renderDotGrid(m,t,s,0,M,n,!1),u+=c[parseInt(m.toString(),10)])}}},r.prototype.updateGrid=function(t,e,i,n,s,o){var a=e.getElementById(this.diagramId+"_grid_rect"),l=!1;if(a){var h=e.getElementById(this.diagramId+"_pattern");h&&h.parentNode.removeChild(h);var c=0,u=0,d=1,p="Lines"===t.gridType,f=p?t.verticalGridlines.lineIntervals:t.verticalGridlines.dotIntervals,m=p?t.horizontalGridlines.lineIntervals:t.horizontalGridlines.dotIntervals;n.showRulers&&n.dynamicGrid&&o&&s?(c=o.updateSegmentWidth(i.scale),u=s.updateSegmentWidth(i.scale),l=!0,t.horizontalGridlines.scaledIntervals=[c/s.interval],t.verticalGridlines.scaledIntervals=[u/o.interval]):d=this.scaleSnapInterval(t,i.scale);for(var M=0,T=0;T<m.length;T+=1)M+=m[parseInt(T.toString(),10)];var P=0;for(T=0;T<f.length;T+=1)P+=f[parseInt(T.toString(),10)];var U={x:-i.tx*i.scale,y:-i.ty*i.scale};ts(a,U),U={id:this.diagramId+"_pattern",x:0,y:0,width:P=l?u:P*d,height:M=l?c:M*d,patternUnits:"userSpaceOnUse"},ts(h=document.createElementNS("http://www.w3.org/2000/svg","pattern"),U),this.horizontalSvgGridlines(h,P,M,d,t,n,o,l,p,m),this.verticalSvgGridlines(h,P,M,d,t,n,s,l,p,f);var Y=e.getElementById(this.diagramId+"_grid_pattern_defn");Y&&Y.appendChild(h)}},r.prototype.updateLineIntervals=function(t,e,i,n,s){for(var o=[],a=n/i.interval,l=s?i.interval:i.interval+1,h=0;h<2*l;h++)o[parseInt(h.toString(),10)]=h%2==0?s?0===h?1.25:.25:0:s?a-o[h-1]:a;return o},r.prototype.scaleSnapInterval=function(t,e){if(e>=2)for(;e>=2;)e/=2;else if(e<=.5)for(;e<=.5;)e*=2;var i;if(t.horizontalGridlines.scaledIntervals=t.horizontalGridlines.snapIntervals,t.verticalGridlines.scaledIntervals=t.verticalGridlines.snapIntervals,1!==e){var n=t.horizontalGridlines;for(n.scaledIntervals=[],i=0;i<n.snapIntervals.length;i++)n.scaledIntervals[parseInt(i.toString(),10)]=n.snapIntervals[parseInt(i.toString(),10)]*e;for((n=t.verticalGridlines).scaledIntervals=[],i=0;i<n.snapIntervals.length;i++)n.scaledIntervals[parseInt(i.toString(),10)]=n.snapIntervals[parseInt(i.toString(),10)]*e}return e},r.prototype.renderTextElement=function(t,e,i,n,s,o){var a=this.getBaseAttributes(t,i);o&&(a.x=o.cx,a.y=o.cy,t.bounds.x=a.x,t.bounds.y=a.y,t.isExport&&(a.x=a.x*Math.min(t.exportScaleValue.x||t.exportScaleValue.y),a.y=a.y*Math.min(t.exportScaleValue.x||t.exportScaleValue.y))),a.cornerRadius=0,a.whiteSpace=B4(t.style.whiteSpace,t.style.textWrapping),a.content=t.content,a.breakWord=ak(t.style.textWrapping),a.textAlign=$X(t.style.textAlign),a.color=t.style.color,a.italic=t.style.italic,a.bold=t.style.bold,a.fontSize=t.style.fontSize,a.fontFamily=t.style.fontFamily,a.textOverflow=t.style.textOverflow,a.textWrapping=t.style.textWrapping,a.textDecoration=t.style.textDecoration,a.doWrap=t.doWrap,a.wrapBounds=t.wrapBounds,a.childNodes=t.childNodes,a.isHorizontalLane=t.isLaneOrientation,a.id=t.id?t.id:kn(),t.isLaneOrientation&&(a.parentOffsetX=this.groupElement.offsetX,a.parentOffsetY=this.groupElement.offsetY,a.parentWidth=this.groupElement.actualSize.width,a.parentHeight=this.groupElement.actualSize.height),a.dashArray="",a.strokeWidth=0,a.fill=t.style.fill;var l=t.description?t.description:t.content?t.content:t.id;("Wrap"===t.style.textWrapping||"WrapWithOverflow"===t.style.textWrapping)&&this.groupElement&&a.height>this.groupElement.actualSize.height&&("Clip"===t.style.textOverflow||"Ellipsis"===t.style.textOverflow)&&(a.y=a.y+(a.height-this.groupElement.actualSize.height)/2),this.renderer.drawRectangle(e,a,this.diagramId,void 0,void 0,n),this.renderer.drawText(e,a,n,l,this.diagramId,t.isExport&&Math.min(t.exportScaleValue.x||t.exportScaleValue.y),this.groupElement),this.isSvgMode&&(t.doWrap=!1)},r.prototype.renderNativeElement=function(t,e,i,n,s){var o,a,l=this.getParentSvg(t,void 0,e)||n,h=this.getParentElement(t,e,l).g||e,c=this.getBaseAttributes(t,i);switch(c.fill="transparent",c.cornerRadius=t.cornerRadius,c.stroke="transparent",this.renderer.drawRectangle(e,c,this.diagramId,void 0,void 0,n),t.scale){case"None":o=t.contentSize.width,a=t.contentSize.height;break;case"Stretch":o=t.actualSize.width,a=t.actualSize.height;break;case"Meet":o=a=t.actualSize.width<=t.actualSize.height?t.actualSize.width:t.actualSize.height;break;case"Slice":o=a=t.actualSize.width>=t.actualSize.height?t.actualSize.width:t.actualSize.height}this.svgRenderer&&this.svgRenderer.drawNativeContent(t,h,a,o,l)},r.prototype.renderHTMLElement=function(t,e,i,n,s,o,a){var l=this.getBaseAttributes(t,n);l.fill="transparent",l.cornerRadius=t.cornerRadius,l.stroke="transparent",this.renderer.drawRectangle(e,l,this.diagramId,void 0,void 0,s),this.svgRenderer&&this.svgRenderer.drawHTMLContent(t,i.children[0],n,function tme(r){var t=r.parentElement;do{if(CD(t,"e-diagram"))return!0;t=t.parentElement}while(t);return!1}(i),a)},r.prototype.renderImageElement=function(t,e,i,n,s){var a,l,h,c,o=this.getBaseAttributes(t,i);if(o.cornerRadius=0,this.renderer.drawRectangle(e,o,this.diagramId,void 0,void 0,n),"Stretch"===t.stretch)a=t.actualSize.width,l=t.actualSize.height;else{var u=t.contentSize.width,d=t.contentSize.height,p=o.width/u,f=o.height/d,m=void 0;switch(t.stretch){case"Meet":a=u*(m=Math.min(p,f)),l=d*m,o.x+=Math.abs(o.width-a)/2,o.y+=Math.abs(o.height-l)/2;break;case"Slice":p=o.width/u,f=o.height/d,m=Math.max(p,f),h=o.width/(a=u*m)*u,c=o.height/(l=d*m)*d;break;case"None":a=u,l=d}}o.width=a,o.height=l,o.sourceWidth=h,o.sourceHeight=c,o.source=t.source,o.alignment=t.imageAlign,o.scale=t.imageScale,o.description=t.description?t.description:t.id,this.renderer.drawImage(e,o,n,s)},r.prototype.renderContainer=function(t,e,i,n,s,o,a,l,h,c,u){var m,d={svg:s,g:e},p=document.getElementById(this.diagramId);if(p&&(m=p.ej2_instances[0]),this.diagramId&&(s=this.getParentSvg(t)||s,this.isSvgMode)){var M=this.getParentElement(t,e,s,l).g||e;s=this.getParentSvg(this.hasNativeParent(t.children))||s;var T=this.getParentElement(this.hasNativeParent(t.children),M,s,l);d.svg=T.svg||s,d.g=T.g||M,o&&s&&(s.getElementById(d.g.id)||e.appendChild(d.g)),e=d.g}if(this.renderRect(t,e,n,s),this.groupElement=t,t.hasChildren()){for(var U,P=void 0,Y=0,X=t.children;Y<X.length;Y++){var Q=X[Y];s=this.getParentSvg(this.hasNativeParent(t.children)||Q)||s,this.isSvgMode&&(P=(U=this.getParentElement(this.hasNativeParent(t.children)||Q,e,s)).g||e,U.svg&&(s=U.svg)),this.isSvgMode||(Q.flip=t.flip),this.renderElement(Q,P||e,i,n,s,!0,a,l,h,c,u),Q instanceof Qr&&P&&!(t.elementActions&Na.ElementIsGroup)&&this.renderFlipElement(Q,P,Q.flip),Q instanceof Qr&&P&&t.elementActions&Na.ElementIsGroup&&this.renderFlipElement(Q,P,Q.flip),Q.elementActions&Na.ElementIsPort&&P&&(P.id.includes("bpmn")?(this.renderFlipElement(t,P,Q.flip),Q.flip="None"):this.renderFlipElement(t,P,Q.flip)),!(Q instanceof Qr)&&"None"!==t.flip&&t.elementActions&Na.ElementIsGroup&&!(Q.elementActions&Na.ElementIsPort)&&P&&this.renderFlipElement(Q,P||e,t.flip)}var oe=void 0;m&&m.selectedItems&&m.selectedItems.nodes&&m.selectedItems.nodes.length>0&&(oe=m.selectedItems.nodes[0]);var Ce,de=void 0,Me=void 0,Ve=!1;if(m&&m.selectedItems&&(Ce=m.getObject(t.id)),"None"!==t.flip&&(oe=Ce),"None"==t.flip&&(oe=Ce),oe&&oe.flipMode&&(Ve=!0),!(t.elementActions&Na.ElementIsGroup)&&m instanceof _y&&m.nameTable[t.id]&&"connectors"!==m.nameTable[t.id].propName&&Ve&&oe){if(de=t.children&&t.children[0]instanceof fl?document.getElementById(oe.id+"_content_inner_native_element"):document.getElementById(oe.id+"_content_groupElement"),!(t.children[0]instanceof fl)&&"Text"!==oe.shape.type&&"None"!==oe.flipMode&&"Label"!==oe.flipMode&&"All"!==oe.flipMode||t.children[0]instanceof fl&&"Port"===oe.flipMode)return void this.renderFlipElement(t,de,oe.flip);if((t.children[0]instanceof fl&&("All"===oe.flipMode||"Label"===oe.flipMode)||"Label"===oe.flipMode||"Image"===oe.shape.type&&"Label"===oe.flipMode)&&this.renderFlipElement(t,de,t.flip),"None"!==t.flip&&"None"===oe.flipMode)this.renderFlipElement(t,de,t.flip);else if("None"!==t.flip&&"Label"===oe.flipMode||t.children[0]instanceof fl&&"None"!==t.flip&&oe&&("None"===oe.flipMode||"All"===oe.flipMode)){for(var ze=0;ze<oe.wrapper.children.length;ze++)if(oe.wrapper.children[parseInt(ze.toString(),10)]instanceof Qr)return Me=document.getElementById(oe.wrapper.children[parseInt(ze.toString(),10)].id+"_groupElement"),void this.renderFlipElement(t,Me,t.flip)}else if("None"!==t.flip&&"All"===oe.flipMode){for(var Ie=0;Ie<oe.wrapper.children.length;Ie++)oe.wrapper.children[parseInt(Ie.toString(),10)]instanceof Qr&&(Me=document.getElementById(oe.wrapper.children[parseInt(Ie.toString(),10)].id+"_groupElement"),this.renderFlipElement(t,Me,t.flip));this.renderFlipElement(t,de,t.flip)}else this.renderFlipElement(t,de,t.flip)}if(t.elementActions&Na.ElementIsGroup&&m instanceof _y&&m.nameTable[t.id]&&"connectors"!==m.nameTable[t.id].propName&&Ve&&oe){if(de=t.children&&t.children[0]instanceof fl?document.getElementById(oe.id+"_content_inner_native_element"):document.getElementById(oe.id+"_content_groupElement"),!(t.children[0]instanceof fl)&&"Text"!==oe.shape.type&&"None"!==oe.flipMode&&"Label"!==oe.flipMode&&"All"!==oe.flipMode||t.children[0]instanceof fl&&"Port"===oe.flipMode)return void this.renderFlipElement(t,de,oe.flip);if((t.children[0]instanceof fl&&("All"===oe.flipMode||"Label"===oe.flipMode)||"Label"===oe.flipMode||"Image"===oe.shape.type&&"Label"===oe.flipMode)&&this.renderFlipElement(t,de,t.flip),"None"!==t.flip&&"None"===oe.flipMode)this.renderFlipElement(t,de,t.flip);else if("None"!==t.flip&&"Label"===oe.flipMode||t.children[0]instanceof fl&&"None"!==t.flip&&oe&&("None"===oe.flipMode||"All"===oe.flipMode)){for(var pe=0;pe<oe.wrapper.children.length;pe++)if(oe.wrapper.children[parseInt(pe.toString(),10)]instanceof Qr)return Me=document.getElementById(oe.wrapper.children[parseInt(pe.toString(),10)].id+"_groupElement"),void this.renderFlipElement(t,Me,t.flip)}else if("None"!==t.flip&&"All"===oe.flipMode){for(Ie=0;Ie<oe.wrapper.children.length;Ie++)oe.wrapper.children[parseInt(Ie.toString(),10)]instanceof Qr&&(Me=document.getElementById(oe.wrapper.children[parseInt(Ie.toString(),10)].id+"_groupElement"),this.renderFlipElement(t,Me,t.flip));this.renderFlipElement(t,de,t.flip)}else this.renderFlipElement(t,de,t.flip)}}},r.prototype.renderFlipElement=function(t,e,i){var n={},s=1,o=1,a=0,l=0,h=0,c=0;if("None"!==i?(("Horizontal"===i||"Both"===i)&&(a=t.bounds.center.x,h=-t.bounds.center.x,s=-1),("Vertical"===i||"Both"===i)&&(l=t.bounds.center.y,c=-t.bounds.center.y,o=-1),n={transform:"translate("+a+","+l+") scale("+s+","+o+") translate("+h+","+c+")"}):n={transform:"translate(0,0)"},n)if(t&&t.children&&t.children.length&&t.children[0]instanceof Sh){var u=e.id.split("_preview");(e=(document.getElementById(u[0]+"_html_div")||fu(this.diagramId).children[0]).querySelector("#"+t.id+"_content_html_element"))&&(e.style.transform="scale("+s+","+o+")rotate("+(t.rotateAngle+t.parentTransform)+"deg)")}else ts(e,n)},r.prototype.hasNativeParent=function(t,e){if(t&&t.length>0){var i=t[0];if(i instanceof fl)return i;i.children&&i.children.length&&this.hasNativeParent(i.children,e++||0)}},r.prototype.renderRect=function(t,e,i,n,s){var o=this.getBaseAttributes(t,i,s);o.cornerRadius=t.cornerRadius||0,t.isExport&&(o.cornerRadius*=t.exportScaleValue.x),this.renderer.drawRectangle(e,o,this.diagramId,t.isExport,void 0,n,t.description?t.description:t.id)},r.prototype.drawRect=function(t,e){e.cornerRadius=0,this.svgRenderer.drawRectangle(t,e,this.diagramId)},r.prototype.getBaseAttributes=function(t,e,i){var n={width:t.actualSize.width,height:t.actualSize.height,x:t.offsetX-t.actualSize.width*t.pivot.x+.5,y:t.offsetY-t.actualSize.height*t.pivot.y+.5,fill:t.style.fill,stroke:t.style.strokeColor,angle:t.rotateAngle+t.parentTransform,pivotX:t.pivot.x,pivotY:t.pivot.y,strokeWidth:t.style.strokeWidth,dashArray:t.style.strokeDashArray||"",opacity:t.style.opacity,shadow:t.shadow,gradient:t.style.gradient,visible:t.visible,id:t.id,description:t.description,canApplyStyle:t.canApplyStyle,shapeType:t.shapeType};return i&&(n.x=n.x-.5,n.y=n.y-.5),t.isExport&&(n.width*=t.exportScaleValue.x,n.height*=t.exportScaleValue.y,n.x*=t.exportScaleValue.x,n.y*=t.exportScaleValue.y,n.strokeWidth*=t.exportScaleValue.x),t.flip&&(n.flip=t.flip),e&&(n.x+=e.tx,n.y+=e.ty),n},r.renderSvgBackGroundImage=function(t,e,i,n,s,o){if(t.source){var l=_4(e.id).getElementById(e.id+"_image");if(!l){var h=function rye(r){return es(r).getElementsByClassName("e-background-image-layer")[0]}(e.id);(l=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("id",e.id+"_image"),h.appendChild(l)}var c=new Image;c.src=t.source,l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.src.toString());var u="None"!==t.scale?t.scale:"",d=t.align,p=d.charAt(0).toLowerCase()+d.slice(1);u&&(p+=" "+u.charAt(0).toLowerCase()+u.slice(1)),ts(l,{id:e.id+"_image",x:i,y:n,width:s,height:o,preserveAspectRatio:p})}},r.prototype.transformLayers=function(t,e){var i=t.tx*t.scale,n=t.ty*t.scale,s="domTable";if(i!==this.transform.x||n!==this.transform.y||0===i||0===n){e&&(window[""+s][this.diagramId+"_diagramLayer"]||(window[""+s][this.diagramId+"_diagramLayer"]=this.diagramSvgLayer.getElementById(this.diagramId+"_diagramLayer")),window[""+s][this.diagramId+"_diagramLayer"].setAttribute("transform","translate("+t.tx*t.scale+","+t.ty*t.scale+"),scale("+t.scale+")"));var a=function sye(r){var t="domTable",e=null;return window[t][r+"_gridline"]?e=window[t][r+"_gridline"]:(e=jb(r).getElementById(r+"_gridline"),window[t][r+"_gridline"]=e),e}(this.diagramId);return a.setAttribute("transform","translate("+t.tx*t.scale+","+t.ty*t.scale+")"),window[""+s][this.diagramId+"_diagramPorts"]||(window[""+s][this.diagramId+"_diagramPorts"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramPorts")),window[""+s][this.diagramId+"_diagramPorts"].setAttribute("transform","translate("+t.tx*t.scale+","+t.ty*t.scale+"),scale("+t.scale+")"),window[""+s][this.diagramId+"_diagramExpander"]||(window[""+s][this.diagramId+"_diagramExpander"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramExpander")),window[""+s][this.diagramId+"_diagramExpander"].setAttribute("transform","translate("+t.tx*t.scale+","+t.ty*t.scale+"),scale("+t.scale+")"),window[""+s][this.diagramId+"_nativeLayer"]||(window[""+s][this.diagramId+"_nativeLayer"]=this.nativeSvgLayer.getElementById(this.diagramId+"_nativeLayer")),window[""+s][this.diagramId+"_nativeLayer"].setAttribute("transform","translate("+t.tx*t.scale+","+t.ty*t.scale+"),scale("+t.scale+")"),fu(this.diagramId).children[0].style.transform="translate("+t.tx*t.scale+"px,"+t.ty*t.scale+"px)scale("+t.scale+")",this.transform={x:t.tx*t.scale,y:t.ty*t.scale},!0}return!1},r.prototype.updateNode=function(t,e,i,n,s,o,a){this.renderElement(t,e,i,n,this.getParentSvg(t),void 0,void 0,s,null,o,a)},r}(),lk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),io=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},pye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lk(t,r),io([O("")],t.prototype,"source",void 0),io([O("transparent")],t.prototype,"color",void 0),io([O("None")],t.prototype,"scale",void 0),io([O("None")],t.prototype,"align",void 0),t}(ii),fye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lk(t,r),io([O("Page")],t.prototype,"mode",void 0),io([O("PageSettings")],t.prototype,"region",void 0),io([Lt({top:25,bottom:25,left:25,right:25},_l)],t.prototype,"margin",void 0),io([O(!1)],t.prototype,"canZoomIn",void 0),io([O(void 0)],t.prototype,"customBounds",void 0),io([O(!1)],t.prototype,"canFit",void 0),t}(ii),gye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lk(t,r),io([O(null)],t.prototype,"width",void 0),io([O(null)],t.prototype,"height",void 0),io([Lt({},_l)],t.prototype,"margin",void 0),io([O("Landscape")],t.prototype,"orientation",void 0),io([O("Infinity")],t.prototype,"boundaryConstraints",void 0),io([Lt({},pye)],t.prototype,"background",void 0),io([O(!1)],t.prototype,"multiplePage",void 0),io([O(!1)],t.prototype,"showPageBreaks",void 0),io([Lt({},fye)],t.prototype,"fitOptions",void 0),t}(ii),vye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lk(t,r),io([O(0)],t.prototype,"horizontalOffset",void 0),io([O(0)],t.prototype,"verticalOffset",void 0),io([O(1)],t.prototype,"currentZoom",void 0),io([O(0)],t.prototype,"viewPortWidth",void 0),io([O(0)],t.prototype,"viewPortHeight",void 0),io([O(.2)],t.prototype,"minZoom",void 0),io([O(30)],t.prototype,"maxZoom",void 0),io([O("Diagram")],t.prototype,"scrollLimit",void 0),io([O()],t.prototype,"scrollableArea",void 0),io([O(!1)],t.prototype,"canAutoScroll",void 0),io([Lt({left:15,right:15,top:15,bottom:15},_l)],t.prototype,"autoScrollBorder",void 0),io([Lt({left:0,right:0,top:0,bottom:0},_l)],t.prototype,"padding",void 0),io([O(.2)],t.prototype,"zoomFactor",void 0),t}(ii),mye=function(){function r(){this.services={}}return r.prototype.register=function(t,e){this.services[""+t]=e},r.prototype.getService=function(t){return this.services[""+t]},r}(),ZX=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xd=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},JX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ZX(t,r),Xd([O("lightgray")],t.prototype,"lineColor",void 0),Xd([O("")],t.prototype,"lineDashArray",void 0),Xd([O([1.25,18.75,.25,19.75,.25,19.75,.25,19.75,.25,19.75])],t.prototype,"lineIntervals",void 0),Xd([O([1,19,.5,19.5,.5,19.5,.5,19.5,.5,19.5])],t.prototype,"dotIntervals",void 0),Xd([O([20])],t.prototype,"snapIntervals",void 0),t}(ii),yye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ZX(t,r),Xd([Lt({},JX)],t.prototype,"horizontalGridlines",void 0),Xd([Lt({},JX)],t.prototype,"verticalGridlines",void 0),Xd([O(zr.All)],t.prototype,"constraints",void 0),Xd([O(5)],t.prototype,"snapAngle",void 0),Xd([O("Lines")],t.prototype,"gridType",void 0),Xd([O(5)],t.prototype,"snapObjectDistance",void 0),Xd([O("#07EDE1")],t.prototype,"snapLineColor",void 0),t}(ii),KX=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kp=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},eQ=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KX(t,r),Kp([O(5)],t.prototype,"interval",void 0),Kp([O(100)],t.prototype,"segmentWidth",void 0),Kp([O("Horizontal")],t.prototype,"orientation",void 0),Kp([O("RightOrBottom")],t.prototype,"tickAlignment",void 0),Kp([O("red")],t.prototype,"markerColor",void 0),Kp([O(25)],t.prototype,"thickness",void 0),Kp([O(null)],t.prototype,"arrangeTick",void 0),t}(ii),bye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KX(t,r),Kp([O(!1)],t.prototype,"showRulers",void 0),Kp([O(!0)],t.prototype,"dynamicGrid",void 0),Kp([Lt({orientation:"Horizontal"},eQ)],t.prototype,"horizontalRuler",void 0),Kp([Lt({orientation:"Vertical"},eQ)],t.prototype,"verticalRuler",void 0),t}(ii),Cye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tQ=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Sye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Cye(t,r),tQ([O("")],t.prototype,"property",void 0),tQ([O("")],t.prototype,"field",void 0),t}(ii),j4=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qa=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},iQ=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return j4(t,r),Qa([O("")],t.prototype,"read",void 0),Qa([O("")],t.prototype,"create",void 0),Qa([O("")],t.prototype,"update",void 0),Qa([O("")],t.prototype,"destroy",void 0),Qa([O()],t.prototype,"customFields",void 0),t}(ii),wye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return j4(t,r),Qa([O("")],t.prototype,"id",void 0),Qa([O("")],t.prototype,"sourceID",void 0),Qa([O("")],t.prototype,"targetID",void 0),Qa([O(null)],t.prototype,"sourcePointX",void 0),Qa([O(null)],t.prototype,"sourcePointY",void 0),Qa([O(null)],t.prototype,"targetPointX",void 0),Qa([O(null)],t.prototype,"targetPointY",void 0),Qa([O(null)],t.prototype,"dataManager",void 0),Qa([Lt({},iQ)],t.prototype,"crudAction",void 0),t}(ii),Iye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return j4(t,r),Qa([O("")],t.prototype,"id",void 0),Qa([O(null)],t.prototype,"dataManager",void 0),Qa([O(null)],t.prototype,"dataSource",void 0),Qa([O("")],t.prototype,"root",void 0),Qa([O("")],t.prototype,"parentId",void 0),Qa([O()],t.prototype,"doBinding",void 0),Qa([Qn([],Sye)],t.prototype,"dataMapSettings",void 0),Qa([Lt({},iQ)],t.prototype,"crudAction",void 0),Qa([Lt({},wye)],t.prototype,"connectionDataSource",void 0),t}(ii),Mye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nl=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},xye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Mye(t,r),nl([O("")],t.prototype,"fixedNode",void 0),nl([O(30)],t.prototype,"horizontalSpacing",void 0),nl([O("SamePoint")],t.prototype,"connectionPointOrigin",void 0),nl([O("Nonlinear")],t.prototype,"arrangement",void 0),nl([O(30)],t.prototype,"verticalSpacing",void 0),nl([O(30)],t.prototype,"maxIteration",void 0),nl([O(40)],t.prototype,"springFactor",void 0),nl([O(50)],t.prototype,"springLength",void 0),nl([Lt({left:50,top:50,right:0,bottom:0},_l)],t.prototype,"margin",void 0),nl([O("Auto")],t.prototype,"horizontalAlignment",void 0),nl([O("Auto")],t.prototype,"verticalAlignment",void 0),nl([O("TopToBottom")],t.prototype,"orientation",void 0),nl([O("Auto")],t.prototype,"connectionDirection",void 0),nl([O("Default")],t.prototype,"connectorSegments",void 0),nl([O("None")],t.prototype,"type",void 0),nl([O()],t.prototype,"getLayoutInfo",void 0),nl([O()],t.prototype,"layoutInfo",void 0),nl([O()],t.prototype,"getBranch",void 0),nl([O()],t.prototype,"bounds",void 0),nl([O(!0)],t.prototype,"enableAnimation",void 0),nl([O(!1)],t.prototype,"enableRouting",void 0),nl([O("")],t.prototype,"root",void 0),t}(ii),Dye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nQ=function(r){function t(e,i){var n=r.call(this,e,!0)||this;return n.oldValue=null,n.endPoint=i,n}return Dye(t,r),t.prototype.mouseDown=function(e){var i,n=!0;if(e.source&&e.source.connectors&&(i=e.source.connectors[0]),e.info&&e.actualObject&&(n=e.info.ctrlKey&&"Orthogonal"!==e.actualObject.type),i&&n){this.inAction=!0,this.undoElement=rt(e.source),r.prototype.mouseDown.call(this,e);for(var s=0;s<i.segments.length;s++){var o=i.segments[parseInt(s.toString(),10)];if("OrthoThumb"===this.endPoint)for(var a=0;a<o.points.length-1;a++){var l={x:0,y:0};l.x=(o.points[parseInt(a.toString(),10)].x+o.points[a+1].x)/2,l.y=(o.points[parseInt(a.toString(),10)].y+o.points[a+1].y)/2,$o(this.currentPosition,l,30)&&(this.selectedSegment=o,this.segmentIndex=a)}else $o(this.currentPosition,o.point,10)&&(this.selectedSegment=o)}}},t.prototype.mouseMove=function(e){if(r.prototype.mouseMove.call(this,e),this.currentPosition=e.position,this.currentPosition&&this.prevPosition){var i=this.currentPosition.y-this.prevPosition.y,n=this.currentPosition.x-this.prevPosition.x;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var l,s=void 0,o=void 0,a=!1;if(e.source&&e.source.connectors&&(s=e.source.connectors[0]),Be.equals(this.startPosition,this.prevPosition)&&(a=!0),null===this.oldValue&&(this.oldValue=rt(this.selectedSegment)),l={source:Rt(s),state:"Start",oldValue:Rt(this.oldValue),newValue:Rt(this.oldValue),segment:Rt(this.selectedSegment),cancel:!1},a&&!ge()&&this.commandHandler.triggerEvent(_i.segmentChange,l),l.cancel&&this.commandHandler.diagram.resetTool(),this.inAction&&void 0!==this.selectedSegment&&void 0!==this.endPoint&&(0!==n||0!==i)&&!l.cancel){if("OrthoThumb"===this.endPoint)this.blocked=!this.dragOrthogonalSegment(s,this.selectedSegment,this.currentPosition,this.segmentIndex),null===this.oldValue.length&&null===this.oldValue.direction&&(this.oldValue=rt(this.selectedSegment)),o=rt(this.selectedSegment);else{var h=this.currentPosition.x-this.selectedSegment.point.x,c=this.currentPosition.y-this.selectedSegment.point.y,u=s.segments.indexOf(this.selectedSegment);this.blocked=!this.commandHandler.dragControlPoint(s,h,c,!1,u),o=rt(this.selectedSegment)}this.commandHandler.updateSelector(),this.currentPosition=e.position;var d={source:Rt(s),state:"Progress",oldValue:Rt(this.oldValue),newValue:Rt(o),segment:Rt(this.selectedSegment),cancel:!1};this.commandHandler.triggerEvent(_i.segmentChange,d)}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(e){var i,n;if(e.source&&e.source.connectors&&(n={segments:(i=e.source.connectors[0]).segments}),e&&e.source&&e.info&&e.info.ctrlKey&&e.info.shiftKey&&"Straight"===i.type)this.addOrRemoveSegment(i,this.currentPosition);else if("OrthoThumb"===this.endPoint&&this.selectedSegment){var s=i.segments.indexOf(this.selectedSegment),o=i.segments[s-1],a=i.segments[s+1];if(s===i.segments.length-2&&this.updateLastSegment(i,this.selectedSegment))i.segments.splice(i.segments.length-2,1);else if(o&&Math.abs(o.length)<5)1!==s&&this.removePrevSegment(i,s);else if(a){var l=Be.distancePoints(a.points[0],a.points[1]);Math.abs(a.length||0===a.length?a.length:l)<=5&&this.removeNextSegment(i,s)}this.commandHandler.updateEndPoint(i,n),i.selectedSegmentIndex=0}if(this.undoElement){var c=rt(e.source);this.commandHandler.addHistoryEntry({type:"SegmentChanged",redoObject:c,undoObject:this.undoElement,category:"Internal"})}if(i.isBezierEditing&&(i.isBezierEditing=!1),this.prevPosition!==this.startPosition){var d={source:Rt(i),state:"Completed",oldValue:Rt(this.oldValue),newValue:rt(this.selectedSegment),cancel:!1,segment:Rt(this.selectedSegment)};this.commandHandler.triggerEvent(_i.segmentChange,d)}r.prototype.mouseUp.call(this,e)},t.prototype.removePrevSegment=function(e,i){var n=e.segments[i-2],s=e.segments[i+1];if(!((s.length||0===s.length?s.length:Be.distancePoints(s.points[0],s.points[1]))<=5)){var a=e.segments.slice(i-1,i+1),l={element:e,removeSegments:a,type:"Removal",cancel:!1};if(ge()&&(l={element:Rt(e),removeSegments:Rt(a),type:"Removal",cancel:l.cancel}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,l),!l.cancel){var h=e.segments[i+1];e.segments.splice(i-1,2);var c=this.selectedSegment;"Left"===c.direction||"Right"===c.direction?(n.points[n.points.length-1].x=h.points[0].x,h.points[0].y=n.points[n.points.length-1].y):(n.points[n.points.length-1].y=h.points[0].y,h.points[0].x=n.points[n.points.length-1].x),(c.length||0===c.length)&&this.findSegmentDirection(n),this.findSegmentDirection(h)}}},t.prototype.findSegmentDirection=function(e){e.direction&&(e.length||0===e.length)&&(e.length=Be.distancePoints(e.points[0],e.points[e.points.length-1]),e.direction=Be.direction(e.points[0],e.points[e.points.length-1]))},t.prototype.removeNextSegment=function(e,i){var l,h,n=this.selectedSegment,s=e.segments[i-1],o=e.segments[i+2],a=e.segments[i+1];if(a.length||0===a.length?(l=e.segments.slice(i,2),h={element:e,removeSegments:l,type:"Removal",cancel:!1},h={element:Rt(e),removeSegments:Rt(l),type:"Removal",cancel:!1},ge()&&(h={element:Rt(e),removeSegments:Rt(l),type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,h),h.cancel||(e.segments.splice(i,2),"Top"===n.direction||"Bottom"===n.direction?(o.points[0].y=n.points[0].y,s.points[s.points.length-1].x=o.points[0].x):(o.points[0].x=n.points[0].x,s.points[s.points.length-1].y=o.points[0].y))):(l=e.segments.slice(i+1,1),h={element:e,removeSegments:l,type:"Removal",cancel:!1},ge()&&(h={element:e,removeSegments:l,type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,h),h.cancel||(e.segments.splice(i+1,1),"Top"===n.direction||"Bottom"===n.direction?s.points[s.points.length-1].x=a.points[a.points.length-1].x:s.points[s.points.length-1].y=a.points[a.points.length-1].y,this.findSegmentDirection(s),n.length=n.direction=null)),s&&o&&!h.cancel&&(s.length=Be.distancePoints(s.points[0],o.points[0]),s.direction=Be.direction(s.points[0],o.points[0]),o.length||0===o.length)){o.length=Be.distancePoints(s.points[s.points.length-1],o.points[o.points.length-1]);var c=s.points,u=o.points;o.direction=Be.direction(c[c.length-1],u[u.length-1])}},t.prototype.addOrRemoveSegment=function(e,i,n){for(var s,o,a=[],l={segments:e.segments},h=0;h<e.segments.length;h++)if($o(i,(c=e.segments[parseInt(h.toString(),10)]).point,e.hitPadding)){o=h,s=!0,a.push(c);var u={element:e,removeSegments:a,type:"Removal",cancel:!1};n&&n.triggerEvent(_i.segmentCollectionChange,u)}if(this.commandHandler||(this.commandHandler=n),s&&void 0!==o){if(e.segments&&e.segments[parseInt(o.toString(),10)]&&"Straight"===e.segments[parseInt(o.toString(),10)].type){var c=e.segments[parseInt(o.toString(),10)],d=e.segments[o+1];d&&(e.segments.splice(o,1),d.points[0]=c.points[0])}}else{this.commandHandler.enableServerDataBinding(!1);var p=this.findIndex(e,i);if(e.segments&&e.segments[parseInt(p.toString(),10)]&&"Straight"===e.segments[parseInt(p.toString(),10)].type){c=e.segments[parseInt(p.toString(),10)];var f=new zv(e,"segments",{type:"Straight",point:i},!0);f.points[0]=c.points[0],f.points[1]=i,c.points[0]=i,e.segments.splice(p,0,f),s=!0,a.push(c),this.commandHandler.triggerEvent(_i.segmentCollectionChange,u={element:e,addSegments:a,type:"Addition",cancel:!1})}this.commandHandler.enableServerDataBinding(!0)}s&&this.commandHandler.updateEndPoint(e,l)},t.prototype.findIndex=function(e,i){for(var n=[],s=0;s<e.segments.length;s++){var o=e.segments[parseInt(s.toString(),10)],a=Xi.toBounds([o.points[0],o.points[1]]);a.Inflate(e.hitPadding),a.containsPoint(i)&&n.push(o)}if(1===n.length)return e.segments.indexOf(n[0]);var l=void 0,h=void 0,c=void 0,u=void 0;for(s=0;s<n.length;s++)u=n[parseInt(s.toString(),10)],l=Math.abs((i.y-u.points[0].y)/(u.points[1].y-i.y)-(i.x-u.points[0].x)/(u.points[1].x-i.x)),0===s&&(h=l,c=0),l<h&&(h=l,c=s);return e.segments.indexOf(n[parseInt(c.toString(),10)])},t.prototype.dragOrthogonalSegment=function(e,i,n,s){var o={x:0,y:0},a={segments:e.segments};o.x=(i.points[parseInt(s.toString(),10)].x+i.points[s+1].x)/2,o.y=(i.points[parseInt(s.toString(),10)].y+i.points[s+1].y)/2;var l=n.y-o.y,h=n.x-o.x,c=e.segments.indexOf(i),u=!1;return e.allowNodeOverlap&&(e.selectedSegmentIndex=c||s),-1!==c&&(0===c&&1===e.segments.length&&2===i.points.length?(c=this.addSegments(e,i,h,l,c),u=!0):c!==e.segments.length-1||null!==i.direction&&null!==i.length?0===c&&(c=this.insertFirstSegment(e,i,h,l,c),u=!0):(c=this.addTerminalSegment(e,i,h,l,s),u=!0),c&&(u&&(this.selectedSegment=i=e.segments[parseInt(c.toString(),10)],this.segmentIndex=0),this.updateAdjacentSegments(e,c,h,l),this.commandHandler.updateEndPoint(e,a))),!0},t.prototype.addSegments=function(e,i,n,s,o){var a,l=[],h=Be.distancePoints(i.points[0],i.points[1]),c=Be.direction(i.points[0],i.points[1]);l.push(new Ts(e,"segments",{type:"Orthogonal",direction:c,length:h/4},!0)),l.push(new Ts(e,"segments",{type:"Orthogonal",direction:i.points[0].y===i.points[1].y?s>0?"Bottom":"Top":n>0?"Right":"Left",length:i.points[0].x===i.points[1].x?s:n},!0)),l.push(new Ts(e,"segments",{type:"Orthogonal",direction:c,length:h/2},!0));var p={element:e,addSegments:l,type:"Addition",cancel:!1};return ge()&&(p={addSegments:Rt(l),type:"Addition",cancel:p.cancel,element:Rt(e)}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,p),p.cancel||(e.segments=l.concat(e.segments),a=o+2),a},t.prototype.insertFirstSegment=function(e,i,n,s,o){var a,l,u,d,h=[];if(e.sourcePortID&&i.length&&e.segments[0].points.length>2)for(var p=void 0,f=0;f<i.points.length-1;f++){var m=Be.distancePoints(i.points[parseInt(f.toString(),10)],i.points[f+1]),M=Be.direction(i.points[parseInt(f.toString(),10)],i.points[f+1]);0===(d=new Ts(e,"segments",{type:"Orthogonal",direction:M,length:m},!0)).length&&(d.direction=!p||"Top"!==p.direction&&"Bottom"!==p.direction?s>0?"Bottom":"Top":n>0?"Right":"Left"),p=d,h.push(d)}else h.push(new Ts(e,"segments",{type:"Orthogonal",direction:i.direction,length:i.length/3},!0)),"Bottom"===i.direction||"Top"===i.direction?(l=Math.abs(n),a=n>0?"Right":"Left"):(l=Math.abs(s),a=s>0?"Bottom":"Top"),d=new Ts(e,"segments",{type:"Orthogonal",direction:a,length:l},!0),h.push(d);var T={element:e,addSegments:h,type:"Addition",cancel:!1};if(ge()&&(T={element:Rt(e),addSegments:Rt(h),type:"Addition",cancel:T.cancel}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,T),!T.cancel){if(e.sourcePortID&&i.length&&e.segments[0].points.length>2)e.segments.splice(0,1),u=1;else{var P=e.segments[1];P&&P.length&&(P.length=a!==P.direction?P.length+l:P.length-l),u=2,i.length=2*i.length/3}e.segments=h.concat(e.segments)}return u},t.prototype.updateAdjacentSegments=function(e,i,n,s){var o=e.segments[parseInt(i.toString(),10)],a=o.points[o.points.length-1],h=!0;"Orthogonal"===o.type&&(o.points[0]=o.points[0],o.points[o.points.length-1]=a,e.segments[i-1]&&(h=this.updatePreviousSegment(n,s,e,i)),e.segments.length-1>i&&h&&this.updateNextSegment(e,o,e.segments[i+1],n,s))},t.prototype.addTerminalSegment=function(e,i,n,s,o){var l,h,c,u,a=e.segments.indexOf(i),d=[],p=e.segments.pop(),f=e.segments[e.segments.length-1];l=f&&"Orthogonal"===f.type?f:null;for(var m=0;m<i.points.length-2;m++)c=Be.distancePoints(i.points[parseInt(m.toString(),10)],i.points[m+1]),u=Be.direction(i.points[parseInt(m.toString(),10)],i.points[m+1]),h=new Ts(e,"segments",{type:"Orthogonal",length:c,direction:u},!0),d.push(h),l=h;var M=o;if((2===i.points.length||M===i.points.length-2)&&(l&&(l.length+=5),void 0!==M)){c=2*Be.distancePoints(i.points[i.points.length-2],i.points[i.points.length-1])/3,u=Be.direction(i.points[i.points.length-2],i.points[i.points.length-1]);var T=new Ts(e,"segments",{type:"Orthogonal",length:c,direction:u});d.push(T)}var P=new Ts(e,"segments",{type:"Orthogonal"},!0);d.push(P);var Y;return Y={element:Rt(e),addSegments:Rt(d),type:"Addition",cancel:false},ge()&&(Y={element:Rt(e),addSegments:Rt(d),type:"Addition",cancel:false}),this.commandHandler.triggerEvent(_i.segmentCollectionChange,Y),Y.cancel?e.segments.push(p):(e.segments=e.segments.concat(d),a+=o),this.commandHandler.updateEndPoint(e),a},t.prototype.updatePortSegment=function(e,i,n,s,o){if(1===n&&2===e.points.length&&e.length<0){var a=i.sourceWrapper.corners,l=i.segments[parseInt(n.toString(),10)],h=i.segments[n+1],c=void 0,u=[];c=new Ts(i,"segments",{type:"Orthogonal",length:13,direction:e.direction}),u.push(c);var d;c=new Ts(i,"segments",{type:"Orthogonal",length:d="Left"===l.direction?l.points[0].x-(a.middleLeft.x-20):"Right"===l.direction?a.middleRight.x+20-l.points[0].x:"Bottom"===l.direction?a.bottomCenter.y+20-l.points[0].y:l.points[0].y-(a.topCenter.y-20),direction:l.direction}),u.push(c),l.length=l.length-d,h&&h.length&&h.direction&&(h.direction===e.direction?h.length-=13:h.direction===Ch(e.direction)&&(h.length+=13)),i.segments=u.concat(i.segments),this.selectedSegment=i.segments[3]}},t.prototype.updatePreviousSegment=function(e,i,n,s){var o=n.segments[parseInt(s.toString(),10)],a=n.segments[s-1];a.points[a.points.length-1]=o.points[0];var l=!(n.sourceID&&""===n.sourcePortID),h=!0;return"Orthogonal"===a.type&&("Bottom"===a.direction?a.length+=i:"Top"===a.direction?a.length-=i:"Right"===a.direction?a.length+=e:a.length-=e,""!==n.sourcePortID&&a.length<0&&!n.allowNodeOverlap?this.updatePortSegment(a,n,s,e,i):n.sourceID&&""===n.sourcePortID&&a.length<0&&1===s&&(h=!1,this.updateFirstSegment(n,o)),l&&this.changeSegmentDirection(a,n)),h},t.prototype.changeSegmentDirection=function(e,i){i.maxSegmentThumb||e.length<0&&(e.direction=Ch(e.direction),e.length*=-1)},t.prototype.updateNextSegment=function(e,i,n,s,o){n.points[0]=i.points[i.points.length-1],n&&"Orthogonal"===n.type&&(n.length||0===n.length)&&("Left"===n.direction||"Right"===n.direction?0!==s&&(n.length="Right"===n.direction?n.length-s:n.length+s,(n.length||0===n.length)&&this.changeSegmentDirection(n,e)):0!==o&&(n.length="Bottom"===n.direction?n.length-o:n.length+o,(n.length||0===n.length)&&this.changeSegmentDirection(n,e)))},t.prototype.updateFirstSegment=function(e,i){var l,n=e.segments.indexOf(i),s=!1,o=e.segments[parseInt(n.toString(),10)],a=e.segments[n-1],h={segments:e.segments};if(a.length<0&&e.sourceID){var c=e.sourceWrapper.corners,u=[],p=!1;this.changeSegmentDirection(o,e);var f=e.segments[n+1],m=e.segments[n+2];switch(f&&this.changeSegmentDirection(f,e),m&&this.changeSegmentDirection(m,e),a.direction){case"Top":case"Bottom":l=o.length>0&&"Left"===o.direction?c.middleLeft:c.middleRight,o.length>c.width/2?Math.abs(a.length)<c.height/2&&(a.length=Be.distancePoints(c.center,a.points[a.points.length-1]),o.points[0].x=l.x,o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,s=!0):(f&&f.direction&&f.length&&(f.points[0].y=l.y,f.points[0].x=f.points[f.points.length-1].x="Right"===o.direction?l.x+20:l.x-20),s=!0,p=!0);break;case"Left":case"Right":l=o.length>0&&"Top"===o.direction?c.topCenter:c.bottomCenter,o.length>c.height/2?Math.abs(a.length)<c.width/2&&(a.length=Be.distancePoints(c.center,a.points[a.points.length-1]),o.points[0].y=l.y,o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,s=!0):(f&&f.direction&&f.length&&(f.points[0].x=l.x,f.points[0].y=f.points[f.points.length-1].y="Bottom"===o.direction?l.y+20:l.y-20),s=!0,p=!0)}this.changeSegmentDirection(a,e),this.changeSegmentDirection(o,e),s&&(u.push(new Ts(e,"segments",{type:"Orthogonal",direction:o.direction,length:20},!0)),p&&(f&&f.direction&&f.length&&(f.length=Be.distancePoints(f.points[0],f.points[f.points.length-1])),m&&m.direction&&m.length&&(m.length=Be.distancePoints(f.points[f.points.length-1],m.points[m.points.length-1])),e.segments.splice(n-1,2)),e.segments=u.concat(e.segments)),this.selectedSegment=p?e.segments[n-1]:e.segments[n+1],this.commandHandler.updateEndPoint(e,h)}},t.prototype.updateLastSegment=function(e,i){if(e.targetID&&""===e.targetPortID){var n=void 0,s=void 0,o=void 0,a=void 0,l=e.targetWrapper.corners,h=i.points[0],c=i.points[i.points.length-1];return"Right"===i.direction||"Left"===i.direction?(n={x:h.x,y:h.y},s={x:"Left"===i.direction?c.x-l.width/2:c.x+l.width/2,y:c.y},o={x:l.center.x,y:l.center.y-l.height},a={x:l.center.x,y:l.center.y+l.height}):(n={x:h.x,y:h.y},s={x:c.x,y:"Bottom"===i.direction?c.y+l.height/2:c.y-l.height/2},o={x:l.center.x-l.width,y:l.center.y},a={x:l.center.x+l.width,y:l.center.y}),cD({x1:n.x,y1:n.y,x2:s.x,y2:s.y},{x1:o.x,y1:o.y,x2:a.x,y2:a.y}).enabled}return!1},t.prototype.destroy=function(){},t.prototype.getModuleName=function(){return"ConnectorEditingTool"},t}(Mh),Tye=function(){function r(t,e){this.currentAction="None",this.previousAction="None",this.focus=!1,this.isBlocked=!1,this.isMouseDown=!1,this.inAction=!1,this.doingAutoScroll=!1,this.diagram=null,this.objectFinder=null,this.tool=null,this.eventArgs=null,this.isKeyUp=!0,this.keyCount=0,this.isNudgeKey=!1,this.keyArgs={},this.diagram=t,this.objectFinder=new Eye,this.commandHandler=e}return Object.defineProperty(r.prototype,"action",{get:function(){return this.currentAction},set:function(t){t!==this.currentAction&&("PortDraw"===this.currentAction&&(this.diagram.tool&=~Do.DrawOnce,this.diagram.currentDrawingObject&&(this.diagram.currentDrawingObject=null),this.tool&&this.tool.mouseUp({position:this.currentPosition}),this.tool=null),"Rotate"===t||"LabelRotate"===t?this.diagram.diagramCanvas.classList.add("e-diagram-rotate"):("Rotate"===this.currentAction||"LabelRotate"===this.currentAction)&&this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),this.currentAction=t,this.diagram.diagramActions="None"!==this.currentAction&&"Select"!==this.currentAction&&!(this.diagram.diagramActions&Dt.TextEdit)||this.commandHandler.isUserHandle(this.currentPosition)?this.diagram.diagramActions|Dt.ToolAction:this.diagram.diagramActions&~Dt.ToolAction,this.diagram.setCursor(this.diagram.getCursor(t,this.inAction)))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"blocked",{get:function(){return this.isBlocked},set:function(t){this.isBlocked=t,this.diagram.setCursor(this.blocked?"not-allowed":this.diagram.getCursor(this.action,this.inAction))},enumerable:!0,configurable:!0}),r.prototype.getMousePosition=function(t){var e,i,n;-1!==t.type.indexOf("touch")?(i=(e=t).changedTouches[0].clientX,n=e.changedTouches[0].clientY):(i=t.clientX,n=t.clientY);var s=new pi;s=$p(this.diagram);var o=this.diagram.element.getBoundingClientRect();return i=i+this.diagram.diagramCanvas.scrollLeft-o.left-s.width,n=n+this.diagram.diagramCanvas.scrollTop-o.top-s.height,i/=this.diagram.scroller.transform.scale,n/=this.diagram.scroller.transform.scale,{x:i-=this.diagram.scroller.transform.tx,y:n-=this.diagram.scroller.transform.ty}},r.prototype.windowResize=function(t){var e=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){e.updateViewPortSize(e.diagram.element)},300),!1},r.prototype.updateViewPortSize=function(t){var e=document.getElementById(t.id);if(e){var i=e.getBoundingClientRect();this.diagram.scroller.setViewPortSize(i.width,i.height);var n=new pi;n=$p(this.diagram);var s=this.diagram.getSizeValue(this.diagram.width,n.width),o=this.diagram.getSizeValue(this.diagram.height,n.height);this.diagram.diagramCanvas.style.width=s,this.diagram.diagramCanvas.style.height=o,this.diagram.scroller.setSize(),this.diagram.transformLayers(),this.diagram.rulerSettings.showRulers&&WL(this.diagram)}},r.prototype.canHideResizers=function(){return(this.tool instanceof Qp||this.tool instanceof ZG)&&this.isMouseDown},r.prototype.updateCursor=function(){if(1===this.diagram.selectedItems.nodes.length||1===this.diagram.selectedItems.connectors.length){var t=[];t=t.concat(this.diagram.selectedItems.nodes,this.diagram.selectedItems.connectors),this.blocked=!(this.eventArgs&&this.eventArgs.source&&!Vc(this.eventArgs.source))&&this.isMouseDown&&1===t.length&&this.tool instanceof aD&&!Vc(t[0])}},r.prototype.isForeignObject=function(t,e){var i=t;if(i)for(;null!==i.parentNode;){if("string"==typeof i.className&&(!e&&-1!==i.className.indexOf("foreign-object")||e&&-1!==i.className.indexOf("e-diagram-text-edit")))return i;i=i.parentNode}return null},r.prototype.isMetaKey=function(t){return"mousewheel"===t.type?t.ctrlKey:navigator.platform.match("Mac")?t.metaKey:t.ctrlKey},r.prototype.renderUmlHighLighter=function(t){this.diagram.commandHandler.removeStackHighlighter();var e=this.diagram.selectedItems.nodes[0];if(e&&e.container&&"Stack"===e.container.type&&"UmlClassifier"===e.shape.type&&!e.wrapper.bounds.containsPoint(this.currentPosition)){var n=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),s=this.diagram.findObjectUnderMouse(n,this.action,this.inAction);s&&s.parentId&&s.parentId===e.id&&QG(s.wrapper,"Vertical"===this.diagram.nameTable[s.parentId].container.orientation,t.position,this.diagram,!0)}},r.prototype.isDeleteKey=function(t,e){return navigator.platform.match("Mac")&&"Backspace"===t&&"delete"===e},r.prototype.isMouseOnScrollBar=function(t){var a,l,h,c,u,e=t.offsetX,i=t.offsetY,n=this.diagram.diagramCanvas,s=n.offsetHeight,o=n.offsetWidth;return!!(s<n.scrollHeight&&(a={x:o-17,y:0},l={x:o,y:0},h={x:o-17,y:s},c={x:o,y:s},u=Xi.toBounds([a,l,h,c]),0!==this.diagram.scroller.verticalOffset&&(u.x=u.x-this.diagram.scroller.horizontalOffset,u.y=u.y-this.diagram.scroller.verticalOffset),u.containsPoint({x:e,y:i}))||o<n.scrollWidth&&(a={x:0,y:s-17},l={x:o,y:s-17},h={x:0,y:s},c={x:o,y:s},u=Xi.toBounds([a,l,h,c]),0!==this.diagram.scroller.horizontalOffset&&(u.x=u.x-this.diagram.scroller.horizontalOffset,u.y=u.y-this.diagram.scroller.verticalOffset),u.containsPoint({x:e,y:i})))},r.prototype.updateVirtualization=function(){var t=this,i=setInterval(function(n){t.diagram.removeVirtualObjects(i)},50);setTimeout(function(){t.diagram.deleteVirtualObject=!0},50)},r.prototype.checkPreviousAction=function(){if(this.action!==this.previousAction&&this.diagram.selectedItems.userHandles.length)for(var t=0;t<this.diagram.selectedItems.userHandles.length;t++)this.previousAction&&this.diagram.selectedItems.userHandles[parseInt(t.toString(),10)]&&(this.checkUserHandleEvent(_i.onUserHandleMouseLeave),this.previousAction="None")},r.prototype.checkUserHandleEvent=function(t){if(this.diagram.selectedItems&&this.diagram.selectedItems.userHandles.length>0)for(var e=t===_i.onUserHandleMouseLeave?this.previousAction:this.action,i={element:void 0},n=0;n<this.diagram.selectedItems.userHandles.length;n++)if(e===this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name||t===_i.onUserHandleMouseUp&&"Select"===e){if(i.element=this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)],t===_i.onUserHandleMouseEnter){if(this.previousAction=this.action,i.element.tooltip&&"Auto"===i.element.tooltip.openOn&&""!==i.element.tooltip.content){RB(this.diagram,i.element);var s;s=i.element.pathData?document.getElementById(this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name+"_userhandle"):i.element.source?document.getElementById(this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name+"_image"):i.element.content?document.getElementById(this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name+"_shape_native_element"):document.getElementById(this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name+"_shape_html_element"),"Auto"===i.element.tooltip.openOn&&this.diagram.tooltipObject.open(s)}this.diagram.triggerEvent(t,i)}t===_i.onUserHandleMouseDown&&(this.userHandleObject=this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name,this.diagram.triggerEvent(t,i));var o=document.getElementById(this.diagram.selectedItems.userHandles[parseInt(n.toString(),10)].name+"_userhandle");t===_i.onUserHandleMouseUp&&this.commandHandler.isUserHandle(this.currentPosition)&&o&&o.id===this.userHandleObject+"_userhandle"&&this.diagram.triggerEvent(t,i),t===_i.onUserHandleMouseLeave&&(this.diagram.tooltipObject&&"Custom"!==this.diagram.tooltipObject.openOn&&this.diagram.tooltipObject.close(),this.diagram.triggerEvent(t,i))}},r.prototype.mouseDown=function(t){if(!0!==this.inAction||!(this.tool instanceof FL||this.tool instanceof Vd)){this.focus=!0;var e=t.touches,i=!!document.getElementsByClassName("e-dragclone")[0];if(this.isMouseOnScrollBar(t)&&!i)return this.isScrolling=!0,void t.preventDefault();if(this.checkUserHandleEvent(_i.onUserHandleMouseDown),!this.checkEditBoxAsTarget(t)&&Zx(this.diagram)||Pv(this.diagram)&&!LL(this.diagram))if(("Select"===this.action||"Drag"===this.action)&&this.diagram.updatePortVisibility(this.hoverElement,zi.Hover,!0),!(this.tool instanceof _v||this.tool instanceof Rv)||2!==t.button&&2!==t.buttons)if(!0===this.inAction&&!0===this.isMouseDown&&(this.tool instanceof _v||this.tool instanceof Rv))this.isMouseDown=!0,this.eventArgs={},this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs);else{this.isMouseDown=!0,this.currentPosition=this.prevPosition=this.getMousePosition(t),this.eventArgs={},this.diagram.textEditing&&!this.isMouseOnScrollBar(t)&&(this.diagram.endEdit(),this.diagram.textEditing=!1,"Canvas"===this.diagram.mode&&1!==this.diagram.scroller.currentZoom&&this.diagram.refreshDiagramLayer());var s=this.getTargetElement();this.action=this.diagram.findActionToBeDone(s.obj,s.sourceElement,this.currentPosition,s.target);var o=this.isMetaKey(t);o&&t.shiftKey&&this.diagram.connectorEditingToolModule?this.action="SegmentEnd":(o||t.shiftKey)&&!Pv(this.diagram)&&(this.action="Select"),this.tool=this.diagram.getTool(this.action),this.tool||(this.action="Select",this.tool=this.diagram.getTool(this.action)),this.getMouseEventArgs(this.currentPosition,this.eventArgs),(o||t.shiftKey)&&(this.eventArgs.info=o&&t.shiftKey?{ctrlKey:o,shiftKey:t.shiftKey}:{ctrlKey:!0}),this.eventArgs.position=this.currentPosition;var l=this.diagram.selectedItems.nodes;if(this.tool.mouseDown(this.eventArgs),this.diagram.selectedItems.canToggleSelection&&l&&this.diagram.selectedItems.nodes&&this.tool instanceof Qp)for(var h=0;h<l.length;h++)l[parseInt(h.toString(),10)].id!==this.diagram.selectedItems.nodes[parseInt(h.toString(),10)].id&&(this.isSwimlaneSelected=!0);this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.inAction=!1,"touchstart"===t.type&&(e&&e.length>=2&&(this.touchStartList=WX(this.touchStartList,0,e)),e||t.preventDefault())}else Rt(this.diagram),Rt(this.currentPosition),Rt(this.eventArgs.actualObject),this.inAction=!1,this.tool.mouseUp(this.eventArgs);!this.isForeignObject(t.target)&&!this.isForeignObject(t.target,!0)&&!e&&t.preventDefault()}},r.prototype.mouseMoveExtend=function(t,e){(this.tool instanceof _v||this.tool instanceof Rv)&&this.tool.mouseMove(this.eventArgs),this.diagram.scrollSettings.canAutoScroll?this.checkAutoScroll(t):this.blocked||this.tool.mouseMove(this.eventArgs),this.eventArgs.target&&(this.hoverElement=this.eventArgs.target);var i=!((this.eventArgs.target instanceof Et||this.eventArgs.target instanceof Gt)&&(e instanceof Et||e instanceof Gt));this.tool instanceof _b&&this.diagram.updatePortVisibility(this.hoverElement instanceof Et||this.hoverElement instanceof Gt?this.hoverElement:this.hoverNode,zi.Connect|zi.Hover,i),this.hoverElement instanceof Et&&this.hoverNode instanceof Et&&this.hoverNode&&this.hoverNode.id!==this.hoverElement.id&&this.diagram.updatePortVisibility(this.hoverNode,zi.Connect|zi.Hover,!0),this.hoverElement instanceof Gt&&this.hoverElement.ports.length>0&&this.diagram.updatePortVisibility(this.hoverElement,zi.Connect|zi.Hover,!0),this.hoverElement=i?null:e,this.hoverNode=i?null:e},r.prototype.checkAction=function(t){if("LabelSelect"===this.action&&this.eventArgs.sourceWrapper&&(this.eventArgs.sourceWrapper instanceof Qr||this.eventArgs.sourceWrapper instanceof Sh)){var e=this.commandHandler.findTarget(this.eventArgs.sourceWrapper,this.eventArgs.source);!Sa(this.diagram,e,!1,this.eventArgs.sourceWrapper)&&Vc(e)&&(this.action="LabelDrag",this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))}else Vc(t)&&Ab(t)&&this.initialEventArgs&&this.initialEventArgs.source&&"Select"===this.action&&(!Sa(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof Pr&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),(!(t instanceof Gt)||t instanceof Gt&&!($o(this.currentPosition,t.sourcePoint,t.hitPadding)||$o(this.currentPosition,t.targetPoint,t.hitPadding)))&&(this.action="Drag"),this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))},r.prototype.isSwimlaneElements=function(t){return!(t&&(t.isLane||t.isPhase||t.isHeader))},r.prototype.mouseMove=function(t,e){if(this.focus=!0,this.isScrolling)t.preventDefault();else if(Zx(this.diagram)||Pv(this.diagram)&&!LL(this.diagram)){this.currentPosition=this.getMousePosition(t);var i=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);!function Uve(r,t){r.rulerSettings.showRulers&&(r.hRuler.drawRulerMarker(r.hRuler.element,t,r.scroller.horizontalOffset),r.vRuler.drawRulerMarker(r.vRuler.element,t,r.scroller.verticalOffset))}(this.diagram,this.currentPosition);var s=!1,o=void 0;if("touchmove"===t.type&&(e=t.touches)&&e.length>1&&(this.touchMoveList=WX(this.touchMoveList,0,e),"PinchZoom"!==this.action&&(s=!0)),!1===Be.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown||s){this.eventArgs={};var a=null,l=void 0;if(null!==n){if((a=this.diagram.findElementUnderMouse(n,this.currentPosition))&&(l=this.commandHandler.findTarget(a,n)),l!==this.hoverElement){var h=this.getContent();this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&""!==h&&this.elementLeave(),this.diagram.updatePortVisibility(this.hoverElement,zi.Hover,!0),n instanceof Et&&(this.hoverNode=n);var c=!0;!this.isSwimlaneElements(n)&&this.hoverElement&&this.isSwimlaneElements(this.hoverElement)&&(c=!1),this.hoverElement=c?n:this.hoverElement;var u,d=void 0;(u=this.diagram.findElementUnderMouse(n,this.currentPosition))instanceof Nn&&((d=this.commandHandler.findTarget(u,n))instanceof ac||d instanceof Iy)&&this.hoverElement.constraints&kr.ToolTip&&(this.hoverElement=d),c?this.elementEnter(this.currentPosition,!1):this.hoverElement=n}else this.hoverElement&&this.hoverElement===l&&this.hoverElement.tooltip.content&&void 0!==this.diagram.tooltipObject&&"Mouse"===this.hoverElement.tooltip.relativeMode&&this.setTooltipOffset(this.currentPosition);a&&(o=this.commandHandler.findTarget(a,n))}this.action=this.diagram.findActionToBeDone(n,a,this.currentPosition,o),this.checkUserHandleEvent(_i.onUserHandleMouseEnter),this.checkPreviousAction(),this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.tool=this.getTool(this.action),this.mouseEvents(),this.tool instanceof Vd||this.tool instanceof Rv||this.tool instanceof _v?this.tool.mouseMove(this.eventArgs):e&&this.tool instanceof lD&&this.tool.mouseDown(this.eventArgs),this.updateCursor(),this.renderUmlHighLighter(this.eventArgs);var p=!1;this.hoverElement&&!(this.tool instanceof lD)&&n instanceof Et&&this.isSwimlaneElements(n)&&(0===this.diagram.selectedItems.nodes.length||!Sa(this.diagram,this.hoverElement))||this.hoverElement instanceof Gt||(p=!0),this.hoverElement&&!(this.tool instanceof lD)&&n instanceof Gt&&(0===this.diagram.selectedItems.connectors.length||!Sa(this.diagram,this.hoverElement))||this.hoverElement instanceof Et||(p=!0),this.diagram.updatePortVisibility(this.hoverElement,zi.Hover,p);var f=this.getContent();null===n&&this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&f&&(this.hoverElement=null,this.elementLeave()),s=!1}else{this.eventArgs.position=this.currentPosition,"Drag"===this.action&&!Sa(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof Pr&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.mouseEvents(),(t.ctrlKey||t.shiftKey)&&(this.eventArgs.info=t.ctrlKey&&t.shiftKey?{ctrlKey:t.ctrlKey,shiftKey:t.shiftKey}:{ctrlKey:!0}),this.checkAction(n);var M=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,M),this.updateCursor(),this.inAction=!0,this.initialEventArgs=null,("Drag"===this.action||"Rotate"===this.action)&&(this.diagram.diagramActions=this.diagram.diagramActions|Dt.Interactions),this.mouseMoveExtend(t,n)}this.prevPosition=this.currentPosition,this.isForeignObject(t.target,!0)||t.preventDefault()}}},r.prototype.getContent=function(){var i,t=this.hoverElement instanceof Et&&this.hoverElement.constraints&j.Tooltip||this.hoverElement instanceof Gt&&this.hoverElement.constraints&$e.Tooltip||(this.hoverElement instanceof ac||this.hoverElement instanceof Iy)&&this.hoverElement.constraints&kr.ToolTip,e=this.hoverElement;e instanceof Et&&e.children&&e.children.length>0&&(i=this.findIntersectChild(e));var n=t?this.hoverElement.tooltip.content:this.diagram.tooltip.content;return i?i.tooltip.content:n},r.prototype.findIntersectChild=function(t){for(var e,i=new Xi(this.currentPosition.x,this.currentPosition.y,8,8),n=0;n<t.children.length;n++)if((e=this.diagram.getObject(t.children[parseInt(n.toString(),10)])).wrapper.outerBounds.intersects(i))return e;return null},r.prototype.checkAutoScroll=function(t){var e=this.startAutoScroll(t);if(!e&&this.doingAutoScroll)this.doingAutoScroll=!1,clearInterval(this.timeOutValue);else if(e){if((this.tool instanceof FL||this.tool instanceof Vd||this.tool instanceof Qp||this.tool instanceof Rb||this.tool instanceof aD||this.tool instanceof _b)&&this.inAction){var i=this;this.diagram.scrollSettings.canAutoScroll&&e&&!this.doingAutoScroll&&(this.doingAutoScroll=!0,this.timeOutValue=setInterval(function(s){i.doAutoScroll(e,t,100)},100))}}else this.blocked=!this.tool.mouseMove(this.eventArgs)},r.prototype.mouseUp=function(t){this.eventArgs.target&&this.eventArgs.target!=this.hoverNode&&this.eventArgs.target!=this.lastObjectUnderMouse&&(this.hoverNode=this.eventArgs.target,this.lastObjectUnderMouse=this.eventArgs.target),this.checkUserHandleEvent(_i.onUserHandleMouseUp),"SVG"===this.diagram.mode&&hc(this.diagram)&&this.updateVirtualization();var n,e=this.diagram.selectedItems.nodes,i=this.diagram.selectedItems.connectors;this.diagram.previousSelectedObject=null,this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Yp.DrawSelectorBorder);var s=t.touches;if(this.isScrolling)return this.isScrolling=!1,void t.preventDefault();if(!this.checkEditBoxAsTarget(t)&&Zx(this.diagram)||Pv(this.diagram)&&!LL(this.diagram)){if(this.tool&&(!(this.tool instanceof _v||this.tool instanceof Rv)||(this.tool instanceof _v||this.tool instanceof Rv)&&2===t.detail)){if(!this.isForeignObject(t.target)&&this.isMouseDown&&document.getElementById(this.diagram.element.id+"content").focus(),!this.inAction&&3!==t.which&&"Drag"===this.action){this.action="Select";var o=this.diagram.selectedItems.nodes.concat(this.diagram.selectedItems.connectors),a=this.diagram.findObjectsUnderMouse(this.currentPosition),l=this.diagram.findObjectUnderMouse(a,this.action,this.inAction),h=!0;if(!t.ctrlKey&&this.isMouseDown&&this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>1&&1===t.which&&!function Wge(r){return!!(r&Dt.PreventClearSelection)}(this.diagram.diagramActions)&&(h=!1,this.commandHandler.clearSelection()),(!Sa(this.diagram,l)||!h)&&(this.commandHandler.selectObjects([l],void 0,o),this.diagram.selectedItems.canToggleSelection)){var c=this.diagram.selectedItems.nodes;c?c[0].parentObj instanceof yD&&(n=!0):this.diagram.selectedItems.connectors.length>0&&(n=!0)}}var u=!1,d=this.updateContainerProperties(),p=void 0;if(this.addUmlNode(),this.inAction=!1,this.isMouseDown=!1,this.currentPosition=this.getMousePosition(t),this.diagram.selectedObject.helperObject&&(p=this.updateContainerBounds()),this.tool&&(this.tool.prevPosition||this.tool instanceof JG)){this.eventArgs.position=this.currentPosition;var f=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,f);var m=this.isMetaKey(t);if((m||t.shiftKey)&&(this.eventArgs.info=m&&t.shiftKey?{ctrlKey:m,shiftKey:t.shiftKey}:{ctrlKey:!0}),this.diagram.diagramActions&Dt.Interactions&&(this.diagram.diagramActions=this.diagram.diagramActions&~Dt.Interactions),this.eventArgs.clickCount=t.detail,this.diagram.selectedObject.helperObject&&(this.tool instanceof Qp||this.tool instanceof Rb)){if(this.diagram.selectedObject.actualObject&&""!==this.diagram.selectedObject.actualObject.parentId){var T=this.diagram.getObject(this.diagram.selectedObject.actualObject.parentId);T&&T.isLane&&(this.commandHandler.isContainer=!0)}(u=this.diagram.lineRoutingModule&&this.diagram.nameTable.helper&&this.eventArgs.target&&this.eventArgs.target.isLane&&(this.eventArgs.source instanceof Pr&&this.eventArgs.source.nodes.length>0&&""===this.eventArgs.source.nodes[0].parentId||""===this.eventArgs.source.parentId))&&(this.diagram.diagramActions=this.diagram.diagramActions|Dt.PreventLaneContainerUpdate),this.tool.mouseUp(this.eventArgs,d.isPreventHistory)}else{if(this.diagram.selectedItems.canToggleSelection){var P=void 0,U=void 0;if(this.diagram.selectedItems.nodes.length>0)for(var Y=0;Y<this.diagram.selectedItems.nodes.length;Y++)this.diagram.selectedItems.nodes[parseInt(Y.toString(),10)].isLane||this.diagram.selectedItems.nodes[parseInt(Y.toString(),10)].isPhase||this.diagram.selectedItems.nodes[parseInt(Y.toString(),10)].parentObj instanceof yD||this.diagram.selectedItems.nodes[parseInt(Y.toString(),10)].parentObj instanceof rk||(P=""!=this.diagram.selectedItems.nodes[parseInt(Y.toString(),10)].parentId);var Q=this.diagram.selectedItems.nodes;for(Y=0;Y<e.length;Y++)(e.length>1&&Q[0].id==e[parseInt(Y.toString(),10)].id||i.length>0)&&(U=!0);!this.isSwimlaneSelected&&!n&&!U&&this.tool instanceof Qp&&"Select"==this.currentAction&&(!P||this.diagram.selectedItems.connectors.length>0)&&this.commandHandler.clearSelection(!0)}this.isSwimlaneSelected=!1,this.tool.mouseUp(this.eventArgs),this.diagram.checkMenu&&(-1!==window.navigator.userAgent.indexOf("Linux")||-1!==window.navigator.userAgent.indexOf("X11"))&&(!t.pageY&&t instanceof TouchEvent&&t.changedTouches?(window.getSelection().removeAllRanges(),this.diagram.contextMenuModule.contextMenu.open(t.changedTouches[0].pageY,t.changedTouches[0].pageX,this.diagram.element),t.preventDefault()):this.diagram.contextMenuModule.contextMenu.open(t.pageY,t.pageX,this.diagram.element),this.diagram.checkMenu=!1)}d.hasStack&&this.diagram.endGroupAction()}if(p&&this.diagram.endGroupAction(),this.updateContainerBounds(!0),2!==this.eventArgs.clickCount&&(this.commandHandler.updateSelectedNodeProperties(this.eventArgs.source),u)){this.diagram.diagramActions=this.diagram.diagramActions&~Dt.PreventLaneContainerUpdate;var oe=this.eventArgs.source instanceof Pr?this.eventArgs.source.nodes:[this.eventArgs.source];if(oe)for(Y=0;Y<oe.length;Y++)oe[parseInt(Y.toString(),10)].container||(this.commandHandler.dropChildToContainer(this.eventArgs.target,oe[parseInt(Y.toString(),10)]),this.commandHandler.renderContainerHelper(oe[parseInt(Y.toString(),10)]))}if(this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0},this.diagram.diagramActions&Dt.PublicMethod&&this.diagram.constraints&Un.LineRouting&&(this.diagram.diagramActions=this.diagram.diagramActions&~Dt.PublicMethod)),this.blocked=!1,this.hoverElement){var de=zi.Connect;Sa(this.diagram,this.hoverElement)&&(de|=zi.Hover),this.diagram.updatePortVisibility(this.hoverElement,de,!0),this.hoverElement=null}this.touchStartList=null,this.touchMoveList=null,this.tool instanceof jL||(this.tool=null)}s||t.preventDefault(),this.diagram.currentDrawingObject=void 0;var Me=this.diagram.selectedItems,Ve=!1;if(this.commandHandler.isUserHandle(this.currentPosition)&&this.isForeignObject(t.target)&&(Ve=!0),!this.inAction&&Me.wrapper&&Me.userHandles.length>0&&!Ve&&this.diagram.renderSelector(!0),!this.inAction&&!this.diagram.currentSymbol&&this.eventArgs){var Ce=this.getTargetElement(),ze={element:Ce.target instanceof ac?Ce.target:Rt(this.eventArgs.source)||Rt(this.diagram),position:Rt(this.eventArgs.position),count:t.detail,actualObject:Rt(this.eventArgs.actualObject),button:0===t.button?"Left":1===t.button?"Middle":"Right"};ge()&&this.diagram.click&&(ze=this.getBlazorClickEventArgs(ze)),this.diagram.tool!==Do.ZoomPan&&this.diagram.triggerEvent(_i.click,ze)}this.eventArgs={}}this.diagram.diagramActions=this.diagram.diagramActions&~Dt.PreventLaneContainerUpdate,this.eventArgs={},this.diagram.commandHandler.removeStackHighlighter()},r.prototype.getTargetElement=function(){var t,e=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action),i=this.objectFinder.findObjectUnderMouse(this.diagram,e,this.action,this.inAction,this.eventArgs,this.currentPosition),n=null;return null!==i&&(n=this.diagram.findElementUnderMouse(i,this.currentPosition))&&(t=this.commandHandler.findTarget(n,i)),{obj:i,sourceElement:n,target:t}},r.prototype.getConnectorPadding=function(t){var e,i=t.source;if(i&&i instanceof Pr&&i.connectors.length){var n=i.connectors[0];e=n.constraints&$e.ConnectToNearByPort?n.connectionPadding:0}else i&&i instanceof Gt&&"PortDraw"===this.action&&this.tool instanceof Vd&&i.constraints&$e.ConnectToNearByPort&&(e=i.connectionPadding);return e||0},r.prototype.getBlazorClickEventArgs=function(t){return t={element:this.eventArgs.source?{selector:Rt(this.eventArgs.source)}:{diagram:Rt(this.diagram)},position:Rt(this.eventArgs.position),count:t.count,actualObject:this.eventArgs.actualObject?{selector:Rt(this.eventArgs.actualObject)}:{diagram:Rt(this.diagram)},button:t.button},this.eventArgs.source instanceof Et?(t.element.selector.nodes=[],t.element.selector.nodes.push(Rt(this.eventArgs.source))):this.eventArgs.source instanceof Gt&&(t.element.selector.connectors=[],t.element.selector.connectors.push(Rt(this.eventArgs.source))),t},r.prototype.addSwimLaneObject=function(t){var e,i,n,s,o,l,a=0,h=t.shape,c=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);if(i||(i=this.diagram.findObjectUnderMouse(c,this.action,this.inAction)),this.diagram.clearSelectorLayer(),i&&!(i.isLane||i.isPhase||i.isHeader))for(var u=0;u<c.length;u++){var d=this.diagram.nameTable[c[parseInt(u.toString(),10)].id];(d.isLane||d.isPhase||d.isHeader)&&(i=d)}if(i&&(h.isPhase||h.isLane&&i.isLane)&&(e=this.diagram.nameTable[""+i.parentId]),e&&(n=e.shape,o=h.isLane?h.orientation===n.orientation:h.orientation!==n.orientation),o&&i){if(n&&n.header&&n.hasHeader&&"Horizontal"===n.orientation&&(a=1),n.phases.length>0&&(a+=1),h.isPhase){l="Horizontal"===n.orientation?this.currentPosition.x-e.wrapper.bounds.x:this.currentPosition.y-(e.wrapper.bounds.y+n.header.height);var f={id:kn(),offset:l,header:{annotation:{content:"Phase"}}};this.diagram.addPhases(e,[f])}else{var m={id:kn(),style:h.lanes[0].style,header:{annotation:{content:h.lanes[0].header.annotation.content,style:h.lanes[0].header.annotation.style},style:h.lanes[0].header.style}};if("Horizontal"===h.orientation?m.height=h.lanes[0].height:m.width=h.lanes[0].width,"Horizontal"===n.orientation?(s=i.rowIndex?i.rowIndex:this.diagram.nameTable[i.parentId].rowIndex,i.wrapper.offsetY<this.currentPosition.y&&(s+=1)):(s=i.columnIndex?i.columnIndex:this.diagram.nameTable[i.parentId].columnIndex,this.currentPosition.x<i.wrapper.bounds.center.x&&(s-=1)),n.lanes.length>s)m.header.width=n.lanes[parseInt(s.toString(),10)].header.width,m.header.height=n.lanes[parseInt(s.toString(),10)].header.height;else{var T=void 0;T="Horizontal"===n.orientation?i.rowIndex<3?0:s-a-1:s-1,m.header.width=n.lanes[parseInt(T.toString(),10)].header.width,m.header.height=n.lanes[parseInt(T.toString(),10)].header.height}this.diagram.addLanes(e,[m],"Horizontal"===n.orientation?s-a:s)}this.commandHandler.select(e)}else if(h.isLane){var P={id:kn(),width:t.width,height:t.height,addInfo:t.addInfo,shape:{type:"SwimLane",header:{annotation:{content:"Header"},height:50,style:h.lanes[0].header.style},phases:[{id:kn(),header:{annotation:{content:"Phase"}}}],lanes:[{id:kn(),height:t.height,width:t.width,style:h.lanes[0].style,header:{annotation:{content:h.lanes[0].header.annotation.content,style:h.lanes[0].header.annotation.style},style:h.lanes[0].header.style}}],orientation:h.orientation}};"Vertical"===h.orientation&&(P.width+=20),P.offsetX=this.currentPosition.x+P.width/2,P.offsetY=this.currentPosition.y+P.height/2,this.diagram.add(P)}},r.prototype.mouseLeave=function(t){this.tool&&this.inAction&&this.tool.mouseLeave(this.eventArgs),this.diagram.selectedObject.helperObject&&(this.updateContainerProperties(),this.updateContainerBounds()&&this.diagram.endGroupAction()),this.eventArgs&&this.eventArgs.source&&(this.diagram.updatePortVisibility(this.eventArgs.source,zi.Hover,!0),this.hoverElement=null),this.eventArgs&&!this.eventArgs.source&&this.hoverElement&&(this.hoverElement=null),this.tool instanceof _b&&this.eventArgs&&this.eventArgs.target&&this.eventArgs.target instanceof Et&&(this.diagram.updatePortVisibility(this.eventArgs.target,zi.Hover|zi.Connect,!0),this.hoverElement=null);var i=this.diagram.selectedItems;i&&i.wrapper&&(vD(this.diagram,i)||this.diagram.renderSelector(!0)),(this.diagram.diagramActions&Dt.Interactions||this.diagram.diagramActions&Dt.ToolAction)&&(this.diagram.diagramActions=this.diagram.diagramActions&~Dt.ToolAction),this.isMouseDown=!1,this.focus=!1,this.touchStartList=null,this.touchMoveList=null,this.elementLeave(),this.commandHandler.removeSnap(),this.inAction=!1,this.eventArgs={},this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0}),this.tool=null,function Hve(){var t,e,r=document.getElementsByClassName("e-d-ruler-marker");if(r&&r.length>0)for(e=r.length-1;e>=0;e--)(t=r[parseInt(e.toString(),10)])&&t.parentNode.removeChild(t)}(),"Rotate"===this.action&&this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),t.preventDefault()},r.prototype.mouseWheel=function(t){this.diagram.blazorActions|=Rr.interaction;var e={event:t,cancel:!1};if(this.diagram.triggerEvent(_i.mouseWheel,e),!e.cancel){var i=t.wheelDelta>0||-40*t.detail>0,n=this.getMousePosition(t);if(this.diagram.tooltipObject.close(),this.isMetaKey(t)){var o=this.diagram.scrollSettings.zoomFactor;this.diagram.zoomTo(i?{type:"ZoomIn",zoomFactor:o,focusPoint:n}:{type:"ZoomOut",zoomFactor:o,focusPoint:n}),t.preventDefault()}else{var a=this.diagram.scroller.horizontalOffset,l=this.diagram.scroller.verticalOffset,h=i?10:-10;this.tool&&(this.tool instanceof _v||this.tool instanceof Rv)&&(this.eventArgs={},this.getMouseEventArgs(n,this.eventArgs),this.eventArgs.position=n,this.tool.mouseWheel(this.eventArgs)),this.diagram.scrollActions|=jd.Interaction;var u=!1;(Math.abs(t.deltaY)<100&&-0===Math.abs(t.deltaX)||Math.abs(t.deltaX)<100&&-0===Math.abs(t.deltaY))&&(u=!0),t.shiftKey||t.deltaX&&-0!==t.deltaX&&u?this.diagram.scroller.zoom(1,h,0,n,!0,void 0,u):t.deltaY&&-0!==t.deltaY&&u&&this.diagram.scroller.zoom(1,0,h,n,!0,void 0,u),this.diagram.scrollActions&=~jd.Interaction,(a!==this.diagram.scroller.horizontalOffset||l!==this.diagram.scroller.verticalOffset)&&t.preventDefault()}if(this.diagram.textEditing){if(this.diagram.isTriggerEvent=!0,this.diagram.activeLabel.parentId){var d=this.diagram.getObject(this.diagram.activeLabel.parentId);this.diagram.startTextEdit(d,this.diagram.activeLabel.id)}this.diagram.isTriggerEvent=!1}this.diagram.blazorActions=this.diagram.blazorActions&~Rr.interaction}},r.prototype.keyDown=function(t){if(!(this.diagram.diagramActions&Dt.TextEdit)&&!this.checkEditBoxAsTarget(t)||"Escape"===t.key||27===t.keyCode){var i=void 0,n=t.keyCode?t.keyCode:t.which,s=t.key;("ArrowDown"===s||"ArrowUp"===s||"ArrowLeft"===s||"ArrowRight"===s)&&(this.isNudgeKey=!0);var o=this.isMetaKey(t);if(this.diagram.commandManager&&this.diagram.commands)for(var l=0,h=Object.keys(this.diagram.commands);l<h.length;l++){var c=h[l];if((i=this.diagram.commands[""+c])&&(i.gesture.keyModifiers||i.gesture.key)&&(n===i.gesture.key||s===bh[i.gesture.key]||this.isDeleteKey(s,c))&&(!i.gesture.keyModifiers&&!t.altKey&&!t.shiftKey&&!o||i.gesture.keyModifiers&&(o||t.altKey||t.shiftKey)&&this.altKeyPressed(i.gesture.keyModifiers)&&t.altKey||this.shiftKeyPressed(i.gesture.keyModifiers)&&t.shiftKey||this.ctrlKeyPressed(i.gesture.keyModifiers)&&o)){var u=ho(i.canExecute);if(ge()||u&&u({keyDownEventArgs:KeyboardEvent,parameter:i.parameter})){if(t.preventDefault(),"Escape"===t.key)if(this.checkEditBoxAsTarget(t))document.getElementById(this.diagram.diagramCanvas.id).focus();else if(this.diagram.currentSymbol){this.diagram.removeFromAQuad(this.diagram.currentSymbol),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[this.diagram.currentSymbol.id]),this.diagram.removeElements(this.diagram.currentSymbol),f4(this.diagram.currentSymbol,this.diagram),delete this.diagram.nameTable[this.diagram.currentSymbol.id],this.diagram.droppable.sourceElement.draggable.intDestroy();var M=this.diagram.droppable.selectedSymbols;M.parentNode.removeChild(M);var T=this.diagram.diagramActions;this.diagram.diagramActions=this.diagram.addConstraints(T,Dt.PreventClearSelection),this.tool.mouseUp(this.eventArgs),this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Yp.DrawSelectorBorder),this.diagram.previousSelectedObject&&this.diagram.select(this.diagram.previousSelectedObject),this.action="Select",this.diagram.previousSelectedObject=null,this.diagram.currentSymbol=null,this.diagram.diagramActions=this.diagram.removeConstraints(T,Dt.PreventClearSelection),this.isMouseDown=!1}else this.inAction&&this.diagram.drawingObject&&this.tool&&this.tool.inAction&&(this.tool.mouseUp(this.eventArgs),this.tool=null,this.isMouseDown=!1);if(i.execute&&this.diagram.tool!==Do.ZoomPan){var P=ho(i.execute);this.isNudgeKey?(this.isKeyUp||(this.keyCount++,this.keyCount>4&&(P({keyDownEventArgs:KeyboardEvent,parameter:i.parameter,type:"KEYDOWN"}),this.keyCount=0)),this.isKeyUp=!1):P({keyDownEventArgs:KeyboardEvent,parameter:i.parameter})}ge()&&this.diagram.triggerEvent(_i.commandExecute,{gesture:i.gesture});break}}}}this.keyArgs={element:Rt(this.diagram.selectedItems),key:t.key,keyCode:t.keyCode?t.keyCode:t.which},this.getKeyModifier(this.keyArgs,t),this.diagram.diagramActions&Dt.TextEdit&&this.getlabel(this.keyArgs,t),this.diagram.triggerEvent(_i.keyDown,this.keyArgs)},r.prototype.getlabel=function(t,e){var i=this.diagram.activeLabel;t.target=this.diagram.element.id+"_editBox";var n=this.diagram.nameTable[i.parentId];if(document.getElementById(this.diagram.element.id+"_editBox")){t.text=document.getElementById(this.diagram.element.id+"_editBox").value;for(var s=0;s<n.annotations.length;s++)if(n.annotations[parseInt(s.toString(),10)].id===i.id){t.label=n.annotations[parseInt(s.toString(),10)];break}}},r.prototype.getKeyModifier=function(t,e){t.keyModifiers=oc.None,e.ctrlKey&&(t.keyModifiers|=oc.Control),e.shiftKey&&(t.keyModifiers|=oc.Shift),e.altKey&&(t.keyModifiers|=oc.Alt),this.isMetaKey(e)&&(t.keyModifiers|=oc.Meta)},r.prototype.keyUp=function(t){this.keyArgs={element:Rt(this.diagram.selectedItems),key:t.key,keyCode:t.keyCode?t.keyCode:t.which},this.getKeyModifier(this.keyArgs,t),this.diagram.diagramActions&Dt.TextEdit&&this.getlabel(this.keyArgs,t),this.diagram.triggerEvent(_i.keyUp,this.keyArgs),!this.isKeyUp&&this.isNudgeKey&&(this.diagram.nudge("ArrowUp"===t.code?"Up":"ArrowDown"===t.code?"Down":"ArrowLeft"===t.code?"Left":"Right"),this.isNudgeKey=!1,this.keyCount=0)},r.prototype.startAutoScroll=function(t){var e=this.getMousePosition(t);e.x*=this.diagram.scroller.currentZoom,e.y*=this.diagram.scroller.currentZoom;var n,i=$p(this.diagram),s=this.diagram.scrollSettings.autoScrollBorder;if("mozilla"===Ue.info.name&&0===this.diagram.scroller.viewPortWidth){var o=document.getElementById(this.diagram.element.id).getBoundingClientRect();o.width!==this.diagram.scroller.viewPortWidth&&this.diagram.scroller.setViewPortSize(o.width,o.height)}return this.diagram.scrollSettings.canAutoScroll&&(e.x+this.diagram.scroller.horizontalOffset+s.right+i.width>=this.diagram.scroller.viewPortWidth-18?n="right":e.x+this.diagram.scroller.horizontalOffset<s.left?n="left":e.y+this.diagram.scroller.verticalOffset+s.bottom+i.height>this.diagram.scroller.viewPortHeight-18?n="bottom":e.y+this.diagram.scroller.verticalOffset<s.top&&(n="top")),n},r.prototype.doAutoScroll=function(t,e,i,n){var s=t;if((this.tool instanceof FL||this.tool instanceof Vd||this.tool instanceof Qp||this.tool instanceof Rb||this.tool instanceof aD||this.tool instanceof _b)&&this.inAction){var a=this.getMousePosition(e),h=0,c=0,u=!1,d="",p={x:a.x,y:a.y};switch(this.tool instanceof Rb&&("ResizeSouthEast"===this.tool.corner||"ResizeSouthWest"===this.tool.corner||"ResizeNorthWest"===this.tool.corner||"ResizeNorthEast"===this.tool.corner)&&(u=!0,d=this.tool.corner),s){case"right":p.x=a.x+10,h=10,u&&("ResizeSouthEast"===d?(p.y=a.y+10,c=10):(p.y=a.y-10,c=-10));break;case"left":p.x=a.x-10,h=-10,u&&("ResizeNorthWest"===d?(p.y=a.y-10,c=-10):(p.y=a.y+10,c=10));break;case"bottom":p.y=a.y+10,c=10,u&&("ResizeSouthEast"===d?(p.x=a.x+10,h=10):(p.x=a.x-10,h=-10));break;case"top":p.y=a.y-10,c=-10,u&&("ResizeNorthEast"===d?(p.x=a.x+10,h=10):(p.x=a.x-10,h=-10))}this.eventArgs.position={x:p.x,y:p.y},this.currentPosition=this.eventArgs.position;var f=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);this.eventArgs.target=this.diagram.findObjectUnderMouse(f,this.action,this.inAction),this.tool.mouseMove(this.eventArgs),this.diagram.scrollActions|=jd.Interaction,this.diagram.scroller.zoom(1,-h,-c,a,!0),this.diagram.scrollActions&=~jd.Interaction}},r.prototype.mouseEvents=function(){for(var t=this.diagram.findObjectsUnderMouse(this.currentPosition),e=0;e<t.length;e++)this.eventArgs.actualObject===t[parseInt(e.toString(),10)]&&t.splice(e,1);var i={targets:{}};if(ge()||(i={targets:Rt(t),element:Rt(this.eventArgs.source===this.eventArgs.actualObject?void 0:this.eventArgs.source),actualObject:Rt(this.eventArgs.actualObject)}),ge()&&(this.diagram.mouseEnter||this.diagram.mouseOver)&&(i.actualObject=os(this.eventArgs.actualObject)===Gt?{connector:Rt(this.eventArgs.actualObject)}:{node:Rt(this.eventArgs.actualObject)},i.targets.connector=[],i.targets.node=[],this.getBlazorCollectionObject(t,i)),this.lastObjectUnderMouse&&this.diagram.mouseLeave&&(!this.eventArgs.actualObject||this.lastObjectUnderMouse!==this.eventArgs.actualObject)){var n={targets:void 0,element:Rt(this.lastObjectUnderMouse),actualObject:void 0};ge()&&(n={targets:void 0,element:os(this.lastObjectUnderMouse)===Gt?{connector:Rt(t)}:{node:Rt(this.lastObjectUnderMouse)},actualObject:void 0}),this.diagram.triggerEvent(_i.mouseLeave,n),this.lastObjectUnderMouse=null}(!this.lastObjectUnderMouse&&this.eventArgs.source||this.lastObjectUnderMouse!==this.eventArgs.actualObject)&&(this.lastObjectUnderMouse=this.eventArgs.actualObject,void 0!==this.eventArgs.actualObject&&this.diagram.triggerEvent(_i.mouseEnter,i)),this.eventArgs.actualObject&&this.diagram.triggerEvent(_i.mouseOver,i)},r.prototype.getBlazorCollectionObject=function(t,e){if(t)for(var i=0;i<t.length;i++)os(t[parseInt(i.toString(),10)])===Gt?e.targets.connector.push(Rt(t[parseInt(i.toString(),10)])):e.targets.node.push(Rt(t[parseInt(i.toString(),10)]))},r.prototype.elementEnter=function(t,e){if(!e){var i=this.hoverElement instanceof Et&&this.hoverElement.constraints&j.Tooltip||this.hoverElement instanceof Gt&&this.hoverElement.constraints&$e.Tooltip||(this.hoverElement instanceof ac||this.hoverElement instanceof Iy)&&this.hoverElement.constraints&kr.ToolTip,n=this.getContent(),s=void 0;this.hoverElement&&this.hoverElement.children&&this.hoverElement.children.length>0&&(s=this.findIntersectChild(this.hoverElement)),"Auto"===this.hoverElement.tooltip.openOn&&""!==n&&RB(this.diagram,s||(i?this.hoverElement:void 0)),this.hoverElement.tooltip.isSticky&&(this.diagram.tooltipObject.isSticky=!0),this.hoverElement.tooltip.content&&("Mouse"===this.hoverElement.tooltip.relativeMode?this.setTooltipOffset(t):(this.diagram.tooltipObject.offsetX=0,this.diagram.tooltipObject.offsetY=0));var o=this.diagram.findObjectsUnderMouse(this.currentPosition),a=this.diagram.findObjectUnderMouse(o,this.action,this.inAction);if(null!==a){var l=void 0;a instanceof Et&&a.children&&a.children.length>0&&(a=s||a),l=a.ports&&(this.hoverElement instanceof ac||this.hoverElement instanceof Iy)?document.getElementById(a.id+"_"+this.hoverElement.id):document.getElementById(a.id+(a.shape&&a.shape instanceof Ww?"_content_native_element":"_groupElement")),"Auto"===this.hoverElement.tooltip.openOn&&""!==n&&(this.diagram.tooltipObject.close(),this.diagram.tooltipObject.openOn=this.hoverElement.tooltip.openOn,ge()?this.diagram.tooltipObject.open(l,{}):this.diagram.tooltipObject.dataBind()),function zge(r,t){var e=0;return r instanceof Gt?r.constraints&$e.Tooltip?e=r.constraints&$e.Tooltip:r.constraints&$e.InheritTooltip&&(e=t.constraints&Un.Tooltip):r instanceof ac||r instanceof Iy?r.constraints&kr.ToolTip?e=r.constraints&kr.ToolTip:r.constraints&kr.InheritTooltip&&(e=t.constraints&Un.Tooltip):r.constraints&j.Tooltip?e=r.constraints&j.Tooltip:r.constraints&j.InheritTooltip&&(e=t.constraints&Un.Tooltip),e}(this.hoverElement,this.diagram)&&"Auto"===this.hoverElement.tooltip.openOn&&(this.diagram.tooltipObject.target=this.hoverElement.id,this.diagram.tooltipObject.open("Mouse"===this.hoverElement.tooltip.relativeMode?this.diagram.element:l))}}},r.prototype.elementLeave=function(){this.diagram.tooltipObject&&!this.diagram.tooltipObject.isSticky&&"Custom"!==this.diagram.tooltipObject.openOn&&this.diagram.tooltipObject.close()},r.prototype.setTooltipOffset=function(t){var e=function rme(r,t,e,i){var o="Mouse"===(!(e instanceof Et?e.constraints&j.InheritTooltip:e instanceof Gt?e.constraints&$e.InheritTooltip:e.constraints&kr.InheritTooltip)&&(e instanceof Et?e.constraints&j.Tooltip:e instanceof Gt?e.constraints&$e.Tooltip:e.constraints&kr.ToolTip)?e.tooltip.relativeMode:r.tooltip.relativeMode);"Mouse"===i?o=!0:"Object"===i&&(o=!1);var a=function sme(r,t,e,i){var o,n={},s=document.getElementById(e.element.id);if(r instanceof Et||r instanceof Gt)o=r.wrapper.bounds;else{var a=e.findObjectsUnderMouse(t),l=e.findObjectUnderMouse(a,"Select",!1);o=e.findElementUnderMouse(l,t).bounds}var c=s.getBoundingClientRect();switch(e.tooltipObject.position){case"BottomCenter":n=Ay(t,o.bottomCenter,e,i,c.width/2,c.height);break;case"BottomLeft":case"LeftBottom":n=Ay(t,o.bottomLeft,e,i,0,c.height);break;case"BottomRight":case"RightBottom":n=Ay(t,o.bottomRight,e,i,c.width,c.height);break;case"LeftCenter":n=Ay(t,o.middleLeft,e,i,0,c.height/2);break;case"LeftTop":case"TopLeft":n=Ay(t,o.topLeft,e,i,0,0);break;case"RightCenter":n=Ay(t,o.middleRight,e,i,c.width,c.height/2);break;case"RightTop":case"TopRight":n=Ay(t,o.topRight,e,i,c.width,0);break;case"TopCenter":n=Ay(t,o.topCenter,e,i,c.width/2,0)}return n}(e,t,r,o),l=$p(r);return{x:a.x+l.width,y:a.y+l.height}}(this.diagram,t,this.hoverElement);this.diagram.tooltipObject.offsetX=e.x,this.diagram.tooltipObject.offsetY=e.y},r.prototype.altKeyPressed=function(t){return!!(t&oc.Alt)},r.prototype.ctrlKeyPressed=function(t){return!!(t&oc.Control)},r.prototype.shiftKeyPressed=function(t){return!!(t&oc.Shift)},r.prototype.scrolled=function(t){this.diagram.updateScrollOffset(),ge()&&this.diagram.realActions&Gs.OverViewAction&&this.diagram.setBlazorDiagramProps(!1)},r.prototype.doubleClick=function(t){if(Zx(this.diagram)){var e=void 0,i=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);if(null!==n&&Zx(this.diagram))if(e=this.diagram.findElementUnderMouse(n,this.currentPosition),this.tool&&(this.tool instanceof _v||this.tool instanceof Rv))Rt(n)||Rt(this.diagram),this.tool.mouseUp(this.eventArgs),this.isMouseDown=!1,this.eventArgs={},this.tool=null,t.preventDefault();else{var o=this.diagram.commandHandler.getObjectLayer(n.id);if(o&&!o.lock&&o.visible&&!(this.diagram.diagramActions&Dt.TextEdit)){var a="";"TextAnnotation"===n.shape.shape&&(a=n.wrapper.children[1].id.split("_")[1]),this.diagram.startTextEdit(n,a||(e instanceof Qr?e.id.split(n.id+"_")[1]:void 0))}}var l={source:Rt(n)||Rt(this.diagram),position:this.currentPosition,count:t.detail};if(ge()){var h;h=n instanceof Et?{nodes:[Rt(n)]}:n instanceof Gt?{connectors:[Rt(n)]}:Rt(n),l={source:n?{selector:h}:{diagram:Rt(this.diagram)},position:this.currentPosition,count:t.detail}}this.diagram.triggerEvent(_i.doubleClick,l)}},r.prototype.itemClick=function(t,e){var i=t;return wh(this.diagram,i,!0)?i:null},r.prototype.inputChange=function(t){var i,s,o,a,l,h,c,u,d,p=document.getElementById(this.diagram.element.id+"_editBox"),f=document.getElementById(this.diagram.element.id+"_editTextBoxDiv"),m=p.value,M=m.split("\n");(!(a=this.diagram.selectedItems.nodes[0]?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0])&&this.tool instanceof jL||a&&"SwimLane"===a.shape.type)&&(a=this.diagram.nameTable[this.diagram.activeLabel.parentId]),a&&("Text"!==a.shape.type&&a.annotations.length>0||"Text"===a.shape.type)&&(c=BX((o=this.diagram.getWrapper(a.wrapper,this.diagram.activeLabel.id)).style,m,void 0,void 0,i=(i=a.wrapper.bounds.width<o.bounds.width?a.wrapper.bounds.width:o.bounds.width)>90?i:90),s=Number(p.style.fontSize.split("px")[0]),M.length>1&&""===M[M.length-1]&&(c.height=c.height+s),u=this.diagram.scroller.transform,d=OG(this.diagram)?u.scale:1,h=(90>(h=c.width)?90:h)*d,l=(12>c.height?12:c.height)*d,a instanceof Gt&&"Bezier"===a.type||(f.style.left=(o.bounds.center.x+u.tx)*u.scale-h/2-2.5+"px",f.style.top=(o.bounds.center.y+u.ty)*u.scale-l/2-3+"px"),f.style.width=h+"px",f.style.height=l+"px",p.style.minHeight="12px",p.style.minWidth="90px",p.style.width=h+"px",p.style.height=l+"px")},r.prototype.isAddTextNode=function(t,e){return!(!(this.tool instanceof jL||e)||(this.tool=null,t&&!OL(this.diagram)&&(this.diagram.drawingObject=void 0,this.diagram.currentDrawingObject=void 0),CX(this.diagram.nodes,t.id)||CX(this.diagram.connectors,t.id)||this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(t)>-1))},r.prototype.checkEditBoxAsTarget=function(t){return!(!t.target||t.target.id!==this.diagram.element.id+"_editBox")},r.prototype.getMouseEventArgs=function(t,e,i,n){var s,o,a;if(e.position=t,i?(o=this.diagram.findObjectsUnderMouse(this.currentPosition,i),s=this.diagram.findTargetObjectUnderMouse(o,this.action,this.inAction,e.position,i)):"Drag"===this.action||"ConnectorSourceEnd"===this.action||"SegmentEnd"===this.action||"OrthoThumb"===this.action||"BezierSourceThumb"===this.action||"BezierTargetThumb"===this.action||"ConnectorTargetEnd"===this.action||-1!==this.action.indexOf("Rotate")||-1!==this.action.indexOf("Resize")?(s=this.diagram.selectedItems,!this.diagram.currentSymbol&&"Drag"===this.action&&s&&this.diagram.selectedItems.nodes.length>0&&"SwimLane"===this.diagram.selectedItems.nodes[0].shape.type&&(o=this.diagram.findObjectsUnderMouse(this.currentPosition),s=this.diagram.findObjectUnderMouse(o,this.action,this.inAction))):(o=this.diagram.findObjectsUnderMouse(this.currentPosition),s=this.diagram.findObjectUnderMouse(o,this.action,this.inAction)),s&&s.isHeader&&(this.eventArgs.actualObject=s=this.diagram.nameTable[s.parentId]),s){var l=void 0,h=void 0,c=void 0;if(((a=this.diagram.findElementUnderMouse(s,this.currentPosition,n))&&s.ports&&s.ports.length&&!ZL(s,a)||!a||!s)&&o&&o.length&&i instanceof Pr)for(l=i.connectors[0],c=o.length-1;c>=0;c--)if(((h=o[parseInt(c.toString(),10)])instanceof Et||h instanceof Gt)&&l&&l.connectionPadding){if(a=this.diagram.findElementUnderMouse(s=h,this.currentPosition,n),l.constraints&$e.ConnectToNearByPort&&s&&s.ports&&s.ports.length&&ZL(s,a))break;if((h instanceof Et||h instanceof Gt)&&l&&l.connectionPadding&&h.wrapper.outerBounds.containsPoint(this.currentPosition)&&l.constraints&$e.ConnectToNearByNode&&!(l.constraints&$e.ConnectToNearByPort)){a=this.diagram.findElementUnderMouse(s=h,this.currentPosition,0);break}}}return i?(e.target=s,e.targetWrapper=a):(e.source=s,e.sourceWrapper=a),e.actualObject=this.eventArgs.actualObject,e.source instanceof Pr&&void 0===e.actualObject&&(e.source.nodes.length>0||e.source.connectors.length>0)&&(e.actualObject=e.source.nodes.length>0?this.diagram.nameTable[e.source.nodes[0].id]:this.diagram.nameTable[e.source.connectors[0].id]),e.startTouches=this.touchStartList,e.moveTouches=this.touchMoveList,e},r.prototype.resetTool=function(){this.action="Select",this.hoverElement=null,this.hoverNode=null,this.tool=this.diagram.getTool(this.action),this.updateCursor()},r.prototype.getTool=function(t){switch(t){case"Select":return new aD(this.commandHandler,!0);case"Drag":return new Qp(this.commandHandler);case"Rotate":return new ZG(this.commandHandler);case"LayoutAnimation":return new Mve(this.commandHandler);case"FixedUserHandle":return new Ive(this.commandHandler,!0);case"Hyperlink":return new JG(this.commandHandler);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new Rb(this.commandHandler,t);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"BezierSourceThumb":case"BezierTargetThumb":return new _b(this.commandHandler,t);case"SegmentEnd":case"OrthoThumb":return new nQ(this.commandHandler,t);case"Draw":var e="shape",n=function Zve(r){var t;return r&&(r.type?t="Connector":r.shape&&!r.type&&(t="Node")),t}(this.diagram.drawingObject);if("Node"===n&&"Text"===this.diagram.drawingObject.shape.type)return new jL(this.commandHandler);if("Connector"===n&&"Freehand"===this.diagram.drawingObject.type)return new Tve(this.commandHandler);if("Node"===n&&("Polygon"===this.diagram.drawingObject.shape[""+e]||ge()&&"Polygon"===this.diagram.drawingObject.shape.basicShape)&&!this.diagram.drawingObject.shape.points)return new _v(this.commandHandler);if("Node"===n||"Node"===n&&"Polygon"===this.diagram.drawingObject.shape[""+e]&&this.diagram.drawingObject.shape.points)return new FL(this.commandHandler,this.diagram.drawingObject);if("Connector"===n&&"Polyline"===this.diagram.drawingObject.type)return new Rv(this.commandHandler);if("Connector"===n)return new Vd(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);break;case"Pan":return new lD(this.commandHandler,!1);case"PinchZoom":return new lD(this.commandHandler,!0);case"PortDrag":return new Qp(this.commandHandler,"Port");case"PortDraw":return new Vd(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);case"LabelSelect":return new aD(this.commandHandler,!0,"LabelSelect");case"LabelDrag":return new KG(this.commandHandler);case"LabelResizeSouthEast":case"LabelResizeSouthWest":case"LabelResizeNorthEast":case"LabelResizeNorthWest":case"LabelResizeSouth":case"LabelResizeNorth":case"LabelResizeWest":case"LabelResizeEast":return new xve(this.commandHandler,t);case"LabelRotate":return new Dve(this.commandHandler)}return null},r.prototype.getCursor=function(t){var e=this.diagram.selectedItems.annotation?this.diagram.selectedItems.wrapper.children[0]:this.diagram.selectedItems;return function wve(r,t){if(t+=360,t%=360,-1===r.indexOf("Resize"))return l4[""+r];var e=l4[""+r];return t>=0&&t<25||t>=160&&t<=205||t>=340&&t<=360?e:t>=25&&t<=70||t>=205&&t<=250?"n-resize"===e||"s-resize"===e?"ne-resize":"nw-resize"===e||"se-resize"===e?"n-resize":"e-resize"===e||"w-resize"===e?"nw-resize":"e-resize":t>=70&&t<=115||t>=250&&t<=295?"n-resize"===e||"s-resize"===e?"e-resize":"nw-resize"===e||"se-resize"===e?"ne-resize":"e-resize"===e||"w-resize"===e?"n-resize":"nw-resize":t>=115&&t<=155||t>=295&&t<=340?"n-resize"===e||"s-resize"===e?"nw-resize":"nw-resize"===e||"se-resize"===e?"e-resize":"e-resize"===e||"w-resize"===e?"ne-resize":l4[""+r]:"n-resize"}(t,this.diagram.selectedItems.annotation?e.rotateAngle+e.parentTransform:e.rotateAngle)},r.prototype.findElementUnderMouse=function(t,e,i){return this.objectFinder.findElementUnderSelectedItem(t,e,i)},r.prototype.findObjectsUnderMouse=function(t,e){return this.objectFinder.findObjectsUnderMouse(t,this.diagram,this.eventArgs,e)},r.prototype.findObjectUnderMouse=function(t,e,i){return this.objectFinder.findObjectUnderMouse(this.diagram,t,e,i,this.eventArgs,this.currentPosition)},r.prototype.findTargetUnderMouse=function(t,e,i,n,s){return this.objectFinder.findObjectUnderMouse(this.diagram,t,e,i,this.eventArgs,n,s)},r.prototype.findActionToBeDone=function(t,e,i,n){return function vve(r,t,e,i,n,s,o){if(s&&s.length>1&&n&&n.length>1)return"PinchZoom";if(i.currentSymbol)return"Drag";if("PortDraw"===i.eventHandler.action&&(i.tool&=~Do.DrawOnce),(AG(i)||OL(i))&&i.drawingObject)return"Draw";if(Xp(i)&&(l=i.selectedItems).wrapper&&Pa(l.constraints,"UserHandle"))for(var h=0,c=l.userHandles;h<c.length;h++){var u=c[h];if(u.visible&&$o(e,d=m4(l,u,i.scroller.transform),u.size/(2*i.scroller.transform.scale)))return u.name}if(Xp(i)){var p=i.selectedItems.annotation?i.selectedItems.wrapper.children[0]:i.selectedItems.wrapper,f=p.bounds,l=i.selectedItems,d=new Xi(f.x,f.y,f.width,f.height);if($G(i)&&!i.selectedItems.annotation){var m=i.selectedItems.connectors[0],M=i.selectedItems.handleSize/2/i.scrollSettings.currentZoom,T=i.selectedItems.handleSize/2/i.scrollSettings.currentZoom;if(Pa(l.constraints,"ResizeAll")){if(Pa(l.constraints,"ConnectorSourceThumb")&&ML(m)&&$o(e,m.sourcePoint,M))return"ConnectorSourceEnd";if(Pa(l.constraints,"ConnectorTargetThumb")&&xL(m)&&$o(e,m.targetPoint,T))return"ConnectorTargetEnd";var P=function yve(r,t,e,i){var n=t.handleSize/2/i.scrollSettings.currentZoom,s=t.handleSize/2/i.scrollSettings.currentZoom;if("Bezier"===r.type&&i.connectorEditingToolModule)for(var o=0;o<r.segments.length;o++){var a=r.segments[parseInt(o.toString(),10)];if($o(e,Be.isEmptyPoint(a.point1)?a.bezierPoint1:a.point1,s)&&(0===o&&Ly(r.bezierSettings.controlPointsVisibility,"Source")||0!==o&&Ly(r.bezierSettings.controlPointsVisibility,"Intermediate")))return"BezierSourceThumb";if($o(e,Be.isEmptyPoint(a.point2)?a.bezierPoint2:a.point2,n)&&(o===r.segments.length-1&&Ly(r.bezierSettings.controlPointsVisibility,"Target")||o!==r.segments.length-1&&Ly(r.bezierSettings.controlPointsVisibility,"Intermediate")))return"BezierTargetThumb"}if(i.connectorEditingToolModule&&ZB(r))if("Straight"===r.type||"Bezier"===r.type){for(o=0;o<r.segments.length;o++)if($o(e,(a=r.segments[parseInt(o.toString(),10)]).point,10))return"SegmentEnd"}else for(o=0;o<r.segments.length;o++){var l={x:0,y:0};if((a=r.segments[parseInt(o.toString(),10)]).allowDrag)for(var h=0;h<a.points.length-1;h++)if(Be.distancePoints(a.points[parseInt(h.toString(),10)],a.points[h+1])>=50&&(l.x=(a.points[parseInt(h.toString(),10)].x+a.points[h+1].x)/2,l.y=(a.points[parseInt(h.toString(),10)].y+a.points[h+1].y)/2,$o(e,l,30)))return"OrthoThumb"}return null}(m,l,e,i);if("OrthoThumb"===P)return P;if(Pa(l.constraints,"ConnectorSourceThumb")&&ML(m)&&P||Pa(l.constraints,"ConnectorTargetThumb")&&xL(m)&&P)return P}}else{var U=i.selectedItems.handleSize/2/i.scroller.currentZoom,Y=10/i.scroller.currentZoom,X=Bs();to(X,p.rotateAngle+p.parentTransform,p.offsetX,p.offsetY);var Q=p.offsetX-p.pivot.x*p.actualSize.width,oe=p.offsetY-p.pivot.y*p.actualSize.height,de={x:Q+(.5===p.pivot.x?2*p.pivot.x:p.pivot.x)*p.actualSize.width/2,y:oe-30/i.scroller.currentZoom};de=xn(X,de);var Me=!!i.selectedItems.annotation,Ve=!(!Me||!DL(i.selectedItems.annotation));if(Pa(l.constraints,"Rotate")&&$o(e,de,Y)&&i.selectedItems.thumbsConstraints&ir.Rotate){if(Me&&Ve)return"LabelRotate";if(!Me)return"Rotate"}if(d.Inflate(U),d.containsPoint(e)&&(P=function mve(r,t,e,i,n,s){var o;return 1===r.selectedItems.nodes.length&&0===r.selectedItems.connectors.length&&r.selectedItems.nodes[0].container&&(o=function Cve(r,t,e,i,n){var s=10/r.scroller.currentZoom,o=40/r.scroller.currentZoom,a=r.selectedItems,l=t.actualSize.width,h=t.actualSize.height,c=new Xi(i,n+20,t.style.strokeWidth,h-40),u=new Xi(i+l,n+20,t.style.strokeWidth,h-40),d=new Xi(i+20,n,l-40,t.style.strokeWidth),p=new Xi(i+20,n+h,l-40,t.style.strokeWidth),f=wh(r,r.selectedItems.nodes[0],!0)?r.nameTable[r.selectedItems.nodes[0].parentId]:r.selectedItems.nodes[0];if(l>=o&&h>=o){if(Wd(a.constraints,"ResizeEast",a.thumbsConstraints,a)&&u.containsPoint(e,s))return"ResizeEast";if(Wd(a.constraints,"ResizeSouth",a.thumbsConstraints,a)&&p.containsPoint(e,s))return"ResizeSouth";if("Grid"!==f.container.type){if(Wd(a.constraints,"ResizeWest",a.thumbsConstraints,a)&&c.containsPoint(e,s))return"ResizeWest";if(Wd(a.constraints,"ResizeNorth",a.thumbsConstraints,a)&&d.containsPoint(e,s))return"ResizeNorth"}}return null}(r,t,e,n,s)),!o&&(!r.selectedItems.nodes[0]||!r.selectedItems.nodes[0].isPhase&&!r.selectedItems.nodes[0].isLane&&"SwimLane"!==r.selectedItems.nodes[0].shape.type)&&(o=function Sve(r,t,e,i,n,s){var o=40/r.scroller.currentZoom,a=r.selectedItems.handleSize/2/r.scroller.currentZoom,l=r.selectedItems,h=!!l.annotation;if(t.actualSize.width>=o&&t.actualSize.height>=o){if(Wd(l.constraints,"ResizeSouthEast",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n+t.actualSize.width,y:s+t.actualSize.height}),a))return h?"LabelResizeSouthEast":"ResizeSouthEast";if(Wd(l.constraints,"ResizeSouthWest",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n,y:s+t.actualSize.height}),a))return h?"LabelResizeSouthWest":"ResizeSouthWest";if(Wd(l.constraints,"ResizeNorthEast",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n+t.actualSize.width,y:s}),a))return h?"LabelResizeNorthEast":"ResizeNorthEast";if(Wd(l.constraints,"ResizeNorthWest",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n,y:s}),a))return h?"LabelResizeNorthWest":"ResizeNorthWest"}return Wd(l.constraints,"ResizeEast",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n+t.actualSize.width,y:s+t.actualSize.height/2}),a)?h?"LabelResizeEast":"ResizeEast":Wd(l.constraints,"ResizeWest",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n,y:s+t.actualSize.height/2}),a)?h?"LabelResizeWest":"ResizeWest":Wd(l.constraints,"ResizeSouth",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n+t.actualSize.width/2,y:s+t.actualSize.height}),a)?h?"LabelResizeSouth":"ResizeSouth":Wd(l.constraints,"ResizeNorth",l.thumbsConstraints,l)&&$o(e,xn(i,{x:n+t.actualSize.width/2,y:s}),a)?h?"LabelResizeNorth":"ResizeNorth":null}(r,t,e,i,n,s)),o||null}(i,p,e,X,Q,oe),P))return P}}if(Pv(i)&&!r)return"Pan";if((o instanceof ac||o instanceof Iy)&&(!Pv(i)||AL(i)||JB(i))&&(P=function bve(r,t,e,i){if(e4(t)&&(Yd(t,zi.Hover)||Yd(t,zi.Visible))){if(t.constraints&kr.Drag)return"PortDrag"}else if(KB(t)&&(Yd(t,zi.Hover)||Yd(t,zi.Visible))&&t.constraints&kr.Draw){r.drawingObject={};var n={type:"Orthogonal",sourcePortID:t.id};return r.drawingObject=n,r.tool|=Do.DrawOnce,r.currentDrawingObject=n,"PortDraw"}return"None"}(i,o),"None"!==P))return P;if((o instanceof qu||o instanceof zl)&&!Pv(i)&&Ab(o))return Sa(i,o,void 0,t)&&Vc(o)?"LabelDrag":"LabelSelect";if(null!==r){if(!(r instanceof Et||r instanceof Gt))return"Select";if(t&&t.id){var Ce=t.id.split(r.id)[1];if(Ce&&Ce.match("^_icon"))return"LayoutAnimation"}if(t&&t.id)for(var ze=void 0,Ie=0;Ie<r.fixedUserHandles.length;Ie++)if(ze=r.fixedUserHandles[parseInt(Ie.toString(),10)].id,t.id&&t.id.indexOf(ze)>-1)return"FixedUserHandle";if(t instanceof Qr&&t.hyperlink.link)return"Hyperlink";if(!Vc(r)||!Sa(i,r,!1)||void 0!==i.selectedItems.annotation)return r&&Pv(i)&&!LL(i)?"Pan":i.selectedItems.nodes.length&&i.selectedItems.nodes[0].isLane&&i.selectedItems.wrapper&&i.selectedItems.wrapper.bounds.containsPoint(e)?"Drag":"Select";if(r instanceof Gt&&!$o(e,r.sourcePoint,r.hitPadding)&&!$o(e,r.targetPoint,r.hitPadding)||!(r instanceof Gt))return"Drag"}return"Select"}(t,e,this.currentPosition,this.diagram,this.touchStartList,this.touchMoveList,n)},r.prototype.updateContainerBounds=function(t){var e=!1;if(this.diagram.selectedObject.helperObject&&this.diagram.selectedObject.actualObject instanceof Et){var i=this.tool instanceof Rb,n=this.diagram.selectedObject.actualObject,s=this.diagram.nameTable[n.parentId];t?YG(this.diagram,n,this.currentPosition,i):((!s||s&&"SwimLane"!==s.shape.type)&&this.diagram.updateDiagramObject(n),e=function dve(r,t,e,i){var n,o=!1;if(wh(r,t,!0)){r.protectPropertyChange(!0);var a=(n=r.nameTable[t.parentId]).wrapper;if(n&&"Canvas"===n.container.type){if(i||a.bounds.x<=e.x&&a.bounds.right>=e.x&&a.bounds.y<=e.y&&a.bounds.bottom>=e.y){var l=void 0,h=a.bounds.y,c=a.bounds.x,u=r.nameTable[n.parentId]||n;if("SwimLane"===u.shape.type)o=oD(n,u,t,r,!0);else{var p=r.nameTable[n.parentId]||n,f=p.shape;l=p.wrapper,a.actualSize.width<a.outerBounds.width&&!(a.bounds.x>a.outerBounds.x)&&(void 0!==n.rowIndex?(l.updateColumnWidth(n.columnIndex,a.outerBounds.width,!0),"Horizontal"===f.orientation&&f.phaseSize&&RL(p,r,a,n.columnIndex),Ty(r,p),r.drag(p,c-a.bounds.x,h-a.bounds.y)):r.scale(n,1+(a.outerBounds.width-a.actualSize.width)/a.actualSize.width,1,a.outerBounds.x<a.bounds.x?{x:1,y:.5}:{x:0,y:.5})),a.actualSize.height<a.outerBounds.height&&!(a.bounds.y>a.outerBounds.y)&&(void 0!==n.rowIndex?(l.updateRowHeight(n.rowIndex,a.outerBounds.height,!0),r.drag(p,c-a.bounds.x,h-a.bounds.y)):r.scale(n,1,1+(a.outerBounds.height-a.actualSize.height)/a.actualSize.height,a.outerBounds.y<a.bounds.y?{x:.5,y:1}:{x:.5,y:0}))}}r.select([t]),kb([],r)}r.protectPropertyChange(!1)}return o}(this.diagram,n,this.currentPosition,i),this.diagram.updateSelector(),(n.isLane||n.isPhase)&&(this.diagram.clearSelection(),this.commandHandler.selectObjects([n])))}return e},r.prototype.updateContainerProperties=function(){var t,i,n,o,e=!1,s=!1,a={hasStack:!1,isPreventHistory:!1};if(this.diagram.selectedObject.helperObject){var l=this.diagram.findObjectsUnderMouse(this.currentPosition),h=this.diagram.findObjectUnderMouse(l,this.action,this.inAction);if(t=this.diagram.selectedObject.helperObject,(o=this.diagram.selectedObject.actualObject)instanceof Et){if("SwimLane"===o.shape.type&&(n=Dy(this.diagram,o.wrapper.children[0])),"SwimLane"!==o.shape.type&&o.parentId&&"SwimLane"===this.diagram.getObject(o.parentId).shape.type&&h instanceof Et&&this.diagram.getObject(h.parentId)&&"SwimLane"!==this.diagram.getObject(h.parentId).shape.type&&(h=this.diagram.getObject(h.parentId)),"Drag"===this.currentAction&&o.container&&"Canvas"===o.container.type&&o.parentId&&"SwimLane"===this.diagram.getObject(o.parentId).shape.type&&h&&h!==o&&h.container&&"Canvas"===h.container.type&&h.isLane&&o.isLane&&h.parentId===o.parentId)zG(this.diagram,o,h,this.currentPosition),a.isPreventHistory=!0;else{var c=this.diagram.nameTable[o.parentId];if(!c||c&&"SwimLane"!==c.shape.type)if(c&&c.isLane&&o.constraints&j.AllowMovingOutsideLane){var u=this.diagram.getObject(c.parentId),p=this.diagram.getObject(u.id+u.shape.lanes[0].id+"0"),f=p.wrapper.bounds.x,m=p.wrapper.bounds.y;new Xi(f,m,u.wrapper.bounds.bottomRight.x-f,u.wrapper.bounds.bottomRight.y-m).containsPoint(this.currentPosition)&&(o.offsetX=t.offsetX,o.offsetY=t.offsetY,o.width=t.width,o.height=t.height,o.rotateAngle=t.rotateAngle)}else o.offsetX=t.offsetX,o.offsetY=t.offsetY,o&&o.shape&&"UmlClassifier"!==o.shape.type&&("Bpmn"!==o.shape.type||"Bpmn"===o.shape.type&&"TextAnnotation"!==o.shape.shape)&&(o.width=t.width,o.height=t.height),o.rotateAngle=t.rotateAngle;var U=void 0;if(c&&c.container&&"Stack"===c.container.type&&(this.diagram.startGroupAction(),s=!0),!h&&c&&c.container&&"Stack"===c.container.type&&"Drag"===this.action){var Y=c.wrapper.children.indexOf(o.wrapper);if(U={targetIndex:void 0,target:void 0,sourceIndex:Y,source:rt(o)},Y>-1){var X=c.children;X.splice(X.indexOf(o.id),1),this.diagram.nameTable[o.id].parentId="",i=!0,c.wrapper.children.splice(Y,1)}}(function gve(r,t,e,i){var n=r,s=e.nameTable[n.parentId],o=e.nameTable[n.parentId];if(t&&o&&o.container&&"Stack"===o.container.type&&t.container&&"Stack"===t.container.type&&o.id!==t.parentId){var a=o.wrapper.children.indexOf(n.wrapper);a>-1&&(e.nameTable[n.id].parentId=t.id,o.wrapper.children.splice(a,1))}if(t&&t.parentId&&n.parentId&&"Drag"===i&&o.container&&"Stack"===o.container.type){var l=s.wrapper.children.indexOf(t.wrapper),h=s.wrapper.children.indexOf(n.wrapper),c={targetIndex:l,target:t,sourceIndex:h,source:r};s.wrapper.children.splice(h,1),s.wrapper.children.splice(l,0,n.wrapper),e.commandHandler.addHistoryEntry({type:"StackChildPositionChanged",redoObject:{targetIndex:h,target:t,sourceIndex:l,source:r},undoObject:c,category:"Internal"})}})(o,h,this.diagram,this.action),(c=wh(this.diagram,o)?this.diagram.nameTable[o.parentId]:this.diagram.nameTable[o.parentId]||o)&&c.container&&"Canvas"===c.container.type&&(c.wrapper.maxWidth=c.maxWidth=c.wrapper.actualSize.width,c.wrapper.maxHeight=c.maxHeight=c.wrapper.actualSize.height,e=!0),wh(this.diagram,o,!0)&&c&&"Canvas"===c.container.type?a4(this.diagram,o):a=this.updateContainerPropertiesExtend(c,o,n,t,a),this.diagram.lineRoutingModule&&this.diagram.constraints&Un.LineRouting&&!wh(this.diagram,o,!0)&&(o.children&&(this.diagram.realActions|=Gs.EnableGroupAction),this.diagram.nodePropertyChange(o,{},{width:o.width,height:o.height,offsetX:o.offsetX,offsetY:o.offsetY}),o.children&&(this.diagram.realActions&=~Gs.EnableGroupAction)),o.shape.lanes&&this.updateLaneChildNode(o),e&&(c.maxWidth=c.wrapper.maxWidth=void 0,c.maxHeight=c.wrapper.maxHeight=void 0),i&&(this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle}),this.diagram.diagramActions&Dt.UndoRedo||this.diagram.addHistoryEntry({redoObject:{sourceIndex:void 0,source:U.source},type:"StackChildPositionChanged",undoObject:U,category:"Internal"})),o&&o.container&&("Stack"===o.container.type||"Canvas"===o.container.type&&""===o.parentId)&&(o&&o.shape&&"UmlClassifier"===o.shape.type&&(o.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(o,{},{offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height,rotateAngle:o.rotateAngle}),o&&o.shape&&"UmlClassifier"===o.shape.type&&(o.wrapper.measureChildren=!1))}kb(n,this.diagram),a.hasStack=s}}return o&&(o.isPhase||o.isLane||o.shape&&"SwimLane"===o.shape.type)&&this.diagram.updateDiagramElementQuad(),a},r.prototype.updateLaneChildNode=function(t){for(var e=0;e<t.shape.lanes.length;e++)if(t.shape.lanes[parseInt(e.toString(),10)].children&&t.shape.lanes[parseInt(e.toString(),10)].children.length>0)for(var i=0;i<t.shape.lanes[parseInt(e.toString(),10)].children.length;i++){var n=t.shape.lanes[parseInt(e.toString(),10)].children[parseInt(i.toString(),10)].id,s=this.diagram.nameTable[""+n];s&&(s.offsetX=s.wrapper.offsetX,s.offsetY=s.wrapper.offsetY)}},r.prototype.updateContainerPropertiesExtend=function(t,e,i,n,s){if("ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction||"SwimLane"===e.shape.type){var o=rt(e),a=!1;if(t&&t.container&&"Grid"===t.container.type){var l="SwimLane"===t.shape.type,h=l?t.wrapper.children[0]:t.wrapper,c=l?t.shape.padding:void 0,u=t.wrapper.bounds.x,d=t.wrapper.bounds.y;if(void 0!==e.columnIndex&&"Horizontal"===t.container.orientation&&(l&&e.isPhase||!l&&1===e.rowIndex)||"Vertical"===t.container.orientation&&(!l&&e.rowIndex>0&&e.columnIndex>0||l&&e.isLane)){if("Horizontal"===t.container.orientation&&e.isPhase&&e.wrapper.width>e.maxWidth&&(e.maxWidth=e.wrapper.width,e.wrapper.maxWidth=e.wrapper.width),n4(this.diagram,e,t,n),h.updateColumnWidth(e.columnIndex,n.width,!0,c),e.isPhase){var f=this.diagram.nameTable[""+t.shape.phases[e.columnIndex].header.id];f.maxWidth<n.width&&(f.maxWidth=n.width,f.wrapper.maxWidth=n.width)}"SwimLane"===t.shape.type&&(t.width=t.width?h.width:t.width,Ty(this.diagram,t),t.wrapper.width=t.width,i=Dy(this.diagram,h))}else void 0!==e.rowIndex&&(a=!0,n4(this.diagram,e,t,n),h.updateRowHeight(e.rowIndex,n.height,!0,c),"SwimLane"===t.shape.type&&(t.height=t.height?h.height:t.height,t.wrapper.height=t.height,i=Dy(this.diagram,h)));"SwimLane"===t.shape.type&&(s.isPreventHistory=!0),this.diagram.nodePropertyChange(t,{},{offsetX:t.offsetX,offsetY:t.offsetY,rotateAngle:t.rotateAngle}),this.diagram.drag(t,u-t.wrapper.bounds.x,d-t.wrapper.bounds.y)}else e&&e.shape&&"UmlClassifier"===e.shape.type&&(e.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(e,{},{offsetX:e.offsetX,offsetY:e.offsetY,width:e.width,height:e.height,rotateAngle:e.rotateAngle}),e.wrapper.measureChildren=!1;if(e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),"ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction){var m=rt(e);this.diagram.addHistoryEntry({category:"Internal",type:a?"RowHeightChanged":"ColumnWidthChanged",undoObject:o,redoObject:m})}}return kb(i,this.diagram),s},r.prototype.addUmlNode=function(){var t=this.diagram.selectedItems.nodes[0],e=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x+20,y:this.currentPosition.y}),i=this.diagram.findObjectUnderMouse(e,this.action,this.inAction);if(i||(e=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),i=this.diagram.findObjectUnderMouse(e,this.action,this.inAction)),t&&t.container&&"Stack"===t.container.type&&i&&i.parentId&&i.parentId===t.id){var n=i,s=$f(this.diagram.element.id);if(s.getElementById(s.id+"_stack_highlighter")){var a=t.wrapper.children.indexOf(i.wrapper)+1;this.diagram.enableServerDataBinding(!1);var l=new Et(this.diagram,"nodes",{style:{fill:t.style.fill,strokeColor:"black"===t.style.strokeColor?"#ffffff00":t.style.strokeColor},annotations:i.annotations,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(j.Default|j.HideThumbs)&~(j.Rotate|j.Drag|j.Resize),minHeight:25},!0);l.annotations[0].content=" + Name : Type",n.id.split("_"),l.id=kn()+l.id,l.parentId=t.id,l.zIndex=-1,l.umlIndex=a,this.diagram.startGroupAction(),t.wrapper.children.indexOf(l.wrapper),this.diagram.enableServerDataBinding(!0),this.diagram.add(l),this.diagram.updateConnectorEdges(t),this.diagram.clearSelection(),this.diagram.select([this.diagram.nameTable[l.id]]),this.diagram.endGroupAction(),this.diagram.startTextEdit()}}},r}(),Eye=function(){function r(){}return r.prototype.findObjectsUnderMouse=function(t,e,i,n,s){var o=[];n&&n instanceof Pr&&n.nodes.length+n.connectors.length===1&&(n=n.nodes[0]||n.connectors[0]).children&&0===n.children.length&&(i.actualObject=n);for(var a,l,h,c,f,u=n&&n instanceof Gt&&(n.constraints&$e.ConnectToNearByNode||n.constraints&$e.ConnectToNearByPort)&&n.connectionPadding||0,p={},m=0,M=e.spatialSearch.findObjects(new Xi(t.x-50-u,t.y-50-u,100+u,100+u));m<M.length;m++){var P=t;l=(T=M[m]).wrapper.outerBounds;var U=!T.rotateAngle&&l.containsPoint(P,u);if(((T!==n||e.currentDrawingObject instanceof Gt)&&T instanceof Gt?T!==e.currentDrawingObject:T.wrapper.visible)&&(Y=e.commandHandler.getObjectLayer(T.id))&&!Y.lock&&Y.visible){if(f=p[Y.zIndex]=p[Y.zIndex]||[],T.rotateAngle){l=gl(a=T.wrapper);for(var X=0,Q=a.children;X<Q.length;X++)h=Q[X],to(c=Bs(),-(h.rotateAngle+h.parentTransform),h.offsetX,h.offsetY),P=xn(c,t),gl(h).containsPoint(P,u)&&(U=!0)}n&&!1!==Sa(e,T)||!Pge(T)||!(T instanceof Gt?nme(T,t):U)||this.findElementUnderMouse(T,t,u||T instanceof Gt&&T.hitPadding||0)&&"helper"!==T.id&&Tme(T,"zIndex",f)}}for(var Me=0,Ve=e.layers;Me<Ve.length;Me++)for(var Y,Ce=0,ze=o=o.concat(p[(Y=Ve[Me]).zIndex]||[]);Ce<ze.length;Ce++){var T,Ie="eventHandler";"Bpmn"!==(T=ze[Ce]).shape.type||!T.processId||e[""+Ie].tool instanceof Qp&&!(e[""+Ie].tool instanceof Qp&&EL(T))||(pe=o.indexOf(e.nameTable[T.processId]))>-1&&o.splice(pe,1),"UmlClassifier"===T.shape.type&&T.container&&"Stack"===T.container.type&&(pe=o.indexOf(e.nameTable[e.nameTable[T.id].wrapper.children[0].id]))>-1&&o.splice(pe,1)}for(var Pe=0;Pe<o.length;Pe++){var Qe=e.nameTable[o[parseInt(Pe.toString(),10)].parentId];if(Qe)for(var Oe=this.findElementUnderMouse(Qe,t),Ye=0;Ye<Qe.ports.length;Ye++)if(Oe.id.match("_"+Qe.ports[parseInt(Ye.toString(),10)].id+"$")){var ut=Qe.ports[parseInt(Ye.toString(),10)];if(e4(ut)||KB(ut))return o}for(;Qe;){var pe;if(-1===(pe=o.indexOf(Qe)))break;o.splice(pe,1),Qe=e.nameTable[Qe.parentId]}}if(this.checkSwimlane(o,e),i&&!i.source)for(Pe=0;Pe<o.length;Pe++){var Xt=e.nameTable[o[parseInt(Pe.toString(),10)].parentId];if(Xt&&"SwimLane"===Xt.shape.type)for(Ye=0;Ye<o.length;Ye++)o[parseInt(Ye.toString(),10)]instanceof Gt&&o.splice(Pe,1)}return o},r.prototype.checkSwimlane=function(t,e){for(var i,n=0;n<t.length;n++){var s=t[parseInt(n.toString(),10)],o=void 0,a=void 0;s instanceof Et&&(o=t[parseInt(n.toString(),10)].parentId,a=s),""===o&&(i="SwimLane"!==a.shape.type);var l=e.nameTable[""+o];if(l&&l.isLane&&e.nameTable[l.parentId].zIndex>s.zIndex&&(t[parseInt(n.toString(),10)]=l),n>0&&i&&a&&(a.isLane||a.isPhase||a.isHeader)&&t[parseInt(n.toString(),10)].zIndex<t[n-1].zIndex){var h=t[parseInt(n.toString(),10)];t[parseInt(n.toString(),10)]=t[n-1],t[n-1]=h}}if(t.length>=2)for(var u=t.length-1;u>=0;u--)if(t[parseInt(u.toString(),10)].parentId){var d=gD(t[parseInt(u.toString(),10)],e,""),p=gD(t[u-1],e,""),m=e.nameTable[""+p];m&&d!==p&&e.nameTable[""+d].zIndex<m.zIndex&&t.splice(u,1)}},r.prototype.isTarget=function(t,e,i){var s,n=e.selectedItems.connectors[0];if((s="ConnectorSourceEnd"===i?e.nameTable[n.targetID]:s=e.nameTable[n.sourceID])&&!(s.processId&&!t.processId||s.processId!==t.processId)&&(s.processId!==t.processId&&(t=null),t&&t.parentId&&"UmlClassifier"===e.nameTable[t.parentId].shape.type&&(t=e.nameTable[t.parentId])),"ConnectorSourceEnd"===i&&n.targetID){var o=e.nameTable[n.targetID];if(o&&o.shape&&"TextAnnotation"===o.shape.shape){var a=n.id.split("_");("Bpmn"===o.shape.type&&"Bpmn"!==t.shape.type||a[0]===t.id||"TextAnnotation"===t.shape.shape)&&(t=null),t.parentId&&"UmlClassifier"===e.nameTable[t.parentId].shape.type&&(t=e.nameTable[t.parentId])}}return t},r.prototype.findObjectUnderMouse=function(t,e,i,n,s,o,a){var c,u,l="eventHandler",h="endPoint",d=null;if(0!==e.length)if(a&&a instanceof Pr&&a.nodes.length+a.connectors.length===1&&(a=a.nodes[0]||a.connectors[0]),"ConnectorSourceEnd"===i&&a||"PortDraw"===i||(AG(t)||OL(t))&&os(t.drawingObject)===Gt)for(var p=t.selectedItems.connectors[0],f=e.length-1;f>=0;f--){u=Uw(e[parseInt(f.toString(),10)],!1),c=Uw(e[parseInt(f.toString(),10)],!0);var m=t[""+l].tool,M=this.findTargetElement(e[parseInt(f.toString(),10)].wrapper,o,void 0);if("Draw"===i&&M&&(e[parseInt(f.toString(),10)]instanceof Et||e[parseInt(f.toString(),10)]instanceof Gt)&&!ZL(e[parseInt(f.toString(),10)],M)&&(m&&"ConnectorSourceEnd"===m[""+h]&&!Nv(e[parseInt(f.toString(),10)])||m&&"ConnectorTargetEnd"===m[""+h]&&!Ud(e[parseInt(f.toString(),10)])))return d;if(e[parseInt(f.toString(),10)]instanceof Et||e[parseInt(f.toString(),10)]instanceof Gt&&(Nv(e[parseInt(f.toString(),10)])||Ob(u)||Ud(e[parseInt(f.toString(),10)])||kv(c)||"PortDraw"===i&&m instanceof _b&&"ConnectorTargetEnd"===m[""+h]&&(Ud(e[parseInt(f.toString(),10)])||kv(c))))return d=e[parseInt(f.toString(),10)],p&&(d=this.isTarget(d,t,i)),s.actualObject=d,d}else if("ConnectorTargetEnd"===i&&a){for(f=e.length-1;f>=0;f--)if(c=Uw(e[parseInt(f.toString(),10)],!0),(e[parseInt(f.toString(),10)]instanceof Et||e[parseInt(f.toString(),10)]instanceof Gt)&&(Ud(e[parseInt(f.toString(),10)])||kv(c)))return d=e[parseInt(f.toString(),10)],d=this.isTarget(d,t,i),s.actualObject=d,d}else{if(a&&("Drag"===i||t[""+l].tool instanceof Qp)){var T=0;for(f=0;f<e.length;f++){var P=e[parseInt(f.toString(),10)];a!==P&&(P instanceof Gt||!o||P.wrapper.bounds.containsPoint(o))&&EL(P)&&(d?(d=T>=P.zIndex?d:P,T=Math.max(T,P.zIndex)):T=(d=P).zIndex)}return d&&"Bpmn"===d.shape.type&&(t.selectedItems.nodes.length>0&&"Bpmn"===t.selectedItems.nodes[0].shape.type||(d=null)),d&&(s.actualObject=d),d}if("Select"!==i&&"Pan"!==i||!t[""+l].tool)if("Pan"===i||"LayoutAnimation"===i){for(f=e.length-1;f>=0;f--)if((e[parseInt(f.toString(),10)]instanceof Et||e[parseInt(f.toString(),10)]instanceof Gt)&&(M=this.findTargetElement(e[parseInt(f.toString(),10)].wrapper,o,void 0),"Pan"===i||M&&(M.id.match("_icon_content_shape$")||M.id.match("_icon_content_rect$"))))return e[parseInt(f.toString(),10)]}else d=e[e.length-1],s&&d&&(s.actualObject=d);else{for(f=e.length-1;f>=0;f--)if(e[parseInt(f.toString(),10)]instanceof Gt){var U=e[f-1];if(e[f-1]instanceof Et&&U.ports){if((M=this.findTargetElement(U.wrapper,o,void 0))&&(M.id.match("_icon_content_shape$")||M.id.match("_icon_content_rect$")))return U;for(var Y=0;Y<U.ports.length;Y++)if(M&&M.id.match("_"+U.ports[parseInt(Y.toString(),10)].id+"$")&&KB(U.ports[parseInt(Y.toString(),10)]))return U}}if(s.actualObject=d=e[e.length-1],!t[""+l].itemClick(d,!0)&&d.parentId)for(var X=d,Q=Sa(t,X);X&&(!Sa(t,X)||Q);)d=X,X=t.nameTable[X.parentId]}}return d},r.prototype.findElementUnderSelectedItem=function(t,e,i){return t instanceof Pr?1!==t.nodes.length||t.connectors&&t.connectors.length?t.nodes&&!t.nodes.length||1!==t.connectors.length?null:this.findElementUnderMouse(t.connectors[0],e):this.findElementUnderMouse(t.nodes[0],e):this.findElementUnderMouse(t,e,i)},r.prototype.findElementUnderMouse=function(t,e,i){return this.findTargetElement(t.wrapper,e,i)},r.prototype.findTargetElement=function(t,e,i){for(var n=t.children.length-1;n>=0;n--){var s=t.children[parseInt(n.toString(),10)];if(s&&s.visible&&s.outerBounds.containsPoint(e,i||0)){if(s instanceof Fh){var o=this.findTargetElement(s,e);if(o)return o}if(s.bounds.containsPoint(e,i||0)&&"Clip"!==s.style.textOverflow&&"Ellipsis"!==s.style.textOverflow)return s}}return t.bounds.containsPoint(e,i)&&"none"!==t.style.fill?t:null},r}(),Aye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xw=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},rQ=function(r){function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.objectZIndex=-1,o.zIndexTable={},o.objects=[],o}return Aye(t,r),Xw([O("")],t.prototype,"id",void 0),Xw([O(!0)],t.prototype,"visible",void 0),Xw([O(!1)],t.prototype,"lock",void 0),Xw([O()],t.prototype,"objects",void 0),Xw([O()],t.prototype,"addInfo",void 0),Xw([O(-1)],t.prototype,"zIndex",void 0),t}(ii),H4=function(r,t,e,i){return new(e||(e=Promise))(function(n,s){function o(h){try{l(i.next(h))}catch(c){s(c)}}function a(h){try{l(i.throw(h))}catch(c){s(c)}}function l(h){h.done?n(h.value):new e(function(c){c(h.value)}).then(o,a)}l((i=i.apply(r,t||[])).next())})},U4=function(r,t){var i,n,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(c){return function l(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(s=2&h[0]?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[2&h[0],s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===h[0]||2===h[0])){e=0;continue}if(3===h[0]&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(6===h[0]&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(c){h=[6,c],n=0}finally{i=s=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,c])}}},Oye=function(){function r(t){this.clipboardData={},this.diagramObject={},this.newSelectedObjects={},this.oldSelectedObjects={},this.connectorsTable=[],this.PreventConnectorSplit=!1,this.processTable={},this.deepDiffer=new qG,this.isContainer=!1,this.canUpdateTemplate=!1,this.childTable={},this.parentTable={},this.blazor="Blazor",this.blazorInterop="sfBlazor",this.cloneGroupChildCollection=[],this.diagram=t}return Object.defineProperty(r.prototype,"snappingModule",{get:function(){return this.diagram.snappingModule},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"layoutAnimateModule",{get:function(){return this.diagram.layoutAnimateModule},enumerable:!0,configurable:!0}),r.prototype.startTransaction=function(t){this.state={element:this.diagram.selectedItems,backup:null},t&&this.diagram.protectPropertyChange(!0),N4(this.diagram.element.id).style.pointerEvents="none"},r.prototype.endTransaction=function(t){this.state=null,t&&this.diagram.protectPropertyChange(!1),N4(this.diagram.element.id).style.pointerEvents="all"},r.prototype.setFocus=function(){document.getElementById(this.diagram.element.id).focus()},r.prototype.showTooltip=function(t,e,i,n,s){var a,l,o=this,h=!1;if(t instanceof Pr?1===t.nodes.length&&0===t.connectors.length?(a=t.nodes[0].id,t.nodes[0].shape&&t.nodes[0].shape instanceof Ww&&(h=!0)):0===t.nodes.length&&1===t.connectors.length?a=t.connectors[0].id:l=document.getElementById(this.diagram.element.id+"_SelectorElement"):t instanceof Et?(a=t.id,t.shape&&t.shape instanceof Ww&&(h=!0)):a=t.id,v(l)&&!v(a)&&(l=document.getElementById(a+(h?"_content_native_element":"_groupElement"))),s&&(this.diagram.tooltipObject.position="BottomCenter",this.diagram.tooltipObject.animation={open:{delay:0,duration:0}},this.diagram.tooltipObject.openDelay=0,this.diagram.tooltipObject.closeDelay=0),this.diagram.selectedItems.setTooltipTemplate){var u=void 0,d=ho(this.diagram.selectedItems.setTooltipTemplate);d&&(u=d(t,this.diagram)),i=u instanceof HTMLElement?u.cloneNode(!0):u||i}this.diagram.tooltipObject.isSticky=!1,ge()&&s&&this.diagram.tooltipObject.close(),t.tooltip&&(this.diagram.tooltipObject.openOn=t.tooltip.openOn),this.diagram.tooltipObject.content="string"==typeof i?Ed(function(){return i}):i,this.diagram.tooltipObject.offsetX=0,this.diagram.tooltipObject.offsetY=0,ge()?this.diagram.tooltipObject.updateTooltip(l):this.diagram.tooltipObject.refresh(l),s&&setTimeout(function(){o.diagram.tooltipObject.open(l)},1)},r.prototype.connectorSplit=function(t,e){var i=t.id,n=rt(e),s=this.diagram.connectors.indexOf(e),o=this.diagram.nodes.indexOf(t),a=rt(t),l={},h={},c={offsetX:a.offsetX,offsetY:a.offsetY},u={sourceID:n.sourceID,sourcePoint:n.sourcePoint,sourcePortID:n.sourcePortID,targetID:n.targetID,targetPoint:n.targetPoint,targetPortID:n.targetPortID};l[parseInt(s.toString(),10)]=u,h[parseInt(o.toString(),10)]=c;var d={},p={},f={},m={};if(""!==n.sourceID&&""!==n.targetID?m.targetID=this.ConnectorTargetChange(e,i):""!==n.sourceID&&""===n.targetID?(this.nodeOffsetChange(f,a,e.targetPoint),m.targetID=this.ConnectorTargetChange(e,i)):(""===n.sourceID&&""===n.targetID||""===n.sourceID&&""!==n.targetID)&&(this.nodeOffsetChange(f,a,e.sourcePoint),m.sourceID=this.ConnectorSourceChange(e,i)),d[parseInt(s.toString(),10)]=m,p[parseInt(o.toString(),10)]=f,this.diagram.nodePropertyChange(t,c,f),this.diagram.updateSelector(),this.diagram.connectorPropertyChange(e,u,m),""!==n.sourceID&&""!==n.targetID){var M={id:"connector "+i,constraints:$e.Default|$e.AllowDrop,sourceID:i};""!==n.sourcePortID&&""!==n.targetPortID?(M.targetID=n.targetID,M.targetPortID=n.targetPortID):M.targetID=n.targetID,this.diagram.add(M)}this.diagram.addHistoryEntry({type:"PropertyChanged",redoObject:{nodes:p},undoObject:{nodes:h},category:"Internal"}),this.diagram.addHistoryEntry({type:"PropertyChanged",redoObject:{connectors:d},undoObject:{connectors:l},category:"Internal"})},r.prototype.nodeOffsetChange=function(t,e,i){t.offsetX=e.offsetX=i.x,t.offsetY=e.offsetY=i.y},r.prototype.ConnectorTargetChange=function(t,e){return t.targetID=e,e},r.prototype.ConnectorSourceChange=function(t,e){return t.sourceID=e,e},r.prototype.closeTooltip=function(){this.diagram.tooltipObject.close()},r.prototype.canEnableDefaultTooltip=function(){return!!(this.diagram.selectedItems.constraints&Bo.ToolTip)},r.prototype.updateSelector=function(){this.diagram.updateSelector()},r.prototype.updateConnectorValue=function(t){if(t.cancel){this.enableCloneObject(!0),this.ismouseEvents(!0),this.insertBlazorObject(t.connector);var e={},i={},n=this.diagram.nameTable[t.connector.id],s="ConnectorSourceEnd"===t.connectorEnd?"sourceID":"targetID",o="ConnectorSourceEnd"===t.connectorEnd?"sourcePortID":"targetPortID",a="ConnectorTargetEnd"===t.connectorEnd,l=a?t.newValue.connectorTargetValue:t.newValue.connectorSourceValue,h=a?t.oldValue.connectorTargetValue:t.oldValue.connectorSourceValue;i[""+s]=l.nodeId,i[""+o]=l.portId,e[""+s]=h.nodeId,e[""+o]=h.portId,t.cancel&&"ConnectorTargetEnd"!==t.connectorEnd&&(n.sourceID=h.nodeId,t.connector.sourcePortID&&(n.sourcePortID=h.portId),this.diagram.connectorPropertyChange(n,i,e)),t.cancel&&"ConnectorTargetEnd"===t.connectorEnd&&(t.connector.targetPortID&&(n.targetPortID=h.portId),n.targetID=h.nodeId,this.diagram.connectorPropertyChange(n,i,e))}},r.prototype.triggerEvent=function(t,e){return H4(this,void 0,void 0,function(){return U4(this,function(n){switch(n.label){case 0:if(t===_i.drop||t===_i.positionChange||t===_i.connectionChange){if(this.diagram.currentSymbol)return[2];if(t===_i.drop&&(e.source=Rt(this.diagram)),this.diagram.currentDrawingObject&&t!==_i.positionChange)return[2]}return[4,this.diagram.triggerEvent(t,e)];case 1:return[2,n.sent()]}})})},r.prototype.dragOverElement=function(t,e){if(this.diagram.currentSymbol){var i={element:Rt(t.source),target:Rt(t.target),mousePosition:Rt(e),diagram:Rt(this.diagram)};this.triggerEvent(_i.dragOver,i)}},r.prototype.disConnect=function(t,e,i){var a,h,n=ge(),s={},o={};if(t instanceof Pr?h=t.connectors[0]:t instanceof Gt&&this.diagram.currentDrawingObject&&(h=this.diagram.currentDrawingObject),t&&h&&($G(this.diagram)||this.diagram.currentDrawingObject))if(ge()&&this.diagram.insertValue(rt(h),!1),!e||"ConnectorSourceEnd"!==e&&"ConnectorTargetEnd"!==e){if("OrthoThumb"!==e&&"SegmentEnd"!==e&&(h.sourceID||h.targetID)){s={sourceID:h.sourceID,sourcePortID:h.sourcePortID,targetID:h.targetID,targetPortID:h.targetPortID},h.sourceID="",h.sourcePortID="",h.targetID="",h.targetPortID="",o={sourceID:h.sourceID,sourcePortID:h.sourcePortID,targetID:h.targetID,targetPortID:h.targetPortID};var d={connector:Rt(h),oldValue:s,newValue:o,cancel:!1,state:"Changing",connectorEnd:e};ge()&&(a=d={connector:Rt(h),oldValue:{connector:Rt(s)},newValue:{connector:Rt(o)},cancel:!1,state:"Changed",connectorEnd:e}),n||this.triggerEvent(_i.connectionChange,d),d.cancel?(h.sourceID=s.sourceID,h.sourcePortID=s.sourcePortID,h.targetID=s.targetID,h.targetPortID=s.targetPortID):(this.diagram.connectorPropertyChange(h,s,o),this.diagram.updateDiagramObject(h),d={connector:h,oldValue:s,newValue:o,cancel:!1,state:"Changed",connectorEnd:e},ge()&&(a=d={connector:Rt(h),oldValue:{connector:s},newValue:{connector:o},cancel:!1,state:"Changed",connectorEnd:e}),n||this.triggerEvent(_i.connectionChange,d))}}else{var c="ConnectorSourceEnd"===e?"sourceID":"targetID",u="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";h[""+c]&&(s[""+c]=h[""+c],h[""+c]="",o[""+c]=h[""+c],(h.sourcePortID||h.targetPortID)&&(s[""+u]=h[""+u],h[""+u]="",o[""+u]=h[""+u]),a=this.connectionEventChange(h,s,o,e,i))}return a},r.prototype.connectionEventChange=function(t,e,i,n,s){var h,o=ge(),a="ConnectorSourceEnd"===n?"sourceID":"targetID",l="ConnectorSourceEnd"===n?"sourcePortID":"targetPortID";if(this.enableCloneObject){var c=rt(h=this.diagram.nameTable[i[""+a]]);this.diagram.insertValue(c,!0)}var u,d={cancel:!1,state:"Changing",connectorEnd:n,connector:Rt(t),oldValue:{nodeId:e[""+a],portId:e[""+l]},newValue:{nodeId:i[""+a],portId:i[""+l]}};return ge()&&(d={connector:Rt(t),cancel:!1,state:"Changing",connectorEnd:n,oldValue:void 0,newValue:void 0},"ConnectorSourceEnd"===n?(d.oldValue={connectorSourceValue:{portId:e[""+l],nodeId:e[""+a]}},d.newValue={connectorSourceValue:{nodeId:i[""+a],portId:i[""+l]}}):(d.oldValue={connectorTargetValue:{nodeId:e[""+a],portId:e[""+l]}},d.newValue={connectorTargetValue:{nodeId:i[""+a],portId:i[""+l]}}),u=d),o||this.triggerEvent(_i.connectionChange,d),d.cancel||ge()&&s?(t[""+a]=e[""+a],t[""+l]=e[""+l],i=e):(this.diagram.connectorPropertyChange(t,e,i),this.diagram.updateDiagramObject(t),d={connector:Rt(t),oldValue:{nodeId:e[""+a],portId:e[""+l]},newValue:{nodeId:i[""+a],portId:i[""+l]},cancel:!1,state:"Changing",connectorEnd:n},ge()&&(d={connector:Rt(t),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:n},"ConnectorSourceEnd"===n?(d.newValue={connectorSourceValue:{portId:i[""+l],nodeId:i[""+a]}},d.oldValue={connectorSourceValue:{portId:e[""+l],nodeId:e[""+a]}}):(d.oldValue={connectorTargetValue:{nodeId:e[""+a],portId:e[""+l]}},d.newValue={connectorTargetValue:{portId:i[""+l],nodeId:i[""+a]}}),u=d)),this.enableCloneObject&&void 0===h&&(c=rt(h=this.diagram.nameTable[e[""+a]]),this.diagram.insertValue(c,!0)),u},r.prototype.insertBlazorObject=function(t,e){var i,n;if(t instanceof Pr){this.oldSelectedObjects=ky(this.diagram);for(var s=0;s<t.nodes.length;s++)i=this.diagram.getObject(t.nodes[parseInt(s.toString(),10)].id),this.diagram.insertValue(rt(i),!0);for(s=0;s<t.connectors.length;s++)n=this.diagram.getObject(t.connectors[parseInt(s.toString(),10)].id),this.diagram.insertValue(rt(n),!1)}else t=this.diagram.getObject(t.id),this.diagram.insertValue(rt(t),t instanceof Et)},r.prototype.updatePropertiesToBlazor=function(t,e){this.enableCloneObject(!1),this.ismouseEvents(!1),this.getBlazorOldValues(t,e),this.updateBlazorSelector()},r.prototype.insertSelectedObjects=function(){this.oldSelectedObjects=ky(this.diagram)},r.prototype.findTarget=function(t,e,i,n){if(e instanceof Et){if(t&&t.id===e.id+"_content")return e;if(i&&"Bpmn"===e.shape.type&&(!ge()&&"Activity"===e.shape.shape||ge()&&"Activity"===e.shape.bpmnShape)&&"Transaction"===e.shape.activity.subProcess.type){var s=e.shape.activity.subProcess.transaction;if(s.success.visible&&0===t.id.indexOf(e.id+"_success"))return s.success;if(s.cancel.visible&&0===t.id.indexOf(e.id+"_cancel"))return s.cancel;if(s.failure.visible&&0===t.id.indexOf(e.id+"_failure"))return s.failure}if(t instanceof Nn)for(var o=0;o<e.ports.length;o++){var a=e.ports[parseInt(o.toString(),10)];if(t.id===e.id+"_"+a.id)return a}}if(e instanceof Gt){if(t&&t.id===e.id+"_content")return e;if(t instanceof Nn)for(o=0;o<e.ports.length;o++)if(a=e.ports[parseInt(o.toString(),10)],t.id===e.id+"_"+a.id)return a}if(!n){var l=void 0;for(o=0;o<e.annotations.length;o++)if(l=e.annotations[parseInt(o.toString(),10)],t.id===e.id+"_"+l.id)return l}return e},r.prototype.canDisconnect=function(t,e,i,n){var o;return e.source instanceof Pr?o=e.source.connectors[0]:e.source instanceof Gt&&this.diagram.currentDrawingObject&&(o=this.diagram.currentDrawingObject),this.findTarget(e.targetWrapper,e.target,"ConnectorSourceEnd"===t,!0),o["ConnectorSourceEnd"===t?"sourceID":"targetID"]!==n||o["ConnectorSourceEnd"===t?"sourcePortID":"targetPortID"]!==i},r.prototype.changeAnnotationDrag=function(t){var i;if(t.source&&t.source.connectors&&t.source.connectors.length&&this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(t.source.connectors[0])>-1){t.source instanceof Pr&&(i=t.source.connectors[0]);var n=i.id.split("_"),o=n[n.length-3]||n[0];if(t.target&&t.target.id!==o&&(!ge()&&"TextAnnotation"!==t.target.shape.shape||ge()&&"TextAnnotation"!==t.target.shape.bpmnShape)){this.diagram.startGroupAction();var l=this.getAnnotation(this.diagram.nameTable[n[0]],n[1]),h={id:n[1]+kn(),angle:Be.findAngle(i.intermediatePoints[0],i.intermediatePoints[1]),text:l.text,length:Be.distancePoints(i.intermediatePoints[0],i.intermediatePoints[1]),shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:l.nodeId},c=new Fb(t.target.shape,"annotations",h,!0);this.diagram.bpmnModule.checkAndRemoveAnnotations(this.diagram.nameTable[i.targetID],this.diagram),this.diagram.refreshCanvasLayers(),c.id=n[1],this.diagram.addTextAnnotation(c,t.target),this.diagram.endGroupAction()}else i&&(i.sourceID=o,this.diagram.connectorPropertyChange(i,{},{sourceID:o}),this.diagram.updateDiagramObject(i))}},r.prototype.connect=function(t,e,i){var a,l,c,u,s={},o={};e.source instanceof Pr?c=e.source.connectors[0]:e.source instanceof Gt&&this.diagram.currentDrawingObject&&(c=this.diagram.currentDrawingObject);var d=this.findTarget(e.targetWrapper||e.sourceWrapper,e.target||e.actualObject,"ConnectorSourceEnd"===t,!0),p="ConnectorSourceEnd"===t?"sourceID":"targetID",f="ConnectorSourceEnd"===t?"sourcePortID":"targetPortID";if(d instanceof Et)o[""+p]=c[""+p],c[""+p]=d.id,s[""+p]=c[""+p],o[""+f]=c[""+f],u=this.connectionEventChange(c,o,s,t,i);else if(d instanceof mL){a=c[""+p],l=c[""+f],c[""+f]=d.id,c[""+p]=e.target&&e.target.id||e.actualObject.id,s[""+p]=c[""+p],s[""+f]=c[""+f];var m={connector:Rt(c),oldValue:{nodeId:a,portId:l},newValue:{nodeId:s[""+p],portId:s[""+f]},cancel:!1,state:"Changing",connectorEnd:t};ge()&&(m={connector:Rt(c),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:t},"ConnectorSourceEnd"===t?(m.oldValue={connectorSourceValue:{portId:o[""+f],nodeId:o[""+p]}},m.newValue={connectorSourceValue:{portId:s[""+f],nodeId:s[""+p]}}):(m.newValue={connectorTargetValue:{portId:s[""+f],nodeId:s[""+p]}},m.oldValue={connectorTargetValue:{portId:o[""+f],nodeId:o[""+p]}}),u=m),this.triggerEvent(_i.connectionChange,m),m.cancel||ge()&&i?(c[""+p]=a,c[""+f]=l,s[""+p]=a,s[""+f]=l):(this.diagram.connectorPropertyChange(c,o,s),this.diagram.updateDiagramObject(c),m={connector:Rt(c),oldValue:{nodeId:a,portId:l},newValue:{nodeId:s[""+p],portId:s[""+f]},cancel:!1,state:"Changing",connectorEnd:t},ge()&&(m={newValue:void 0,connector:Rt(c),oldValue:void 0,cancel:!1,state:"Changing",connectorEnd:t},"ConnectorSourceEnd"===t?(m.oldValue={connectorSourceValue:{portId:o[""+f],nodeId:o[""+p]}},m.newValue={connectorTargetValue:{portId:s[""+f],nodeId:s[""+p]}}):(m.oldValue={connectorTargetValue:{portId:o[""+f],nodeId:o[""+p]}},m.newValue={connectorTargetValue:{portId:s[""+f],nodeId:s[""+p]}})))}return this.renderHighlighter(e,void 0,"ConnectorSourceEnd"===t),u},r.prototype.cut=function(){this.clipboardData.pasteIndex=0,this.diagram.undoRedoModule&&this.diagram.historyManager.startGroupAction(),this.clipboardData.clipObject=this.copyObjects(),this.diagram.undoRedoModule&&this.diagram.historyManager.endGroupAction(),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()},r.prototype.UpdateBlazorDiagramModelLayers=function(t,e){var n=Rt(t);if(window&&window.Blazor){var o={methodName:"UpdateBlazorDiagramModelLayers",diagramobj:JSON.stringify(n),isRemove:e};this.diagram.isLoading||window.sfBlazor.updateBlazorProperties(o,this.diagram)}},r.prototype.addLayer=function(t,e,i){void 0===i&&(i=!0),t.id=t.id||kn(),t.zIndex=this.diagram.layers.length;var n=this.diagram.allowServerDataBinding;if(this.diagram.enableServerDataBinding(!1),t=new rQ(this.diagram,"layers",t,!0),this.diagram.enableServerDataBinding(n),t.objectZIndex=-1,t.zIndexTable={},this.diagram.layers.push(t),i&&this.UpdateBlazorDiagramModelLayers(t,!1),this.diagram.layerZIndexTable[t.zIndex]=t.id,this.diagram.activeLayer=t,e)for(var o=0;o<e.length;o++)this.diagram.add(e[parseInt(o.toString(),10)])},r.prototype.getObjectLayer=function(t){var e=this.diagram.layers;if(e.length>1)for(var i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)].objects.indexOf(t)>-1)return e[parseInt(i.toString(),10)];return this.diagram.activeLayer},r.prototype.getLayer=function(t){for(var e=this.diagram.layers,i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)].id===t)return e[parseInt(i.toString(),10)]},r.prototype.removeLayer=function(t,e){void 0===e&&(e=!0);var i=this.getLayer(t);if(i){for(var n=this.diagram.layers.indexOf(i),s=i.objects,o=s.length-1;o>=0;o--)this.diagram.unSelect(this.diagram.nameTable[s[parseInt(o.toString(),10)]]),this.diagram.remove(this.diagram.nameTable[s[parseInt(o.toString(),10)]]),"default_layer"!==i.id&&this.diagram.activeLayer.id===t&&(this.diagram.activeLayer=this.diagram.layers[this.diagram.layers.length-1]);e&&this.UpdateBlazorDiagramModelLayers(this.diagram.layers[parseInt(n.toString(),10)],!0),delete this.diagram.layerZIndexTable[i.zIndex],this.diagram.layers.splice(n,1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()}},r.prototype.moveObjects=function(t,e){var i=this.getLayer(e)||this.diagram.activeLayer;this.diagram.setActiveLayer(i.id);for(var n,s=0,o=t;s<o.length;s++){var a=o[s];this.getObjectLayer(a).objects.indexOf(a)>-1&&(this.diagram.unSelect(n=this.diagram.nameTable[""+a]),this.diagram.remove(this.diagram.nameTable[""+a]),this.diagram.add(n))}},r.prototype.cloneLayer=function(t){var i=this.getLayer(t);if(i){var n=[],s={id:t+"_"+kn(),objects:[],visible:!0,lock:!1};this.addLayer(s,null,!0),s.zIndex=this.diagram.layers.length-1;for(var o=0,a=i.objects;o<a.length;o++)n.push(this.diagram.nameTable[""+a[o]]);this.paste(n)}},r.prototype.copy=function(){return this.clipboardData.pasteIndex=1,this.clipboardData.clipObject=this.copyObjects(),this.clipboardData.clipObject},r.prototype.copyObjects=function(){var t=[],e=[];if(this.clipboardData.childTable={},this.diagram.selectedItems.connectors.length>0){t=this.diagram.selectedItems.connectors;for(var i=0;i<t.length;i++){var n;n=this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(t[parseInt(i.toString(),10)])>-1?rt(this.diagram.nameTable[t[parseInt(i.toString(),10)].targetID]):rt(t[parseInt(i.toString(),10)]),e.push(n)}}if(this.diagram.selectedItems.nodes.length>0)for(t=t.concat(this.diagram.selectedItems.nodes),i=0;i<this.diagram.selectedItems.nodes.length;i++)if(!t[parseInt(i.toString(),10)].isPhase){var s=rt(this.diagram.selectedItems.nodes[parseInt(i.toString(),10)]);s.wrapper&&s.offsetX!==s.wrapper.offsetX&&(s.offsetX=s.wrapper.offsetX),s.wrapper&&s.offsetY!==s.wrapper.offsetY&&(s.offsetY=s.wrapper.offsetY),this.copyProcesses(s),e.push(rt(s));var o=Bs();if(to(o,-s.rotateAngle,s.offsetX,s.offsetY),s.children){for(var a=this.clipboardData.childTable,l=void 0,c=this.getAllDescendants(s,[],!0),u=0;u<c.length;u++){var d=a[(l=this.diagram.nameTable[c[parseInt(u.toString(),10)].id]).id]=rt(l),p=xn(o,{x:d.wrapper.offsetX,y:d.wrapper.offsetY});l instanceof Et&&(d.offsetX=p.x,d.offsetY=p.y,d.rotateAngle-=s.rotateAngle)}this.clipboardData.childTable=a}if("SwimLane"===s.shape.type){var f=this.diagram.getObject(this.diagram.selectedItems.nodes[parseInt(i.toString(),10)].id),m=(a=this.clipboardData.childTable,Dy(this.diagram,f.wrapper.children[0]));for(u=0;u<m.length;u++){var M=this.diagram.getObject(m[parseInt(u.toString(),10)]);a[M.id]=rt(M)}}if(s&&s.isLane){a=this.clipboardData.childTable,f=this.diagram.getObject(s.parentId);var T=WG(s,this.diagram);a[s.id]=rt(T),a[s.id].width=f.wrapper.actualSize.width}}if(0===this.clipboardData.pasteIndex){this.startGroupAction();for(var P=0,U=t;P<U.length;P++){var Y=U[P];this.diagram.nameTable[Y.id]&&(this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(Y)>-1?this.diagram.remove(this.diagram.nameTable[Y.targetID]):this.diagram.remove(Y))}this.endGroupAction()}return this.sortByZIndex(e,"zIndex"),e},r.prototype.copyProcesses=function(t){if("Bpmn"===t.shape.type&&t.shape.activity&&t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length>0){for(var i=0,n=t.shape.activity.subProcess.processes;i<n.length;i++){var s=n[i];this.processTable[""+s]=rt(this.diagram.nameTable[""+s]),this.processTable[""+s].shape.activity.subProcess.processes&&this.processTable[""+s].shape.activity.subProcess.processes.length>0&&this.copyProcesses(this.processTable[""+s])}this.clipboardData.processTable=this.processTable}},r.prototype.group=function(){this.oldSelectedObjects=ky(this.diagram);var e=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Dt.Group;var n={};n.id="group"+kn(),(n=new Et(this.diagram,"nodes",n,!0)).children=[];for(var s=this.diagram.selectedItems.nodes.concat(this.diagram.selectedItems.connectors).sort(function(h,c){return h.zIndex-c.zIndex}),o=0;o<s.length;o++)s[parseInt(o.toString(),10)].parentId||n.children.push(s[parseInt(o.toString(),10)].id);var a=this.diagram.add(n);a&&this.select(a),this.addHistoryEntry({type:"Group",undoObject:n,redoObject:n,category:"Internal"}),this.diagram.diagramActions=this.diagram.diagramActions&~Dt.Group,this.diagram.protectPropertyChange(e),this.updateBlazorSelector()},r.prototype.unGroup=function(t){var i=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Dt.Group;var n=[];t?n.push(t):n=this.diagram.selectedItems.nodes,this.diagram.startGroupAction();for(var s=0;s<n.length;s++){for(var o=n[parseInt(s.toString(),10)],a=rt(o),l=[],h=0;h<o.children.length;h++)l.push(o.children[parseInt(h.toString(),10)]);if(o.children){o.ports&&o.ports.length>0&&this.diagram.removePorts(o,o.ports),o.annotations&&o.annotations.length>0&&(!ge()||ge()&&""!==o.annotations[0].content)&&this.diagram.removeLabels(o,o.annotations);for(var c=this.diagram.nameTable[o.parentId],u=o.children.length-1;u>=0;u--)this.diagram.nameTable[o.children[parseInt(u.toString(),10)]].parentId="",this.diagram.deleteChild(this.diagram.nameTable[o.children[parseInt(u.toString(),10)]],o),o.parentId&&o.children[parseInt(u.toString(),10)]&&this.diagram.addChild(c,o.children[parseInt(u.toString(),10)]);this.resetDependentConnectors(o.inEdges,!0),this.resetDependentConnectors(o.outEdges,!1),this.diagram.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"UnGroup",undoObject:a,redoObject:a,category:"Internal"}),o.parentId&&this.diagram.deleteChild(o,c)}this.diagram.removeNode(o,l),this.clearSelection()}this.diagram.endGroupAction(),this.diagram.diagramActions=this.diagram.diagramActions&~Dt.Group,this.diagram.protectPropertyChange(i)},r.prototype.resetDependentConnectors=function(t,e){for(var i=0;i<t.length;i++){var n=this.diagram.nameTable[t[parseInt(i.toString(),10)]],s=rt(n),o=void 0;e?(n.targetID="",n.targetPortID="",o={targetID:n.targetID,targetPortID:n.targetPortID}):(n.sourceID="",n.sourcePortID="",o={sourceID:n.sourceID,sourcePortID:n.sourcePortID}),this.diagram.connectorPropertyChange(n,{},o);var a={type:"ConnectionChanged",undoObject:{connectors:[s],nodes:[]},redoObject:{connectors:[rt(n)],nodes:[]},category:"Internal"};this.diagram.diagramActions&Dt.UndoRedo||this.addHistoryEntry(a)}},r.prototype.paste=function(t){if(t||this.clipboardData.clipObject){this.diagram.protectPropertyChange(!0);var e=t?this.getNewObject(t):this.clipboardData.clipObject;if(e){var i=1!==e.length,n=!1,s={},o={};0!==this.clipboardData.pasteIndex&&this.clearSelection(),this.diagram.undoRedoModule&&(n=!0,this.diagram.historyManager.startGroupAction());for(var a=0,l=e;a<l.length;a++)s[(h=l[a]).id]=h;var c=[];i&&(this.diagram.isServerUpdate=!0);for(var u=0;u<e.length;u++){var h;if((h=e[parseInt(u.toString(),10)]).parentId&&"SwimLane"!==this.diagram.getObject(h.parentId).shape.type&&h.parentId&&(h.parentId=""),os(h)===Gt){var p=rt(h),f=p.sourceID;p.sourceID="",s[""+f]&&o[""+f]&&(p.sourceID=o[""+f]),f=p.targetID,p.targetID="",s[""+f]&&o[""+f]&&(p.targetID=o[""+f]);var m=this.cloneConnector(p,i);c.push(m),o[h.id]=m.id}else{var M=this.cloneNode(h,i);if(ge()&&M&&M.children&&M.children.length>0?(c=c.concat(this.cloneGroupChildCollection),this.cloneGroupChildCollection=[]):c.push(M),M){o[h.id]=M.id;var T=h.inEdges;if(T)for(var P=0,U=T;P<U.length;P++)s[""+(Y=U[P])]&&o[""+Y]&&((X=this.diagram.nameTable[o[""+Y]]).targetID=o[h.id],this.diagram.connectorPropertyChange(X,{targetID:"",targetPortID:""},{targetID:X.targetID,targetPortID:X.targetPortID}));if(T=h.outEdges)for(var Q=0,oe=T;Q<oe.length;Q++){var Y,X;s[""+(Y=oe[Q])]&&o[""+Y]&&((X=this.diagram.nameTable[o[""+Y]]).sourceID=o[h.id],this.diagram.connectorPropertyChange(X,{sourceID:"",sourcePortID:""},{sourceID:X.sourceID,sourcePortID:X.sourcePortID}))}}}}i&&(this.diagram.isServerUpdate=!1,this.diagram.UpdateBlazorDiagramModelCollection(e[0],c),this.getBlazorOldValues(),this.diagram.select(c,!0)),!0===n&&(this.diagram.historyManager.endGroupAction(),n=!1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.clipboardData.pasteIndex++,this.diagram.protectPropertyChange(!1)}}},r.prototype.getNewObject=function(t){var e,i=[];this.clipboardData.pasteIndex=1;for(var n=0;n<t.length;n++)e=rt(t[parseInt(n.toString(),10)]),i.push(e);return i},r.prototype.cloneConnector=function(t,e){var i=rt(t);this.translateObject(i),i.zIndex=-1;var n=this.diagram.add(i);return this.diagram.isServerUpdate||this.selectObjects([n],e),n},r.prototype.cloneNode=function(t,e,i,n){var s,l,o={},a=rt(t),h=this.diagram.nameTable[t.parentId];if(t.shape&&"Bpmn"===t.shape.type&&t.shape.activity&&t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length&&(l=a.shape.activity.subProcess.processes,a.zIndex=-1,a.shape.activity.subProcess.processes=void 0),t.shape&&"SwimLane"===t.shape.type)zL(t,this.diagram,this.clipboardData);else if(h&&"SwimLane"===h.shape.type)zL(rt(h),this.diagram,this.clipboardData,t,!0);else if(!t.children||!t.children.length||i&&i.length)if(t.shape&&(!ge()&&"TextAnnotation"===t.shape.shape||ge()&&"TextAnnotation"===t.shape.bpmnShape)&&-1!==t.id.indexOf("_textannotation_")&&this.diagram.nameTable[t.id])for(var c=t.id.split("_textannotation_"),u=this.diagram.nameTable[t.id],d=0;d<u.inEdges.length;d++){var p=this.diagram.nameTable[u.inEdges[parseInt(d.toString(),10)]];if(p){var f=this.diagram.nameTable[p.sourceID],m=this.getAnnotation(f,c[1]),M={id:c[1]+kn(),angle:m.angle,text:m.text,length:m.length,shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:m.nodeId};this.diagram.addTextAnnotation(M,f)}}else this.translateObject(a,n),a.zIndex=-1,i&&(a.children=i),s=this.diagram.add(a);else s=this.cloneGroup(t,e);for(var T=0,P=Object.keys(o);T<P.length;T++)this.diagram.add(o[""+P[T]]);return l&&l.length&&(s.shape.activity.subProcess.processes=l,this.cloneSubProcesses(s)),s&&!this.diagram.isServerUpdate&&this.selectObjects([s],e),s},r.prototype.getAnnotation=function(t,e){var i=t.shape.annotations;if(i&&i.length)for(var n=0;n<=i.length;n++)if(i[parseInt(n.toString(),10)].id===e)return i[parseInt(n.toString(),10)]},r.prototype.cloneSubProcesses=function(t){var e=[],i={};if("Bpmn"===t.shape.type&&t.shape.activity&&t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length)for(var n=t.shape.activity.subProcess.processes,s=0;s<n.length;s++){for(var o=this.diagram.nameTable[n[parseInt(s.toString(),10)]]||this.clipboardData.processTable[n[parseInt(s.toString(),10)]],a=0,l=o.outEdges;a<l.length;a++)e.indexOf(h=l[a])<0&&e.push(h);for(var c=0,u=o.inEdges;c<u.length;c++){var h;e.indexOf(h=u[c])<0&&e.push(h)}var d=rt(this.clipboardData.processTable[n[parseInt(s.toString(),10)]]);d.processId=t.id;var p=this.cloneNode(d,!1);i[n[parseInt(s.toString(),10)]]=p.id,n[parseInt(s.toString(),10)]=p.id,this.diagram.addProcess(p,t.id);for(var f=0,m=e;f<m.length;f++){var M=m[f],P=rt(this.diagram.nameTable[""+M]||this.diagram.connectorTable[""+M]);i[P.sourceID]&&i[P.targetID]&&(P.zIndex=-1,P.id+=kn(),P.sourceID=i[P.sourceID],P.targetID=i[P.targetID],e.splice(e.indexOf(M),1),this.diagram.add(P))}}},r.prototype.cloneGroup=function(t,e){var i,n,l,s=[],o=[],a=[],h=[];o=o.concat(t.children);var c=kn(),u=[];if(this.diagram.blazorActions|=Rr.GroupClipboardInProcess,this.clipboardData.childTable||t.children.length>0)for(var d=0;d<o.length;d++){var p=void 0;(p=this.clipboardData.childTable?this.clipboardData.childTable[o[parseInt(d.toString(),10)]]:this.diagram.nameTable[o[parseInt(d.toString(),10)]]).parentId="",p&&(os(p)===Gt?a.push(p):(l=this.cloneNode(p,e,void 0,c),h.push(p.id),s.push(l.id),u.push(l)))}for(var f=0;f<a.length;f++){if(a[parseInt(f.toString(),10)].sourceID||a[parseInt(f.toString(),10)].targetID)for(var m=0;m<h.length;m++)a[parseInt(f.toString(),10)].sourceID===h[parseInt(m.toString(),10)]&&(i=a[parseInt(f.toString(),10)].sourceID,a[parseInt(f.toString(),10)].sourceID+=c),a[parseInt(f.toString(),10)].targetID===h[parseInt(m.toString(),10)]&&(n=a[parseInt(f.toString(),10)].targetID,a[parseInt(f.toString(),10)].targetID+=c);l=this.cloneConnector(a[parseInt(f.toString(),10)],e),a[parseInt(f.toString(),10)].sourceID=i,a[parseInt(f.toString(),10)].targetID=n,s.push(l.id),u.push(l)}var M=this.cloneNode(t,e,s);return u.push(M),M&&M.container&&M.shape&&"UmlClassifier"===M.shape.type&&(this.diagram.updateDiagramObject(M),M.wrapper.measure(new pi)),this.diagram.blazorActions&=~Rr.GroupClipboardInProcess,this.diagram.isServerUpdate?this.cloneGroupChildCollection=u:this.diagram.UpdateBlazorDiagramModelCollection(void 0,u,void 0,!0),M},r.prototype.translateObject=function(t,e){t.id+=e||kn();var i=10*this.clipboardData.pasteIndex;if(os(t)===Gt){if(t.sourcePoint={x:t.sourcePoint.x+i,y:t.sourcePoint.y+i},t.targetPoint={x:t.targetPoint.x+i,y:t.targetPoint.y+i},"Bezier"===t.type)for(var n=t.segments,s=0;s<n.length;s++)Be.isEmptyPoint(n[parseInt(s.toString(),10)].point1)||(n[parseInt(s.toString(),10)].point1={x:n[parseInt(s.toString(),10)].point1.x+i,y:n[parseInt(s.toString(),10)].point1.y+i}),Be.isEmptyPoint(n[parseInt(s.toString(),10)].point2)||(n[parseInt(s.toString(),10)].point2={x:n[parseInt(s.toString(),10)].point2.x+i,y:n[parseInt(s.toString(),10)].point2.y+i});if(("Straight"===t.type||"Bezier"===t.type)&&t.segments&&t.segments.length>0)for(n=t.segments,s=0;s<n.length-1;s++)n[parseInt(s.toString(),10)].point.x+=i,n[parseInt(s.toString(),10)].point.y+=i}else t.offsetX+=i,t.offsetY+=i},r.prototype.drawObject=function(t){var e,i;ge()&&(e=this.diagram.getProtectPropertyChangeValue(),this.diagram.protectPropertyChange(!0)),t&&t.shape&&"Text"===t.shape.type&&(t.width=this.diagram.drawingObject.width?this.diagram.drawingObject.width:50,t.height=this.diagram.drawingObject.height?this.diagram.drawingObject.height:20);for(var n=rt(this.diagram.drawingObject),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];n[""+a]=t[""+a]}return os(this.diagram.drawingObject)===Et||os(this.diagram.drawingObject)===Gt&&"Freehand"===this.diagram.drawingObject.type&&"Bezier"!==t.type?(i=new Et(this.diagram,"nodes",n,!0)).id=(this.diagram.drawingObject.id||"node")+kn():(i=new Gt(this.diagram,"connectors",n,!0),ge(),i.id=(this.diagram.drawingObject&&this.diagram.drawingObject.id?this.diagram.drawingObject.id:"connector")+kn()),ge()&&pu(i,n,os(this.diagram.drawingObject)===Et?this.diagram.nodeDefaults:this.diagram.connectorDefaults),this.diagram.initObject(i),this.diagram.updateDiagramObject(i),this.diagram.currentDrawingObject=i,ge()&&this.diagram.protectPropertyChange(e),i},r.prototype.addObjectToDiagram=function(t){this.diagram.removeFromAQuad(t),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[t.id]),delete this.diagram.nameTable[t.id],t instanceof Gt&&"Bezier"===t.type&&t.segments.length>0&&this.diagram.drawingObject&&"Bezier"===this.diagram.drawingObject.type&&(t.segments=[]);var e=this.diagram.add(t);"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.selectObjects([e]),t&&!OL(this.diagram)&&(this.diagram.tool&=~Do.DrawOnce,this.diagram.currentDrawingObject=void 0)},r.prototype.enableServerDataBinding=function(t){this.diagram.enableServerDataBinding(t)},r.prototype.addText=function(t,e){var i=this.diagram.findElementUnderMouse(t,e);this.diagram.startTextEdit(t,i instanceof Qr?i.id.split("_")[1]:void 0)},r.prototype.updateArgsObject=function(t,e,i){if(t)for(var s=0;s<t.length;s++)os(t[parseInt(s.toString(),10)])===Gt?i.connectorCollection.push(t[parseInt(s.toString(),10)].id):i.nodeCollection.push(t[parseInt(s.toString(),10)].id)},r.prototype.updateSelectionChangeEventArgs=function(t,e,i){if(ge()){var n=(t={cause:this.diagram.diagramActions,newValue:{},oldValue:{},state:t.state,type:t.type,cancel:!1}).oldValue,s=t.newValue;return n.connectors=[],n.nodes=[],s.connectors=[],s.nodes=[],n.nodeCollection=[],n.connectorCollection=[],s.nodeCollection=[],s.connectorCollection=[],this.updateArgsObject(this.getSelectedObject(),t,s),this.updateArgsObject(i,t,n),t}return t},r.prototype.isUserHandle=function(t){var e=this.diagram.selectedItems;if(e.wrapper&&Pa(e.constraints,"UserHandle"))for(var i=0,n=e.userHandles;i<n.length;i++){var s=n[i];if(s.visible&&$o(t,m4(e,s,this.diagram.scroller.transform),s.size/(2*this.diagram.scroller.transform.scale)))return!0}return!1},r.prototype.selectObjects=function(t,e,i){return H4(this,void 0,void 0,function(){var n,s,a,c,u,d,p,f,m,M,T,P,U;return U4(this,function(Y){switch(Y.label){case 0:if(n={oldValue:i||this.getSelectedObject(),newValue:t,cause:this.diagram.diagramActions,state:"Changing",type:"Addition",cancel:!1},t.length>0&&t[0]&&t[0].isLane)for(s=this.diagram.getObject(t[0].parentId),t[0].shape.header=[],a=0;a<t.length;a++)for(U=0;U<s.shape.lanes.length;U++)t[0].id.split(t[0].parentId)[1].slice(0,-1)===s.shape.lanes[parseInt(U.toString(),10)].id&&t[0].shape.header.push(s.shape.lanes[parseInt(U.toString(),10)].header);if(this.diagram.enableServerDataBinding(!1),ge()?this.oldSelectedObjects=ky(this.diagram):this.diagram.triggerEvent(_i.selectionChange,n),c=this.diagram.selectedItems.nodes.concat(this.diagram.selectedItems.connectors),u=JB(this.diagram),(d=AL(this.diagram))||u){if(!u&&(t.length>1||e&&1===t.length)){if(1!==t.length)return[2];this.clearSelection()}if(!(d||u||1!==t.length||e&&Xp(this.diagram)))return this.clearSelection(),[2]}if(n.cancel)return[3,5];for(U=0;U<t.length;U++)if(p=t[parseInt(U.toString(),10)])if(Xp(this.diagram)){if((U>0||e)&&p.children&&!p.parentId)for(f=0;f<this.diagram.selectedItems.nodes.length;f++)(m=this.diagram.nameTable[this.diagram.selectedItems.nodes[parseInt(f.toString(),10)].parentId])&&(m=this.findParent(m))&&p.id===m.id&&this.selectGroup(p);this.selectProcesses(p),this.selectBpmnSubProcesses(p)&&this.select(p,U>0||e,!0)}else this.select(p,U>0||e,!0);return void 0===i&&(i=c),n={oldValue:i||[],newValue:this.getSelectedObject(),cause:this.diagram.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.diagram.renderSelector(e||t&&t.length>1),this.updateBlazorSelectorModel(i),ge()&&this.diagram.selectionChange&&(n=this.updateSelectionChangeEventArgs(n,t,i||[]),this.updateBlazorSelector()),ge()?[3,1]:(this.diagram.triggerEvent(_i.selectionChange,n),[3,4]);case 1:return M=void 0,window&&window[this.blazor]&&this.diagram.selectionChange?(T={EventName:"selectionChange",args:JSON.stringify(n)},[4,window[this.blazorInterop].updateBlazorDiagramEvents(T,this.diagram)]):[3,3];case 2:M=Y.sent(),Y.label=3;case 3:if(M&&M.cancel&&(P=[],M.oldValue.nodes.length>0&&(P=M.oldValue.nodes),M.oldValue.connectors.length>0&&(P=P.concat(M.oldValue.connectors)),P))if(P.length>0)for(U=0;U<P.length;U++)this.select(this.diagram.nameTable[P[parseInt(U.toString(),10)].id],0!==U&&P.length>1);else this.clearSelection();Y.label=4;case 4:this.diagram.enableServerDataBinding(!0),this.updateBlazorSelector(),Y.label=5;case 5:return[2]}})})},r.prototype.updateBlazorSelector=function(){if(ge()&&this.oldSelectedObjects){this.newSelectedObjects=ky(this.diagram);var t=this.deepDiffer.map(rt(this.newSelectedObjects),this.oldSelectedObjects),e=this.deepDiffer.frameObject({},t),i=this.deepDiffer.removeEmptyValues(e);i.nodes=[];for(var n=0;n<this.diagram.selectedItems.nodes.length;n++)i.nodes.push(this.diagram.selectedItems.nodes[parseInt(n.toString(),10)].id);for(i.connectors=[],n=0;n<this.diagram.selectedItems.connectors.length;n++)i.connectors.push(this.diagram.selectedItems.connectors[parseInt(n.toString(),10)].id);window&&window.Blazor&&window.sfBlazor.updateBlazorProperties({methodName:"UpdateBlazorProperties",diagramobj:{selectedItems:i}},this.diagram),this.oldSelectedObjects=void 0,this.newSelectedObjects=void 0}},r.prototype.findParent=function(t){return t.parentId&&this.findParent(t=this.diagram.nameTable[t.parentId]),t},r.prototype.selectProcesses=function(t){if(this.hasProcesses(t))for(var e=t.shape.activity.subProcess.processes,i=0;i<e.length;i++){var n=this.diagram.nameTable[e[parseInt(i.toString(),10)]];this.hasProcesses(n)&&this.selectObjects([n],!0),this.unSelect(n)}},r.prototype.selectGroup=function(t){for(var e=0;e<t.children.length;e++){var i=this.diagram.nameTable[t.children[parseInt(e.toString(),10)]];i.children&&this.selectGroup(i),this.unSelect(this.diagram.nameTable[t.children[parseInt(e.toString(),10)]])}},r.prototype.selectBpmnSubProcesses=function(t){var i,e=!0;if(t.processId)e=!Sa(this.diagram,this.diagram.nameTable[t.processId])&&this.selectBpmnSubProcesses(this.diagram.nameTable[t.processId]);else if(t instanceof Gt){if(t.sourceID&&this.diagram.nameTable[t.sourceID]&&this.diagram.nameTable[t.sourceID].processId&&(i=this.diagram.nameTable[t.sourceID].processId),t.targetID&&this.diagram.nameTable[t.targetID]&&this.diagram.nameTable[t.targetID].processId&&(i=this.diagram.nameTable[t.targetID].processId),i){if(Sa(this.diagram,this.diagram.nameTable[""+i]))return!1;e=this.selectBpmnSubProcesses(this.diagram.nameTable[""+i])}}else t.parentId&&this.diagram.nameTable[t.parentId]&&"UmlClassifier"===this.diagram.nameTable[t.parentId].shape.type&&Sa(this.diagram,this.diagram.nameTable[t.parentId])&&(e=!1);return e},r.prototype.hasProcesses=function(t){return!!(t&&"Bpmn"===t.shape.type&&t.shape.activity&&t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length>0)},r.prototype.select=function(t,e,i){var n=this.getObjectLayer(t.id);if(Ab(t)&&!(t instanceof Pr)&&!Sa(this.diagram,t)&&n&&!n.lock&&n.visible&&t.wrapper.visible){(e=!!Xp(this.diagram)&&e)||this.clearSelection(),this.diagram.enableServerDataBinding(!1);var s=this.diagram.selectedItems;if(t instanceof Et?s.nodes.push(t.isHeader?this.diagram.nameTable[t.parentId]:t):s.connectors.push(t),s.selectedObjects.push(t),e)s.wrapper.rotateAngle=s.rotateAngle=0,s.wrapper.children.push(t.wrapper);else if(s.init(this.diagram),1===s.nodes.length&&0===s.connectors.length){var l=r4(this.diagram,s);l&&(s.wrapper.children[0]=l),s.rotateAngle=s.nodes[0].rotateAngle,s.wrapper.rotateAngle=s.nodes[0].rotateAngle,s.wrapper.pivot=s.nodes[0].pivot}i||this.diagram.renderSelector(e),this.diagram.enableServerDataBinding(!0)}},r.prototype.getObjectCollectionId=function(t,e){for(var i=[],n=0,s=t?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;!e&&n<s.length;)i[parseInt(n.toString(),10)]=s[parseInt(n.toString(),10)].id,n++;return i},r.prototype.updateBlazorSelectorModel=function(t,e){var i="sfBlazor";if(window&&window[""+i]){for(var n=0,a=[];t&&n<t.length;)a[parseInt(n.toString(),10)]=t[parseInt(n.toString(),10)].id,n++;n=0;var h=Rt({nodes:this.getObjectCollectionId(!0,e),connectors:this.getObjectCollectionId(!1,e)});window[""+i].updateDiagramCollection&&window[""+i].updateDiagramCollection.call(this.diagram,"selectedItems",h,a,!1,!0)}},r.prototype.labelSelect=function(t,e){this.oldSelectedObjects=ky(this.diagram);var i=this.diagram.selectedItems,n=this.diagram.allowServerDataBinding;this.diagram.allowServerDataBinding=!1,i.nodes=i.connectors=[],this.diagram.allowServerDataBinding=n,t instanceof Et?i.nodes[0]=t:i.connectors[0]=t,i.annotation=this.findTarget(e,t),i.init(this.diagram),this.diagram.renderSelector(!1),this.updateBlazorSelector()},r.prototype.unSelect=function(t){var e=[];e.push(t);var i=this.diagram.selectedItems.nodes.concat(this.diagram.selectedItems.connectors),n=i.filter(function(h){return h.id!==t.id}),s={oldValue:i,newValue:n,cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1};if(this.diagram.currentSymbol||ge()||this.diagram.triggerEvent(_i.selectionChange,s),Sa(this.diagram,t)){var o=this.diagram.selectedItems,a=void 0;if(t instanceof Et?(a=o.nodes.indexOf(t,0),o.nodes.splice(a,1)):(a=o.connectors.indexOf(t,0),o.connectors.splice(a,1)),a=o.selectedObjects.indexOf(t,0),o.selectedObjects.splice(a,1),s={oldValue:i,newValue:n,cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(e),!(s={oldValue:Rt(i),newValue:n,cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:s.cancel}).cancel&&(a=o.wrapper.children.indexOf(t.wrapper,0),o.wrapper.children.splice(a,1),this.diagram.updateSelector(),!this.diagram.currentSymbol))if(ge()){if(s=this.updateSelectionChangeEventArgs(s,[],e),this.updateBlazorSelector(),window&&window[this.blazor]&&this.diagram.selectionChange){var l={EventName:"selectionChange",args:JSON.stringify(s)};window[this.blazorInterop].updateBlazorDiagramEvents(l,this.diagram)}}else this.diagram.triggerEvent(_i.selectionChange,s)}},r.prototype.getChildElements=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];n.children&&n.children.length>0?e.concat(this.getChildElements(n.children)):(e.push(n.id),n instanceof Qr&&e.push(n.id+"_text"))}return e},r.prototype.moveSvgNode=function(t,e){var i=es(e+"_groupElement",this.diagram.element.id),n=es(t+"_groupElement",this.diagram.element.id);i.parentNode.insertBefore(n,i)},r.prototype.sendLayerBackward=function(t){var e=this.getLayer(t);if(e&&0!==e.zIndex){var i=e.zIndex;if("SVG"===this.diagram.mode){var n=e.objects,s=this.getLayer(this.diagram.layerZIndexTable[i-1]).objects[0];if(s)for(var o=0,a=n;o<a.length;o++)this.moveSvgNode(a[o],s)}var h=this.getLayer(this.diagram.layerZIndexTable[i-1]);h.zIndex=h.zIndex+1,e.zIndex=e.zIndex-1;var c=this.diagram.layerZIndexTable[parseInt(i.toString(),10)];this.diagram.layerZIndexTable[parseInt(i.toString(),10)]=this.diagram.layerZIndexTable[i-1],this.diagram.layerZIndexTable[i-1]=c,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},r.prototype.bringLayerForward=function(t){var e=this.getLayer(t);if(e&&e.zIndex<this.diagram.layers.length-1){var i=e.zIndex,n=this.getLayer(this.diagram.layerZIndexTable[i+1]);if("SVG"===this.diagram.mode)for(var s=e.objects[0],a=0,l=n.objects;a<l.length;a++){var h=l[a];h&&this.moveSvgNode(h,s)}n.zIndex=n.zIndex-1,e.zIndex=e.zIndex+1;var c=this.diagram.layerZIndexTable[parseInt(i.toString(),10)];this.diagram.layerZIndexTable[parseInt(i.toString(),10)]=this.diagram.layerZIndexTable[i+1],this.diagram.layerZIndexTable[i+1]=c,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},r.prototype.sendToBack=function(t){if(this.diagram.protectPropertyChange(!0),Xp(this.diagram)||t){var e=this.diagram.selectedItems,i=[];t&&t.id?i.push(t):i=(i=i.concat(e.nodes)).concat(e.connectors);for(var n=t&&t.id,s=0;s<i.length;s++){var o=rt(i[parseInt(s.toString(),10)]);n=i[parseInt(s.toString(),10)].id;var a=this.diagram.nameTable[""+n].zIndex,l=this.diagram.layers.indexOf(this.getObjectLayer(n)),h=this.diagram.layers[parseInt(l.toString(),10)].zIndexTable,c=JSON.parse(JSON.stringify(h)),u=rt(this.diagram.selectedItems),d=0;if(1!==this.diagram.nodes.length&&(void 0===this.diagram.nameTable[""+n].children||this.checkObjectBehind(n,h,a))){for(var p=this.diagram.nameTable[""+n],f=a;f>0;f--)h[parseInt(f.toString(),10)]&&(h[f-1]?(h[parseInt(f.toString(),10)]=h[f-1],this.diagram.nameTable[h[parseInt(f.toString(),10)]].zIndex=f):(h[f-1]=h[parseInt(f.toString(),10)],this.diagram.nameTable[h[f-1]].zIndex=f,delete h[parseInt(f.toString(),10)]));for(var m=a;m>0;m--)h[parseInt(m.toString(),10)]&&(this.diagram.nameTable[h[parseInt(m.toString(),10)]].zIndex=m);if("SwimLane"!==p.shape.type?(h[0]=this.diagram.nameTable[""+n].id,this.diagram.nameTable[""+n].zIndex=0):d=this.swapZIndexObjects(a,h,n,c),"SVG"===this.diagram.mode){var M=this.diagram.nameTable[""+n],T="SwimLane"!==M.shape.type?1:d;T!==d&&(T=M.children&&M.children.length>0?a:1);for(var P=h[parseInt(T.toString(),10)];!P&&T<a;)P=h[++T];(P=this.resetTargetNode(n,P,T,h))&&(P=this.diagram.nameTable[""+P].parentId?this.checkParentExist(P):P,this.moveSvgNode(n,P)),this.updateNativeNodeIndex(n)}else this.diagram.refreshCanvasLayers();var U=rt(this.diagram.selectedItems);this.diagram.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"SendToBack",category:"Internal",undoObject:u,redoObject:U})}this.triggerOrderCommand(o,i[parseInt(s.toString(),10)],i[parseInt(s.toString(),10)])}}this.diagram.protectPropertyChange(!1),ge()&&this.getZIndexObjects()},r.prototype.swapZIndexObjects=function(t,e,i,n){for(var s=0,o=0,a=-1,l=1,h=0;h<=t;h++)e[parseInt(h.toString(),10)]&&this.diagram.nameTable[e[parseInt(h.toString(),10)]].parentId===i&&(-1===a&&(a=h),o++);for(h=0;h<=t;h++)if(e[parseInt(h.toString(),10)]&&l<=o){for(;!e[parseInt(a.toString(),10)];)a++;e[parseInt(h.toString(),10)]=e[parseInt(a.toString(),10)],this.diagram.nameTable[e[parseInt(h.toString(),10)]].zIndex=h,a++,l++}var c=0;for(h=0;h<o;h++){for(;!e[parseInt(c.toString(),10)];)c++;s=this.diagram.nameTable[e[parseInt(c.toString(),10)]].zIndex,c++}for(s+=1;!e[parseInt(s.toString(),10)];)++s;for(c=0,e[parseInt(s.toString(),10)]=this.diagram.nameTable[""+i].id,this.diagram.nameTable[""+i].zIndex=s,h=s+=1;h<=t;h++)if(e[parseInt(h.toString(),10)]){for(;!n[parseInt(c.toString(),10)];)c++;e[parseInt(h.toString(),10)]=n[parseInt(c.toString(),10)],this.diagram.nameTable[e[parseInt(h.toString(),10)]].zIndex=h,c++}return s},r.prototype.resetTargetNode=function(t,e,i,n){return"SwimLane"===this.diagram.nameTable[""+t].shape.type&&void 0!==this.diagram.nameTable[""+e].parentId&&""!==this.diagram.nameTable[""+e].parentId&&this.diagram.nameTable[this.diagram.nameTable[""+e].parentId].isLane?(i+=1,n[parseInt(i.toString(),10)]?(e=n[parseInt(i.toString(),10)],e=this.resetTargetNode(t,e,i,n)):e):e},r.prototype.getZIndexObjects=function(){var e,i,t=[];for(e=0;e<this.diagram.nodes.length;e++)t.push(this.diagram.nodes[parseInt(e.toString(),10)]);for(i=0;i<this.diagram.connectors.length;i++)t.push(this.diagram.connectors[parseInt(i.toString(),10)]);this.updateBlazorZIndex(t)},r.prototype.updateBlazorZIndex=function(t){var a,s=[],o=[];if(t&&t.length>0)for(a=0;a<t.length;a++){var l=t[parseInt(a.toString(),10)];l instanceof Et?s.push(this.getBlazorObject(l)):l instanceof Gt&&o.push(this.getBlazorObject(l))}window&&window.Blazor&&window.sfBlazor.updateBlazorProperties({methodName:"UpdateBlazorProperties",diagramobj:{nodes:s,connectors:o}},this.diagram)},r.prototype.getBlazorObject=function(t){return{sfIndex:R4(this.diagram,t.id),zIndex:t.zIndex}},r.prototype.checkParentExist=function(t){for(var e=t;this.diagram.nameTable[""+e].parentId;)e=this.diagram.nameTable[""+e].parentId;return e},r.prototype.checkObjectBehind=function(t,e,i){for(var n=0;n<i;n++){var s=e[parseInt(n.toString(),10)];if(this.diagram.nameTable[""+s]&&t!==this.diagram.nameTable[""+s].parentId)return!0}return!1},r.prototype.bringToFront=function(t){var e=this;if(this.diagram.protectPropertyChange(!0),Xp(this.diagram)||t){var i=t&&t.id,n=this.diagram.selectedItems,s=[];t&&t.id?s.push(t):s=(s=s.concat(n.nodes)).concat(n.connectors);for(var o=function(h){var c=rt(s[parseInt(h.toString(),10)]);i=s[parseInt(h.toString(),10)].id;for(var u=a.diagram.layers.indexOf(a.getObjectLayer(i)),d=a.diagram.layers[parseInt(u.toString(),10)].zIndexTable,p=rt(a.diagram.selectedItems),f=JSON.parse(JSON.stringify(d)),m=Number(Object.keys(d).sort(function(Dn,st){return Number(Dn)-Number(st)}).reverse()[0]),M=a.diagram.nameTable[""+i].zIndex,T=[],U=0;U<=m;U++)T.push(d[parseInt(U.toString(),10)]);var Y=a.diagram.nameTable[""+i];if("SwimLane"===Y.shape.type)for(var X=m;X>=M;X--)if(d[parseInt(X.toString(),10)]&&a.diagram.nameTable[d[parseInt(X.toString(),10)]].parentId!==i){m=X;break}for(var Q=M;Q<m;Q++)d[parseInt(Q.toString(),10)]&&(d[Q+1]?(d[parseInt(Q.toString(),10)]=d[Q+1],a.diagram.nameTable[d[parseInt(Q.toString(),10)]].zIndex=Q):(d[Q+1]=d[parseInt(Q.toString(),10)],a.diagram.nameTable[d[Q+1]].zIndex=Q,delete d[parseInt(Q.toString(),10)]));for(var oe=M;oe<m;oe++)d[parseInt(oe.toString(),10)]&&(a.diagram.nameTable[d[parseInt(oe.toString(),10)]].zIndex=oe);if("SwimLane"!==Y.shape.type)d[parseInt(m.toString(),10)]=a.diagram.nameTable[""+i].id,a.diagram.nameTable[""+i].zIndex=m;else{for(var de=0,Me=-1,Ve=0,Ce=0,ze=JSON.parse(JSON.stringify(d)),Ie=0;Ie<=M;Ie++)if(d[parseInt(Ie.toString(),10)]&&a.diagram.nameTable[d[parseInt(Ie.toString(),10)]].parentId===i&&-1===Me){Me=Ie,Ve=Ie;break}for(var pe=0;pe<=m;pe++)f[parseInt(pe.toString(),10)]&&f[parseInt(pe.toString(),10)]!==i&&a.diagram.nameTable[f[parseInt(pe.toString(),10)]].parentId!==i&&a.diagram.nameTable[f[parseInt(pe.toString(),10)]].zIndex>=a.diagram.nameTable[""+i].zIndex&&de++;for(var Oe=Me,Ye=0;Ye<=de;Ye++){for(;!d[parseInt(Oe.toString(),10)];)Oe++;Ce=a.diagram.nameTable[d[parseInt(Oe.toString(),10)]].zIndex,Oe++}for(var ut=Ce;ut<=m;ut++){for(;!ze[parseInt(Me.toString(),10)];)Me++;for(;!d[parseInt(ut.toString(),10)];)ut++;d[parseInt(ut.toString(),10)]=ze[parseInt(Me.toString(),10)],a.diagram.nameTable[d[parseInt(ut.toString(),10)]].zIndex=ut,Me++}d[parseInt(m.toString(),10)]=a.diagram.nameTable[""+i].id,a.diagram.nameTable[""+i].zIndex=m,Oe=M+1;for(var Xt=Ve,ni=0;ni<de;ni++){for(;!f[parseInt(Oe.toString(),10)];)Oe++;for(;a.diagram.nameTable[f[parseInt(Oe.toString(),10)]].parentId===i;)Oe++;for(;!d[parseInt(Xt.toString(),10)];)Xt++;d[parseInt(Xt.toString(),10)]=f[parseInt(Oe.toString(),10)],a.diagram.nameTable[d[parseInt(Xt.toString(),10)]].zIndex=Xt,Oe++,Xt++}}if("SVG"===a.diagram.mode){var ui=a.diagram.diagramLayer,Pi=es(i+"_groupElement",a.diagram.element.id),Di=a.diagram.selectedItems.nodes;if(Di.length>0&&("Native"===Di[0].shape.type||"HTML"===Di[0].shape.type)){for(Pi.parentNode.removeChild(Pi),Xt=0;Xt<a.diagram.views.length;Xt++){var Fi=(Pi=es(i+("HTML"===Di[0].shape.type?"_html_element":"_content_groupElement"),a.diagram.views[parseInt(Xt.toString(),10)])).parentNode.lastChild;Fi.parentNode.insertBefore(Pi,Fi.nextSibling)}var Mi=fu(a.diagram.element.id);a.diagram.diagramRenderer.renderElement(a.diagram.nameTable[""+i].wrapper,ui,Mi)}else Object.keys(d).forEach(function(Dn){var st=d[""+Dn];if(st!==i&&e.diagram.nameTable[""+st].parentId!==i&&void 0!==st&&T.indexOf(i)<T.indexOf(st)){var yt=e.diagram.nameTable[""+i],mi=e.diagram.nameTable[""+st];(""===yt.parentId&&""===mi.parentId&&void 0===mi.parentId&&yt.parentId!==mi.id||e.checkGroupNode(i,st,e.diagram.nameTable))&&(e.moveSvgNode(st,i),e.updateNativeNodeIndex(i))}})}else a.diagram.refreshCanvasLayers();var hn=rt(a.diagram.selectedItems);a.diagram.diagramActions&Dt.UndoRedo||a.addHistoryEntry({type:"BringToFront",category:"Internal",undoObject:p,redoObject:hn}),a.triggerOrderCommand(c,s[parseInt(h.toString(),10)],s[parseInt(h.toString(),10)])},a=this,l=0;l<s.length;l++)o(l)}this.diagram.protectPropertyChange(!1),ge()&&this.getZIndexObjects()},r.prototype.triggerOrderCommand=function(t,e,i){var s={zIndex:rt(t).zIndex},o={zIndex:e.zIndex},a={element:i,cause:this.diagram.diagramActions,diagramAction:this.diagram.getDiagramAction(this.diagram.diagramActions),oldValue:s,newValue:o};this.diagram.triggerEvent(_i.propertyChange,a)},r.prototype.checkGroupNode=function(t,e,i){return i[""+e].parentId===i[""+t].parentId},r.prototype.sortByZIndex=function(t,e){var i=e||"zIndex";return t.sort(function(n,s){return n[""+i]-s[""+i]})},r.prototype.orderCommands=function(t,e,i){var n=e.nodes;if(n=n.concat(e.connectors),t)"SendBackward"===i?this.sendBackward(n[0]):"SendForward"===i?this.sendForward(n[0]):"BringToFront"===i?this.bringToFront(n[0]):"SendToBack"===i&&this.sendToBack(n[0]);else{var s=n[0].zIndex,o=this.diagram.nameTable[n[0].id].zIndex,a=n[0],l=this.getObjectLayer(a.id),h=l.zIndex,c=l.zIndexTable;if("SendBackward"===i||"SendForward"===i)for(var u=0;u<n.length;u++){var d=n[parseInt(u.toString(),10)],p=this.diagram.layers.indexOf(this.getObjectLayer(d.id));this.diagram.nameTable[n[parseInt(u.toString(),10)].id].zIndex=d.zIndex,this.diagram.layers[parseInt(p.toString(),10)].zIndexTable[d.zIndex]=d.id}else if("BringToFront"===i)if("SwimLane"===n[0].shape.type)this.sendToBack(n[0]);else for(var M=o;M>s;M--)c[parseInt(M.toString(),10)]&&(c[M-1]?(c[parseInt(M.toString(),10)]=c[M-1],this.diagram.nameTable[c[parseInt(M.toString(),10)]].zIndex=M):(c[M-1]=c[parseInt(M.toString(),10)],this.diagram.nameTable[c[M-1]].zIndex=M,delete c[parseInt(M.toString(),10)]));else if("SendToBack"===i)if("SwimLane"===n[0].shape.type)this.bringToFront(n[0]);else for(M=o;M<s;M++)c[parseInt(M.toString(),10)]&&(c[M+1]?(c[parseInt(M.toString(),10)]=c[M+1],this.diagram.nameTable[c[parseInt(M.toString(),10)]].zIndex=M):(c[M+1]=c[parseInt(M.toString(),10)],this.diagram.nameTable[c[M+1]].zIndex=M,delete c[parseInt(M.toString(),10)]));if("BringToFront"!==i&&"SendToBack"!==i||(this.diagram.nameTable[n[0].id].zIndex=a.zIndex,this.diagram.layers[parseInt(h.toString(),10)].zIndexTable[a.zIndex]=a.id),"SVG"===this.diagram.mode){if("SendBackward"===i)this.moveObject(n[1].id,n[0].id);else if("SendForward"===i)this.moveObject(n[0].id,n[1].id);else if("BringToFront"===i)"SwimLane"!==n[0].shape.type&&this.moveObject(n[0].id,c[n[0].zIndex+1]);else if("SendToBack"===i&&"SwimLane"!==n[0].shape.type){var T=this.getObjectLayer(n[0].id);for(u=0;u<=n[0].zIndex;u++)T.objects[parseInt(u.toString(),10)]!==n[0].id&&(this.moveSvgNode(T.objects[parseInt(u.toString(),10)],n[0].id),this.updateNativeNodeIndex(n[0].id))}}else this.diagram.refreshCanvasLayers()}},r.prototype.moveObject=function(t,e){e&&(this.moveSvgNode(t,e),this.updateNativeNodeIndex(t,e))},r.prototype.sendForward=function(t){if(this.diagram.protectPropertyChange(!0),Xp(this.diagram)||t){var e=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0]),i=rt(e),n=t&&t.id,s=this.diagram.layers.indexOf(this.getObjectLayer(n=n||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id))),o=this.diagram.layers[parseInt(s.toString(),10)].zIndexTable,a=this.diagram.nameTable[""+n],l=[],h=this.diagram.spatialSearch.findObjects(a.wrapper.bounds);h.length>2&&(h=this.sortByZIndex(h));for(var c=0,u=h;c<u.length;c++){var d=u[c];if(a.id!==d.id&&s===this.getObjectLayer(d.id).zIndex&&Number(this.diagram.nameTable[""+n].zIndex)<Number(d.zIndex)&&a.wrapper.bounds.intersects(d.wrapper.bounds)){l.push(d);break}}if(l.length>0){var f=this.diagram.nameTable[o[Number(l[0].zIndex)]];if(f.parentId){var M=gD(f,this.diagram,""),T=this.diagram.nameTable[""+M];T.id!==n&&(l[0]=T)}var P=l[0].zIndex,U=a.zIndex,Y=o[parseInt(P.toString(),10)],X=rt(this.diagram.selectedItems);this.diagram.nameTable[""+Y]instanceof Et?X.nodes.push(rt(this.diagram.nameTable[""+Y])):X.connectors.push(rt(this.diagram.nameTable[""+Y])),this.diagram.layers[0].zIndexTable[parseInt(P.toString(),10)]=a.id,this.diagram.nameTable[o[parseInt(P.toString(),10)]].zIndex=P,this.diagram.layers[0].zIndexTable[parseInt(U.toString(),10)]=l[0].id,this.diagram.nameTable[o[parseInt(U.toString(),10)]].zIndex=U,"SVG"===this.diagram.mode?(this.moveSvgNode(o[Number(l[0].zIndex)],n),this.updateNativeNodeIndex(o[Number(l[0].zIndex)],n)):this.diagram.refreshCanvasLayers();var Q=rt(this.diagram.selectedItems);this.diagram.nameTable[Y]instanceof Et?Q.nodes.push(rt(this.diagram.nameTable[Y])):Q.connectors.push(rt(this.diagram.nameTable[""+Y])),this.diagram.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"SendForward",category:"Internal",undoObject:X,redoObject:Q})}if(ge()){var de=[];de.push(a),de.push(l[l.length-1]),this.updateBlazorZIndex(de)}this.triggerOrderCommand(i,e,e)}this.diagram.protectPropertyChange(!1)},r.prototype.sendBackward=function(t){if(this.diagram.protectPropertyChange(!0),Xp(this.diagram)||t){var e=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0]),i=rt(e),n=t&&t.id,s=this.diagram.layers.indexOf(this.getObjectLayer(n=n||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id))),o=this.diagram.layers[parseInt(s.toString(),10)].zIndexTable,a=this.diagram.nameTable[""+n],l=[],h=this.diagram.spatialSearch.findObjects(a.wrapper.bounds);h.length>2&&(h=this.sortByZIndex(h));for(var c=0,u=h;c<u.length;c++)a.id!==(d=u[c]).id&&s===this.getObjectLayer(d.id).zIndex&&Number(this.diagram.nameTable[""+n].zIndex)>Number(d.zIndex)&&a.wrapper.bounds.intersects(d.wrapper.bounds)&&l.push(d);for(var d=l.length-1;d>=0;d--)(f=this.diagram.nameTable[l[parseInt(d.toString(),10)].id]).parentId===n&&l.splice(d,1);if(l.length>0){var f;if((f=this.diagram.nameTable[l[l.length-1].id]).parentId){var M=gD(f,this.diagram,""),T=this.diagram.nameTable[""+M];n!==T.id&&(l[l.length-1]=T)}var P=l[l.length-1].zIndex,U=a.zIndex,Y=o[parseInt(P.toString(),10)],X=rt(this.diagram.selectedItems);if(this.diagram.nameTable[""+Y]instanceof Et?X.nodes.push(rt(this.diagram.nameTable[""+Y])):X.connectors.push(rt(this.diagram.nameTable[""+Y])),o[parseInt(P.toString(),10)]=a.id,this.diagram.nameTable[o[parseInt(P.toString(),10)]].zIndex=P,o[parseInt(U.toString(),10)]=l[l.length-1].id,this.diagram.nameTable[o[parseInt(U.toString(),10)]].zIndex=U,"SVG"===this.diagram.mode){this.moveSvgNode(n,o[l[l.length-1].zIndex]);var Q=this.diagram.nameTable[o[l[l.length-1].zIndex]];if(Q.children&&Q.children.length>0?this.updateNativeNodeIndex(n):this.updateNativeNodeIndex(n,o[l[l.length-1].zIndex]),ge()){var oe=[];oe.push(Q),oe.push(l[l.length-1]),this.updateBlazorZIndex(oe)}}else this.diagram.refreshCanvasLayers();var de=rt(this.diagram.selectedItems);this.diagram.nameTable[""+Y]instanceof Et?de.nodes.push(rt(this.diagram.nameTable[""+Y])):de.connectors.push(rt(this.diagram.nameTable[""+Y])),this.diagram.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"SendBackward",category:"Internal",undoObject:X,redoObject:de})}this.triggerOrderCommand(i,e,e)}this.diagram.protectPropertyChange(!1)},r.prototype.updateNativeNodeIndex=function(t,e){for(var i=this.diagram.selectedItems.nodes[0]||this.diagram.getObject(e),n=0;n<this.diagram.views.length;n++)if(i&&("HTML"===i.shape.type||"Native"===i.shape.type)){var s="HTML"===i.shape.type?"_html_element":"_content_groupElement",o=es(t+s,this.diagram.views[parseInt(n.toString(),10)]),a=e?es(e+s,this.diagram.views[parseInt(n.toString(),10)]):o.parentElement.firstChild;o&&a&&o.parentNode.id===a.parentNode.id&&a.parentNode.insertBefore(o,a)}},r.prototype.initSelectorWrapper=function(){var t=this.diagram.selectedItems;t.init(this.diagram),1===t.nodes.length&&0===t.connectors.length&&(t.rotateAngle=t.nodes[0].rotateAngle,t.wrapper.rotateAngle=t.nodes[0].rotateAngle,t.wrapper.pivot=t.nodes[0].pivot)},r.prototype.doRubberBandSelection=function(t){this.clearSelectionRectangle();var i,e=[];e=this.diagram.getNodesConnectors(e),i="CompleteIntersect"===this.diagram.selectedItems.rubberBandSelectionMode?function qve(r,t){for(var e=[],i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];r.containsRect(n.wrapper.bounds)&&e.push(n)}return e}(t,e):this.diagram.spatialSearch.findObjects(t),i.length&&this.selectObjects(i,!0)},r.prototype.clearSelectionRectangle=function(){var e=$f(this.diagram.element.id).getElementById(this.diagram.element.id+"_diagramAdorner_selected_region");e&&bn(e)},r.prototype.dragConnectorEnds=function(t,e,i,n,s,o){var l,u=!1;return e instanceof Pr?l=e.connectors[0]:e instanceof Gt&&this.diagram.currentDrawingObject&&(this.clearSelection(),l=this.diagram.currentDrawingObject),("BezierSourceThumb"===t||"BezierTargetThumb"===t)&&(u=!0,l.isBezierEditing=!0),"ConnectorSourceEnd"===t||"BezierSourceThumb"===t?this.dragSourceEnd(l,i.x-(u?n.bezierPoint1.x:l.sourcePoint.x),i.y-(u?n.bezierPoint1.y:l.sourcePoint.y),null,i,t,void 0,s,o,void 0,n):this.dragTargetEnd(l,i.x-(u?n.bezierPoint2.x:l.targetPoint.x),i.y-(u?n.bezierPoint2.y:l.targetPoint.y),null,i,t,void 0,n)},r.prototype.getSelectedObject=function(){var t=this.diagram.selectedItems;return t.nodes.concat(t.connectors)},r.prototype.updateBlazorProperties=function(t){var e="sfBlazor",i="Blazor";if(t){if(window&&window[""+i]&&"{}"!==JSON.stringify(this.deepDiffer.diagramObject)){var n={methodName:"UpdateBlazorProperties",diagramobj:this.deepDiffer.diagramObject};this.diagram.isLoading||window[""+e].updateBlazorProperties(n,this.diagram)}}else window&&window[""+i]&&(n={methodName:"UpdateBlazorProperties",diagramobj:this.diagramObject},window[""+e].updateBlazorProperties(n,this.diagram));this.deepDiffer.newNodeObject=[],this.deepDiffer.newConnectorObject=[],this.diagramObject=[],this.diagram.oldNodeObjects=[],this.diagram.oldConnectorObjects=[]},r.prototype.enableCloneObject=function(t){(!this.diagram.lineRoutingModule||!(this.diagram.constraints&Un.LineRouting))&&(this.diagram.canEnableBlazorObject=t)},r.prototype.ismouseEvents=function(t){this.diagram.blazorActions=t?this.diagram.addConstraints(this.diagram.blazorActions,Rr.interaction):this.diagram.removeConstraints(this.diagram.blazorActions,Rr.interaction)},r.prototype.updateLayerObject=function(t,e){var i;ge()&&(i=this.deepDiffer.getLayerObject(t,e,this.diagram),this.diagramObject=i,this.updateBlazorProperties())},r.prototype.getDiagramOldValues=function(t,e){for(var i={},n=0;n<e.length;n++)i[e[parseInt(n.toString(),10)]]=rt(this.diagram[e[parseInt(n.toString(),10)]]);var s=rt(i),o=this.deepDiffer.map(s,t),a=this.deepDiffer.frameObject({},o),l=this.deepDiffer.removeEmptyValues(a);l=this.deepDiffer.changeSegments(l,s),this.diagramObject=l,this.diagram.blazorActions&Rr.ClearObject||this.updateBlazorProperties()},r.prototype.getBlazorOldValues=function(t,e){if(ge()){for(var i=this.diagram.oldNodeObjects,n=0;n<i.length;n++)i[parseInt(n.toString(),10)].id&&(this.diagram.oldNodeObjects[parseInt(n.toString(),10)]instanceof Et&&(this.diagram.oldNodeObjects[parseInt(n.toString(),10)]=Rt(this.diagram.oldNodeObjects[parseInt(n.toString(),10)])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[i[parseInt(n.toString(),10)].id],t,e,this.diagram));var s=this.diagram.oldConnectorObjects;for(n=0;n<s.length;n++)s[parseInt(n.toString(),10)].id&&(this.diagram.oldConnectorObjects[parseInt(n.toString(),10)]instanceof Gt&&(this.diagram.oldConnectorObjects[parseInt(n.toString(),10)]=Rt(this.diagram.oldConnectorObjects[parseInt(n.toString(),10)])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[s[parseInt(n.toString(),10)].id],t,e,this.diagram));(i.length>0||s.length>0)&&this.updateBlazorProperties(!0)}},r.prototype.getObjectChanges=function(t,e,i){for(var n=0;n<t.length;n++){var s=this.deepDiffer.map(e[parseInt(n.toString(),10)],t[parseInt(n.toString(),10)]),o=this.deepDiffer.frameObject({},s),a=this.deepDiffer.removeEmptyValues(o);a.children&&(a.children=rt(e[parseInt(n.toString(),10)]).children),(a=this.deepDiffer.changeSegments(a,e[parseInt(n.toString(),10)])).sfIndex=R4(this.diagram,e[parseInt(n.toString(),10)].id),i.push(a)}},r.prototype.clearObjectSelection=function(t){var e=this.diagram.selectedItems,i=[];-1===(i=i.concat(e.nodes,e.connectors)).indexOf(t)&&(this.clearSelection(i.length>0),this.selectObjects([t],!0))},r.prototype.clearSelection=function(t,e){return H4(this,void 0,void 0,function(){var i,n,s,o,a,l,h,c;return U4(this,function(u){switch(u.label){case 0:return i=this.diagram.allowServerDataBinding,this.diagram.enableServerDataBinding(!1),Xp(this.diagram)?(n=this.diagram.selectedItems,s=this.getSelectedObject(),this.diagram.currentSymbol&&(this.diagram.previousSelectedObject=s),o={oldValue:s,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(s,!0),t&&(ge()?this.oldSelectedObjects=rt(n):this.diagram.triggerEvent(_i.selectionChange,o)),o.cancel?[3,4]:(n.offsetX=0,n.offsetY=0,n.width=0,n.height=0,n.rotateAngle=0,n.nodes=[],n.connectors=[],n.wrapper=null,n.annotation=void 0,n.selectedObjects=[],this.diagram.clearSelectorLayer(),t?(o={oldValue:Rt(s),newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},ge()&&(o=this.updateSelectionChangeEventArgs(o,[],s),this.updateBlazorSelector()),ge()?[3,1]:(this.diagram.triggerEvent(_i.selectionChange,o),[3,4])):[3,4])):[3,5];case 1:return a=void 0,window&&window[this.blazor]&&this.diagram.selectionChange?(l={EventName:"selectionChange",args:JSON.stringify(o)},[4,window[this.blazorInterop].updateBlazorDiagramEvents(l,this.diagram)]):[3,3];case 2:a=u.sent(),u.label=3;case 3:if(a&&a.cancel&&!e&&(h=[],a.oldValue.nodes.length>0&&(h=a.oldValue.nodes),a.oldValue.connectors.length>0&&(h=h.concat(a.oldValue.connectors)),h))for(c=0;c<h.length;c++)this.select(this.diagram.nameTable[h[parseInt(c.toString(),10)].id],0!==c&&h.length>1);u.label=4;case 4:this.updateBlazorSelector(),this.diagram.enableServerDataBinding(i),u.label=5;case 5:return[2]}})})},r.prototype.clearSelectedItems=function(){this.clearSelection((this.diagram.selectedItems.nodes?this.diagram.selectedItems.nodes.length:0)+(this.diagram.selectedItems.connectors?this.diagram.selectedItems.connectors.length:0)>0)},r.prototype.removeStackHighlighter=function(){var t=$f(this.diagram.element.id),e=t.getElementById(t.id+"_stack_highlighter");e&&e.parentNode.removeChild(e)},r.prototype.renderStackHighlighter=function(t,e){var n,s,o,i=this.diagram.selectedItems.nodes[0];if(!e){var a=this.diagram.findObjectsUnderMouse(t.position);if((e=this.diagram.findObjectUnderMouse(a,"Drag",!0))&&!(e.isLane||e.isPhase||e.isHeader))for(var l=0;l<a.length;l++){var h=this.diagram.nameTable[a[parseInt(l.toString(),10)].id];(!h.isLane||h.isPhase||h.isHeader)&&(this.diagram.parentObject=e=h)}}if(i&&e&&e.isLane&&i.shape&&!i.shape.isPhase&&(s=this.diagram.nameTable[e.parentId],this.diagram.currentSymbol&&"SwimLane"===s.shape.type&&(n=!0),i&&!i.parentId&&"SwimLane"!==i.shape.type||i&&i.parentId&&this.diagram.nameTable[i.parentId]&&this.diagram.nameTable[i.parentId].isLane&&i.parentId!==e.parentId&&i.parentId!==e.id)&&((c=r4(this.diagram,o=this.diagram.selectedItems,e.id,!0))&&(o.wrapper.children[0]=c),this.diagram.renderSelector(!1,!0),o.wrapper.children[0]=o.nodes[0].wrapper),i&&e&&e.parentId&&i.shape&&i.shape.isPhase&&"SwimLane"===this.diagram.nameTable[e.parentId].shape.type&&(this.diagram.selectedItems.wrapper.children[0]=this.diagram.nameTable[e.parentId].wrapper,this.diagram.renderSelector(!1,!0)),n&&this.diagram.currentSymbol.shape.isLane||i&&e&&i.parentId&&e.parentId&&!i.isPhase&&i.parentId===e.parentId&&i.id!==e.id&&s&&s.container&&("Stack"===s.container.type||"Grid"===s.container.type)){var c=void 0,d="Vertical"===s.container.orientation,p="Stack"===s.container?d:!d;"Grid"===s.container.type&&e.isLane&&(!this.diagram.currentSymbol&&"Horizontal"===s.shape.orientation&&e.rowIndex!==i.rowIndex||"Vertical"===s.shape.orientation&&e.columnIndex!==i.columnIndex||this.diagram.currentSymbol&&this.diagram.currentSymbol.shape.orientation===s.container.orientation)&&(o=this.diagram.selectedItems,(i.isLane&&o4(i,this.diagram)||!i.isLane)&&(c=r4(this.diagram,o,e.id,n)));var f="Stack"===s.container.type?e.wrapper:c;f&&QG(f,p,t.position,this.diagram,!1,!0)}},r.prototype.insertBlazorConnector=function(t){if(t instanceof Pr)for(var e=0;e<t.connectors.length;e++)this.diagram.insertBlazorConnector(t.connectors[parseInt(e.toString(),10)]);else this.diagram.insertBlazorConnector(t)},r.prototype.drag=function(t,e,i){var n;if(!this.diagram.rotateUsingButton&&t.shape&&"SwimLane"!==t.shape.type&&(this.diagram.eventHandler.currentAction="Drag"),Vc(t)&&this.checkBoundaryConstraints(e,i,t.wrapper.bounds)&&Jx(this.diagram))if(t instanceof Et){var o={offsetX:t.offsetX,offsetY:t.offsetY};if(t.offsetX+=e,t.offsetY+=i,t.children&&!t.container){wh(this.diagram,t,!0)||(this.diagram.diagramActions=this.diagram.diagramActions|Dt.isGroupDragging);for(var a=this.getAllDescendants(t,[]),l=0;l<a.length;l++)n=this.diagram.nameTable[a[parseInt(l.toString(),10)].id],this.drag(n,e,i);this.updateInnerParentProperties(t),this.diagram.diagramActions=this.diagram.diagramActions&~Dt.isGroupDragging}wh(this.diagram,t,!0)?a4(this.diagram,t):(t&&t.shape&&"UmlClassifier"===t.shape.type&&(t.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(t,o,{offsetX:t.offsetX,offsetY:t.offsetY},void 0,void 0,!1),t.wrapper.measureChildren=!1),"SwimLane"!==t.shape.type||this.diagram.currentSymbol||kb(Dy(this.diagram,t.wrapper.children[0]),this.diagram)}else{var u=t,d=(o={sourcePoint:u.sourcePoint,targetPoint:u.targetPoint},"Bezier"===u.type),p=!1;u.sourceWrapper?p=!0:this.dragSourceEnd(u,e,i,!0,null,"",d),u.targetWrapper?p=!0:this.dragTargetEnd(u,e,i,!0,null,"",d);var f=!1;t instanceof Gt&&(f=!0),(!p||f)&&(this.dragControlPoint(u,e,i,!0),this.diagram.connectorPropertyChange(u,o,{sourcePoint:u.sourcePoint,targetPoint:u.targetPoint}))}},r.prototype.connectorSegmentChange=function(t,e,i){var n,s,o=!0;if(!1===e.equals(e,t.wrapper.bounds)&&t.outEdges.length>0)for(var a=0;a<t.outEdges.length;a++){var l=this.diagram.nameTable[t.outEdges[parseInt(a.toString(),10)]];if(o=""!==l.targetID?!this.isSelected(this.diagram.nameTable[l.targetID]):!this.isSelected(this.diagram.nameTable[l.id]),"Orthogonal"===l.type&&l.segments&&l.segments.length>1)if(i){var h=l.segments[0],c=l.segments[1],d=My(SL(t.wrapper,t.wrapper.corners,t.wrapper.bounds),h.direction),m=Lv({corners:void 0,point:d=Ov(l,0,d,{x:l.sourceWrapper.offsetX,y:l.sourceWrapper.offsetY},!1),margin:void 0,direction:h.direction},{corners:void 0,point:c.points[1],margin:void 0,direction:void 0});h.length=Be.distancePoints(m[0],m[1]),c.direction&&c.length&&(c.length=Be.distancePoints(m[1],m[2]))}else if(o){switch(l.segments[0].direction){case"Bottom":n=t.wrapper.bounds.bottomCenter.x-e.bottomCenter.x,s=t.wrapper.bounds.bottomCenter.y-e.bottomCenter.y;break;case"Top":n=t.wrapper.bounds.topCenter.x-e.topCenter.x,s=t.wrapper.bounds.topCenter.y-e.topCenter.y;break;case"Left":n=t.wrapper.bounds.middleLeft.x-e.middleLeft.x,s=t.wrapper.bounds.middleLeft.y-e.middleLeft.y;break;case"Right":n=t.wrapper.bounds.middleRight.x-e.middleRight.x,s=t.wrapper.bounds.middleRight.y-e.middleRight.y}this.dragSourceEnd(l,n,s,!0,null,"ConnectorSourceEnd",void 0,void 0,void 0,!(t.parentId&&this.diagram.diagramActions&Dt.isGroupDragging))}}},r.prototype.updateEndPoint=function(t,e){var n={sourcePoint:t.sourcePoint,targetPoint:t.targetPoint};t.sourceID&&(n.sourceID=t.sourceID),t.targetID&&(n.targetID=t.targetID),t.sourcePortID&&(n.sourcePortID=t.sourcePortID),t.targetPortID&&(n.targetPortID=t.targetPortID),t.segments&&(n.segments=t.segments),this.diagram.connectorPropertyChange(t,e||{},n),this.diagram.updateSelector()},r.prototype.dragSourceEnd=function(t,e,i,n,s,o,a,l,h,c,u){var d=this.diagram.nameTable[t.id],p={},f=this.checkBoundaryConstraints(e,i,d.wrapper.bounds);if(ML(d)&&f&&"BezierSourceThumb"!==o&&Jx(this.diagram)&&(p=rt(p={sourcePoint:d.sourcePoint}),d.sourcePoint.x+=e,d.sourcePoint.y+=i,"ConnectorSourceEnd"===o&&"Orthogonal"===d.type&&this.changeSegmentLength(d,l,h,c),"Bpmn"===d.shape.type&&"Default"===d.shape.sequence&&"Sequence"===d.shape.flow&&this.updatePathElementOffset(d)),"Bezier"===d.type)if(p={sourcePoint:d.sourcePoint},u)this.translateBezierPoints(t,""===o?"ConnectorSourceEnd":o,e,i,u,s,!a);else for(var m=0;m<t.segments.length;m++)this.translateBezierPoints(t,""===o?"ConnectorSourceEnd":o,e,i,t.segments[parseInt(m.toString(),10)],s,!a);return n||this.updateEndPoint(d,p),this.diagram.realActions&Gs.AnimationClick||this.diagram.refreshCanvasLayers(),f},r.prototype.updatePathElementOffset=function(t){t.wrapper.children.splice(3,1);var e=new Nn;e=MX(t.intermediatePoints,t),t.wrapper.children.splice(3,0,e)},r.prototype.changeSegmentLength=function(t,e,i,n){var s=!e||this.canConnect(t,e);if(t.segments&&null!==t.segments[0].direction&&(!e&&""===t.sourceID||n)&&s){var o=t.segments[0],a=t.segments[1],l=this.diagram.nameTable[t.sourceID],h=void 0;if(o.points[0]=t.sourcePoint,"Top"===o.direction||"Bottom"===o.direction?(o.points[o.points.length-1].x=t.sourcePoint.x,a.points[0].y=o.points[o.points.length-1].y):(o.points[o.points.length-1].y=t.sourcePoint.y,a.points[0].x=o.points[o.points.length-1].x),o.direction&&(o.length||0===o.length)&&(o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1])),a.direction&&(a.length||0===a.length)&&(a.length=Be.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]),a.direction=Be.direction(o.points[o.points.length-1],a.points[a.points.length-1])),""!==t.sourcePortID&&o.length<10)if(t.segments.length>2){var u=Be.direction((c=t.segments[2]).points[0],c.points[1]);o.direction===Ch(u)?("Right"===o.direction?c.points[0].x=o.points[o.points.length-1].x=l.wrapper.corners.middleRight.x+20:"Left"===o.direction?c.points[0].x=o.points[o.points.length-1].x=l.wrapper.corners.middleLeft.x-20:c.points[0].y=o.points[o.points.length-1].y="Top"===o.direction?l.wrapper.corners.topCenter.y-20:l.wrapper.corners.bottomCenter.y+20,c.direction&&c.length&&(c.length=Be.distancePoints(c.points[0],c.points[c.points.length-1])),o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1])):o.direction===u&&c.direction&&c.length?("Top"===o.direction||"Bottom"===o.direction?(c.points[0]=o.points[0],c.points[c.points.length-1].x=c.points[0].x):(c.points[0]=o.points[0],c.points[c.points.length-1].y=c.points[0].y),c.length=Be.distancePoints(c.points[0],c.points[c.points.length-1]),t.segments.splice(0,2)):o.length=20}else o.length=20;else if(o.length<1)if(""!==t.sourceID){var c;"Right"===a.direction?a.points[a.points.length-1].y=(h=l.wrapper.corners.middleRight).y:"Left"===a.direction?a.points[a.points.length-1].y=(h=l.wrapper.corners.middleLeft).y:a.points[a.points.length-1].x="Top"===a.direction?(h=l.wrapper.corners.topCenter).x:(h=l.wrapper.corners.bottomCenter).x,a.length=Be.distancePoints(h,a.points[a.points.length-1]),t.segments.length>2&&(c=t.segments[2]).direction&&c.length&&(c.length=Be.distancePoints(a.points[a.points.length-1],c.points[c.points.length-1])),t.segments.splice(0,1)}else t.segments.splice(0,1)}else e&&!i&&t.sourceID!==e.id&&t.segments&&null!==t.segments[0].direction&&e&&e instanceof Et&&s&&this.changeSourceEndToNode(t,e),e&&i&&t.sourcePortID!==i&&t.segments&&null!==t.segments[0].direction&&e&&e instanceof Et&&s&&this.changeSourceEndToPort(t,e,i)},r.prototype.canConnect=function(t,e){return!(!Ud(e)||!Nv(e))},r.prototype.changeSourceEndToPort=function(t,e,i){var n=this.diagram.getWrapper(e.wrapper,i),s={x:n.offsetX,y:n.offsetY},o=Zu(s,gl(e.wrapper),e.wrapper.bounds),a=t.segments[0],l=t.segments[1];if(a.direction!==o){var h=[],c={};if(a.direction===Ch(o)){c={};var u=void 0;"Top"===o||"Bottom"===o?(u="Top"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].y-s.y)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(s.y-a.points[0].y)},c=a.points[0].x>s.x?{type:"Orthogonal",isTerminal:!0,direction:"Right",length:a.points[0].x-s.x}:{type:"Orthogonal",isTerminal:!0,direction:"Left",length:s.x-a.points[0].x}):(u="Right"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].x-s.x)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(s.x-a.points[0].x)},c=a.points[0].y>s.y?{type:"Orthogonal",direction:"Top",isTerminal:!0,length:a.points[0].y-s.y}:{type:"Orthogonal",direction:"Bottom",isTerminal:!0,length:s.y-a.points[0].y}),h.push(new Ts(t,"segments",u,!0)),h.push(new Ts(t,"segments",c,!0))}else h.push(new Ts(t,"segments",c={type:"Orthogonal",direction:o,length:20,isTerminal:!0},!0));a.direction!==Ch(o)&&("Top"===o||"Bottom"===o?(a.points[0].x=s.x,a.points[0].y=a.points[a.points.length-1].y="Top"===o?s.y-20:s.y+20):(a.points[0].y=s.y,a.points[0].x=a.points[a.points.length-1].x="Right"===o?s.x+20:s.x-20),a.length=Be.distancePoints(a.points[0],a.points[a.points.length-1]),l.length=Be.distancePoints(a.points[a.points.length-1],l.points[l.points.length-1])),t.segments=h.concat(t.segments)}else a.points[0]=s,"Top"===o||"Bottom"===o?a.points[a.points.length-1].x=s.x:a.points[a.points.length-1].y=s.y,a.length=Be.distancePoints(a.points[0],a.points[a.points.length-1]),l.length=Be.distancePoints(a.points[a.points.length-1],l.points[l.points.length-1])},r.prototype.removeTerminalSegment=function(t,e){for(var i=0;i<t.segments.length-2;i++){var n=t.segments[0];n.isTerminal&&(e?n.isTerminal=!1:(t.segments.splice(i,1),i--))}},r.prototype.changeSourceEndToNode=function(t,e){this.removeTerminalSegment(t);var n,s,i=e.wrapper.children[0].corners,o=t.segments[0],a=t.segments[1],l=[];if("Right"===o.direction||"Left"===o.direction)if(n="Left"===o.direction?i.middleLeft:i.middleRight,o.length>i.width||"Left"===o.direction&&n.x>=o.points[0].x||"Right"===o.direction&&n.x<=o.points[0].x)o.points[0].y=o.points[o.points.length-1].y=n.y,o.points[0].x=n.x,o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=Be.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{var h=void 0;s="Bottom"===(h=a.direction?a.direction:Be.direction(a.points[0],a.points[a.points.length-1]))?i.bottomCenter:i.topCenter,a.length&&a.direction&&(a.length="Top"===h?o.points[o.points.length-1].y-(s.y+20):s.y+20-o.points[o.points.length-1].y),o.length=o.points[o.points.length-1].x-s.x,o.direction=o.length>0?"Right":"Left",l.push(new Ts(t,"segments",{type:"Orthogonal",direction:h,length:20},!0)),t.segments=l.concat(t.segments)}else n="Bottom"===o.direction?i.bottomCenter:i.topCenter,o.length>i.height||"Top"===o.direction&&n.y>=o.points[0].y||"Bottom"===o.direction&&n.y<=o.points[0].y?(o.points[0].x=o.points[o.points.length-1].x=n.x,o.points[0].y=n.y,o.length=Be.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=Be.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1])):(s="Left"===a.direction?i.middleLeft:i.middleRight,h=void 0,h=a.direction?a.direction:Be.direction(a.points[0],a.points[a.points.length-1]),a.length&&a.direction&&(a.length="Left"===h?o.points[o.points.length-1].x-(s.x+20):s.x+20-o.points[o.points.length-1].x),o.length=o.points[o.points.length-1].y-s.y,o.direction=o.length>0?"Bottom":"Top",l.push(new Ts(t,"segments",{type:"Orthogonal",direction:h,length:20},!0)),t.segments=l.concat(t.segments))},r.prototype.translateBezierPoints=function(t,e,i,n,s,o,a){var l=t.segments.indexOf(s),h=t.segments[parseInt(l.toString(),10)],c=l>0?t.segments[l-1]:null,u=null!==c?c.point:t.sourcePoint,d=l===t.segments.length-1?t.targetPoint:h.point;if(h)if("BezierSourceThumb"===e&&(h.vector1.angle||h.vector1.distance)){var p=h.vector1.distance,f=h.vector1.angle;h.vector1={distance:t.distance(u,o),angle:Be.findAngle(u,o)},this.translateSubsequentSegment(t,s,!0,h.vector1.distance-p,h.vector1.angle-f)}else"BezierTargetThumb"===e&&(h.vector2.angle||h.vector2.distance)?(p=h.vector2.distance,f=h.vector2.angle,h.vector2={distance:t.distance(d,o),angle:Be.findAngle(d,o)},this.translateSubsequentSegment(t,s,!1,h.vector2.distance-p,h.vector2.angle-f)):("ConnectorSourceEnd"===e&&!t.sourceID||"ConnectorTargetEnd"===e&&!t.targetID)&&a&&UL(h.vector1)&&UL(h.vector2)?(Be.isEmptyPoint(h.point1)&&(h.bezierPoint1=VL(t.sourcePoint,t.targetPoint)),Be.isEmptyPoint(h.point2)&&(h.bezierPoint2=VL(t.targetPoint,t.sourcePoint))):"BezierSourceThumb"===e||"ConnectorSourceEnd"===e&&!a&&UL(h.vector1)?(h.bezierPoint1.x+=i,h.bezierPoint1.y+=n,(!Be.isEmptyPoint(h.point1)||a)&&(h.point1={x:h.bezierPoint1.x,y:h.bezierPoint1.y})):("BezierTargetThumb"===e||"ConnectorTargetEnd"===e&&!a&&UL(h.vector2))&&(h.bezierPoint2.x+=i,h.bezierPoint2.y+=n,(!Be.isEmptyPoint(h.point2)||a)&&(h.point2={x:h.bezierPoint2.x,y:h.bezierPoint2.y}))},r.prototype.translateSubsequentSegment=function(t,e,i,n,s){var o=t.segments.indexOf(e);parseInt(o.toString(),10),t.bezierSettings.smoothness&cL.SymmetricAngle||(s=null),t.bezierSettings.smoothness&cL.SymmetricDistance||(n=null),(null!=n||null!=s)&&(i?0!==o&&this.updatePreviousBezierSegment(t,o,n,s):o!==t.segments.length-1&&this.updateNextBezierSegment(t,o,n,s))},r.prototype.updatePreviousBezierSegment=function(t,e,i,n){var s=t.segments[e-1],a=(s.vector2.angle+n)%360;a<0&&(a+=360),s.vector2={distance:s.vector2.distance+i,angle:a}},r.prototype.updateNextBezierSegment=function(t,e,i,n){var s=t.segments[e+1],a=(s.vector1.angle+n)%360;a<0&&(a+=360),s.vector1={distance:s.vector1.distance+i,angle:a}},r.prototype.dragTargetEnd=function(t,e,i,n,s,o,a,l){var c,h=this.diagram.nameTable[t.id],u=this.checkBoundaryConstraints(e,i,h.wrapper.bounds);if(xL(h)&&"BezierTargetThumb"!==o&&u&&Jx(this.diagram)){if(c=rt(c={targetPoint:h.targetPoint}),h.targetPoint.x+=e,h.targetPoint.y+=i,"ConnectorTargetEnd"===o&&"Orthogonal"===h.type&&h.segments&&h.segments.length>0){var d=h.segments[h.segments.length-2];d&&2===h.segments[h.segments.length-1].points.length&&("Left"===d.direction||"Right"===d.direction?d.points[d.points.length-1].x=h.targetPoint.x:d.points[d.points.length-1].y=h.targetPoint.y,d.length=Be.distancePoints(d.points[0],d.points[d.points.length-1]),d.direction=Be.direction(d.points[0],d.points[d.points.length-1]))}"Bpmn"===h.shape.type&&"Default"===h.shape.sequence&&"Sequence"===h.shape.flow&&this.updatePathElementOffset(h)}if("Bezier"===h.type)if(c={targetPoint:h.targetPoint},l)this.translateBezierPoints(t,""===o?"ConnectorTargetEnd":o,e,i,l,s,!a);else for(var p=0;p<t.segments.length;p++)this.translateBezierPoints(t,""===o?"ConnectorTargetEnd":o,e,i,t.segments[parseInt(p.toString(),10)],s,!a);return n||this.updateEndPoint(h,c),this.diagram.realActions&Gs.AnimationClick||this.diagram.refreshCanvasLayers(),u},r.prototype.dragControlPoint=function(t,e,i,n,s){var o=this.diagram.nameTable[t.id];if(("Straight"===o.type||"Bezier"===o.type)&&o.segments.length>0){if(void 0!==s&&o.segments[parseInt(s.toString(),10)])if("Bezier"===o.type){var a=o.segments[parseInt(s.toString(),10)],l=a.isInternalSegment;l&&null!==o.bezierSettings&&"FreeForm"!==o.bezierSettings.segmentEditOrientation?("Horizontal"===a.orientation?a.point.x+=e:a.point.y+=i,this.updateDirectionalBezierCurve(o)):(a.point.x+=e,a.point.y+=i),l&&(o.isBezierEditing=!0)}else o.segments[parseInt(s.toString(),10)].point.x+=e,o.segments[parseInt(s.toString(),10)].point.y+=i;else for(var h=0;h<o.segments.length-1;h++)o.segments[parseInt(h.toString(),10)].point.x+=e,o.segments[parseInt(h.toString(),10)].point.y+=i;n||this.updateEndPoint(o)}return!0},r.prototype.updateDirectionalBezierCurve=function(t){if(!(t.segments.length<2)){var e=[];e.push(t.sourcePoint);for(var i=0;i<t.segments.length-1;i++){var n=t.segments[parseInt(i.toString(),10)];e.push("Horizontal"===n.orientation?{x:n.point.x,y:e[e.length-1].y}:{x:e[e.length-1].x,y:n.point.y}),i===t.segments.length-2&&e.push("Horizontal"===n.orientation?{x:n.point.x,y:t.targetPoint.y}:{x:t.targetPoint.x,y:n.point.y})}e.push(t.targetPoint);var s=e[0],o=e[e.length-1];if(t.segments.length>1){var a=e[1],l=e[2],h={x:.5*(a.x+l.x),y:.5*(a.y+l.y)},c=t.segments[0];c.vector1.angle=Nr(s,a),c.vector1.distance=.5*Be.findLength(s,a),c.vector2.angle=Nr(h,a),c.vector2.distance=.5*Be.findLength(h,a),c.point=h;var u=t.segments[1];if(u.vector1.angle=Nr(h,l),u.vector1.distance=.5*Be.findLength(h,l),t.segments.length>2){var d=e[3],p={x:.5*(l.x+d.x),y:.5*(l.y+d.y)};u.vector2.angle=Nr(p,l),u.vector2.distance=.5*Be.findLength(p,l),u.point=p;var f=t.segments[2];if(f.vector1.angle=Nr(p,d),f.vector1.distance=.5*Be.findLength(p,d),t.segments.length>3){var m=e[4],M={x:.5*(d.x+m.x),y:.5*(d.y+m.y)};f.vector2.angle=Nr(M,d),f.vector2.distance=.5*Be.findLength(M,d),f.point=M;var T=t.segments[3];T.vector1.angle=Nr(M,m),T.vector1.distance=.5*Be.findLength(M,m),T.vector2.angle=Nr(o,m),T.vector2.distance=.5*Be.findLength(o,m)}else f.vector2.angle=Nr(o,d),f.vector2.distance=.5*Be.findLength(o,d)}else u.vector2.angle=Nr(o,l),u.vector2.distance=.5*Be.findLength(o,l)}}},r.prototype.rotatePropertyChnage=function(t){var e=this.diagram.selectedItems,i=[];i=(i=i.concat(e.nodes)).concat(e.connectors),this.rotateObjects(e,i,t-e.rotateAngle,{x:e.offsetX,y:e.offsetY}),e.wrapper.rotateAngle=e.rotateAngle=t,this.diagram.updateSelector()},r.prototype.rotateObjects=function(t,e,i,n,s){n=n||{};var o=Bs();to(o,i,n.x,n.y);for(var l=0,h=e;l<h.length;l++){var c=h[l];if(c instanceof Et){if(DL(c)&&Jx(this.diagram)){if(!1!==s||t!==c){c.rotateAngle+=i,c.rotateAngle=(c.rotateAngle+360)%360;var u=xn(o,{x:c.offsetX,y:c.offsetY});c.offsetX=u.x,c.offsetY=u.y,this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,rotateAngle:c.rotateAngle})}if(c.processId){var p=this.diagram.bpmnModule.getChildrenBound(this.diagram.nameTable[c.processId],c.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(p,c,this.diagram)}c.children&&c.children.length&&!c.container&&this.getChildren(c,e)}}else this.rotatePoints(c,i,n||{x:c.wrapper.offsetX,y:c.wrapper.offsetY});this.diagram.updateDiagramObject(c)}this.diagram.refreshCanvasLayers(),this.diagram.updateSelector()},r.prototype.snapConnectorEnd=function(t){return this.diagram.snapSettings.constraints&zr.SnapToLines&&this.snappingModule&&this.diagram.snappingModule.snapConnectorEnd(t),t},r.prototype.snapAngle=function(t){return this.diagram.snapSettings.constraints&zr.SnapToLines&&this.snappingModule?this.snappingModule.snapAngle(this.diagram,t):0},r.prototype.rotatePoints=function(t,e,i){if(!t.sourceWrapper||!t.targetWrapper){var n=Bs();if(to(n,e,i.x,i.y),t.sourcePoint=xn(n,t.sourcePoint),t.targetPoint=xn(n,t.targetPoint),"Bpmn"===t.shape.type&&"Default"===t.shape.sequence&&"Sequence"===t.shape.flow&&this.updatePathElementOffset(t),this.diagram.connectorPropertyChange(t,{},{sourcePoint:t.sourcePoint,targetPoint:t.targetPoint}),t.segments&&t.segments.length>0){this.diagram.protectPropertyChange(!0);var o=t;o.segments=[],this.diagram.connectorPropertyChange(o,{},{segments:o.segments}),this.diagram.protectPropertyChange(!1)}}},r.prototype.updateInnerParentProperties=function(t){var n=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);for(var s=this.getAllDescendants(t,[],!1,!0),o=0;o<s.length;o++){var a=this.diagram.nameTable[s[parseInt(o.toString(),10)].id];a.offsetX=a.wrapper.offsetX,a.offsetY=a.wrapper.offsetY,a.width=a.wrapper.width,a.height=a.wrapper.height}this.diagram.protectPropertyChange(n)},r.prototype.scale=function(t,e,i,n,s,o){var a=this.diagram.nameTable[t.id],l=a,c=a.wrapper;s||(s=t);var u=s.wrapper,f=function Lme(r,t,e,i,n,s,o,a){var l={x:0,y:0},h=Bs();switch(to(h,n,s,o),a.x){case 0:switch(a.y){case 0:l=xn(h,{x:r,y:t});break;case.5:l=xn(h,{x:r,y:t+i/2});break;case 1:l=xn(h,{x:r,y:t+i})}break;case.5:switch(a.y){case 0:l=xn(h,{x:r+e/2,y:t});break;case.5:l=xn(h,{x:r+e/2,y:t+i/2});break;case 1:l=xn(h,{x:r+e/2,y:t+i})}break;case 1:switch(a.y){case 0:l=xn(h,{x:r+e,y:t});break;case.5:l=xn(h,{x:r+e,y:t+i/2});break;case 1:l=xn(h,{x:r+e,y:t+i})}}return{x:l.x,y:l.y}}(u.offsetX-u.actualSize.width*u.pivot.x,u.offsetY-u.actualSize.height*u.pivot.y,u.actualSize.width,u.actualSize.height,u.rotateAngle,u.offsetX,u.offsetY,n);if(void 0!==c.actualSize.width&&void 0!==c.actualSize.height&&Jx(this.diagram)){if(l.children&&!l.container){for(var M=0,T=this.getAllDescendants(l,[]);M<T.length;M++)this.scaleObject(e,i,f,T[M],c,s);t.wrapper.measure(new pi),t.wrapper.arrange(t.wrapper.desiredSize),this.diagram.updateGroupOffset(a),this.updateInnerParentProperties(l)}else this.scaleObject(e,i,f,a,c,s);var U=Fo(t.wrapper);if(!this.checkBoundaryConstraints(void 0,void 0,U)&&o)return this.scale(t,1/e,1/i,n,void 0,!0),!1;this.diagram.updateDiagramObject(t)}return!0},r.prototype.getAllDescendants=function(t,e,i,n){for(var s=t,o=[],a=0;a<s.children.length;a++)(t=this.diagram.nameTable[s.children[parseInt(a.toString(),10)]])&&(t.children?(i&&e.push(t),n&&o.push(t),e=this.getAllDescendants(t,e)):e.push(t));return n?o:e},r.prototype.getChildren=function(t,e){var i=t;if(t.children)for(var n=0;n<i.children.length;n++)t=this.diagram.nameTable[i.children[parseInt(n.toString(),10)]],e.push(t);return e},r.prototype.cloneChild=function(t){return this.diagram.nameTable[""+t]},r.prototype.scaleObject=function(t,e,i,n,s,o,a){e=e<0?1:e;var l={};if(1!==(t=t<0?1:t)||1!==e){var h=void 0,c=void 0;if(n instanceof Et){var d=void 0,p=void 0;l={width:n.wrapper.actualSize.width,height:n.wrapper.actualSize.height,offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY,margin:{top:(u=n).margin.top,left:u.margin.left}},"Bpmn"===u.shape.type&&u.shape.activity.subProcess.processes&&u.shape.activity.subProcess.processes.length>0&&(p=this.diagram.bpmnModule.getChildrenBound(u,u.id,this.diagram),d=u.wrapper.bounds.containsRect(p)),h=u.wrapper.actualSize.width*t,c=u.wrapper.actualSize.height*e,void 0!==u.maxWidth&&0!==u.maxWidth&&(h=Math.min(u.maxWidth,h)),void 0!==u.minWidth&&0!==u.minWidth&&(h=Math.max(u.minWidth,h)),void 0!==u.maxHeight&&0!==u.maxHeight&&(c=Math.min(u.maxHeight,c)),void 0!==u.minHeight&&0!==u.minHeight&&(c=Math.max(u.minHeight,c)),d&&(h=Math.max(h,p.right-u.wrapper.bounds.x),c=Math.max(c,p.bottom-u.wrapper.bounds.y)),t=h/u.actualSize.width,e=c/u.actualSize.height}var f=Bs();o||(o=n);var m=o.wrapper;if(to(f,-m.rotateAngle,i.x,i.y),zw(f,t,e,i.x,i.y),to(f,m.rotateAngle,i.x,i.y),n instanceof Et){var u,M=xn(f,{x:(u=n).wrapper.offsetX,y:u.wrapper.offsetY}),T=u.wrapper.offsetX-u.wrapper.actualSize.width*u.pivot.x,P=u.wrapper.offsetY-u.wrapper.actualSize.height*u.pivot.y;if(h>0)if(u.processId){var U=this.diagram.nameTable[u.processId];(!U.maxWidth||u.margin.left+h<U.maxWidth)&&(u.width=h,u.offsetX=M.x)}else u.width=h,u.offsetX=M.x;if(c>0)if(u.processId){var Y=this.diagram.nameTable[u.processId];(!Y.maxHeight||u.margin.top+c<Y.maxHeight)&&(u.height=c,u.offsetY=M.y)}else u.height=c,u.offsetY=M.y;var X=u.wrapper.offsetX-u.wrapper.actualSize.width*u.pivot.x,Q=u.wrapper.offsetY-u.wrapper.actualSize.height*u.pivot.y;this.diagram.nameTable[u.processId]&&(u.margin.top+(Q-P)<=0||u.margin.left+(X-T)<=0)?this.diagram.nodePropertyChange(n,{},{margin:{top:u.margin.top,left:u.margin.left}}):wh(this.diagram,n,!0)?a4(this.diagram,n):a||this.diagram.nodePropertyChange(n,l,{width:u.width,height:u.height,offsetX:u.offsetX,offsetY:u.offsetY,margin:{top:u.margin.top+(Q-P),left:u.margin.left+(X-T)}})}else(!n.sourceWrapper||!n.targetWrapper)&&this.scaleConnector(n,f,{sourcePoint:n.sourcePoint,targetPoint:n.targetPoint},t,e,i);var Ve=this.diagram.nameTable[n.processId];Ve&&(p=this.diagram.bpmnModule.getChildrenBound(Ve,n.id,this.diagram),this.diagram.bpmnModule.updateSubProcessess(p,n,this.diagram))}},r.prototype.scaleConnector=function(t,e,i,n,s,o){t.sourcePoint=xn(e,t.sourcePoint),t.targetPoint=xn(e,t.targetPoint),"Bpmn"===t.shape.type&&"Default"===t.shape.sequence&&"Sequence"===t.shape.flow&&this.updatePathElementOffset(t),this.diagram.connectorPropertyChange(t,i,{sourcePoint:t.sourcePoint,targetPoint:t.targetPoint});var l=this.diagram.selectedItems;if(vD(this.diagram,l)){var h=rt(this.diagram.selectedItems),u=new Et(this.diagram,"nodes",{offsetX:h.offsetX,offsetY:h.offsetY,height:h.height,width:h.width,rotateAngle:h.rotateAngle},!0);u.wrapper=h.wrapper,u.wrapper.rotateAngle=l.rotateAngle,this.scaleObject(n,s,o,u,u.wrapper,u,!0),l.wrapper.actualSize.width=u.width,l.wrapper.actualSize.height=u.height,l.wrapper.offsetX=u.offsetX,l.wrapper.offsetY=u.offsetY,this.diagram.selectedItems.connectors[0].id!==t.id&&this.measureSelector(l)}},r.prototype.measureSelector=function(t){var s,e=void 0,n=[];n=rt(this.diagram.selectedItems).connectors;for(var o={x:this.diagram.selectedItems.offsetX,y:this.diagram.selectedItems.offsetY},a=0;a<n.length;a++){var l=Bs();to(l,-t.rotateAngle,o.x,o.y),n[parseInt(a.toString(),10)].sourcePoint=xn(l,n[parseInt(a.toString(),10)].sourcePoint),n[parseInt(a.toString(),10)].targetPoint=xn(l,n[parseInt(a.toString(),10)].targetPoint);var h={x:n[parseInt(a.toString(),10)].sourcePoint.x,y:n[parseInt(a.toString(),10)].sourcePoint.y},c={x:n[parseInt(a.toString(),10)].targetPoint.x,y:n[parseInt(a.toString(),10)].targetPoint.y};s=this.calculateBounds(h,c),void 0===e?e=s:e.uniteRect(s)}var u={};void 0!==e&&(u={x:e.x+e.width*t.wrapper.pivot.x,y:e.y+e.height*t.wrapper.pivot.y});var p=new Et(this.diagram,"nodes",{offsetX:u.x,offsetY:u.y,height:e.height,width:e.width,rotateAngle:0},!0),f=Bs();to(f,t.rotateAngle,o.x,o.y),p.rotateAngle+=t.rotateAngle,p.rotateAngle=(p.rotateAngle+360)%360;var m=xn(f,{x:p.offsetX,y:p.offsetY});p.offsetX=m.x,p.offsetY=m.y,t.wrapper.actualSize.width=e.width,t.wrapper.actualSize.height=e.height,t.wrapper.offsetX=p.offsetX,t.wrapper.offsetY=p.offsetY;var M=bD(this.diagram.element.id);this.diagram.diagramRenderer.renderResizeHandle(t.wrapper,M,t.thumbsConstraints,this.diagram.scroller.currentZoom,t.constraints,this.diagram.scroller.transform,!1,Vc(t),null,null,t.handleSize)},r.prototype.calculateBounds=function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),s=Math.min(t.y,e.y),o=Math.max(t.y,e.y);return new Xi(i,s,n-i,o-s)},r.prototype.portDrag=function(t,e,i,n){var s,o,a=this.findTarget(e,t),l=Fo(t.wrapper);a&&e4(a)&&(t instanceof Et?(s=this.getPortChanges(t,a),a.offset.x+=i/l.width,a.offset.y+=n/l.height,o=this.getPortChanges(t,a),this.diagram.nodePropertyChange(t,s,o)):(s=this.getConnectorPortChanges(t,a),this.updatePortOffset(t,a,i,n),a.alignment="Center",o=this.getConnectorPortChanges(t,a),this.diagram.connectorPropertyChange(t,s,o)),this.diagram.updateDiagramObject(t))},r.prototype.labelDrag=function(t,e,i,n){var s=this.findTarget(e,t),o=gl(t.wrapper),a=this.getAnnotationChanges(t,s);s instanceof qu?(s.offset.x+=i/o.width,s.offset.y+=n/o.height):(this.updatePathAnnotationOffset(t,s,i,n),s instanceof zl&&(s.alignment="Center"));var l=this.getAnnotationChanges(t,s);t instanceof Et?this.diagram.nodePropertyChange(t,a,l):this.diagram.connectorPropertyChange(t,a,l),this.diagram.updateDiagramObject(t),Sa(this.diagram,s,!1,e)||this.labelSelect(t,e)},r.prototype.updatePathAnnotationOffset=function(t,e,i,n,s,o){var c,d,f,m,M,a=this.diagram.getWrapper(t.wrapper,e.id),l=a.offsetX,h=a.offsetY,u=t.intermediatePoints,p=0;switch(e.verticalAlignment){case"Center":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h+n});break;case"Top":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h-a.actualSize.height/2+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h-a.actualSize.height/2+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h-a.actualSize.height/2+n});break;case"Bottom":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h+a.actualSize.height/2+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h+a.actualSize.height/2+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h+a.actualSize.height/2+n})}var T=this.getInterceptWithSegment(M,u),P=u[u.length-1];if(f=Be.getLengthFromListOfPoints(u),T.length>0){if(e.dragLimit=e.dragLimit?e.dragLimit:{},e.dragLimit.top||e.dragLimit.bottom||e.dragLimit.left||e.dragLimit.right){var U={minDistance:null};P=this.getRelativeOffset(M,u,U);var Y={minDistance:null};m=this.getRelativeOffset(M,T,Y),P=null!=U&&Y.minDistance<U.minDistance?m:p4(t.intermediatePoints,e).point}else P=m=T[T.length-1];if(P){var Q=void 0;for(Q=0;Q<u.length;Q++){if(null!=d){if(Xi.toBounds([d,u[parseInt(Q.toString(),10)]]).containsPoint(P)){p+=Be.findLength(d,P);break}p+=Be.findLength(d,u[parseInt(Q.toString(),10)])}d=u[parseInt(Q.toString(),10)]}c={x:p/f,y:0}}this.updateLabelMargin(t,e,c,M,o,i,n)}else this.updateLabelMargin(t,e,null,M,o,i,n)},r.prototype.updatePortOffset=function(t,e,i,n,s,o){var c,d,f,M,a=this.diagram.getWrapper(t.wrapper,e.id),l=a.offsetX,h=a.offsetY,u=t.intermediatePoints,p=0;switch(e.verticalAlignment){case"Center":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h+n});break;case"Top":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h-a.actualSize.height/2+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h-a.actualSize.height/2+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h-a.actualSize.height/2+n});break;case"Bottom":"Center"===e.horizontalAlignment?M=s||{x:l+i,y:h+a.actualSize.height/2+n}:"Right"===e.horizontalAlignment?M=s||{x:l+a.actualSize.width/2+i,y:h+a.actualSize.height/2+n}:"Left"===e.horizontalAlignment&&(M=s||{x:l-a.actualSize.width/2+i,y:h+a.actualSize.height/2+n})}var T=this.getInterceptWithSegment(M,u),P=u[u.length-1];if(f=Be.getLengthFromListOfPoints(u),T.length>0){if(P=T[T.length-1]){var U=void 0;for(U=0;U<u.length;U++){if(null!=d){if(Xi.toBounds([d,u[parseInt(U.toString(),10)]]).containsPoint(P)){p+=Be.findLength(d,P);break}p+=Be.findLength(d,u[parseInt(U.toString(),10)])}d=u[parseInt(U.toString(),10)]}c={x:p/f,y:0}}this.updateLabelMargin(t,e,c,M,o,i,n)}else this.updateLabelMargin(t,e,null,M,o,i,n)},r.prototype.getRelativeOffset=function(t,e,i){var n,s,o,a;for(a=0;a<e.length;a++)o=e[parseInt(a.toString(),10)],s=Math.round(Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2))),(null===i.minDistance||Math.min(Math.abs(i.minDistance),Math.abs(s))===Math.abs(s))&&(n=o,i.minDistance=s);return n},r.prototype.dragLimitValue=function(t,e,i,n){var s=!1,o=!1;return i.x>=e.x-t.dragLimit.left-n.width/2&&i.x<=e.x+t.dragLimit.right+n.width/2&&(s=!0),i.y>=e.y-t.dragLimit.top-n.height/2&&i.y<=e.y+t.dragLimit.bottom+n.height/2&&(o=!0),{x:s,y:o}},r.prototype.updateLabelMargin=function(t,e,i,n,s,o,a){if(i=i||{x:e.offset,y:0},e&&i&&i.x>0&&i.x<1){var l=Be.getLengthFromListOfPoints(t.intermediatePoints),h=this.getPointAtLength(l*i.x,t.intermediatePoints,0),c=this.diagram.scrollSettings.currentZoom,u=e.dragLimit?e.dragLimit:{left:0,right:0,top:0,bottom:0};if(u.top||u.bottom||u.left||u.right){this.diagram.getWrapper(t.wrapper,e.id);var p=new Xi(0,0,0,0),f=this.diagram.getWrapper(t.wrapper,e.id);p.x=f.offsetX/c+o,p.y=f.offsetY/c+a,p.width=f.bounds.width/c,p.height=f.bounds.height/c;var m=new Xi(h.x-(u.left||0)-p.width/2,h.y-(u.top||0)-p.height/2,(u.left||0)+(u.right||0)+p.width,(u.top||0)+(u.bottom||0)+p.height);if(m.containsPoint(n));else for(var P=0,U=this.boundsInterSects([h,n],m,!1);P<U.length;P++)n=U[P];var Q=this.dragLimitValue(e,h,n,p);e.margin={left:Q.x?n.x-h.x:e.margin.left,top:Q.y?n.y-h.y:e.margin.top,right:0,bottom:0}}else e.margin={left:n.x-h.x,top:n.y-h.y,right:0,bottom:0};e.offset=i.x,s&&(e.width=s.width,e.height=s.height)}},r.prototype.boundsInterSects=function(t,e,i){var n;return e&&(n=this.intersect(t,[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height},{x:e.x,y:e.y}],i)),n},r.prototype.intersect=function(t,e,i){for(var n=[],s=0;s<t.length-1;s++)for(var o=0;o<e.length-1;o++){var a=QL(t[s],t[s+1],e[o],e[o+1]);0!==a.x&&0!==a.y&&n.push(a)}return n},r.prototype.getPointAtLength=function(t,e,i){for(var s,a,n=0,o={x:0,y:0},l=0;l<e.length;l++)if(a=e[l],s){var h=Be.findLength(s,a),c=void 0,u=void 0,d=void 0,p=void 0;if(n+h>=t){c=t-n,u=Be.findAngle(s,a),d=c*Math.cos(u*Math.PI/180),p=c*Math.sin(u*Math.PI/180),o={x:s.x+d,y:s.y+p};break}n+=h,s=a}else s=a;return o},r.prototype.getInterceptWithSegment=function(t,e){for(var o,a,i=[],n=[],s=[],l=Be.findLength({x:0,y:0},{x:this.diagram.scroller.viewPortWidth,y:this.diagram.scroller.viewPortHeight}),h=1;h<e.length;h++){s=[e[h-1],e[h]],n=[],a=Math.round(Be.findAngle(s[0],s[1])%360),o=Math.round(Be.findAngle(s[1],s[0])%360);var c=a>0&&a<=90||a>180&&a<=270?90:-90;n.push(Be.transform(t,a+c,l)),n.push(Be.transform(t,o+c,l));var p=cD({x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y},{x1:n[0].x,y1:n[0].y,x2:n[1].x,y2:n[1].y});p.enabled&&i.push(p.intersectPt)}return i},r.prototype.getAnnotationChanges=function(t,e){var n={};return n[Qf(t,e.id,!0)]={width:e.width,height:e.height,offset:t instanceof Et?{x:e.offset.x,y:e.offset.y}:e.offset,rotateAngle:e.rotateAngle,margin:{left:e.margin.left,right:e.margin.right,top:e.margin.top,bottom:e.margin.bottom},horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,alignment:t instanceof Gt?e.alignment:void 0},{annotations:n}},r.prototype.getConnectorPortChanges=function(t,e){var i=function Dme(r,t,e){for(var i=r.ports,n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].id===t)return n.toString();return"-1"}(t,e.id),n={};return n[i]={width:e.width,height:e.height,offset:e.offset,margin:{left:e.margin.left,right:e.margin.right,top:e.margin.top,bottom:e.margin.bottom},horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,alignment:t instanceof Gt?e.alignment:void 0},{ports:n}},r.prototype.getPortChanges=function(t,e){var n={};return n[Qf(t,e.id,!1)]={offset:e.offset},{ports:n}},r.prototype.labelRotate=function(t,e,i,n){var s,o;s=this.getAnnotationChanges(t,e),Bs();var h=this.diagram.getWrapper(t.wrapper,e.id),c=Nr({x:h.offsetX,y:h.offsetY},i)+90,u=this.snapAngle(c);c=0!==u?u:c,e instanceof zl&&e.segmentAngle&&(c-=d4(t.intermediatePoints,e).angle),e.rotateAngle+=(c=(c+360)%360)-(e.rotateAngle+h.parentTransform),e instanceof zl&&(e.alignment="Center"),n.wrapper.rotateAngle=n.rotateAngle=e.rotateAngle,o=this.getAnnotationChanges(t,e),t instanceof Et?this.diagram.nodePropertyChange(t,s,o):this.diagram.connectorPropertyChange(t,s,o),this.diagram.updateDiagramObject(t)},r.prototype.labelResize=function(t,e,i,n,s,o){var a,l,h;a=this.getAnnotationChanges(t,e);var c=o.wrapper.children[0];if(i&&1!==i||n&&1!==n){var u=Bs(),d=Bs();to(u,-t.rotateAngle,t.offsetX,t.offsetY),to(d,-(h=(c.rotateAngle+(t instanceof Et?t.rotateAngle:0)+360)%360),s.x,s.y),zw(d,i,n,s.x,s.y),to(d,h,s.x,s.y);var p=xn(d,{x:c.offsetX,y:c.offsetY}),f=c.actualSize.height*n,m=c.actualSize.width*i,M=this.findTarget(c,t);if(M instanceof zl&&(p.y+="Top"===M.verticalAlignment?-f/2:"Bottom"===M.verticalAlignment?f/2:0,p.x+="Left"===M.horizontalAlignment?-m/2:"Right"===M.horizontalAlignment?m/2:0),M instanceof zl)this.updatePathAnnotationOffset(t,e,0,0,p,new pi(m,f));else{var T=gl(t.wrapper);(p=xn(u,p)).x=p.x-c.margin.left+c.margin.right,p.y=p.y-c.margin.top+c.margin.bottom,p.y+="Top"===M.verticalAlignment?-f/2:"Bottom"===M.verticalAlignment?f/2:0,p.x+="Left"===M.horizontalAlignment?-m/2:"Right"===M.horizontalAlignment?m/2:0;var P=T.width/(p.x-T.x),U=T.height/(p.y-T.y);m>1&&(M.width=m,M.offset.x=1/P),f>1&&(M.height=f,M.offset.y=1/U)}}e instanceof zl&&(e.alignment="Center"),l=this.getAnnotationChanges(t,e),t instanceof Et?this.diagram.nodePropertyChange(t,a,l):this.diagram.connectorPropertyChange(t,a,l),this.diagram.updateDiagramObject(t)},r.prototype.getSubProcess=function(t){var i,e={nodes:[],connectors:[]};return t instanceof Et?i=t.processId:t&&t.nodes&&t.nodes.length&&t.nodes[0].processId&&(i=t.nodes[0].processId),i&&e.nodes.push(rt(this.diagram.nameTable[i])),e},r.prototype.checkBoundaryConstraints=function(t,e,i){var n=this.diagram.pageSettings,s=this.diagram.pageSettings.boundaryConstraints,o=this.diagram.scroller;if("Page"===s||"Diagram"===s){var a=i?void 0:this.diagram.selectedItems.wrapper.bounds;return(i?i.right:a.right)+(t||0)<=("Page"===s?n.width:o.viewPortWidth)&&(i?i.left:a.left)+(t||0)>=0&&(i?i.bottom:a.bottom)+(e||0)<=("Page"===s?n.height:o.viewPortHeight)&&(i?i.top:a.top)+(e||0)>=0}return!0},r.prototype.dragSelectedObjects=function(t,e){var i=this.diagram.selectedItems;if(this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=i.offsetX,this.state.backup.offsetY=i.offsetY),i=BL(this.diagram,i)||i,this.checkBoundaryConstraints(t,e)){this.diagram.diagramActions=this.diagram.diagramActions|Dt.PreventZIndexOnDragging|Dt.DragUsingMouse;var n=this.diagram.selectedObject.actualObject;return(n&&n instanceof Et&&n.isLane&&o4(n,this.diagram)||!n||!n.isLane)&&this.diagram.drag(i,t,e),this.diagram.diagramActions=this.diagram.diagramActions&~(Dt.PreventZIndexOnDragging|Dt.DragUsingMouse),this.diagram.refreshCanvasLayers(),!0}return!1},r.prototype.scaleSelectedItems=function(t,e,i){var n=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=n.offsetX,this.state.backup.offsetY=n.offsetY,this.state.backup.width=n.width,this.state.backup.height=n.height,this.state.backup.pivot=i),n=BL(this.diagram,n)||n,this.diagram.scale(n,t,e,i)},r.prototype.rotateSelectedItems=function(t){var e=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.angle=e.rotateAngle),e=BL(this.diagram,e)||e,this.diagram.rotate(e,t,void 0,!0)},r.prototype.hasSelection=function(){return Xp(this.diagram)},r.prototype.isSelected=function(t){return Sa(this.diagram,t)},r.prototype.initExpand=function(t){var i=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);var n=t.target||t.source,s={isExpanded:n.isExpanded};n.isExpanded=!n.isExpanded,this.diagram.preventNodesUpdate=!0,this.diagram.diagramActions|=Dt.PreventIconsUpdate,this.diagram.nodePropertyChange(n,s,{isExpanded:n.isExpanded}),this.diagram.diagramActions=this.diagram.diagramActions&~Dt.PreventIconsUpdate,this.diagram.preventNodesUpdate=!1;for(var o=0,a=this.diagram.views;o<a.length;o++){var h=this.diagram.views[a[o]];h instanceof _y||this.diagram.refreshCanvasDiagramLayer(h)}this.diagram.protectPropertyChange(i)},r.prototype.expandNode=function(t,e,i){var n=this.diagram.preventNodesUpdate,s=t.isExpanded;this.diagram.preventNodesUpdate=!0,this.diagram.preventConnectorsUpdate=!0,this.expandCollapse(t,s,this.diagram),t.isExpanded=s;var o=this.diagram.layout.fixedNode;this.diagram.layout.fixedNode=t.id,this.diagram.diagramActions!=Dt.Render&&this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&this.diagram.organizationalChartModule&&(this.diagram.organizationalChartModule.isAnimation=!0),this.diagram.blazorActions|=Rr.expandNode;var a={};if(i||(ge()&&(this.canUpdateTemplate=!0),a=this.diagram.doLayout()),this.canUpdateTemplate=!1,this.diagram.blazorActions&=~Rr.expandNode,this.diagram.preventNodesUpdate=n,this.diagram.preventConnectorsUpdate=!1,this.diagram.layoutAnimateModule&&this.diagram.organizationalChartModule&&!i)this.diagram.allowServerDataBinding=!1,this.layoutAnimateModule.expand(this.diagram.layout.enableAnimation,a,t,this.diagram);else{var l={element:Rt(rt(t)),state:!!t.isExpanded};this.triggerEvent(_i.expandStateChange,l),this.diagram.lineRoutingModule&&this.diagram.constraints&Un.LineRouting&&this.diagram.resetSegments()}return this.diagram.layout.fixedNode=""===o?"":this.diagram.layout.fixedNode,a},r.prototype.getparentexpand=function(t,e,i,n){for(var s,o=0;o<t.inEdges.length;o++){var a=e.nameTable[t.inEdges[o]],l=e.nameTable[a.sourceID];if(l.isExpanded&&!i&&l.id!==n.sourceID&&a.visible)return!1;s=!0}return s},r.prototype.expandCollapse=function(t,e,i){for(var n=0;n<t.outEdges.length;n++){var s=i.nameTable[t.outEdges[n]],o=i.nameTable[s.targetID],a=this.getparentexpand(o,i,e,s);s.visible=e;var l={visible:o.visible,style:{opacity:o.wrapper.style.opacity}},h={visible:o.visible,style:{opacity:o.wrapper.style.opacity}};a&&(o.isExpanded&&this.expandCollapse(o,e,i),o.visible=e,o.style.opacity=this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&e?.1:o.style.opacity,i.nodePropertyChange(o,l,h)),i.connectorPropertyChange(s,l,h)}},r.prototype.updateNodeDimension=function(t,e){t instanceof Et&&(t.offsetX=e.x+e.width/2,t.offsetY=e.y+e.height/2,t.width=e.width,t.height=e.height,t.wrapper.children[0].canMeasurePath=!0,this.diagram.nodePropertyChange(t,{},{width:e.width,height:e.height,offsetX:t.offsetX,offsetY:t.offsetY}),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer())},r.prototype.updateConnectorPoints=function(t,e){t instanceof Gt&&"Bezier"!==t.type?(this.diagram.connectorPropertyChange(t,{},{targetPoint:t.targetPoint}),this.diagram.updateDiagramObject(t)):(this.diagram.connectorPropertyChange(t,{},{segments:t.segments}),this.diagram.updateDiagramObject(t))},r.prototype.updateSelectedNodeProperties=function(t){if(this.diagram.lineRoutingModule&&this.diagram.constraints&Un.LineRouting){var e=[],i=[],n=[],s=[],o=[],a=[];this.diagram.protectPropertyChange(!0);var l=[],h=[],c=this.diagram.selectedObject.actualObject,u=this.diagram.selectedObject.helperObject;if(u&&c){var d=u.offsetX-c.offsetX,p=u.offsetY-c.offsetY,f=u.width-c.width,m=u.height-c.height,M=u.rotateAngle-c.rotateAngle;if(this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>0&&(this.diagram.selectedItems.wrapper.rotateAngle=this.diagram.selectedItems.rotateAngle=u.rotateAngle),c instanceof Et&&"SwimLane"!==c.shape.type&&!c.isLane&&!c.isPhase&&!c.isHeader)(c.offsetX!==c.wrapper.offsetX||c.offsetY!==c.wrapper.offsetY||c.width!==c.wrapper.width||c.height!==c.wrapper.height||c.rotateAngle!==c.wrapper.rotateAngle)&&(ge()&&e.push(rt(c,void 0,void 0,!0)),c.offsetX+=d,c.offsetY+=p,c.width+=f,c.height+=m,c.rotateAngle+=M,this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle}),ge()&&n.push(rt(c,void 0,void 0,!0))),l=this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds);else if(c instanceof Pr)for(var T=0;T<c.nodes.length;T++){var P=c.nodes[T];P instanceof Et&&"SwimLane"!==P.shape.type&&!P.isLane&&!P.isPhase&&!P.isHeader&&(P.offsetX+=d,P.offsetY+=p,P.width+=f,P.height+=m,P.rotateAngle+=M,this.diagram.nodePropertyChange(P,{},{offsetX:P.offsetX,offsetY:P.offsetY,width:P.width,height:P.height,rotateAngle:P.rotateAngle}),l=l.concat(this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds)))}}else t instanceof Gt?l.push(t):t instanceof Pr&&t.connectors.length&&(l=l.concat(t.connectors));for(T=0;T<l.length;T++)l[T]instanceof Gt&&-1===h.indexOf(l[T].id)&&h.push(l[T].id);for(this.diagram.lineRoutingModule.renderVirtualRegion(this.diagram,!0),T=0;T<h.length;T++){var U=this.diagram.nameTable[h[T]];if(U instanceof Gt&&"Orthogonal"===U.type){if(ge()&&i.push(rt(U,void 0,void 0,!0)),U.sourceID!=U.targetID){var Y=this.diagram.getObject(U.sourceID),X=this.diagram.getObject(U.targetID);(X.wrapper.outerBounds.middleLeft.x-Y.wrapper.outerBounds.middleRight.x>30||X.wrapper.outerBounds.topCenter.y-Y.wrapper.outerBounds.bottomCenter.y>30)&&this.diagram.lineRoutingModule.refreshConnectorSegments(this.diagram,U,!0)}ge()&&s.push(rt(U,void 0,void 0,!0))}}this.updateSelector(),ge()&&(this.getObjectChanges(e,n,o),this.getObjectChanges(i,s,a),window&&window.Blazor&&a.length+o.length&&window.sfBlazor.updateBlazorProperties({methodName:"UpdateBlazorProperties",diagramobj:{nodes:o,connectors:a}},this.diagram)),this.diagram.protectPropertyChange(!1)}},r.prototype.drawSelectionRectangle=function(t,e,i,n){this.diagram.drawSelectionRectangle(t,e,i,n)},r.prototype.startGroupAction=function(){this.diagram.startGroupAction()},r.prototype.endGroupAction=function(){this.diagram.endGroupAction()},r.prototype.removeChildFromBPmn=function(t,e,i){var n=this.diagram.nameTable[t.id]||t.nodes[0];if(i&&n&&n.processId&&n.processId===i.wrapper.id){var s=rt(n);s.processId=n.processId,this.diagram.startGroupAction();for(var o=[],a=(o=o.concat(n.outEdges,n.inEdges)).length-1;a>=0;a--){var l=this.diagram.nameTable[o[a]];l&&this.diagram.remove(l)}var h=this.diagram.nameTable[n.processId].shape.activity.subProcess.processes||[];h.splice(h.indexOf(n.id),1),this.diagram.bpmnModule.removeChildFromBPMN(this.diagram.nameTable[n.processId].wrapper,n.id),this.diagram.nameTable[n.id].processId="",n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY;var c=rt(n);this.addHistoryEntry({type:"PositionChanged",redoObject:{nodes:[c]},undoObject:{nodes:[s]},category:"Internal"}),this.diagram.endGroupAction()}},r.prototype.isDroppable=function(t,e){var i=this.diagram.nameTable[t.id]||t.nodes[0];return i instanceof Et&&(!!(!ge()&&"TextAnnotation"===i.shape.shape||ge()&&"TextAnnotation"===i.shape.bpmnShape)||!(i&&"Bpmn"===i.shape.type&&(i.processId===e.id||i.id===e.processId||"Bpmn"===e.shape.type&&e.shape.activity.subProcess.collapsed)))},r.prototype.renderHighlighter=function(t,e,i){if(new Xi,t.target instanceof Et||t.target instanceof Gt||e&&(t.source instanceof Et||t.source instanceof Gt)){var a=this.findTarget(e?t.sourceWrapper:t.targetWrapper,e?t.source:t.target,i,!0),l=void 0;if(a instanceof Bb)for(var h=a.id,c=t.target,d=0,p=c.wrapper.children[0].children[0].children[2].children;d<p.length;d++){var f=p[d];if(f.id===c.id+"_"+h){l=f.children[0];break}}else l=a instanceof Et?a.wrapper:e?t.sourceWrapper:t.targetWrapper;l&&!(a instanceof Gt)&&this.diagram.renderHighlighter(l)}},r.prototype.mouseOver=function(t,e,i){return!0},r.prototype.snapPoint=function(t,e,i,n){var o,h=o={x:i,y:n};return this.snappingModule&&(h=this.diagram.snappingModule.snapPoint(this.diagram,this.diagram.selectedItems,e.x<t.x,e.y<t.y,o,t,e)),h},r.prototype.removeSnap=function(){this.diagram.snapSettings.constraints&zr.SnapToObject&&this.snappingModule&&this.snappingModule.removeGuidelines(this.diagram)},r.prototype.dropAnnotation=function(t,e){if(t instanceof Et||t instanceof Pr){var i=t instanceof Et?t:t.nodes[0];this.diagram.bpmnModule&&"Bpmn"===e.shape.type&&(!ge()&&"TextAnnotation"===i.shape.shape||ge()&&"TextAnnotation"===i.shape.bpmnShape)&&(i.hasTarget=e.id,i.shape.annotation.nodeId=e.id,this.diagram.currentSymbol||(this.diagram.addTextAnnotation(i.shape.annotation,e),i.shape.annotation.nodeId="",this.diagram.remove(i)),this.diagram.refreshDiagramLayer())}},r.prototype.drop=function(t,e,i){if(this.diagram.bpmnModule){var n=t instanceof Et?t:t.nodes[0];n&&"Bpmn"===n.shape.type&&"Bpmn"===e.shape.type&&(this.diagram.bpmnModule.dropBPMNchild(e,t instanceof Et?t:t.nodes[0],this.diagram),this.diagram.refreshDiagramLayer())}},r.prototype.addHistoryEntry=function(t){this.diagram.addHistoryEntry(t)},r.prototype.align=function(t,e,i){if(t.length>0){var n=0;t[0]=this.diagram.nameTable[t[0].id]||t[0];var s="Object"===i?Fo(t[0].wrapper):this.diagram.selectedItems.wrapper.bounds,o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(n="Object"===i?n+1:n;n<t.length;n++){var l=0,h=0;t[n]=this.diagram.nameTable[t[n].id]||t[n];var c=Fo(t[n].wrapper);"Left"===e?l=s.left+c.width/2-c.center.x:"Right"===e?l=s.right-c.width/2-c.center.x:"Top"===e?h=s.top+c.height/2-c.center.y:"Bottom"===e?h=s.bottom-c.height/2-c.center.y:"Center"===e?l=s.center.x-c.center.x:"Middle"===e&&(h=s.center.y-c.center.y),o=this.storeObject(o,t[n]),this.drag(t[n],l,h),this.diagram.updateSelector(),a=this.storeObject(a,t[n])}o=rt(o),a=rt(a);var u={type:"Align",category:"Internal",undoObject:rt(o),redoObject:rt(a)};this.addHistoryEntry(u)}},r.prototype.distribute=function(t,e){if(t.length>0){var i=0,n=0,s=0,o=0,a=0,l=0,h=0,c=0,u={nodes:[],connectors:[]},d={nodes:[],connectors:[]};for(i=0;i<t.length;i++)t[i]=this.diagram.nameTable[t[i].id]||t[i];for(t=function ome(r,t){var n,e=0,i=0;for(e=0;e<r.length;e++){var s=Fo(r[parseInt(e.toString(),10)].wrapper);for(i=e+1;i<r.length;i++){var o=Fo(r[parseInt(i.toString(),10)].wrapper);"Top"===t||"Bottom"===t||"BottomToTop"===t||"Middle"===t?s.center.y>o.center.y&&(n=r[parseInt(e.toString(),10)],r[parseInt(e.toString(),10)]=r[parseInt(i.toString(),10)],r[parseInt(i.toString(),10)]=n):s.center.x>o.center.x&&(n=r[parseInt(e.toString(),10)],r[parseInt(e.toString(),10)]=r[parseInt(i.toString(),10)],r[parseInt(i.toString(),10)]=n)}}return r}(t,e),i=1;i<t.length;i++)n=n+t[i].wrapper.bounds.topRight.x-t[i-1].wrapper.bounds.topRight.x,s=s+t[i].wrapper.bounds.topLeft.x-t[i-1].wrapper.bounds.topLeft.x,o=o+t[i].wrapper.bounds.topRight.y-t[i-1].wrapper.bounds.topRight.y,a=a+t[i].wrapper.bounds.bottomRight.y-t[i-1].wrapper.bounds.bottomRight.y,l=l+t[i].wrapper.bounds.center.x-t[i-1].wrapper.bounds.center.x,h=h+t[i].wrapper.bounds.center.y-t[i-1].wrapper.bounds.center.y,c=c+t[i].wrapper.bounds.topRight.y-t[i-1].wrapper.bounds.bottomRight.y;for(i=1;i<t.length-1;i++){var p=0,f=0,m=Fo(t[i-1].wrapper),M=Fo(t[i].wrapper);"RightToLeft"===e||"Center"===e?p=m.center.x-M.center.x+l/(t.length-1):"Right"===e?p=m.topRight.x-M.topRight.x+n/(t.length-1):"Left"===e?p=m.topLeft.x-M.topLeft.x+s/(t.length-1):"Middle"===e?f=m.center.y-M.center.y+h/(t.length-1):"Top"===e?f=m.topRight.y-M.topRight.y+o/(t.length-1):"Bottom"===e?f=m.bottomRight.y-M.bottomRight.y+a/(t.length-1):"BottomToTop"===e&&(f=m.bottomRight.y-M.topRight.y+c/(t.length-1)),u=this.storeObject(u,t[i]),this.drag(t[i],p,f),this.diagram.updateSelector(),d=this.storeObject(d,t[i])}u=rt(u),d=rt(d);var T={type:"Distribute",category:"Internal",undoObject:rt(u),redoObject:rt(d)};this.addHistoryEntry(T)}},r.prototype.sameSize=function(t,e){if(t.length>0){var i=0,n={x:.5,y:.5};t[0]=this.diagram.nameTable[t[0].id]||t[0];var s=Fo(t[0].wrapper),o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(i=1;i<t.length;i++){t[parseInt(i.toString(),10)]=this.diagram.nameTable[t[parseInt(i.toString(),10)].id]||t[0];var l=Fo(t[parseInt(i.toString(),10)].wrapper),h=1,c=1;"Width"===e?h=s.width/l.width:"Height"===e?c=s.height/l.height:"Size"===e&&(h=s.width/l.width,c=s.height/l.height),o=this.storeObject(o,t[parseInt(i.toString(),10)]),this.scale(t[parseInt(i.toString(),10)],h,c,n),a=this.storeObject(a,t[parseInt(i.toString(),10)])}this.diagram.updateSelector(),o=rt(o),a=rt(a);var u={type:"Sizing",category:"Internal",undoObject:rt(o),redoObject:rt(a)};this.addHistoryEntry(u)}},r.prototype.storeObject=function(t,e){return e instanceof Et?t.nodes.push(rt(e)):t.connectors.push(rt(e)),t},r.prototype.updatePanState=function(t){if(t)this.diagram.realActions=this.diagram.realActions|Gs.PanInProgress;else{this.diagram.dataBind();var e=this.diagram.scrollSettings;this.diagram.realActions=this.diagram.realActions&~Gs.PanInProgress;var i={VerticalOffset:e.verticalOffset,HorizontalOffset:e.horizontalOffset,ViewportHeight:e.viewPortHeight,ViewportWidth:e.viewPortWidth,CurrentZoom:e.currentZoom};this.triggerEvent(_i.scrollChange,{oldValue:i,newValue:i,source:this.diagram,panState:"Completed"})}},r.prototype.dataBinding=function(){this.diagram.dataBind()},r.prototype.setBlazorDiagramProps=function(t){this.diagram.setBlazorDiagramProps(t)},r.prototype.scroll=function(t,e,i){var n=function Hge(r){return r.constraints&Un.PanX}(this.diagram),s=function Uge(r){return r.constraints&Un.PanY}(this.diagram);ge()?(this.diagram.setCursor("grabbing"),this.diagram.scroller.zoom(1,(t=n?t:0)*this.diagram.scroller.currentZoom,(e=s?e:0)*this.diagram.scroller.currentZoom,i)):this.diagram.pan((t=n?t:0)*this.diagram.scroller.currentZoom,(e=s?e:0)*this.diagram.scroller.currentZoom,i,!0)},r.prototype.drawHighlighter=function(t){this.diagram.renderHighlighter(t.wrapper)},r.prototype.removeHighlighter=function(){this.diagram.clearHighlighter()},r.prototype.renderContainerHelper=function(t){return BL(this.diagram,t)},r.prototype.isParentAsContainer=function(t,e){return wh(this.diagram,t,e)},r.prototype.dropChildToContainer=function(t,e){this.diagram.diagramActions&Dt.PreventLaneContainerUpdate||"Bpmn"===e.shape.type&&"TextAnnotation"===e.shape.shape||sD(this.diagram,t,e)},r.prototype.updateLaneChildrenZindex=function(t,e){var i=this.findLeastIndexObject(t,e),n=this.diagram.nameTable[e.parentId];if(n&&n.zIndex>i.zIndex){for(var s=this.diagram.layers.indexOf(this.diagram.getActiveLayer()),o=this.diagram.layers[parseInt(s.toString(),10)].zIndexTable,a=JSON.parse(JSON.stringify(o)),l=i.zIndex,h=n.zIndex,c=h;c>=l;c--)l!==c?o[c-1]?(o[parseInt(c.toString(),10)]=o[c-1],this.diagram.nameTable[o[parseInt(c.toString(),10)]].zIndex=c):(o[c-1]=o[parseInt(c.toString(),10)],this.diagram.nameTable[o[c-1]].zIndex=c,delete o[parseInt(c.toString(),10)]):this.swapZIndexObjects(h,o,n.id,a);"SVG"===this.diagram.mode?(this.moveSvgNode(e.parentId,i.id),this.updateNativeNodeIndex(e.parentId,i.id)):this.diagram.refreshCanvasLayers()}},r.prototype.findLeastIndexConnector=function(t,e,i){for(var n=0;n<t.length;n++){var s=this.diagram.nameTable[t[parseInt(n.toString(),10)]];i.zIndex>s.zIndex&&(i=s)}return i},r.prototype.findLeastIndexObject=function(t,e){var i=t;return t instanceof Et&&(i=this.findLeastIndexConnector(t.inEdges,e,i),i=this.findLeastIndexConnector(t.outEdges,e,i)),i},r.prototype.checkSelection=function(t,e){var i;if(1===t.nodes.length&&0===t.connectors.length)if(wh(this.diagram,t.nodes[0],!0)){var n=t.nodes[0];if("SwimLane"===(i="SwimLane"===t.nodes[0].shape?t.nodes[0]:this.diagram.nameTable[t.nodes[0].parentId]).shape.type){var s="Horizontal"===i.shape.orientation;(n.isPhase&&(s&&"ResizeSouth"===e||!s&&"ResizeEast"===e)||n.isLane&&(s&&"ResizeEast"===e||!s&&"ResizeSouth"===e))&&jG(this.diagram,i,e)}else if("Grid"===i.container.type)if("Horizontal"===i.container.orientation&&1===n.rowIndex||"Vertical"===i.container.orientation&&n.rowIndex>0&&n.columnIndex>0){if("ResizeSouth"===e)for(var o=0;o<this.diagram.nodes.length;o++)if((a=this.diagram.nodes[parseInt(o.toString(),10)]).rowIndex===i.rows.length-1&&0===a.columnIndex){this.select(a);break}}else if("ResizeEast"===e)for(o=0;o<this.diagram.nodes.length;o++){var a;if(1===(a=this.diagram.nodes[parseInt(o.toString(),10)]).rowIndex&&a.columnIndex===i.columns.length-1){this.select(a);break}}}else jG(this.diagram,t.nodes[0],e)},r.prototype.zoom=function(t,e,i,n){this.diagram.scroller.zoom(t,e*this.diagram.scroller.currentZoom,i*this.diagram.scroller.currentZoom,n)},r}(),Lye=function(){function r(t){this.transform={tx:0,ty:0,scale:1},this.oldCollectionObjects=[],this.removeCollection=[],this.vPortWidth=0,this.vPortHeight=0,this.currentZoomFActor=1,this.hOffset=0,this.vOffset=0,this.scrolled=!1,this.hScrollSize=0,this.vScrollSize=0,this.diagram=t,this.objects=[],this.transform=t.scroller?t.scroller.transform:{tx:0,ty:0,scale:1},this.vPortWidth=t.scrollSettings.viewPortWidth,this.vPortHeight=t.scrollSettings.viewPortHeight,this.currentZoomFActor=t.scrollSettings.currentZoom,this.hOffset=t.scrollSettings.horizontalOffset,this.vOffset=t.scrollSettings.verticalOffset}return Object.defineProperty(r.prototype,"viewPortHeight",{get:function(){return this.vPortHeight},set:function(t){this.vPortHeight=t,this.diagram.scrollSettings.viewPortHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentZoom",{get:function(){return this.currentZoomFActor},set:function(t){this.currentZoomFActor=t,this.diagram.scrollSettings.currentZoom=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewPortWidth",{get:function(){return this.vPortWidth},set:function(t){this.vPortWidth=t,this.diagram.scrollSettings.viewPortWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"horizontalOffset",{get:function(){return this.hOffset},set:function(t){this.hOffset=t,Math.abs(this.hOffset-this.diagram.scrollSettings.horizontalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|Gs.hScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.horizontalOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"verticalOffset",{get:function(){return this.vOffset},set:function(t){this.vOffset=t,Math.abs(this.vOffset-this.diagram.scrollSettings.verticalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|Gs.vScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.verticalOffset=t},enumerable:!0,configurable:!0}),r.prototype.getBounds=function(){var e=this.diagram.spatialSearch.getPageBounds(0,0);return(e.x<0||e.y<0)&&!this.diagram.pageSettings.multiplePage?this.getPageBounds(void 0,void 0,!0,!0):this.getPageBounds(void 0,void 0,!0)},r.prototype.updateScrollOffsets=function(t,e){var i,n,s=this.getBounds();s.x*=this.currentZoom,s.y*=this.currentZoom,s.width*=this.currentZoom,s.height*=this.currentZoom,i=Math.max(0,t-s.left),n=Math.max(0,e-s.top),void 0!==t&&void 0!==e?(this.horizontalOffset=i,this.verticalOffset=n,this.diagram.setOffset(i,n)):this.diagram.setOffset(-this.horizontalOffset-s.x,-this.verticalOffset-s.y),this.transform={tx:Math.max(this.horizontalOffset,-s.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-s.top)/this.currentZoom,scale:this.currentZoom}},r.prototype.setScrollOffset=function(t,e){this.scrolled=!1;var i=this.getBounds();i.x*=this.currentZoom,i.y*=this.currentZoom,i.width*=this.currentZoom,i.height*=this.currentZoom;var n=-i.left,s=-i.top,o=!1,a=this.viewPortWidth*this.currentZoom,l=this.viewPortHeight*this.currentZoom,h=n-t;if(h!==this.horizontalOffset){n<this.horizontalOffset&&(this.horizontalOffset>h?this.horizontalOffset-=t:this.horizontalOffset=h,o=!0);var c=Math.max(i.right+this.vScrollSize,a);if(!o&&c<-h+this.viewPortWidth){var u=-h+a-this.vScrollSize,d=-this.horizontalOffset+a-this.vScrollSize;this.horizontalOffset=u<d||u-i.right>u-d?h:-(i.right+this.vScrollSize-a),o=!0}o||(this.horizontalOffset=n-t)}o=!1;var p=s-e;if(p!==this.verticalOffset){s<this.verticalOffset&&(this.verticalOffset>p?this.verticalOffset-=e:this.verticalOffset=p,o=!0);var f=Math.max(i.bottom+this.hScrollSize,l);if(!o&&f<-p+l){var m=-p+l-this.hScrollSize,M=-this.verticalOffset+l-this.hScrollSize;this.verticalOffset=m<M||m-i.bottom>m-M?p:-(i.bottom+this.hScrollSize-l),o=!0}o||(this.verticalOffset=s-e)}this.transform={tx:Math.max(this.horizontalOffset,-i.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-i.top)/this.currentZoom,scale:this.currentZoom},this.setSize()},r.prototype.getObjects=function(t,e){for(var i=[],n=0;n<t.length;n++){for(var s=!1,o=0;o<e.length;o++)if(t[parseInt(n.toString(),10)]===e[parseInt(o.toString(),10)]){s=!0;break}s||i.push(t[parseInt(n.toString(),10)])}return i},r.prototype.virtualizeElements=function(){for(var n,i=this.diagram.spatialSearch.findObjects(new Xi(-this.horizontalOffset/this.currentZoom,-this.verticalOffset/this.currentZoom,this.viewPortWidth/this.currentZoom,this.viewPortHeight/this.currentZoom)),s=[],o=0;o<i.length;o++){var a=i[parseInt(o.toString(),10)].shape;if("Bpmn"===a.type&&a&&a.activity&&a.activity.subProcess&&a.activity.subProcess.processes&&a.activity.subProcess.processes.length>0){for(var l=0;l<a.activity.subProcess.processes.length;l++)s.push(a.activity.subProcess.processes[parseInt(l.toString(),10)]);s.push(i[parseInt(o.toString(),10)].id)}else(""===i[parseInt(o.toString(),10)].processId||void 0===i[parseInt(o.toString(),10)].processId)&&s.push(i[parseInt(o.toString(),10)].id)}n=s;var h=[];for(o=0;o<i.length;o++){var c=i[parseInt(o.toString(),10)].shape;if("Bpmn"===c.type&&c&&c.activity&&c.activity.subProcess&&c.activity.subProcess.processes&&c.activity.subProcess.processes.length>0){h.push(i[parseInt(o.toString(),10)].id);for(var u=0;u<c.activity.subProcess.processes.length;u++)h.push(c.activity.subProcess.processes[parseInt(u.toString(),10)])}else(""===i[parseInt(o.toString(),10)].processId||void 0===i[parseInt(o.toString(),10)].processId)&&h.push(i[parseInt(o.toString(),10)].id)}for(o=0;o<i.length;o++)for(var d=0;d<h.length;d++)if(i[parseInt(o.toString(),10)].id===h[parseInt(d.toString(),10)]){i[parseInt(o.toString(),10)].zIndex=d;break}var p=this.getObjects(n,this.oldCollectionObjects);0===this.oldCollectionObjects.length&&(this.oldCollectionObjects=n);var f=this.getObjects(this.oldCollectionObjects,n);this.diagram.updateVirtualObjects(p,!1,f),this.oldCollectionObjects=n},r.prototype.setSize=function(t){var e=this.getPageBounds(void 0,void 0,!0);e.x*=this.currentZoom,e.y*=this.currentZoom,e.width*=this.currentZoom,e.height*=this.currentZoom;var i=Math.min(e.x,-this.horizontalOffset),n=Math.min(e.y,-this.verticalOffset),a=this.scrollerWidth,l=this.scrollerWidth;-this.verticalOffset<=e.y&&-this.verticalOffset+this.viewPortHeight>=e.bottom&&(l=0),-this.horizontalOffset<=e.x&&-this.horizontalOffset+this.viewPortWidth>=e.right&&(a=0),this.hScrollSize=a,this.vScrollSize=l;var h=this.diagramWidth,c=this.diagramHeight;this.diagramWidth=Math.max(e.right,-this.horizontalOffset+this.viewPortWidth-l)-i,this.diagramHeight=Math.max(e.bottom,-this.verticalOffset+this.viewPortHeight-a)-n,(h!==this.diagramWidth||c!==this.diagramHeight)&&"Diagram"!==this.diagram.scrollSettings.scrollLimit&&this.diagram.setSize(this.diagramWidth,this.diagramHeight),"Diagram"===this.diagram.scrollSettings.scrollLimit&&(h===this.diagramWidth&&c===this.diagramHeight&&1===this.currentZoom||this.diagram.diagramActions&&t&&(!this.diagram.diagramActions||!t||0===this.verticalOffset&&this.verticalOffset!==t.y||0===this.horizontalOffset&&this.horizontalOffset!==t.x)?t&&h===this.diagramWidth&&c===this.diagramHeight&&(this.diagram.diagramCanvas.scrollHeight>this.viewPortHeight&&t.y<0&&this.horizontalOffset===t.x&&0===this.verticalOffset||this.diagram.diagramCanvas.scrollWidth>this.viewPortWidth&&t.x<0&&this.verticalOffset===t.y&&0===this.horizontalOffset)&&(this.verticalOffset=t.y,this.horizontalOffset=t.x,this.transform={tx:Math.max(t.x,-e.left)/this.currentZoom,ty:Math.max(t.y,-e.top)/this.currentZoom,scale:this.currentZoom}):(this.diagram.scrollActions&jd.Interaction&&t&&(this.transform={tx:Math.max(t.x,-e.left/this.currentZoom)/this.currentZoom,ty:Math.max(t.y,-e.top/this.currentZoom)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=t.x,this.verticalOffset=t.y),this.diagram.setSize(this.diagramWidth,this.diagramHeight),!(this.diagram.scrollActions&jd.PropertyChange)&&t&&(this.horizontalOffset=t.x,this.verticalOffset=t.y,this.transform={tx:Math.max(t.x,-e.left)/this.currentZoom,ty:Math.max(t.y,-e.top)/this.currentZoom,scale:this.currentZoom}))),this.diagram.transformLayers(),this.diagram.element.style.overflow="hidden"},r.prototype.setViewPortSize=function(t,e){this.viewPortWidth=t,this.viewPortHeight=e},r.prototype.getPageBounds=function(t,e,i,n){var o,s=new Xi;if("Content"===e||n||null===this.diagram.pageSettings.width||null===this.diagram.pageSettings.height){var d=t?void 0:0;o=this.diagram.spatialSearch.getPageBounds(d,d)}else{var a=this.diagram.pageSettings.width,l=this.diagram.pageSettings.height,h=0,c=0;if(this.diagram.pageSettings.multiplePage){if((s=this.diagram.spatialSearch.getPageBounds(0,0)).right>a&&(a*=u=Math.ceil(s.right/a)),s.bottom>l&&(l*=u=Math.ceil(s.bottom/l)),s.left<0&&Math.abs(s.left)>h){var u=Math.ceil(Math.abs(s.left)/this.diagram.pageSettings.width);h=this.diagram.pageSettings.width*u}s.top<0&&Math.abs(s.top)>c&&(u=Math.ceil(Math.abs(s.top)/this.diagram.pageSettings.height),c=this.diagram.pageSettings.height*u)}o=new Xi(-h,-c,a+h,l+c)}if(i){var p=this.diagram.scrollSettings.padding;o.x-=p.left,o.y-=p.top,o.width+=p.left+p.right,o.height+=p.top+p.bottom}return o},r.prototype.getPageBreak=function(t){for(var e=0,i=0,n=-1,s=[],c=this.diagram.pageSettings.margin.left,u=this.diagram.pageSettings.margin.right,d=this.diagram.pageSettings.margin.top,p=this.diagram.pageSettings.margin.bottom,f=1,m=1;t.width>e;)(e+=this.diagram.pageSettings.width?this.diagram.pageSettings.width:t.width)===this.diagram.pageSettings.width&&(s[++n]={x1:t.left+c,y1:t.top+d,x2:t.left+c,y2:t.bottom-p}),e<t.width&&(s[++n]={x1:t.topLeft.x+this.diagram.pageSettings.width*f,y1:t.topLeft.y+d,x2:t.bottomLeft.x+this.diagram.pageSettings.width*f,y2:t.bottomLeft.y-p},f++),t.width===e&&(s[++n]={x1:t.right-u,y1:t.top+d,x2:t.right-u,y2:t.bottom-p});for(;t.height>i;)(i+=this.diagram.pageSettings.height?this.diagram.pageSettings.height:t.height)===this.diagram.pageSettings.height&&(s[++n]={x1:t.left+c,y1:t.top+d,x2:t.right-u,y2:t.top+d}),i<t.height&&(s[++n]={x1:t.topLeft.x+c,y1:t.topLeft.y+this.diagram.pageSettings.height*m,x2:t.topRight.x-u,y2:t.topRight.y+this.diagram.pageSettings.height*m},m++),t.height===i&&(s[++n]={x1:t.left+c,y1:t.bottom-p,x2:t.right-u,y2:t.bottom-p});return s},r.prototype.zoom=function(t,e,i,n,s,o,a){if(function Bge(r){return r.constraints&Un.Zoom}(this.diagram)&&1!==t||function Fge(r){return r.constraints&Un.Pan}(this.diagram)&&1===t){var l=Bs();if(zw(l,this.currentZoom,this.currentZoom),PY(l,this.horizontalOffset,this.verticalOffset),n=xn(l,n=n||{x:(this.viewPortWidth/2-this.horizontalOffset)/this.currentZoom,y:(this.viewPortHeight/2-this.verticalOffset)/this.currentZoom}),this.currentZoom*t>=this.diagram.scrollSettings.minZoom&&this.currentZoom*t<=this.diagram.scrollSettings.maxZoom){this.currentZoom*=t;var h=this.getPageBounds(void 0,void 0,!0);h.x*=this.currentZoom,h.y*=this.currentZoom;var c=Bs();zw(c,t,t,n.x,n.y),PY(c,e||0,i||0),wB(l,c);var u=xn(l,{x:0,y:0});1===t&&(u=this.applyScrollLimit(u.x,u.y,s,o,a)),a=!!(-h.y>=u.y&&-h.x>=u.x&&a),(this.diagram.scrollActions&jd.PropertyChange||!(this.diagram.scrollActions&jd.Interaction)||"Diagram"!==this.diagram.scrollSettings.scrollLimit||a)&&(this.transform={tx:Math.max(u.x,-h.left)/this.currentZoom,ty:Math.max(u.y,-h.top)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=u.x,this.verticalOffset=u.y),this.setSize(u),"SVG"!==this.diagram.mode&&hc(this.diagram)&&this.diagram.scroller.virtualizeElements(),"SVG"!==this.diagram.mode&&!hc(this.diagram)&&this.diagram.refreshDiagramLayer(),this.diagram.setOffset(-this.horizontalOffset-h.x,-this.verticalOffset-h.y),WL(this.diagram)}}},r.prototype.fitToPage=function(t){var e=(t=t||{}).mode,i=t.region,n=t.margin||{},s=t.canZoomIn,o=t.customBounds;n.bottom=n.bottom||25,n.top=n.top||25,n.left=n.left||25,n.right=n.right||25;var l,a=o,h=-this.horizontalOffset,c=-this.verticalOffset;if("PageSettings"===(i=i||"PageSettings")&&this.diagram.pageSettings.width&&this.diagram.pageSettings.height||this.diagram.nodes.length>0||this.diagram.connectors.length>0){e=e||"Page","CustomBounds"!==i&&(a=this.getPageBounds(!0,i,!0));var u={x:0,y:0};u.x=(this.viewPortWidth-(n.left+n.right))/a.width,u.y=(this.viewPortHeight-(n.top+n.bottom))/a.height,!s&&a.width-this.horizontalOffset<this.viewPortWidth&&a.height-this.verticalOffset<this.viewPortHeight&&(u.x=Math.min(this.currentZoom,u.x),u.y=Math.min(this.currentZoom,u.y));var d=void 0;switch(e){case"Width":h+=(this.viewPortWidth-a.width*(d=u.x))/2-a.x*d+(n.left-n.right)/2*d,c-=-this.verticalOffset*(l=d/this.currentZoom),c="CustomBounds"!==i?c:c-this.verticalOffset*l;break;case"Height":l=(d=u.y)/this.currentZoom,h+=(this.viewPortWidth-a.width*d)/2-a.x*d+(n.left-n.right)/2*d,c+=(this.viewPortHeight-a.height*d)/2-a.y*d+(n.top-n.bottom)/2*d;break;case"Page":l=(d=Math.min(u.x,u.y))/this.currentZoom,h+=(this.viewPortWidth-a.width*d)/2-a.x*d+(n.left-n.right)/2*d,c+=(this.viewPortHeight-a.height*d)/2-a.y*d+(n.top-n.bottom)/2*d}this.zoom(l,h,c,{x:0,y:0},!0)}else this.zoom(l=1/this.currentZoom,h,c,{x:0,y:0},!0)},r.prototype.bringIntoView=function(t,e){var i=0,n=0,s=this.currentZoom,o=t,a=-this.horizontalOffset,l=-this.verticalOffset;o=new Xi(o.x*s,o.y*s,o.width*s,o.height*s),new Xi(a,l,this.viewPortWidth,this.viewPortHeight).containsRect(o)||(o.right>-a+this.viewPortWidth&&(i=o.right-this.viewPortWidth),o.x<-a&&(i=o.x),o.bottom>-l+this.viewPortHeight&&(n=o.bottom-this.viewPortHeight),o.y<-l&&(n=o.y),this.zoom(1,-this.horizontalOffset-i,-this.verticalOffset-n,null,void 0,e))},r.prototype.bringToCenter=function(t){var e=this.currentZoom,i=new Xi(t.x*e,t.y*e,t.width*e,t.height*e),n=i.x+i.width/2-this.viewPortWidth/2,s=i.y+i.height/2-this.viewPortHeight/2;this.zoom(1,-this.horizontalOffset-(n*=-1),-this.verticalOffset-(s*=-1),null)},r.prototype.applyScrollLimit=function(t,e,i,n,s){if("Infinity"===this.diagram.scrollSettings.scrollLimit&&void 0===i&&(t=-t,e=-e),"Infinity"!==this.diagram.scrollSettings.scrollLimit){var o=void 0;if("Limited"===this.diagram.scrollSettings.scrollLimit){var a=this.diagram.scrollSettings.scrollableArea;o=new Xi(a.x,a.y,a.width,a.height)}(o=o||s?this.getPageBounds():this.getPageBounds(!0)).x*=this.currentZoom,o.y*=this.currentZoom,o.width*=this.currentZoom,o.height*=this.currentZoom,void 0!==i&&(t*=-1,e*=-1),n&&(t*=-1,e*=-1);var l=Math.max(o.right,this.viewPortWidth);if(!n&&!(t<=o.x&&(t+this.viewPortWidth>=o.right||t>=o.right-this.viewPortWidth)||t>=o.x&&t+this.viewPortWidth<=l))if(t>=o.x)t=Math.max(o.x,Math.min(t,t-(t+this.viewPortWidth-this.vScrollSize-l)));else{var h=o.right-this.viewPortWidth;t=Math.min(h,o.x)}var c=Math.max(o.bottom,this.viewPortHeight);n||e<=o.y&&e+this.viewPortHeight>=o.bottom||e>=o.y&&e+this.viewPortHeight<=c||(e>=o.y?e=Math.max(o.y,Math.min(e,e-(e+this.viewPortHeight-this.hScrollSize-c))):(h=o.bottom-this.viewPortHeight,e=Math.min(o.y,h))),t*=-1,e*=-1}return{x:t,y:e}},r}(),kye=function(){function r(t,e,i,n,s){this.objects=[],this.left=t,this.top=e,this.width=i,this.height=n,this.spatialSearch=s}return r.prototype.findQuads=function(t,e){null!=this.first&&this.first.isIntersect(t)&&this.first.findQuads(t,e),null!=this.second&&this.second.isIntersect(t)&&this.second.findQuads(t,e),null!=this.third&&this.third.isIntersect(t)&&this.third.findQuads(t,e),null!=this.fourth&&this.fourth.isIntersect(t)&&this.fourth.findQuads(t,e),this.objects.length>0&&e.push(this)},r.prototype.isIntersect=function(t){return!(this.left+this.width<t.left||this.top+this.height<t.top||this.left>t.right||this.top>t.bottom)},r.prototype.selectQuad=function(){for(var i,t=null,e=this;null!=e;)i=e.getQuad(t),e=i.source,t=i.target||t;return t},r.prototype.getQuad=function(t){var e=this.width/2,i=this.height/2;if(e>=1e3&&i>=1e3){var n=this.left+e,s=this.top+i;if(this.spatialSearch.childRight<=n){if(this.spatialSearch.childBottom<=s)return this.first||((o=new r(this.left,this.top,e,i,this.spatialSearch)).parent=this,this.first=o),{source:this.first};if(this.spatialSearch.childTop>=s)return this.third||((o=new r(this.left,s,e,i,this.spatialSearch)).parent=this,this.third=o),{source:this.third}}else if(this.spatialSearch.childLeft>=n){if(this.spatialSearch.childBottom<=s)return this.second||((o=new r(n,this.top,e,i,this.spatialSearch)).parent=this,this.second=o),{source:this.second};var o;if(this.spatialSearch.childTop>=s)return this.fourth||((o=new r(n,s,e,i,this.spatialSearch)).parent=this,this.fourth=o),{source:this.fourth}}}return this.objects.push(this.spatialSearch.childNode),{target:this}},r.prototype.isContained=function(){return this.spatialSearch.childLeft>=this.left&&this.spatialSearch.childRight<=this.left+this.width&&this.spatialSearch.childTop>=this.top&&this.spatialSearch.childBottom<=this.top+this.height},r.prototype.addIntoAQuad=function(t){var e={};this.spatialSearch.setCurrentNode(t);for(var i=null;!e.isAdded;)i=(e=this.spatialSearch.parentQuad.add(i)).quad;return i},r.prototype.add=function(t){if(t=null,this.isContained())return{isAdded:!0,quad:t=this.selectQuad()};var e=void 0,i=!(0!==this.objects.length||this.first||this.second||this.third||this.fourth),n=2*this.width,s=2*this.height;return this.spatialSearch.childLeft<this.left?this.spatialSearch.childTop<this.top?(e=new r(this.left-this.width,this.top-this.height,n,s,this.spatialSearch),i||(e.fourth=this)):(e=new r(this.left-this.width,this.top,n,s,this.spatialSearch),i||(e.second=this)):this.spatialSearch.childTop<this.top?(e=new r(this.left,this.top-this.height,n,s,this.spatialSearch),i||(e.third=this)):(e=new r(this.left,this.top,n,s,this.spatialSearch),i||(e.first=this)),this.parent=e,this.spatialSearch.parentQuad=e,{isAdded:!1,quad:t}},r}(),sQ=function(){function r(t){this.quadSize=500,this.objectTable=t,this.parentQuad=new kye(0,0,2*this.quadSize,2*this.quadSize,this),this.pageLeft=Number.MAX_VALUE,this.pageRight=-Number.MAX_VALUE,this.pageTop=Number.MAX_VALUE,this.pageBottom=-Number.MAX_VALUE,this.quadTable={}}return r.prototype.removeFromAQuad=function(t){if(this.quadTable[t.id]){var e=this.quadTable[t.id],i=this.objectIndex(e.objects,t);-1!==i&&(e.objects.splice(i,1),this.update(e),delete this.quadTable[t.id])}},r.prototype.update=function(t){if(t.parent&&0===t.objects.length&&null==t.first&&null==t.second&&null==t.third&&null==t.fourth){var e=t.parent;e.first===t?e.first=null:e.second===t?e.second=null:e.third===t?e.third=null:e.fourth===t&&(e.fourth=null),this.update(t.parent)}else t===this.parentQuad&&!t.first&&!t.second&&!t.third&&!t.fourth&&(t.left=0,t.width=1e3,t.top=0,t.height=1e3)},r.prototype.addIntoAQuad=function(t){var e=this.parentQuad.addIntoAQuad(t);this.quadTable[t.id]=e},r.prototype.objectIndex=function(t,e){for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].id===e.id)return i;return-1},r.prototype.updateQuad=function(t){this.setCurrentNode(t);var e=t.outerBounds;if(isNaN(e.x)||isNaN(e.y)||isNaN(e.width)||isNaN(e.height))return!1;if(this.quadTable[t.id]?this.quadTable[t.id].isContained()||(this.removeFromAQuad(t),this.addIntoAQuad(t)):this.addIntoAQuad(t),!this.isWithinPageBounds(e)||this.leftElement===t||this.topElement===t||this.rightElement===t||this.bottomElement===t){var n=!1;return(this.pageLeft!==this.childLeft||t!==this.leftElement)&&(this.pageLeft>=this.childLeft?(this.pageLeft=this.childLeft,this.leftElement=t,n=!0):t===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.findLeft(this.parentQuad),n=!0)),(this.pageTop!==this.childTop||t!==this.topElement)&&(this.pageTop>=this.childTop?(this.pageTop=this.childTop,this.topElement=t,n=!0):t===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.findTop(this.parentQuad),n=!0)),(this.pageBottom!==this.childBottom||t!==this.bottomElement)&&(this.pageBottom<=this.childBottom?(n=!0,this.pageBottom=this.childBottom,this.bottomElement=t):t===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.findBottom(this.parentQuad),n=!0)),(this.pageRight!==this.childRight||t!==this.rightElement)&&(this.pageRight<=this.childRight?(this.pageRight=this.childRight,this.rightElement=t,n=!0):t===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.findRight(this.parentQuad),n=!0)),n}return this.setCurrentNode(null),!1},r.prototype.isWithinPageBounds=function(t){return t.left>=this.pageLeft&&t.right<=this.pageRight&&t.top>=this.pageTop&&t.bottom<=this.pageBottom},r.prototype.findQuads=function(t){var e=[];return this.parentQuad.findQuads(t,e),e},r.prototype.findObjects=function(t){for(var i=[],n=0,s=this.findQuads(t);n<s.length;n++)for(var a=0,l=s[n].objects;a<l.length;a++){var h=l[a];h.outerBounds.intersects(t)&&i.push(this.objectTable[h.id])}return i},r.prototype.updateBounds=function(t){var e=!1;return t===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.topElement=null,this.findTop(this.parentQuad),e=!0),t===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.leftElement=null,this.findLeft(this.parentQuad),e=!0),t===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.rightElement=null,this.findRight(this.parentQuad),e=!0),t===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.bottomElement=null,this.findBottom(this.parentQuad),e=!0),e},r.prototype.findBottom=function(t){t.third||t.fourth?(t.third&&this.findBottom(t.third),t.fourth&&this.findBottom(t.fourth)):(t.second&&this.findBottom(t.second),t.first&&this.findBottom(t.first));for(var e=0,i=t.objects;e<i.length;e++){var n=i[e];this.pageBottom<=n.outerBounds.bottom&&(this.pageBottom=n.outerBounds.bottom,this.bottomElement=n)}},r.prototype.findRight=function(t){(t.second||t.fourth)&&(t.second&&this.findRight(t.second),t.fourth&&this.findRight(t.fourth)),t.first&&this.findRight(t.first),t.third&&this.findRight(t.third);for(var e=0,i=t.objects;e<i.length;e++){var n=i[e];this.pageRight<=n.outerBounds.right&&(this.pageRight=n.outerBounds.right,this.rightElement=n)}},r.prototype.findLeft=function(t){t.first||t.third?(t.first&&this.findLeft(t.first),t.third&&this.findLeft(t.third)):(t.second&&this.findLeft(t.second),t.fourth&&this.findLeft(t.fourth));for(var e=0,i=t.objects;e<i.length;e++){var n=i[e];this.pageLeft>=n.outerBounds.left&&(this.pageLeft=n.outerBounds.left,this.leftElement=n)}},r.prototype.findTop=function(t){t.first||t.second?(t.first&&this.findTop(t.first),t.second&&this.findTop(t.second)):(t.third&&this.findTop(t.third),t.fourth&&this.findTop(t.fourth));for(var e=0,i=t.objects;e<i.length;e++){var n=i[e];this.pageTop>=n.outerBounds.top&&(this.pageTop=n.outerBounds.top,this.topElement=n)}},r.prototype.setCurrentNode=function(t){if(this.childNode=t,t){var e=t.outerBounds;this.childLeft=Number(e.left),this.childTop=Number(e.top),this.childRight=Number(e.right),this.childBottom=Number(e.bottom)}else this.childLeft=Number.MAX_VALUE,this.childTop=Number.MAX_VALUE,this.childRight=-Number.MAX_VALUE,this.childBottom=-Number.MAX_VALUE},r.prototype.getPageBounds=function(t,e){if(this.pageLeft===Number.MAX_VALUE)return new Xi(0,0,0,0);var i=void 0!==t?Math.min(this.pageLeft,0):this.pageLeft,n=void 0!==e?Math.min(this.pageTop,0):this.pageTop;return new Xi(Math.round(i),Math.round(n),Math.round(this.pageRight-i),Math.round(this.pageBottom-n))},r.prototype.getQuad=function(t){return this.quadTable[t.id]},r}(),Nye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_ye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nye(t,r),function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([O(!1)],t.prototype,"preventDefaults",void 0),t}(ii),Rye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oQ=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Rye(t,r),oQ([O("")],t.prototype,"action",void 0),oQ([O("")],t.prototype,"cursor",void 0),t}(ii),Bye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jye=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Bye(t,r),function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([O(!0)],t.prototype,"inversedAlignment",void 0),t}(ii),Hye=function(){function r(t){this.labelProperties=t}return r.prototype.renderConnectorsCollection=function(t,e){t.connectors=[];for(var i=[],n=0;n<e.connectors.length;n++){var s=e.connectors[parseInt(n.toString(),10)],o=this.convertToConnector(s);i.push(o)}t.connectors=i},r.prototype.convertToConnector=function(t){var e={style:{}};return t.name&&(e.id=t.name),t.addInfo&&(e.addInfo=t.addInfo),t.bridgeSpace&&(e.bridgeSpace=t.bridgeSpace),t.constraints&&(e.constraints=this.setConnectorConstraints(t.constraints)),t.cornerRadius&&(e.cornerRadius=t.cornerRadius),t.labels&&(e.annotations=this.labelProperties.setLabelProperties(t.labels,t)),t.lineColor&&(e.style.fill=t.lineColor),t.lineWidth&&(e.style.strokeWidth=t.lineWidth),t.lineDashArray&&(e.style.strokeDashArray=t.lineDashArray),t.opacity&&(e.style.opacity=t.opacity),t.lineHitPadding&&(e.hitPadding=t.lineHitPadding),t.margin&&(e.margin={left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom}),t.segments&&(e.type=t.segments[0].type,e.segments=this.setConnectorSegments(t.segments)),t.shape&&(e.shape=this.getConnectorShape(t.shape)),t.sourceDecorator&&(e.sourceDecorator={height:t.sourceDecorator.height,width:t.sourceDecorator.width,shape:this.getDecoratorShape(t.sourceDecorator.shape),pathData:t.sourceDecorator.pathData,style:{fill:t.sourceDecorator.fillColor,strokeColor:t.sourceDecorator.lineColor,strokeWidth:t.sourceDecorator.lineWidth}}),t.targetDecorator&&(e.targetDecorator={height:t.targetDecorator.height,width:t.targetDecorator.width,shape:this.getDecoratorShape(t.targetDecorator.shape),pathData:t.targetDecorator.pathData,style:{fill:t.targetDecorator.fillColor,strokeColor:t.targetDecorator.lineColor,strokeWidth:t.targetDecorator.lineWidth}}),t.sourceID&&(e.sourceID=t.sourceID),t.targetID&&(e.targetID=t.targetID),t.sourcePoint&&(e.sourcePoint={x:t.sourcePoint.x,y:t.sourcePoint.y}),t.targetPoint&&(e.targetPoint={x:t.targetPoint.x,y:t.targetPoint.y}),t.sourcePortID&&(e.sourcePortID=t.sourcePortID),t.targetPortID&&(e.targetPortID=t.targetPortID),t.tooltip&&(e.tooltip={content:t.tooltip.content,relativeMode:t.tooltip.relativeMode}),t.visible&&(e.visible=t.visible),t.zIndex&&(e.zIndex=t.zIndex),e},r.prototype.getConnectorShape=function(t){var e=null;return t&&("bpmn"===t.type&&(e={type:"Bpmn",flow:t.flow.charAt(0).toUpperCase()+t.flow.slice(1)},"sequence"===t.flow?e.sequence=t.sequence.charAt(0).toUpperCase()+t.sequence.slice(1):"association"===t.flow?e.association=t.association.charAt(0).toUpperCase()+t.association.slice(1):e.message=t.message.charAt(0).toUpperCase()+t.message.slice(1)),"umlclassifier"===t.type&&(e={type:"UmlClassifier",relationship:t.relationship.charAt(0).toUpperCase()+t.relationship.slice(1),multiplicity:{type:t.multiplicity.type.charAt(0).toUpperCase()+t.multiplicity.type.slice(1),source:{upperBounds:t.multiplicity.source.upperBounds,optional:t.multiplicity.source.optional,lowerBounds:t.multiplicity.source.lowerBounds},target:{upperBounds:t.multiplicity.target.upperBounds,optional:t.multiplicity.target.optional,lowerBounds:t.multiplicity.target.lowerBounds}}}),"umlactivity"===t.type&&(e={type:"UmlActivity",flow:t.flow.charAt(0).toUpperCase()+t.flow.slice(1)})),e},r.prototype.getDecoratorShape=function(t){return"path"===t?"Custom":t.charAt(0).toUpperCase()+t.slice(1)},r.prototype.setConnectorSegments=function(t){var e=[];if(t.length>0)for(var i=0;i<t.length;i++){var n={},s=t[parseInt(i.toString(),10)];n.direction=s.direction?s.direction.charAt(0).toUpperCase()+s.direction.slice(1):s._direction?s._direction.charAt(0).toUpperCase()+s._direction.slice(1):null,n.length=s.length,n.point=s.point?{x:s.point.x,y:s.point.y}:null,n.point1=s.point1?{x:s.point1.x,y:s.point1.y}:null,n.point2=s.point2?{x:s.point2.x,y:s.point2.y}:null,n.vector1=s.vector1?{angle:s.vector1.angle,distance:s.vector1.distance}:null,n.vector2=s.vector2?{angle:s.vector2.angle,distance:s.vector2.distance}:null,s.points&&(n.points=this.getSegmentPoints(s.points)),s.type&&(n.type=s.type.charAt(0).toUpperCase()+s.type.slice(1)),e.push(n)}return e},r.prototype.getSegmentPoints=function(t){var e=[];if(t.length>0)for(var i=0;i<t.length;i++){var n={},s=t[parseInt(i.toString(),10)];n.x=s.x,n.y=s.y,e.push(n)}return e},r.prototype.setConnectorConstraints=function(t){var e=$e.None;return t&$e.Select&&(e|=$e.Select),t&$e.Delete&&(e|=$e.Delete),t&$e.Drag&&(e|=$e.Drag),t&$e.DragSourceEnd&&(e|=$e.DragSourceEnd),t&$e.DragTargetEnd&&(e|=$e.DragTargetEnd),t&$e.DragSegmentThumb&&(e|=$e.DragSegmentThumb),t&$e.Bridging&&(e|=$e.Bridging),t&$e.InheritBridging&&(e|=$e.InheritBridging),t&$e.AllowDrop&&(e|=$e.AllowDrop),t&$e.InheritTooltip&&(e|=$e.InheritTooltip),t&$e.PointerEvents&&(e|=$e.PointerEvents),t&$e.BridgeObstacle&&(e|=$e.BridgeObstacle),t&$e.Interaction&&(e|=$e.Interaction),t&$e.Default&&(e|=$e.Default),e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"ConnectorProperties"},r}(),Uye=function(){function r(t){this.modelProperties=t}return r.prototype.setLabelProperties=function(t,e){var i=[];if(t.length>0)for(var n=0;n<t.length;n++){var s=t[parseInt(n.toString(),10)],o={style:{}};s.name&&(o.id=s.name),s.addInfo&&(o.addInfo=s.addInfo),s.content&&(o.content=s.content),s.constraints&&(o.constraints=this.setLabelConstraints(s.constraints)),s.dragLimit&&(o.dragLimit={left:s.dragLimit.left,right:s.dragLimit.right,top:s.dragLimit.top,bottom:s.dragLimit.bottom}),s.height&&(o.height=s.height),s.horizontalAlignment&&(o.horizontalAlignment=s.horizontalAlignment),s.verticalAlignment&&(o.verticalAlignment=s.verticalAlignment),s.hyperlink&&(o.hyperlink=s.hyperlink),s.margin&&(o.margin={left:s.margin.left,right:s.margin.right,top:s.margin.top,bottom:s.margin.bottom}),s.rotateAngle&&(o.rotateAngle=s.rotateAngle),s.fillColor&&(o.style.color=s.fillColor),s.fontFamily&&(o.style.fontFamily=s.fontFamily),s.fontSize&&(o.style.fontSize=s.fontSize),s.italic&&(o.style.italic=s.italic),s.bold&&(o.style.bold=s.bold),s.borderColor&&(o.style.strokeColor=s.borderColor),s.borderWidth&&(o.style.strokeWidth=s.borderWidth),s.textWrapping&&(o.style.textWrapping=s.textWrapping),s.textAlign&&(o.style.textAlign=s.textAlign),s.textDecoration&&(o.style.textDecoration=s.textDecoration),s.fillColor&&(o.style.fill="white"===s.fillColor?"transparent":s.fillColor),s.opacity&&(o.style.opacity=s.opacity),s.visible&&(o.visibility=s.visible),s.width&&(o.width=s.width),i.push(o)}return i},r.prototype.setLabelConstraints=function(t){var e=Rl.None;return t&Rl.Select&&(e|=Rl.Select),t&Rl.Drag&&(e|=Rl.Drag),t&Rl.Resize&&(e|=Rl.Resize),t&Rl.Rotate&&(e|=Rl.Rotate),e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"LabelProperties"},r}(),Vye=function(){function r(t,e){this.labelProperties=t,this.portProperties=e}return r.prototype.renderNodesCollection=function(t,e){t.nodes=[];for(var i=[],n=0;n<e.nodes.length;n++){var s=e.nodes[parseInt(n.toString(),10)],o=[],a=this.convertToNode(s);if(a.shape&&a.shape.activity&&a.shape.activity.subProcess&&a.shape.activity.subProcess.processes.length>0){for(var l=[],h=0;h<a.shape.activity.subProcess.processes.length;h++){var c=a.shape.activity.subProcess.processes[parseInt(h.toString(),10)];c.margin.right=0,c.margin.bottom=0,c.processId=a.id,l.push(c.id),o.push(c)}a.shape.activity.subProcess.processes=l}if("group"===s.type&&!s.isSwimlane){var u=[];if(a.children&&a.children.length>0){for(var d=0;d<a.children.length;d++){var p=a.children[parseInt(n.toString(),10)];i.push(p),u.push(p)}a.children=u}}i.push(a),o&&o.length>0&&(i=i.concat(o))}return t.nodes=i,t.nodes},r.prototype.convertToNode=function(t){var e={style:{},margin:{}};return t.name&&(e.id=t.name),t.fillColor&&(e.style.fill=t.fillColor),t.borderColor&&(e.style.strokeColor=t.borderColor),t.borderWidth&&(e.style.strokeWidth=t.borderWidth),t.borderDashArray&&(e.style.strokeDashArray=t.borderDashArray),t.opacity&&(e.style.opacity=t.opacity),t.gradient&&(e.style.gradient=this.setGradient(t.gradient)),t.isExpanded&&(e.isExpanded=t.isExpanded),t.width&&(e.width=t.width),t.height&&(e.height=t.height),t.offsetX&&(e.offsetX=t.offsetX),t.offsetY&&(e.offsetY=t.offsetY),t.visible&&(e.visible=t.visible),e.zIndex=-1===t.zOrder?-1:t.zOrder,t.excludeFromLayout&&(e.excludeFromLayout=t.excludeFromLayout),t.rotateAngle&&(e.rotateAngle=t.rotateAngle),t.pivot&&(e.pivot=t.pivot),t.addInfo&&(e.addInfo=t.addInfo),t.marginLeft&&(e.margin.left=t.marginLeft),t.marginRight&&(e.margin.right=t.marginRight),t.marginTop&&(e.margin.top=t.marginTop),t.marginBottom&&(e.margin.bottom=t.marginBottom),t.horizontalAlign&&(e.horizontalAlignment=t.horizontalAlign),t.verticalAlign&&(e.verticalAlignment=t.verticalAlign),t.constraints&&(e.constraints=this.setNodeConstraints(t.constraints)),t.labels&&(e.annotations=this.labelProperties.setLabelProperties(t.labels,void 0)),t.shadow&&(e.shadow={angle:t.shadow.angle,opacity:t.shadow.opacity,distance:t.shadow.distance}),t.tooltip&&(e.tooltip={relativeMode:t.tooltip.relativeMode}),t.expandIcon&&(e.expandIcon={shape:t.expandIcon.shape,width:t.expandIcon.width,height:t.expandIcon.height,margin:{left:t.expandIcon.margin?t.expandIcon.margin.left:0,right:t.expandIcon.margin?t.expandIcon.margin.right:0,top:t.expandIcon.margin?t.expandIcon.margin.top:0,bottom:t.expandIcon.margin?t.expandIcon.margin.bottom:0},offset:{x:t.expandIcon.offset?t.expandIcon.offset.x:.5,y:t.expandIcon.offset?t.expandIcon.offset.y:1},borderColor:t.expandIcon.borderColor,borderWidth:t.expandIcon.borderWidth,cornerRadius:t.expandIcon.cornerRadius,pathData:t.expandIcon.pathData}),t.collapseIcon&&(e.collapseIcon={shape:t.collapseIcon.shape,width:t.collapseIcon.width,height:t.collapseIcon.height,margin:{left:t.collapseIcon.margin?t.collapseIcon.margin.left:0,right:t.collapseIcon.margin?t.collapseIcon.margin.right:0,top:t.collapseIcon.margin?t.collapseIcon.margin.top:0,bottom:t.collapseIcon.margin?t.collapseIcon.margin.bottom:0},offset:{x:t.collapseIcon.offset?t.collapseIcon.offset.x:.5,y:t.collapseIcon.offset?t.collapseIcon.offset.y:1},borderColor:t.collapseIcon.borderColor,borderWidth:t.collapseIcon.borderWidth,cornerRadius:t.collapseIcon.cornerRadius,pathData:t.collapseIcon.pathData}),t.ports&&(e.ports=this.portProperties.setPortProperties(t.ports)),t.children&&"bpmn"!==t.type&&!t.isSwimlane&&(e.children=this.getChildren(e,t)),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,(t.shape||t.type)&&(e=this.setShape(e,t)),e},r.prototype.getChildren=function(t,e){if(e.children&&e.children.length>0){for(var i=[],n=0;n<e.children.length;n++){var s=this.convertToNode(e.children[parseInt(n.toString(),10)]);s.children&&this.getChildren(t,s),i.push(s)}t.children=i}return t.children},r.prototype.setShape=function(t,e){switch(e.type){case"basic":var i=e.shape.charAt(0).toUpperCase()+e.shape.slice(1);t.shape="path"===e.shape?{type:"Path",data:e.pathData}:{type:"Basic",shape:i,cornerRadius:e.cornerRadius,points:e.points};break;case"flow":var n=e.shape.charAt(0).toUpperCase()+e.shape.slice(1);t.shape={type:"Flow",shape:n};break;case"umlactivity":t.shape={type:"UmlActivity",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1)};break;case"image":t.shape={type:"Image",source:e.source,align:this.getImageContentAlignment(e.contentAlignment),scale:e.scale.charAt(0).toUpperCase()+e.scale.slice(1)};break;case"html":t.shape={type:"HTML"};break;case"native":t.shape={type:"Native"};break;case"text":t.shape={type:"Text",content:e.textBlock.text};break;case"bpmn":t.shape=this.renderBpmnShape(t,e);break;case"group":e.isSwimlane&&(t.shape=this.renderSwimlaneShape(t,e))}return t},r.prototype.getImageContentAlignment=function(t){if(t)switch(t){case"xminymin":return"XMinYMin";case"xminymid":return"XMinYMid";case"xminymax":return"XMinYMax";case"xmidymin":return"XMidYMin";case"xmidymid":return"XMidYMid";case"xmidymax":return"XMidYMax";case"xmaxymin":return"XMaxYMin";case"xmaxymid":return"XMaxYMid";case"xmaxymax":return"XMaxYMax";case"none":return"None"}return"None"},r.prototype.setNodeConstraints=function(t){var e=j.None;return t&j.Select&&(e|=j.Select),t&j.Delete&&(e|=j.Delete),t&j.Drag&&(e|=j.Drag),t&j.Rotate&&(e|=j.Rotate),t&j.ResizeNorthEast&&(e|=j.ResizeNorthEast),t&j.ResizeEast&&(e|=j.ResizeEast),t&j.OutConnect&&(e|=j.ResizeSouthEast),t&j.Expandable&&(e|=j.ResizeSouth),t&j.AllowDrop&&(e|=j.ResizeSouthWest),t&j.ResizeNorthEast&&(e|=j.ResizeWest),t&j.ResizeEast&&(e|=j.ResizeNorthWest),t&j.ResizeNorth&&(e|=j.ResizeNorth),t&j.Resize&&(e|=j.Resize),t&j.ResizeSouthEast&&(e|=j.Shadow),t&j.AspectRatio&&(e|=j.AspectRatio),t&j.ResizeNorthWest&&(e|=j.AllowDrop),t&j.ResizeNorth&&(e|=j.InheritTooltip),t&j.PointerEvents&&(e|=j.PointerEvents),t&j.Inherit&&(e|=j.Inherit),e},r.prototype.setGradient=function(t){var e={};return t&&("linear"===t.type?e={type:"Linear",x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,stops:this.getGradientStops(t.stops)}:"radial"===t.type&&(e={type:"Radial",cx:t.cx,cy:t.cy,fx:t.fx,fy:t.fy,stops:this.getGradientStops(t.stops)})),e},r.prototype.getGradientStops=function(t){for(var e=[],i=0;i<t.length;i++){var n={},s=t[parseInt(i.toString(),10)];n.color=s.color,n.offset=s.offset,e.push(n)}return e},r.prototype.renderBpmnShape=function(t,e){return"event"===e.shape?t.shape={type:"Bpmn",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1),event:{event:e.event.charAt(0).toUpperCase()+e.event.slice(1),trigger:e.trigger.charAt(0).toUpperCase()+e.trigger.slice(1)}}:"gateway"===e.shape?t.shape={type:"Bpmn",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1),gateway:{type:e.gateway.charAt(0).toUpperCase()+e.gateway.slice(1)}}:"activity"===e.shape?(t.shape={type:"Bpmn",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1),activity:{activity:e.activity.charAt(0).toUpperCase()+e.activity.slice(1)}},"task"===e.activity&&(t.shape.activity.task={type:e.task.type.charAt(0).toUpperCase()+e.task.type.slice(1),loop:e.task.loop.charAt(0).toUpperCase()+e.task.loop.slice(1),compensation:e.task.compensation,call:e.task.call}),"subprocess"===e.activity&&("event"===e.subProcess.type?t.shape.activity.subProcess={collapsed:e.subProcess.collapsed,compensation:e.subProcess.compensation,adhoc:e.subProcess.adhoc,loop:e.subProcess.loop.charAt(0).toUpperCase()+e.subprocess.loop.slice(1),boundary:e.subProcess.boundary.charAt(0).toUpperCase()+e.subprocess.boundary.slice(1),type:e.subProcess.type.charAt(0).toUpperCase()+e.subprocess.type.slice(1),event:{event:e.event.charAt(0).toUpperCase()+e.event.slice(1),trigger:e.trigger.charAt(0).toUpperCase()+e.trigger.slice(1)}}:"transaction"===e.subProcess.type&&(t.shape.activity.subProcess={collapsed:e.subProcess.collapsed,compensation:e.subProcess.compensation,adhoc:e.subProcess.adhoc,loop:e.subProcess.loop.charAt(0).toUpperCase()+e.subprocess.loop.slice(1),boundary:e.subProcess.boundary.charAt(0).toUpperCase()+e.subprocess.boundary.slice(1),type:e.subProcess.type.charAt(0).toUpperCase()+e.subprocess.type.slice(1),events:this.renderEventsCollection(e.subProcess.events),processes:this.renderProcessesCollection(e)}))):"dataobject"===e.shape?(t.shape={type:"Bpmn",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1)},e.annotation&&(t.shape.annotation={text:e.annotation.text,angle:e.annotation.angle,width:e.annotation.width,height:e.annotation.height,length:e.annotation.length})):t.shape={type:"Bpmn",shape:e.shape.charAt(0).toUpperCase()+e.shape.slice(1)},t.shape},r.prototype.renderSwimlaneShape=function(t,e){t.shape={type:"SwimLane",orientation:e.orientation.charAt(0).toUpperCase()+e.orientation.slice(1),header:{annotation:{content:e.header.text},height:50,style:{fontSize:e.header.fontSize,color:e.header.fontColor,fill:e.header.fillColor}}};for(var i=[],n=[],s=0;s<e.lanes.length;s++){i[parseInt(s.toString(),10)]={header:{annotation:{content:e.lanes[parseInt(s.toString(),10)].header.text,width:e.lanes[parseInt(s.toString(),10)].header.width,style:{fontSize:e.lanes[parseInt(s.toString(),10)].header.fontSize,color:e.lanes[parseInt(s.toString(),10)].header.fontColor}}},style:{fill:e.lanes[parseInt(s.toString(),10)].fillColor},children:[]};for(var o=0;o<e.lanes[parseInt(s.toString(),10)].children.length;o++){var a=this.convertToNode(e.lanes[parseInt(s.toString(),10)].children[parseInt(o.toString(),10)]);null==a.wrapper&&(a.wrapper={actualSize:{width:a.width,height:a.height},offsetX:a.offsetX,offsetY:a.offsetY}),i[parseInt(s.toString(),10)].children.push(a)}}for(s=0;s<e.phases.length;s++)n[parseInt(s.toString(),10)]={header:{annotation:{content:e.phases[parseInt(s.toString(),10)].label.text,style:{fill:e.phases[parseInt(s.toString(),10)].label.fillColor,fontSize:e.phases[parseInt(s.toString(),10)].label.fontSize,color:e.phases[parseInt(s.toString(),10)].label.fontColor}}},offset:e.phases[parseInt(s.toString(),10)].offset,style:{fill:e.phases[parseInt(s.toString(),10)].fillColor,strokeColor:e.phases[parseInt(s.toString(),10)].lineColor,strokeDashArray:e.phases[parseInt(s.toString(),10)].lineDashArray}};return t.shape.lanes=i,t.shape.phases=n,t.shape},r.prototype.renderEventsCollection=function(t){var e=[];if(t.length>0)for(var i=0;i<t.length;i++){var n=void 0,s=t[parseInt(i.toString(),10)];n.event=s.event.charAt(0).toUpperCase()+s.event.slice(1),n.trigger=s.trigger.charAt(0).toUpperCase()+s.trigger.slice(1),n.offset={x:s.offset.x,y:s.offset.y},e.push(n)}return e},r.prototype.renderProcessesCollection=function(t){var e=[];if(t.subProcess&&t.subProcess.processes.length>0)for(var i=0;i<t.subProcess.processes.length;i++){var n=t.subProcess.processes[parseInt(i.toString(),10)],s=this.convertToNode(n);e.push(s)}return e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"NodeProperties"},r}(),Wye=function(){function r(t){this.modelProperties=t}return r.prototype.setPortProperties=function(t){var e=[];if(t.length>0)for(var i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)],s={style:{}};n.name&&(s.id=n.name),n.addInfo&&(s.addInfo=n.addInfo),n.height&&(s.height=n.height),n.width&&(s.width=n.width),n.horizontalAlignment&&(s.horizontalAlignment=n.horizontalAlignment),n.verticalAlignment&&(s.verticalAlignment=n.verticalAlignment),n.margin&&(s.margin={left:n.margin.left,right:n.margin.right,top:n.margin.top,bottom:n.margin.bottom}),n.offset&&(s.offset={x:n.offset.x,y:n.offset.y}),n.borderColor&&(s.style.strokeColor=n.borderColor),n.borderWidth&&(s.style.strokeWidth=n.borderWidth),n.fillColor&&(s.style.fill=n.fillColor),n.constraints&&(s.constraints=this.setPortConstraints(n.constraints)),n.pathData&&(s.pathData=n.pathData),s.shape="Custom"===n.shape?"Custom":n.shape,n.visibility&&(s.visibility=this.setPortVisibility(n.visibility)),e.push(s)}return e},r.prototype.setPortConstraints=function(t){return kr.Default},r.prototype.setPortVisibility=function(t){var e;return t&zi.Visible&&(e|=zi.Visible),t&zi.Hidden&&(e|=zi.Hidden),t&zi.Hover&&(e|=zi.Hover),t&zi.Connect&&(e|=zi.Connect),e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"PortProperties"},r}(),Yye=function(){function r(t){this.labelProperties=new Uye(this),this.connectorProperties=new Hye(this.labelProperties),this.portProperties=new Wye(this),this.nodeProperties=new Vye(this.labelProperties,this.portProperties),this.convertedData={},this.items=[],this.diagram=t}return r.prototype.getSerializedData=function(t){return this.convertedData.mode="SVG",this.convertedData.basicElements=[],this.convertedData.width=t.width,this.convertedData.height=t.height,t.nodes&&t.nodes.length>0?this.nodeProperties.renderNodesCollection(this.convertedData,t):this.convertedData.nodes=t.nodes,t.connectors&&t.connectors.length>0?this.connectorProperties.renderConnectorsCollection(this.convertedData,t):this.convertedData.connectors=t.connectors,void 0!==t.defaultSettings&&(this.convertedData.getNodeDefaults=this.getNodeDefaults(t.defaultSettings.node),this.convertedData.getConnectorDefaults=this.getConnectorDefaults(t.defaultSettings.connector)),this.setLayers(this.convertedData,t),this.setDataSourceSettings(this.convertedData,t),this.setRulerSettings(this.convertedData,t),this.setSnapSettings(this.convertedData,t),this.convertedData.snapSettings.constraints=t.snapSettings.enableSnapToObject?this.convertedData.snapSettings.constraints|zr.SnapToObject:this.convertedData.snapSettings.constraints&~zr.SnapToObject,void 0===t.pageSettings.backgroundImage&&(t.pageSettings.pageBackgroundColor="transparent",t.pageSettings.backgroundImage={source:"",scale:"meet",alignment:"xmidymid"},t.pageSettings.showPageBreak=!1),this.setScrollSettings(this.convertedData,t),this.setPageSettings(this.convertedData,t),this.setContextMenu(this.convertedData,t),this.setTooltip(this.convertedData,t),this.setModelLayout(this.convertedData,t),this.setSelectedItems(this.convertedData,t),this.convertedData.constraints=this.setDiagramConstraints(t.constraints),this.convertedData.tool=this.setDiagramTool(t.tool),this.convertedData.drawType=t.drawType,this.convertedData.commandManager=t.commandManager,this.convertedData},r.prototype.getNodeDefaults=function(t){return t?this.nodeProperties.convertToNode(t):null},r.prototype.getConnectorDefaults=function(t){return t?this.connectorProperties.convertToConnector(t):null},r.prototype.setLayers=function(t,e){if(e.layers.length>0)for(var n=0;n<e.layers.length;n++){var s={},o=e.layers[parseInt(n.toString(),10)];s.id=o.id,s.visible=o.visible,s.lock=o.lock,s.objects=o.objects,t.layers[parseInt(n.toString(),10)]=s}t.layers=[]},r.prototype.setDataSourceSettings=function(t,e){t.dataSourceSettings={},t.dataSourceSettings.id=e.dataSourceSettings.id,t.dataSourceSettings.dataManager=e.dataSourceSettings.dataSource,t.dataSourceSettings.root=e.dataSourceSettings.root,t.dataSourceSettings.parentId=e.dataSourceSettings.parent,t.dataSourceSettings.crudAction={read:e.dataSourceSettings.crudAction.read,create:e.dataSourceSettings.crudAction.create,update:e.dataSourceSettings.crudAction.update,destroy:e.dataSourceSettings.crudAction.destroy,customFields:e.dataSourceSettings.customFields},e.dataSourceSettings.connectionDataSource&&(t.dataSourceSettings.connectionDataSource={},t.dataSourceSettings.connectionDataSource.id=e.dataSourceSettings.connectionDataSource.id,t.dataSourceSettings.connectionDataSource.dataManager=e.dataSourceSettings.connectionDataSource.dataSource,t.dataSourceSettings.connectionDataSource.sourceID=e.dataSourceSettings.connectionDataSource.sourceNode,t.dataSourceSettings.connectionDataSource.targetID=e.dataSourceSettings.connectionDataSource.targetNode,t.dataSourceSettings.connectionDataSource.sourcePointX=e.dataSourceSettings.connectionDataSource.sourcePointX,t.dataSourceSettings.connectionDataSource.sourcePointY=e.dataSourceSettings.connectionDataSource.sourcePointY,t.dataSourceSettings.connectionDataSource.targetPointX=e.dataSourceSettings.connectionDataSource.targetPointX,t.dataSourceSettings.connectionDataSource.targetPointY=e.dataSourceSettings.connectionDataSource.targetPointY,t.dataSourceSettings.connectionDataSource.crudAction={read:e.dataSourceSettings.connectionDataSource.crudAction.read,create:e.dataSourceSettings.connectionDataSource.crudAction.create,update:e.dataSourceSettings.connectionDataSource.crudAction.update,destroy:e.dataSourceSettings.connectionDataSource.crudAction.destroy,customFields:e.dataSourceSettings.connectionDataSource.customFields})},r.prototype.setRulerSettings=function(t,e){t.rulerSettings={},t.rulerSettings.showRulers=e.rulerSettings.showRulers,t.rulerSettings.horizontalRuler=this.setRulerProperties(e.rulerSettings.horizontalRuler),t.rulerSettings.verticalRuler=this.setRulerProperties(e.rulerSettings.verticalRuler)},r.prototype.setRulerProperties=function(t){var e={};return e.interval=t.interval,e.segmentWidth=t.segmentWidth,e.markerColor=t.markerColor,e.thickness=t.thickness,e.arrangeTick=t.arrangeTick,e},r.prototype.setSnapSettings=function(t,e){t.snapSettings={},e.snapSettings&&(t.snapSettings.horizontalGridLines=this.setGridLines(e.snapSettings.horizontalGridLines),t.snapSettings.verticalGridLines=this.setGridLines(e.snapSettings.verticalGridLines),t.snapSettings.snapAngle=e.snapSettings.snapAngle,t.snapSettings.snapObjectDistance=e.snapSettings.snapObjectDistance,t.snapSettings.constraints=this.setSnapConstraints(e.snapSettings.snapConstraints))},r.prototype.setSnapConstraints=function(t){var e=zr.None;return t&zr.ShowHorizontalLines&&(e|=zr.ShowHorizontalLines),t&zr.ShowVerticalLines&&(e|=zr.ShowVerticalLines),t&zr.ShowLines&&(e|=zr.ShowLines),t&zr.SnapToHorizontalLines&&(e|=zr.SnapToHorizontalLines),t&zr.SnapToVerticalLines&&(e|=zr.SnapToVerticalLines),t&zr.SnapToLines&&(e|=zr.SnapToLines),e},r.prototype.setGridLines=function(t){var e={};return e.lineColor=t.lineColor,e.lineDashArray=t.lineDashArray,e.lineIntervals=t.lineInterval,e.snapIntervals=t.snapInterval,e},r.prototype.setScrollSettings=function(t,e){t.scrollSettings={horizontalOffset:e.scrollSettings.horizontalOffset,verticalOffset:e.scrollSettings.verticalOffset,currentZoom:e.scrollSettings.currentZoom,viewPortWidth:e.scrollSettings.viewPortWidth,viewPortHeight:e.scrollSettings.viewPortHeight,minZoom:e.scrollSettings.minZoom,maxZoom:e.scrollSettings.maxZoom,scrollLimit:e.pageSettings.scrollLimit.charAt(0).toUpperCase()+e.pageSettings.scrollLimit.slice(1),scrollableArea:e.pageSettings.scrollableArea,canAutoScroll:e.enableAutoScroll,autoScrollBorder:e.pageSettings.autoScrollBorder}},r.prototype.setPageSettings=function(t,e){t.pageSettings={width:e.pageSettings.pageWidth,height:e.pageSettings.pageHeight,margin:{left:e.pageSettings.pageMargin,right:e.pageSettings.pageMargin,top:e.pageSettings.pageMargin,bottom:e.pageSettings.pageMargin},orientation:e.pageSettings.pageOrientation.charAt(0).toUpperCase()+e.pageSettings.pageOrientation.slice(1),boundaryConstraints:e.pageSettings.boundaryConstraints.charAt(0).toUpperCase()+e.pageSettings.boundaryConstraints.slice(1),background:{color:e.pageSettings.pageBackgroundColor,source:e.backgroundImage.source,scale:e.backgroundImage.scale,align:e.backgroundImage.align},multiplePage:e.pageSettings.multiplePage,showPageBreaks:e.pageSettings.showPageBreak}},r.prototype.setContextMenu=function(t,e){t.contextMenuSettings={},t.contextMenuSettings.show=e.enableContextMenu,void 0!==e.contextMenu&&(t.contextMenuSettings.showCustomMenuOnly=e.contextMenu.showCustomMenuItemsOnly,t.contextMenuSettings.items=this.getContextMenuItems(e.contextMenu.items))},r.prototype.getContextMenuItems=function(t){for(var e={},i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];e.id=n.name,e.text=n.text,this.items.push(e),t.subItems&&t.subItems.length>0&&this.getContextMenuItems(t.subItems)}return this.items},r.prototype.setTooltip=function(t,e){t.tooltip={content:e.tooltip.templateId,relativeMode:e.tooltip.relativeMode}},r.prototype.setModelLayout=function(t,e){t.layout={fixedNode:e.layout.fixedNode,horizontalSpacing:e.layout.horizontalSpacing,verticalSpacing:e.layout.verticalSpacing,maxIteration:e.layout.maxIteration,springFactor:e.layout.springFactor,springLength:e.layout.springLength,margin:{left:e.layout.margin.left,right:e.layout.margin.right,top:e.layout.margin.top,bottom:e.layout.margin.bottom},horizontalAlignment:e.layout.horizontalAlignment.charAt(0).toUpperCase()+e.layout.horizontalAlignment.slice(1),verticalAlignment:e.layout.verticalAlignment.charAt(0).toUpperCase()+e.layout.verticalAlignment.slice(1),orientation:"rightorbottom"===e.layout.orientation?"RightOrBottom":"LeftOrTop",connectorSegments:e.layout.getConnectorSegments,type:e.layout.type.charAt(0).toUpperCase()+e.layout.type.slice(1),getLayoutInfo:e.layout.getLayoutInfo,bounds:e.layout.bounds,root:e.layout.root},e.layout&&"hierarchicaltree"===e.layout.type&&(t.layout.type="None")},r.prototype.setSelectedItems=function(t,e){t.selectedItems={};var i=[],n=[];if(e.children&&e.children.length>0)for(var s=0;s<e.children.length;s++){var o=e.children[parseInt(s.toString(),10)];o.segments?n.push(o):i.push(o)}t.selectedItems.nodes=i,t.selectedItems.connectors=n,t.selectedItems.offsetX=e.selectedItems.offsetX,t.selectedItems.offsetY=e.selectedItems.offsetY,t.selectedItems.width=e.selectedItems.width,t.selectedItems.height=e.selectedItems.height,t.selectedItems.rotateAngle=e.selectedItems.rotateAngle,t.selectedItems.constraints=this.setSelectorConstraints(e.selectedItems.constraints),t.selectedItems.userHandles=e.selectedItems.userHandles},r.prototype.setSelectorConstraints=function(t){},r.prototype.setDiagramConstraints=function(t){var e=Un.None;return t&Un.UserInteraction&&(e|=Un.UserInteraction),t&Un.ApiUpdate&&(e|=Un.ApiUpdate),t&Un.PageEditable&&(e|=Un.PageEditable),t&Un.LineRouting&&(e|=Un.Bridging),t&Un.Zoom&&(e|=Un.Zoom),t&Un.PanX&&(e|=Un.PanX),t&Un.PanY&&(e|=Un.PanY),t&Un.Pan&&(e|=Un.Pan),t&Un.UndoRedo&&(e|=Un.UndoRedo),t&Un.ZoomTextEdit&&(e|=Un.ZoomTextEdit),e},r.prototype.setDiagramTool=function(t){var e=Do.None;return t&Do.MultipleSelect&&(e|=Do.SingleSelect),t&Do.ZoomPan&&(e|=Do.MultipleSelect),t&Do.DrawOnce&&(e|=Do.ZoomPan),t&Do.ContinuousDraw&&(e|=Do.DrawOnce),t&Do.ContinuousDraw&&(e|=Do.ContinuousDraw),e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"EJ1SerializationModule"},r}(),Gye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ki=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},V4=function(r,t,e,i){return new(e||(e=Promise))(function(n,s){function o(h){try{l(i.next(h))}catch(c){s(c)}}function a(h){try{l(i.throw(h))}catch(c){s(c)}}function l(h){h.done?n(h.value):new e(function(c){c(h.value)}).then(o,a)}l((i=i.apply(r,t||[])).next())})},W4=function(r,t){var i,n,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(c){return function l(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(s=2&h[0]?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[2&h[0],s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===h[0]||2===h[0])){e=0;continue}if(3===h[0]&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(6===h[0]&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(c){h=[6,c],n=0}finally{i=s=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,c])}}},_y=function(r){function t(e,i){var n=r.call(this,e,i)||this;n.version=17.1,n.checkMenu=!1,n.isServerUpdate=!1,n.oldNodeObjects=[],n.oldDiagramObject={},n.oldConnectorObjects=[],n.canEnableBlazorObject=!1,n.connectorTable={},n.groupTable={},n.scrollActions=jd.None,n.blazorActions=Rr.Default,n.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},n.textEditing=!1,n.isTriggerEvent=!1,n.preventNodesUpdate=!1,n.preventConnectorsUpdate=!1,n.callBlazorModel=!0,n.selectionConnectorsList=[],n.deleteVirtualObject=!1,n.canLayout=!0,n.isRefreshed=!1,n.swimlaneChildTable={},n.swimlaneZIndexTable={},n.canExpand=!1,n.changedConnectorCollection=[],n.changedNodesCollection=[],n.previousNodeCollection=[],n.previousConnectorCollection=[],n.crudDeleteNodes=[],n.previousSelectedObjects=[],n.blazorAddorRemoveCollection=[],n.blazorRemoveIndexCollection=[],n.diagramid=88123,n.portCenterPoint=[],n.selectedObject={helperObject:void 0,actualObject:void 0},n.renderTimer=null;var s,o,l=ge()&&window&&window.Blazor&&!n.dataSourceSettings.dataSource;n.ignoreCollectionWatch=!0;for(var h=0;e&&e.nodes&&h<e.nodes.length;h++)s=e.nodes[parseInt(h.toString(),10)],o=n.nodes[parseInt(h.toString(),10)],s.children&&s.children.length>0&&((!s.style||!s.style.fill)&&(o.style.fill="transparent"),(!s.style||!s.style.strokeColor)&&(o.style.strokeColor="transparent")),s.shape&&"UmlActivity"===s.shape.type&&GL(s,o),s.shape&&"SwimLane"===s.shape.type&&uX(s,o),l&&n.previousNodeCollection.push(rt(o,void 0,void 0,!0)),n.nodeDefaults&&pu(o,s,n.nodeDefaults),n.updateAnnotationText(o.annotations);if(e&&e.connectors)for(h=0;e&&e.connectors&&h<e.connectors.length;h++)s=e.connectors[parseInt(h.toString(),10)],o=n.connectors[parseInt(h.toString(),10)],l&&n.previousConnectorCollection.push(rt(o,void 0,void 0,!0)),n.connectorDefaults&&pu(o,s,n.connectorDefaults),n.updateAnnotationText(o.annotations);for(h=0;e&&e.connectors&&h<e.connectors.length;h++){var c=e.connectors[parseInt(h.toString(),10)],u=n.connectors[parseInt(h.toString(),10)];if(c.shape&&"None"!==c.shape.type&&pX(c,u),ge()){var d=rt(n.bulkChanges);n.enableServerDataBinding(!0),n.protectPropertyChange(!0);for(var p=Object.keys(d),f=0;f<p.length;f++){var m=p[parseInt(f.toString(),10)],M=m.split("-");M&&M[0]&&("nodes"===M[0]&&(d[""+m].sfIndex=Number(M[1]),n.changedNodesCollection.push(d[""+m])),"connectors"===M[0]&&(d[""+m].sfIndex=Number(M[1]),n.changedConnectorCollection.push(d[""+m])))}}}return n}return Gye(t,r),t.prototype.updateAnnotationText=function(e){if(ge()&&e.length>0)for(var i=0;e&&i<e.length;i++){var n=e[parseInt(i.toString(),10)];n.content=n.content.split("\\n").join("\n")}},t.prototype.callFromServer=function(e){var i="methodName";if("getParentID"===e[""+i])return this.nameTable[""+(s=e.id)].parentId;if("getEdges"===e[""+i]){var s=e.id;return e.outEdge?this.nameTable[""+s].outEdges:this.nameTable[""+s].inEdges}if("updateDiagramObjects"===e[""+i]){var c=e.obj;this.isServerUpdate=!0,e.IsAdding?this.add.apply(this,c):this.remove.apply(this,c),this.isServerUpdate=!1}else"invokeLoadDiagramMethod"===e[""+i]&&this.loadDiagram(e.data)},t.prototype.clearCollection=function(e){for(var n,i=[],s=0,o=Object.keys(this.nameTable);s<o.length;s++)(n=this.nameTable[""+o[s]])&&(e&&n instanceof Gt||!e&&n instanceof Et)&&i.push(n);this.clearObjects(i)},t.prototype.onPropertyChanged=function(e,i){if(this.rotateUsingButton)this.rotateUsingButton=!1;else{var n=void 0,s=void 0,o=!0,a=!1,l=!1;if(this.diagramActions&Dt.Render){for(var h=0,c=Object.keys(e);h<c.length;h++)switch(c[h]){case"width":case"height":this.element.style.width=this.getSizeValue(this.width),this.element.style.height=this.getSizeValue(this.height),this.eventHandler.updateViewPortSize(this.element);for(var d=0,p=this.views;d<p.length;d++)(m=this.views[""+(f=p[d])])instanceof t||m.updateView(m);break;case"nodes":if(e.nodes.length>0&&0===i.nodes.length)this.clearCollection(),l=!0;else{for(var M=0,T=Object.keys(e.nodes);M<T.length;M++){var P=T[M],U=Number(P),Y=this.nodes[parseInt(U.toString(),10)],X=e.nodes[parseInt(U.toString(),10)];e.nodes[parseInt(U.toString(),10)].style&&e.nodes[parseInt(U.toString(),10)].style.gradient&&(this.updateGradient(e.nodes[parseInt(U.toString(),10)],i.nodes[parseInt(U.toString(),10)],this.nodes[parseInt(U.toString(),10)]),this.nodes[parseInt(U.toString(),10)].oldGradientValue=rt(e.nodes[parseInt(U.toString(),10)].style.gradient)),a=a||void 0!==X.excludeFromLayout,this.nodePropertyChange(Y,i.nodes[parseInt(U.toString(),10)],X,void 0,!0,!0);var Q={element:Rt(Y),cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),oldValue:Rt(i.nodes[parseInt(U.toString(),10)]),newValue:Rt(e.nodes[parseInt(U.toString(),10)])};ge()&&(Q.element={node:Rt(Y)},Q.oldValue={node:Rt(s)},Q.newValue={node:Rt(n)}),this.triggerEvent(_i.propertyChange,Q),o&&(o=!1)}"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"connectors":if(e.connectors.length>0&&0===i.connectors.length)this.clearCollection(!0),l=!0;else{for(var oe=0,de=Object.keys(e.connectors);oe<de.length;oe++)P=de[oe],U=Number(P),Y=this.connectors[parseInt(U.toString(),10)],(X=e.connectors[parseInt(U.toString(),10)])&&(X.sourceDecorator||X.targetDecorator)&&(this.diagramActions|=Dt.DecoratorPropertyChange),this.connectorPropertyChange(Y,i.connectors[parseInt(U.toString(),10)],X,!0,!0),X&&(X.sourceDecorator||X.targetDecorator)&&(this.diagramActions=this.diagramActions&~Dt.DecoratorPropertyChange),Q={element:Rt(Y),cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),oldValue:Rt(i.connectors[parseInt(U.toString(),10)]),newValue:Rt(e.connectors[parseInt(U.toString(),10)])},ge()&&(Q.element={connector:Rt(Y)},Q.oldValue={connector:Rt(s)},Q.newValue={connector:Rt(n)}),this.triggerEvent(_i.propertyChange,Q),Y&&Y.parentId&&"UmlClassifier"===this.nameTable[Y.parentId].shape.type&&this.updateConnectorEdges(this.nameTable[Y.parentId]||Y),o&&(o=!1);this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"bridgeDirection":this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer();break;case"backgroundColor":this.intOffPageBackground();break;case"pageSettings":this.validatePageSize(),this.updatePage();break;case"selectedItems":if(e.selectedItems.userHandles&&this.selectedItems.wrapper&&this.selectedItems.userHandles&&this.selectedItems.userHandles.length>0){this.renderSelector(!0);break}if(e.selectedItems.constraints){this.renderSelector(!0);break}break;case"snapSettings":this.updateSnapSettings(e);break;case"commandManager":this.initCommands();break;case"layout":a=!0;break;case"segmentThumbShape":this.updateSelector();break;case"dataSourceSettings":this.clear(),"None"===this.layout.type?l=!0:(this.initObjects(),a=!0);break;case"tooltip":sG(this);break;case"rulerSettings":this.updateRulerSettings(e);break;case"layers":this.updateLayer(e);break;case"scrollSettings":this.scrollActions|=jd.PropertyChange,this.updateScrollSettings(e),this.scrollActions&=~jd.PropertyChange,this.scrollSettings.horizontalOffset=-this.scroller.horizontalOffset||0,this.scrollSettings.verticalOffset=-this.scroller.verticalOffset||0;break;case"locale":e.locale!==i.locale&&(this.realActions|=Gs.PreventDataInit,r.prototype.refresh.call(this),this.realActions&=~Gs.PreventDataInit);break;case"contextMenuSettings":if(void 0!==e.contextMenuSettings.showCustomMenuOnly&&(this.contextMenuSettings.showCustomMenuOnly=e.contextMenuSettings.showCustomMenuOnly),void 0!==e.contextMenuSettings.show&&(this.contextMenuSettings.show=e.contextMenuSettings.show),e.contextMenuSettings.items){for(var Me=e.contextMenuSettings.items,Ve=0,Ce=Object.keys(Me);Ve<Ce.length;Ve++)P=Ce[Ve],U=Number(P),this.contextMenuSettings.items[parseInt(U.toString(),10)]=Me[parseInt(U.toString(),10)];this.contextMenuModule&&this.contextMenuModule.refreshItems()}break;case"serializationSettings":void 0!==e.serializationSettings.preventDefaults&&(this.serializationSettings.preventDefaults=e.serializationSettings.preventDefaults)}if(a&&!l){if(i.layout&&"DifferentPoint"===i.layout.connectionPointOrigin&&"SamePoint"===e.layout.connectionPointOrigin||i.layout&&e.layout&&!e.layout.enableRouting&&i.layout.enableRouting){for(var ze=0;ze<this.nodes.length;ze++){var Ie=this.nodes[parseInt(ze.toString(),10)];if(Ie.ports&&Ie.ports.length>0){for(var pe=[],Pe=Ie.ports.length-1;Pe>=0;Pe--)"LineDistribution"===Ie.ports[parseInt(Pe.toString(),10)].id.split("_")[1]&&pe.push(Ie.ports[parseInt(Pe.toString(),10)]);this.removePorts(Ie,pe)}}for(Pe=0;Pe<this.connectors.length;Pe++){var Qe=this.connectors[parseInt(Pe.toString(),10)],Oe=Qe.sourcePortID,Ye=Qe.targetPortID;Qe.sourcePortID="",Qe.targetPortID="",Qe.sourcePortWrapper=void 0,Qe.targetPortWrapper=void 0,Qe.segments=[],this.connectorPropertyChange(Qe,{sourcePortID:Oe,targetPortID:Ye},{sourcePortID:"",targetPortID:""})}}this.doLayout(),this.renderReactTemplates()}if(o&&this.propertyChange&&(Q={element:Rt(this),cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),oldValue:Rt(i),newValue:Rt(e)},ge()&&(Q.element={diagram:Rt(this)},Q.oldValue={diagram:Rt(s)},Q.newValue={diagram:Rt(n)}),this.triggerEvent(_i.propertyChange,Q)),!l&&this.canLogChange()&&this.modelChanged(e,i)){var ut,Xt=[],ni=[];if(e.nodes&&Object.keys(e.nodes).length>0)for(var ui=0,Pi=Object.keys(e.nodes);ui<Pi.length;ui++){P=Pi[ui];var Di=parseInt(P);Xt.push(this.nodes[parseInt(Di.toString(),10)].id)}if(e.connectors&&Object.keys(e.connectors).length>0)for(var Fi=0,Mi=Object.keys(e.connectors);Fi<Mi.length;Fi++){P=Mi[Fi];var hn=parseInt(P);ni.push(this.connectors[parseInt(hn.toString(),10)].id)}ut=Xt.concat(ni),this.historyManager&&this.addHistoryEntry({type:"PropertyChanged",undoObject:i,redoObject:e,category:"Internal"},ut)}this.resetDiagramActions(),l&&(this.initObjects(!0),this.refreshDiagramLayer(),a&&this.doLayout());var Dn=1===Object.keys(e).length&&void 0!==e.scrollSettings;if(!l)for(var st=0,yt=this.views;st<yt.length;st++){var m,f;(f=this.views[""+(m=yt[st])])instanceof t||Dn||this.refreshCanvasDiagramLayer(f)}}}},t.prototype.updateSnapSettings=function(e){(void 0!==e.snapSettings.constraints||e.snapSettings.horizontalGridlines||e.snapSettings.verticalGridlines||e.snapSettings.gridType)&&this.diagramRenderer.updateGrid(this.snapSettings,jb(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.updateGradient=function(e,i,n){if(n.oldGradientValue)for(var s=n,o=n,a=i.style.gradient,l=i.style.gradient,h=0,c=Object.keys(e.style.gradient);h<c.length;h++)switch(c[h]){case"type":s.type&&(a.type=s.type);break;case"x1":s.x1&&(a.x1=s.x1);break;case"x2":s.x2&&(a.x2=s.x2);break;case"y1":s.y1&&(a.y1=s.y1);break;case"y2":s.y2&&(a.y2=s.y2);break;case"cx":o.cx&&(l.cx=o.cx);break;case"cy":o.cy&&(l.cy=o.cy);break;case"fx":o.fx&&(l.fx=o.fx);break;case"fy":o.fy&&(l.fy=o.fy);break;case"r":o.r&&(l.r=o.r);break;case"stops":if(n.oldGradientValue.stops){var d=Object.values(rt(n.oldGradientValue.stops));d.pop(),i.style.gradient.stops=d}}},t.prototype.updateRulerSettings=function(e){void 0!==e.rulerSettings.dynamicGrid&&this.diagramRenderer.updateGrid(this.snapSettings,jb(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),void 0!==e.rulerSettings.showRulers?(this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):(void 0!==e.rulerSettings.horizontalRuler||void 0!==e.rulerSettings.verticalRuler)&&(void 0!==e.rulerSettings.horizontalRuler.thickness||void 0!==e.rulerSettings.verticalRuler.thickness?(c4(this),this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):WL(this)),this.diagramRenderer.updateGrid(this.snapSettings,jb(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){this.initializePrivateVariables(),this.isProtectedOnChange=!0,this.serviceLocator=new mye,this.initializeServices(),this.setCulture();var e="measureElement";window[""+e]&&(window[""+e]=null),this.initDiagram(),this.initViews(),this.unWireEvents(),this.wireEvents(),this.element.classList.add("e-diagram")},t.prototype.initializePrivateVariables=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-diagram").length;this.element.id="diagram_"+this.diagramid+"_"+e}this.defaultLocale={Copy:"Copy",Cut:"Cut",Paste:"Paste",Undo:"Undo",Redo:"Redo",SelectAll:"Select All",Grouping:"Grouping",Group:"Group",UnGroup:"Un Group",Order:"Order",BringToFront:"Bring To Front",MoveForward:"Move Forward",SendToBack:"Send To Back",SendBackward:"Send Backward"},this.layerZIndex=-1,this.layerZIndexTable={},this.nameTable={},this.pathTable={},this.groupTable={},this.commands={},this.isLoading||(this.views=[]),this.commandHandler=new Oye(this),this.eventHandler=new Tye(this,this.commandHandler),this.spatialSearch=new sQ(this.nameTable),this.scroller=new Lye(this),this.modelProperties=new Yye(this)},t.prototype.initializeServices=function(){this.serviceLocator.register("localization",this.localeObj=new Go(this.getModuleName(),this.defaultLocale,this.locale))},t.prototype.setCulture=function(){this.localeObj=new Go(this.getModuleName(),this.defaultLocale,this.locale)},t.prototype.render=function(){this.refreshing&&this.dataSourceSettings.dataSource&&!this.isLoading&&(this.nodes=[],this.connectors=[]),this.refreshing||this.trigger("load",{diagram:this,name:"load"}),this.isRefreshed=!1,this.ignoreCollectionWatch=!0,window.domTable={};var n=[];if(ge()){for(var s=[],o=[],a=0;a<this.changedNodesCollection.length;a++)s.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedNodesCollection[parseInt(a.toString(),10)]));for(a=0;a<this.changedConnectorCollection.length;a++)o.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedConnectorCollection[parseInt(a.toString(),10)]));var l="sfBlazor",h="Blazor",c={nodes:s,connectors:o};if(window&&window[""+h]&&!this.dataSourceSettings.dataSource&&(s.length>0||o.length>0)){var u={methodName:"UpdateBlazorProperties",diagramobj:c};window[""+l].updateBlazorProperties(u,this)}}this.dataSourceSettings.crudAction.read&&this.renderInitialCrud(),this.initHistory(),this.diagramRenderer=new Py(this.element.id,new Gw,"SVG"===this.mode),this.initLayers(),this.initializeDiagramLayers(),this.diagramRenderer.setLayers(),this.initObjects(!0);var d=!1;if(ge()&&!this.dataSourceSettings.dataSource&&"None"!==this.layout.type){for(var p=0,f=this.nodes;p<f.length;p++)this.insertValue(rt(u=f[p]),!0);for(var m=0,M=this.connectors;m<M.length;m++)this.insertValue(rt(u=M[m]),!1);d=!0}var T=this.nodes;for(a=0;a<T.length;a++)T[parseInt(a.toString(),10)].isExpanded||n.push(T[parseInt(a.toString(),10)]);if(n.length)for(a=n.length-1;a>=0;a--)this.commandHandler.expandNode(n[parseInt(a.toString(),10)],this,0!==a);if(this.canLayout&&this.doLayout(),d&&this.commandHandler.getBlazorOldValues(),this.lineRoutingModule){var P=[],U=[],Y=[];if(ge())for(var X=0,Q=this.connectors;X<Q.length;X++)P.push(rt(u=Q[X],void 0,void 0,!0));if(this.connectors.sourceID!==this.connectors.targetID&&this.lineRoutingModule.lineRouting(this),ge()){for(var oe=0,de=this.connectors;oe<de.length;oe++)U.push(rt(u=de[oe],void 0,void 0,!0));this.commandHandler.getObjectChanges(P,U,Y),this.blazorActions&Rr.ClearObject||(l="sfBlazor",h="Blazor",c={nodes:[],connectors:Y},window&&window[""+h]&&(u={methodName:"UpdateBlazorProperties",diagramobj:c},window[""+l].updateBlazorProperties(u,this)))}}this.validatePageSize(),this.renderPageBreaks(),this.diagramRenderer.renderSvgGridlines(this.snapSettings,jb(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.commandHandler.initSelectorWrapper(),this.notify("initial-load",{}),this.trigger("load"),this.scroller.setSize(),this.scroller.updateScrollOffsets(),this.isRefreshed||this.refreshDiagramLayer(),this.refreshDiagramLayer(),(this.scrollSettings.verticalOffset>0||this.scrollSettings.horizontalOffset>0)&&this.updateScrollOffset(),Ue.isDevice&&(this.tool=Do.ZoomPan|Do.SingleSelect),this.notify("initial-end",{}),this.isProtectedOnChange=!1,this.tooltipObject=sG(this),this.diagramActions=Dt.Render,this.initCommands();var Me=document.getElementsByClassName(this.element.id+"_hiddenUserHandleTemplate");(function aye(r,t,e,i){var n,s,o,a,l,u=document.getElementById(i).ej2_instances[0];if(r&&t){n=QX(r);for(var d=0,p=e.userHandles;d<p.length;d++)if(s=p[d],n){for(o=n(rt(s),u,"userHandleTemplate_"+s.name,void 0,void 0,!1),a=0;a<o.length;a++)(l=or("div",{style:"height: 100%; width: 100%; pointer-events: all",id:s.name+"_template_hiddenUserHandle"})).appendChild(o[a]);t[0].appendChild(l)}}else if(ge())for(var M=void 0,T=0,P=e.userHandles;T<P.length;T++)if(!(s=P[T]).pathData&&!s.content&&!s.source){for(a=0,M=(o=wn(s.content))(Rt(s),u,"userHandleTemplate","diagramsf_userHandle_template");a<M.length;a++)(l=or("div",{style:"height: 100%; width: 100%; pointer-events: all",id:s.name+"_template_hiddenUserHandle"})).appendChild(M[a]);t[0].appendChild(l)}})(this.userHandleTemplate,Me,this.selectedItems,this.element.id),ge()&&this.layout&&"None"===this.layout.type&&this.updateTemplate(),this.isLoading=!1,this.renderComplete(),this.updateFitToPage(),this.refreshing&&this.renderReactTemplates()},t.prototype.updateFitToPage=function(){this.pageSettings&&this.pageSettings.fitOptions&&this.pageSettings.fitOptions.canFit&&this.fitToPage(this.pageSettings.fitOptions)},t.prototype.updateTemplate=function(){for(var e,i,n,s=0;s<this.nodes.length;s++)if("HTML"===(e=this.nodes[parseInt(s.toString(),10)]).shape.type||"Native"===e.shape.type){rw("diagramsf_node_template","NodeTemplate",this,!0);break}for(s=0;s<this.nodes.length;s++)if((i=(e=this.nodes[parseInt(s.toString(),10)]).annotations[0])&&"Template"===i.annotationType){rw("diagramsf_annotation_template","AnnotationTemplate",this,!1);break}for(s=0;s<this.connectors.length;s++)if((n=this.connectors[parseInt(s.toString(),10)].annotations[0])&&"Template"===n.annotationType){rw("diagramsf_annotation_template","AnnotationTemplate",this,!1);break}for(s=0;s<this.selectedItems.userHandles.length;s++)if(this.selectedItems.userHandles[parseInt(s.toString(),10)].template){rw("diagramsf_userHandle_template","UserHandleTemplate",this,!1);break}},t.prototype.resetTemplate=function(){for(var e,i,n,s=0;s<this.nodes.length;s++)if("HTML"===(e=this.nodes[parseInt(s.toString(),10)]).shape.type&&""===e.shape.content){__("diagramsf_node_template");break}for(s=0;s<this.nodes.length;s++)if((i=(e=this.nodes[parseInt(s.toString(),10)]).annotations[0])&&"Template"===i.annotationType&&i.content instanceof HTMLElement){__("diagramsf_annotation_template");break}for(s=0;s<this.connectors.length;s++)if((n=this.connectors[parseInt(s.toString(),10)].annotations[0])&&"Template"===n.annotationType&&n.content instanceof HTMLElement){__("diagramsf_annotation_template");break}for(s=0;s<this.selectedItems.userHandles.length;s++)if(this.selectedItems.userHandles[parseInt(s.toString(),10)].template){rw("diagramsf_userHandle_template","UserHandleTemplate",this,!1);break}},t.prototype.renderInitialCrud=function(){var i,e=this;e.dataSourceSettings.crudAction.read&&((i=new JS(e.dataSourceSettings.crudAction.read,"GET")).onSuccess=function(n){e.dataSourceSettings.dataManager?e.dataSourceSettings.dataManager=JSON.parse(n):e.dataSourceSettings.dataSource=JSON.parse(n),e.dataBind()},i.send().then()),e.dataSourceSettings.connectionDataSource.crudAction.read&&((i=new JS(e.dataSourceSettings.connectionDataSource.crudAction.read,"GET")).onSuccess=function(s){e.dataSourceSettings.connectionDataSource.dataManager=JSON.parse(s),e.dataBind()},i.send().then())},t.prototype.getModuleName=function(){return"diagram"},t.prototype.getClassName=function(){return"Diagram"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e.push({member:"Bridging",args:[]}),e.push({member:"ConnectorEditingTool",args:[]}),ge()&&e.push({member:"BlazorTooltip",args:[]}),this.constraints&Un.UndoRedo&&e.push({member:"UndoRedo",args:[]}),("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type||this.layout.enableAnimation)&&e.push({member:"LayoutAnimate",args:[]}),this.snapSettings.constraints&&e.push({member:"Snapping",args:[this]}),e.push({member:"EJ1SerializationModule",args:[this]}),e.push({member:"PrintandExport",args:[this]}),this.contextMenuSettings.show&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type)&&e.push({member:"OrganizationalChart",args:[this]}),"ComplexHierarchicalTree"===this.layout.type&&e.push({member:"ComplexHierarchicalTree",args:[]}),"MindMap"===this.layout.type&&e.push({member:"MindMapChart",args:[]}),"RadialTree"===this.layout.type&&e.push({member:"RadialTree",args:[]}),"SymmetricalLayout"===this.layout.type&&e.push({member:"SymmetricalLayout",args:[]}),(this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource||this.dataSourceSettings.crudAction.read||this.dataSourceSettings.connectionDataSource.crudAction.read)&&e.push({member:"DataBinding",args:[]}),this.constraints&Un.LineRouting&&e.push({member:"LineRouting",args:[]}),(this.layout&&"DifferentPoint"===this.layout.connectionPointOrigin||"Linear"===this.layout.arrangement||this.layout.enableRouting)&&e.push({member:"LineDistribution",args:[]}),e},t.prototype.removeUserHandlesTemplate=function(){if(this.selectedItems.userHandles.length)for(var e=0;e<this.selectedItems.userHandles.length;e++)for(var i=0,n=this.views;i<n.length;i++){var s=n[i];Xa(this.selectedItems.userHandles[parseInt(e.toString(),10)].name+"_template_hiddenUserHandle",s)}},t.prototype.destroy=function(){if(clearInterval(this.renderTimer),this.renderTimer=null,this.hRuler&&this.vRuler&&(this.hRuler.destroy(),this.vRuler.destroy()),this.tooltipObject.destroy(),this.droppable.destroy(),this.unWireEvents(),this.notify("destroy",{}),r.prototype.destroy.call(this),this.removeUserHandlesTemplate(),this.clearTemplate(),document.getElementById(this.element.id)){this.element.classList.remove("e-diagram");for(var e=document.getElementsByClassName("e-diagram-tooltip");e.length>0;)e[0].parentNode.removeChild(e[0]);var i=document.getElementById(this.element.id+"content");i&&this.element.removeChild(i);var n="measureElement";if(window[""+n]){window[""+n].usageCount-=1;var s="measureElementCount";window[""+s]--,0===window[""+s]&&(window[""+n].parentNode.removeChild(window[""+n]),window[""+n]=null)}}window.domTable={};for(var a=0;a<this.layers.length;a++)this.layers[parseInt(a.toString(),10)].zIndexTable={};this.diagramActions=void 0},t.prototype.wireEvents=function(){var i=Ue.touchEndEvent,n=Ue.touchMoveEvent,s=Ue.isPointer?"pointerleave":"mouseleave",a="mozilla"===Ue.info.name?Ue.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel";$.add(this.diagramCanvas,Ue.touchStartEvent,this.eventHandler.mouseDown,this.eventHandler),$.add(this.diagramCanvas,n,this.eventHandler.mouseMove,this.eventHandler),$.add(this.diagramCanvas,i,this.eventHandler.mouseUp,this.eventHandler),$.add(this.diagramCanvas,s,this.eventHandler.mouseLeave,this.eventHandler),$.add(this.diagramCanvas,"keydown",this.eventHandler.keyDown,this.eventHandler),$.add(this.diagramCanvas,"keyup",this.eventHandler.keyUp,this.eventHandler),$.add(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick,this.eventHandler),$.add(this.diagramCanvas,"scroll",this.eventHandler.scrolled,this.eventHandler),$.add(this.diagramCanvas,a,this.eventHandler.mouseWheel,this.eventHandler),$.add(window,"resize",this.eventHandler.windowResize,this.eventHandler),this.initDroppables()},t.prototype.unWireEvents=function(){var i=Ue.touchMoveEvent,n=Ue.isPointer?"pointerleave":"mouseleave",o="mozilla"===Ue.info.name?Ue.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",a=Ue.touchEndEvent;$.remove(this.diagramCanvas,Ue.touchStartEvent,this.eventHandler.mouseDown),$.remove(this.diagramCanvas,i,this.eventHandler.mouseMove),$.remove(this.diagramCanvas,a,this.eventHandler.mouseUp),$.remove(this.diagramCanvas,n,this.eventHandler.mouseLeave),$.remove(this.diagramCanvas,"keydown",this.eventHandler.keyDown),$.remove(this.diagramCanvas,"keyup",this.eventHandler.keyUp),$.remove(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick),$.remove(this.diagramCanvas,"scroll",this.eventHandler.scrolled),$.remove(this.diagramCanvas,o,this.eventHandler.mouseWheel),$.remove(window,"resize",this.eventHandler.windowResize)},t.prototype.select=function(e,i,n){if(ge()){for(var s=0;s<e.length;s++)e[parseInt(s.toString(),10)]=this.nameTable[e[parseInt(s.toString(),10)].id];e=this.nameTable[e.id]||e}null!=e&&this.commandHandler.selectObjects(e,i,n)},t.prototype.getDiagramAction=function(e){var i;return 2===e&&Dt.Render?i="Render":e&Dt.UndoRedo?i="UndoRedo":e&Dt.PublicMethod?i="PublicMethod":e&Dt.ToolAction?i="ToolAction":e&Dt.TextEdit?i="TextEdit":e&Dt.Group?i="Group":e&Dt.Interactions?i="Interactions":e&Dt.PreventHistory?i="PreventHistory":e&Dt.DecoratorPropertyChange?i="DecoratorPropertyChange":e&Dt.PreventZIndexOnDragging?i="PreventZIndexOnDragging":e&Dt.isGroupDragging?i="isGroupDragging":e&Dt.DragUsingMouse&&(i="DragUsingMouse"),i},t.prototype.selectAll=function(){var e;e=this.getObjectsOfLayer(this.activeLayer.objects),this.select(e)},t.prototype.unSelect=function(e){ge()&&(this.commandHandler.oldSelectedObjects=rt(this.selectedItems),e=this.nameTable[e.id]||e),e&&Sa(this,e)&&(this.commandHandler.unSelect(e),this.commandHandler.updateBlazorSelector())},t.prototype.clearSelection=function(){this.commandHandler.clearSelection(!0)},t.prototype.updateViewPort=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.eventHandler.updateViewPortSize(this.element),this.updateBlazorDiagramProperties(e,!0)},t.prototype.cutCommand=function(){this.cut()},t.prototype.cut=function(){this.commandHandler.cut()},t.prototype.addProcess=function(e,i){this.bpmnModule&&this.bpmnModule.addProcess(e,i,this)},t.prototype.removeProcess=function(e){this.bpmnModule&&this.bpmnModule.removeProcess(e,this)},t.prototype.pasteCommand=function(){this.paste()},t.prototype.paste=function(e){this.commandHandler.paste(e)},t.prototype.fitToPage=function(e){var i=this.getZoomingAttribute();this.updateBlazorDiagramProperties(i),this.scroller.fitToPage(e),this.updateBlazorDiagramProperties(i,!0)},t.prototype.bringIntoView=function(e){var i=this.getZoomingAttribute();this.updateBlazorDiagramProperties(i),this.scroller.bringIntoView(e,!0),this.updateBlazorDiagramProperties(i,!0)},t.prototype.bringToCenter=function(e){var i=this.getZoomingAttribute();this.updateBlazorDiagramProperties(i),this.scroller.bringToCenter(e),this.updateBlazorDiagramProperties(i,!0)},t.prototype.copyCommand=function(){this.copy()},t.prototype.copy=function(){return this.commandHandler.copy()},t.prototype.group=function(){this.selectedItems.nodes.concat(this.selectedItems.connectors).length>1&&(this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.group(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues())},t.prototype.unGroup=function(){this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.unGroup(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues()},t.prototype.sendToBack=function(){this.commandHandler.sendToBack()},t.prototype.setActiveLayer=function(e){var i=this.commandHandler.getLayer(e);this.activeLayer=i},t.prototype.addLayer=function(e,i){this.commandHandler.addLayer(e,i)},t.prototype.addDiagramLayer=function(e,i){this.commandHandler.addLayer(e,i,!1)},t.prototype.removeLayer=function(e){this.commandHandler.removeLayer(e,ge())},t.prototype.removeDiagramLayer=function(e){this.commandHandler.removeLayer(e,!1)},t.prototype.moveObjects=function(e,i){var n=rt(this.layers);this.enableServerDataBinding(!1),this.commandHandler.moveObjects(e,i);var s=this.commandHandler.deepDiffer.map(n,rt(this.layers)),o=this.commandHandler.deepDiffer.frameObject({},s);this.oldDiagramObject={layers:o},this.commandHandler.updateBlazorProperties()},t.prototype.layerObjectUpdate=function(){if(ge()){this.enableServerDataBinding(!1),this.oldDiagramObject.layers=[];for(var e=0;e<this.layers.length;e++){var i=rt(this.layers[parseInt(e.toString(),10)]);i.sfIndex=this.layers[parseInt(e.toString(),10)].zIndex,this.oldDiagramObject.layers.push(i)}}},t.prototype.sendLayerBackward=function(e){this.layerObjectUpdate(),this.commandHandler.sendLayerBackward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject,!0)},t.prototype.bringLayerForward=function(e){this.layerObjectUpdate(),this.commandHandler.bringLayerForward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject)},t.prototype.cloneLayer=function(e){this.commandHandler.cloneLayer(e)},t.prototype.bringToFront=function(){this.commandHandler.bringToFront()},t.prototype.moveForward=function(){this.commandHandler.sendForward()},t.prototype.sendBackward=function(){this.commandHandler.sendBackward()},t.prototype.getObject=function(e){return this.nameTable[""+e]},t.prototype.getNodeObject=function(e){return rt(this.nameTable[""+e])},t.prototype.getConnectorObject=function(e){return rt(this.nameTable[""+e])},t.prototype.getActiveLayer=function(){return this.activeLayer},t.prototype.nudgeCommand=function(e,i,n){if("object"!=typeof e&&(this.selectedItems.nodes.length||this.selectedItems.connectors.length)>0){var s=void 0;i.type&&"KEYDOWN"===i.type&&(s=i.type),this.nudge(e,void 0,void 0,s)}},t.prototype.nudge=function(e,i,n,s){var o=0,a=0;"Left"===e||"Right"===e?o=("Left"===e?-1:1)*(i||1):a=("Up"===e?-1:1)*(n||1),"KEYDOWN"===s&&(o*=5,a*=5);var h=this.selectedItems,c=this.selectedItems.wrapper.children[0];if(c instanceof Qr)this.commandHandler.labelDrag(h.nodes[0],c,o,a);else{var u=rt(this.selectedItems);this.protectPropertyChange(!0),this.drag(h,o,a),this.protectPropertyChange(!1);var d={type:"PositionChanged",redoObject:rt(this.selectedItems),undoObject:u,category:"Internal"};this.addHistoryEntry(d)}this.refreshCanvasLayers()},t.prototype.insertBlazorDiagramObjects=function(e){if(ge()&&!(this.blazorActions&Rr.interaction)){if(this.enableServerDataBinding(!1),e instanceof Pr){for(var i=0;i<e.nodes.length;i++)this.insertBlazorDiagramObjects(e.nodes[parseInt(i.toString(),10)]);for(i=0;i<e.connectors.length;i++)this.insertBlazorDiagramObjects(e.connectors[parseInt(i.toString(),10)])}if(!(e instanceof Pr)){if(e&&e.children&&e.children.length>0)for(i=0;i<e.children.length;i++)this.insertBlazorDiagramObjects(this.nameTable[e.children[parseInt(i.toString(),10)]]);var n=rt(this.nameTable[e.id]);this.insertValue(n,os(e)!==Gt)}}},t.prototype.drag=function(e,i,n){if(this.insertBlazorDiagramObjects(e),ge()&&e.id&&(e=this.nameTable[e.id]||e),!(this.bpmnModule&&e instanceof Et&&this.bpmnModule.updateAnnotationDrag(e,this,i,n))){if(e instanceof Pr){if(this.preventConnectorsUpdate=!0,e.nodes&&e.nodes.length){for(var o=0,a=e.nodes;o<a.length;o++){var l=a[o];if(this.callBlazorModel=!1,this.drag(l,i,n),l.parentId){var h=this.nameTable[l.parentId];h.isLane&&oD(h,this.nameTable[h.parentId],l,this)}}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var u=0,d=e.connectors;u<d.length;u++){var p=d[u];this.drag(p,i,n),-1===this.selectionConnectorsList.indexOf(p)&&this.selectionConnectorsList.push(p)}this.callBlazorModel=!0}this.updateSelector(),this.diagramActions&Dt.DragUsingMouse&&this.updatePage()}else e instanceof Et&&this.bpmnModule&&this.bpmnModule.updateAnnotationDrag(e,this,i,n),this.commandHandler.drag(e,i,n);if(e instanceof Pr){this.preventConnectorsUpdate=!1;for(var f=0,m=this.selectionConnectorsList;f<m.length;f++){var M=m[f];this.updateConnectorProperties(this.nameTable[M.id]),"Bpmn"===M.shape.type&&"Default"===M.shape.sequence&&"Sequence"===M.shape.flow&&this.commandHandler.updatePathElementOffset(M)}this.selectionConnectorsList=[]}this.callBlazorModel&&!(this.blazorActions&Rr.interaction)&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&this.commandHandler.getBlazorOldValues()}},t.prototype.disableStackContainerPadding=function(e,i){if(e instanceof w4&&(e.considerPadding=i),e.children)for(var n=0,s=e.children;n<s.length;n++)this.disableStackContainerPadding(s[n],!1)},t.prototype.scale=function(e,i,n,s){this.disableStackContainerPadding(e.wrapper,!1),this.insertBlazorDiagramObjects(e);var o=!0;if(e.id&&(e=this.nameTable[e.id]||e),e instanceof Pr){if(e.nodes&&e.nodes.length){this.callBlazorModel=!1;for(var a=0,l=e.nodes;a<l.length;a++){var h=l[a];o=this.commandHandler.scale(h,i,n,s,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(h,1/i,1/n,s,e)}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var c=0,u=e.connectors;c<u.length;c++){var d=u[c];this.commandHandler.scale(d,i,n,s,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(d,1/i,1/n,s,e)}this.callBlazorModel=!0}vD(this,this.selectedItems)||this.updateSelector(),this.refreshCanvasLayers()}else this.commandHandler.scale(e,i,n,s,e.children?e:void 0);return this.callBlazorModel&&!(this.blazorActions&Rr.interaction)&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&this.commandHandler.getBlazorOldValues(),this.disableStackContainerPadding(e.wrapper,!0),o},t.prototype.rotate=function(e,i,n,s){var o,d,a=[];if(!s){if((o=rt(e)).nodes&&o.nodes.length>0&&o.nodes[0].children){this.fromUndo||(this.rotateUsingButton=!0);for(var h=this.commandHandler.getAllDescendants(o.nodes[0],[]),c=0;c<h.length;c++){var u=this.commandHandler.cloneChild(h[parseInt(c.toString(),10)].id);a[h[parseInt(c.toString(),10)].id]=rt(u)}}i<0&&(i=(i+360)%360)}if(this.insertBlazorDiagramObjects(e),e.id&&(e=this.nameTable[e.id]||e),e)if(n=n||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof Pr){this.callBlazorModel=!1,e.rotateAngle+=i,e.wrapper.rotateAngle+=i;var p=Fo(e.wrapper);if(!(d=this.commandHandler.checkBoundaryConstraints(void 0,void 0,p)))return e.rotateAngle-=i,e.wrapper.rotateAngle-=i,d;var f=[];f=(f=f.concat(e.nodes)).concat(e.connectors),this.commandHandler.rotateObjects(e,f,i,n),this.callBlazorModel=!0}else this.commandHandler.rotateObjects(e,[e],i,n);if(this.callBlazorModel&&!(this.blazorActions&Rr.interaction)&&this.commandHandler.getBlazorOldValues(),!s&&!this.fromUndo&&o.nodes&&o.nodes.length>0&&o.nodes[0].children){var m={type:"RotationChanged",redoObject:rt(e),undoObject:rt(o),category:"Internal",childTable:a};this.commandHandler.addHistoryEntry(m),this.commandHandler.updateSelector()}return d},t.prototype.dragSourceEnd=function(e,i,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragSourceEnd(e,i,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.dragTargetEnd=function(e,i,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragTargetEnd(e,i,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.findObjectsUnderMouse=function(e,i){return this.eventHandler.findObjectsUnderMouse(e,i)},t.prototype.findObjectUnderMouse=function(e,i,n){return this.eventHandler.findObjectUnderMouse(e,i,n)},t.prototype.findTargetObjectUnderMouse=function(e,i,n,s,o){return this.eventHandler.findTargetUnderMouse(e,i,n,s,o)},t.prototype.findElementUnderMouse=function(e,i,n){return this.eventHandler.findElementUnderMouse(e,i,n)},t.prototype.findActionToBeDone=function(e,i,n,s){return this.eventHandler.findActionToBeDone(e,i,n,s)},t.prototype.updateConnectorPort=function(e){if(e.ports.length)for(var i=void 0,n=0,s=e.ports;n<s.length;n++){var o=s[n];i=this.getWrapper(e.wrapper,o.id),e.initPortWrapper(o,e.intermediatePoints,e.wrapper.bounds,i)}e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.getTool=function(e){var i,n=ho(this.getCustomTool);return n&&(i=n(e))?i:this.eventHandler.getTool(e)},t.prototype.getCursor=function(e,i){var n,s=ho(this.getCustomCursor);if(s&&(n=s(e,i)))return n;if(this.customCursor.length)for(var o=0;o<this.customCursor.length;o++)if(this.customCursor[parseInt(o.toString(),10)].action===e)return this.customCursor[parseInt(o.toString(),10)].cursor;return this.eventHandler.getCursor(e)},t.prototype.initHistory=function(){this.undoRedoModule&&this.undoRedoModule.initHistory(this)},t.prototype.addHistoryEntry=function(e,i){if(this.undoRedoModule&&this.constraints&Un.UndoRedo&&(!this.currentSymbol||this.checkCurrentSymbol(this.currentSymbol,e))){if(e.undoObject&&"helper"===e.undoObject.id)return;this.undoRedoModule.addHistoryEntry(e,this),"StartGroup"!==e.type&&"EndGroup"!==e.type&&this.historyChangeTrigger(e,"CustomAction",i)}},t.prototype.checkCurrentSymbol=function(e,i){var n=!1;if(i.undoObject&&i.redoObject){var s=i.undoObject,o=i.undoObject;return o.id&&s.id&&o.id!==e.id&&s.id!==e.id?n=!0:n}return n},t.prototype.addCustomHistoryEntry=function(e){ge()&&this.undoRedoModule&&this.constraints&Un.UndoRedo&&(e.type=void 0,e.category="External",this.undoRedoModule.addHistoryEntry(e,this))},t.prototype.historyChangeTrigger=function(e,i,n){var s={},o="oldValue",a="newValue",c=[];if("Internal"===e.category){switch(e&&e.redoObject&&e.redoObject.nodes instanceof Array&&e.redoObject.connectors instanceof Array?c=e.redoObject.nodes.concat(e.redoObject.connectors):e.redoObject&&c.push(e.redoObject),s.type=e.type,ge()&&(s.entryType=e.type),e.type){case"PositionChanged":case"ConnectionChanged":s[""+o]={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},s[""+a]={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY};break;case"RotationChanged":s[""+o]={rotateAngle:e.undoObject.rotateAngle},s[""+a]={rotateAngle:e.redoObject.rotateAngle};break;case"SizeChanged":s[""+o]={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY,width:e.undoObject.width,height:e.undoObject.height},s[""+a]={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY,width:e.redoObject.width,height:e.redoObject.height};break;case"CollectionChanged":s[e.changeType]=c}var u=void 0,d=[],p=[];if(void 0===n&&"PropertyChanged"===e.type){for(var f=0;f<Object.keys(e.undoObject).length;f++)if("nodes"===Object.keys(e.undoObject)[parseInt(f.toString(),10)])for(var m=0,M=Object.keys(e.undoObject.nodes);m<M.length;m++){var T=M[m],P=parseInt(T);d.push(this.nodes[parseInt(P.toString(),10)].id)}for(f=0;f<Object.keys(e.undoObject).length;f++)if("connectors"===Object.keys(e.undoObject)[parseInt(f.toString(),10)])for(var U=0,Y=Object.keys(e.undoObject.connectors);U<Y.length;U++)T=Y[U],P=parseInt(T),p.push(this.connectors[parseInt(P.toString(),10)].id);n=d.concat(p)}if(u={cause:e.category,source:Rt(c),change:Rt(s),action:i,sourceId:n},ge()){var X=(u={cause:e.category,change:Rt(s),source:{connectors:void 0,nodes:void 0},action:i}).source;X.connectors=[],X.nodes=[];var Q=void 0;for(f=0;f<c.length;f++)Q=Rt(c[parseInt(f.toString(),10)]),os(c[parseInt(f.toString(),10)])===Gt?X.connectors.push(Q):X.nodes.push(Q);u.source=X}c.length&&this.triggerEvent(_i.historyChange,u)}},t.prototype.startGroupAction=function(){this.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"StartGroup",category:"Internal"})},t.prototype.endGroupAction=function(){this.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"EndGroup",category:"Internal"})},t.prototype.undo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&Un.UndoRedo&&this.undoRedoModule.undo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.redo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&Un.UndoRedo&&this.undoRedoModule.redo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.getBlazorDiagramObjects=function(e){if(e)for(var i=0;i<e.length;i++)this.insertBlazorDiagramObjects(e[parseInt(i.toString(),10)]);else this.insertBlazorDiagramObjects(this.selectedItems);this.callBlazorModel=!1,this.canEnableBlazorObject=!0},t.prototype.align=function(e,i,n){this.getBlazorDiagramObjects(i),i||(i=(i=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Dt.PublicMethod,this.commandHandler.align(i,e,n||"Object"),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.distribute=function(e,i){this.getBlazorDiagramObjects(i),i||(i=(i=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Dt.PublicMethod,this.commandHandler.distribute(i,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.sameSize=function(e,i){this.getBlazorDiagramObjects(i),i||(i=(i=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Dt.PublicMethod,this.commandHandler.sameSize(i,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.updateBlazorDiagramProperties=function(e,i){if(ge()&&!i){var n=this.allowServerDataBinding;this.enableServerDataBinding(!0);for(var s=0;s<e.length;s++)this.oldDiagramObject[e[parseInt(s.toString(),10)]]=rt(this[e[parseInt(s.toString(),10)]]);this.enableServerDataBinding(n)}i&&this.commandHandler.getDiagramOldValues(this.oldDiagramObject,e)},t.prototype.getZoomingAttribute=function(){var e=[];return e.push("scrollSettings"),e.push("snapSettings"),e},t.prototype.zoom=function(e,i){var n=this.getZoomingAttribute();this.updateBlazorDiagramProperties(n),this.scroller.zoom(e,0,0,i),this.blazorActions&Rr.interaction||this.updateBlazorDiagramProperties(n,!0)},t.prototype.zoomTo=function(e){var i=this.getZoomingAttribute();this.updateBlazorDiagramProperties(i);var n=e.zoomFactor?e.zoomFactor:.2;this.scroller.zoom(n="ZoomOut"===e.type?1/(1+n):1+n,0,0,e.focusPoint),this.updateBlazorDiagramProperties(i,!0)},t.prototype.pan=function(e,i,n,s){var o=this.getZoomingAttribute();this.updateBlazorDiagramProperties(o),this.setCursor("grabbing"),this.scroller.zoom(1,e,i,n,s),this.updateBlazorDiagramProperties(o,!0)},t.prototype.reset=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.scroller.zoom(1/this.scroller.currentZoom,-this.scroller.horizontalOffset,-this.scroller.verticalOffset,{x:0,y:0}),this.updateBlazorDiagramProperties(e,!0)},t.prototype.resetSegments=function(){var e=[],i=[],n=[];if(ge())for(var s=0,o=this.connectors;s<o.length;s++)e.push(rt(a=o[s],void 0,void 0,!0));if(this.constraints&Un.LineRouting&&this.lineRoutingModule)this.lineRoutingModule.lineRouting(this);else{this.protectPropertyChange(!0);for(var l=void 0,h=0;h<this.connectors.length;h++)(l=this.connectors[parseInt(h.toString(),10)]).segments=[],this.connectorPropertyChange(l,{},{segments:l.segments});this.protectPropertyChange(!1)}if(ge()){for(var c=0,u=this.connectors;c<u.length;c++)i.push(rt(a=u[c],void 0,void 0,!0));if(this.commandHandler.getObjectChanges(e,i,n),window&&window.Blazor){var a={methodName:"UpdateBlazorProperties",diagramobj:{nodes:[],connectors:n}};window.sfBlazor.updateBlazorProperties(a,this)}}},t.prototype.setBlazorDiagramProps=function(e){var i=this.getZoomingAttribute();e?this.updateBlazorDiagramProperties(i):this.updateBlazorDiagramProperties(i,!0)},t.prototype.triggerEvent=function(e,i){return V4(this,void 0,void 0,function(){var n;return W4(this,function(s){switch(s.label){case 0:return i&&this.updateEventValue(i),[4,this.trigger(_i[""+e],i)];case 1:return n=s.sent(),ge()&&"string"==typeof n&&(n=JSON.parse(n)),[2,n]}})})},t.prototype.updateEventValue=function(e){var i=e.element;e.element&&i instanceof Pr&&i.nodes.length+i.connectors.length===1&&(e.element=1===i.nodes.length?i.nodes[0]:i.connectors[0])},t.prototype.addNodeToLane=function(e,i,n){if(this.nameTable[""+i]){var s=this.nameTable[""+i];if(this.protectPropertyChange(!0),this.undoRedoModule&&this.historyManager.startGroupAction(),this.nameTable[e.id]||(e.offsetX=s.wrapper.bounds.width+s.wrapper.bounds.x,e.offsetY=s.wrapper.bounds.height+s.wrapper.bounds.y,e=this.add(e)),e.parentId="",s.shape.phases.length)for(var a=0;a<s.shape.phases.length;a++){var o;if(this.nameTable[""+(o=i+n+a)]&&this.nameTable[""+o].isLane){var l=this.nameTable[""+o].wrapper.bounds,h={x:l.x+(l.x-s.wrapper.bounds.x+e.margin.left+e.wrapper.bounds.width/2),y:l.y+s.wrapper.bounds.y-e.margin.top};if("Horizontal"===s.shape.orientation?h.y=l.y:(h.x=l.x,h.y=l.y+(s.wrapper.bounds.y-this.nameTable[this.nameTable[""+o].parentId+s.shape.lanes[0].id+"_0_header"].wrapper.bounds.height+e.margin.top+e.wrapper.bounds.height/2)),l.containsPoint(h)||o===i+n+(s.shape.phases.length-1)){sD(this,this.nameTable[""+o],e,void 0,!0),oD(this.nameTable[""+o],s,e,this);break}}}else this.nameTable[o=i+n+"0"]&&(sD(this,this.nameTable[""+o],e,void 0,!0),oD(this.nameTable[""+o],s,e,this));this.undoRedoModule&&this.historyManager.endGroupAction(),this.protectPropertyChange(!1)}this.updateDiagramElementQuad()},t.prototype.showTooltip=function(e){e&&e.id&&!e.wrapper&&(e=this.nameTable[e.id]);var i=Fo(e.wrapper),s=e.tooltip.content?e.tooltip.content:"X:"+Math.round(i.x)+" Y:"+Math.round(i.y);e&&"Custom"===e.tooltip.openOn&&this.commandHandler.showTooltip(e,e instanceof Et?{x:e.offsetX+e.width/2,y:e.offsetY+e.height/2}:{x:e.targetPoint.x,y:e.targetPoint.x},s,"SelectTool",!0)},t.prototype.hideTooltip=function(e){e&&"Custom"===e.tooltip.openOn&&this.tooltipObject.close()},t.prototype.addNode=function(e,i){return this.add(e,i)},t.prototype.addChildToGroup=function(e,i){var n=this.allowServerDataBinding;this.enableServerDataBinding(!1);var s=this.isProtectedOnChange;this.protectPropertyChange(!0),e=this.getObject(e.id),ge()&&this.insertValue(e,!0);var o=!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.Group||this.diagramActions&Dt.PreventHistory);o&&this.startGroupAction();var a=this.addChild(e,i);if(o){var l={};l[""+a]=rt(this.getObject(a));var h={type:"AddChildToGroupNode",changeType:"Insert",undoObject:rt(e),redoObject:rt(e),category:"Internal",objectId:a,childTable:l};this.addHistoryEntry(h),this.endGroupAction()}this.protectPropertyChange(s),this.enableServerDataBinding(n),this.updateSelector(),ge()&&o&&this.commandHandler.getBlazorOldValues()},t.prototype.getHistoryStack=function(e){var i=[],n=e?this.historyManager.undoStack:this.historyManager.redoStack;if(void 0!==this.historyManager.stackLimit){for(var s=n.length-1;s>=0;s--)if(i.push(n[parseInt(s.toString(),10)]),i.length>this.historyManager.stackLimit)return i}else i=n;return i},t.prototype.getEdges=function(e){return e.outEdge?this.nameTable[e.id].outEdges:this.nameTable[e.id].inEdges},t.prototype.getParentId=function(e){return this.nameTable[""+e].parentId},t.prototype.addConnector=function(e){return this.add(e)},t.prototype.UpdateBlazorDiagramModelCollection=function(e,i,n,s){if(!(this.blazorActions&Rr.ClearObject)&&window&&window.Blazor){var l=void 0,h=[],c=[],u=[],d=[];if(s&&!i)for(var p=0;p<this.blazorAddorRemoveCollection.length;p++)u.push(os(this.blazorAddorRemoveCollection[parseInt(p.toString(),10)])===Gt?"Connector":"Node"),l=Rt(this.blazorAddorRemoveCollection[parseInt(p.toString(),10)]),c.push(l),d=this.blazorRemoveIndexCollection;else if(!this.isServerUpdate||n){this.isServerUpdate=!0;var f=Rt(e),M=void 0,T=[];if(!i){for(T=n||this.commandHandler.getChildren(e,[]),p=0;p<T.length;p++)f=Rt(T[parseInt(p.toString(),10)]),c.push(f),M=os(T[parseInt(p.toString(),10)])===Gt?this.connectors.indexOf(T[parseInt(p.toString(),10)]):this.nodes.indexOf(T[parseInt(p.toString(),10)]),d.push(M),u.push(os(T[parseInt(p.toString(),10)])===Gt?"Connector":"Node");n||(c.push(Rt(e)),d.push(this.nodes.indexOf(e)),u.push(os(e)===Gt?"Connector":"Node"))}if(i&&i.length>0)for(p=0;p<i.length;p++)f=Rt(i[parseInt(p.toString(),10)]),i[parseInt(p.toString(),10)]instanceof Et?c.push(f):h.push(f),u.push(os(i[parseInt(p.toString(),10)])===Gt?"Connector":"Node");this.isServerUpdate=!1}var U={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(c),ObjectType:u,removalIndex:i?void 0:d,isMultipleObjects:!0,annotationIndex:void 0,connectorObj:JSON.stringify(h)}};window.sfBlazor.updateBlazorProperties(U,this),s&&!i&&(this.blazorAddorRemoveCollection=[],this.blazorRemoveIndexCollection=[])}},t.prototype.UpdateBlazorDiagramModel=function(e,i,n,s){if(!(this.blazorActions&Rr.GroupClipboardInProcess)&&window&&window.Blazor&&!this.isServerUpdate&&!(this.diagramActions&Dt.Clear)){var l=Rt(e),h={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(l),ObjectType:i,removalIndex:n,isMultipleObjects:!1,annotationIndex:s,connectorObj:void 0}};window.sfBlazor.updateBlazorProperties(h,this)}},t.prototype.UpdateBlazorLabelOrPortObjects=function(e,i,n,s){if(window&&window.Blazor&&e.length>0&&!this.isServerUpdate&&!(this.diagramActions&Dt.Clear)){for(var l=[],h=[],c=[],u=0;u<e.length;u++)l.push(Rt(e[parseInt(u.toString(),10)])),h.push(i),c.push(s);var d={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(l),ObjectType:h,removalIndex:n,isMultipleObjects:!0,annotationIndex:c,connectorObj:null,portIndex:"Port"===i?c:[]}};window.sfBlazor.updateBlazorProperties(d,this)}},t.prototype.addBlazorDiagramObjects=function(){var e=[],i=[];if(this.dataBindingModule&&!(this.realActions&Gs.PreventDataInit)){for(var n=0;n<this.nodes.length;n++)e.push(rt(this.nodes[parseInt(n.toString(),10)],void 0,void 0,!0));for(n=0;n<this.connectors.length;n++)i.push(rt(this.connectors[parseInt(n.toString(),10)],void 0,void 0,!0))}var s="sfBlazor";if(window&&window.Blazor){var a={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(e),isConnector:!1}};window[""+s].updateBlazorProperties(a,this),a={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(i),isConnector:!0}},window[""+s].updateBlazorProperties(a,this)}},t.prototype.removeNodeEdges=function(e,i,n){var s=this.nameTable[""+e],o=n?s.outEdges:s.inEdges;if(o.length>0)for(var a=0;a<o.length;a++)o[parseInt(a.toString(),10)]===i&&o.splice(a,1)},t.prototype.insertBlazorConnector=function(e){ge()&&e instanceof Gt&&(e.sourceID&&this.nameTable[e.sourceID]&&this.insertValue(rt(this.nameTable[e.sourceID]),!0),e.targetID&&this.nameTable[e.targetID]&&this.insertValue(rt(this.nameTable[e.targetID]),!0))},t.prototype.add=function(e,i){var n,s=this.isProtectedOnChange;if(this.protectPropertyChange(!0),e){var o=void 0;if(o={element:e=rt(e),cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),state:"Changing",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),ge()&&(o=qL(o,e,"Changing","Addition")),"helper"!==e.id&&!(this.diagramActions&Dt.PreventCollectionChangeOnDragOver)&&this.triggerEvent(_i.collectionChange,o),o.cancel&&this.drawingObject){this.removeElements(o.element),this.tooltipObject.close();var a=this.getObject(o.element.sourceID),l=void 0;if(os(o.element)===Gt){if(o.element.sourceID&&(this.removeNodeEdges(o.element.sourceID,o.element.id,!0),a.ports.length>0)){for(var h=0;h<a.ports.length;h++){var c=a.ports[parseInt(h.toString(),10)];c.id===o.element.sourcePortID&&(l=!(c.outEdges.length>0))}this.removePortEdges(a,o.element.sourcePortID,o.element.id,l)}o.element.targetID&&this.removeNodeEdges(o.element.targetID,o.element.id,!1)}}this.diagramActions=this.diagramActions|Dt.PublicMethod,e.id=e.id||kn();var u=this.activeLayer;if(!o.cancel&&!u.lock){if(u.objects.indexOf(e.id)<0&&!u.lock&&(u.visible||(u.visible=!0,this.dataBind()),u.objects.push(e.id)),os(e)===Gt)(n=new Gt(this,"connectors",e,!0)).status="New",pu(n,e,this.connectorDefaults),this.connectors.push(n),this.initObject(n),ge()&&(this.blazorActions&Rr.GroupingInProgress?this.blazorAddorRemoveCollection.push(n):this.blazorAddorRemoveCollection.length>0?(this.isServerUpdate=!1,this.blazorAddorRemoveCollection.push(n),this.UpdateBlazorDiagramModelCollection(void 0,this.blazorAddorRemoveCollection,void 0,!0),this.blazorAddorRemoveCollection=[],this.commandHandler.getBlazorOldValues()):!this.isServerUpdate&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&(this.UpdateBlazorDiagramModel(n,"Connector"),this.commandHandler.getBlazorOldValues())),!1===e.visible&&this.updateElementVisibility(n.wrapper,n,e.visible),this.updateEdges(n),this.insertBlazorConnector(n);else{if(pu(n=new Et(this,"nodes",e,!0),e,this.nodeDefaults),n.parentId=e.parentId?e.parentId:n.parentId,n.umlIndex=e.umlIndex,n.status="New",this.nodes.push(n),this.initObject(n,u,void 0,i),ge()&&(this.blazorActions&Rr.GroupingInProgress?this.blazorAddorRemoveCollection.push(n):this.blazorAddorRemoveCollection.length>0?(this.blazorAddorRemoveCollection.push(n),this.isServerUpdate=!1,this.UpdateBlazorDiagramModelCollection(void 0,this.blazorAddorRemoveCollection,void 0,!0),this.commandHandler.getBlazorOldValues(),this.blazorAddorRemoveCollection=[]):!this.isServerUpdate&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&(this.UpdateBlazorDiagramModel(n,"Node"),this.commandHandler.getBlazorOldValues())),this.updateTemplate(),this.bpmnModule){if(n.shape.annotations&&0!==n.shape.annotations.length)for(var d=0,p=this.bpmnModule.getTextAnnotationConn(n);d<p.length;d++)this.initConnectors(p[d],u,!1);n.shape.activity&&n.shape.activity.subProcess.processes&&n.shape.activity.subProcess.processes.length&&this.bpmnModule.updateDocks(n,this)}if(this.lineRoutingModule&&this.constraints&Un.LineRouting){var m=this.spatialSearch.findObjects(n.wrapper.outerBounds);for(h=0;h<m.length;h++){var M=m[parseInt(h.toString(),10)];M instanceof Gt&&this.connectorPropertyChange(M,{},{sourceID:M.sourceID,targetID:M.targetID,sourcePortID:M.sourcePortID,targetPortID:M.targetPortID,sourcePoint:M.sourcePoint,targetPoint:M.targetPoint})}}if(n.umlIndex>-1&&e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type){var T=this.nameTable[e.parentId];T.children.splice(n.umlIndex,0,n.id),T.wrapper.children.splice(n.umlIndex,0,n.wrapper),T.wrapper.measure(new pi),T.wrapper.arrange(T.wrapper.desiredSize),this.updateDiagramObject(T)}}if(o={element:n,cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),state:"Changed",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),ge()&&(o=qL(o,e,"Changed","Addition")),"helper"!==e.id&&!(this.diagramActions&Dt.PreventCollectionChangeOnDragOver)&&this.triggerEvent(_i.collectionChange,o),!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.Group||this.diagramActions&Dt.PreventHistory)){var P={type:"CollectionChanged",changeType:"Insert",undoObject:rt(e),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(P)}this.parentObject=void 0,"SVG"===this.mode&&(this.updateSvgNodes(n),this.updateTextElementValue(n),this.updateDiagramObject(n),n.shape.activity&&n.shape.activity.subProcess.processes&&n.shape.activity.subProcess.processes.length&&this.updateProcesses(n),this.updateBridging())}}this.protectPropertyChange(s),this.resetDiagramActions(Dt.PublicMethod),n&&this.layers.length>1&&this.moveNode(n);for(var U=0,Y=this.views;U<Y.length;U++){var Q=this.views[""+Y[U]];Q instanceof t||this.refreshCanvasDiagramLayer(Q)}return this.renderReactTemplates(),n},t.prototype.updateSvgNodes=function(e){if(e.children)for(var i=0,n=e.children;i<n.length;i++){var s=n[i];if(this.nameTable[""+s]&&this.nameTable[""+s].parentId){var o=es(s+"_groupElement",this.element.id);o&&o.parentNode.removeChild(o)}}},t.prototype.updateProcesses=function(e){if(this.bpmnModule&&e&&e.shape&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length){var i=e.shape.activity.subProcess.processes;this.moveSvgNode(e.id);for(var n=0,s=i;n<s.length;n++){this.moveSvgNode(o=s[n]);for(var a=[],l=(a=a.concat(this.nameTable[""+o].outEdges,this.nameTable[""+o].inEdges)).length-1;l>=0;l--)this.moveSvgNode(a[parseInt(l.toString(),10)])}for(var h=0,c=i;h<c.length;h++){var o;this.nameTable[""+(o=c[h])].shape.activity.subProcess.processes&&this.nameTable[""+o].shape.activity.subProcess.processes.length&&this.updateProcesses(this.nameTable[""+o])}}else this.moveSvgNode(e.id)},t.prototype.moveSvgNode=function(e){var i=es(e+"_groupElement",this.element.id),n=i.parentElement;i.parentNode.removeChild(i),n.appendChild(i)},t.prototype.addTextAnnotation=function(e,i){if(this.bpmnModule){var n=this.bpmnModule.addAnnotation(i,e,this);if(this.initConnectors(n,this.commandHandler.getObjectLayer(i.id),!1),this.updateDiagramObject(i),!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.Group)){var s={type:"CollectionChanged",changeType:"Insert",undoObject:rt(e),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(s)}if(i.parentId){var o=this.nameTable[i.parentId];o&&o.isLane&&(this.nameTable[o.parentId].isTextNode=!0)}}},t.prototype.spliceConnectorEdges=function(e,i){var n=[],s=i?this.nameTable[e.sourceID]:this.nameTable[e.targetID];if(s){for(var o=(n=i?s.outEdges:s.inEdges).length-1;o>=0;o--)n[parseInt(o.toString(),10)]===e.id&&n.splice(o,1);for(var a=0;s.ports&&a<s.ports.length;a++){var l=!i;this.removePortEdges(s,s.ports[parseInt(a.toString(),10)].id,e.id,l)}}},t.prototype.removeDependentConnector=function(e){if(e)for(var i=void 0,n=[],s=(n=n.concat(e.outEdges,e.inEdges)).length-1;s>=0;s--)(i=this.nameTable[n[parseInt(s.toString(),10)]])&&(this.connectorTable[i.id]=rt(i),this.remove(i))},t.prototype.removeObjectsFromLayer=function(e){if(e.children)for(var i=0;i<e.children.length;i++){var n=this.nameTable[e.children[parseInt(i.toString(),10)]];n&&this.removeObjectsFromLayer(n)}var s=this.layers.indexOf(this.commandHandler.getObjectLayer(e.id)),a=this.layers[parseInt(s.toString(),10)].objects.indexOf(e.id);a>-1&&(Sa(this,e)&&this.unSelect(e),this.layers[parseInt(s.toString(),10)].objects.splice(a,1),delete this.layers[parseInt(s.toString(),10)].zIndexTable[this.nameTable[e.id].zIndex])},t.prototype.removeElements=function(e){if("SVG"===this.mode||"Canvas"===this.mode&&"Native"===e.shape.type){var i=es(e.id+"_groupElement",this.element.id),n=e;if(n.ports&&n.ports.length>0)for(var s=0;s<n.ports.length;s++){var o=n.ports[parseInt(s.toString(),10)],a=es(n.id+"_"+o.id+"_groupElement",this.element.id);a&&a.parentNode.removeChild(a)}i&&i.parentNode.removeChild(i)}if(this.refreshCanvasLayers(),e.wrapper){var l=e.wrapper.children,h=void 0;if(l)for(s=0;s<l.length;s++){if(l[parseInt(s.toString(),10)]instanceof fl||l[parseInt(s.toString(),10)].id&&l[parseInt(s.toString(),10)].id.indexOf("icon_content")>0){l[parseInt(s.toString(),10)].id.indexOf("icon_content")>0&&"SVG"===this.mode&&((h=es(l[parseInt(s.toString(),10)].id+"_shape_groupElement",this.element.id))&&h.parentNode.removeChild(h),(h=es(l[parseInt(s.toString(),10)].id+"_rect_groupElement",this.element.id))&&h.parentNode.removeChild(h));for(var c=0,u=this.views;c<u.length;c++){var d=u[c];Xa(l[parseInt(s.toString(),10)].id+"_groupElement",d);var p=this.scroller.removeCollection.indexOf(e.id);this.scroller.removeCollection.splice(p,1)}}else if(l[parseInt(s.toString(),10)]instanceof Sh)for(var f=0,m=this.views;f<m.length;f++){Xa(e.id+"_html_element",d=m[f]),Xa(l[parseInt(s.toString(),10)].id+"_html_element",d);var M=!0,T=this.nameTable[e.parentId];(this.isAngular||this.isReact||this.isVue)&&T&&T.isLane&&(M=!1),M&&this.clearTemplate(["nodeTemplate_"+e.id]),l[parseInt(s.toString(),10)].annotationId&&this.clearTemplate(["annotationTemplate_"+e.id+l[parseInt(s.toString(),10)].annotationId])}bX(l[parseInt(s.toString(),10)].id)}}},t.prototype.removeCommand=function(){this.remove()},t.prototype.remove=function(e){var i=[];i=i.concat(this.selectedItems.nodes,this.selectedItems.connectors);var n,s=!1;if(e){if(this.insertBlazorConnector(e=this.nameTable[e.id]),e&&(qB(e)||this.diagramActions&Dt.Clear)&&(n={element:e,cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),state:"Changing",type:"Removal",cancel:!1},ge()&&(n=qL(n,e,"Changing","Removal")),!(this.diagramActions&Dt.Clear)&&"helper"!==e.id&&this.triggerEvent(_i.collectionChange,n),!n.cancel)){if(qB(e)&&e&&e.shape&&"SwimLane"===e.shape.type&&function ove(r,t){var i,n,s,o,a,l,e=t.wrapper.children[0].rows;for(n=0;n<e.length;n++)for(s=0;s<e[parseInt(n.toString(),10)].cells.length;s++){if((a=sve(e[parseInt(n.toString(),10)].cells[parseInt(s.toString(),10)]))&&a.children)for(o=a.children.length-1;o>=0;o--)a.children[parseInt(o.toString(),10)].children&&(l=r.nameTable[a.children[parseInt(o.toString(),10)].id])&&(l.isLane?rD(r,l):(r.removeDependentConnector(l),r.diagramActions|=Dt.PreventHistory,l.constraints&j.Delete?r.remove(l):YG(r,l,{},!1),r.diagramActions&=~Dt.PreventHistory));a&&(i=r.nameTable[a.id])&&rD(r,i)}}(this,e),this.bpmnModule&&this.bpmnModule.checkAndRemoveAnnotations(e,this))return void this.refreshCanvasLayers();if(!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.PreventHistory)&&(e instanceof Et||e instanceof Gt)){var o={type:"CollectionChanged",changeType:"Remove",undoObject:rt(e),redoObject:rt(e),category:"Internal"};this.diagramActions&Dt.Clear||e.children&&!e.isLane&&!e.isPhase&&e.children.length>0&&this.undoRedoModule&&"None"===this.layout.type&&(this.historyManager.startGroupAction(),s=!0),(e instanceof Et||e instanceof Gt)&&this.removeDependentConnector(e),!e.isLane&&!e.isPhase&&!(this.diagramActions&Dt.Clear)&&!this.isStackChild(e)&&this.addHistoryEntry(o)}e.children&&!e.isLane&&!e.isPhase&&(!ge()||!(this.diagramActions&Dt.UndoRedo))&&this.deleteGroup(e),e.parentId&&(this.deleteChild(e,void 0,!0),this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type&&(this.updateDiagramObject(this.nameTable[e.parentId]),this.updateConnectorEdges(this.nameTable[e.parentId])));var a=void 0;this.diagramActions=this.diagramActions|Dt.PublicMethod;var l=this.nameTable[e.id];if(l instanceof Et?("Bpmn"===l.shape.type&&this.bpmnModule&&this.bpmnModule.removeBpmnProcesses(l,this),(l.isLane||l.isPhase||"SwimLane"===l.shape.type)&&(h=l.isLane||l.isPhase?this.nameTable[l.parentId]:this.nameTable[l.id],l.isLane?UG(this,l,h):l.isPhase&&VG(this,l,h)),a=this.nodes.indexOf(l),ge()&&"helper"!==e.id&&(this.blazorActions&Rr.GroupingInProgress?(this.blazorRemoveIndexCollection.splice(0,0,a),this.blazorAddorRemoveCollection.splice(0,0,e)):this.blazorAddorRemoveCollection.length>0?(this.commandHandler.getBlazorOldValues(),this.blazorRemoveIndexCollection.splice(0,0,a),this.blazorAddorRemoveCollection.splice(0,0,e),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0)):!this.isServerUpdate&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&this.UpdateBlazorDiagramModel(e,"Node",a)),-1!==a&&(this.crudDeleteNodes.push(this.nameTable[l.id]),this.nodes.splice(a,1),this.updateNodeEdges(l))):(a=this.connectors.indexOf(l),ge()&&(this.blazorActions&Rr.GroupingInProgress?(this.blazorAddorRemoveCollection.splice(0,0,e),this.blazorRemoveIndexCollection.splice(0,0,a)):this.blazorAddorRemoveCollection.length>0?(this.commandHandler.getBlazorOldValues(),this.blazorAddorRemoveCollection.splice(0,0,e),this.blazorRemoveIndexCollection.splice(0,0,a),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0)):!this.isServerUpdate&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&this.UpdateBlazorDiagramModel(e,"Connector",a)),-1!==a&&(this.crudDeleteNodes.push(this.nameTable[l.id]),this.connectors.splice(a,1)),this.updateEdges(l),this.spliceConnectorEdges(e,!0),this.spliceConnectorEdges(e,!1)),!this.isServerUpdate&&!(this.blazorActions&Rr.GroupClipboardInProcess)&&this.commandHandler.getBlazorOldValues(),s&&this.historyManager.endGroupAction(),Sa(this,l)&&this.unSelect(l),!l.isPhase){if(this.removeObjectsFromLayer(e),this.currentDrawingObject&&(this.currentDrawingObject.wrapper=void 0),delete this.nameTable[e.id],i.length>0&&i[0].id===l.id&&l.parentId){var h,u=this.nameTable[l.parentId];u&&u.isLane&&"SwimLane"===this.nameTable[u.parentId].shape.type&&HG(this,h=this.nameTable[u.parentId],u,l)}this.removeElements(l),this.updateBridging(),"SVG"!==this.mode&&this.refreshDiagramLayer(),this.diagramActions&Dt.Clear||(this.removeFromAQuad(l),n={element:e,cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),state:"Changed",type:"Removal",cancel:!1},ge()&&(n=qL(n,e,"Changed","Removal")),"helper"!==e.id&&this.triggerEvent(_i.collectionChange,n),this.resetTool())}}}else if(i.length>0){this.undoRedoModule&&(this.historyManager.startGroupAction(),this.blazorActions|=Rr.GroupingInProgress,s=!0),ge()&&i.length>1&&this.clearSelection();for(var d=0;d<i.length;d++)if(parseInt(d.toString(),10),this.nameTable[i[parseInt(d.toString(),10)].id]){if(i[parseInt(d.toString(),10)]instanceof Gt&&this.bpmnModule&&this.bpmnModule.textAnnotationConnectors.indexOf(i[parseInt(d.toString(),10)])>-1)return void this.remove(this.nameTable[i[parseInt(d.toString(),10)].targetID]);ge()&&(!this.isServerUpdate&&i&&i.length>1&&(this.isServerUpdate=!0),i[parseInt(d.toString(),10)].parentId&&this.insertBlazorDiagramObjects(this.nameTable[i[parseInt(d.toString(),10)].parentId])),this.remove(i[parseInt(d.toString(),10)]),ge()&&i[parseInt(d.toString(),10)].parentId&&(this.commandHandler.getBlazorOldValues(),this.isServerUpdate=!1)}s&&(this.blazorActions&=~Rr.GroupingInProgress,this.isServerUpdate=!0,this.commandHandler.getBlazorOldValues(),this.UpdateBlazorDiagramModelCollection(void 0,void 0,void 0,!0),this.historyManager.endGroupAction(),this.isServerUpdate=!1),this.clearSelection()}if(e&&(qB(e)||this.diagramActions&Dt.Clear)||this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.PreventHistory||!(e instanceof Et||e instanceof Gt)||(o={type:"ConnectionChanged",undoObject:rt(e),redoObject:rt(e),category:"Internal"},!e.isLane&&!e.isPhase&&!(this.diagramActions&Dt.Clear)&&!this.isStackChild(e)&&this.addHistoryEntry(o)),this.tooltipObject.close(),ge()&&i&&i.length>0){for(var f=!0,m=0;m<i.length;m++)this.nameTable[i[parseInt(m.toString(),10)].id]&&(f=!1);f&&(this.isServerUpdate=!1)}},t.prototype.isStackChild=function(e){var i,n=this.nameTable[e.parentId];if(e&&e.parentId&&n.container&&"Stack"===n.container.type&&"UmlClassifier"!==this.nameTable[e.parentId].shape.type){i=!0;var s={sourceIndex:n.wrapper.children.indexOf(e.wrapper),source:e,target:void 0,targetIndex:void 0};this.diagramActions&Dt.UndoRedo||this.addHistoryEntry({type:"StackChildPositionChanged",redoObject:{sourceIndex:void 0,source:e,target:void 0,targetIndex:void 0},undoObject:s,category:"Internal"})}return i},t.prototype.deleteChild=function(e,i,n){var s;if(s="string"==typeof e?e:e.id,(i=i?this.nameTable[i.id]:this.nameTable[e.parentId])&&i.children){for(var o=0;o<i.children.length;o++)if(i.children[parseInt(o.toString(),10)]===s){i.children.splice(o,1);for(var a=0;a<i.wrapper.children.length;a++)i.wrapper.children[parseInt(a.toString(),10)].id===s&&i.wrapper.children.splice(a,1);if(!n){var l=this.getObject(i.parentId);if(l&&l.shape instanceof Yw)for(var h=0;h<l.shape.lanes.length;h++){var c=e.parentId.split(l.id);if(l.shape.lanes[parseInt(h.toString(),10)].id===c[1].slice(0,-1))for(var u=0;u<l.shape.lanes[parseInt(h.toString(),10)].children.length;u++)if(e.id===l.shape.lanes[parseInt(h.toString(),10)].children[parseInt(u.toString(),10)].id){l.shape.lanes[parseInt(h.toString(),10)].children.splice(u,1);break}}}}i.wrapper.measure(new pi),i.wrapper.arrange(i.wrapper.desiredSize)}},t.prototype.addChild=function(e,i,n){var s,o=this.nameTable[e.id];if(o.children||(o.children=[]),o.children&&("string"==typeof i?this.nameTable[""+i]&&(s=i):(s=i.id=i.id||kn(),this.add(i)),s&&(!i.umlIndex||-1===i.umlIndex))){var a=this.nameTable[""+s];if(a.parentId=o.id,o.container&&"Stack"===o.container.type&&this.updateStackProperty(o,a),n)o.children.splice(n,0,s),o.wrapper.children.splice(n,0,a.wrapper);else{o.children.push(s),o.wrapper.children.push(a.wrapper);var l=this.getObject(e.parentId);if(l&&l.shape instanceof Yw)for(var h=0;h<l.shape.lanes.length;h++){var c=a.parentId.split(e.parentId);if(l.shape.lanes[parseInt(h.toString(),10)].id===c[1].slice(0,-1)){l.shape.lanes[parseInt(h.toString(),10)].children.push(a);break}}}o.wrapper.measure(new pi),o.wrapper.arrange(o.wrapper.desiredSize),o.isLane||(this.nameTable[e.id].width=o.wrapper.actualSize.width,this.nameTable[e.id].height=o.wrapper.actualSize.height,this.nameTable[e.id].offsetX=o.wrapper.offsetX,this.nameTable[e.id].offsetY=o.wrapper.offsetY),void 0!==o.container&&(a.offsetX=a.wrapper.offsetX,a.offsetY=a.wrapper.offsetY),(!o.parentId||this.nameTable[o.parentId]&&"SwimLane"!==this.nameTable[o.parentId].shape.type)&&this.updateDiagramObject(o)}return s},t.prototype.clear=function(){this.clearObjects()},t.prototype.clearObjects=function(e){var i=[];if(i=e||(i=i.concat(this.nodes)).concat(this.connectors),this.diagramActions=this.diagramActions|Dt.Clear,ge()&&Ap.diagramsf_node_template){this.resetTemplate();var n=Ap.diagramsf_node_template.length;n>0&&Ap.diagramsf_node_template.splice(0,n-1)}for(var s=0,o=i;s<o.length;s++){var a=o[s];this.nameTable[a.id]&&this.remove(a)}this.diagramActions=this.diagramActions&~Dt.Clear,this.spatialSearch=new sQ(this.nameTable),this.initHistory()},t.prototype.startEditCommad=function(){var e,i=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:void 0;if(i&&i instanceof Et)if(i.isLane&&i.parentId)for(var n=this.nameTable[i.parentId],s=n.shape.lanes,o=i.id.slice(n.id.length),a=o.substring(0,o.length-1),l=0;l<s.length;l++)i.isLane&&a===s[parseInt(l.toString(),10)].id&&(e=this.nameTable[s[parseInt(l.toString(),10)].header.id]);else"SwimLane"===i.shape.type&&i.shape.header&&i.shape.hasHeader&&(e=this.nameTable[""+i.wrapper.children[0].rows[0].cells[0].children[0].id]);this.startTextEdit(e)},t.prototype.startTextEdit=function(e,i){if(!Pv(this)&&!JB(this)||AL(this)){this.textEditing=!0;var n=this.scroller.transform,s=OG(this)?n.scale:1,a=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if(e||(e=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:this.selectedItems.connectors[0]),e){if(ge()){var p=rt(e);p.annotations.length>0&&this.insertValue(p,e instanceof Et),e=this.nameTable[e.id]||e}e.shape&&"UmlClassifier"===e.shape.type&&(e=this.nameTable[e.children[0]]);var f=!1;if(this.bpmnModule&&(d=this.bpmnModule.getTextAnnotationWrapper(e,i))&&(e=this.nameTable[e.id.split("_textannotation_")[0]]),d)f=!0;else{if("Text"!==e.shape.type&&0===e.annotations.length&&(e.constraints&j.ReadOnly||(this.activeLabel.isGroup=!0,this.startGroupAction(),this.addLabels(e,[{id:kn(),content:""}]))),!i&&("Text"!==e.shape.type&&e.annotations.length>0||"Text"===e.shape.type))if("Text"===e.shape.type)i=e.wrapper.children[0].id.split("_")[1];else for(var m=e.annotations.length-1;m>=0;m--)e.annotations[parseInt(m.toString(),10)].visibility&&(i=e.annotations[parseInt(m.toString(),10)].id);i&&(d=this.getWrapper(e.wrapper,i))}if(e&&d&&!(d instanceof Sh)&&(!function Vge(r,t){return"Text"===t.shape.type?t.constraints&j.ReadOnly:t.constraints&(t instanceof Gt?$e.ReadOnly:j.ReadOnly)?r.constraints&Rl.InheritReadOnly?1:0:r.constraints&Rl.ReadOnly?1:0}(d,e)||f)){var M=d.style,T=void 0;T=90>(T=d.bounds.width<e.wrapper.bounds.width?d.bounds.width:e.wrapper.bounds.width)?90:T;var P=document.getElementById(this.element.id+"_editTextBoxDiv"),U=document.getElementById(this.element.id+"_editBox");if(this.activeLabel.text=a=U?U.value:d.content,!P&&!U&&(P=or("div",{}),U=or("textarea",{}),this.diagramCanvas.appendChild(P),P.appendChild(U),U.appendChild(document.createTextNode(a))),(l=BX(d.style,a,void 0,void 0,T)).isEmpty()&&(l=new pi("Text"!==e.shape.type?dD(e,d.id.split(e.id+"_")[1]).width||50:e.width>50?50:e.width,d.style.fontSize)),e.parentId&&"UmlClassifier"===this.nameTable[e.parentId].shape.type?(l.width=e.wrapper.bounds.width-20,c=(e.wrapper.bounds.center.x+n.tx)*n.scale-l.width/2*s-2.5,u=(e.wrapper.bounds.center.y+n.ty)*n.scale-l.height/2*s-3,d.style.textAlign="Left"):(l.width=Math.max(l.width,50),c=(d.bounds.center.x+n.tx)*n.scale-l.width/2*s-2.5,u=(d.bounds.center.y+n.ty)*n.scale-l.height/2*s-3),e instanceof Gt&&"Bezier"===e.type){var Y=this.getMidPoint(e);c=(Y.cx+n.tx)*n.scale-l.width/2*s-2.5,u=(Y.cy+n.ty)*n.scale-l.height/2*s-3}Gd(P,{id:this.element.id+"_editTextBoxDiv",style:"position: absolute;left:"+c+"px;top:"+u+"px;width:"+(l.width+1)*s+"px;height:"+l.height*s+"px; containerName:"+e.id+";"}),Gd(U,{id:this.element.id+"_editBox",style:"width:"+(l.width+1)*s+"px;height:"+l.height*s+"px;resize: none;outline: none;overflow: hidden;;font-family:"+M.fontFamily+";font-size:"+M.fontSize*s+"px;text-align:"+d.style.textAlign.toLocaleLowerCase()+";",class:"e-diagram-text-edit"}),U.style.fontWeight=M.bold?"bold":"",U.style.fontStyle=M.italic?"italic":"",U.style.lineHeight=(1.2*M.fontSize+"px;").toString(),U.style.textDecoration=M.textDecoration?M.textDecoration:"",this.activeLabel.parentId=e.id,this.activeLabel.id=i,d.visible=!1,this.updateDiagramObject(e),this.diagramActions=this.diagramActions|Dt.TextEdit,this.isTriggerEvent||($.add(U,"input",this.eventHandler.inputChange,this.eventHandler),$.add(U,"focusout",this.focusOutEdit,this),U.select())}}}},t.prototype.updateConnectorfixedUserHandles=function(e){if(e.fixedUserHandles.length)for(var i=void 0,n=0,s=e.fixedUserHandles;n<s.length;n++){var o=s[n];i=this.getWrapper(e.wrapper,o.id),e.updateAnnotation(o,e.intermediatePoints,e.wrapper.bounds,i)}e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.updateNodeExpand=function(e,i){for(var n=0;n<e.outEdges.length;n++){var s=this.nameTable[e.outEdges[parseInt(n.toString(),10)]],o=this.nameTable[s.targetID];s.visible=i,o&&(i||(this.updateElementVisibility(s.wrapper,s,!1),o.isExpanded=i),this.updateNodeExpand(o,o.isExpanded),o.visible=i,i||this.updateElementVisibility(o.wrapper,o,!1))}},t.prototype.updateConnectorAnnotation=function(e){if(e.annotations.length)for(var i=void 0,n=0,s=e.annotations;n<s.length;n++){var o=s[n];i=this.getWrapper(e.wrapper,o.id),e.updateAnnotation(o,e.intermediatePoints,e.wrapper.bounds,i,this.diagramActions&Dt.Interactions)}e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.removeChildrenFromLayout=function(e){for(var n,i=[],a=0;a<e.length;a++)!(n=e[parseInt(a.toString(),10)]).parentId&&!n.processId&&i.push(n);return i},t.prototype.doLayout=function(){var i,e=!1,n="ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type,s=this.isProtectedOnChange;this.protectPropertyChange(!0);var o=this.removeChildrenFromLayout(this.nodes),a=this.layout.enableRouting&&"ComplexHierarchicalTree"===this.layout.type,l={x:this.scroller.viewPortWidth,y:this.scroller.viewPortHeight};if("None"!==this.layout.type){if((a||"DifferentPoint"===this.layout.connectionPointOrigin&&this.lineDistributionModule&&n||"Linear"===this.layout.arrangement)&&this.lineDistributionModule.initLineDistribution(this.layout,this),this.organizationalChartModule)i=this.organizationalChartModule.updateLayout(o,this.nameTable,this.layout,l,this.dataSourceSettings.id,this.diagramActions),e=!0,(this.layoutAnimateModule&&i.rootNode&&!this.diagramActions||!this.layoutAnimateModule&&i.rootNode&&!i.rootNode.isExpanded&&!this.canExpand)&&this.updateNodeExpand(i.rootNode,i.rootNode.isExpanded);else if(this.mindMapChartModule)o&&o.length>0&&this.mindMapChartModule.updateLayout(o,this.nameTable,this.layout,l,this.dataSourceSettings.id,this.dataSourceSettings.root),e=!0;else if(this.radialTreeModule)this.radialTreeModule.updateLayout(o,this.nameTable,this.layout,l),e=!0;else if(this.symmetricalLayoutModule)this.symmetricalLayoutModule.maxIteration=this.layout.maxIteration,this.symmetricalLayoutModule.springLength=this.layout.springLength,this.symmetricalLayoutModule.springFactor=this.layout.springFactor,this.symmetricalLayoutModule.updateLayout(o,this.connectors,this.symmetricalLayoutModule,this.nameTable,this.layout,l),e=!0;else if(this.complexHierarchicalTreeModule){var h=this.complexHierarchicalTreeModule.getLayoutNodesCollection(this.nodes);h.length>0&&this.complexHierarchicalTreeModule.doLayout(h,this.nameTable,this.layout,l,this.lineDistributionModule),e=!0}if(e){this.preventDiagramUpdate=!0;var c={},u=o;ge()&&!this.commandHandler.canUpdateTemplate&&this.updateTemplate();for(var d=0,p=u;d<p.length;d++){var m=p[d];if(!this.preventNodesUpdate&&(!this.diagramActions||!(this.diagramActions&Dt.PreventIconsUpdate))&&(this.updateIcon(m),this.updateDefaultLayoutIcons(m)),this.preventNodesUpdate=!0,this.nodePropertyChange(m,{},{offsetX:m.offsetX,offsetY:m.offsetY},!0),this.preventNodesUpdate=!1,m.wrapper.measure(new pi(m.wrapper.width,m.wrapper.height)),m.wrapper.arrange(m.wrapper.desiredSize),this.updateDiagramObject(m,!0),m.inEdges.length>0)for(var M=0;M<m.inEdges.length;M++)c[(T=this.nameTable[m.inEdges[parseInt(M.toString(),10)]]).id]=T;if(m.outEdges.length>0)for(var P=0;P<m.outEdges.length;P++){var U=this.nameTable[m.outEdges[parseInt(P.toString(),10)]];c[U.id]=U}}for(var Y=0,X=Object.keys(c);Y<X.length;Y++){var Q=X[Y];a&&this.lineDistributionModule.resetConnectorSegments(this.nameTable[""+Q]);var T,oe=this.getPoints(T=c[""+Q]);a&&this.lineDistributionModule.resetRoutingSegments(T,this,oe),$L(T,oe),"Bpmn"===T.shape.type&&"Default"===T.shape.sequence&&"Sequence"===T.shape.flow&&this.commandHandler.updatePathElementOffset(T),T.wrapper.measure(new pi(void 0,void 0)),T.wrapper.arrange(T.wrapper.desiredSize),this.updateConnectorAnnotation(T),this.updateConnectorfixedUserHandles(T),this.updateQuad(T),this.updateDiagramObject(T,!0)}(a||"DifferentPoint"===this.layout.connectionPointOrigin&&this.lineDistributionModule&&n)&&this.lineDistributionModule.distributeLines(this.layout,this),this.preventDiagramUpdate=!1,this.updatePage(),(!(this.diagramActions&Dt.Render)||"Canvas"===this.mode)&&(this.refreshDiagramLayer(),this.isRefreshed=!0)}s||this.protectPropertyChange(s)}return e&&this.updateDiagramElementQuad(),this.blazorActions&Rr.expandNode?i:!ge()||null},t.prototype.saveDiagram=function(){for(var i,s,e=[],l=0;l<this.nodes.length;l++)if("SwimLane"===(i=this.nodes[parseInt(l.toString(),10)]).shape.type){s=i.wrapper.children[0].childTable;for(var h=0,c=Object.keys(s);h<c.length;h++)e=g4(s[""+c[h]],e);for(var d=0;d<e.length;d++)this.nameTable[e[parseInt(d.toString(),10)]]&&(this.swimlaneChildTable[e[parseInt(d.toString(),10)]]=this.nameTable[e[parseInt(d.toString(),10)]].zIndex);this.swimlaneZIndexTable[i.id]=i.zIndex}return function fme(r){var t=function dme(r){for(var e,n,t=[],a=0;a<r.length;a++)if("SwimLane"===(e=r[parseInt(a.toString(),10)]).shape.type){n=e.wrapper.children[0].childTable;for(var l=0,h=Object.keys(n);l<h.length;l++)t=g4(n[""+h[l]],t)}return t}(r.nodes),e=rt(r,r.getCustomProperty);return e.selectedItems.nodes=[],e.selectedItems.connectors=[],e.selectedItems.wrapper=null,r.serializationSettings.preventDefaults&&(e=v4(e,r)),function pme(r,t){var e=t.nodes;if(e)for(var i=0;i<e.length;i++)-1!==r.indexOf(e[parseInt(i.toString(),10)].id)&&(e.splice(i,1),i--)}(t,e),JSON.stringify(e)}(this)},t.prototype.loadDiagram=function(e,i){if(i&&this.modelProperties){var n=JSON.parse(e);e=this.modelProperties.getSerializedData(n)}return function mme(r,t){t.enableServerDataBinding(!1);var e=t.blazorActions;t.blazorActions=t.addConstraints(e,Rr.ClearObject),t.clear(),t.blazorActions=t.removeConstraints(e,Rr.ClearObject),t.protectPropertyChange(!0);for(var i=t.dataSourceSettings.doBinding,n=t.setNodeTemplate,s=t.getDescription,o=t.getCustomProperty,a={},l=0,h=t.commandManager.commands;l<h.length;l++){var c=h[l];a[c.name]={execute:c.execute,canExecute:c.canExecute}}var T,Q,u=t.rulerSettings.horizontalRuler.arrangeTick,d=t.rulerSettings.verticalRuler.arrangeTick,p=t.layout.getLayoutInfo,f=t.layout.getBranch,m=t.getNodeDefaults,M=t.getConnectorDefaults;T=function bme(r){if(r&&(void 0===r.version||r.version<17.1)&&r.nodes)for(var e=0,i=r.nodes;e<i.length;e++){var n=i[e];if(n&&n.ports&&n.ports.length>0)for(var s=0,o=n.ports;s<o.length;s++){var a=o[s];a&&a.constraints&&a.constraints===kr.None&&(a.constraints=kr.Default)}}return r}(T=r instanceof Object?r:JSON.parse(r)),t.contextMenuSettings=T.contextMenuSettings||{},t.constraints=T.constraints||Un.Default,t.tool=T.tool||Do.Default,t.bridgeDirection=T.bridgeDirection||"Top",t.pageSettings=T.pageSettings||{},t.drawingObject=T.drawingObject||void 0,t.tooltip=T.tooltip||{},t.addInfo=T.addInfo||void 0,t.getDescription=s,t.scrollSettings=T.scrollSettings||{},t.commandManager=T.commandManager||{},T.layers&&T.layers.length>0&&function yme(r){var t,e,i,n=[];for(t=0;t<r.layers.length;t++){for(e=0;e<r.layers[t].objects.length;e++)if(r.nodes)for(i=0;i<r.nodes.length;i++)r.layers[t].objects[e]===r.nodes[i].id&&n.push(r.layers[t].objects[e]);for(e=0;e<r.layers[t].objects.length;e++)if(r.connectors)for(i=0;i<r.connectors.length;i++)r.layers[t].objects[e]===r.connectors[i].id&&n.push(r.layers[t].objects[e]);r.layers[t].objects=n,n=[]}}(T),t.layers=T.layers||[],t.rulerSettings.horizontalRuler.arrangeTick=u,t.rulerSettings.verticalRuler.arrangeTick=d;for(var P=0,U=t.commandManager.commands;P<U.length;P++){var Y=U[P];a[Y.name]&&(Y.execute=a[Y.name].execute,Y.canExecute=a[Y.name].canExecute)}if(t.backgroundColor=T.backgroundColor||"transparent",t.basicElements=T.basicElements||[],T.connectors)for(var X=0;X<T.connectors.length;X++)"Bezier"===T.connectors[X].type&&T.connectors[X].segments.length>0&&T.connectors[X].bezierSettings.allowSegmentsReset&&(T.connectors[X].segments=[]);if(t.connectors=T.connectors||[],t.dataSourceSettings=T.dataSourceSettings||{},t.dataSourceSettings.doBinding=i,t.height=T.height||"100%",t.setNodeTemplate=n,t.getConnectorDefaults=M,t.getNodeDefaults=m,t.getCustomProperty=o,t.mode=T.mode||"SVG",T.nodes)for(X=0;X<T.nodes.length;X++)T.nodes[X].shape&&"SwimLane"===T.nodes[X].shape.type&&(null==T.nodes[X].wrapper&&(T.nodes[X].wrapper={actualSize:{width:T.nodes[X].width,height:T.nodes[X].height},offsetX:T.nodes[X].offsetX,offsetY:T.nodes[X].offsetY}),zL(T.nodes[X],void 0,void 0,void 0,void 0,!0));for(t.nodes=T.nodes||[],t.rulerSettings=T.rulerSettings||{},t.snapSettings=T.snapSettings||{},t.width=T.width||"100%",t.layout=T.layout||{},T.layout&&"None"!==T.layout.type&&(t.canLayout=!1),t.layout.getLayoutInfo=ho(p),t.layout.getBranch=ho(f),t.diagramActions=0,t.isLoading=!0,t.protectPropertyChange(!1),X=0;X<t.views.length;X++)Q=t.views[t.views[X]],t.blazorActions=t.addConstraints(e,Rr.ClearObject),Q instanceof _y&&Q.refresh(),t.blazorActions=t.removeConstraints(e,Rr.ClearObject),Q instanceof _y&&t.element.classList.add("e-diagram");return T.selectedItems&&(T.selectedItems.nodes=[],T.selectedItems.connectors=[],T.selectedItems.selectedObjects=[]),t.selectedItems=T.selectedItems,t.enableServerDataBinding(!0),t.canLayout=!0,t.swimlaneChildTable={},t.swimlaneZIndexTable={},T}(e,this)},t.prototype.getDiagramContent=function(e){return this.printandExportModule?this.printandExportModule.getDiagramContent(e):""},t.prototype.exportImage=function(e,i){this.printandExportModule&&this.printandExportModule.exportImages(e,i)},t.prototype.printImage=function(e,i){this.printandExportModule&&(i.printOptions=!0,this.printandExportModule.exportImages(e,i))},t.prototype.setStackLimit=function(e){this.undoRedoModule&&e&&(this.historyManager.stackLimit=e,this.undoRedoModule.applyLimit(this.historyManager.currentEntry,e,this,!0))},t.prototype.clearHistory=function(){this.undoRedoModule&&this.undoRedoModule.clearHistory(this)},t.prototype.getDiagramBounds=function(){if(this.printandExportModule){var e=this.printandExportModule.getDiagramBounds("",{});return e.width=e.width>this.scrollSettings.viewPortWidth?e.width+(e.x>0?e.x:0):this.scrollSettings.viewPortWidth,e.height=e.height>this.scrollSettings.viewPortHeight?e.height+(e.y>0?e.y:0):this.scrollSettings.viewPortHeight,e.x=e.x>0?0:e.x,e.y=e.y>0?0:e.y,e}return new Xi},t.prototype.exportDiagram=function(e){return this.printandExportModule?this.printandExportModule.exportDiagram(e):""},t.prototype.print=function(e){this.printandExportModule&&this.printandExportModule.print(e)},t.prototype.addPorts=function(e,i){this.protectPropertyChange(!0);var a,n=[],s=!0;ge()&&null!==e&&e.ports.length>0&&!(this.diagramActions&Dt.UndoRedo)&&-1!==Number(Qf(e,i[0].id,!1))&&(s=!1),e=this.nameTable[e.id]||e,i.length>1&&this.startGroupAction();for(var l=0;l<i.length;l++){if(e instanceof Et?(a=new ac(e,"ports",i[parseInt(l.toString(),10)],!0),e.ports.push(a)):e instanceof Gt&&(a=new Iy(e,"ports",i[parseInt(l.toString(),10)],!0),e.ports.push(a)),ge()&&s&&n.push(a),e.children)e.initPort(this.getDescription,e.wrapper.children[e.wrapper.children.length-1],a);else{var c=e.wrapper;if(e instanceof Et)c.children.push(e.initPortWrapper(e.ports[e.ports.length-1]));else if(e instanceof Gt){var u="Bezier"===e.type?e.intermediatePoints:e.getConnectorPoints(e.type);u=e.clipDecorators(e,u);var d=Xi.toBounds(u);c.children.push(e.initPort(e.ports[e.ports.length-1],u,d,void 0))}}if(!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.Group)){var p={type:"PortCollectionChanged",changeType:"Insert",undoObject:rt(a),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(p)}}i.length>1&&this.endGroupAction(),ge()&&s&&this.UpdateBlazorLabelOrPortObjects(n,"Port",void 0,this.nodes.indexOf(e)),e.wrapper.measure(new pi(e.width,e.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addConstraints=function(e,i){return e|i},t.prototype.removeConstraints=function(e,i){return e&~i},t.prototype.addNodeLabels=function(e,i){this.addLabels(e,i)},t.prototype.addConnectorLabels=function(e,i){this.addLabels(e,i)},t.prototype.addLabels=function(e,i){this.protectPropertyChange(!0);var n=!0,s=[];ge()&&null!=e&&e.annotations.length>0&&!(this.diagramActions&Dt.UndoRedo)&&-1!==Number(Qf(e,i[0].id,!0))&&(n=!1);var l,a=(e=this.nameTable[e.id]||e).wrapper;i.length>1&&this.startGroupAction();for(var h=0;h<i.length;h++){if(e instanceof Et)if(l=new qu(e,"annotations",i[parseInt(h.toString(),10)],!0),e.annotations.push(l),ge()&&n&&s.push(l),e.children)for(var c=e,u=0;u<c.wrapper.children.length;u++)c.wrapper.children[parseInt(u.toString(),10)].id===c.id+"group_container"&&c.wrapper.children[parseInt(u.toString(),10)].children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id));else a.children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id));else if(e instanceof Gt){l=new zl(e,"annotations",i[parseInt(h.toString(),10)],!0),e.annotations.push(l),ge()&&n&&s.push(l);var p=a.children[0],f=new Xi(p.offsetX-p.width/2,p.offsetY-p.height/2,p.width,p.height);a.children.push(e.getAnnotationElement(e.annotations[e.annotations.length-1],e.intermediatePoints,f,this.getDescription,this.element.id))}if(!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.Group)){var m={type:"LabelCollectionChanged",changeType:"Insert",undoObject:rt(l),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(m)}}i.length>1&&this.endGroupAction(),ge()&&n&&this.UpdateBlazorLabelOrPortObjects(s,e instanceof Et?"NodeAnnotation":"ConnectorAnnotation",void 0,e instanceof Et?this.nodes.indexOf(e):this.connectors.indexOf(e)),e.wrapper.measure(new pi(a.width,a.height)),e.wrapper.arrange(a.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addLanes=function(e,i,n){e=this.nameTable[e.id]||e;for(var s=0;s<i.length;s++)Kge(this,e,i[parseInt(s.toString(),10)],n),void 0!==n&&(n+=1);this.updateDiagramElementQuad()},t.prototype.addPhases=function(e,i){e=this.nameTable[e.id]||e;for(var n=0;n<i.length;n++)eve(this,e,i[parseInt(n.toString(),10)]);this.updateDiagramElementQuad()},t.prototype.removeLane=function(e,i){UG(this,void 0,e,i),this.updateDiagramElementQuad()},t.prototype.removePhase=function(e,i){VG(this,void 0,e,i),this.updateDiagramElementQuad()},t.prototype.editSegment=function(e){if("Straight"==e.connector.type){for(var i=e.connector,n=e&&e.SegmentEditing?e.SegmentEditing:"Toggle",s=e.point,o=void 0,a=void 0,l=0;l<i.segments.length;l++)if($o(s,i.segments[parseInt(l.toString(),10)].point,i.hitPadding)){o=!0;break}(o&&"Remove"==n||!o&&"Add"==n)&&(a=!0),"Straight"===i.type&&(a||"Toggle"==n)&&this.connectorEditingToolModule.addOrRemoveSegment(i,s,this.commandHandler)}},t.prototype.removelabelExtension=function(e,i,n,s){for(var o=0;o<s.children.length;o++){var a=s.children[parseInt(o.toString(),10)];if((a instanceof Qr||a instanceof Sh)&&a.id.match("_"+i[parseInt(n.toString(),10)].id+"$")){for(var l=0;l<e.annotations.length;l++)if(a.id.match("_"+e.annotations[parseInt(l.toString(),10)].id+"$")){if(!(this.diagramActions&Dt.UndoRedo)){var h={type:"LabelCollectionChanged",changeType:"Remove",undoObject:rt(e.annotations[parseInt(l.toString(),10)]),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(h)}e.annotations.splice(l,1)}if(s.children.splice(o,1),"SVG"===this.mode){var c=es(a.id,this.element.id);if(c){var u=es(a.id,this.element.id);u.parentNode.removeChild(u)}es(a.id+"_text",this.element.id)&&(c=es(a.id+"_text",this.element.id)).parentNode.removeChild(c);var p=es(a.id+"_html_element",this.element.id);p&&p.parentNode.removeChild(p)}else this.refreshCanvasLayers()}}},t.prototype.removeLabels=function(e,i){var n=!0;if(!ge()||null===e||this.diagramActions&Dt.UndoRedo||-1===(s=e.annotations.length>0?Number(Qf(e,i[0].id,!0)):-1)&&(n=!1),e=this.nameTable[e.id]||e,ge()&&n){for(var o=[],a=[],l=0;l<i.length;l++){var s=Number(Qf(e,i[parseInt(l.toString(),10)].id,!0));a.push(s),o.push(i[parseInt(l.toString(),10)])}this.UpdateBlazorLabelOrPortObjects(o,e instanceof Et?"NodeAnnotation":"ConnectorAnnotation",a,e instanceof Et?this.nodes.indexOf(e):this.connectors.indexOf(e))}for(i.length>1&&this.startGroupAction(),l=i.length-1;l>=0;l--)if(e.children&&e.children.length>0)for(var h=0;h<e.wrapper.children.length;h++)this.removelabelExtension(e,i,l,e.wrapper.children[parseInt(h.toString(),10)]);else this.removelabelExtension(e,i,l,e.wrapper);i.length>1&&this.endGroupAction()},t.prototype.removePortsExtenion=function(e,i,n,s){for(var o=0;o<s.children.length;o++){var a=s.children[parseInt(o.toString(),10)];if(a instanceof Nn&&a.id.match("_"+i[parseInt(n.toString(),10)].id+"$")){for(var l=0;l<e.ports.length;l++)if(a.id.match("_"+e.ports[parseInt(l.toString(),10)].id+"$")){if(!(this.diagramActions&Dt.UndoRedo)){var h={type:"PortCollectionChanged",changeType:"Remove",undoObject:rt(e.ports[parseInt(l.toString(),10)]),redoObject:rt(e),category:"Internal"};this.addHistoryEntry(h)}e.ports.splice(l,1)}if(s.children.splice(o,1),"SVG"===this.mode){var c=es(a.id,this.element.id);c.parentNode.removeChild(c)}else this.refreshCanvasLayers()}}},t.prototype.removePorts=function(e,i){var n=!0;if(!ge()||null===e||this.diagramActions&Dt.UndoRedo||-1===(s=e.ports.length>0?Number(Qf(e,i[0].id,!1)):-1)&&(n=!1),e=this.nameTable[e.id]||e,ge()&&n){for(var o=[],a=[],l=i.length-1;l>=0;l--){var s=Number(Qf(e,i[parseInt(l.toString(),10)].id,!1));o.push(s),a.push(i[parseInt(l.toString(),10)])}this.UpdateBlazorLabelOrPortObjects(a,"Port",o,this.nodes.indexOf(e))}for(i.length>1&&this.startGroupAction(),l=i.length-1;l>=0;l--)if(e.children&&e.children.length>0)for(var h=0;h<e.wrapper.children.length;h++)e.wrapper.children[parseInt(h.toString(),10)].id.match(e.wrapper.id)&&this.removePortsExtenion(e,i,l,e.wrapper.children[parseInt(h.toString(),10)]);else this.removePortsExtenion(e,i,l,e.wrapper);i.length>1&&this.endGroupAction()},t.prototype.getSizeValue=function(e,i){var n;return n=e.toString().indexOf("px")>0?e.toString():e.toString().indexOf("%")>0?void 0!==i?"100%":e.toString():e.toString()+"px",i&&($p(this),n="calc("+n+" - "+i+"px)"),n},t.prototype.renderRulers=function(){this.rulerSettings.showRulers?(function jve(r){var t=$p(r),i=or("div",{id:r.element.id+"_overlapRuler",style:"height:"+t.height+"px;width:"+t.width+"px;position:absolute;left:0;top:0",class:"e-ruler-overlap"});r.element.insertBefore(i,r.element.firstChild)}(this),rX(this,!0),rX(this,!1)):c4(this)},t.prototype.intOffPageBackground=function(){var e=new pi;e=$p(this);var i=document.getElementById(this.element.id+"content"),n=this.getSizeValue(this.width,e.width),s=this.getSizeValue(this.height,e.height),o=this.rulerSettings.showRulers?"width:"+n+"; height:"+s+";top:"+e.height+"px;left:"+e.width+"px;overflow: scroll;position:absolute;overflow:auto;":"width:"+n+"; height:"+s+";position:absolute; left:0px;  top:0px;overflow: auto;",a={id:this.element.id+"content",tabindex:"0",style:o};i?(this.diagramCanvas=i,Jp(this.diagramCanvas,o)):(this.diagramCanvas=or("div",a),this.element.appendChild(this.diagramCanvas)),this.diagramCanvas.style.background=this.backgroundColor},t.prototype.initDiagram=function(){this.intOffPageBackground(),Gd(this.element,{style:"width:"+this.getSizeValue(this.width)+"; height:"+this.getSizeValue(this.height)+";position:relative;overflow:hidden;"})},t.prototype.renderHiddenUserHandleTemplateLayer=function(e){var n=or("div",{class:this.element.id+"_hiddenUserHandleTemplate",style:"width:"+e.width+"px; height:"+e.height+"px;visibility:hidden ;  overflow: hidden;"});this.element.appendChild(n)},t.prototype.renderBackgroundLayer=function(e,i){var n=this.createSvg(this.element.id+"_backgroundLayer_svg",e.width,e.height);Jp(n,i);var s=js("g",{id:this.element.id+"_backgroundImageLayer",class:"e-background-image-layer"});n.appendChild(s);var a=js("g",{id:this.element.id+"_backgroundLayer",class:"e-background-layer"});n.appendChild(a),this.diagramCanvas.appendChild(n)},t.prototype.renderGridLayer=function(e,i){var n=this.createSvg(this.element.id+"_gridline_svg",e.width,e.height);n.setAttribute("class","e-grid-layer");var s=js("g",{id:this.element.id+"_gridline"}),o=js("rect",{id:this.element.id+"_grid_rect",x:"0",y:"0",width:"100%",height:"100%"});if(fD()){var a=new URL(window.location.href);o.setAttribute("fill",""!==a.search?"url(#"+this.element.id+"_pattern)":"url("+location.protocol+"//"+location.host+location.pathname+"#"+this.element.id+"_pattern)")}else o.setAttribute("fill","url(#"+this.element.id+"_pattern)");s.appendChild(o),n.appendChild(s),this.diagramCanvas.appendChild(n),ts(n,{style:i})},t.prototype.renderDiagramLayer=function(e,i){if(this.diagramLayerDiv=or("div",{id:this.element.id+"_diagramLayer_div",style:"width:"+e.width+"px; height:"+e.height+"px;"+i}),"SVG"===this.mode){var s=this.createSvg(this.element.id+"_diagramLayer_svg",e.width,e.height);s.style["pointer-events"]="none",s.setAttribute("class","e-diagram-layer");var o=js("g",{id:this.element.id+"_diagramLayer"}),a=js("g",{});this.diagramLayer=o,s.style["pointer-events"]="all",a.appendChild(o),s.appendChild(a),this.diagramLayerDiv.appendChild(s)}else this.diagramLayer=gu.createCanvas(this.element.id+"_diagram",e.width,e.height),Jp(this.diagramLayer,"position:absolute;left:0px;top:0px;"),this.diagramLayerDiv.appendChild(this.diagramLayer);this.diagramCanvas.appendChild(this.diagramLayerDiv)},t.prototype.initLayers=function(){var e="position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",n=document.getElementById(this.element.id).getBoundingClientRect(),s=function oye(){var r=or("div",{style:"visibility:hidden; width: 100px"});document.body.appendChild(r);var t=r.getBoundingClientRect().width;r.style.overflow="scroll";var e=or("div",{style:"width:100%"});r.appendChild(e);var i=e.getBoundingClientRect().width;return r.parentNode.removeChild(r),t-i}();this.scroller.scrollerWidth=s,this.scroller.setViewPortSize(n.width,n.height),this.renderRulers();var o="measureElement";window[""+o]&&(window[""+o]=null,document.getElementById("measureElement").remove()),YX(),this.renderBackgroundLayer(n,e),this.renderGridLayer(n,e),this.renderDiagramLayer(n,e),this.renderHTMLLayer(n,e),this.renderPortsExpandLayer(n,e),this.renderNativeLayer(n,e),this.renderAdornerLayer(n,e),this.renderHiddenUserHandleTemplateLayer(n)},t.prototype.renderAdornerLayer=function(e,i){var n=or("div",{id:this.element.id+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+i}),s=or("div",{id:this.element.id+"_diagramUserHandleLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+i});s.setAttribute("class","e-userHandle-layer"),n.appendChild(s);var o=this.createSvg(this.element.id+"_diagramAdorner_svg",e.width,e.height);o.setAttribute("class","e-adorner-layer"),o.style["pointer-events"]="none",this.adornerLayer=js("g",{id:this.element.id+"_diagramAdorner"}),this.adornerLayer.style[" pointer-events"]="all",o.appendChild(this.adornerLayer),n.appendChild(o),this.diagramCanvas.appendChild(n);var a=js("g",{id:this.element.id+"_SelectorElement"});this.adornerLayer.appendChild(a),ts(o,{style:"pointer-events:none;"})},t.prototype.renderPortsExpandLayer=function(e,i){var n=this.createSvg(this.element.id+"_diagramPorts_svg",e.width,e.height);n.setAttribute("class","e-ports-expand-layer");var s=js("g",{id:this.element.id+"_diagramPorts",class:"e-ports-layer",style:"pointer-events: all;"});n.appendChild(s);var o=js("g",{id:this.element.id+"_diagramExpander",class:"e-expand-layer",style:"pointer-events: all;"});n.appendChild(o),this.diagramCanvas.appendChild(n),ts(n,{style:i})},t.prototype.renderHTMLLayer=function(e,i){this.htmlLayer=or("div",{id:this.element.id+"_htmlLayer",style:"width:"+e.width+"px; height:"+e.height+"px;position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",class:"e-html-layer"});var n=or("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;pointer-events:all;"});this.htmlLayer.appendChild(n),this.diagramCanvas.appendChild(this.htmlLayer)},t.prototype.renderNativeLayer=function(e,i){var n=this.createSvg(this.element.id+"_nativeLayer_svg",e.width,e.height),s=js("g",{id:this.element.id+"_nativeLayer",style:"pointer-events:all;"});n.appendChild(s),this.diagramLayerDiv.appendChild(n),ts(n,{class:"e-native-layer",style:i})},t.prototype.createSvg=function(e,i,n){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return ts(s,{id:e,width:i,height:n}),s},t.prototype.updateBazorShape=function(){for(var e=0;e<this.nodes.length;e++){var i=this.nodes[parseInt(e.toString(),10)];switch(i.shape.type){case"Bpmn":i.shape.bpmnShape=i.shape.shape?i.shape.shape:i.shape.bpmnShape;break;case"UmlActivity":i.shape.umlActivityShape=i.shape.shape?i.shape.shape:i.shape.umlActivityShape;break;case"Flow":i.shape.flowShape=i.shape.shape?i.shape.shape:i.shape.flowShape;break;case"Basic":i.shape.basicShape=i.shape.shape?i.shape.shape:i.shape.basicShape;break;case"Text":i.shape.textContent=i.shape.content?i.shape.content:i.shape.textContent}}},t.prototype.initObjects=function(e){this.updateBazorShape(),this.isLoading||this.initData(),this.initLayerObjects(),this.updateBridging(e)},t.prototype.initLayerObjects=function(){var e=this.layers.length>1,i=[],s=window&&window.Blazor&&!this.dataSourceSettings.dataSource,o={},a={},l=[],h=[],c=[],u=[],d=[],p=[],f=[];ge()&&s&&(h=this.previousNodeCollection,c=this.previousConnectorCollection);for(var m=0,M=this.nodes;m<M.length;m++)(T=M[m]).id=T.id||kn(),this.addToLayer(T,e),o[T.id]=T;for(var P=0,U=this.connectors;P<U.length;P++)(T=U[P]).id=T.id||kn(),this.addToLayer(T,e),o[T.id]=T;for(var Y=0,X=this.layers;Y<X.length;Y++){for(var oe=0,de=(Q=X[Y]).objects;oe<de.length;oe++)if(o[""+(T=de[oe])])if(o[""+T]instanceof Gt)if((Me=o[""+T]).sourceID&&Me.targetID){var Ve=o[Me.sourceID],Ce=o[Me.targetID],ze=!0;this.isLoading&&(Ve&&Ve.children&&Ve.children.length>0||Ce&&Ce.children&&Ce.children.length>0)&&(ze=!1),Ve&&Ve.wrapper&&Ce&&Ce.wrapper&&ze?this.initConnectors(o[""+T],Q):i.push(o[""+T])}else this.initConnectors(o[""+T],Q);else o[""+T].children?l.push(T):o[""+T].shape instanceof tk&&o[""+T].shape.activity.subProcess.processes&&o[""+T].shape.activity.subProcess.processes.length>0?a[o[""+T].id]=T:this.initNodes(o[""+T],Q);if(this.bpmnModule)for(var Ie=0,pe=this.bpmnModule.textAnnotationConnectors;Ie<pe.length;Ie++)this.initConnectors(T=pe[Ie],Q,!1)}for(var Pe=0,Qe=Object.keys(a);Pe<Qe.length;Pe++)this.initObject(o[""+(T=Qe[Pe])]),this.bpmnModule.updateDocks(o[""+T],this);for(var Ye=0,ut=this.alignGroup(l,o);Ye<ut.length;Ye++){var Q=this.commandHandler.getObjectLayer(T=ut[Ye]);this.initNodes(o[""+T],Q)}for(var Xt=0,ni=i;Xt<ni.length;Xt++){var Me;Q=this.commandHandler.getObjectLayer((Me=ni[Xt]).id),this.initConnectors(Me,Q)}if(ge()&&s){for(var ui=0,Pi=this.nodes;ui<Pi.length;ui++)u.push(rt(T=Pi[ui],void 0,void 0,!0));for(var Di=0,Fi=this.connectors;Di<Fi.length;Di++)d.push(rt(T=Fi[Di],void 0,void 0,!0));if(this.commandHandler.getObjectChanges(h,u,p),this.commandHandler.getObjectChanges(c,d,f),!(this.blazorActions&Rr.ClearObject)){var T={methodName:"UpdateBlazorProperties",diagramobj:{nodes:p,connectors:f}};window.sfBlazor.updateBlazorProperties(T,this)}}},t.prototype.alignGroup=function(e,i){var o,a,l,h,n=[],s=[];for(l=0;l<e.length;l++){var c=void 0;if((a=i[""+(o=e[parseInt(l.toString(),10)])])&&a.children.length)for(h=0;h<a.children.length;h++)c=a.children[parseInt(h.toString(),10)],e.indexOf(c)>-1&&-1===n.indexOf(c)&&-1===s.indexOf(c)&&n.splice(0,0,c);-1===n.indexOf(o)&&s.push(o)}return n.concat(s)},t.prototype.addToLayer=function(e,i){var n;if(i&&(n=this.commandHandler.getObjectLayer(e.id)),(!i||!n)&&-1===this.activeLayer.objects.indexOf(e.id)&&this.activeLayer.objects.push(e.id),(e instanceof Et||e instanceof Gt)&&("SwimLane"!==e.shape.type||e.children&&e.children.length>0)){if(e.parentId){var s=this.swimlaneZIndexTable[e.parentId],o=this.swimlaneChildTable[e.id];(s&&-1!==s||o&&-1!==o)&&(e.zIndex=this.swimlaneChildTable[e.id])}e instanceof Gt&&e.sourceID&&e.targetID?-1!==this.activeLayer.objects.indexOf(e.sourceID)&&-1!==this.activeLayer.objects.indexOf(e.targetID)&&this.setZIndex(n||this.activeLayer,e):this.setZIndex(n||this.activeLayer,e)}},t.prototype.updateLayer=function(e){for(var i=0,n=Object.keys(e.layers);i<n.length;i++){for(var s=n[i],a=0,l=this.layers[""+s].objects;a<l.length;a++){var c=this.nameTable[""+l[a]];void 0!==e.layers[""+s].visible?this.updateElementVisibility(c.wrapper,c,e.layers[""+s].visible):!0===e.layers[""+s].lock&&this.unSelect(c)}void 0!==e.layers[""+s].lock&&(this.layers[""+s].lock=e.layers[""+s].lock)}"SVG"!==this.mode&&this.refreshDiagramLayer()},t.prototype.updateScrollSettings=function(e){var i=-this.scroller.horizontalOffset+e.scrollSettings.horizontalOffset||0,n=-this.scroller.verticalOffset+e.scrollSettings.verticalOffset||0,s={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom};(0!==i||0!==n)&&this.pan(i,n);var o={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom},a="Start";this.realActions&Gs.PanInProgress&&(a="Progress");var l={oldValue:s,newValue:o,source:this,panState:a};ge()&&this.scrollChange&&(l={oldValue:s,newValue:o,sourceId:this.element.id,panState:a}),this.triggerEvent(_i.scrollChange,l),this.commandHandler.updatePanState(!0),"Canvas"===this.mode&&this.constraints&Un.Virtualization&&this.refreshDiagramLayer()},t.prototype.initData=function(){var e=this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource;!this.dataBindingModule||this.realActions&Gs.PreventDataInit||(e&&this.dataSourceSettings.connectionDataSource.dataManager?(this.nodes=this.generateData(this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource,!0),this.connectors=this.generateData(this.dataSourceSettings.connectionDataSource.dataManager,!1)):e&&e.dataSource&&(e.dataSource.url||"BlazorAdaptor"===e.adaptorName&&!e.dataSource.url)?this.dataBindingModule.initSource(this.dataSourceSettings,this):this.dataBindingModule.initData(this.dataSourceSettings,this))},t.prototype.generateData=function(e,i){var s,n=[];for(s=0;s<e.length;s++){var o=e[parseInt(s.toString(),10)],a=this.makeData(o,!!i);a&&a.id&&(!cX(n,a.id)||!cX(n,a.id))&&n.push(a)}return n},t.prototype.makeData=function(e,i){var n,s=i?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource,o={};if(o.id=e[s.id]?e[s.id]:kn(),s.sourceID&&(o.sourceID=e[s.sourceID]),s.targetID&&(o.targetID=e[s.targetID]),e[s.sourcePointX]&&e[s.sourcePointY]&&(o.sourcePoint={x:Number(e[s.sourcePointX]),y:Number(e[s.sourcePointY])}),e[s.targetPointX]&&e[s.targetPointY]&&(o.targetPoint={x:Number(e[s.targetPointX]),y:Number(e[s.targetPointY])}),s.crudAction.customFields&&s.crudAction.customFields.length>0)for(n=0;n<s.crudAction.customFields.length;n++)o[s.crudAction.customFields[parseInt(n.toString(),10)]]=e[s.crudAction.customFields[parseInt(n.toString(),10)]];return o},t.prototype.initNodes=function(e,i){this.preventDiagramUpdate=!0,this.initObject(e,i),this.preventDiagramUpdate=!1},t.prototype.initConnectors=function(e,i,n){this.preventDiagramUpdate=!0,this.initObject(e,i,n),this.updateEdges(e),this.preventDiagramUpdate=!1},t.prototype.setZIndex=function(e,i){var n=e;if(-1===i.zIndex){for(;n.zIndexTable[n.objectZIndex+1];)e.objectZIndex++;i.zIndex=++n.objectZIndex}else{var s=i.zIndex;if(n.zIndexTable[parseInt(s.toString(),10)])for(var o=Object.keys(n.zIndexTable).length,a=0;a<o;a++)if(a===s){for(var l=o;l>s;l--)n.zIndexTable[parseInt(l.toString(),10)]=n.zIndexTable[l-1],this.nameTable[n.zIndexTable[parseInt(l.toString(),10)]]&&(this.nameTable[n.zIndexTable[parseInt(l.toString(),10)]].zIndex=l);n.zIndexTable[parseInt(a.toString(),10)]=i.id}}},t.prototype.initializeDiagramLayers=function(){for(var e=0;e<this.layers.length;e++)if(-1!==this.layers[parseInt(e.toString(),10)].zIndex){var i=this.layers[parseInt(e.toString(),10)];this.layers[parseInt(e.toString(),10)]=this.layers[this.layers[parseInt(e.toString(),10)].zIndex],this.layers[i.zIndex]=i}for(var n=0,s=this.layers;n<s.length;n++){var o=s[n];o.zIndex=-1!==o.zIndex?o.zIndex:this.layers.indexOf(o),this.layerZIndexTable[o.zIndex]=o.id}for(e=0;e<this.layers.length;e++)for(var a=e+1;a<this.layers.length;a++)this.layers[parseInt(e.toString(),10)].zIndex>this.layers[parseInt(a.toString(),10)].zIndex&&(i=this.layers[parseInt(e.toString(),10)],this.layers[parseInt(e.toString(),10)]=this.layers[parseInt(a.toString(),10)],this.layers[parseInt(a.toString(),10)]=i);0===this.layers.length&&this.commandHandler.addLayer({id:"default_layer",visible:!0,lock:!1,objects:[],zIndex:0,objectZIndex:-1,zIndexTable:{}},null,!0),this.setActiveLayer(this.layers[this.layers.length-1].id)},t.prototype.resetTool=function(){this.eventHandler.resetTool()},t.prototype.initObjectExtend=function(e,i,n){if(n){var s=this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds);if("SwimLane"==e.shape.type)for(var o=0,a=Object.keys(i.zIndexTable);o<a.length;o++)i.zIndexTable[a[parseInt(o.toString(),10)]]&&i.zIndexTable[a[parseInt(o.toString(),10)]]===e.id&&delete i.zIndexTable[a[parseInt(o.toString(),10)]];if(i.zIndexTable[e.zIndex]=e.id,!s){var l=e instanceof Et?this.nodes:this.connectors;for(o=0;o<=l.length;o++)l[parseInt(o.toString(),10)]&&e.id===l[parseInt(o.toString(),10)].id&&l.splice(o,1);delete i.zIndexTable[e.zIndex]}}},t.prototype.initObject=function(e,i,n,s){if(void 0===n&&(n=!0),void 0!==e){if(n&&(i||(this.addToLayer(e,!1),i=this.activeLayer),(e instanceof Et||e instanceof Gt)&&("SwimLane"!==e.shape.type||e.children&&e.children.length>0)&&this.setZIndex(i,e)),e instanceof Et){if(n){if("helper"!==e.id&&(o=ho(this.getNodeDefaults))){if((a=o(e,this))&&a.ports)for(var l=0;l<a.ports.length;l++)a.ports[parseInt(l.toString(),10)].inEdges=[],a.ports[parseInt(l.toString(),10)].outEdges=[];a&&a!==e&&ok(a,e)}this.initNode(e,this.element.id)}}else if(e instanceof Gt){var o,a;(o=ho(this.getConnectorDefaults))&&((a=o(e,this))&&a!==e&&ok(a,e),e.segments.length&&e.type!==e.segments[0].type&&(e.segments=[]));var h=this.nameTable[e.sourceID],c=this.nameTable[e.targetID],u=this.getConnectedPort(h,e,!0),d=this.getConnectedPort(c,e),p=this.findInOutConnectPorts(h,!1),f=this.findInOutConnectPorts(c,!0);if((void 0!==h&&Nv(h)||""!==e.sourcePortID&&Ob(p))&&(e.sourceWrapper=this.getEndNodeWrapper(h,e,!0),e.sourcePortID&&u&&u.constraints&&!(u.constraints&kr.None)&&u.constraints&kr.OutConnect&&(e.sourcePortWrapper=this.getWrapper(h.wrapper,e.sourcePortID))),(void 0!==c&&Ud(c)||""!==e.targetPortID&&kv(f))&&(e.targetWrapper=this.getEndNodeWrapper(c,e,!1),e.targetPortID&&d&&d.constraints&&!(d.constraints&kr.None)&&d.constraints&kr.InConnect&&(e.targetPortWrapper=this.getWrapper(c.wrapper,e.targetPortID))),!n){var m=e.getConnectorPoints(e.type);$L(e,m)}n&&e.init(this);for(var M=0;M<e.wrapper.children.length;M++)this.pathTable[e.wrapper.children[parseInt(M.toString(),10)].data]&&(e.wrapper.children[parseInt(M.toString(),10)].absoluteBounds=this.pathTable[e.wrapper.children[parseInt(M.toString(),10)].data].absoluteBounds);e.wrapper.measure(new pi(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize),e instanceof Gt&&"Bezier"===e.type&&(this.updateConnectorAnnotation(e),this.updateConnectorfixedUserHandles(e));for(var T=0;T<e.wrapper.children.length;T++)this.pathTable[e.wrapper.children[parseInt(T.toString(),10)].data]={},this.pathTable[e.wrapper.children[parseInt(T.toString(),10)].data].absoluteBounds=e.wrapper.children[parseInt(T.toString(),10)].absoluteBounds}if(e instanceof Et&&e.children&&e.container)for(l=0;l<e.children.length;l++)this.nameTable[e.children[parseInt(l.toString(),10)]].offsetX=this.nameTable[e.children[parseInt(l.toString(),10)]].wrapper.offsetX,this.nameTable[e.children[parseInt(l.toString(),10)]].offsetY=this.nameTable[e.children[parseInt(l.toString(),10)]].wrapper.offsetY;if(this.bpmnModule&&e instanceof Et&&"Bpmn"===e.shape.type&&e.shape.annotations.length>0&&this.bpmnModule.updateQuad(e,this),this.initObjectExtend(e,i,n),this.nameTable[e.id]=e,e instanceof Et&&e.children){for(this.preventNodesUpdate=!0,this.preventConnectorsUpdate=!0,!s&&!e.container&&this.updateGroupOffset(e,!0),this.groupTable[e.id]=e.children,l=0;l<e.children.length;l++){var P=this.nameTable[e.children[parseInt(l.toString(),10)]];P&&(P.parentId=e.id)}!this.isLoading&&e.rotateAngle&&!e.container&&this.commandHandler.rotateObjects(e,[e],e.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),this.preventNodesUpdate=!1,this.preventConnectorsUpdate=!1}void 0===this.enterObject&&this.updateQuad(e)}!1===e.visible&&this.updateElementVisibility(e.wrapper,e,!1)},t.prototype.getConnectedPort=function(e,i,n){if(e&&e.ports)for(var s=0,o=e.ports;s<o.length;s++){var a=o[s];if(a.id===i.sourcePortID&&n)return a;if(a.id===i.targetPortID&&!n)return a}return null},t.prototype.scaleObject=function(e,i,n){var s=n?e.wrapper.actualSize.width:e.wrapper.actualSize.height,o=n?1+(i-s)/s:1,a=n?1:1+(i-s)/s;this.realActions|=Gs.PreventDrag,this.scale(e,o,a,{x:.5,y:.5}),this.realActions&=~Gs.PreventDrag},t.prototype.updateDefaultLayoutIcons=function(e){("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type||"ComplexHierarchicalTree"===this.layout.type)&&(this.updateDefaultLayoutIcon(e,e.expandIcon),this.updateDefaultLayoutIcon(e,e.collapseIcon))},t.prototype.updateDefaultLayoutIcon=function(e,i){if("None"!==i.shape&&"Auto"===i.horizontalAlignment&&"Auto"===i.verticalAlignment&&.5===i.offset.x&&1===i.offset.y){var n=this.getWrapper(e.wrapper,"icon_content"),s=void 0,o=void 0;"TopToBottom"===this.layout.orientation||"BottomToTop"===this.layout.orientation?(s=.5,o="TopToBottom"===this.layout.orientation?1:0):("RightToLeft"===this.layout.orientation||"LeftToRight"===this.layout.orientation)&&(s="LeftToRight"===this.layout.orientation?1:0,o=.5),n.setOffsetWithRespectToBounds(s,o,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)}},t.prototype.updateGroupOffset=function(e,i){var n=!1;if(e.children&&e.children.length>0&&!e.container||e.processId){var s=this.nameTable[e.id];if(!(this.realActions&Gs.PreventScale||this.realActions&Gs.PreventDrag)){if(s.offsetX&&(this.realActions&Gs.EnableGroupAction||!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.ToolAction||this.diagramActions&Dt.PublicMethod))){this.realActions|=Gs.PreventScale;var o=s.offsetX-e.wrapper.offsetX;s.offsetX=e.wrapper.offsetX;var a=s.offsetY-e.wrapper.offsetY;s.offsetY=e.wrapper.offsetY,"None"===e.flip&&o+a!==0&&this.drag(s,o,a),this.realActions&=~Gs.PreventScale}else ge()&&(this.insertValue(rt(s),!0),n=!0),s.offsetX=e.wrapper.offsetX;s.offsetY&&(this.realActions&Gs.EnableGroupAction||!(this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.ToolAction||this.diagramActions&Dt.PublicMethod))?(this.realActions|=Gs.PreventScale,a=s.offsetY-e.wrapper.offsetY,s.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(s,0,a),this.realActions&=~Gs.PreventScale):(ge()&&(this.insertValue(rt(s),!0),n=!0),s.offsetY=e.wrapper.offsetY),this.diagramActions&&(ge()&&(this.insertValue(rt(s),!0),n=!0),s.width=e.wrapper.actualSize.width,s.height=e.wrapper.actualSize.height)}}i&&e.children&&e.children.length>0&&(void 0!==this.nameTable[e.id].width?this.scaleObject(e,this.nameTable[e.id].width,!0):(ge()&&(this.insertValue(rt(this.nameTable[e.id]),!0),n=!0),this.nameTable[e.id].width=e.wrapper.actualSize.width),void 0!==this.nameTable[e.id].height?this.scaleObject(e,this.nameTable[e.id].height,!1):(ge()&&(this.insertValue(rt(this.nameTable[e.id]),!0),n=!0),this.nameTable[e.id].height=e.wrapper.actualSize.height)),n&&!(this.diagramActions&Dt.UndoRedo)&&!(this.diagramActions&Dt.ToolAction)&&!(this.diagramActions&Dt.PublicMethod)&&this.commandHandler.getBlazorOldValues()},t.prototype.initNode=function(e,i,n){var a,p,s=e.initContainer(),o=new Ds;if(this.diagramSettings.inversedAlignment||(s.inversedAlignment=!1),s.children||(s.children=[]),e.children){s.measureChildren=!1,o.id=e.id+"group_container",o.style.fill="none",o.style.strokeColor="none",o.horizontalAlignment="Stretch",o.verticalAlignment="Stretch",s.style=e.style,s.padding.left=e.padding.left,s.padding.right=e.padding.right,s.padding.top=e.padding.top,s.padding.bottom=e.padding.bottom,o.children=[],o.preventContainer=!0,e.container&&(o.relativeMode="Object");var l=!!(e.ports&&e.ports.length>0);if(v(e.container)&&!l&&s.children.push(o),e.container&&"Grid"===e.container.type)for(var h=0;h<e.children.length;h++){var c=new Ds,u=this.nameTable[e.children[h]];c.children=[],c.children.push(u.wrapper),u&&s.addObject(u.wrapper,u.rowIndex,u.columnIndex,u.rowSpan,u.columnSpan)}else for(h=0;h<e.children.length;h++)this.nameTable[e.children[h]]&&(this.updateStackProperty(e,u=this.nameTable[e.children[h]],h),s.children.push(u.wrapper),s.elementActions=s.elementActions|Na.ElementIsGroup,u.wrapper.flip="None"===u.wrapper.flip?e.wrapper.flip:u.wrapper.flip);(l||e.container&&"Grid"!==e.container.type)&&s.children.push(o)}else{var d=ho(this.setNodeTemplate);d&&"helper"!==e.id&&(a=d(e,this)),a||(a=e.init(this)),s.children.push(a)}p=ho(this.getDescription),(e.children?s:a).description=p||(e.annotations.length?e.annotations[0].content:e.id);var f=e.children?o:s;for(e.initAnnotations(this.getDescription,f,this.element.id,!!hc(this),this.annotationTemplate),e.initPorts(this.getDescription,f),e.initIcons(this.getDescription,this.layout,f,i),h=0;h<e.fixedUserHandles.length;h++){var m=e.initfixedUserHandles(e.fixedUserHandles[h]);f.children.push(m)}if("SwimLane"===e.shape.type&&e.wrapper&&e.wrapper.children.length>0&&e.wrapper.children[0]instanceof Kx){if(this.setZIndex(this.activeLayer,e),this.connectors.length>0)for(h=0;h<this.connectors.length;h++){var M=this.connectors[h];M.sourceID&&M.targetID&&-1===this.activeLayer.objects.indexOf(M.sourceID)&&-1===this.activeLayer.objects.indexOf(M.targetID)&&this.setZIndex(this.activeLayer,M)}jw(e),function qge(r,t){var a,l,c,u,d,p,f,m,e=t.wrapper.children[0],i=t.shape,n=i.padding,s=i.lanes,o=e.bounds.y,h=i.phaseSize>0?i.phases.length:0,M="Horizontal"===i.orientation,T=M?i.phases.length||1:s.length+1,P=M?(i.header&&i.hasHeader?1:0)+(i.phases.length>0?1:0)+i.lanes.length:(i.header&&i.hasHeader?1:0)+i.phases.length;if(0===h&&!M&&i.lanes.length&&(P+=1),M?(a=(i.header&&i.hasHeader?1:0)+(h>0?1:0),l=0):(a=i.header&&i.hasHeader?1:0,l=h>0?1:0),s.length>0)for(o+=i.header&&i.hasHeader?i.header.height:0,p=0;p<s.length;p++){for(f=0;f<s[parseInt(p.toString(),10)].children.length;f++)if((c=s[parseInt(p.toString(),10)].children[parseInt(f.toString(),10)]).offsetX=s[parseInt(p.toString(),10)].width,c.offsetY=s[parseInt(p.toString(),10)].height,r.initObject(c),r.nodes.push(c),"Bpmn"===c.shape.type&&c.shape.annotations&&c.shape.annotations.length>0&&(t.isTextNode=!0),u=c.wrapper,M){for(m=l;m<T;m++)if(d=e.rows[parseInt(a.toString(),10)].cells[parseInt(m.toString(),10)],u.margin.left<d.bounds.right-e.bounds.x){c.parentId=d.children[0].id,m>l?u.margin.left=u.margin.left-(d.bounds.left-e.bounds.left):d.children[0].children[1].actualSize.width+n>=u.margin.left&&(u.margin.left=d.children[0].children[1].actualSize.width+n),u.margin.left<n&&(u.margin.left=n),u.margin.top<n&&(u.margin.top=n),_G(u,c,r);break}}else for(var U=a;U<P;U++)if(d=e.rows[parseInt(U.toString(),10)].cells[parseInt(l.toString(),10)],u.margin.top<d.bounds.bottom-o){c.parentId=d.children[0].id,U>a?u.margin.top=u.margin.top-(d.bounds.top-o):d.children[0].children[1].actualSize.height+n>=u.margin.top&&(u.margin.top=d.children[0].children[1].actualSize.height+n),u.margin.left<n&&(u.margin.left=n),u.margin.top<n&&(u.margin.top=n),_G(u,c,r);break}M?a++:l++}e.measure(new pi(t.width,t.height)),e.arrange(e.desiredSize),function Zge(r,t){var n,s,o,a,l,h,e=r.columnDefinitions(),i=r.rowDefinitions(),c=_L(t);"Vertical"===t.shape.orientation&&0===c&&(c=t.shape.header&&t.shape.hasHeader?1:0);var u=t.shape.padding;for(n=0;n<e.length;n++)r.updateColumnWidth(n,e[parseInt(n.toString(),10)].width,!0,u);for(n=c;n<i.length;n++)r.updateRowHeight(n,i[parseInt(n.toString(),10)].height,!0,u);for(s=0;s<i.length;s++)for(h=r.rows[parseInt(s.toString(),10)],n=0;n<e.length;n++)if((a=h.cells[parseInt(n.toString(),10)]).children&&a.children.length>0)for(o=0;o<a.children.length;o++)(l=a.children[parseInt(o.toString(),10)]).maxWidth&&(l.maxWidth=a.actualSize.width),l.maxHeight&&(l.maxHeight=a.actualSize.height)}(e,t),t.width=t.wrapper.width=e.width,t.height=t.wrapper.height=e.height,Ty(r,t),t.wrapper.measure(new pi(t.width,t.height)),t.wrapper.arrange(e.desiredSize),function cve(r){if("SwimLane"===r.shape.type)for(var t=r.shape.lanes,e=void 0,i=void 0,n=0;n<t.length;n++){e=t[parseInt(n.toString(),10)];for(var s=0;s<e.children.length;s++)(i=e.children[parseInt(s.toString(),10)]).offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY}}(t),NL(t,r),RG(t)}(this,e),this.updateDiagramElementQuad()}else s.measure(new pi(e.width,e.height),e.id,this.onLoadImageSize.bind(this)),s instanceof Kx?s.arrange(s.desiredSize,!0):s.arrange(s.desiredSize);"None"!==e.wrapper.flip&&e.wrapper.elementActions&Na.ElementIsGroup&&C4(e.wrapper,e.wrapper.offsetX,e.wrapper.offsetY,this,e.wrapper.flip),e instanceof Et&&e.container&&(e.width<s.outerBounds.width||e.height<s.outerBounds.height)&&s.bounds.x<=s.outerBounds.x&&s.bounds.y<=s.outerBounds.y&&(e.width=s.width=s.outerBounds.width,e.height=s.height=s.outerBounds.height,s.measure(new pi(e.width,e.height)),s.arrange(s.desiredSize)),e.container&&"Grid"===e.container.type&&e.children&&e.children.length>0&&this.updateChildPosition(e)},t.prototype.updateDiagramElementQuad=function(){for(var e=0;e<this.nodes.length;e++)this.nodes[parseInt(e.toString(),10)].wrapper&&this.nodes[parseInt(e.toString(),10)].wrapper instanceof Fh&&this.updateQuad(this.nodes[parseInt(e.toString(),10)])},t.prototype.onLoadImageSize=function(e,i){var n=this.getObject(e),s=document.getElementById(e+"sf-imageNode");s&&s.parentNode.removeChild(s),this.nodePropertyChange(n,{},{width:i.width,height:i.height});var o={element:rt(n),size:i};this.triggerEvent(_i.onImageLoad,o)},t.prototype.updateChildPosition=function(e){for(var i=0;i<e.children.length;i++){var n=this.getObject(e.children[parseInt(i.toString(),10)]);n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY,n.children&&n.children.length>0&&this.updateChildPosition(n)}},t.prototype.canExecute=function(){return!0},t.prototype.updateStackProperty=function(e,i,n){e.container&&"Stack"===e.container.type&&(i.width||(i.wrapper.horizontalAlignment="Stretch",i.horizontalAlignment="Stretch"),i.height||(i.verticalAlignment="Stretch",i.wrapper.verticalAlignment="Stretch"),n&&"UmlClassifier"===e.shape.type&&(i.umlIndex=n))},t.prototype.initViews=function(){this.isLoading||(this.views.push(this.element.id),this.views[this.element.id]=this)},t.prototype.initCommands=function(){var e=this.commandManager.commands,i={copy:{execute:this.copyCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.C,keyModifiers:oc.Control}},paste:{execute:this.pasteCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.V,keyModifiers:oc.Control}},cut:{execute:this.cutCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.X,keyModifiers:oc.Control}},delete:{execute:this.removeCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.Delete}},selectAll:{execute:this.selectAll.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.A,keyModifiers:oc.Control}},undo:{execute:this.undo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.Z,keyModifiers:oc.Control}},redo:{execute:this.redo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.Y,keyModifiers:oc.Control}},nudgeUp:{execute:this.nudgeCommand.bind(this,"Up"),canExecute:this.canExecute.bind(this),gesture:{key:bh.Up},parameter:"up"},nudgeRight:{execute:this.nudgeCommand.bind(this,"Right"),canExecute:this.canExecute.bind(this),gesture:{key:bh.Right},parameter:"right"},nudgeDown:{execute:this.nudgeCommand.bind(this,"Down"),canExecute:this.canExecute.bind(this),gesture:{key:bh.Down},parameter:"down"},nudgeLeft:{execute:this.nudgeCommand.bind(this,"Left"),canExecute:this.canExecute.bind(this),gesture:{key:bh.Left},parameter:"left"},startEdit:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.F2}},endEdit:{execute:this.endEditCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.Escape}},focusToNextItem:{canExecute:this.canExecute.bind(this),gesture:{key:bh.Tab}},focusToPreviousItem:{canExecute:this.canExecute.bind(this),gesture:{key:bh.Tab,keyModifiers:oc.Control}},selectFocusedItem:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:bh.Enter}}};this.initCommandManager(e,i)},t.prototype.overrideCommands=function(e,i){for(var n,s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];if(e.gesture.key===(n=i[""+a]).gesture.key&&e.gesture.keyModifiers===n.gesture.keyModifiers){delete i[""+a];break}}},t.prototype.initCommandManager=function(e,i){var n=0;if(e)for(n=0;n<e.length;n++)i[e[parseInt(n.toString(),10)].name]&&e[parseInt(n.toString(),10)]?(e[parseInt(n.toString(),10)].canExecute&&(i[e[parseInt(n.toString(),10)].name].canExecute=e[parseInt(n.toString(),10)].canExecute),e[parseInt(n.toString(),10)].execute&&(i[e[parseInt(n.toString(),10)].name].execute=e[parseInt(n.toString(),10)].execute),(e[parseInt(n.toString(),10)].gesture.key||e[parseInt(n.toString(),10)].gesture.keyModifiers)&&(i[e[parseInt(n.toString(),10)].name].gesture=e[parseInt(n.toString(),10)].gesture),""!==e[parseInt(n.toString(),10)].parameter&&(i[e[parseInt(n.toString(),10)].name].parameter=e[parseInt(n.toString(),10)].parameter)):(this.overrideCommands(e[parseInt(n.toString(),10)],i),i[e[parseInt(n.toString(),10)].name]={execute:e[parseInt(n.toString(),10)].execute,canExecute:e[parseInt(n.toString(),10)].canExecute,gesture:e[parseInt(n.toString(),10)].gesture,parameter:e[parseInt(n.toString(),10)].parameter});this.commands=i},t.prototype.updateNodeEdges=function(e){for(var i=0,n=e.inEdges;i<n.length;i++)this.nameTable[""+(s=n[i])]&&(this.nameTable[""+s].targetID="");for(var o=0,a=e.outEdges;o<a.length;o++){var s;this.nameTable[""+(s=a[o])]&&(this.nameTable[""+s].sourceID="")}e.inEdges=[],e.outEdges=[]},t.prototype.updateIconVisibility=function(e,i){for(var n=0;n<e.wrapper.children.length;n++){var s=e.wrapper.children[parseInt(n.toString(),10)];if(s.id){var o=s.id.split(e.id)[1];o&&o.match("^_icon")&&(s.visible=i,this.updateDiagramContainerVisibility(s,i))}}},t.prototype.updateEdges=function(e){if(void 0!==e.sourceID&&""!==e.sourceID){var i=this.nameTable[e.sourceID];i&&i.outEdges&&0===i.outEdges.length&&(i.outEdges=[]),i&&i.outEdges&&-1===i.outEdges.indexOf(e.id)&&i.outEdges.push(e.id),this.updatePortEdges(i,e,!1)}if(void 0!==e.targetID&&""!==e.targetID){var n=this.nameTable[e.targetID];n&&n.inEdges&&0===n.inEdges.length&&(n.inEdges=[]),n&&n.inEdges&&-1===n.inEdges.indexOf(e.id)&&n.inEdges.push(e.id),this.updatePortEdges(n,e,!0),n&&n.visible&&n.outEdges&&this.updateIconVisibility(n,0!==n.outEdges.length)}},t.prototype.updatePortEdges=function(e,i,n){if(e)for(var s=0;s<e.ports.length;s++){var o=e.ports[parseInt(s.toString(),10)];if(o.id===(n?i.targetPortID:i.sourcePortID)){var l=n?o.inEdges:o.outEdges;-1===l.indexOf(i.id)&&l.push(i.id)}}},t.prototype.refreshDiagram=function(){if(this.initLayerObjects(),this.doLayout(),this.updateBridging(),this.scroller.setSize(),this.addBlazorDiagramObjects(),ge()&&this.layout&&this.layout.layoutInfo&&this.layout.layoutInfo.isRootInverse&&this.nodes.length>2){var e=this.nodes[0];if(e.outEdges.length>1)for(var i=this.isProtectedOnChange,n=1;n<e.outEdges.length;n++){var s=this.nameTable[e.outEdges[parseInt(n.toString(),10)]],o=this.allowServerDataBinding;this.protectPropertyChange(!1),this.enableServerDataBinding(!1),this.preventDiagramUpdate=!0,"Left"===this.getObject(s.targetID).data.Branch&&(s.sourcePortID=e.ports[1].id),this.dataBind(),this.preventDiagramUpdate=!1,this.enableServerDataBinding(o),this.protectPropertyChange(i)}}if(ge())for(var l=void 0,h=0,c=this.views;h<c.length;h++)(l=this.views[""+c[h]]).renderDocument&&(l.renderDocument(l),l.diagramRenderer.setLayers(),l.updateView(l),this.renderNodes(l));this.updateFitToPage()},t.prototype.updateCanupdateStyle=function(e,i){for(var n=0;n<e.length;n++)e[parseInt(n.toString(),10)].children&&this.updateCanupdateStyle(e[parseInt(n.toString(),10)].children,i),e[parseInt(n.toString(),10)].canApplyStyle=i},t.prototype.getZindexPosition=function(e,i){var o,n=[],s=void 0;if(n=(n=n.concat(this.nodes)).concat(this.connectors),-1!==e.zIndex)for(var a=0;a<n.length;a++)if(n[parseInt(a.toString(),10)].zIndex>e.zIndex){("HTML"===e.shape.type||"Native"===e.shape.type)&&(o="HTML"===e.shape.type?"html":"native"),s=tye(i,n[parseInt(a.toString(),10)].id,o);break}return s},t.prototype.updateDiagramObject=function(e,i,n){for(var s,o="domTable",a=0,l=this.views;a<l.length;a++)if(s=this.views[""+l[a]],this.diagramActions&&"SVG"===s.mode){var u=void 0;if(this.layers.length>1&&(u=this.commandHandler.getObjectLayer(e.id)),void 0===u||u&&u.visible||n){var d=fu(this.element.id);window[""+o][s.element.id+"_diagramLayer"]||(window[""+o][s.element.id+"_diagramLayer"]=document.getElementById(s.element.id+"_diagramLayer"));var p=window[""+o][s.element.id+"_diagramLayer"];this.diagramActions&Dt.Interactions&&this.updateCanupdateStyle(e.wrapper.children,!0);var f=this.getMidPoint(e);this.diagramRenderer.updateNode(e.wrapper,p,d,void 0,i?void 0:this.getZindexPosition(e,s.element.id),f,this.portCenterPoint),this.updateCanupdateStyle(e.wrapper.children,!0)}}},t.prototype.applyMarginBezier=function(e,i){for(var n=0;n<e.wrapper.children.length;n++)e.wrapper&&e.wrapper.children[parseInt(n.toString(),10)]instanceof Qr&&(i.cx=i.cx+e.wrapper.children[parseInt(n.toString(),10)].margin.left,i.cx=i.cx-e.wrapper.children[parseInt(n.toString(),10)].margin.right,i.cy=i.cy+e.wrapper.children[parseInt(n.toString(),10)].margin.top,i.cy=i.cy-e.wrapper.children[parseInt(n.toString(),10)].margin.bottom)},t.prototype.getMidPoint=function(e){var n,i=e.annotations[0]?e.annotations[0].offset:.5;if(e instanceof Gt&&"Bezier"===e.type){var s=this.getBezierPoints(e),o=Be.getLengthFromListOfPoints(s),l=this.commandHandler.getPointAtLength(i*o,s,0);this.applyMarginBezier(e,n={cx:l.x,cy:l.y}),this.applyAlignment(e,n);for(var h=0;h<e.ports.length;h++)for(var c=e.ports[parseInt(h.toString(),10)].offset?e.ports[parseInt(h.toString(),10)].offset:.5,d=this.commandHandler.getPointAtLength(c*o,s,0),p={cx:d.x,cy:d.y},f=0;f<e.wrapper.children.length;f++)e.wrapper&&e.wrapper.children[parseInt(f.toString(),10)]instanceof Nn&&e.wrapper.children[parseInt(f.toString(),10)].isPathPort&&e.wrapper.children[parseInt(f.toString(),10)].id===e.id+"_"+e.ports[parseInt(h.toString(),10)].id&&(this.portCenterPoint[e.id+"_"+e.ports[parseInt(h.toString(),10)].id]=this.applyPortAlignment(e.wrapper.children[parseInt(f.toString(),10)],p,e.ports[parseInt(h.toString(),10)].displacement))}return n},t.prototype.applyAlignment=function(e,i){for(var n=0;n<e.wrapper.children.length;n++)if(e.wrapper&&e.wrapper.children[parseInt(n.toString(),10)]instanceof Qr){var s=e.wrapper.children[parseInt(n.toString(),10)];switch(s.horizontalAlignment){case"Auto":case"Left":i.cx=s.inversedAlignment?i.cx:i.cx-s.desiredSize.width;break;case"Stretch":case"Center":i.cx-=s.desiredSize.width*s.pivot.x;break;case"Right":i.cx=s.inversedAlignment?i.cx-s.desiredSize.width:i.cx}switch(s.verticalAlignment){case"Auto":case"Top":i.cy=s.inversedAlignment?i.cy:i.cy-s.desiredSize.height;break;case"Stretch":case"Center":i.cy-=s.desiredSize.height*s.pivot.y;break;case"Bottom":i.cy=s.inversedAlignment?i.cy-s.desiredSize.height:i.cy}}},t.prototype.applyPortAlignment=function(e,i,n){switch(e.horizontalAlignment){case"Auto":case"Left":i.cx=e.inversedAlignment?i.cx:i.cx-e.desiredSize.width,i.cx+=n.x;break;case"Stretch":case"Center":i.cx-=e.desiredSize.width*e.pivot.x;break;case"Right":i.cx=e.inversedAlignment?i.cx-e.desiredSize.width:i.cx,i.cx-=n.x}switch(e.verticalAlignment){case"Auto":case"Top":i.cy=e.inversedAlignment?i.cy:i.cy-e.desiredSize.height,i.cy+=n.y;break;case"Stretch":case"Center":i.cy-=e.desiredSize.height*e.pivot.y;break;case"Bottom":i.cy=e.inversedAlignment?i.cy-e.desiredSize.height:i.cy,i.cy-=n.y}return i},t.prototype.getBezierPoints=function(e){var n,i=[],s={x:e.sourcePoint.x,y:e.sourcePoint.y};for(i.push(s),n=0;n<e.segments.length;n++){var o=e.segments[parseInt(n.toString(),10)].getPoints(e.segments[parseInt(n.toString(),10)],s);i.push.apply(i,o),s=i[i.length-1]}return i},t.prototype.updateGridContainer=function(e){for(var i,n=fu(this.element.id),s=0,o=this.views;s<o.length;s++)if("SVG"===(i=this.views[""+o[s]]).mode&&this.diagramActions){var l=document.getElementById(i.element.id+"_diagramLayer");this.diagramRenderer.updateNode(e,l,n,void 0)}else this.refreshCanvasDiagramLayer(i)},t.prototype.getObjectsOfLayer=function(e){for(var i=[],n=0,s=e;n<s.length;n++){var o=s[n];this.nameTable[""+o]&&i.push(this.nameTable[""+o])}return i},t.prototype.refreshDiagramLayer=function(){for(var e,i=0,n=this.views;i<n.length;i++)switch((e=this.views[""+n[i]]).mode){case"SVG":this.refreshSvgDiagramLayer(e);break;case"Canvas":this.refreshCanvasLayers(e)}},t.prototype.refreshCanvasLayers=function(e){if(e)this.refreshCanvasDiagramLayer(e);else for(var i=0,n=this.views;i<n.length;i++)this.refreshCanvasDiagramLayer(this.views[""+n[i]])},t.prototype.renderBasicElement=function(e){for(var i=fu(e.element.id),n=0;n<this.basicElements.length;n++){var s=this.basicElements[parseInt(n.toString(),10)];s instanceof Fh&&(s.prevRotateAngle=0),s.measure(new pi(s.width,s.height)),s.arrange(s.desiredSize),e.diagramRenderer.renderElement(s,e.diagramLayer,i)}},t.prototype.refreshElements=function(e){if(!this.isDestroyed){this.clearCanvas(e),e instanceof t?(e.diagramLayer.getContext("2d").setTransform(e.scroller.currentZoom,0,0,e.scroller.currentZoom,0,0),e.diagramLayer.getContext("2d").scale(1.5,1.5)):(i=document.getElementById(e.element.id+"_nativeLayer")).children.length>0&&e.updateView(e);var n=fu(e.element.id);this.renderDiagramElements(e.diagramLayer,e.diagramRenderer,n);for(var s=0;s<this.basicElements.length;s++){var i;(i=this.basicElements[parseInt(s.toString(),10)]).measure(new pi(i.width,i.height)),i.arrange(i.desiredSize),e.diagramRenderer.renderElement(i,e.diagramLayer,n)}e instanceof t&&(e.diagramLayer.style.transform="scale("+2/3+")",e.diagramLayer.style.transformOrigin="0 0"),this.renderTimer=null}},t.prototype.refreshCanvasDiagramLayer=function(e){var i=this;"SVG"!==e.mode&&!this.isDestroyed&&(this.basicElements.length>0&&this.renderBasicElement(e),!this.diagramActions||!(this.diagramActions&Dt.Render)||Dt.ToolAction&this.diagramActions||hc(this)||1!==this.scroller.currentZoom?this.refreshElements(e):this.renderTimer||(this.renderTimer=setTimeout(function(){i.refreshElements(e)},40)))},t.prototype.updatePortVisibility=function(e,i,n){var s;if((e instanceof Et||e instanceof Gt)&&(!this.drawingObject||!this.drawingObject.shape)&&Vc(e)){for(var a=e.ports,l=!1,h=0;h<a.length;h++)s=this.getWrapper(e.wrapper,a[parseInt(h.toString(),10)].id),(i&zi.Hover||i&zi.Connect)&&Yd(a[parseInt(h.toString(),10)],i)&&(s.visible=!n,l=!0);l&&this.updateDiagramObject(e),"Canvas"===this.mode&&this.refreshCanvasLayers()}},t.prototype.refreshSvgDiagramLayer=function(e){var i,n=document.getElementById(e.element.id+"_diagramLayer"),s=fu(e.element.id);if(hc(this))this.scroller.virtualizeElements();else{for(var o=0;o<this.basicElements.length;o++)(i=this.basicElements[parseInt(o.toString(),10)]).measure(new pi(i.width,i.height)),i.arrange(i.desiredSize,!(this.diagramActions&Dt.Render)),this.diagramRenderer.renderElement(i,n,s);this.renderDiagramElements(n,this.diagramRenderer,s)}},t.prototype.removeVirtualObjects=function(e){if(this.deleteVirtualObject){for(var i=0;i<this.scroller.removeCollection.length;i++){var n=this.nameTable[this.scroller.removeCollection[parseInt(i.toString(),10)]];null!=n&&this.removeElements(n)}this.deleteVirtualObject=!1}clearInterval(e)},t.prototype.updateTextElementValue=function(e){for(var i=0;i<e.wrapper.children.length;i++){var n=e.wrapper.children[parseInt(i.toString(),10)];n instanceof Qr&&(n.canMeasure=!0,n.measure(new pi(e.width,e.height)),n.arrange(n.desiredSize))}},t.prototype.updateVirtualObjects=function(e,i,n){var s=document.getElementById(this.element.id+"_diagramLayer"),o=fu(this.element.id);if("SVG"===this.mode){for(var a=0;a<e.length;a++){var l=this.scroller.removeCollection.indexOf(e[parseInt(a.toString(),10)]);l>=0&&this.scroller.removeCollection.splice(l,1);var h=this.nameTable[e[parseInt(a.toString(),10)]];this.updateTextElementValue(h),this.diagramRenderer.renderElement(h.wrapper,s,o,void 0,void 0,void 0,void 0,h.zIndex)}for(var c=0;c<n.length;c++)this.scroller.removeCollection.push(n[parseInt(c.toString(),10)]);1!==this.scroller.currentZoom&&this.eventHandler.updateVirtualization()}else this.diagramActions&&this.refreshDiagramLayer()},t.prototype.renderDiagramElements=function(e,i,n,s,o,a){void 0===s&&(s=!0);var l=this.scroller.getPageBounds();l.x*=this.scroller.currentZoom,l.y*=this.scroller.currentZoom,l.width*=this.scroller.currentZoom,l.height*=this.scroller.currentZoom;for(var u,h=-this.scroller.horizontalOffset-l.x,c=-this.scroller.verticalOffset-l.y,d=0,p=Object.keys(this.layerZIndexTable);d<p.length;d++){var m=this.commandHandler.getLayer(this.layerZIndexTable[""+p[d]]),M=void 0,T=void 0;"Canvas"===this.mode&&hc(this)&&!this.diagramActions&&this.scroller.virtualizeElements();for(var P="Canvas"===this.mode&&hc(this)&&this.scroller.oldCollectionObjects.length>0?this.scroller.oldCollectionObjects:void 0,U=0,Y=Object.keys(P||m.zIndexTable);U<Y.length;U++){var X=Y[U],Q=P?this.nameTable[P[""+X]]:this.nameTable[m.zIndexTable[""+X]];if(Q&&!Q.parentId&&m.visible&&(!Q.processId||this.refreshing)){var oe=void 0;oe=this.scroller.currentZoom<1&&"SVG"==this.mode?{tx:-l.x/this.scroller.currentZoom,ty:-l.y/this.scroller.currentZoom,scale:this.scroller.transform.scale}:{tx:this.scroller.transform.tx,ty:this.scroller.transform.ty,scale:this.scroller.transform.scale},hc(this)&&(this.scroller.currentZoom<1?(l.x<0||this.scroller.horizontalOffset<0?(M=(h>0?h:0)+"px",T=(this.realActions&Gs.vScrollbarMoved?0:-(this.scroller.verticalOffset<0?this.scroller.verticalOffset:0))+"px"):(M="0px",T="0px"),this.realActions&Gs.hScrollbarMoved&&(this.realActions=this.realActions&~Gs.hScrollbarMoved),this.realActions&Gs.vScrollbarMoved&&(this.realActions=this.realActions&~Gs.vScrollbarMoved)):(M=(l.x<0?h:-this.scroller.horizontalOffset)+"px",T=(l.y<0?c:-this.scroller.verticalOffset)+"px"),this.diagramLayer.style.left=M,this.diagramLayer.style.top=T,oe.tx=-l.x/oe.scale,oe.ty=-l.y/oe.scale);var Me=!0;if(o&&(Me=!1),this.updateTextElementValue(Q),this.refreshing&&Q.shape.activity&&Q.shape.activity.subProcess&&Q.shape.activity.subProcess.processes){for(var Ve=0;Ve<Q.shape.activity.subProcess.processes.length;Ve++){var Ce=Q.shape.activity.subProcess.processes[parseInt(Ve.toString(),10)];Q.wrapper.children.push(this.nameTable[""+Ce].wrapper)}Q.wrapper.measure(new pi(Q.wrapper.bounds.width,Q.wrapper.bounds.height)),Q.wrapper.arrange(Q.wrapper.desiredSize)}Q instanceof Gt&&"Bezier"===Q.type?(u=this.getMidPoint(Q),"Canvas"===this.mode&&s&&(u.cx+=oe.tx,u.cy+=oe.ty)):u=null,i.renderElement(Q.wrapper,e,n,!i.isSvgMode&&s?oe:void 0,void 0,void 0,Me&&(!this.diagramActions||a),void 0,void 0,u,this.portCenterPoint)}}}},t.prototype.updateBridging=function(e){if(this.bridgingModule)for(var i=0;i<this.connectors.length;i++){var n=this.connectors[parseInt(i.toString(),10)];this.bridgingModule.updateBridging(n,this);var s=this.connectors[parseInt(i.toString(),10)].wrapper;if(s&&s.children&&s.children.length>0){var o=s.children[0],a=o.data;(n.isBezierEditing&&this.selectedItems.connectors[0].id===n.id||"Bezier"!==n.type)&&n.getSegmentElement(n,o,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0,void 0,!1),o.data!==a&&(s.measure(new pi),s.arrange(s.desiredSize),"SVG"===this.mode&&!e&&this.updateDiagramObject(n))}}},t.prototype.setCursor=function(e){this.diagramRenderer.setCursor(this.diagramCanvas,e)},t.prototype.clearCanvas=function(e){var i=e.contentWidth||e.diagramLayer.width/this.scroller.currentZoom,n=e.contentHeight||e.diagramLayer.height/this.scroller.currentZoom;"SVG"!==e.mode&&gu.getContext(e.diagramLayer).clearRect(0,0,i,n)},t.prototype.updateScrollOffset=function(){this.scroller.setScrollOffset(this.diagramCanvas.scrollLeft,this.diagramCanvas.scrollTop),WL(this),hc(this)&&this.scroller.virtualizeElements()},t.prototype.setOffset=function(e,i){var n="domTable";window[""+n][this.element.id+"content"]||(window[""+n][this.element.id+"content"]=document.getElementById(this.element.id+"content"));var s=window[""+n][this.element.id+"content"];s&&(s.scrollLeft=e,s.scrollTop=i)},t.prototype.setSize=function(e,i){if(this.diagramLayer&&!this.preventDiagramUpdate){var n=$p(this);e-=n.width,i-=n.height;var s=this.spatialSearch.getPageBounds();s.x*=this.scroller.currentZoom,s.y*=this.scroller.currentZoom,s.width*=this.scroller.currentZoom,s.height*=this.scroller.currentZoom;var o="SVG"===this.mode?1:1.5,a="SVG"===this.mode?k4(this.element.id):this.diagramLayer,h="Canvas"===this.mode&&this.constraints&Un.Virtualization?this.scroller.viewPortHeight:i;a.setAttribute("width",(o*("Canvas"===this.mode&&this.constraints&Un.Virtualization?this.scroller.viewPortWidth:e)).toString()),a.setAttribute("height",(o*h).toString());var c=document.getElementById(this.element.id+"_diagramUserHandleLayer");c&&(c.style.width=e+"px",c.style.height=i+"px");var u={width:e.toString(),height:i.toString()};this.diagramLayerDiv.style.width=e+"px",this.diagramLayerDiv.style.height=i+"px",ts(jX(this.element.id),u),ts(function nye(r){return es(r).getElementsByClassName("e-ports-expand-layer")[0]}(this.element.id),u);var d=$f(this.element.id);ts(d,u),d.parentNode.style.width=e+"px",d.parentNode.style.height=i+"px";var p=jb(this.element.id);ts(p,u),this.diagramRenderer.updateGrid(this.snapSettings,p,this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),ts(_4(this.element.id),u),this.htmlLayer.style.width=e+"px",this.htmlLayer.style.height=i+"px","SVG"!==this.mode&&!hc(this)&&this.refreshDiagramLayer(),"SVG"===this.mode&&hc(this)&&this.scroller.virtualizeElements()}},t.prototype.transformLayers=function(){var e=this.spatialSearch.getPageBounds();e.x*=this.scroller.currentZoom,e.y*=this.scroller.currentZoom,e.width*=this.scroller.currentZoom,e.height*=this.scroller.currentZoom,this.diagramRenderer.updateGrid(this.snapSettings,jb(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.diagramRenderer.transformLayers(this.scroller.transform,"SVG"===this.mode),this.diagramActions&Dt.DragUsingMouse||this.updateSelector(),this.renderPageBreaks(e)},t.prototype.removePageBreaks=function(){if(this.diagramLayer){var e=HX(this.element.id);if(e&&e.childNodes)for(var i=e.childNodes.length,n=0;n<i;n++)e.removeChild(e.childNodes[0])}},t.prototype.renderPageBreaks=function(e){this.removePageBreaks();var i=HX(this.element.id);if(i){var n=0;e=this.scroller.getPageBounds(!0);var s=(this.scroller.transform.tx+e.x)*this.scroller.currentZoom,o=(this.scroller.transform.ty+e.y)*this.scroller.currentZoom,a=e.height*this.scroller.currentZoom,l=e.width*this.scroller.currentZoom;if(Py.renderSvgBackGroundImage(this.pageSettings.background,this.element,s,o,l,a),this.diagramRenderer.drawRect(i,{id:i.id+"rect",x:s,y:o,height:a,width:l,angle:0,stroke:"",strokeWidth:1,fill:this.pageSettings.background.color,opacity:1,pivotX:0,pivotY:0,visible:!0,dashArray:"0"}),this.pageSettings.showPageBreaks){var c=this.scroller.getPageBreak(e);for(n=0;n<c.length;n++)this.diagramRenderer.drawLine(i,{class:"e-diagram-page-break",fill:"none",stroke:"#aaaaaa",strokeWidth:1,dashArray:"10 10",opacity:2,x:0,y:0,width:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,startPoint:{x:(c[parseInt(n.toString(),10)].x1+this.scroller.transform.tx)*this.scroller.currentZoom,y:(c[parseInt(n.toString(),10)].y1+this.scroller.transform.ty)*this.scroller.currentZoom},endPoint:{x:(c[parseInt(n.toString(),10)].x2+this.scroller.transform.tx)*this.scroller.currentZoom,y:(c[parseInt(n.toString(),10)].y2+this.scroller.transform.ty)*this.scroller.currentZoom},id:c[parseInt(n.toString(),10)].y1===c[parseInt(n.toString(),10)].y2?"HorizontalLines":"VerticalLines"})}}},t.prototype.validatePageSize=function(){var e=0;"Portrait"===this.pageSettings.orientation?this.pageSettings.width>this.pageSettings.height&&(e=this.pageSettings.height,this.pageSettings.height=this.pageSettings.width,this.pageSettings.width=e):this.pageSettings.height>this.pageSettings.width&&(e=this.pageSettings.width,this.pageSettings.width=this.pageSettings.height,this.pageSettings.height=e)},t.prototype.setOverview=function(e,i){if(e)e&&(this.views.push(e.id),this.views[e.id]=e,e.renderDocument(e),e.diagramRenderer.setLayers(),e.updateView(e),this.renderNodes(e));else{for(var n=0;n<this.views.length;n++)this.views[parseInt(n.toString(),10)]===i&&(e=this.views[""+i]);this.views[""+i]=void 0;var s=this.views.indexOf(i);this.views.splice(s,1)}},t.prototype.renderNodes=function(e){if(e){var i=new Py(e.id,new Gw,!1),n=document.getElementById(e.element.id+"_diagramLayer"),s=fu(e.element.id);this.renderDiagramElements(n,e.diagramRenderer||i,s,void 0,void 0,!0)}},t.prototype.updateThumbConstraints=function(e,i,n){for(var s=e.length,o=0;o<s;o++){var a=e[parseInt(o.toString(),10)],l=!1,h=!1,c=i.thumbsConstraints;a instanceof Et?(l="Bpmn"===a.shape.type&&"Activity"===a.shape.shape&&!1===a.shape.activity.subProcess.collapsed||"TextAnnotation"===a.shape.shape,h="Bpmn"===a.shape.type&&"TextAnnotation"===a.shape.shape,(!DL(a)||!(c&ir.Rotate)||l)&&(c&=~ir.Rotate),(!Xf(a,"SouthEast")||!(c&ir.ResizeSouthEast)||h)&&(c&=~ir.ResizeSouthEast),(!Xf(a,"NorthWest")||!(c&ir.ResizeNorthWest)||h)&&(c&=~ir.ResizeNorthWest),(!Xf(a,"East")||!(c&ir.ResizeEast)||h)&&(c&=~ir.ResizeEast),(!Xf(a,"West")||!(c&ir.ResizeWest)||h)&&(c&=~ir.ResizeWest),(!Xf(a,"North")||!(c&ir.ResizeNorth)||h)&&(c&=~ir.ResizeNorth),(!Xf(a,"South")||!(c&ir.ResizeSouth)||h)&&(c&=~ir.ResizeSouth),(!Xf(a,"NorthEast")||!(c&ir.ResizeNorthEast)||h)&&(c&=~ir.ResizeNorthEast),(!Xf(a,"SouthWest")||!(c&ir.ResizeSouthWest)||h)&&(c&=~ir.ResizeSouthWest)):a instanceof Gt?(n||(c|=ir.Default),ML(a)?c|=ir.ConnectorSource:c&=~ir.ConnectorSource,xL(a)?c|=ir.ConnectorTarget:c&=~ir.ConnectorTarget):(n||(c|=ir.Default),Xf(a)||(c&=~(ir.ResizeSouthEast|ir.ResizeSouthWest|ir.ResizeSouth|ir.ResizeEast|ir.ResizeWest|ir.ResizeNorth|ir.ResizeNorthEast|ir.ResizeNorthWest)),DL(a)||(c&=~ir.Rotate)),i.thumbsConstraints=c}},t.prototype.renderSelector=function(e,i){var n=this.isProtectedOnChange;ge()&&(this.isProtectedOnChange=!0);var c,s=new pi,o=this.selectedItems,l=this.diagramRenderer.rendererActions,h=document.getElementsByClassName("blazor-inner-template");if(this.diagramRenderer.rendererActions=this.currentSymbol?this.addConstraints(l,Yp.DrawSelectorBorder):this.removeConstraints(l,Yp.DrawSelectorBorder),this.clearSelectorLayer(),this.commandHandler.hasSelection()){if(1===o.nodes.length&&0===o.connectors.length&&(o.rotateAngle=o.nodes[0].rotateAngle,o.pivot=o.nodes[0].pivot),o.wrapper.measure(s),o.wrapper.arrange(o.wrapper.desiredSize),o.width=o.wrapper.actualSize.width,o.height=o.wrapper.actualSize.height,o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY,0!==o.rotateAngle){for(var d=0,p=o.nodes;d<p.length;d++){var f=p[d];f.offsetX=f.wrapper.offsetX,f.offsetY=f.wrapper.offsetY}for(var m=0,M=o.connectors;m<M.length;m++);}this.spatialSearch.getPageBounds();var U=bD(this.element.id),Y=P4(this.element.id);if(o.thumbsConstraints=ir.Default,o.annotation?this.updateThumbConstraints([o.annotation],o):(this.updateThumbConstraints(o.nodes,o),this.updateThumbConstraints(o.connectors,o,!0)),o.annotation)this.renderSelectorForAnnotation(o,U);else if(o.nodes.length+o.connectors.length===1||this.nameTable.helper){if(o.nodes[0]instanceof Et){var X=o.nodes[0];wh(this,X)&&!i&&"UmlClassifier"!==X.shape.type&&(!X.parentId||!this.nameTable[X.parentId]||"UmlClassifier"!==this.nameTable[X.parentId].shape.type)&&(X.container&&("Canvas"===X.container.type||"Grid"===X.container.type)||(o.nodes[0].constraints&=~(j.Rotate|j.HideThumbs)),o.thumbsConstraints&=~ir.Rotate);var Q=!!i||!!(X.constraints&j.HideThumbs),oe=!!("SwimLane"===X.shape.type||X.isLane||X.isPhase||i);this.diagramRenderer.renderResizeHandle(o.wrapper.children[0],U,o.thumbsConstraints,this.scroller.currentZoom,o.constraints,this.scroller.transform,void 0,Vc(X),Q,oe,o.handleSize)}else if(o.connectors[0]instanceof Gt&&kL(this.diagramRenderer.rendererActions)){var de=o.connectors[0];this.diagramRenderer.renderEndPointHandle(de,U,o.thumbsConstraints,o.constraints,this.scroller.transform,void 0!==de.sourceWrapper,void 0!==de.targetWrapper,!(!this.connectorEditingToolModule||!ZB(de)),!!this.connectorEditingToolModule,o.handleSize)}}else this.diagramRenderer.renderResizeHandle(o.wrapper,U,o.thumbsConstraints,this.scroller.currentZoom,o.constraints,this.scroller.transform,void 0,Vc(o),null,null,o.handleSize);if(!o.annotation&&!this.currentSymbol&&(this.diagramRenderer.renderUserHandler(o,U,this.scroller.transform,Y),ge()&&h.length>0))for(c=0;c<this.selectedItems.userHandles.length;c++){var Me=this.selectedItems.userHandles[parseInt(c.toString(),10)];document.getElementById(Me.name+"_html_element").style.display="block"}}this.selectedItems.selectedObjects.length>1&&this.updateSelectionRectangle(),this.isProtectedOnChange=n},t.prototype.updateSelectionRectangle=function(){for(var e=bD(this.element.id),i=!1,n=0;n<this.selectedItems.selectedObjects.length;n++)i=0===n,os(this.selectedItems.selectedObjects[parseInt(n.toString(),10)])===Gt?this.diagramRenderer.renderSelectionLine(this.selectedItems.selectedObjects[parseInt(n.toString(),10)].wrapper.children[0],e,this.scroller.transform,i):this.diagramRenderer.renderSelectionRectangle(this.selectedItems.selectedObjects[parseInt(n.toString(),10)].wrapper,e,this.scroller.transform,i)},t.prototype.updateSelector=function(){var e=this.allowServerDataBinding;this.enableServerDataBinding(!1);var a,i=new pi,n=this.selectedItems,s=n.constraints,o=document.getElementsByClassName("blazor-inner-template");if(!(this.diagramActions&Dt.ToolAction)&&1===this.selectedItems.nodes.length&&(this.selectedItems.rotateAngle=this.selectedItems.nodes[0].rotateAngle,this.selectedItems.wrapper.rotateAngle=this.selectedItems.nodes[0].rotateAngle),void 0!==this.selectedItems&&(this.clearSelectorLayer(),null!==n.wrapper&&n.wrapper.children&&n.wrapper.children.length)){var h=!0,c=!0;if(vD(this,n)){var d=this.eventHandler.action,p=d.includes("Rotate"),f=d.includes("None")||d.includes("Select")||d.includes("Drag");(p||f)&&(c=!1),f||(h=!1)}if(h&&(n.wrapper.measure(i),n.wrapper.arrange(n.wrapper.desiredSize)),0!==n.rotateAngle||n.rotateAngle!==n.wrapper.prevRotateAngle)for(var m=0,M=n.nodes;m<M.length;m++){var T=M[m];T.offsetX=T.wrapper.offsetX,T.offsetY=T.wrapper.offsetY}n.width=n.wrapper.actualSize.width,n.height=n.wrapper.actualSize.height,n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY;var P=bD(this.element.id),U=P4(this.element.id),Y=this.eventHandler.canHideResizers();if(n.thumbsConstraints=ir.Default,n.annotation?this.updateThumbConstraints([n.annotation],n):(this.updateThumbConstraints(n.nodes,n),this.updateThumbConstraints(n.connectors,n,!0)),this.selectedItems.constraints&Bo.UserHandle&&!n.annotation&&!this.currentSymbol&&(this.diagramRenderer.renderUserHandler(n,P,this.scroller.transform,U),ge()&&o.length>0))for(a=0;a<this.selectedItems.userHandles.length;a++){var X=this.selectedItems.userHandles[parseInt(a.toString(),10)];document.getElementById(X.name+"_html_element").style.display="block"}if(n.annotation)this.renderSelectorForAnnotation(n,P);else if(n.nodes.length+n.connectors.length===1){if(n.connectors[0]instanceof Gt&&kL(this.diagramRenderer.rendererActions)){var Q=n.connectors[0];this.diagramRenderer.renderEndPointHandle(Q,P,n.thumbsConstraints,s,this.scroller.transform,void 0!==Q.sourceWrapper,void 0!==Q.targetWrapper,!(!this.connectorEditingToolModule||!ZB(Q)),!!this.connectorEditingToolModule,n.handleSize)}else if(n.nodes[0]instanceof Et){var oe=n.nodes[0];wh(this,n.nodes[0])&&"UmlClassifier"!==oe.shape.type&&(!oe.parentId||!this.nameTable[oe.parentId]||"UmlClassifier"!==this.nameTable[oe.parentId].shape.type)&&(oe.container&&("Canvas"===oe.container.type||"Grid"===oe.container.type)||(n.nodes[0].constraints&=~(j.HideThumbs|j.Rotate)),n.thumbsConstraints&=~ir.Rotate);var de=!("SwimLane"!==oe.shape.type&&!oe.isLane&&!oe.isPhase);this.diagramRenderer.renderResizeHandle(n.wrapper.children[0],P,n.thumbsConstraints,this.scroller.currentZoom,n.constraints,this.scroller.transform,Y,Vc(n.nodes[0]),!!(n.nodes[0].constraints&j.HideThumbs),de,n.handleSize)}}else this.diagramActions&Dt.Interactions&&(this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions|Yp.PreventRenderSelector),vD(this,n)&&c||this.diagramRenderer.renderResizeHandle(n.wrapper,P,n.thumbsConstraints,this.scroller.currentZoom,n.constraints,this.scroller.transform,Y,Vc(n),null,null,n.handleSize),this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions&~Yp.PreventRenderSelector}this.selectedItems.selectedObjects.length>1&&this.updateSelectionRectangle(),this.enableServerDataBinding(e)},t.prototype.renderSelectorForAnnotation=function(e,i){this.diagramRenderer.renderResizeHandle(e.wrapper.children[0],i,e.thumbsConstraints,this.scroller.currentZoom,e.constraints,this.scroller.transform,void 0,Vc(e.annotation),void 0,void 0,e.handleSize)},t.prototype.drawSelectionRectangle=function(e,i,n,s){this.clearSelectorLayer(),this.diagramRenderer.drawSelectionRectangle(e,i,n,s,this.adornerLayer,this.scroller.transform)},t.prototype.renderHighlighter=function(e){var i=$f(this.element.id);this.diagramRenderer.renderHighlighter(e,i,this.scroller.transform)},t.prototype.clearHighlighter=function(){var e=$f(this.element.id),i=e.getElementById(e.id+"_highlighter");i&&i.parentNode.removeChild(i)},t.prototype.getNodesConnectors=function(e){for(var i=0;i<this.nodes.length;i++){var n=this.nodes[parseInt(i.toString(),10)];e.push(n)}for(i=0;i<this.connectors.length;i++){var s=this.connectors[parseInt(i.toString(),10)];e.push(s)}return e},t.prototype.clearSelectorLayer=function(){var n,e=$f(this.element.id),i=document.getElementsByClassName("blazor-inner-template");if(this.currentSymbol){var d=e.getElementById("borderRect_symbol");d&&d.parentNode.removeChild(d)}else{var o=e.getElementById(this.adornerLayer.id+"_selected_region");o&&o.parentNode.removeChild(o),this.clearHighlighter();for(var a=bD(this.element.id).childNodes,l=void 0,h=a.length;h>0;h--)(l=a[h-1]).parentNode.removeChild(l);if(ge()&&!(this.diagramActions&Dt.DragUsingMouse)&&i.length>0)for(n=0;n<this.selectedItems.userHandles.length;n++){var c=this.selectedItems.userHandles[parseInt(n.toString(),10)];document.getElementById(c.name+"_html_element").style.display="none"}else if(!ge()){var u=P4(this.element.id).childNodes;for(n=u.length;n>0;n--)u[n-1].parentNode.removeChild(u[n-1])}}},t.prototype.getWrapper=function(e,i){var n;i=e.id+"_"+i;for(var s=e instanceof Ds?e:this.getPortContainer(this.nameTable[e.id]),o=0;o<s.children.length;o++)i===s.children[parseInt(o.toString(),10)].id&&(n=s.children[parseInt(o.toString(),10)]);return n},t.prototype.getEndNodeWrapper=function(e,i,n){if("Bpmn"===e.shape.type&&e.wrapper.children[0]instanceof Ds){if(!ge()&&"Activity"===e.shape.shape||ge()&&"Activity"===e.shadow.bpmnShape){if(n&&"Transaction"===e.shape.activity.subProcess.type&&i.sourcePortID){var s=i.sourcePortID,o=e.wrapper.children[0].children[0].children[2];if(o.children)for(var a=0,l=o.children;a<l.length;a++){var h=l[a];if(h.visible&&h.id===e.id+"_"+s)return h.children[0]}}return e.wrapper.children[0].children[0].children[0]}return e.wrapper.children[0].children[0]}return this.containsMargin(e.wrapper.children[0])||e.children?e.wrapper:e.wrapper.children[0]},t.prototype.containsMargin=function(e){return e.margin&&(0!==e.margin.left||0!==e.margin.top||0!==e.margin.right||0!==e.margin.bottom)},t.prototype.focusOutEdit=function(){this.endEdit(),"Canvas"===this.mode&&1!==this.scroller.currentZoom&&this.refreshDiagramLayer()},t.prototype.endEditCommand=function(){this.endEdit(),this.textEditing=!1,"Canvas"===this.mode&&1!==this.scroller.currentZoom&&this.refreshDiagramLayer()},t.prototype.endEdit=function(){return V4(this,void 0,void 0,function(){var e,i,n,s,o,a,l,h,c,u,d,p,f,m,M,T,P,U,Y,X,Q,oe,de,Me,ze,Ie;return W4(this,function(pe){switch(pe.label){case 0:return this.diagramActions&Dt.TextEdit?(e="Blazor",i="sfBlazor",n=void 0,s=void 0,o={},this.enableServerDataBinding(!1),ge()&&(this.canEnableBlazorObject=!0),a=document.getElementById(this.element.id+"_editBox"),ge()&&a||!ge()?(l=a.value,$.remove(a,"input",this.eventHandler.inputChange),$.remove(a,"focusout",this.focusOutEdit),h=document.getElementById(this.element.id+"_editTextBoxDiv"),c=void 0,u=dD(c=this.nameTable[this.activeLabel.parentId],this.activeLabel.id),d={oldValue:this.activeLabel.text,newValue:l,cancel:!1,element:c,annotation:u},ge()&&this.textEdit&&(d=this.getBlazorTextEditArgs(d)),p=!1,h.parentNode.removeChild(h),f=void 0,this.bpmnModule?(c=this.bpmnModule.isBpmnTextAnnotation(this.activeLabel,this),f=this.bpmnModule.getTextAnnotationWrapper(c,this.activeLabel.id),!(p=!!c)||h.textContent===l&&l===this.activeLabel.text?[3,5]:ge()?this.textEdit&&window&&window[""+e]?(T={EventName:"textEdit",args:JSON.stringify(d)},[4,window[""+i].updateBlazorDiagramEvents(T,this)]):[3,2]:[3,3]):[3,5]):[3,11]):[3,11];case 1:d=pe.sent()||d,pe.label=2;case 2:return[3,4];case 3:this.triggerEvent(_i.textEdit,d),pe.label=4;case 4:d.cancel||this.bpmnModule.updateTextAnnotationContent(c,this.activeLabel,l,this),pe.label=5;case 5:return p?[3,10]:(!(m=dD(c=this.nameTable[this.activeLabel.parentId],this.activeLabel.id))||m instanceof zb?n=ge()&&"Text"===c.shape.type?{shape:{textContent:c.shape.content}}:{shape:{content:c.shape.content}}:(P=Qf(c,m.id,!0),o[""+P]={content:m.content},n={annotations:o}),(M=this.eventHandler.isAddTextNode(c,!0))||h.textContent===l&&l===this.activeLabel.text?[3,9]:ge()?window&&window[""+e]&&this.textEdit?(T={EventName:"textEdit",args:JSON.stringify(d)},[4,window[""+i].updateBlazorDiagramEvents(T,this)]):[3,7]:[3,8]);case 6:d=pe.sent()||d,pe.label=7;case 7:return[3,9];case 8:this.triggerEvent(_i.textEdit,d),pe.label=9;case 9:f||(f=this.getWrapper(c.wrapper,this.activeLabel.id)),m.content!==l&&!d.cancel&&(c.parentId&&"UmlClassifier"===this.nameTable[c.parentId].shape.type&&-1===l.indexOf("+")&&-1===l.indexOf("-")&&-1===l.indexOf("#")&&-1===l.indexOf("~")&&-1===c.id.indexOf("_umlClass_header")&&(l=" + "+l),(c.isLane||c.isPhase)&&this.protectPropertyChange(!0),m instanceof zb?s=ge()&&"Text"===c.shape.type?{shape:{textContent:l}}:{shape:{content:l}}:(P=Qf(c,m.id,!0),(U={})[""+P]={content:l},s={annotations:U}),(Y=this.getIndex(c,c.id))&&((X={})[""+Y]=n,(Q={})[""+Y]=s,os(c)===Et?this.onPropertyChanged({nodes:Q},{nodes:X}):this.onPropertyChanged({connectors:Q},{connectors:X})),this.protectPropertyChange(!0),ge()&&"Text"===c.shape.type?c.shape.textContent=l:m.content=l,this.protectPropertyChange(!1),this.updateSelector(),(c.isLane||c.isPhase)&&this.protectPropertyChange(!1)),M&&(this.removeObjectsFromLayer(c),this.removeFromAQuad(c),delete this.nameTable[this.activeLabel.parentId],""!==l&&(this.clearSelection(),oe=rt(c),c=this.add(oe),this.updateDiagramObject(c),this.commandHandler.oldSelectedObjects=ky(this),this.commandHandler.select(this.nameTable[c.id]),this.commandHandler.updateBlazorSelector())),pe.label=10;case 10:if(this.selectedItems.nodes.length){if((Me=this.nameTable[(de=this.nameTable[this.activeLabel.parentId]).parentId])&&"SwimLane"===Me.shape.type||"SwimLane"===de.shape.type)if("SwimLane"===de.shape.type&&(Me=this.nameTable[this.activeLabel.parentId],de=c),de.isLane||de.isPhase)for(ze=de.isLane?Me.shape.lanes:Me.shape.phases,Ie=0;Ie<ze.length;Ie++)ze[parseInt(Ie.toString(),10)].id===(de.LaneHeaderParent||de.PhaseHeaderParent)&&(ze[parseInt(Ie.toString(),10)].header.annotation.content=de.annotations[0].content);else de.isHeader&&Me.shape.hasHeader&&(Me.shape.header.annotation.content=de.annotations[0].content);this.dataBind()}f.visible=!0,this.updateDiagramObject(c),this.diagramActions=this.diagramActions&~Dt.TextEdit,this.activeLabel.isGroup&&this.endGroupAction(),this.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},this.commandHandler.getBlazorOldValues(),ge()&&(this.canEnableBlazorObject=!1),this.enableServerDataBinding(!0),pe.label=11;case 11:return[2]}})})},t.prototype.getIndex=function(e,i){for(var n=os(e)===Et?this.nodes:this.connectors,s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].id.toString()===i.toString())return s.toString();return null},t.prototype.getBlazorTextEditArgs=function(e){var i=os(e.element)===Gt?{connectorId:e.element.id}:{nodeId:e.element.id},n={};return os(e.element)===Et&&"Text"===e.element.shape.type?n.textNode=e.element.shape:n.annotationId=e.element.annotations[0].id,{oldValue:e.oldValue,newValue:e.newValue,cancel:e.cancel,element:i,annotation:n}},t.prototype.canLogChange=function(){return!(!(this.diagramActions&Dt.Render)||this.diagramActions&Dt.ToolAction||this.diagramActions&Dt.UndoRedo||this.diagramActions&Dt.PublicMethod)},t.prototype.modelChanged=function(e,i){return!!(e.connectors||i.connectors||e.nodes||i.connectors||e.pageSettings||i.pageSettings||e.bridgeDirection||i.bridgeDirection)},t.prototype.resetDiagramActions=function(e){var i=!!e;this.diagramActions&Dt.UndoRedo&&(!i||e===Dt.UndoRedo)&&(this.diagramActions=this.diagramActions&~Dt.UndoRedo),this.diagramActions&Dt.PublicMethod&&(!i||e===Dt.PublicMethod)&&(this.diagramActions=this.diagramActions&~Dt.PublicMethod)},t.prototype.removeNode=function(e,i){this.removeObjectsFromLayer(e),this.removeFromAQuad(this.nameTable[e.id]);var n=document.getElementById(e.id+"_groupElement");if(delete this.nameTable[e.id],e.children&&delete this.groupTable[e.id],ge())for(var s=0;s<this.nodes.length;s++)e.id===this.nodes[parseInt(s.toString(),10)].id&&this.UpdateBlazorDiagramModel(e,"Node",s);if(this.nodes.splice(this.nodes.indexOf(e),1),n&&n.children&&n.children.length>0)for(var o=void 0,a=n.children.length-1;a>=0;a--){var l=n.children[parseInt(a.toString(),10)];i.length>0&&-1!==i.indexOf(l.id.split("_")[0])&&(n.parentNode.insertBefore(l,o||n),o=l)}n&&n.parentNode.removeChild(n)},t.prototype.deleteGroup=function(e){var n=[];e.children&&(n=this.commandHandler.getChildren(e,[])),this.UpdateBlazorDiagramModelCollection(e);for(var s=0,o=n;s<o.length;s++){var a=o[s];this.nameTable[a.id]&&this.remove(a)}},t.prototype.updateObject=function(e,i,n){if(!(this.diagramActions&Dt.ToolAction||this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.children[0].bounds)))if(e instanceof Et){for(var a=i,l=0,h=Object.keys(n);l<h.length;l++)switch(h[l]){case"width":e.width=a.width;break;case"height":e.height=a.height;break;case"offsetX":e.offsetX=a.offsetX;break;case"offsetY":e.offsetY=a.offsetY;break;case"rotateAngle":e.rotateAngle=a.rotateAngle}this.nodePropertyChange(e,n,i)}else{for(var u=0,d=Object.keys(n);u<d.length;u++){var p=i,f=e.sourcePoint,m=e.targetPoint;switch(d[u]){case"sourcePoint":f.x=p.sourcePoint.x||f.x,f.y=p.sourcePoint.y||f.y;break;case"targetPoint":m.x=p.targetPoint.x||m.x,m.y=p.targetPoint.y||m.y}}this.connectorPropertyChange(e,n,i)}},t.prototype.nodePropertyChangeExtend=function(e,i,n,s){return void 0!==n.style&&"Bpmn"!==e.shape.type&&(Zp(n.style,e.wrapper.children[0]),s=!0),void 0!==n.shadow&&(this.updateShadow(e.shadow,n.shadow),s=!0),void 0!==n.constraints&&(i.constraints&j.Select&&!(n.constraints&j.Select)&&Sa(this,e)?this.clearSelection():(this.updateThumbConstraints(this.selectedItems.nodes,this.selectedItems),this.updateSelector(),s=!0)),this.swimLaneNodePropertyChange(e,i,n,s),s},t.prototype.swimLaneNodePropertyChange=function(e,i,n,s){if("SwimLane"===e.shape.type&&!this.currentSymbol){if(i.shape){var o=n.shape,a=e.shape,l="Horizontal"===a.orientation,h=a.padding,c=i.shape,u=e.wrapper.children[0],d=void 0,p=void 0,f=void 0;if(c.lanes||c.phases){if(c.lanes)for(var m=0,M=Object.keys(o.lanes);m<M.length;m++){var P=Number(M[m]),U=c.lanes[parseInt(P.toString(),10)],Y=void 0,X=o.lanes[parseInt(P.toString(),10)];if(X&&X.header&&(f=a.lanes[parseInt(P.toString(),10)].header.id,this.nodePropertyChange(this.nameTable[""+f],d=U.header,p=X.header)),U.children)for(var Q=0,oe=Object.keys(U.children);Q<oe.length;Q++){var de=oe[Q];f=a.lanes[parseInt(P.toString(),10)].children[Number(de)].id;var Me=this.nameTable[""+f];d=U.children[Number(de)],p=X.children[Number(de)],this.nodePropertyChange(Me,d,p)}U.width&&!l&&(u.updateColumnWidth(Y=a.phases&&a.phaseSize?P+1:P,X.width,!0,h),this.updateDiagramElementQuad()),U.height&&l&&(Y=a.header&&a.hasHeader?P+1:P,u.updateRowHeight(Y+=a.phases&&a.phaseSize?1:0,X.height,!0,h),this.updateDiagramElementQuad())}if(o.phases)for(var Ve=0,Ce=Object.keys(o.phases);Ve<Ce.length;Ve++){P=Number(Ce[Ve]);var Ie=o.phases[parseInt(P.toString(),10)],pe=void 0,Pe=a.header&&a.hasHeader?1:0;Ie&&Ie.header&&(f=a.phases[parseInt(P.toString(),10)].header.id,d=c.phases[parseInt(P.toString(),10)].header,this.nodePropertyChange(this.nameTable[""+f],d,p=Ie.header)),Ie.offset&&((0===P||(pe=Ie.offset-a.phases[P-1].offset)<=0)&&(pe=Ie.offset),l?(u.updateColumnWidth(P,pe,!0,h),RL(e,this,u.rows[parseInt(Pe.toString(),10)].cells[parseInt(P.toString(),10)],P)):u.updateRowHeight(Pe+P,pe,!0,h))}}if(void 0!==o.phaseSize&&a.phases.length)if(0===o.phaseSize||0===c.phaseSize)if(c.phaseSize)l?(u.removeRow(a.header&&a.hasHeader?1:0),e.height=e.wrapper.height=u.height):(a.header&&a.hasHeader&&(u.rows[0].cells[1].children=u.rows[0].cells[0].children,u.rows[0].cells[1].columnSpan=u.rows[0].cells[0].columnSpan-1,u.rows[0].cells[0].children=[]),u.removeColumn(0));else{if(l){var Oe=new eD;Oe.height=o.phaseSize,u.addRow(a.header&&a.hasHeader?1:0,Oe,!0),e.height=e.wrapper.height+=o.phaseSize}else{var Ye=new Lb;Ye.width=o.phaseSize,u.addColumn(0,Ye,!0),a.header&&a.hasHeader&&(u.rows[0].cells[0].children=u.rows[0].cells[1].children,u.rows[0].cells[1].children=[],u.rows[0].cells[1].columnSpan=1,u.rows[0].cells[1].minWidth=void 0,u.rows[0].cells[0].columnSpan=a.lanes.length+1)}for(var ut=0;ut<a.phases.length;ut++)""===a.phases[parseInt(ut.toString(),10)].id&&(a.phases[parseInt(ut.toString(),10)].id=kn()),i4(u,this,e,a.header&&a.hasHeader?1:0,l,ut)}else l?u.updateRowHeight(a.header&&a.hasHeader?1:0,o.phaseSize,!1):u.updateColumnWidth(0,o.phaseSize,!1);a.header&&a.hasHeader&&c.header&&this.nodePropertyChange(ni=this.nameTable[""+u.rows[0].cells[0].children[0].id],c.header,o.header),e.height=e.wrapper.height=u.height,e.width=e.wrapper.width=u.width}else if(i.constraints){var Pi=n.constraints&j.Select;if((i.constraints&j.Select)!==Pi){var ni;(ni=this.nameTable[e.id+(o=e.shape).header.id]).constraints=Pi?ni.constraints|j.Select:ni.constraints&~j.Select;var Di=void 0;if(o.phaseSize>0)for(var Fi=0;Fi<o.phases.length;Fi++)(Di=this.nameTable[e.id+o.phases[parseInt(Fi.toString(),10)].id+"_header"]).constraints=Pi?Di.constraints|j.Select:Di.constraints&~j.Select;var Mi=void 0,hn=void 0,xr=o.phases.length||1;for(Fi=0;Fi<o.lanes.length;Fi++)for(var Dn=0;Dn<xr;Dn++)(Mi=this.nameTable[e.id+o.lanes[parseInt(Fi.toString(),10)].id+Dn]).constraints=Pi?Mi.constraints|j.Select:Mi.constraints&~j.Select,0===Dn&&((hn=this.nameTable[e.id+o.lanes[parseInt(Fi.toString(),10)].id+"_"+Dn+"_header"]).constraints=Pi?hn.constraints|j.Select:hn.constraints&~j.Select)}}s=!0}return s},t.prototype.insertValue=function(e,i){if(!(this.blazorActions&Rr.GroupClipboardInProcess)){for(var n=void 0,s=i?this.oldNodeObjects:this.oldConnectorObjects,o=0;o<s.length;o++)s[parseInt(o.toString(),10)].id===e.id&&(n=!0);n||(i?this.oldNodeObjects.push(e):this.oldConnectorObjects.push(e))}},t.prototype.nodePropertyChange=function(e,i,n,s,o,a){if(this.canEnableBlazorObject&&"helper"!==e.id){var l=rt(e);this.insertValue(l,!0)}var d,h=e.wrapper.outerBounds,c=e.wrapper.bounds,u=!1;if(void 0!==n.width&&(e.children?e.container?e.wrapper.width=n.width:this.scaleObject(e,n.width,!0):(e.wrapper.children[0].width=n.width,d=!0,u=!0)),void 0!==n.height&&(e.children?e.container?e.wrapper.height=n.height:this.scaleObject(e,n.height,!1):(e.wrapper.children[0].height=n.height,d=!0,u=!0)),d=this.nodePropertyChangeExtend(e,i,n,d),void 0!==n.constraints&&TL(i)!==TL(n)&&(e.wrapper.children[0].shadow=TL(e)?e.shadow:null),void 0!==n.offsetX){if("None"!==e.wrapper.flip){if(e.offsetX!==e.wrapper.offsetX&&void 0!==i.offsetX){var p=n.offsetX-i.offsetX;e.wrapper.offsetX=e.wrapper.offsetX+p,this.updateFlipOffset(e.wrapper,p,0,e.wrapper.flip)}}else e.wrapper.offsetX=n.offsetX;d=!0,u=!0}if(void 0!==n.offsetY){if("None"!==e.wrapper.flip){if(e.offsetY!==e.wrapper.offsetY&&void 0!==i.offsetY){var f=n.offsetY-i.offsetY;e.wrapper.offsetY=e.wrapper.offsetY+f,this.updateFlipOffset(e.wrapper,0,f,e.wrapper.flip)}}else e.wrapper.offsetY=n.offsetY;d=!0,u=!0}if(void 0!==n.padding&&(e.wrapper.padding.left=void 0!==n.padding.left?n.padding.left:e.wrapper.padding.left,e.wrapper.padding.right=void 0!==n.padding.right?n.padding.right:e.wrapper.padding.right,e.wrapper.padding.top=void 0!==n.padding.top?n.padding.top:e.wrapper.padding.top,e.wrapper.padding.bottom=void 0!==n.padding.bottom?n.padding.bottom:e.wrapper.padding.bottom,d=!0),void 0!==n.pivot&&(e.wrapper.pivot=n.pivot,d=!0),void 0!==n.minWidth&&(e.wrapper.minWidth=e.wrapper.children[0].minWidth=n.minWidth,d=!0,u=!0),void 0!==n.minHeight&&(e.wrapper.minHeight=e.wrapper.children[0].minHeight=n.minHeight,d=!0,u=!0),void 0!==n.maxWidth&&(e.wrapper.maxWidth=n.maxWidth,d=!0,u=!0),void 0!==n.maxHeight&&(e.wrapper.maxHeight=n.maxHeight,d=!0,u=!0),void 0!==n.flip)if(e.wrapper.flip=n.flip,d=!0,u=!0,e.wrapper.elementActions&Na.ElementIsGroup)if(C4(e.wrapper,e.offsetX,e.offsetY,this,n.flip),e&&e.children)for(var m=0,M=e.children;m<M.length;m++){var P=this.nameTable[""+M[m]];P.wrapper.flip=n.flip,this.updatePorts(P,n.flip)}else this.updatePorts(e,e.flip);else!e.flipMode||"Port"!==e.flipMode&&"All"!==e.flipMode?"None"===e.flip&&this.updatePorts(e,n.flip):this.updatePorts(e,n.flip);if(void 0!==n.flipMode&&(d=!0,u=!0,!e.flipMode||"Port"!==e.flipMode&&"All"!==e.flipMode?"Label"===e.flipMode?this.updatePorts(e,"None"):"None"===e.flipMode&&this.updatePorts(e,e.flipMode):this.updatePorts(e,e.flip)),void 0!==n.rotateAngle&&e.constraints&j.Rotate&&(e.children&&o&&this.commandHandler.rotateObjects(e,[e],e.rotateAngle-e.wrapper.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),e.wrapper.rotateAngle=n.rotateAngle,d=!0,u=!0),void 0!==n.backgroundColor&&(e.wrapper.style.fill=n.backgroundColor),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.shape&&"Bpmn"!==e.shape.type&&(d=!0,function wme(r,t,e,i){var n=new Jl;switch(r.shape.type){case"Path":var s=new Nn;s.data=t.shape.data,Oy(n=s,t,i);break;case"Image":var o=new dL;o.source=t.shape.source,o.imageAlign=t.shape.align,o.imageScale=t.shape.scale,Oy(n=o,t,i);break;case"Text":Oy(n=new Qr,t,i);break;case"Basic":var l=(ge()?"Rectangle"===t.shape.basicShape:"Rectangle"===t.shape.shape)?new Jl:new Nn;l.data=!ge()&&"Polygon"===t.shape.shape||ge()&&"Polygon"===t.shape.basicShape?CB(t.shape.points):uL(ge()?t.shape.basicShape:t.shape.shape),(!ge()&&"Rectangle"===t.shape.shape||ge()&&"Rectangle"===t.shape.basicShape)&&(l.cornerRadius=t.shape.cornerRadius),Oy(n=l,t,i);break;case"Flow":var h=new Nn,c=ge()?t.shape.flowShape:t.shape.shape;h.data=jB(c),Oy(n=h,t,i);break;case"Native":var u=new fl(r.id,i.element.id);u.content=t.shape.content,u.scale=t.shape.scale,Oy(n=u,t,i);break;case"HTML":var d=new Sh(t.id,i.element.id);d.content=t.shape.content,Oy(n=d,t,i)}void 0===r.shape.type||r.shape.type===e.shape.type||ge()&&"UmlActivity"===r.shape.type?function Ime(r,t,e,i){if(Object.keys(r.shape).length>0)if("Path"===t.shape.type&&void 0!==r.shape.data)t.wrapper.children[0].data=r.shape.data;else if("Text"===t.shape.type&&void 0!==r.shape.content)t.wrapper.children[0].content=r.shape.content;else if("Image"===t.shape.type&&void 0!==r.shape.source)t.wrapper.children[0].source=r.shape.source;else if("Native"===t.shape.type){for(var n=void 0,s=0;s<e.views.length;s++)n=es(t.wrapper.children[0].id+"_native_element",e.views[parseInt(s.toString(),10)]),void 0!==r.shape.content&&n&&(n.removeChild(n.children[0]),t.wrapper.children[0].content=r.shape.content,n.appendChild(Hb(t.wrapper.children[0],!1)));t.wrapper.children[0].scale=r.shape.scale?r.shape.scale:t.wrapper.children[0].scale}else if("HTML"===t.shape.type){var o=void 0;for(s=0;s<e.views.length;s++)(o=es(t.wrapper.children[0].id+"_html_element",e.views[parseInt(s.toString(),10)]))&&(o.removeChild(o.children[0]),t.wrapper.children[0].content=r.shape.content,o.appendChild(Hb(t.wrapper.children[0],!0)))}else if("Flow"===t.shape.type&&(ge()&&void 0!==r.shape.flowShape||void 0!==r.shape.shape)){t.shape.shape=ge()?r.shape.flowShape:r.shape.shape;var l=jB(t.shape.shape.toString());t.wrapper.children[0].data=l}else if("UmlActivity"===t.shape.type&&(ge()&&void 0!==r.shape.umlActivityShape||!ge()&&void 0!==r.shape.shape))!function Mme(r,t){ge()?r.shape.umlActivityShape=t.shape.umlActivityShape:r.shape.shape=t.shape.shape;var i=lX((ge()?r.shape.umlActivityShape:r.shape.shape).toString());ge()&&"InitialNode"===r.shape.umlActivityShape||!ge()&&"InitialNode"===r.shape.shape||!ge()&&("ForkNode"===r.shape.shape||"JoinNode"===r.shape.shape)||ge()&&("ForkNode"===r.shape.umlActivityShape||"JoinNode"===r.shape.umlActivityShape)?r.wrapper.children[0].style.fill="black":(!ge()&&"FinalNode"===r.shape.shape||ge()&&"FinalNode"===r.shape.umlActivityShape)&&r instanceof Et&&(r.wrapper=yX(r)),i&&(r.wrapper.children[0].data=i)}(t,r);else if(void 0!==r.shape.cornerRadius)t.wrapper.children[0].cornerRadius=r.shape.cornerRadius;else if("Basic"===t.shape.type&&i&&"Rectangle"===i.shape.shape){var h=new Nn,c=uL(ge()?t.shape.basicShape:t.shape.shape);h.data=c,Oy(h,t,e)}else if(ge()&&void 0!==r.shape.basicShape||void 0!==r.shape.shape){t.shape.shape=ge()?r.shape.basicShape:r.shape.shape;var d=uL(t.shape.shape.toString());t.wrapper.children[0].data=d}t.wrapper.children[0].canMeasurePath=!0}(r,t,i,e):(n.width=t.wrapper.children[0].width,n.height=t.wrapper.children[0].height,t.shape instanceof zb&&(n.margin=t.shape.margin),n.style=t.style,t.wrapper.children[0]=n)}(n,e,i,this),u=!0),n.margin&&(d=!0,this.updateMargin(e,n),u=!0),((void 0!==n.shape&&void 0===n.shape.type||void 0!==n.width||void 0!==n.height||void 0!==n.style)&&"Bpmn"===e.shape.type&&this.bpmnModule||ge()&&n&&n.shape&&"Bpmn"===n.shape.type)&&(d=!0,u=!0,this.bpmnModule.updateBPMN(n,i,e,this)),"UmlActivity"===e.shape.type&&(!ge()&&"FinalNode"===e.shape.shape||ge()&&"FinalNode"===e.shape.umlActivityShape)&&(d=!0,u=!0,this.updateUMLActivity(n,i,e,this)),(e.shape&&"UmlClassifier"===e.shape.type||e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type)&&(d=!0,u=!0),void 0!==n.ports)for(var U=0,Y=Object.keys(n.ports);U<Y.length;U++){var X=Y[U],Q=Number(X);d=!0;var oe=n.ports[""+X],de=e.ports[parseInt(Q.toString(),10)];this.updatePort(oe,de,e.wrapper),u=!0}if(void 0!==n.annotation||void 0!==n.annotations||void 0!==n.width)for(var Me=0,Ve=Object.keys(n.annotations||e.annotations);Me<Ve.length;Me++){X=Ve[Me],Q=Number(X),d=!0,oe=void 0,oe=n.annotation?n.annotation:n.annotations?n.annotations[""+X]:e.annotations;var Ce=e.annotations[parseInt(Q.toString(),10)];if(Ce){this.updateAnnotation(oe,Ce,e.wrapper,e,!!e.width);var Ie=this.nameTable[e.parentId];if(Ie&&"SwimLane"===Ie.shape.type&&(e.isLane||e.isPhase))for(var Qe=e.isLane?Ie.shape.lanes:Ie.shape.phases,Oe=0;Oe<Qe.length;Oe++)if(Qe[parseInt(Oe.toString(),10)].id===(e.LaneHeaderParent||e.PhaseHeaderParent)){Qe[parseInt(Oe.toString(),10)].header.annotation.content=e.annotations[0].content,Qe[parseInt(Oe.toString(),10)].header.annotation.style=e.annotations[0].style;break}}}if((void 0!==n.expandIcon||void 0!==n.collapseIcon||void 0!==n.isExpanded)&&(this.updateIcon(e),this.updateDefaultLayoutIcons(e),void 0!==n.isExpanded&&(this.canExpand=!0,this.diagramActions|=Dt.PreventIconsUpdate,this.commandHandler.expandNode(e,this),this.diagramActions=this.diagramActions&~Dt.PreventIconsUpdate),d=!0,this.canExpand=!1),void 0!==n.fixedUserHandles){Q=void 0,oe=void 0;for(var Ye=void 0,ut=0,Xt=Object.keys(n.fixedUserHandles);ut<Xt.length;ut++)X=Xt[ut],Q=Number(X),d=!0,n.fixedUserHandles[parseInt(Q.toString(),10)]&&(oe=n.fixedUserHandles[parseInt(Q.toString(),10)]),(Ye=e.fixedUserHandles[parseInt(Q.toString(),10)])&&this.updateNodefixedUserHandle(oe,Ye,e.wrapper,e)}if(void 0!==n.tooltip&&this.updateTooltip(e,n),d){if(void 0!==this.bpmnModule&&this.bpmnModule.updateTextAnnotationProp(e,{offsetX:i.offsetX||e.offsetX,offsetY:i.offsetY||e.offsetY},this),this.checkSelectedItem(e)&&e.wrapper.children[0]instanceof Qr&&e.wrapper.children[0].refreshTextElement(),e.wrapper.measure(new pi(e.wrapper.bounds.width,e.wrapper.bounds.height),e.id,this.onLoadImageSize.bind(this)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateObject(e,i,n),!("SwimLane"!==e.shape.type||this.currentSymbol||this.diagramActions&Dt.ToolAction)){Ty(this,e);var ni=e.wrapper.children[0],ui=e.shape,Pi=ni.columnDefinitions().length;"Horizontal"===ui.orientation&&(Q=ui.header&&ui.hasHeader?1:0,RL(e,this,ni.rows[parseInt(Q.toString(),10)].cells[Pi-1],Pi-1)),e.wrapper.measure(new pi(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}if((!(this.diagramActions&Dt.ToolAction)||this.diagramActions&Dt.UndoRedo)&&this.checkSelectedItem(e)&&this.updateSelector(),!1===h.equals(h,e.wrapper.outerBounds)&&(this.updateQuad(e),e.parentId&&this.nameTable[e.parentId])&&this.updateQuad(this.nameTable[e.parentId]),s?e&&e.visible&&e.outEdges&&this.updateIconVisibility(e,0!==e.outEdges.length):this.commandHandler.connectorSegmentChange(e,c,void 0!==n.rotateAngle),void 0!==this.bpmnModule&&this.bpmnModule.updateDocks(e,this),(!n.annotations||!e.processId)&&this.updateGroupOffset(e),e.parentId&&this.nameTable[e.parentId]){var Fi=this.nameTable[e.parentId];Fi.wrapper.measure(new pi(Fi.wrapper.width,e.wrapper.height)),Fi.wrapper.arrange(Fi.wrapper.desiredSize),Fi.offsetX=Fi.wrapper.offsetX,Fi.offsetY=Fi.wrapper.offsetY}if(!1===c.equals(c,e.wrapper.bounds)&&("Drag"!==this.eventHandler.currentAction&&this.updateGroupSize(e),e.children&&this.updateGroupOffset(e)),"SwimLane"===e.shape.type&&!this.currentSymbol&&this.diagramActions&Dt.Render&&kb(Dy(this,e.wrapper.children[0]),this),!this.preventNodesUpdate){if(!hc(this)||hc(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)if(this.diagramActions&Dt.PreventZIndexOnDragging)this.updateDiagramObject(e,!0);else if(this.updateDiagramObject(e),void 0!==this.bpmnModule&&"SwimLane"===e.shape.type&&e.isTextNode)for(var hn=e,xr=0;xr<hn.shape.lanes.length;xr++)for(var Dn=hn.shape.lanes[parseInt(xr.toString(),10)],st=0;st<Dn.children.length;st++){var yt=Dn.children[parseInt(st.toString(),10)];"Bpmn"===yt.shape.type&&this.bpmnModule.updateTextAnnotationProp(yt,{offsetX:yt.offsetX,offsetY:yt.offsetY},this,!1)}if(!s&&u&&(this.lineRoutingModule&&this.diagramActions&&this.constraints&Un.LineRouting&&"helper"!==e.id&&(this.diagramActions&Dt.ToolAction||this.lineRoutingModule.renderVirtualRegion(this,!0)),this.updateConnectorEdges(e),"helper"!==e.id&&!(this.diagramActions&Dt.ToolAction)))for(var mi=this.spatialSearch.findObjects(e.wrapper.outerBounds),qi=0;qi<mi.length;qi++){var pn=mi[parseInt(qi.toString(),10)];pn instanceof Gt&&this.connectorPropertyChange(mi[parseInt(qi.toString(),10)],{},{sourceID:pn.sourceID,targetID:pn.targetID,sourcePortID:pn.sourcePortID,targetPortID:pn.targetPortID,sourcePoint:pn.sourcePoint,targetPoint:pn.targetPoint})}}"New"!==e.status&&this.diagramActions&&(e.status="Update")}if(!a){var on=e,ds={element:on,cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),oldValue:i,newValue:n};ge()&&this.propertyChange&&(ds.element={node:Rt(on)},ds.oldValue={node:Rt(i)},ds.newValue={node:Rt(n)}),this.triggerEvent(_i.propertyChange,ds)}},t.prototype.updatePorts=function(e,i){if(e&&e.ports.length>0)for(var n=0,s=Object.keys(e.ports);n<s.length;n++){var a=Number(s[n]),l=e.ports[parseInt(a.toString(),10)],h=this.getWrapper(e.wrapper,l.id);(h=pD(h,i,l)).relativeMode="Point",h.measure(new pi(h.width,h.height)),h.arrange(h.desiredSize)}},t.prototype.updateFlipOffset=function(e,i,n,s){if(e.hasChildren())for(var o=0,a=e.children;o<a.length;o++){var l=a[o];("Horizontal"===s||"Both"===s)&&(l.flipOffset.x=l.flipOffset.x+i),("Vertical"===s||"Both"===s)&&(l.flipOffset.y=l.flipOffset.y+n),(l instanceof Ds||l instanceof Fh)&&this.updateFlipOffset(l,i,n,s)}},t.prototype.updateUMLActivity=function(e,i,n,s){if(void 0!==e.width||void 0!==e.height){var a=n.wrapper.children[0].children[0];a.width=e.width,a.height=e.height;var l=n.wrapper.children[0].children[1];l.width=e.width/1.5,l.height=e.height/1.5}},t.prototype.updateConnectorProperties=function(e){this.preventConnectorsUpdate?-1===this.selectionConnectorsList.indexOf(e)&&e&&this.selectionConnectorsList.push(e):this.connectorPropertyChange(e,{},{sourcePoint:e.sourcePoint,targetPoint:e.targetPoint,sourceID:e.sourceID,targetID:e.targetID,sourcePortID:e.sourcePortID,targetPortID:e.targetPortID},void 0,!0)},t.prototype.updateConnectorEdges=function(e){if(e.inEdges.length>0)for(var i=0;i<e.inEdges.length;i++)this.updateConnectorProperties(this.nameTable[e.inEdges[parseInt(i.toString(),10)]]);if(e.outEdges.length>0)for(var n=0;n<e.outEdges.length;n++)this.updateConnectorProperties(this.nameTable[e.outEdges[parseInt(n.toString(),10)]]);e.parentId&&this.nameTable[e.parentId]&&this.updateConnectorEdges(this.nameTable[e.parentId])},t.prototype.connectorProprtyChangeExtend=function(e,i,n,s){return void 0!==n.type&&n.type!==i.type&&e.segments.length>0&&void 0===n.segments&&(e.segments=[]),void 0!==n.shape&&void 0!==e.shape&&e.shape&&"Bpmn"===e.shape.type&&this.bpmnModule&&this.bpmnModule.updateBPMNConnector(e,i,n,this),void 0!==e.constraints?(this.updateThumbConstraints(this.selectedItems.connectors,this.selectedItems),s=!0):s},t.prototype.connectorPropertyChange=function(e,i,n,s,o){if(this.canEnableBlazorObject){var a=rt(e);this.insertValue(a,!1)}var u,d,p,f,l=e.wrapper.bounds,h=!1,c=[];if(h=this.connectorProprtyChangeExtend(e,i,n,h),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.sourcePoint||void 0!==n.targetPoint||void 0!==n.sourceID||void 0!==n.targetID||void 0!==n.targetPadding||void 0!==n.sourcePortID||void 0!==n.targetPortID||void 0!==n.sourcePadding||void 0!==n.type||void 0!==n.segments||void 0!==n.flip){if(void 0!==n.sourceID&&n.sourceID!==i.sourceID||n.sourcePortID){if(d=this.findInOutConnectPorts(m=this.nameTable[e.sourceID],!1),(!m||Nv(m)||""!==e.sourcePortID&&Ob(d))&&(e.sourceWrapper=m?this.getEndNodeWrapper(m,e,!0):void 0,e.sourcePortID&&void 0===n.sourcePortID&&(e.sourcePortWrapper=m?this.getWrapper(m.wrapper,e.sourcePortID):void 0),this.removePortEdges(this.nameTable[i.sourceID]||m,i.sourcePortID||e.sourcePortID,e.id,!1)),void 0!==n.sourceID&&void 0!==i.sourceID&&""!==i.sourceID){var M=this.nameTable[i.sourceID];void 0!==M&&M.outEdges&&-1!==M.outEdges.indexOf(e.id)&&uD(M.outEdges,e.id)}this.updateEdges(e)}if(void 0!==n.targetID&&n.targetID!==i.targetID){if(u=this.findInOutConnectPorts(T=this.nameTable[n.targetID],!0),(!T||Ud(T)||""!==e.targetPortID&&kv(u))&&(e.targetWrapper=T?this.getEndNodeWrapper(T,e,!1):void 0,e.targetPortID&&void 0===n.targetPortID&&(e.targetPortWrapper=T?this.getWrapper(T.wrapper,e.targetPortID):void 0),this.removePortEdges(this.nameTable[i.targetID]||T,i.targetPortID||e.targetPortID,e.id,!0)),void 0!==i&&void 0!==i.targetID&&""!==i.targetID){var P=this.nameTable[i.targetID];void 0!==P&&P.inEdges&&-1!==P.inEdges.indexOf(e.id)&&uD(P.inEdges,e.id)}this.updateEdges(e)}var m,T;void 0!==n.sourcePortID&&n.sourcePortID!==i.sourcePortID&&(e.sourceID&&this.nameTable[e.sourceID]&&(p=this.nameTable[e.sourceID].wrapper),!(m=this.nameTable[e.sourceID])||Nv(m)||""!==e.sourcePortID&&Ob(d)?e.sourcePortWrapper=p?this.getWrapper(p,n.sourcePortID):void 0:""===e.sourcePortID&&!Nv(m)&&(e.sourcePortWrapper=void 0)),void 0!==n.targetPortID&&n.targetPortID!==i.targetPortID&&(e.targetID&&this.nameTable[e.targetID]&&(f=this.nameTable[e.targetID].wrapper),!(T=this.nameTable[e.targetID])||Ud(T)||""!==e.targetPortID&&kv(u)?e.targetPortWrapper=f?this.getWrapper(f,n.targetPortID):void 0:""===e.targetPortID&&!Ud(T)&&(e.targetPortWrapper=void 0)),void 0!==n.flip&&(e.flip=n.flip,IX(e)),"Orthogonal"===e.type&&this.lineRoutingModule&&this.diagramActions&&this.constraints&Un.LineRouting&&!(this.diagramActions&Dt.ToolAction)&&(this.lineRoutingModule.renderVirtualRegion(this,!0),e.sourceID!==e.targetID&&e.segments.length>1&&this.lineRoutingModule.refreshConnectorSegments(this,e,!1)),c=this.getPoints(e)}void 0!==n.style&&Zp(n.style,e.wrapper.children[0]),(c.length>0||void 0!==n.sourceDecorator||void 0!==n.targetDecorator&&function kme(r){return-1!==r.indexOf("shape")||-1!==r.indexOf("pathData")||-1!==r.indexOf("width")||-1!==r.indexOf("height")}(Object.keys(n.targetDecorator))||void 0!==n.cornerRadius)&&($L(e,c.length>0?c:e.intermediatePoints,this.diagramActions),void 0!==n.type&&(h=!0),c.length>0&&(e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateConnectorAnnotation(e),this.updateConnectorPort(e),this.updateConnectorfixedUserHandles(e),this.updateObject(e,i,n))),(n.sourcePoint||n.targetPoint||n.segments)&&this.diagramActions===Dt.Render&&(h=!0),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&"Sequence"===e.shape.flow&&this.commandHandler.updatePathElementOffset(e),s||this.updateBridging(),this.updateAnnotations(n,e),this.updateConnectorPorts(n,e),this.updatefixedUserHandle(n,e),e.wrapper.measure(new pi(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),!1===l.equals(l,e.wrapper.bounds)&&(this.updateQuad(e),"Drag"!==this.eventHandler.currentAction&&this.updateGroupSize(e)),!0===h&&this.checkSelectedItem(e)&&(!(this.diagramActions&Dt.ToolAction)||this.diagramActions&Dt.UndoRedo)&&this.updateSelector(),this.preventConnectorsUpdate||(!hc(this)||hc(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)&&(this.diagramActions&Dt.PreventZIndexOnDragging?this.updateDiagramObject(e,!0):this.updateDiagramObject(e)),this.updateConnectorEdges(e),this.diagramActions&&"New"!==e.status&&(e.status="Update"),this.triggerPropertyChange(o,e,i,n)},t.prototype.removePortEdges=function(e,i,n,s){if(e)for(var o=0;o<e.ports.length;o++){var a=e.ports[parseInt(o.toString(),10)];a.id===i&&uD(s?a.inEdges:a.outEdges,n)}},t.prototype.getpropertyChangeArgs=function(e,i,n,s){return s.element={connector:Rt(e)},s.oldValue={connector:Rt(i)},s.newValue={connector:Rt(n)},s},t.prototype.updateConnectorPorts=function(e,i){if(void 0!==e.ports)for(var n=0,s=Object.keys(e.ports);n<s.length;n++){var o=s[n],a=Number(o),l=e.ports[""+o],h=i.ports[parseInt(a.toString(),10)];this.updatePort(l,h,i.wrapper,i)}},t.prototype.triggerPropertyChange=function(e,i,n,s){if(!e){var o=i,a={element:Rt(o),cause:this.diagramActions,diagramAction:this.getDiagramAction(this.diagramActions),oldValue:Rt(n),newValue:Rt(s)};ge()&&(a=this.getpropertyChangeArgs(o,n,s,a)),this.triggerEvent(_i.propertyChange,a)}},t.prototype.findInOutConnectPorts=function(e,i){var n={};return e&&(n=Uw(e,i)),n},t.prototype.getPoints=function(e,i){return e.getConnectorPoints(e.type,i,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0,!!this.lineDistributionModule)},t.prototype.updateNodeProperty=function(e,i,n){if(void 0===i)this.updateElementVisibility(e,this.nameTable[e.id],i);else{e.style.opacity=n;for(var s=0;s<e.children.length;s++)e.children[parseInt(s.toString(),10)]instanceof Fh&&this.updateNodeProperty(e.children[parseInt(s.toString(),10)],void 0,n),e.children[parseInt(s.toString(),10)].style.opacity=n}},t.prototype.checkSelectedItem=function(e){var i=this.selectedItems,n=!1,s=[];return(s=s.concat(i.nodes,i.connectors)).length>0&&e.id===s[s.length-1].id&&(n=!0),n},t.prototype.updateDiagramContainerVisibility=function(e,i){if(e instanceof Fh)for(var n=0;n<e.children.length;n++)this.updateDiagramContainerVisibility(e.children[parseInt(n.toString(),10)],i);e.visible=i},t.prototype.updateElementVisibility=function(e,i,n){if(void 0!==n){if(e.visible=n,i instanceof Et){if(i.children)for(var s=0,o=i.children;s<o.length;s++){var a=o[s];this.updateElementVisibility(this.nameTable[""+a].wrapper,this.nameTable[""+a],n)}else e.children[0].visible=n,this.updateDiagramContainerVisibility(e.children[0],n),"Bpmn"===i.shape.type&&this.bpmnModule&&this.bpmnModule.updateElementVisibility(i,n,this);if(i.ports)for(var l=0,h=i.ports;l<h.length;l++){var c=h[l];c.visibility&zi.Visible&&((u=this.getWrapper(e,c.id)).visible=n)}if(i.annotations)for(var d=0,p=i.annotations;d<p.length;d++)(u=this.getWrapper(e,p[d].id)).visible=n}else for(var m=0;m<3;m++)e.children[parseInt(m.toString(),10)].visible=n;if(i.annotations)for(var M=0,T=i.annotations;M<T.length;M++)(u=this.getWrapper(e,T[M].id)).visible=n;if(i.expandIcon||i.collapseIcon){var u;if(u=this.getWrapper(e,"icon_content")){for(m=0;m<u.children.length;m++)u.children[parseInt(m.toString(),10)].visible=n;u.visible=n}i&&i.visible&&i.outEdges&&this.updateIconVisibility(i,0!==i.outEdges.length)}!1===n&&this.unSelect(this.nameTable[e.id]),(i instanceof Et&&!this.preventNodesUpdate||i instanceof Gt&&!this.preventConnectorsUpdate)&&this.diagramActions&&this.updateDiagramObject(this.nameTable[e.id],void 0,!0)}},t.prototype.updateAnnotations=function(e,i){if(void 0!==e.annotations)for(var n=0,s=Object.keys(e.annotations);n<s.length;n++){var o=s[n],a=Number(o),l=e.annotations[""+o],h=i.annotations[parseInt(a.toString(),10)];this.updateAnnotation(l,h,i.wrapper,i)}},t.prototype.updatefixedUserHandle=function(e,i){if(void 0!==e.fixedUserHandles)for(var n=void 0,s=void 0,o=void 0,a=0,l=Object.keys(e.fixedUserHandles);a<l.length;a++){var h=l[a];n=Number(h),s=e.fixedUserHandles[""+h],o=i.fixedUserHandles[parseInt(n.toString(),10)],this.updateConnectorfixedUserHandle(s,o,i.wrapper,i)}},t.prototype.updateConnectorfixedUserHandle=function(e,i,n,s,o){var a=!1,l=this.getWrapper(n,i.id);void 0!==l&&(void 0!==e.width&&(l.width=e.width,a=!0),void 0!==e.height&&(l.height=e.height,a=!0),i instanceof IL&&void 0!==e.offset&&s.updateAnnotation(i,s.intermediatePoints,s.wrapper.bounds,l),i instanceof IL&&e.displacement&&(void 0!==e.displacement.x||void 0!==e.displacement.y)&&(a=!0),void 0!==e.fill&&(l.style.fill=e.fill),void 0!==e.handleStrokeColor&&(l.style.strokeColor=e.handleStrokeColor),void 0!==e.handleStrokeWidth&&(l.style.strokeWidth=e.handleStrokeWidth),void 0!==e.visibility&&(l.visible=e.visibility),void 0!==e.cornerRadius&&(l.cornerRadius=e.cornerRadius),this.updatefixedUserHandleContent(e,a,l,s,i,n),!0===a&&(l.measure(new pi(l.width,l.height)),l.arrange(l.desiredSize)))},t.prototype.updateAnnotation=function(e,i,n,s,o){var a=!1,l=this.getWrapper(n,i.id);if(void 0!==l){if(void 0!==e.width&&void 0!==e.height&&(l.width=e.width,l.height=e.height,a=!0),void 0!==e.rotateAngle&&(l.rotateAngle=e.rotateAngle),o&&!(l instanceof Sh)&&l.refreshTextElement(),i instanceof zl&&void 0!==e.segmentAngle&&(l.rotateAngle=i.rotateAngle),i instanceof qu&&void 0!==e.offset){var h=e.offset;a=!0,l.setOffsetWithRespectToBounds(void 0!==h.x?h.x:i.offset.x,void 0!==h.y?h.y:i.offset.y,"Fraction"),l.relativeMode="Point"}else i instanceof zl&&(void 0!==e.offset||void 0!==e.segmentAngle)&&s.updateAnnotation(i,s.intermediatePoints,s.wrapper.bounds,l);i instanceof zl&&e.displacement&&(void 0!==e.displacement.x||void 0!==e.displacement.y)&&(a=!0,s.updateAnnotation(i,s.intermediatePoints,s.wrapper.bounds,l)),void 0!==e.margin&&(a=!0,void 0!==e.margin.bottom&&(l.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(l.margin.top=e.margin.top),void 0!==e.margin.left&&(l.margin.left=e.margin.left),void 0!==e.margin.right&&(l.margin.right=e.margin.right)),(a||o)&&(l.width=i.width||s.width,i.template&&(l.width=l.width||l.actualSize.width,l.height=i.height||s.height||l.actualSize.height)),void 0!==e.horizontalAlignment&&(l.horizontalAlignment=e.horizontalAlignment,a=!0),void 0!==e.verticalAlignment&&(l.verticalAlignment=e.verticalAlignment,a=!0),void 0!==e.visibility&&(l.visible=!(!n.visible||!e.visibility)),void 0!==e.constraints&&(l.constraints&Rl.Select&&!(e.constraints&Rl.Select)&&Sa(this,s,!1,l),l.constraints=e.constraints),void 0!==e.style&&Zp(e.style,l),void 0!==e.hyperlink&&function Sme(r,t,e){for(var i=t,n=i.hyperlink,s=0,o=Object.keys(r);s<o.length;s++)switch(o[s]){case"color":i.style.color=n.color=r.color;break;case"content":i.content=n.content=r.content||n.link;break;case"link":i.style.color=r.link?n.color:e.style.color,i.style.textDecoration=r.link?n.textDecoration:e.style.textDecoration,i.content=r.link?n.content||r.link:e.content,n.link=r.link;break;case"textDecoration":i.style.textDecoration=n.textDecoration=r.textDecoration;break;case"hyperlinkOpenState":n.hyperlinkOpenState=r.hyperlinkOpenState}}(e.hyperlink,l,i),this.updateAnnotationContent(e,a,l,s,i,n),!0===a&&(l.measure(new pi(l.width,l.height)),l.arrange(l.desiredSize)),l instanceof Sh||l.refreshTextElement()}},t.prototype.updatefixedUserHandleContent=function(e,i,n,s,o,a){void 0!==e&&this.updateConnectorfixedUserHandleWrapper(n,s,o,a)},t.prototype.updateConnectorfixedUserHandleWrapper=function(e,i,n,s){for(var o=0,a=this.views;o<a.length;o++){var l=a[o];Xa(e.id+"_groupElement",l),Xa(e.id+"_html_element",l)}if(i instanceof Gt){var c=i.wrapper.children[0],u=new Xi(c.offsetX-c.width/2,c.offsetY-c.height/2,c.width,c.height);e=i.getfixedUserHandle(i.fixedUserHandles[i.fixedUserHandles.length-1],i.intermediatePoints,u)}for(var d=0;d<s.children.length;d++)e.id===s.children[parseInt(d.toString(),10)].id&&s.children.splice(d,1,e)},t.prototype.updateAnnotationContent=function(e,i,n,s,o,a){void 0!==e.content&&(n&&(n.content="UmlActivity"===s.shape.type&&(ge()&&"StructuredNode"===s.shape.umlActivityShape||!ge()&&"StructuredNode"===s.shape.shape)?"<<"+e.content+">>":e.content),n instanceof Sh&&this.updateAnnotationWrapper(n,s,o,a)),void 0!==e.template&&(n.content=e.template,this.updateAnnotationWrapper(n,s,o,a))},t.prototype.updateAnnotationWrapper=function(e,i,n,s){for(var o=0,a=this.views;o<a.length;o++){var l=a[o];Xa(e.id+"_groupElement",l),Xa(e.id+"_html_element",l)}if(i instanceof Et)e=i.initAnnotationWrapper(n,this.element.id);else if(i instanceof Gt){var c=i.wrapper.children[0],u=new Xi(c.offsetX-c.width/2,c.offsetY-c.height/2,c.width,c.height);e=i.getAnnotationElement(i.annotations[i.annotations.length-1],i.intermediatePoints,u,this.getDescription,this.element.id)}for(var d=0;d<s.children.length;d++)e.id===s.children[parseInt(d.toString(),10)].id&&s.children.splice(d,1,e)},t.prototype.updateNodefixedUserHandle=function(e,i,n,s){var o=!1,a=this.getWrapper(n,i.id);if(void 0!==a){if(void 0!==e.width&&(a.actualSize.width=e.width,o=!0),void 0!==e.height&&(a.height=e.height,o=!0),i instanceof EG&&void 0!==e.offset){var l=e.offset;o=!0,a.setOffsetWithRespectToBounds(void 0!==l.x?l.x:i.offset.x,void 0!==l.y?l.y:i.offset.y,"Fraction"),a.relativeMode="Point"}void 0!==e.margin&&(o=!0,void 0!==e.margin.bottom&&(a.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(a.margin.top=e.margin.top),void 0!==e.margin.left&&(a.margin.left=e.margin.left),void 0!==e.margin.right&&(a.margin.right=e.margin.right)),void 0!==e.visibility&&(a.visible=e.visibility),void 0!==e.fill&&(a.style.fill=e.fill),void 0!==e.handleStrokeColor&&(a.style.strokeColor=e.handleStrokeColor),void 0!==e.handleStrokeWidth&&(a.style.strokeWidth=e.handleStrokeWidth),void 0!==e.cornerRadius&&(a.cornerRadius=e.cornerRadius),this.updatefixedUserHandleWrapper(a,s,i,n),!0===o&&(a.measure(new pi(a.width,a.height)),a.arrange(a.desiredSize))}},t.prototype.updatefixedUserHandleWrapper=function(e,i,n,s){for(var o=0,a=this.views;o<a.length;o++){var l=a[o];Xa(e.id+"_groupElement",l),Xa(e.id+"_html_element",l)}i instanceof Et&&(e=i.initfixedUserHandles(n));for(var h=0;h<s.children.length;h++)e.id===s.children[parseInt(h.toString(),10)].id&&s.children.splice(h,1,e)},t.prototype.updatePort=function(e,i,n,s){var o=!1,a=this.getWrapper(n,i.id);if(void 0!==a){if(void 0!==e.offset&&(o=!0,s?void 0!==e.offset&&s.updateAnnotation(i,s.intermediatePoints,s.wrapper.bounds,a):(a.setOffsetWithRespectToBounds(void 0!==e.offset.x?e.offset.x:i.offset.x,void 0!==e.offset.y?e.offset.y:i.offset.y,"Fraction"),a.relativeMode="Point")),void 0!==e.width&&(o=!0,a.width=e.width),void 0!==e.height&&(o=!0,a.height=e.height),void 0!==e.visibility&&(a.visible=!(!n.visible||!Yd(i,zi.Visible))),void 0!==e.margin&&(o=!0,void 0!==e.margin.bottom&&(a.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(a.margin.top=e.margin.top),void 0!==e.margin.right&&(a.margin.right=e.margin.right),void 0!==e.margin.left&&(a.margin.left=e.margin.left)),void 0!==e.horizontalAlignment&&(o=!0,a.horizontalAlignment=e.horizontalAlignment),void 0!==e.verticalAlignment&&(o=!0,a.verticalAlignment=e.verticalAlignment),void 0!==e.style&&(void 0!==e.style.fill&&(a.style.fill=e.style.fill),void 0!==e.style.opacity&&(a.style.opacity=e.style.opacity),void 0!==e.style.strokeColor&&(a.style.strokeColor=e.style.strokeColor),void 0!==e.style.strokeWidth&&(a.style.strokeWidth=e.style.strokeWidth),void 0!==e.style.strokeDashArray&&(a.style.strokeDashArray=e.style.strokeDashArray)),void 0!==e.shape&&a){var c=FB(e.shape);a.data=c,a.canMeasurePath=!0}void 0!==e.pathData&&(a.data=String(e.pathData),o=!0),!0===o&&(a.measure(new pi(a.width,a.height)),a.arrange(a.desiredSize))}},t.prototype.updateIcon=function(e){var i=this.getWrapper(e.wrapper,"icon_content"),n=this.diagramActions&Dt.Render?this.element.id:void 0;if(i){if("SVG"===this.mode){var s=es(e.wrapper.id+"_icon_content",n);if(s){var o=es(s.id+"_rect",n),a=es(s.id+"_shape",n),l=es(a.id+"_native_element",n);l&&l.parentNode.removeChild(l),a.parentNode.removeChild(a),o.parentNode.removeChild(o),s.parentNode.removeChild(s)}}var h=e.wrapper.children.indexOf(i);e.wrapper.children.splice(h,1)}var c=this.getPortContainer(e);e.initIcons(this.getDescription,this.layout,c,this.element.id)},t.prototype.getPortContainer=function(e){if(e.children)for(var i=0;i<e.wrapper.children.length;i++)if(e.wrapper.children[parseInt(i.toString(),10)].id===e.id+"group_container")return e.wrapper.children[parseInt(i.toString(),10)];return e.wrapper},t.prototype.updateTooltip=function(e,i){void 0!==i.tooltip.content&&(e.tooltip.content=i.tooltip.content),void 0!==i.tooltip.position&&(e.tooltip.position=i.tooltip.position),void 0!==i.tooltip.height&&(e.tooltip.height=i.tooltip.height),void 0!==i.tooltip.width&&(e.tooltip.width=i.tooltip.width),void 0!==i.tooltip.showTipPointer&&(e.tooltip.showTipPointer=i.tooltip.showTipPointer),void 0!==i.tooltip.relativeMode&&(e.tooltip.relativeMode=i.tooltip.relativeMode)},t.prototype.updateQuad=function(e){this.spatialSearch.updateQuad(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.removeFromAQuad=function(e){if(e.children)for(var i=void 0,n=e.children,s=0;s<n.length;s++)(i=this.nameTable[n[parseInt(s.toString(),10)]])&&this.removeFromAQuad(i);this.spatialSearch.removeFromAQuad(e.wrapper),this.spatialSearch.updateBounds(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.updateGroupSize=function(e){var i;e.parentId&&(i=this.nameTable[e.parentId])&&(i.parentId?this.updateGroupSize(i):(i.wrapper.measure(new pi),i.wrapper.arrange(i.wrapper.desiredSize),this.updateGroupOffset(i),this.updateDiagramObject(i)))},t.prototype.updatePage=function(){if(this.diagramActions&Dt.Render&&!(this.diagramActions&Dt.DragUsingMouse)){this.scroller.updateScrollOffsets(),this.scroller.setSize();for(var e=0,i=this.views;e<i.length;e++){var s=this.views[""+i[e]];s instanceof t||s.updateView(s)}}this.diagramActions&Dt.DragUsingMouse&&(this.renderPageBreaks(),this.scroller.updateScrollOffsets(),this.scroller.setSize())},t.prototype.protectPropertyChange=function(e){this.isProtectedOnChange=e},t.prototype.getProtectPropertyChangeValue=function(){return this.isProtectedOnChange},t.prototype.enableServerDataBinding=function(e){ge()&&(this.allowServerDataBinding=e,e&&(this.bulkChanges={}))},t.prototype.updateShadow=function(e,i){void 0!==i.angle&&(e.angle=i.angle),void 0!==i.color&&(e.color=i.color),void 0!==i.distance&&(e.distance=i.distance),void 0!==i.opacity&&(e.opacity=i.opacity)},t.prototype.updateMargin=function(e,i){void 0!==i.margin.top&&(e.margin.top=i.margin.top),void 0!==i.margin.bottom&&(e.margin.bottom=i.margin.bottom),void 0!==i.margin.left&&(e.margin.left=i.margin.left),void 0!==i.margin.right&&(e.margin.right=i.margin.right)},t.prototype.removePreviewChildren=function(e){if(e.children&&e.children.length&&e.shape&&"SwimLane"===e.shape.type){for(var i=0;i<e.children.length;i++){var n=e.children[parseInt(i.toString(),10)],s=this.nodes.indexOf(this.nameTable[""+n]);s>=0&&this.nodes.splice(s,1),delete this.nameTable[""+n]}var o=this.nodes.indexOf(this.nameTable[this.currentSymbol.id]);o>=0&&this.nodes.splice(o,1)}},t.prototype.selectDragedNode=function(e,i,n){this.currentSymbol=e,"SVG"!==this.mode&&this.refreshDiagramLayer(),this.commandHandler.oldSelectedObjects=ky(this),this.commandHandler.select(e),this.commandHandler.updateBlazorSelector(),this.eventHandler.mouseDown(i.event),this.eventHandler.mouseMove(i.event,i),this.preventDiagramUpdate=!1,this.updatePage(),n.style.opacity="0"},t.prototype.initDroppables=function(){var s,o,e=this,i={},n={},a="selectedSymbols";this.droppable=new i6(this.element),this.droppable.over=function(l){if(0===e.previousSelectedObjects.length&&!e.currentSymbol&&(e.previousSelectedObjects=e.commandHandler.getSelectedObject()),e.commandHandler.PreventConnectorSplit=!0,e.currentSymbol)l.event.touches&&l.event.touches.length&&e.eventHandler.mouseMove(l.event,l.event.touches);else{var h=null;if(!l.dragData&&"drag"===l.name){var c=document.getElementsByClassName("e-dragclone")[0];c&&(h=c)}if(l.dragData||h){var u=void 0,d=void 0;document.getElementById(e.element.id+"content").focus();var p=e.eventHandler.getMousePosition(l.event),f=void 0,m=h||l.dragData.helper,M=m.getAttribute("paletteId"),T=void 0,P=void 0,U=void 0,Y=void 0;if(!M&&l.dragData){e.triggerEvent(_i.dragEnter,X={source:null,element:u,cancel:!1,diagram:e,dragData:l.dragData.draggedElement.ej2_instances[0].dragData,dragItem:u});var Q=void 0,oe=void 0;if(X.dragItem){if(X.dragItem.sourcePoint&&X.dragItem.targetPoint?oe=new Gt(e,"connectors",X.dragItem,!0):Q=new Et(e,"nodes",X.dragItem,!0),e.initObject(u=Q||oe,void 0,void 0,!0),e.enterObject=u,e.enterTable=n,u instanceof Et)Q.offsetX=p.x+5+Q.width*Q.pivot.x,Q.offsetY=p.y+Q.height*Q.pivot.y;else if(u instanceof Gt){var de=Xi.toBounds([u.sourcePoint,u.targetPoint]),Me=p.x-de.left,Ve=p.y-de.top;u.sourcePoint.x+=Me,u.sourcePoint.y+=Ve,u.targetPoint.x+=Me,u.targetPoint.y+=Ve}e.preventDiagramUpdate=!0,e.currentSymbol=u,"SVG"!==e.mode&&e.refreshDiagramLayer(),e.selectDragedNode(u,l,m),delete e.enterObject,delete e.enterTable,e.droppable[""+a]=m,e.allowServerDataBinding=!0}}if(M){var Ce=document.getElementById(M).ej2_instances[0];if(e.droppable.sourceElement=Ce,Ce){var pe=Ce[""+a];e.allowServerDataBinding=!1,f=rt(Ce[""+a]),i=Ce.childTable;var Pe=pe.wrapper.children[0].children[0];if(Y=function Nme(r,t,e){var i=DX(r,t,e,"width"),n=DX(r,t,e,"height");return new pi(i,n)}(Ce,f,Pe),Ce[""+a]instanceof Et){"TextAnnotation"===pe.shape.shape?(f.offsetX=p.x+11+Y.width*f.pivot.x,f.offsetY=p.y+11+Y.height*f.pivot.y):(f.offsetX=p.x+5+Y.width*f.pivot.x,f.offsetY=p.y+Y.height*f.pivot.y),"Bpmn"===(Q=new Et(e,"nodes",f,!0)).shape.type&&Q.shape.activity.subProcess.processes&&Q.shape.activity.subProcess.processes.length&&(Q.shape.activity.subProcess.processes=[]),P=Q.previewSize,U=Ce.symbolDragSize;var Qe=Ce.symbolPreview;if(Q.width=(T=Q.dragSize).width||U.width||P.width||Qe.width||Q.width,Q.height=T.height||U.height||P.height||Qe.height||Q.height,"SwimLane"===Q.shape.type){if(e.diagramActions|=Dt.PreventHistory,Q.shape.isLane){Q.children=[],s={id:"header"+kn()},"Horizontal"===Q.shape.orientation?(s.width=Q.shape.lanes[0].header.width,s.height=Q.shape.lanes[0].height):(s.width=Q.shape.lanes[0].width,s.height=Q.shape.lanes[0].header.height),s.style=Q.shape.lanes[0].header.style,s.offsetX=p.x+5+s.width/2,s.offsetY=p.y+s.height/2,e.diagramActions|=Dt.PreventCollectionChangeOnDragOver,s=e.add(s),o={id:"body"+kn()},"Horizontal"===Q.shape.orientation?(o.width=Q.shape.lanes[0].width-s.width,o.height=Q.shape.lanes[0].height,o.offsetX=p.x+5+(Q.shape.lanes[0].header.width+o.width/2),o.offsetY=p.y+o.height/2):(o.width=Q.shape.lanes[0].width,o.height=Q.shape.lanes[0].height-s.height,o.offsetX=p.x+5+o.width/2,o.offsetY=p.y+(Q.shape.lanes[0].header.height+o.height/2)),o.style=Q.shape.lanes[0].style,o=e.add(o);var Oe={id:"group"+kn(),children:[s.id,o.id]};Oe.shape=Q.shape,Oe.width=Q.shape.lanes[0].width,Oe.height=Q.shape.lanes[0].height,Oe.previewSize=Q.previewSize,Oe.dragSize=Q.dragSize,Oe.addInfo=Q.addInfo,Q=e.add(Oe),e.diagramActions&=~Dt.PreventCollectionChangeOnDragOver}e.diagramActions&=~Dt.PreventHistory}if(Q.shape.isPhase&&((d="Horizontal"===Q.shape.orientation)?(Q.offsetX=p.x+5+(Q.width||Pe.actualSize.width)/2,Q.offsetY=p.y,Q.shape.data="M20,"+Q.height/2+" L"+(Q.width-20)+","+Q.height/2+"z",Q.height=1):(Q.offsetX=p.x+5,Q.offsetY=p.y+(Q.height||Pe.actualSize.height)/2,Q.shape.data="M"+Q.width/2+",20 L"+Q.width/2+","+(Q.height-20)+"z",Q.width=1)),u=Q,f.children){var Ye=f;n=e.getChildren(Ye,{},i),b4(Ye,-Ye.offsetX,-Ye.offsetY,n,!0,e)}}else if(Ce[""+a]instanceof Gt){u=new Gt(e,"connectors",f,!0);var Xt=Xi.toBounds([u.sourcePoint,u.targetPoint]),ni=p.x-Xt.left,ui=p.y-Xt.top;u.sourcePoint.x+=ni,u.sourcePoint.y+=ui,u.targetPoint.x+=ni,u.targetPoint.y+=ui}u.shape.isLane||(u.id+=kn());var X={source:Ce,element:u,cancel:!1,diagram:e,dragData:null,dragItem:u};if(ge()&&(X=e.getBlazorDragEventArgs(X)),e.enterObject=u,e.enterTable=n,e.triggerEvent(_i.dragEnter,X),u instanceof Et&&"SwimLane"===u.shape.type&&u.shape.isLane){var Pi=X.element,Di=Pi.shape.lanes[0];d="Horizontal"===Pi.shape.orientation;var Fi=e.nameTable[u.children[0]],Mi=e.nameTable[u.children[1]];P=u.previewSize,U=Ce.symbolDragSize,Di.width=(T=u.dragSize).width||U.width||P.width||Di.width,Di.height=T.height||U.height||P.height||Di.height,d?(s.width=Di.header.width,s.height=Di.height,o.width=Di.width-s.width,o.height=Di.height,o.offsetX=p.x+5+(Di.header.width+Mi.width/2),o.offsetY=p.y+Mi.height/2):(s.width=Di.width,s.height=Di.header.height,o.width=Di.width,o.height=Di.height-s.height,o.offsetX=p.x+5+Mi.width/2,o.offsetY=p.y+(Di.header.height+Mi.height/2)),s.offsetX=p.x+5+Fi.width/2,s.offsetY=p.y+Fi.height/2,u.width=Di.width,u.height=Di.height}u instanceof Et&&u.shape.isPhase&&(d?u.height=1:u.width=1),!e.activeLayer.lock&&!X.cancel&&(e.preventDiagramUpdate=!0,u.children&&e.findChild(u,n),e.preventDiagramUpdate=!0,-1!==u.zIndex&&(u.zIndex=-1),e.initObject(u,void 0,void 0,!0),e.selectDragedNode(u,l,m)),delete e.enterObject,delete e.enterTable}e.droppable[""+a]=m,e.allowServerDataBinding=!0}}}},this.droppable.drop=function(l){return V4(e,void 0,void 0,function(){var h,c,u,d,p,f,m,M,T,P,U,Y,X;return W4(this,function(Q){switch(Q.label){case 0:return this.allowServerDataBinding=!1,h="sourceElement",this.currentSymbol?(u=!1,p=this.currentSymbol instanceof Gt,l.event.touches&&this.eventHandler.mouseUp(l.event),M=void 0,M={source:this.droppable[""+h],element:this.currentSymbol,target:this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this,cancel:!1,position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},ge()?(M={source:Rt(this.droppable[""+h]),element:os(this.currentSymbol)===Gt?{connector:Rt(this.currentSymbol)}:{node:Rt(this.currentSymbol)},cancel:!1,target:{},position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},this.getDropEventArgs(M),[4,this.triggerEvent(_i.drop,M)]):[3,2]):[3,4];case 1:return M=Q.sent()||M,[3,3];case 2:this.commandHandler.PreventConnectorSplit=!1,this.triggerEvent(_i.drop,M),Q.label=3;case 3:return P="id",(T=rt(this.currentSymbol)).hasTarget=this.currentSymbol.hasTarget,this.removeFromAQuad(this.currentSymbol),this.removeObjectsFromLayer(this.nameTable[this.currentSymbol.id]),this.removeElements(this.currentSymbol),(this.currentSymbol.shape.isLane||this.currentSymbol.shape.isPhase)&&this.removeChildInNodes(this.currentSymbol),M.cancel&&f4(this.currentSymbol,this),this.currentSymbol.shape.isPhase&&(u=!0,d=this.currentSymbol.shape.orientation),this.removePreviewChildren(this.currentSymbol),delete this.nameTable[this.currentSymbol.id],this.currentSymbol=null,this.protectPropertyChange(!0),M.cancel?this.clearSelectorLayer():(this.startGroupAction(),T&&(T.shape.isLane||u)&&(u&&(T.shape.isPhase=u,T.shape.orientation=d),this.eventHandler.addSwimLaneObject(T)),"Bpmn"===T.shape.type&&T.shape.annotation&&T.hasTarget&&(f=T.shape.annotation.nodeId,T.shape.annotation.id=T.id,this.addTextAnnotation(T.shape.annotation,this.nameTable[""+f]),T.nodeId=""),!T.shape.isLane&&!u&&(T.children&&this.addChildNodes(T),M.target&&M.target instanceof Et&&!p&&wh(this,M.target)&&EL(M.target)?sD(this,M.target,T):("Bezier"===T.type&&T.segments.length>0&&(T.segments=[]),c=this.add(T,!0)),(T||c)&&AL(this)&&this.select([this.nameTable[T[""+P]]],!1,this.previousSelectedObjects),M.target&&M.target instanceof Gt&&!0===this.enableConnectorSplit&&this.nameTable[T[""+P]]instanceof Et&&(this.commandHandler.connectorSplit(this.nameTable[T[""+P]],M.target),this.commandHandler.PreventConnectorSplit=!1))),this.protectPropertyChange(!1),m=this.nameTable[T[""+P]],T.hasTarget&&(T.nodeId=T.hasTarget,this.remove(T)),this.bpmnModule&&m instanceof Et&&T.processId&&(m.processId=T.processId,this.bpmnModule.dropBPMNchild(this.nameTable[m.processId],m,this)),M.cancel||this.endGroupAction(),"SVG"!==this.mode&&this.refreshDiagramLayer(),delete this.droppable[""+h],[3,5];case 4:M={source:Rt(l.droppedElement),element:void 0,target:Rt(this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this),cancel:!1,position:void 0},ge()&&(M={source:Rt(l.droppedElement),element:void 0,cancel:!1,position:void 0,target:{}},this.getDropEventArgs(M)),this.triggerEvent(_i.drop,M),T=void 0,P="id",Q.label=5;case 5:if(this.droppable[U="selectedSymbols"]&&this.droppable[""+U].parentNode)bn(this.droppable[""+U]);else for(Y=document.getElementsByClassName("e-dragclone"),X=0;X<Y.length;X++)Y[parseInt(X.toString(),10)].remove();return this.allowServerDataBinding=!0,this.previousSelectedObjects=[],[2]}})})},this.droppable.out=function(l){if("touchmove"===l.evt.type&&e.eventHandler.mouseLeave(l.evt),e.currentSymbol&&!e.eventHandler.focus){e.unSelect(e.currentSymbol),e.removeFromAQuad(e.currentSymbol),"SVG"!==e.mode&&"Native"===e.currentSymbol.shape.type&&e.removeElements(e.currentSymbol),e.removeObjectsFromLayer(e.nameTable[e.currentSymbol.id]),e.removePreviewChildren(e.currentSymbol),delete e.nameTable[e.currentSymbol.id];var h={element:Rt(e.currentSymbol),diagram:e};if(ge()&&(h=e.getBlazorDragLeaveEventArgs(h)),e.triggerEvent(_i.dragLeave,h),"SVG"!==e.mode)e.refreshDiagramLayer();else if(e.removeElements(e.currentSymbol),"SwimLane"!=e.currentSymbol.shape.type&&e.currentSymbol.children&&e.currentSymbol.children.length>0)for(var c=0;c<e.currentSymbol.children.length;c++){var u=e.nameTable[e.currentSymbol.children[parseInt(c.toString(),10)]];e.removeElements(u),delete e.nameTable[e.currentSymbol.children[parseInt(c.toString(),10)]]}e.currentSymbol=null,e.droppable.selectedSymbols.style.opacity="1",delete e.droppable.sourceElement,e.diagramRenderer.rendererActions=e.removeConstraints(e.diagramRenderer.rendererActions,Yp.DrawSelectorBorder),e.previousSelectedObject&&e.select(e.previousSelectedObject,e.previousSelectedObject.length>1),e.previousSelectedObject=null}}},t.prototype.getBlazorDragLeaveEventArgs=function(e){return{diagramId:this.element.id,element:os(e.element)===Gt?{connector:Rt(e.element)}:{node:Rt(e.element)}}},t.prototype.getDropEventArgs=function(e){if(this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode){var i=this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode;e.target=os(i)===Gt?{connector:Rt(i)}:{node:Rt(i)}}else e.target.diagramId=this.element.id},t.prototype.removeChildInNodes=function(e){if(e){if(e.children)for(var i=0;i<e.children.length;i++)this.removeChildInNodes(this.nameTable[e.children[parseInt(i.toString(),10)]]);var n=this.nodes.indexOf(e);-1!==n&&this.nodes.splice(n,1)}},t.prototype.getBlazorDragEventArgs=function(e){return{source:Rt(e.source),element:os(e.element)===Gt?{connector:Rt(e.element)}:{node:Rt(e.element)},cancel:e.cancel,diagramId:this.element.id}},t.prototype.findChild=function(e,i){for(var n,s,o=0;o<e.children.length;o++)(n=i[e.children[parseInt(o.toString(),10)]])&&(n.children&&this.findChild(n,i),n.id=n.id+kn(),i[n.id]=n,e.children[parseInt(o.toString(),10)]=n.id,s=new Et(this,"nodes",n,!0),this.initObject(s,void 0,void 0,!0))},t.prototype.getChildren=function(e,i,n){for(var s,o=0;o<e.children.length;o++)(s=n[e.children[parseInt(o.toString(),10)]])&&(s.children&&(i=this.getChildren(s,i,n)),i[s.id]=rt(s));return i},t.prototype.addChildNodes=function(e){for(var i,n=0;n<e.children.length;n++)(i=this.nameTable[e.children[parseInt(n.toString(),10)]])&&(i.children&&this.addChildNodes(i),this.add(i,!0))},t.prototype.moveNode=function(e){for(var o,i=this.commandHandler.getObjectLayer(e.id),n=i.zIndex,s=i.objects.length,a=0;a<this.layers.length;a++)n===this.layers[parseInt(a.toString(),10)].zIndex&&(o=this.layers[a+1]);if(s>1){var l=2;if(e.children&&e.children.length>0)for(;e.children.indexOf(i.objects[s-l])>-1;)l++;this.commandHandler.moveSvgNode(e.id,i.objects[s-l]),this.commandHandler.moveSvgNode(i.objects[s-l],e.id)}else if(o){var h=this.commandHandler.getLayer(this.layerZIndexTable[o.zIndex]).objects[0];h?(this.commandHandler.moveSvgNode(e.id,h),this.commandHandler.updateNativeNodeIndex(e.id,h)):this.moveObjectsUp(e,i)}else this.moveObjectsUp(e,i)},t.prototype.moveObjectsUp=function(e,i){for(var n,s=this.layers.length-1;s>=0;s--)if(n=this.layers[parseInt(s.toString(),10)],i.id!==n.id){var o=this.commandHandler.getLayer(this.layerZIndexTable[n.zIndex]).objects[n.objects.length-1];if(o){this.commandHandler.moveSvgNode(e.id,o),this.commandHandler.moveSvgNode(o,e.id);break}}},t.prototype.insertData=function(e){return this.crudOperation(e,"create",this.getNewUpdateNodes("New"))},t.prototype.updateData=function(e){return this.crudOperation(e,"update",this.getNewUpdateNodes("Update"))},t.prototype.removeData=function(e){return this.crudOperation(e,"destroy",this.getDeletedNodes())},t.prototype.crudOperation=function(e,i,n){if(e){var s=this.parameterMap(e,!(e instanceof Gt));if(s){var o=e instanceof Gt?this.dataSourceSettings.connectionDataSource.crudAction[""+i]:this.dataSourceSettings.crudAction[""+i];this.raiseAjaxPost(JSON.stringify(s),o)}return s}var a=n;return this.processCrudCollection(a,this.dataSourceSettings.crudAction[""+i],this.dataSourceSettings.connectionDataSource.crudAction[""+i]),a},t.prototype.processCrudCollection=function(e,i,n){if(e.nodes){var s=[],o=void 0;for(o=0;o<e.nodes.length;o++)s.push(this.parameterMap(e.nodes[parseInt(o.toString(),10)],!0));s&&s.length>0&&this.raiseAjaxPost(JSON.stringify(s),i)}if(e.connectors){for(s=[],o=void 0,o=0;o<e.connectors.length;o++)s.push(this.parameterMap(e.connectors[parseInt(o.toString(),10)],!1));s&&s.length>0&&this.raiseAjaxPost(JSON.stringify(s),n)}},t.prototype.parameterMap=function(e,i){var s,n={},o=i?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource;if(o.id&&(n[o.id]=e.id),o.sourcePointX&&o.sourcePointY&&(n[o.sourcePointX]=e.sourcePoint.x,n[o.sourcePointY]=e.sourcePoint.y),o.targetPointX&&o.targetPointY&&(n[o.targetPointX]=e.targetPoint.x,n[o.targetPointY]=e.targetPoint.y),o.sourceID&&(n[o.sourceID]=e.sourceID),o.targetID&&(n[o.targetID]=e.targetID),o.crudAction&&o.crudAction.customFields&&o.crudAction.customFields.length>0)for(s=0;s<o.crudAction.customFields.length;s++)n[o.crudAction.customFields[parseInt(s.toString(),10)]]=e[o.crudAction.customFields[parseInt(s.toString(),10)]];return n},t.prototype.getNewUpdateNodes=function(e){var i=[],n=[];for(var s in this.nameTable){var o=this.nameTable[""+s];o.status===e&&(o&&o instanceof Gt?(o.status="None",n.push(o)):(o.status="None",i.push(o)))}return{nodes:i,connectors:n}},t.prototype.getDeletedNodes=function(){var n,e=[],i=[];for(n=0;n<this.crudDeleteNodes.length;n++){var s=this.crudDeleteNodes[parseInt(n.toString(),10)];s&&s.segments?i.push(s):s&&e.push(s)}return this.crudDeleteNodes=[],{nodes:e,connectors:i}},t.prototype.raiseAjaxPost=function(e,i){var n=new JS(i,"POST","application/json"),s=JSON.stringify(JSON.parse(e));n.send(s).then(),n.onSuccess=function(o){}},t.prototype.getHiddenItems=function(e){if(this.contextMenuModule){this.contextMenuModule.hiddenItems=[];for(var n=0,s=e.items;n<s.length;n++){var o=s[n];if(this.contextMenuModule.ensureItems(o,e.event),o.items&&o.items.length)for(var a=0,l=o.items;a<l.length;a++)this.contextMenuModule.ensureItems(l[a],e.event)}return this.contextMenuModule.hiddenItems}return[]},Ki([O("100%")],t.prototype,"width",void 0),Ki([O(!1)],t.prototype,"enableConnectorSplit",void 0),Ki([O("SVG")],t.prototype,"mode",void 0),Ki([O("100%")],t.prototype,"height",void 0),Ki([O("Circle")],t.prototype,"segmentThumbShape",void 0),Ki([Lt({},$ve)],t.prototype,"contextMenuSettings",void 0),Ki([O(Un.Default)],t.prototype,"constraints",void 0),Ki([O(Do.Default)],t.prototype,"tool",void 0),Ki([O("Top")],t.prototype,"bridgeDirection",void 0),Ki([O("transparent")],t.prototype,"backgroundColor",void 0),Ki([Lt({},yye)],t.prototype,"snapSettings",void 0),Ki([Lt({},bye)],t.prototype,"rulerSettings",void 0),Ki([Lt({},gye)],t.prototype,"pageSettings",void 0),Ki([Lt({},_ye)],t.prototype,"serializationSettings",void 0),Ki([Qn([],Et)],t.prototype,"nodes",void 0),Ki([O()],t.prototype,"drawingObject",void 0),Ki([Qn([],Gt)],t.prototype,"connectors",void 0),Ki([O([])],t.prototype,"basicElements",void 0),Ki([Lt({},Qx)],t.prototype,"tooltip",void 0),Ki([Lt({},Iye)],t.prototype,"dataSourceSettings",void 0),Ki([O()],t.prototype,"addInfo",void 0),Ki([O()],t.prototype,"historyManager",void 0),Ki([O()],t.prototype,"nodeTemplate",void 0),Ki([O()],t.prototype,"annotationTemplate",void 0),Ki([O()],t.prototype,"userHandleTemplate",void 0),Ki([O()],t.prototype,"getNodeDefaults",void 0),Ki([O()],t.prototype,"nodeDefaults",void 0),Ki([O()],t.prototype,"getConnectorDefaults",void 0),Ki([O()],t.prototype,"connectorDefaults",void 0),Ki([O()],t.prototype,"setNodeTemplate",void 0),Ki([O()],t.prototype,"getDescription",void 0),Ki([O()],t.prototype,"getCustomProperty",void 0),Ki([O()],t.prototype,"getCustomTool",void 0),Ki([O()],t.prototype,"getCustomCursor",void 0),Ki([Qn([],zye)],t.prototype,"customCursor",void 0),Ki([O()],t.prototype,"updateSelection",void 0),Ki([Lt({},jye)],t.prototype,"diagramSettings",void 0),Ki([Lt({},Pr)],t.prototype,"selectedItems",void 0),Ki([Lt({},vye)],t.prototype,"scrollSettings",void 0),Ki([Lt({},xye)],t.prototype,"layout",void 0),Ki([Lt({},Qve)],t.prototype,"commandManager",void 0),Ki([Se()],t.prototype,"dataLoaded",void 0),Ki([Se()],t.prototype,"dragEnter",void 0),Ki([Se()],t.prototype,"dragLeave",void 0),Ki([Se()],t.prototype,"dragOver",void 0),Ki([Se()],t.prototype,"click",void 0),Ki([Se()],t.prototype,"historyChange",void 0),Ki([Se()],t.prototype,"historyStateChange",void 0),Ki([Se()],t.prototype,"doubleClick",void 0),Ki([Se()],t.prototype,"textEdit",void 0),Ki([Se()],t.prototype,"scrollChange",void 0),Ki([Se()],t.prototype,"mouseWheel",void 0),Ki([Se()],t.prototype,"selectionChange",void 0),Ki([Se()],t.prototype,"sizeChange",void 0),Ki([Se()],t.prototype,"connectionChange",void 0),Ki([Se()],t.prototype,"sourcePointChange",void 0),Ki([Se()],t.prototype,"targetPointChange",void 0),Ki([Se()],t.prototype,"propertyChange",void 0),Ki([Se()],t.prototype,"positionChange",void 0),Ki([Se()],t.prototype,"keyUp",void 0),Ki([Se()],t.prototype,"keyDown",void 0),Ki([Se()],t.prototype,"animationComplete",void 0),Ki([Se()],t.prototype,"rotateChange",void 0),Ki([Se()],t.prototype,"collectionChange",void 0),Ki([Se()],t.prototype,"fixedUserHandleClick",void 0),Ki([Se()],t.prototype,"onUserHandleMouseDown",void 0),Ki([Se()],t.prototype,"onUserHandleMouseUp",void 0),Ki([Se()],t.prototype,"onUserHandleMouseEnter",void 0),Ki([Se()],t.prototype,"onUserHandleMouseLeave",void 0),Ki([Se()],t.prototype,"segmentCollectionChange",void 0),Ki([Se()],t.prototype,"onImageLoad",void 0),Ki([Se()],t.prototype,"expandStateChange",void 0),Ki([Se()],t.prototype,"load",void 0),Ki([Se()],t.prototype,"created",void 0),Ki([Se()],t.prototype,"mouseEnter",void 0),Ki([Se()],t.prototype,"mouseLeave",void 0),Ki([Se()],t.prototype,"mouseOver",void 0),Ki([Se()],t.prototype,"elementDraw",void 0),Ki([Se()],t.prototype,"contextMenuOpen",void 0),Ki([Se()],t.prototype,"contextMenuBeforeItemRender",void 0),Ki([Se()],t.prototype,"contextMenuClick",void 0),Ki([Se()],t.prototype,"commandExecute",void 0),Ki([Qn([],rQ)],t.prototype,"layers",void 0),Ki([Se()],t.prototype,"drop",void 0),Ki([Se()],t.prototype,"segmentChange",void 0),t}(Xr),Xye=function(){function r(t){var e=this;this.printWindow=void 0,this.closePrintWindow=function(){e.printWindow&&!e.printWindow.closed&&e.printWindow.close()},this.diagram=t}return r.prototype.exportDiagram=function(t){var e,i,n,s="data",o=[],a=t.margin||{},l=t&&t.region?t.region:"Content";ge()&&(t.mode=0===t.Mode?"Download":"Data");var h=t&&t.mode?t.mode:"Download",c=this.getDiagramBounds(l,t);t.bounds&&(i=!0,c.x=t.bounds.x?t.bounds.x:c.x,c.y=t.bounds.y?t.bounds.y:c.y,c.width=t.bounds.width||c.width,c.height=t.bounds.height||c.height),a={top:void 0!==a.top?a.top:25,bottom:void 0!==a.bottom?a.bottom:25,right:void 0!==a.right?a.right:25,left:void 0!==a.left?a.left:25},"PageSettings"!==l&&(c.x-=a.left,c.y-=a.top,c.width+=a.left+a.right,c.height+=a.top+a.bottom);var d=t.fileName||"diagram";if("SVG"!==t.format){if(null!==(s=this.setCanvas(t,c,a,h,i,l,d)))return s}else{e=t.format,t.bounds=c,t.margin=a;var p=n=this.diagramAsSvg(t,a);if("Data"===h)return ge()&&"SVG"===t.format?(new XMLSerializer).serializeToString(p):n;var m=(new XMLSerializer).serializeToString(p);o.push(m)}if("Download"===h&&null!==s)for(var M=0;M<o.length;M++){var T=new Blob([o[parseInt(M.toString(),10)]],{type:"application/octet-stream"});if("msie"===Ue.info.name)window.navigator.msSaveOrOpenBlob(T,d+"."+e);else{var P=or("a",{download:d+"."+e}),U=URL.createObjectURL(T);P.href=U;var Y=document.createEvent("MouseEvents");Y.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),P.dispatchEvent(Y)}}return null},r.prototype.setCanvas=function(t,e,i,n,s,o,a){var l;t.bounds=e,t.region=o,this.setScaleValueforCanvas(t,e);var f,p=this.diagramAsCanvas({bounds:e,margin:i,region:o,scaleX:t.scaleX,scaleY:t.scaleY,scaleOffsetX:t.scaleOffsetX,scaleOffsetY:t.scaleOffsetY},s);return f=l="JPG"===t.format?p.toDataURL("image/jpeg"):"BMP"===t.format?p.toDataURL("image/bmp"):p.toDataURL(),"Data"===n?l:(this.canvasMultiplePage(t,p,i,f,a),null)},r.prototype.canvasMultiplePage=function(t,e,i,n,s){var o=this,a=[],l=n.substring(n.indexOf(":")+1,n.indexOf(";")),h=l.substring(l.indexOf("/")+1),c=(h="jpeg"===h?void 0:h.toUpperCase())||"JPG";if(t.multiplePage){if(t.pageHeight=t.pageHeight?t.pageHeight:this.diagram.pageSettings.height,t.pageWidth=t.pageWidth?t.pageWidth:this.diagram.pageSettings.width,t.pageHeight=t.pageHeight?t.pageHeight:e.width,t.pageWidth=t.pageWidth?t.pageWidth:e.height,i=t.margin||{},t.pageOrientation&&("Landscape"===t.pageOrientation&&t.pageHeight>t.pageWidth||"Portrait"===t.pageOrientation&&t.pageWidth>t.pageHeight)){var u=t.pageWidth;t.pageWidth=t.pageHeight,t.pageHeight=u}t.margin={top:isNaN(i.top)?0:i.top,bottom:isNaN(i.bottom)?0:i.bottom,left:isNaN(i.left)?0:i.left,right:isNaN(i.right)?0:i.right};var p=or("img",{id:this.diagram.element.id+"_printImage",src:n});p.onload=function(){a=o.getMultipleImage(p,t,!0),o.exportImage(a,s,c,n)}}else this.exportImage(a=[n],s,c,n)},r.prototype.exportImage=function(t,e,i,n){for(var s=[],o=t instanceof HTMLElement?0:t.length,a=0;a<o;a++){for(var l=t[parseInt(a.toString(),10)].replace(/^data:[a-z]*;,/,"").split(","),h=atob(l[1]),c=new ArrayBuffer(h.length),u=new Uint8Array(c),d=0;d<h.length;d++)u[parseInt(d.toString(),10)]=h.charCodeAt(d);s.push(c)}for(var p=function(m){var M=new Blob([s[parseInt(m.toString(),10)]],{type:"application/octet-stream"});if("msie"===Ue.info.name)window.navigator.msSaveOrOpenBlob(M,e+"."+i);else{var T=or("a",{download:e+"."+i}),P=URL.createObjectURL(M);T.href=P;var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),setTimeout(function(){T.dispatchEvent(U)},5*(m+1))}},f=0;f<s.length;f++)p(f)},r.prototype.getObjectsBound=function(t){for(var i,n=0,s=this.diagram.nodes;n<s.length;n++){var o=s[n];o.visible&&("SVG"!==t.format&&!(o instanceof fl)&&!(o instanceof Sh)||"SVG"===t.format&&!(o instanceof Sh))&&(i=i?i.uniteRect(o.wrapper.outerBounds):o.wrapper.outerBounds)}for(var l=0,h=this.diagram.connectors;l<h.length;l++){var c=h[l];c.visible&&(i=i?i.uniteRect(c.wrapper.outerBounds):c.wrapper.outerBounds)}return i||new Xi(0,0,0,0)},r.prototype.getDiagramBounds=function(t,e){var i=this.getObjectsBound(e),n=i.left,s=i.top,o=i.right-i.left,a=i.bottom-i.top;"Content"!==t&&(this.diagram.pageSettings&&this.diagram.pageSettings.multiplePage?(n=i.left,s=i.top,this.diagram.pageSettings.width&&(n=Math.floor(n/this.diagram.pageSettings.width)*this.diagram.pageSettings.width,o=Math.ceil(i.right/this.diagram.pageSettings.width)*this.diagram.pageSettings.width-n),this.diagram.pageSettings.height&&(s=Math.floor(s/this.diagram.pageSettings.height)*this.diagram.pageSettings.height,a=Math.ceil(i.bottom/this.diagram.pageSettings.height)*this.diagram.pageSettings.height-s),0===i.width&&null!==this.diagram.pageSettings.width&&(o=this.diagram.pageSettings.width),0===i.height&&null!==this.diagram.pageSettings.height&&(a=this.diagram.pageSettings.height)):(this.diagram.pageSettings.width&&(n=0,o=this.diagram.pageSettings.width),this.diagram.pageSettings.height&&(s=0,a=this.diagram.pageSettings.height)));var l=new Xi;return l.x=n,l.y=s,l.width=o,l.height=a,l},r.prototype.setScaleValueforCanvas=function(t,e){var i="scaleX",n="scaleY",s="scaleOffsetX",o="scaleOffsetY";t[""+i]=1,t[""+n]=1,t[""+s]=0,t[""+o]=0,t.pageHeight=t.pageHeight||this.diagram.pageSettings.height,t.pageWidth=t.pageWidth||this.diagram.pageSettings.width;var a=t.pageOrientation||this.diagram.pageSettings.orientation;if(a||(a="Portrait"),"Portrait"===a){if(t.pageWidth>t.pageHeight){var l=t.pageHeight;t.pageHeight=t.pageWidth,t.pageWidth=l}}else t.pageHeight>t.pageWidth&&(l=t.pageWidth,t.pageWidth=t.pageHeight,t.pageHeight=l);t.pageWidth&&t.pageHeight&&!t.multiplePage&&(t.stretch="Meet");var h=t.pageHeight||e.height,c=t.pageWidth||e.width;("Stretch"===t.stretch||"Meet"===t.stretch||"Slice"===t.stretch)&&(t[""+i]=c/e.width,t[""+n]=h/e.height,"Meet"===t.stretch?(t[""+i]=t[""+n]=Math.min(t[""+i],t[""+n]),t[""+o]=(t.pageHeight-e.height*t[""+i])/2,t[""+s]=(t.pageWidth-e.width*t[""+i])/2):"Slice"===t.stretch&&(t[""+i]=t[""+n]=Math.max(t[""+i],t[""+n])),e.width=c,e.height=h),e.x*=t[""+i],e.y*=t[""+n]},r.prototype.diagramAsSvg=function(t,e){var i=this.diagram.createSvg(this.diagram.element.id+"_diagram_svg",t.bounds.width,t.bounds.height);document.body.appendChild(i);var n=js("g",{id:this.diagram.element.id+"_pageBackground"}),o=this.getDiagramBounds(t&&t.region?t.region:"Content",t),a=o.x,l=o.y,h=o.width,c=o.height;i.appendChild(n);var u={x:String(a),y:String(l),width:String(h),height:String(c)};ts(n,u),this.setTransform(n,t.bounds,e);var d=document.getElementById(this.diagram.element.id+"gradient_pattern");d&&i.appendChild(d),u={x:String(a),y:String(l),width:String(h+e.left+e.right),height:String(c+e.top+e.bottom)};var p=document.getElementById(this.diagram.element.id+"_backgroundImageLayer").cloneNode(!0);ts(p,u),i.appendChild(p),this.setTransform(p,o,e);var f=document.getElementById(this.diagram.element.id+"_backgroundLayerrect").cloneNode(!0);if(ts(f,u),i.appendChild(f),this.setTransform(f,o,e),"SVG"===this.diagram.mode){var m=void 0,M=void 0,T=k4(this.diagram.element.id);for(i.appendChild(T.getElementById(this.diagram.diagramLayer.id).cloneNode(!0)),M=0;M<i.childNodes.length;M++)(m=i.childNodes[parseInt(M.toString(),10)]).id===this.diagram.element.id+"_diagramLayer"&&this.setTransform(m,o,e)}else{n=js("g",{id:this.diagram.element.id+"_diagramLayer"}),i.appendChild(n),this.setTransform(n,t.bounds,e);var P=new Py("",null,!0),U=fu(this.diagram.element.id);this.diagram.renderDiagramElements(i,P,U,!1)}return document.body.removeChild(i),i},r.prototype.setTransform=function(t,e,i){t.setAttribute("transform","translate("+(-e.x+i.left)+", "+(-e.y+i.top)+")")},r.prototype.diagramAsCanvas=function(t,e){var i="scaleX",n="scaleY",s="scaleOffsetX",o="scaleOffsetY",a=t.bounds,l=t.margin,h=t&&t.region?t.region:"Content",c=this.getDiagramBounds(h,t),u=this.diagram.pageSettings.background.color,d=gu.createCanvas(this.diagram.element.id+"_diagram",t.bounds.width,t.bounds.height),p=d.getContext("2d");p.translate(-a.x,-a.y),p.save(),p.fillStyle="transparent"===this.diagram.pageSettings.background.color?"white":this.diagram.pageSettings.background.color,p.fillRect((a="Content"===h?c:a).x,a.y,a.width,a.height);var f=this.diagram.pageSettings.background;if(f&&f.source){c=this.getDiagramBounds(h,t);var m=new Image;m.src=f.source;var M=c.width/m.width,T=c.height/m.height,P=c.x,U=c.y,Y=c.width,X=c.height,Q=this.isImageExportable(f);if("None"!==f.scale&&"None"!==f.align){var oe="Meet"===f.scale?Math.min(M,T):Math.max(M,T);Y=oe*m.width,X=oe*m.height,f.align.indexOf("xmid")>-1?P+=(c.width-Y)/2:f.align.indexOf("xmax")>-1&&(P=P+c.width-Y),f.align.indexOf("ymid")>-1?U+=(c.height-X)/2:f.align.indexOf("ymax")>-1&&(U=U+c.height-X),("none"===this.diagram.pageSettings.background.color||"transparent"===this.diagram.pageSettings.background.color)&&(p.fillStyle="white",p.fillRect(c.x*t[""+i],c.y*t[""+n],c.width*t[""+i],c.height*t[""+n])),Q&&p.drawImage(m,P,U,oe*m.width,oe*m.height)}else Q&&p.drawImage(m,P,U,c.width,c.height)}else p.fillStyle="transparent"===u?"white":u,p.fillRect(c.x*t[""+i]-l.left,c.y*t[""+n]-l.top,c.width*t[""+i]+l.left+l.right,t[""+n]*c.height+l.top+l.bottom);var de=this.diagram.pageSettings.background.color,Me=this.diagram.pageSettings.width;Me&&(p.strokeStyle="none"===de?"transparent":de,p.lineWidth=Me,p.strokeRect(c.x*t[""+i],c.y*t[""+n],c.width*t[""+i],c.height*t[""+n])),p.restore();var Ve=fu(this.diagram.element.id),Ce=new Py("",null,!1);return this.updateObjectValue(t[""+i],t[""+s],t[""+o],!0),this.diagram.renderDiagramElements(d,Ce,Ve,!1,!0),this.updateObjectValue(t[""+i],t[""+s],t[""+o],!1),d},r.prototype.updateWrapper=function(t,e,i,n,s){if(t&&t.length>0)for(var o=0;o<t.length;o++)t[parseInt(o.toString(),10)].children&&this.updateWrapper(t[parseInt(o.toString(),10)].children,e,i,n,s),t[parseInt(o.toString(),10)].exportScaleValue.x=e,t[parseInt(o.toString(),10)].exportScaleValue.y=e,t[parseInt(o.toString(),10)].exportScaleOffset.x=i,t[parseInt(o.toString(),10)].exportScaleOffset.y=n,t[parseInt(o.toString(),10)].isExport=s},r.prototype.scaleGradientValue=function(t,e,i){if(t.style.gradient.stops.length>0){var n=t.style.gradient;t.style.gradient instanceof hL?(n.x1=i?n.x1*e:n.x1/e,n.y1=i?n.y1*e:n.y1/e,n.x2=i?n.x2*e:n.x2/e,n.y2=i?n.y2*e:n.y2/e):(n.fx=i?n.fx*e:n.fx/e,n.fy=i?n.fy*e:n.fy/e,n.cx=i?n.cx*e:n.cx/e,n.cy=i?n.cy*e:n.cy/e,n.r=i?n.r*e:n.r/e)}},r.prototype.updateObjectValue=function(t,e,i,n){for(var s,o=0;o<this.diagram.nodes.length;o++)s=this.diagram.nodes[parseInt(o.toString(),10)].wrapper,this.scaleGradientValue(this.diagram.nodes[parseInt(o.toString(),10)],t,n),this.updateWrapper(s.children,t,e,i,n),s.exportScaleValue.x=t,s.exportScaleValue.y=t,s.exportScaleOffset.x=e,s.exportScaleOffset.y=i,s.isExport=n;for(var a=0;a<this.diagram.connectors.length;a++){s=this.diagram.connectors[parseInt(a.toString(),10)].wrapper;for(var l=0;l<s.children.length;l++)s.children[parseInt(l.toString(),10)].isExport=n,n&&(s.children[parseInt(l.toString(),10)].exportScaleValue.x=t,s.children[parseInt(l.toString(),10)].exportScaleValue.y=t,s.children[parseInt(l.toString(),10)].exportScaleOffset.x=e,s.children[parseInt(l.toString(),10)].exportScaleOffset.y=i)}},r.prototype.isImageExportable=function(t){var n,e=!0;if(t.source)try{var s=(n=gu.createCanvas(this.diagram.element.id+"temp_canvas",100,100)).getContext("2d");s.save();var o=new Image;o.src=t.source,s.drawImage(o,0,0,100,100),s.restore(),n.toDataURL()}catch{e=!1}return e},r.prototype.getPrintCanvasStyle=function(t,e){var i=0,n=0,s=new pi;if(i=t.width,n=t.height,(e.pageHeight||e.pageWidth)&&(n=e.pageHeight?e.pageHeight:n,i=e.pageWidth?e.pageWidth:i),e.pageOrientation&&("Landscape"===e.pageOrientation&&n>i||"Portrait"===e.pageOrientation&&i>n)){var o=i;i=n,n=o}return s.height=n,s.width=i,s},r.prototype.getMultipleImage=function(t,e,i){var n=[],s=or("div",{}),o=this.getPrintCanvasStyle(t,e),a=e.margin,l=a.left,h=a.top,c=a.right,u=a.bottom,d=0,f=o.width+d,m=o.height+0,M=0,T=0;if(e&&e.multiplePage){s.style.height="auto",s.style.width="auto";var P=t.height,U=t.width,Y=0,X=0,Q=void 0,oe=0,de=0,Me=void 0,Ve=void 0;do{do{oe=o.width,de=o.height,M+o.width>=U&&(oe=U-M),T+o.height>=P&&(de=P-T),(Me=(Ve=gu.createCanvas(this.diagram.element.id+"_multiplePrint",o.width,o.height)).getContext("2d")).drawImage(t,d+M+l,0+T+h,oe-c-l,de-u-h,0+l,0+h,oe-c-l,de-u-h),M+o.width>=U&&(M-=M-U),Q=Ve.toDataURL(),Me.restore(),M+=f,i?n.push(Q):this.printImage(s,Q,Y+""+X,f+"px;",m+"px;"),Y++}while(M<U);X++,Y=d=M=0,T+o.height>=P&&(T-=T-P),T+=m}while(T<P)}else{var Ie=this.getPrintCanvasStyle(t,e),pe=Ie.width,Pe=Ie.height;(Me=(Ve=gu.createCanvas(this.diagram.element.id+"_diagram",pe,Pe)).getContext("2d")).drawImage(t,0+l,0+h,t.width-(c+l),t.height-(h+u),0+l,0+h,pe-(c+l),Pe-(h+u)),Q=Ve.toDataURL(),Me.restore(),i?n.push(Q):this.printImage(s,Q,0)}return i?n:s},r.prototype.printImage=function(t,e,i,n,s){var o={class:"e-diagram-print-page",style:"width:"+n+"height:"+s},a=or("img",o),l=or("div",o);Gd(a,o={id:this.diagram.element.id+"_multiplePrint_img"+i,style:"float:left",src:e}),l.appendChild(a),t.appendChild(l)},r.prototype.print=function(t){t.mode="Data";var e=this.exportDiagram(t);this.printImages(e,t)},r.prototype.printImages=function(t,e){var i=this,n={id:this.diagram.element.id+"_printImage",src:t};e.margin={top:0,bottom:0,right:0,left:0};var s=or("img",n);s.onload=function(){var o=i.getMultipleImage(s,e),a=window.open("");i.printWindow=a,null!=a&&o instanceof HTMLElement&&(a.document.write("<html><head><style> body{margin:0px;}  @media print { .e-diagram-print-page{page-break-after: left; }.e-diagram-print-page:last-child {page-break-after: avoid;}}</style><title></title></head>"),window.addEventListener("beforeunload",i.closePrintWindow),a.addEventListener("load",function(l){setTimeout(function(){a.window.print(),a.close()},3e3)}),a.document.write("<center>"+o.innerHTML+"</center>"),a.document.close())}},r.prototype.getContent=function(t){var e=this.diagram.snapSettings.constraints;this.diagram.snapSettings.constraints=this.diagram.snapSettings.constraints&~zr.ShowLines,this.diagram.dataBind(),this.diagram.clearSelection(),t=t||document.styleSheets;for(var i="",n=0;n<t.length;n++)(t[parseInt(n.toString(),10)].href||"string"==typeof t[parseInt(n.toString(),10)])&&(i+="<link href='"+(t[parseInt(n.toString(),10)].href||t[parseInt(n.toString(),10)])+"' rel='stylesheet' />");var s=document.getElementById(this.diagram.element.id+"content").innerHTML;return s=(s=i+"<body style=\"margin: 0px; padding: 0px\"><div style='margin-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;'>"+s+"</div></body>").replace(/ transform: t/g," -webkit-transform: t"),this.diagram.snapSettings.constraints=e,this.diagram.dataBind(),s},r.prototype.getDiagramContent=function(t){if(1===this.diagram.scroller.currentZoom){var e=this.getContent(t);return fD()?e.replace("url("+location.protocol+"//"+location.host+location.pathname+"#diagram_pattern ","url(#diagram_pattern)"):e}var d,p,i=document.getElementById(this.diagram.element.id+"content"),n=i.scrollLeft,s=i.scrollTop,o=this.diagram.scrollSettings.currentZoom,a=this.diagram.scroller.horizontalOffset,l=this.diagram.scroller.verticalOffset,h=Number(String(this.diagram.width).split("%")[0])?i.clientWidth:Number(String(this.diagram.width).split("px")[0]),c=Number(String(this.diagram.height).split("%")[0])?i.clientHeight:Number(String(this.diagram.height).split("px")[0]),u=this.getDiagramBounds("",{});return this.diagram.scroller.zoom(1/o),this.diagram.scroller.transform={tx:-(d=u.x),ty:-(p=u.y),scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=-d,this.diagram.scroller.verticalOffset=-p,this.diagram.scroller.setSize(),this.diagram.setSize(u.width,u.height),e=this.getContent(t),this.diagram.setSize(h,c),this.diagram.scroller.zoom(o/this.diagram.scrollSettings.currentZoom),this.diagram.dataBind(),n||s?this.diagram.setOffset(n,s):(this.diagram.scroller.transform={tx:a/this.diagram.scroller.currentZoom,ty:l/this.diagram.scroller.currentZoom,scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=a,this.diagram.scroller.verticalOffset=l),this.diagram.renderSelector(!1),fD()?e.replace("url("+location.protocol+"//"+location.host+location.pathname+"#diagram_pattern ","url(#diagram_pattern)"):e},r.prototype.exportImages=function(t,e){var i=this,n=e&&e.region?e.region:"Content",s=e.margin||{};s={top:isNaN(s.top)?0:s.top,bottom:isNaN(s.bottom)?0:s.bottom,left:isNaN(s.left)?0:s.left,right:isNaN(s.right)?0:s.right};var o=this.getDiagramBounds(n,{});e.bounds&&(o.x=isNaN(e.bounds.x)?o.x:e.bounds.x,o.y=isNaN(e.bounds.y)?o.y:e.bounds.y,o.width=e.bounds.width||o.width,o.height=e.bounds.height||o.height);var a=document.createElement("img");Gd(a,{src:t});var h=this;a.onload=function(){var c=gu.createCanvas(h.diagram.element.id+"innerImage",o.width+(s.left+s.right),o.height+(s.top+s.bottom)),u=c.getContext("2d");u.fillStyle=h.diagram.pageSettings.background.color,u.fillRect(0,0,o.width+(s.left+s.right),o.height+(s.top+s.bottom)),u.drawImage(a,0,0,o.width,o.height,s.left,s.top,o.width,o.height),t=c.toDataURL(),e.printOptions?h.printImages(t,e):(u.restore(),i.canvasMultiplePage(e,c,s,t,e.fileName||"diagram"))}},r.prototype.destroy=function(){window.removeEventListener("beforeunload",this.closePrintWindow),this.printWindow=void 0},r.prototype.getModuleName=function(){return"PrintandExport"},r}(),Qye=function(){function r(){this.dataTable={}}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"DataBinding"},r.prototype.initData=function(t,e){var i,o=t.dataManager||t.dataSource||{};(i=o.data||o.json||(o.dataSource?o.dataSource.json:void 0))&&0===i.length&&o.dataSource.data&&(i=o.dataSource.data),i&&i.length&&(this.applyDataSource(t,i,e),e.trigger("dataLoaded",{diagram:ge()?null:Rt(e)}))},r.prototype.initSource=function(t,e){var s,i=this;if(t.dataManager instanceof Ri||t.dataSource instanceof Ri){var l=(t.dataManager||t.dataSource).defaultQuery||new Vn;(t.dataManager||t.dataSource).executeQuery(l).then(function(c){s=c.result,e.isDestroyed||(e.protectPropertyChange(!0),i.applyDataSource(t,s,e),e.refreshDiagram(),e.protectPropertyChange(!1),e.trigger("dataLoaded",{diagram:ge()?null:Rt(e)}))})}},r.prototype.applyDataSource=function(t,e,i){this.dataTable={};var n,s,o,h,c,a=[],l=[];if(void 0!==e){for(var u=0;u<e.length;u++)null==(n=e[parseInt(u.toString(),10)])[t.parentId]||"object"!=typeof n[t.parentId]?void 0!==a[n[t.parentId]]?a[n[t.parentId]].items.push(n):a[n[t.parentId]]={items:[n]}:a=this.updateMultipleRootNodes(n,a,t,e),t.root===n[t.id]&&(s={items:[n]});if(s)l.push(s);else for(var d=0,p=Object.keys(a);d<p.length;d++){var f=p[d];(!f||"undefined"===f||"''"===f||"null"===f)&&l.push(a[""+f])}for(var m=0;m<l.length;m++)for(var M=0;M<l[parseInt(m.toString(),10)].items.length;M++)h=l[parseInt(m.toString(),10)].items[parseInt(M.toString(),10)],o=this.applyNodeTemplate(t,h,i),i.nodes.push(o),this.dataTable[h[t.id]]=o,void 0!==(c=a[o.data[t.id]])&&this.renderChildNodes(t,c,o.id,a,i)}this.dataTable=null},r.prototype.updateMultipleRootNodes=function(t,e,i,n){for(var o,s=t[i.parentId],a=0;a<s.length;a++)e[""+(o=s[parseInt(a.toString(),10)])]?e[""+o].items.push(t):e[""+o]={items:[t]};return e},r.prototype.applyNodeTemplate=function(t,e,i){var s={id:kn(),data:e},o=ho(t.doBinding);o&&o(s,e,i);var a=new Et(i,"nodes",s,!0);if(pu(a,s,i.nodeDefaults),t.dataMapSettings)for(var l=void 0,h=[],c=[],u=0;u<t.dataMapSettings.length;u++){if(-1!==t.dataMapSettings[parseInt(u.toString(),10)].property.indexOf(".")){c=this.splitString(t.dataMapSettings[parseInt(u.toString(),10)].property);for(var d=0;d<c.length;d++)-1!==c[parseInt(d.toString(),10)].indexOf("[")&&(l=c[parseInt(d.toString(),10)].indexOf("["),h=c[parseInt(d.toString(),10)].split("["));if(l)if(c[2])a[h[0]][c[0].charAt(l+1)][c[1]][c[2]]=e[t.dataMapSettings[parseInt(u.toString(),10)].field];else{var p=e[t.dataMapSettings[parseInt(u.toString(),10)].field];a[h[0]][c[0].charAt(l+1)][c[1]]=p}else c[2]?a[c[0]][c[1]][c[2]]=e[t.dataMapSettings[parseInt(u.toString(),10)].field]:a[c[0]][c[1]]=e[t.dataMapSettings[parseInt(u.toString(),10)].field]}else{var f=t.dataMapSettings[parseInt(u.toString(),10)].property;a[""+(f=f.charAt(0).toLowerCase()+f.slice(1))]=e[t.dataMapSettings[parseInt(u.toString(),10)].field]}l=0,h=[],c=[]}return this.collectionContains(a,i,t.id,t.parentId)?this.dataTable[e[t.id]]:a},r.prototype.splitString=function(t){var e=[];e=t.split(".");for(var i=0;i<e.length;i++)e[parseInt(i.toString(),10)]=e[parseInt(i.toString(),10)].charAt(0).toLowerCase()+e[parseInt(i.toString(),10)].slice(1);return e},r.prototype.renderChildNodes=function(t,e,i,n,s){for(var o,a,l,h=0;h<e.items.length;h++){o=e.items[parseInt(h.toString(),10)],l=this.applyNodeTemplate(t,o,s);var c=!1;this.collectionContains(l,s,t.id,t.parentId)?c=!0:(this.dataTable[o[t.id]]=l,s.nodes.push(l)),this.containsConnector(s,i,l.id)||s.connectors.push(this.applyConnectorTemplate(i,l.id,s)),c||void 0!==(a=n[l.data[t.id]])&&this.renderChildNodes(t,a,l.id,n,s)}},r.prototype.containsConnector=function(t,e,i){return""!==e&&""!==i&&t.connectors.some(function(n){return void 0!==n&&n.sourceID===e&&n.targetID===i})},r.prototype.collectionContains=function(t,e,i,n){var s=this.dataTable[t.data[""+i]];return void 0!==s&&s.data[""+i]===t.data[""+i]&&s.data[""+n]===t.data[""+n]},r.prototype.applyConnectorTemplate=function(t,e,i){var n={id:kn(),sourceID:t,targetID:e},s=new Gt(i,"connectors",n,!0);return pu(s,n,i.connectorDefaults),s},r}(),la_content=".e-diagramcontent",Zye=function(){function r(t,e){this.defaultItems={},this.disableItems=[],this.hiddenItems=[],this.localeText=this.setLocaleKey(),this.parent=t,this.serviceLocator=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||this.parent.on("initial-load",this.render,this)},r.prototype.removeEventListener=function(){this.parent.isDestroyed||this.parent.off("initial-load",this.render)},r.prototype.render=function(){if(this.l10n=this.serviceLocator.getService("localization"),!ge()){this.element=or("ul",{id:this.parent.element.id+"_contextMenu"}),this.parent.element.appendChild(this.element);var t="#"+this.parent.element.id;this.contextMenu=new B8({items:this.getMenuItems(),enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,locale:this.parent.locale,target:t,select:this.contextMenuItemClick.bind(this),beforeOpen:this.contextMenuBeforeOpen.bind(this),onOpen:this.contextMenuOpen.bind(this),beforeItemRender:this.BeforeItemRender.bind(this),onClose:this.contextMenuOnClose.bind(this),cssClass:"e-diagram-menu",animationSettings:{effect:"None"}}),this.contextMenu.appendTo(this.element)}},r.prototype.getMenuItems=function(){var t=[],e=[],i=[];if(!this.parent.contextMenuSettings.showCustomMenuOnly){for(var n=0,s=this.getDefaultItems();n<s.length;n++){var o=s[n];-1!==o.toLocaleLowerCase().indexOf("group")?"grouping"!==o.toLocaleLowerCase()&&i.push(this.buildDefaultItems(o)):-1!==o.toLocaleLowerCase().indexOf("order")?"order"!==o.toLocaleLowerCase()&&e.push(this.buildDefaultItems(o)):t.push(this.buildDefaultItems(o))}var a;i.length>0&&((a=this.buildDefaultItems("grouping")).items=i,t.push(a)),e.length>0&&((a=this.buildDefaultItems("order")).items=e,t.push(a))}if(this.parent.contextMenuSettings.items)for(var l=0,h=this.parent.contextMenuSettings.items;l<h.length;l++)t.push(h[l]);return t},r.prototype.contextMenuOpen=function(){this.isOpen=!0},r.prototype.BeforeItemRender=function(t){this.parent.trigger("contextMenuBeforeItemRender",t)},r.prototype.contextMenuItemClick=function(t){document.getElementById(this.parent.element.id+"content").focus(),this.parent.trigger("contextMenuClick",t);var e=this.getKeyFromId(t.item.id);if(!t.cancel)switch(e){case"cut":this.parent.cut();break;case"copy":this.parent.copy();break;case"undo":this.parent.undo();break;case"redo":this.parent.redo();break;case"paste":this.parent.paste();break;case"selectAll":this.parent.selectAll();break;case"group":this.parent.group();break;case"unGroup":this.parent.unGroup();break;case"bringToFrontOrder":this.parent.bringToFront();break;case"moveForwardOrder":this.parent.moveForward();break;case"sendToBackOrder":this.parent.sendToBack();break;case"sendBackwardOrder":this.parent.sendBackward()}},r.prototype.contextMenuOnClose=function(t){t.items.length>0&&t.items[0].parentObj instanceof B8&&this.updateItemStatus()},r.prototype.getLocaleText=function(t){return this.l10n.getConstant(this.localeText[""+t])},r.prototype.updateItemStatus=function(){this.contextMenu.showItems(this.hiddenItems,!0),this.contextMenu.enableItems(this.disableItems,!1,!0),this.hiddenItems=[],this.disableItems=[],this.isOpen=!1},r.prototype.ensureItems=function(t,e){var i=this.getKeyFromId(t.id);-1!==this.getDefaultItems().indexOf(i)&&t.target&&(e||this.parent.checkMenu)&&!this.ensureTarget(t)&&this.hiddenItems.push(t.id)},r.prototype.refreshItems=function(){this.updateItems(),this.contextMenu.refresh()},r.prototype.updateItems=function(){for(var t=!0,e=0;e<this.parent.contextMenuSettings.items.length;e++){for(var i=this.parent.contextMenuSettings.items[parseInt(e.toString(),10)],n=0;n<this.contextMenu.items.length;n++)this.contextMenu.items[parseInt(n.toString(),10)].text===this.parent.contextMenuSettings.items[parseInt(e.toString(),10)].text&&(t=!1);t&&this.contextMenu.insertAfter([i],this.contextMenu.items[this.contextMenu.items.length-1].text)}},r.prototype.contextMenuBeforeOpen=function(t){return function(r,t,e,i){return new(e||(e=Promise))(function(n,s){function o(h){try{l(i.next(h))}catch(c){s(c)}}function a(h){try{l(i.throw(h))}catch(c){s(c)}}function l(h){h.done?n(h.value):new e(function(c){c(h.value)}).then(o,a)}l((i=i.apply(r,[])).next())})}(this,0,void 0,function(){var e,i,n,s,o,l,h,c,u;return function(r,t){var i,n,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(c){return function l(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(s=2&h[0]?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[2&h[0],s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===h[0]||2===h[0])){e=0;continue}if(3===h[0]&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(6===h[0]&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(c){h=[6,c],n=0}finally{i=s=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,c])}}}(this,function(d){switch(d.label){case 0:for(!this.parent.checkMenu&&(-1!==window.navigator.userAgent.indexOf("Linux")||-1!==window.navigator.userAgent.indexOf("X11"))&&(this.parent.checkMenu=t.cancel=!0),this.parent.checkMenu&&(this.hiddenItems=[]),(e=t).hiddenItems=[],i=0,n=t.items;i<n.length;i++)if(this.ensureItems(u=n[i],t.event),u.items.length)for(s=0,o=u.items;s<o.length;s++)this.ensureItems(o[s],t.event);return this.eventArgs=t.event,ge()?[4,this.parent.trigger(FY,e)]:[3,2];case 1:return"string"==typeof(e=d.sent()||e)&&(e=JSON.parse(e)),[3,3];case 2:this.parent.trigger(FY,e),d.label=3;case 3:for(l=!0,this.hiddenItems=this.hiddenItems.concat(e.hiddenItems),this.contextMenu.enableItems(this.disableItems,!1,!0),h=this,c=0;c<t.items.length;c++)u=t.items[parseInt(c.toString(),10)],h.hiddenItems.indexOf(u.id)>-1&&h.contextMenu.hideItems([u.id],!0);for(c=0;c<h.contextMenu.items.length;c++)u=h.contextMenu.items[parseInt(c.toString(),10)],-1===h.hiddenItems.indexOf(u.id)&&(l=!1,h.contextMenu.showItems([u.id],!0));return l&&(e.cancel=l,this.hiddenItems=[]),this.parent.selectedItems.nodes.length&&this.parent.selectedItems.nodes[0].isPhase&&!this.parent.contextMenuSettings.showCustomMenuOnly&&(t.cancel=!0),[2]}})})},r.prototype.ensureTarget=function(t){var e=this.parent.selectedItems.nodes.length+this.parent.selectedItems.connectors.length,n=!1;switch(this.getKeyFromId(t.id)){case"undo":n=!(!this.parent.historyManager||!this.parent.historyManager.canUndo);break;case"redo":n=!(!this.parent.historyManager||!this.parent.historyManager.canRedo);break;case"paste":n=!!this.parent.commandHandler.clipboardData.clipObject;break;case"selectAll":n=!!(this.parent.nodes.length+this.parent.connectors.length);break;case"grouping":n=!!(e>1||this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"group":n=e>1;break;case"unGroup":n=!!(this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"cut":case"copy":case"order":case"bringToFrontOrder":case"moveForwardOrder":case"sendToBackOrder":case"sendBackwardOrder":n=!!e}return n},r.prototype.destroy=function(){ge()||(this.contextMenu.destroy(),bn(this.element)),this.removeEventListener()},r.prototype.getModuleName=function(){return"contextMenu"},r.prototype.generateID=function(t){return this.parent.element.id+"_contextMenu_"+t},r.prototype.getKeyFromId=function(t){return t.replace(this.parent.element.id+"_contextMenu_","")},r.prototype.buildDefaultItems=function(t){var e;switch(t){case"copy":e={target:la_content,iconCss:"e-copy"};break;case"cut":e={target:la_content,iconCss:"e-cut"};break;case"paste":e={target:la_content,iconCss:"e-paste"};break;case"undo":e={target:la_content,iconCss:"e-undo"};break;case"redo":e={target:la_content,iconCss:"e-redo"};break;case"grouping":case"selectAll":e={target:la_content};break;case"group":e={target:la_content,iconCss:"e-group"};break;case"unGroup":e={target:la_content,iconCss:"e-ungroup"};break;case"order":e={target:la_content,iconCss:"e-order"};break;case"bringToFrontOrder":e={target:la_content,iconCss:"e-bringfront"};break;case"moveForwardOrder":e={target:la_content,iconCss:"e-bringforward"};break;case"sendToBackOrder":e={target:la_content,iconCss:"e-sendback"};break;case"sendBackwardOrder":e={target:la_content,iconCss:"e-sendbackward"}}return this.defaultItems[""+t]={text:this.getLocaleText(t),id:this.generateID(t),target:e.target,iconCss:e.iconCss?"e-icons "+e.iconCss:""},this.defaultItems[""+t]},r.prototype.getDefaultItems=function(){return["copy","cut","paste","undo","redo","selectAll","grouping","group","unGroup","order","bringToFrontOrder","moveForwardOrder","sendToBackOrder","sendBackwardOrder"]},r.prototype.setLocaleKey=function(){return{copy:"Copy",cut:"Cut",paste:"Paste",undo:"Undo",redo:"Redo",selectAll:"SelectAll",grouping:"Grouping",group:"Group",unGroup:"UnGroup",order:"Order",bringToFrontOrder:"BringToFront",moveForwardOrder:"MoveForward",sendToBackOrder:"SendToBack",sendBackwardOrder:"SendBackward"}},r}(),Jye=function(){function r(){this.annotationObjects={}}return Object.defineProperty(r.prototype,"textAnnotationConnectors",{get:function(){for(var t=[],e=0,i=Object.keys(this.annotationObjects);e<i.length;e++)for(var s=this.annotationObjects[""+i[e]],o=0,a=Object.keys(s);o<a.length;o++)t.push(s[""+a[o]].connector);return t},enumerable:!0,configurable:!0}),r.prototype.getTextAnnotationConn=function(t){var e=[];if("Bpmn"===t.shape.type&&0!==t.shape.annotations.length)for(var i=this.annotationObjects[t.id],n=0,s=Object.keys(i);n<s.length;n++)e.push(i[""+s[n]].connector);return e},r.prototype.getSize=function(t,e){var i=new pi(t.width,t.height);if(void 0===i.width||void 0===i.height){if(e instanceof Nn||(i.width=i.width||50,i.height=i.height||50),e.actualSize.width&&e.actualSize.height)return e.actualSize;e.measure(new pi),i.width=i.width||e.desiredSize.width,i.height=i.height||e.desiredSize.height,void 0!==t.maxWidth&&(i.width=Math.min(i.width,t.maxWidth)),void 0!==t.maxHeight&&(i.height=Math.min(i.height,t.maxHeight)),void 0!==t.minWidth&&(i.width=Math.max(i.width,t.minWidth)),void 0!==t.minHeight&&(i.height=Math.max(i.height,t.minHeight))}return i},r.prototype.initBPMNContent=function(t,e,i){var n=(ge(),e.shape),s=ge()?e.shape.bpmnShape:e.shape.shape;if("Event"===s&&(t=this.getBPMNEventShape(e,n.event)),"Gateway"===s&&(t=this.getBPMNGatewayShape(e)),"DataObject"===s&&(t=this.getBPMNDataObjectShape(e)),("Message"===s||"DataSource"===s)&&(t=this.getBPMNShapes(e)),"Activity"===s&&(t=this.getBPMNActivityShape(e)),"TextAnnotation"===s&&(t=this.renderBPMNTextAnnotation(i,e,t)),n.annotations.length>0){for(var o=0;o<n.annotations.length&&n.annotations[parseInt(o.toString(),10)].text;o++)t.children.push(this.getBPMNTextAnnotation(e,i,n.annotations[parseInt(o.toString(),10)],t));t.style.strokeDashArray="2 2 6 2"}return t},r.prototype.getBPMNShapes=function(t){var e=new Nn;this.setStyle(e,t),t.constraints&j.Shadow&&(e.shadow=t.shadow);var i=aQ(ge()?t.shape.bpmnShape:t.shape.shape);return e.data=i,e.id=t.id+"_"+(ge()?t.shape.bpmnShape:t.shape.shape),void 0!==t.width&&void 0!==t.height&&(e.width=t.width,e.height=t.height),e},r.prototype.getBPMNGatewayShape=function(t){var e=new Ds,i=new Nn;i.id=t.id+"_0_gateway",i.offsetX=t.offsetX,i.offsetY=t.offsetY,i.data="M 40 20 L 20 40 L 0 20 L 20 0 L 40 20 Z",this.setStyle(i,t);var n=new Nn;n.id=t.id+"_1_gatewayType",n.style.opacity=t.style.opacity,n.style.strokeColor=t.style.strokeColor,n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object";var s=t.shape.gateway,o=lQ(s.type);n.style.fill="EventBased"===s.type||"ExclusiveEventBased"===s.type||"ParallelEventBased"===s.type?"white":"black",n.data=o,e.style.fill="transparent",e.style.strokeColor="transparent",e.style.strokeWidth=0,e.children=[i,n];var a=this.getSize(t,i);return this.setSizeForBPMNGateway(t.shape.gateway,e,a.width,a.height),e},r.prototype.getBPMNDataObjectShape=function(t){var e=new Ds,i=t.shape.dataObject,n=new Nn;n.id=t.id+"_0_dataobj",n.data="M29.904,5 L7.853,5 L7.853,45 L42.147,45 L42.147,17.242,L29.932,5,L29.932,17.242,L42.147,17.242";var s=this.getSize(t,n);n.width=s.width,n.height=s.height,this.setStyle(n,t);var o=new Nn;o.id=t.id+"_1_type",o.width=25,o.height=20,o.margin.left=5,o.margin.top=5,o.data="M 3 9.4 l 6 0 v 2.4 l 3.6 -4 L 9 4 v 2.5 H 3 V 9.4 Z",o.style.opacity=t.style.opacity;var a=new Nn;switch(a.id=t.id+"_2_collection",a.width=7.5,a.height=15,a.style.fill="black",a.visible=!0,a.horizontalAlignment="Center",a.verticalAlignment="Bottom",a.relativeMode="Object",a.style.opacity=t.style.opacity,a.data="M 0 0 L 0.1 0 L 0.1 2 L 0 2 Z M 0.4 0 L 0.6 0 L 0.6 2 L0.4 2 Z M 0.9 0 L 1 0 L 1 2 L 0.9 2 Z",i.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}return!1===i.collection&&(a.visible=!1),e.style.fill="transparent",e.style.strokeColor="transparent",e.style.strokeWidth=0,e.children=[n,o,a],e},r.prototype.getBPMNTaskShape=function(t){var i=t.shape.activity.task,n=new Ds,s=new Jl;s.cornerRadius=10;var o=this.getSize(t,s);s.id=t.id+"_0_task",s.width=o.width,s.height=o.height,this.setStyle(s,t),void 0!==i.call&&!0===i.call&&(s.style.strokeWidth=4),n.width=o.width,n.height=o.height;var l,a=this.getTaskChildCount(t),c=o.width/2-12*a;l=1===a?c+8:c+8*(a-1);var u=new Nn;"Receive"===i.type||"Send"===i.type?(u.width=18,u.height=16):"Manual"===i.type?(u.width=16,u.height=11):(u.width=20,u.height=20),u.id=t.id+"_1_tasktType",u.margin.left=5,u.margin.top=5;var d=hQ(i.type);if(u.data=d,u.style.fill="transparent",u.style.opacity=t.style.opacity,"Send"===i.type&&(u.style.fill="black"),n.style.fill="transparent",n.style.strokeColor="transparent",n.style.strokeWidth=0,n.children=[s,u],"Service"===i.type){var p=new Nn;p.id=t.id+"_1_taskTypeService",p.data=d,p.margin.left=u.margin.left+9,p.margin.top=u.margin.top+9,p.style.fill="white",p.style.opacity=t.style.opacity,n.children.push(p)}var f=i.loop,m=new Nn,M=hk(f);m.data=M,m.style.fill="black",m.visible="None"!==f,1===a&&(l=c+9),m.margin.left=l,!0===m.visible&&(l+=20),m.width=12,m.height=12,m.margin.bottom=5,m.id=t.id+"_2_loop",m.horizontalAlignment="Left",m.verticalAlignment="Bottom",m.setOffsetWithRespectToBounds(0,1,"Fraction"),m.relativeMode="Point",m.style.fill="transparent",u.style.opacity=t.style.opacity,n.children.push(m);var T=new Nn;return(T=this.getBPMNCompensationShape(t,T)).visible=!0===i.compensation,1===a&&(l=c+9),T.margin.left=l-3,l+=18,n.children.push(T),n},r.prototype.getBPMNEventShape=function(t,e,i,n){var o,a,l,h,s=new Ds;n=n||t.id;var c="M164.1884,84.6909000000001C156.2414,84.6909000000001,149.7764,78.2259000000001,149.7764,70.2769000000001C149.7764,62.3279000000001,156.2414,55.8629000000001,164.1884,55.8629000000001C172.1354,55.8629000000001,178.6024,62.3279000000001,178.6024,70.2769000000001C178.6024,78.2259000000001,172.1354,84.6909000000001,164.1884,84.6909000000001",u=t.shape.event;if((!ge()&&"Event"===t.shape.shape||ge()&&"Event"===t.shape.bpmnShape)&&(o=u.event,a=u.trigger),l=e.width,h=e.height,i)l=l||20,h=h||20;else if(void 0===e.width||void 0===e.height){var d=new Nn;d.data=c;var p=this.getSize(t,d);l=p.width,h=p.height}(!ge()&&"Activity"===t.shape.shape||ge()&&"Activity"===t.shape.bpmnShape)&&(o=e.event,a=e.trigger);var M=new Nn;M.data=c,M.id=n+"_0_event",M.width=l,M.height=h,M.horizontalAlignment="Center",M.verticalAlignment="Center",M.relativeMode="Object",this.setStyle(M,t);var T=new Nn;T.data=c,T.id=n+"_1_event",T.style.gradient=t.style.gradient,T.horizontalAlignment="Center",T.verticalAlignment="Center",T.relativeMode="Object",T.style.strokeColor=t.style.strokeColor,T.style.opacity=t.style.opacity;var P=new Nn,U=G4(a);switch(P.data=U,P.id=n+"_2_trigger",P.horizontalAlignment="Center",P.verticalAlignment="Center",P.relativeMode="Object",P.style.strokeColor=t.style.strokeColor,P.style.opacity=t.style.opacity,o){case"Start":T.visible=!1;break;case"NonInterruptingStart":M.style.strokeDashArray="2 3",T.visible=!1;break;case"Intermediate":M.style.fill=t.style.fill,M.style.gradient=null;break;case"NonInterruptingIntermediate":M.style.fill=t.style.fill,M.style.gradient=null,M.style.strokeDashArray="2 3",T.style.strokeDashArray="2 3";break;case"ThrowingIntermediate":case"End":M.style.fill="End"!==o||"white"!==t.style.fill?t.style.fill:"black",M.style.gradient=null,P.style.fill="black",P.style.strokeColor="white"}return s.style.fill="transparent",s.style.strokeColor="transparent",s.style.strokeWidth=0,s.children=[M,T,P],this.setSizeForBPMNEvents(u,s,l,h),s},r.prototype.setEventVisibility=function(t,e){var n=e[0],s=e[1];switch(t.shape.event.event){case"Start":s.visible=!1;break;case"NonInterruptingStart":n.style.strokeDashArray="2 3",s.visible=!1}},r.prototype.setSubProcessVisibility=function(t){var e=t.shape.activity.subProcess,i=e.events.length,n="Transaction"===t.shape.activity.subProcess.type?2:0,s=t.wrapper.children[0].children[0];if(!1===e.adhoc&&(s.children[3+n+i].visible=!1),!1===e.compensation&&(s.children[4+n+i].visible=!1),i>0)for(var o=0;o<i;o++)this.setEventVisibility(t,s.children[2+o].children)},r.prototype.getBPMNSubProcessShape=function(t){var i,n,u,e=new Ds,s=new Nn,a=(new Ds,new Nn),l=t.shape.activity,h=l.subProcess,c=this.getSubprocessChildCount(t),d=new Jl;d.id=t.id+"_0_Subprocess",d.style.fill="transparent",d.cornerRadius=10;var p=this.getSize(t,d);d.width=p.width,d.height=p.height,e.children=[d],"Transaction"===l.subProcess.type&&this.getBPMNSubProcessTransaction(t,t.shape,e);var T=p.width/2;u=1===c?T-6:T-12*c/2-4*(c-1)/2,this.setStyle(d,t),t.constraints&j.Shadow&&(e.shadow=t.shadow);var P=new Nn;if(P.id=t.id+"_0_collapsed",P.width=12,P.height=12,P.style.fill="black",P.style.strokeColor=t.style.strokeColor,P.margin.bottom=5,P.horizontalAlignment="Left",P.verticalAlignment="Bottom",P.setOffsetWithRespectToBounds(0,1,"Fraction"),P.relativeMode="Point",P.data=aQ("collapsedShape"),P.margin.left=u,P.visible=!0===h.collapsed&&!h.processes,!0===P.visible&&(u+=18),e.children.push(P),"Event"===h.type){d.style.strokeWidth=1,d.style.strokeDashArray="2 2",i=h.events;for(var U=0;U<i.length;U++)n=i[parseInt(U.toString(),10)],this.getBPMNSubEvent(n,t,e)}1===c&&(u=T+8),(a=this.getBPMNSubProcessLoopShape(t)).margin.left=u,!0===a.visible&&(u+=16),e.children.push(a),d.id=t.id+"_boundary","Default"===h.boundary&&(d.style.strokeWidth=1,d.style.strokeDashArray="1 0"),"Call"===h.boundary&&(d.style.strokeWidth=4,d.style.strokeDashArray="1 0"),"Event"===h.boundary&&(d.style.strokeWidth=1,d.style.strokeDashArray="2 2"),1===c&&(u=T+8),(s=this.getBPMNAdhocShape(t,s,h)).margin.left=u,!0===s.visible&&(u+=16),e.children.push(s);var Y=new Nn;return Y.visible=!0===h.compensation,1===c&&(u=T+8),(Y=this.getBPMNCompensationShape(t,Y)).margin.left=u,!0===Y.visible&&(u+=16),e.children.push(Y),e.style.strokeColor="transparent",e.style.strokeWidth=0,e.style.fill="transparent",e},r.prototype.getBPMNSubEvent=function(t,e,i,n){i.children=i.children||[];var s=this.getBPMNEventShape(e,t,!0,n);this.getBPMNSubprocessEvent(e,s,t),s.id=n||e.id+"_subprocessEvents",s.width=t.width||20,s.height=t.height||20,s.setOffsetWithRespectToBounds(t.offset.x,t.offset.y,"Fraction"),s.relativeMode="Point",s.margin=t.margin,s.horizontalAlignment=t.horizontalAlignment,s.verticalAlignment=t.verticalAlignment,s.style.fill="transparent",s.style.strokeColor="transparent",s.style.strokeWidth=0,i.children.push(s)},r.prototype.getBPMNSubProcessTransaction=function(t,e,i){var n=i.children[0].width,s=i.children[0].height,o=new Jl;o.margin={left:3,right:0,top:3,bottom:0},o.id=t.id+"_0_Subprocess_innnerRect",o.cornerRadius=10,o.width=n-6,o.style.fill="transparent",o.height=s-6,i.children.push(o);var a=new Ds;a.id=t.id+"_transaction_events",a.style.gradient=t.style.gradient;var l=e.activity.subProcess.transaction;this.getBPMNSubEvent(l.success,t,a,t.id+"_success"),this.getBPMNSubEvent(l.cancel,t,a,t.id+"_cancel"),this.getBPMNSubEvent(l.failure,t,a,t.id+"_failure"),this.updateDiagramContainerVisibility(a.children[0],l.success.visible),this.updateDiagramContainerVisibility(a.children[1],l.cancel.visible),this.updateDiagramContainerVisibility(a.children[2],l.failure.visible),a.float=!0,a.width=n,a.height=s,a.style.fill=a.style.strokeColor="transparent",i.children.push(a)},r.prototype.getBPMNSubProcessLoopShape=function(t){var i,s,e=t.shape.activity,n=new Nn;return s=hk(i=e.subProcess.loop),n.visible="None"!==i,n.id=t.id+"_loop",n.data=s,n.style.fill="black",n.width=12,n.height=12,n.horizontalAlignment="Left",n.verticalAlignment="Bottom",n.setOffsetWithRespectToBounds(0,1,"Fraction"),n.relativeMode="Point",n.margin.bottom=5,n.style.fill="transparent",n.style.strokeColor=t.style.strokeColor,n},r.prototype.drag=function(t,e,i,n){var s=n.nameTable[t.processId];t.margin.top+i>=0&&n.nodePropertyChange(t,{},{margin:{top:t.margin.top+i}}),t.margin.left+e>=0&&n.nodePropertyChange(t,{},{margin:{left:t.margin.left+e}});var o=this.getChildrenBound(s,t.id,n);this.updateSubProcessess(o,t,n),s.wrapper.measure(new pi(void 0,void 0)),s.wrapper.arrange(s.wrapper.desiredSize),n.refreshCanvasLayers(),n.updateSelector(),this.updateDocks(t,n)},r.prototype.dropBPMNchild=function(t,e,i){if(e&&"Bpmn"===e.shape.type&&"Bpmn"===t.shape.type&&(!ge()&&"TextAnnotation"!==e.shape.shape||ge()&&"TextAnnotation"!==e.shape.bpmnShape)){var n=i.nameTable[t.id].shape.activity.subProcess;if(i.currentSymbol&&"Bpmn"===t.shape.type&&!n.collapsed)return void(e.processId=t.id);if(n.processes=n.processes||[],n.processes&&-1===n.processes.indexOf(e.id)&&!n.collapsed){n.processes.push(e.id);var s=rt(e),o=i.nameTable[e.id].wrapper,a=i.nameTable[t.id].wrapper;o.margin.top=o.offsetY-o.actualSize.height/2-(t.offsetY-t.actualSize.height/2),o.margin.left=o.offsetX-o.actualSize.width/2-(t.offsetX-t.actualSize.width/2),o.margin.top=o.margin.top<0?0:o.margin.top,o.margin.left=o.margin.left<0?0:o.margin.left,i.nameTable[e.id].processId=t.id,a.children.push(i.nameTable[e.id].wrapper);var l=this.getChildrenBound(t,e.id,i);this.updateSubProcessess(l,e,i),a.measure(new pi(void 0,void 0)),a.arrange(a.desiredSize),i.refreshCanvasLayers(),i.updateSelector();for(var h=[],c=(h=h.concat(e.outEdges,e.inEdges)).length-1;c>=0;c--)-1===i.bpmnModule.textAnnotationConnectors.indexOf(i.nameTable[h[parseInt(c.toString(),10)]])&&i.remove(i.nameTable[h[parseInt(c.toString(),10)]]);var u=rt(e);i.addHistoryEntry({type:"PositionChanged",undoObject:{nodes:[s]},redoObject:{nodes:[u]},category:"Internal"}),"SVG"===i.mode&&e.zIndex<t.zIndex&&(i.updateProcesses(e),this.updateSubprocessNodeIndex(e,i,t)),this.updateDocks(e,i)}}},r.prototype.updateIndex=function(t,e){var i=e,n=t.getIndex(i,i.id);t.nodes.splice(Number(n),1),i.zIndex=t.nodes[t.nodes.length-1].zIndex+1,t.nodes.push(i)},r.prototype.updateSubprocessNodeIndex=function(t,e,i){if(t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length>0)for(var n=0;n<t.shape.activity.subProcess.processes.length;n++){this.updateIndex(e,t);var s=t.shape.activity.subProcess.processes[parseInt(n.toString(),10)];if(e.nameTable[""+s].shape.activity.subProcess.processes.length>0)this.updateSubprocessNodeIndex(e.nameTable[""+s],e,i);else{var o=e.nameTable[t.shape.activity.subProcess.processes[parseInt(n.toString(),10)]];this.updateIndex(e,o)}}else this.updateIndex(e,t)},r.prototype.updateDocks=function(t,e){if("Bpmn"===t.shape.type&&t.shape.activity.subProcess.processes&&!t.shape.activity.subProcess.collapsed)for(var n=0,s=t.shape.activity.subProcess.processes;n<s.length;n++){var a=e.nameTable[""+s[n]];a&&(e.updateConnectorEdges(a),a.wrapper.measure(new pi(a.wrapper.width,a.wrapper.height)),a.wrapper.arrange(a.wrapper.desiredSize),a.shape.activity.subProcess.processes&&a.shape.activity.subProcess.processes.length&&this.updateDocks(a,e))}},r.prototype.removeBpmnProcesses=function(t,e){var i=e.nameTable[t.processId];if("Bpmn"===t.shape.type&&t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length>0)for(var s=(n=t.shape.activity.subProcess.processes).length-1;s>=0;s--)e.remove(e.nameTable[n[parseInt(s.toString(),10)]]);if(i){e.removeDependentConnector(t);var n=i.shape.activity.subProcess.processes;this.removeChildFromBPMN(i.wrapper,t.id);var o=n.indexOf(t.id);n.splice(o,1)}},r.prototype.removeChildFromBPMN=function(t,e){for(var i=0,n=t.children;i<n.length;i++){var s=n[i];s.id===e?t.children.splice(t.children.indexOf(s),1):s.children&&this.removeChildFromBPMN(s,e)}},r.prototype.removeProcess=function(t,e){var i=e.nameTable[""+t];if(i){var n=e.nameTable[i.processId];if(n&&"Bpmn"===n.shape.type){var s=n.shape.activity.subProcess.processes;e.removeDependentConnector(i),this.removeChildFromBPMN(n.wrapper,t);var o=s.indexOf(t);s.splice(o,1),i.processId="",e.refreshDiagramLayer(),e.updateSelector()}}},r.prototype.addProcess=function(t,e,i){t.id=t.id||kn();var n=t.id,s=i.nameTable[""+n];s||i.add(t),t.processId=e;var o=i.nameTable[""+e];if(s&&o&&"Bpmn"===o.shape.type&&"Bpmn"===s.shape.type&&o.shape.activity.subProcess.processes){s.processId=e;var l=o.shape.activity.subProcess.processes;l.indexOf(n)<0&&l.push(n),o.wrapper.children.push(s.wrapper),o.wrapper.measure(new pi),o.wrapper.arrange(o.wrapper.desiredSize),i.bpmnModule.updateDocks(o,i),i.refreshDiagramLayer(),"SVG"===i.mode&&s.shape&&s.shape.activity&&!s.shape.activity.subProcess.processes&&es(e+"_groupElement").appendChild(es(t.id+"_groupElement"))}},r.prototype.getChildrenBound=function(t,e,i){var s,n=t.shape.activity.subProcess.processes;if(n&&n.length)for(var o=0,a=n;o<a.length;o++){var l=a[o];e!==l&&(s=s?i.nameTable[""+l].wrapper.bounds.uniteRect(s):i.nameTable[""+l].wrapper.bounds)}return s||i.nameTable[""+e].wrapper.bounds},r.prototype.updateSubProcessess=function(t,e,i){var n,s,a,l,o=i.nameTable[e.processId],h={x:.5,y:.5};o.wrapper.bounds.left+e.margin.left+e.width>o.wrapper.bounds.right&&(a=!0),o.wrapper.bounds.top+e.margin.top+e.height>o.wrapper.bounds.bottom&&(l=!0),a&&(h.x=0),l&&(h.y=0);var c=o.wrapper.actualSize;a&&(n=(e.wrapper.margin.left+e.wrapper.bounds.width)/c.width),l&&(s=(e.wrapper.margin.top+e.wrapper.bounds.height)/c.height),(n>0||s>0)&&i.commandHandler.scale(i.nameTable[e.processId],n||1,s||1,h)},r.prototype.getBPMNCompensationShape=function(t,e){return e.id=t.id+"_0_compensation",e.width=12,e.height=12,e.margin.bottom=5,e.style.fill="transparent",e.style.strokeColor=t.style.strokeColor,e.horizontalAlignment="Left",e.verticalAlignment="Bottom",e.relativeMode="Object",e.data="M 22.462 18.754 l -6.79 3.92 l 6.79 3.92 V 22.89 l 6.415 3.705 v -7.841 l -6.415 3.705 V 18.754 Z M 28.331 19.701 v 5.947 l -5.149 -2.973 L 28.331 19.701 Z M 21.916 25.647 l -5.15 -2.973 l 5.15 -2.973 V 25.647 Z M 22.275 12.674 c -5.513 0 -9.999 4.486 -9.999 9.999 c 0 5.514 4.486 10.001 9.999 10.001 c 5.514 0 9.999 -4.486 9.999 -10.001 C 32.274 17.16 27.789 12.674 22.275 12.674 Z M 22.275 32.127  c -5.212 0 -9.453 -4.241 -9.453 -9.454 c 0 -5.212 4.241 -9.453 9.453 -9.453 c 5.212 0 9.453 4.241 9.453 9.453 C 31.728 27.887 27.487 32.127 22.275 32.127 Z",e},r.prototype.getBPMNActivityShape=function(t){var i,e=new Ds,n=t.shape.activity,s=n.activity,o=n.subProcess;return"Task"===s&&(i=this.getBPMNTaskShape(t)),"SubProcess"===s&&o&&(i=this.getBPMNSubProcessShape(t)),i.id=s+t.id,e.children=[i],e.style.fill="transparent",e.style.strokeColor="transparent",e.style.strokeWidth=0,e},r.prototype.getBPMNSubprocessEvent=function(t,e,i){var n,s;if(0!==i.annotations.length)for(var o=0;o<i.annotations.length;o++){var a=i.annotations[parseInt(o.toString(),10)];(n=t.initAnnotationWrapper(a)).width=i.width,n.height=i.height,e.children.push(n)}if(0!==i.ports.length)for(o=0;o<i.ports.length;o++){var l=i.ports[parseInt(o.toString(),10)];s=t.initPortWrapper(l),e.children.push(s)}},r.prototype.getBPMNAdhocShape=function(t,e,i){return e.id=t.id+"_0_adhoc",e.width=12,e.height=8,e.style.fill="black",e.style.strokeColor=t.style.strokeColor,e.margin.bottom=5,e.horizontalAlignment="Left",e.verticalAlignment="Bottom",e.relativeMode="Object",e.data="M 49.832 76.811 v -2.906 c 0 0 0.466 -1.469 1.931 -1.5 c 1.465 -0.031 2.331 1.219 2.897 1.688 s 1.06 0.75 1.526 0.75 c 0.466 0 1.548 -0.521 1.682 -1.208 s 0.083 3.083 0.083 3.083 s -0.76 0.969 -1.859 0.969 c -1.066 0 -1.865 -0.625 -2.464 -1.438 s -1.359 -0.998 -2.064 -0.906 C 50.598 75.467 49.832 76.811 49.832 76.811 Z",e.visible=!(!i||!0!==i.adhoc),e},r.prototype.getBPMNTextAnnotation=function(t,e,i,n){i.id=i.id||kn(),i.nodeId=t.id;var s=new Ds,o=new Nn,a=new Qr;o.id=t.id+"_"+i.id+"_path",o.width=i.width,o.height=i.height,o.relativeMode="Object",a.id=t.id+"_"+i.id+"_text",a.content=i.text;var h=t.style;a.style={fontSize:h.fontSize,italic:h.italic,gradient:null,opacity:h.opacity,bold:h.bold,textWrapping:h.textWrapping,color:h.color,fill:"white",fontFamily:h.fontFamily,whiteSpace:h.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:h.strokeDashArray,textAlign:h.textAlign,textDecoration:h.textDecoration},a.horizontalAlignment="Center",a.verticalAlignment="Center",a.relativeMode="Object",a.margin={left:5,right:5,top:5,bottom:5},s.offsetX=t.offsetX+i.length*Math.cos(i.angle*(Math.PI/180)),s.offsetY=t.offsetY+i.length*Math.sin(i.angle*(Math.PI/180)),s.float=!0,s.transform=$u.Self,s.id=t.id+"_textannotation_"+i.id,s.style.strokeColor="transparent",s.margin={left:10,right:10,top:10,bottom:10},s.relativeMode="Object",s.rotateAngle=0,s.children=[o,a];var c=new Et(t.shape,"annotations",{id:s.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);c.ports=[{id:o.id+"_port",shape:"Square",offset:{x:0,y:.5}}],c.offsetX=s.offsetX,c.offsetY=s.offsetY,c.text=i.text,c.angle=i.angle,c.length=i.length,c.width=i.width,c.height=i.height,c.wrapper=s,s.children.push(c.initPortWrapper(c.ports[0]));var u=new Xi(0,0,0,0),d=t.width||t.minWidth||0,p=t.height||t.minHeight||0;void 0!==d&&void 0!==p&&(u=new Xi(t.offsetX-d/2,t.offsetY-p/2,d,p)),this.setAnnotationPath(u,s,{x:c.offsetX,y:c.offsetY},c,i.length,i.angle);var m=new Gt(t.shape,"annotations",{id:t.id+"_"+i.id+"_connector",constraints:$e.Default&~($e.DragTargetEnd|$e.Drag),sourceID:t.id,targetID:s.id,targetDecorator:{shape:"None"}},!0);m.targetPortID=c.ports[0].id,m.init(e),m.wrapper.float=!1,m.wrapper.transform=$u.Self,n.children.push(m.wrapper),m.zIndex=1e4;var M=this.annotationObjects[t.id];return M||(M={}),M[i.id]||(M[i.id]={}),M[i.id].node=c,M[i.id].connector=m,this.annotationObjects[t.id]=M,e.initObject(c,void 0,!1),c.zIndex=1e4,s},r.prototype.renderBPMNTextAnnotation=function(t,e,i){e.id=e.id||kn();var n=new Ds,s=new Nn,o=new Qr;s.id="_"+e.id+"_path",s.width=e.width,s.height=e.height,s.relativeMode="Object",o.id=e.id+"_text",o.content=e.shape.annotation.text;var l=e.style;o.style={fontSize:l.fontSize,italic:l.italic,gradient:null,opacity:l.opacity,bold:l.bold,textWrapping:l.textWrapping,color:l.color,fill:"white",fontFamily:l.fontFamily,whiteSpace:l.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:l.strokeDashArray,textAlign:l.textAlign,textDecoration:l.textDecoration},o.horizontalAlignment="Left",o.verticalAlignment="Center",o.relativeMode="Object",o.margin={left:5,right:5,top:5,bottom:5},n.offsetX=e.offsetX+e.shape.annotation.length*Math.cos(e.shape.annotation.angle*(Math.PI/180)),n.offsetY=e.offsetY+e.shape.annotation.length*Math.sin(e.shape.annotation.angle*(Math.PI/180)),n.float=!0,n.id=e.id+"_textannotation_"+e.id,n.style.strokeColor="transparent",n.margin={left:10,right:10,top:10,bottom:10},n.relativeMode="Object",n.rotateAngle=0,n.children=[s,o];var h=new Et(e.shape,"annotations",{id:n.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);h.ports=[{id:s.id+"_port",shape:"Square",offset:{x:0,y:.5}}],h.offsetX=n.offsetX,h.offsetY=n.offsetY,h.shape&&h.shape.annotation&&(h.text=e.shape.annotation.text,h.angle=e.shape.annotation.angle,h.length=e.shape.annotation.length),h.width=e.width,h.height=e.height,h.wrapper=n,n.children.push(h.initPortWrapper(h.ports[0]));var c=new Xi(0,0,0,0),u=e.width||0,d=e.height||0;return void 0!==u&&void 0!==d&&(c=new Xi(e.offsetX-u/2,e.offsetY-d/2,u,d)),this.setAnnotationPath(c,n,{x:h.offsetX,y:h.offsetY},h,e.length,e.angle),n},r.prototype.getTextAnnotationWrapper=function(t,e){if(t&&"Bpmn"===t.shape.type){if("TextAnnotation"===(ge()?t.shape.bpmnShape:t.shape.shape))return t.wrapper.children[1];if(this.annotationObjects[t.id]&&this.annotationObjects[t.id][""+e])return this.getTextAnnotationWrapper(this.annotationObjects[t.id][""+e].node,e)}return null},r.prototype.addAnnotation=function(t,e,i){var n=t.wrapper.children[0],s=t.shape;e.nodeId=t.id;var o=new Fb(s,"annotations",e,!0);return s.annotations.push(o),n.children.push(this.getBPMNTextAnnotation(t,i,e,n)),t.wrapper.measure(new pi),t.wrapper.arrange(t.wrapper.desiredSize),this.annotationObjects[t.id][e.id].connector},r.prototype.clearAnnotations=function(t,e){var i=t.shape;if(i.annotations.length)for(var n=i.annotations.length-1;n>=0;n--){var s=i.annotations[parseInt(n.toString(),10)];this.removeAnnotationObjects(t,s,e)}delete this.annotationObjects[t.id]},r.prototype.checkAndRemoveAnnotations=function(t,e){if("Bpmn"===t.shape.type)if(!ge()&&"TextAnnotation"===t.shape.shape||ge()&&"TextAnnotation"===t.shape.bpmnShape)for(var i=t.id.split("_"),n=i[i.length-1],o=e.nameTable[""+(i[i.length-3]||i[0])],a=o.shape,l=0,h=a.annotations;l<h.length;l++){var c=h[l];if(c.id===n&&-1!==a.annotations.indexOf(c))return e.removeDependentConnector(t),this.removeAnnotationObjects(o,c,e),!0}else t.shape.annotations&&t.shape.annotations.length&&this.clearAnnotations(t,e);return!1},r.prototype.removeAnnotationObjects=function(t,e,i){var n=t.shape,s=n.annotations.indexOf(e);if(-1!==s){if(!(i.diagramActions&Dt.UndoRedo||i.diagramActions&Dt.Group)){var o={type:"CollectionChanged",changeType:"Remove",undoObject:rt(e),redoObject:rt(e),category:"Internal"};i.addHistoryEntry(o)}n.annotations.splice(s,1);var a=this.annotationObjects[t.id];if(a&&a[e.id]){var l=a[e.id].node,h=a[e.id].connector;i.removeElements(l),i.removeElements(h);var c=t.wrapper.children[0];s=c.children.indexOf(l.wrapper),c.children.splice(s,1),s=c.children.indexOf(h.wrapper),c.children.splice(s,1),i.removeFromAQuad(l),i.removeFromAQuad(h),delete i.nameTable[l.id],delete i.nameTable[h.id],delete a[e.id]}}},r.prototype.setAnnotationPath=function(t,e,i,n,s,o){var d,p,a=this.getAnnotationPathAngle(i,t),l="",h=e.children[0],c=e.children[2],u=e.children[1];h.horizontalAlignment="Stretch",h.verticalAlignment="Stretch",u.margin.left=u.margin.right=5,u.margin.top=u.margin.bottom=5,0===a?(l="M10,20 L0,20 L0,0 L10,0",h.width=10,h.horizontalAlignment="Left",c.setOffsetWithRespectToBounds(0,.5,"Fraction"),u.margin.top=u.margin.bottom=10,d=t.middleRight,p={x1:t.right,y1:t.top,x2:t.right,y2:t.bottom}):180===a?(l="M0,0 L10,0 L10,20 L0,20",h.width=10,h.horizontalAlignment="Right",c.setOffsetWithRespectToBounds(1,.5,"Fraction"),u.margin.top=u.margin.bottom=10,d=t.middleLeft,p={x1:t.left,y1:t.top,x2:t.left,y2:t.bottom}):90===a?(l="M20,10 L20,0 L0,0 L0,10",h.height=10,h.verticalAlignment="Top",c.setOffsetWithRespectToBounds(.5,0,"Fraction"),u.margin.left=u.margin.right=10,d=t.bottomCenter,p={x1:t.right,y1:t.bottom,x2:t.left,y2:t.bottom}):(l="M0,0 L0,10 L20,10 L20,0",h.height=10,h.verticalAlignment="Bottom",c.setOffsetWithRespectToBounds(.5,1,"Fraction"),u.margin.left=u.margin.right=10,d=t.topCenter,p={x1:t.right,y1:t.top,x2:t.left,y2:t.top});var f=t.center;d=VB(p,[f,Be.transform(i,o,Math.max(t.width,t.height))],0,f),h.data=l,void 0!==s&&void 0!==o&&(d=Be.transform(d,o,s),e.offsetX=n.offsetX=d.x,e.offsetY=n.offsetY=d.y)},r.prototype.isBpmnTextAnnotation=function(t,e){if(this.annotationObjects){var i=t.parentId,s=e.nameTable[""+i];return s&&"Bpmn"===s.shape.type&&this.annotationObjects[""+i]&&this.annotationObjects[""+i][""+t.id]?s:null}return null},r.prototype.updateTextAnnotationContent=function(t,e,i,n){var s=e.parentId,o=e.id;if(this.annotationObjects[""+s]&&this.annotationObjects[""+s][""+o])for(var a=0,l=t.shape.annotations;a<l.length;a++){var h=l[a];if(h.id===o){h.text=i;var c=this.annotationObjects[""+s][""+o].node.wrapper.children[1];c.content=i,c.visible=!0,t.wrapper.measure(new pi),t.wrapper.arrange(t.wrapper.desiredSize)}}},r.prototype.updateQuad=function(t,e){var n,i=t.shape.annotations;if(i&&i.length>0)for(var s=0;s<i.length;s++)n=this.annotationObjects[t.id][i[parseInt(s.toString(),10)].id].node,e.updateQuad(n)},r.prototype.updateTextAnnotationProp=function(t,e,i,n){if("Bpmn"===t.shape.type){var s=t.shape.annotations;if(s&&s.length>0)for(var o=0;o<t.wrapper.children[0].children.length;o++)for(var a=0;a<s.length;a++){var l=t.wrapper.children[0].children[parseInt(o.toString(),10)].id.split("_");if(l[l.length-1]===s[parseInt(a.toString(),10)].id){var c=this.annotationObjects[t.id][s[parseInt(a.toString(),10)].id].node,u=this.annotationObjects[t.id][s[parseInt(a.toString(),10)].id].connector,p=(Zu(u.targetPoint,t.wrapper.bounds,t.wrapper.bounds),u.sourcePoint);p=Be.transform(p={x:u.sourcePoint.x+(n?t.wrapper.offsetX:t.offsetX)-e.offsetX,y:u.sourcePoint.y+(n?t.wrapper.offsetY:t.offsetY)-e.offsetY},s[parseInt(a.toString(),10)].angle,s[parseInt(a.toString(),10)].length),t.wrapper.children[0].children[parseInt(o.toString(),10)].offsetX=c.offsetX=p.x,t.wrapper.children[0].children[parseInt(o.toString(),10)].offsetY=c.offsetY=p.y,i.updateQuad(c)}}}},r.prototype.getSubprocessChildCount=function(t){var e=0,n=t.shape.activity.subProcess,s=n.loop;return void 0!==s&&"None"!==s&&e++,void 0!==n.compensation&&!0===n.compensation&&e++,void 0!==n.collapsed&&!0===n.collapsed&&e++,void 0!==n.adhoc&&!0===n.adhoc&&e++,e},r.prototype.getTaskChildCount=function(t){var e=0,n=t.shape.activity.task;return void 0!==n.compensation&&!0===n.compensation&&e++,void 0!==n.loop&&"None"!==n.loop&&e++,e},r.prototype.setStyle=function(t,e){t.style.fill=e.style.fill,t.style.strokeColor=e.style.strokeColor,t.style.strokeWidth=e.style.strokeWidth,t.style.strokeDashArray=e.style.strokeDashArray,t.style.opacity=e.style.opacity,t.style.gradient=e.style.gradient,e.constraints&j.Shadow&&(t.shadow=e.shadow)},r.prototype.updateBPMN=function(t,e,i,n){var s=t.shape||{},o=i.wrapper.children[0],a=i.shape.shape||i.shape.bpmnShape,l=void 0!==t.width||void 0!==t.height;(ge()&&"Gateway"===s.bpmnShape||"Gateway"===s.shape)&&s.gateway?(this.removeBPMNElementFromDOM(i,n),i.wrapper.children[0]=this.getBPMNGatewayShape(i)):(ge()&&"DataObject"===s.bpmnShape||"DataObject"===s.shape)&&s.dataObject?(this.removeBPMNElementFromDOM(i,n),i.wrapper.children[0]=this.getBPMNDataObjectShape(i)):(ge()&&"Activity"===s.bpmnShape||"Activity"===s.shape)&&s.activity?(this.removeBPMNElementFromDOM(i,n),i.wrapper.children[0]=this.getBPMNActivityShape(i)):(ge()&&"Event"===s.bpmnShape||"Event"===i.shape.bpmnShape||"Event"===i.shape.shape||"Event"===s.shape)&&s.event?(this.removeBPMNElementFromDOM(i,n),i.wrapper.children[0]=this.getBPMNEventShape(i,s.event)):ge()&&"Message"===s.bpmnShape||"Message"===s.shape||ge()&&"DataSource"===s.bpmnShape||"DataSource"===s.shape?(this.removeBPMNElementFromDOM(i,n),i.wrapper.children[0]=this.getBPMNShapes(i)):void 0!==s.gateway||"Gateway"===a&&l?this.updateBPMNGateway(i,t):void 0!==s.dataObject||"DataObject"===a&&l?this.updateBPMNDataObject(i,t,e):void 0!==s.activity||"Activity"===a&&l?this.updateBPMNActivity(i,t,e,n):(void 0!==s.event||"Event"===a&&l)&&this.updateBPMNEvent(i,t,e),i.wrapper.children[0].id=i.wrapper.children[0].id||o.id,t.style&&(Zp(t.style,o instanceof Fh?!ge()&&"Activity"===i.shape.shape||ge()&&"Activity"===i.shape.bpmnShape?o.children[0].children[0]:o.children[0]:o),t.style&&t.style.strokeColor&&o&&null!=o.children&&o.children.length>0)&&((!ge()&&"Activity"===i.shape.shape||ge()&&"Activity"===i.shape.bpmnShape)&&"SubProcess"===i.shape.activity.activity?this.updateBPMNStyle(o.children[0],t.style.strokeColor):(!ge()&&"Gateway"===i.shape.shape||ge()&&"Gateway"===i.shape.bpmnShape||!ge()&&"Event"===i.shape.shape||ge()&&"Event"===i.shape.bpmnShape)&&this.updateBPMNStyle(o,t.style.strokeColor))},r.prototype.removeBPMNElementFromDOM=function(t,e){for(var i=0,n=e.views;i<n.length;i++)Xa(t.id+"_groupElement",n[i])},r.prototype.updateBPMNStyle=function(t,e){for(var i=0;i<t.children.length;i++)Zp({strokeColor:e},t.children[parseInt(i.toString(),10)])},r.prototype.updateBPMNGateway=function(t,e){var i=t.shape,n=t.wrapper.children[0];if(i){Zp(t.style,n.children[0]);var s=lQ(i.gateway.type),o=this.updateGatewaySubType(n,t,s);Xa(n.children[1].id),n.children.splice(1,1),n.children.push(o)}(void 0!==e.width||void 0!==e.height)&&this.setSizeForBPMNGateway(t.shape.gateway,n,e.width||t.width,e.height||t.height)},r.prototype.updateGatewaySubType=function(t,e,i){var n=new Nn;return n.id=e.id+"_1_gatewayType",n.width=t.children[1].width,n.height=t.children[1].height,n.margin.left=t.children[1].margin.left,n.margin.top=t.children[1].margin.top,n.data=i,n.offsetX=t.children[1].offsetX,n.offsetY=t.children[1].offsetY,n.style=t.children[1].style,n.horizontalAlignment=t.children[1].horizontalAlignment,n.verticalAlignment=t.children[1].verticalAlignment,n.relativeMode=t.children[1].relativeMode,n.transform=t.children[1].transform,n},r.prototype.updateBPMNDataObject=function(t,e,i){var n=e.shape,s=t.wrapper.children[0];if(n){var o=s.children[1],a=s.children[2];if(void 0!==e.style&&(Zp(e.style,s.children[0]),o.style.opacity=t.style.opacity,a.style.opacity=t.style.opacity),n.dataObject){switch(n.dataObject.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}"None"===i.shape.dataObject.type&&(o.visible=!0),void 0!==e.shape.dataObject.collection&&(a.visible=n.dataObject.collection)}}(void 0!==e.width||void 0!==e.height)&&this.setSizeForBPMNDataObjects(t.shape.dataObject,s,e.width||t.width,e.height||t.height)},r.prototype.getEvent=function(t,e,i,n,s,o){switch(i){case"Start":s.visible=!1,n.style.strokeDashArray="",o.style.fill="white",o.style.strokeColor="black",n.style.fill="white";break;case"NonInterruptingStart":n.style.strokeDashArray="2 3",o.style.fill="white",n.style.fill="white",o.style.strokeColor="black",s.visible=!1;break;case"Intermediate":n.style.strokeDashArray="",n.style.fill="white",s.style.strokeDashArray="",n.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",this.updateEventVisibility(e,s);break;case"NonInterruptingIntermediate":n.style.fill="white",n.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",n.style.strokeDashArray="2 3",s.style.strokeDashArray="2 3",this.updateEventVisibility(e,s);break;case"ThrowingIntermediate":case"End":n.style.fill="End"!==i?"white":"black",n.style.strokeDashArray="",s.style.strokeDashArray="",n.style.gradient=null,o.style.fill="black",this.updateEventVisibility(e,s),o.style.strokeColor=t.style.fill}},r.prototype.updateEventVisibility=function(t,e){t.shape.activity&&t.shape.activity.subProcess&&t.shape.activity.subProcess.events&&void 0!==t.shape.activity.subProcess.events[0]&&void 0!==t.shape.activity.subProcess.events[0].event?("NonInterruptingStart"===t.shape.activity.subProcess.events[0].event||"Start"===t.shape.activity.subProcess.events[0].event)&&(e.visible=!0):void 0!==t.shape.event&&("NonInterruptingStart"===t.shape.event.event||"Start"===t.shape.event.event)&&(e.visible=!0)},r.prototype.updateBPMNEvent=function(t,e,i){var s,n=e.shape,o=t.wrapper.children[0];if(n){var a=o.children[0],l=o.children[1],h=o.children[2];void 0!==e.style&&(Zp(t.style,o.children[0]),(void 0!==e.style.opacity||void 0!==e.style.strokeColor)&&(l.style.opacity=t.style.opacity,l.style.strokeColor=t.style.strokeColor));var c=n.event.event;s=n.event.trigger,void 0!==c&&this.getEvent(t,i,c,a,l,h),void 0!==s&&this.updateBPMNEventTrigger(t,e)}(void 0!==e.width||void 0!==e.height||void 0!==s)&&this.setSizeForBPMNEvents(t.shape.event,o,e.width||t.width,e.height||t.height)},r.prototype.updateBPMNEventTrigger=function(t,e){var i=t.shape,n=t.wrapper.children[0].children[2];n.canMeasurePath=!0,e.style&&(void 0!==e.style.strokeColor||void 0!==e.style.opacity)&&Zp(t.style,n);var s=G4(i.event.trigger);n.data=s},r.prototype.updateBPMNActivity=function(t,e,i,n){var s=e.shape,o=t.wrapper.children[0],a=this.getSize(t,o.children[0].children[0]);if(s){var l=i.shape.activity.activity,h=t.shape.activity.activity;if("SubProcess"!==l&&"Task"!==l||"SubProcess"!==h&&"Task"!==h){if("Task"===h&&void 0!==s.activity.task){this.updateBPMNActivityTask(t,e);var c=this.getTaskChildCount(t),p=a.width/2-12*c;void 0!==s.activity.task.loop&&this.updateBPMNActivityTaskLoop(t,e,1===c?p+8:p+8*(c-1),c,p,2)}"SubProcess"===h&&void 0!==s.activity.subProcess&&this.updateBPMNActivitySubProcess(t,e,i,n)}else n.removeElements(t),t.wrapper.children[0]=this.getBPMNActivityShape(t);this.setSizeForBPMNActivity(t.shape.activity,o,e.width||a.width,e.height||a.height,t)}(void 0!==e.width||void 0!==e.height)&&this.setSizeForBPMNActivity(t.shape.activity,o,e.width||a.width,e.height||a.height,t)},r.prototype.updateBPMNActivityTask=function(t,e){for(var i=e.shape,n=t.wrapper.children[0].children[0],s=i.activity.task,o=0;o<n.children.length;o++)n.children[parseInt(o.toString(),10)].id===t.id+"_1_taskTypeService"&&(n.children.splice(o,1),(a=document.getElementById(t.id+"_1_taskTypeService")).parentNode.removeChild(a));if(n.children[1].height="Receive"===s.type||"Send"===s.type?14:20,void 0!==s.type){var l=hQ(s.type);for(n.children[1].data=l,o=0;o<n.children.length;o++)if(n.children[parseInt(o.toString(),10)].id===t.id+"_1_tasktType"){var a;n.children.splice(o,1),(a=document.getElementById(t.id+"_1_tasktType")).parentNode.removeChild(a)}var h=new Nn;if(h.id=t.id+"_1_tasktType",h.margin.left=5,h.margin.top=5,h.data=l,h.style.fill="transparent",h.style.opacity=t.style.opacity,"Receive"===s.type||"Send"===s.type)h.width=18,h.height=16,"Send"===s.type&&(h.style.fill="black"),n.children.splice(1,0,h);else if("Manual"===s.type)h.width=16,h.height=11,n.children.splice(1,0,h);else if("Service"!==s.type)h.width=20,h.height=20,n.children.splice(1,0,h);else{h.width=20,h.height=20,n.children.splice(1,0,h);var c=new Nn;c.id=t.id+"_1_taskTypeService",c.data=l,c.margin.left=n.children[1].margin.left+9,c.margin.top=n.children[1].margin.top+9,c.style.fill="white",c.style.opacity=t.style.opacity,n.children.splice(2,0,c)}}void 0!==i.activity.task.call&&(n.children[0].style.strokeWidth=!1!==i.activity.task.call?4:1),void 0!==i.activity.task.compensation&&(n.children[3].visible=!0===i.activity.task.compensation)},r.prototype.updateBPMNActivityTaskLoop=function(t,e,i,n,s,o){var c,d,l=t.wrapper.children[0].children[0],h=e.shape.activity,u=0;void 0!==h.subProcess?(u="Transaction"===h.subProcess.type?2:0,d=hk(c=h.subProcess.loop),l.children[2+u].data=d,l.children[2+u].visible="None"!==c):void 0!==h.task&&void 0!==h.task.loop&&(d=hk(h.task.loop),l.children[2].data=d,l.children[2].visible="None"!==h.task.loop),this.updateChildMargin(l,n,s,i,o+u)},r.prototype.updateChildMargin=function(t,e,i,n,s){if(1===e)for(var o=s;o<t.children.length;o++)2!==o&&!0===t.children[parseInt(o.toString(),10)].visible&&(t.children[parseInt(o.toString(),10)].margin.left=n,n=i+8);else for(n=i+8*(e-1),o=s;o<t.children.length;o++)2!==o&&!0===t.children[parseInt(o.toString(),10)].visible&&(t.children[parseInt(o.toString(),10)].margin.left=n,n+=20)},r.prototype.updateBPMNActivitySubProcess=function(t,e,i,n){var c,s=e.shape,o=t.wrapper.children[0],a=this.getSize(t,o.children[0].children[0]),l=s.activity.subProcess,h=this.getSubprocessChildCount(t),d=a.width/2-12*h;c=1===h?d+8:d+8*(h-1),Zp(t.style,o.children[0].children[0]),void 0!==l.events&&this.updateBPMNSubProcessEvent(t,e,i,n),void 0!==l.adhoc&&this.updateBPMNSubProcessAdhoc(t,i,l,c,h,d),void 0!==l.boundary&&this.updateBPMNSubProcessBoundary(t,l),void 0!==l.collapsed&&this.updateBPMNSubProcessCollapsed(t,i,l,c,h,d,n),void 0!==l.compensation&&this.updateBPMNSubProcessCompensation(t,i,l,c,h,d),void 0!==l.loop&&this.updateBPMNSubProcessLoop(t,i,l,c,h,d),void 0!==l.transaction&&this.updateBPMNSubProcessTransaction(t,e,i,n)},r.prototype.updateBPMNSubProcessEvent=function(t,e,i,n){for(var a=t.wrapper.children[0].children[0],h=e.shape.activity.subProcess,u=0,d=Object.keys(h.events);u<d.length;u++){var f=Number(d[u]),m=a.children[f+2],M=t.shape.activity.subProcess.events[parseInt(f.toString(),10)];this.updateBPMNSubEvent(t,h.events[parseInt(f.toString(),10)],M,m,e,i,n)}},r.prototype.updateBPMNSubEvent=function(t,e,i,n,s,o,a){var p,f,l=t.wrapper.children[0],h=s.shape,c=n.children[0],u=n.children[1],d=n.children[2];if(s.style&&(void 0!==s.style.strokeColor||void 0!==s.style.opacity)&&(l.children[0].children[1].style.strokeColor=s.style.strokeColor,l.children[0].children[1].style.opacity=s.style.opacity),void 0!==h.activity.subProcess&&(p=e.event,f=e.trigger),void 0!==p&&this.getEvent(s,o,p,c,u,d),void 0!==f){s.style&&Zp(s.style,l.children[0]);var m=G4(f);n.children[2].data=m}(void 0!==e.height||void 0!==e.width)&&this.getEventSize(e,n),void 0!==e.id&&(n.id=e.id),void 0!==e.margin&&(n.margin=e.margin),void 0!==e.horizontalAlignment&&(n.horizontalAlignment=e.horizontalAlignment),void 0!==e.verticalAlignment&&(n.verticalAlignment=e.verticalAlignment),void 0!==e.offset&&(n.setOffsetWithRespectToBounds(i.offset.x,i.offset.y,"Fraction"),n.relativeMode="Point"),void 0!==e.annotations&&n.children[3]&&n.children.length>3&&a.updateAnnotation(e.annotations[0],n.children[3],l.children[0].children[2]),void 0!==e.ports&&n.children[4]&&n.children.length>4&&a.updatePort(e.ports[0],n.children[4],l.children[0].children[2]),void 0!==e.visible&&this.updateDiagramContainerVisibility(n,e.visible)},r.prototype.updateBPMNSubProcessTransaction=function(t,e,i,n){var s=e.shape.activity.subProcess.transaction,o=t.wrapper.children[0].children[0].children[2];void 0!==s.success&&this.updateBPMNSubEvent(t,s.success,t.shape.activity.subProcess.transaction.success,o.children[0],e,i,n),void 0!==s.cancel&&this.updateBPMNSubEvent(t,s.cancel,t.shape.activity.subProcess.transaction.cancel,o.children[1],e,i,n),void 0!==s.failure&&this.updateBPMNSubEvent(t,s.failure,t.shape.activity.subProcess.transaction.failure,o.children[2],e,i,n);for(var l=0,h=t.outEdges;l<h.length;l++){var u=n.nameTable[""+h[l]];switch(u.sourcePortID){case"success":s.success&&void 0!==s.success.visible&&n.connectorPropertyChange(u,{},{sourcePortID:"success"});break;case"cancel":s.cancel&&void 0!==s.cancel.visible&&n.connectorPropertyChange(u,{},{sourcePortID:"cancel"});break;case"failure":s.failure&&void 0!==s.failure.visible&&n.connectorPropertyChange(u,{},{sourcePortID:"failure"})}}},r.prototype.getEventSize=function(t,e){void 0!==t.height&&(e.height=t.height,e.children[0].height=t.height,e.children[1].height=.85*t.height,e.children[2].height=.54*t.height),void 0!==t.width&&(e.width=t.width,e.children[0].width=t.width,e.children[1].width=.85*t.width,e.children[2].width=.54*t.width)},r.prototype.updateBPMNSubProcessAdhoc=function(t,e,i,n,s,o){var l=t.wrapper.children[0].children[0],h="Transaction"===t.shape.activity.subProcess.type?2:0;l.children[3+h].visible=!1!==i.adhoc,this.updateChildMargin(l,s,o,n,3+h)},r.prototype.updateBPMNSubProcessBoundary=function(t,e){var n=t.wrapper.children[0].children[0].children[0];"Default"===e.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="1 0"),"Call"===e.boundary&&(n.style.strokeWidth=4,n.style.strokeDashArray="1 0"),"Event"===e.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="2 2")},r.prototype.updateElementVisibility=function(t,e,i){if(t.shape.activity.subProcess.processes&&t.shape.activity.subProcess.processes.length>0)for(var n=t.shape.activity.subProcess.processes,s=n.length-1;s>=0;s--){var o=i.nameTable[n[parseInt(s.toString(),10)]];o.visible=e,i.updateElementVisibility(o.wrapper,o,e),e&&((!ge()&&"Event"===o.shape.shape||ge()&&"Event"===o.shape.bpmnShape)&&this.setEventVisibility(o,o.wrapper.children[0].children),"SubProcess"===o.shape.activity.activity&&this.setSubProcessVisibility(o));for(var a=o.inEdges.concat(o.outEdges),l=a.length-1;l>=0;l--){var h=i.nameTable[a[parseInt(l.toString(),10)]];h.visible=e,i.updateElementVisibility(h.wrapper,h,e)}}if(e&&((!ge()&&"Event"===t.shape.shape||ge()&&"Event"===t.shape.bpmnShape)&&this.setEventVisibility(t,t.wrapper.children[0].children),"SubProcess"===t.shape.activity.activity&&this.setSubProcessVisibility(t),"Task"===t.shape.activity.activity&&(!ge()&&"Activity"===t.shape.shape||ge()&&"Activity"===t.shape.bpmnShape)&&"None"===t.shape.activity.subProcess.loop&&(t.wrapper.children[0].children[0].children[3].visible=!1),"DataObject"===t.shape.shape))if(!1===t.shape.dataObject.collection&&"None"===t.shape.dataObject.type)for(l=t.wrapper.children[0].children.length-1;l>0;l--)t.wrapper.children[0].children[parseInt(l.toString(),10)].visible=!1;else!0===t.shape.dataObject.collection&&"None"===t.shape.dataObject.type?t.wrapper.children[0].children[1].visible=!1:!1===t.shape.dataObject.collection&&("Input"===t.shape.dataObject.type||"Output"===t.shape.dataObject.type)&&(t.wrapper.children[0].children[2].visible=!1)},r.prototype.updateBPMNSubProcessCollapsed=function(t,e,i,n,s,o,a){var l=t.shape.activity.subProcess.events.length,h=t.wrapper.children[0].children[0],c="Transaction"===t.shape.activity.subProcess.type?3:1;!1===i.collapsed?(this.updateElementVisibility(t,!0,a),h.children[c+l].visible=!1):(this.updateElementVisibility(t,!1,a),h.children[c+l].visible=!0),this.updateChildMargin(h,s,o,n,3+l)},r.prototype.updateBPMNSubProcessCompensation=function(t,e,i,n,s,o){var a=t.wrapper.children[0].children[0],l="Transaction"===t.shape.activity.subProcess.type?2:0;a.children[4+l].visible=!1!==i.compensation,this.updateChildMargin(a,s,o,n,4+l)},r.prototype.updateBPMNSubProcessLoop=function(t,e,i,n,s,o){this.updateBPMNActivityTaskLoop(t,t,n,s,o,1)},r.prototype.updateBPMNConnector=function(t,e,i,n){var s=i.shape,o=t.shape.flow;return("Sequence"===s.flow||s.sequence)&&"Sequence"===o&&(t=this.getSequence(t,e,i,n)),("Association"===s.flow||s.association)&&"Association"===o&&(t=this.getAssociation(t,e,i,n)),("Message"===s.flow||s.message)&&"Message"===o&&(t=this.getMessage(t,e,i,n)),t},r.prototype.getSequence=function(t,e,i,n){if(("Normal"===i.shape.sequence||"Normal"===t.shape.sequence)&&(t.targetDecorator.shape="Arrow",t.sourceDecorator.shape="None",t.style.strokeDashArray="None",t.targetDecorator.style.fill="black",t.targetDecorator.width=10,t.targetDecorator.height=10,n.connectorPropertyChange(t,e,{targetDecorator:{shape:"Arrow",style:{fill:"black"},height:10,width:10},sourceDecorator:{shape:"None"},style:{strokeDashArray:"None"}}),t.wrapper.children[3].visible=!1),"Default"===i.shape.sequence||"Default"===t.shape.sequence){t.targetDecorator.shape="Arrow",t.sourceDecorator.shape="None",t.style.strokeDashArray="None",t.targetDecorator.style.fill="black",t.targetDecorator.width=10,t.targetDecorator.height=10,n.connectorPropertyChange(t,e,{style:{strokeDashArray:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black"},height:10,width:10},sourceDecorator:{shape:"None"}});var s=new Nn,a=void new Nn;s=t.getSegmentElement(t,s);for(var l=t.intermediatePoints,h=0;h<l.length-1;h++)length+=t.distance(l[parseInt(h.toString(),10)],l[h+1]),a=t.findPath(l[parseInt(h.toString(),10)],l[h+1]);var c=new Nn;c.data=a[0],c.id=t.id+"_"+i.shape.sequence||t.shape.sequence,c.offsetX=a[1].x,c.offsetY=a[1].y,c.rotateAngle=45,c.transform=$u.Self,this.removeDomElement(t,n,c)}return("Conditional"===i.shape.sequence||"Conditional"===t.shape.sequence)&&(t.sourceDecorator.shape="Diamond",t.sourceDecorator.width=20,t.sourceDecorator.height=10,t.sourceDecorator.style.fill="white",t.targetDecorator.style.fill="black",t.style.strokeDashArray="None",t.targetDecorator.shape="Arrow",n.connectorPropertyChange(t,e,{style:{strokeDashArray:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black"},height:10,width:10},sourceDecorator:{shape:"Diamond",width:20,height:10,style:{fill:"white"}}}),t.wrapper.children[3].visible=!1),t},r.prototype.getAssociation=function(t,e,i,n){return("Default"===i.shape.association||"Default"===t.shape.association)&&(t.sourceDecorator.shape="None",t.targetDecorator.shape="None",t.style.strokeDashArray="2 2",n.connectorPropertyChange(t,e,{style:{strokeDashArray:"2 2"},targetDecorator:{shape:"None"},sourceDecorator:{shape:"None"}}),t.wrapper.children[3].visible=!1),("Directional"===i.shape.association||"Directional"===t.shape.association)&&(t.sourceDecorator.shape="None",t.style.strokeDashArray="2 2",t.targetDecorator.shape="OpenArrow",t.targetDecorator.width=10,t.targetDecorator.height=10,n.connectorPropertyChange(t,e,{style:{strokeDashArray:"2 2"},targetDecorator:{shape:"OpenArrow",width:10,height:10},sourceDecorator:{shape:"None"}}),t.wrapper.children[3].visible=!1),("BiDirectional"===i.shape.association||"BiDirectional"===t.shape.association)&&(t.sourceDecorator.shape="OpenArrow",t.targetDecorator.shape="OpenArrow",t.sourceDecorator.width=10,t.sourceDecorator.height=10,t.sourceDecorator.style.fill="black",n.connectorPropertyChange(t,e,{style:{strokeDashArray:"2 2"},targetDecorator:{shape:"OpenArrow",width:10,height:10},sourceDecorator:{shape:"OpenArrow",width:10,height:10,style:{fill:"black"}}}),t.wrapper.children[3].visible=!1),t},r.prototype.getMessage=function(t,e,i,n){var o,a;t.sourceDecorator.shape="Circle",t.sourceDecorator.width=10,t.targetDecorator.shape="Arrow",t.sourceDecorator.height=10,t.sourceDecorator.style.fill="White",t.targetDecorator.style.fill="White",n.connectorPropertyChange(t,e,{sourceDecorator:{shape:"Circle",style:{fill:"White"},width:10,height:10},targetDecorator:{shape:"Arrow",style:{fill:"white"}}});for(var l=t.intermediatePoints,h=0,c=0;c<l.length-1;c++){var u=.5*(h+=t.distance(l[c],l[c+1]));h>=u&&(o=Nr(l[parseInt(c.toString(),10)],l[c+1]),a=Be.transform(l[parseInt(c.toString(),10)],o,u))}var d=new Nn;return t.wrapper.children[0].style.strokeDashArray=" 4 4",t.style.strokeDashArray="4 4",d.id=t.id+"_"+i.shape.message||t.shape.message,d.width=25,d.height=15,d.data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",d.horizontalAlignment="Center",d.verticalAlignment="Center",d.transform=$u.Self,d.style.fill="NonInitiatingMessage"===i.shape.message?"lightgrey":"white",d.offsetX=a.x,d.offsetY=a.y,"Default"!==i.shape.message&&void 0!==i.shape.message||"Default"!==t.shape.message?d.style.fill="NonInitiatingMessage"===(i.shape.message||t.shape.message)?"lightgrey":"white":d.visible=!1,this.removeDomElement(t,n,d),t},r.prototype.removeDomElement=function(t,e,i){for(var n=0,s=e.views;n<s.length;n++){var o=s[n];Xa(t.id+"_groupElement",o),Xa(t.id+"_content_groupElement",o),Xa(t.id+"_html_element",o)}t.wrapper.children.splice(3,1),t.wrapper.children.splice(3,0,i)},r.prototype.setSizeForBPMNEvents=function(t,e,i,n){e.children[0].width=i,e.children[0].height=n;var s=e.children[1];s.width=.85*i,s.height=.85*n;var o=e.children[2];"Message"===t.trigger?(o.width=.54*i,o.height=.4*n):(o.width=.5*i,o.height=.5*n)},r.prototype.updateAnnotationDrag=function(t,e,i,n){var s=t.id.split("_");if("textannotation"===s[1])for(var o=void 0,a=0;a<t.inEdges.length;a++){var l=e.nameTable[t.inEdges[parseInt(a.toString(),10)]];l&&(o=e.nameTable[l.sourceID]);var h={x:t.offsetX+i,y:t.offsetY+n},c=l.sourcePoint,u=Be.findLength(h,c),d=Be.findAngle(c,h);if(o.shape.annotations)for(var p=0;p<o.shape.annotations.length;p++)if(o.shape.annotations[parseInt(p.toString(),10)].id===s[s.length-1])return o.shape.annotations[parseInt(p.toString(),10)].length=u,o.shape.annotations[parseInt(p.toString(),10)].angle=d,this.setAnnotationPath(o.wrapper.bounds,t.wrapper,h,t),!1}return!!t.processId&&(this.drag(t,i,n,e),!0)},r.prototype.getAnnotationPathAngle=function(t,e){var n=0;switch(Zu(t,e,e)){case"Right":n=0;break;case"Left":n=180;break;case"Bottom":n=90;break;case"Top":n=270}return n},r.prototype.setSizeForBPMNGateway=function(t,e,i,n){e.children[0].width=i,e.children[0].height=n,e.children[1].width=.45*i,e.children[1].height=.45*n},r.prototype.setSizeForBPMNDataObjects=function(t,e,i,n){e.children[0].width=i,e.children[0].height=n},r.prototype.setSizeForBPMNActivity=function(t,e,i,n,s){e.children[0].width=i,e.children[0].height=n,e.children[0].children[0].width=i,e.children[0].children[0].height=n,"Transaction"===t.subProcess.type&&(e.children[0].children[1].width=Math.max(i-6,1),e.children[0].children[1].height=Math.max(n-6,1),e.children[0].children[2].width=i,e.children[0].children[2].height=n);var a,h,o=new Jl,l=this.getSize(s,o);h="Task"===t.activity?this.getTaskChildCount(s):this.getSubprocessChildCount(s);var d=(i||l.width)/2;a=1===h?d-6:d-12*h/2-4*(h-1)/2;for(var p=0;p<e.children[0].children.length;p++)e.children[0].children[parseInt(p.toString(),10)].visible&&(e.children[0].children[parseInt(p.toString(),10)].id.indexOf("_loop")>-1||e.children[0].children[parseInt(p.toString(),10)].id.indexOf("_0_compensation")>-1||e.children[0].children[parseInt(p.toString(),10)].id.indexOf("_0_adhoc")>-1||e.children[0].children[parseInt(p.toString(),10)].id.indexOf("_0_collapsed")>-1)&&(e.children[0].children[parseInt(p.toString(),10)].margin.left=a,a+=e.children[0].children[parseInt(p.toString(),10)].actualSize.width+4)},r.prototype.updateDiagramContainerVisibility=function(t,e){if(t instanceof Fh)for(var i=0;i<t.children.length;i++)this.updateDiagramContainerVisibility(t.children[parseInt(i.toString(),10)],e);t.visible=e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"Bpmn"},r}();function aQ(r){return Kye[r.toString()]}function G4(r){return e0e[r.toString()]}function lQ(r){return t0e[r.toString()]}function hQ(r){return i0e[r.toString()]}function hk(r){return n0e[r.toString()]}var Kye={Event:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Message:"M0,0L19.8,12.8L40,0L0,0L0,25.5L40,25.5L40,0z",DataSource:"M 0 10.6 c 0 5.9 16.8 10.6 37.5 10.6 S 75 16.4 75 10.6 v 0 v 68.9 v -0.1 C 75 85.3 58.2 90 37.5 90 S 0 85.3 0 79.4 l 0 0.1 V 56 V 40.6 L 0 10.6 C 0 4.7 16.8 0 37.5 0 S 75 4.7 75 10.6 S 58.2 21.2 37.5 21.2S 0 16.5 0 10.6 l 0 6.7 v -0.2 c 0 5.9 16.8 10.6 37.5 10.6 S 75 22.9 75 17.1 v 6.8 v -0.1 c 0 5.9 -16.8 10.6 -37.5 10.6 S 0 29.6 0 23.8",SubProcess:"M100,100 h200 a20,20 0 0 1 20,20 v200 a20,20 0 0 1 -20,20 h-200 a20,20 0 0 1 -20,-20 v-200 a20,20 0 0 1 20,-20 z",collapsedShape:"M 8.13789 15 H 0 V 0 H 8.13789 V 15 Z M 0.625991 13.75 H 7.51189 V 1.25 H 0.625991 V 13.75 Z M 2.18095 7.03125 L 5.95631 7.03125 L 5.95631 7.46875 L 2.18095 7.46875 Z M 3.8342 3.73 L 4.30369 3.73 L 4.30369 11.2687 L 3.8342 11.2687 Z"},e0e={Message:"M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",Timer:"M40,20c0,8.654-5.496,16.024-13.189,18.81C24.685,39.58,22.392,40,20,40C8.954,40,0,31.046,0,20S8.954,0,20,0S40,8.954,40,20z M20,0 L20,2.583 L20,5.283 M10.027,2.681L11.659,5.507 L12.669,7.257 M2.731,9.989 L6.014,11.885 L7.307,12.631 M0.067,19.967 L2.667,19.967 L5.35,19.967M2.748,29.939 L5.731,28.217 L7.323,27.298 M10.056,37.236 L11.292,35.095 L12.698,32.66 M20.033,39.9 L20.033,36.417 L20.033,34.617M30.006,37.219 L28.893,35.292 L27.364,32.643 M37.302,29.911 L34.608,28.355 L32.727,27.269M39.967,19.933 L37.417,19.933 L34.683,19.933 M37.286,9.961 L34.583,11.521 L32.71,12.602 M29.977,2.664 L28.653,4.957 L27.336,7.24 M22.104,8.5 L19.688,20 L24.75,20 L31.604,20 L24.75,20 L19.688,20z",Error:"M 23.77 18.527 l -7.107 27.396 l 8.507 -17.247 L 36.94 40.073 l 6.394 -25.997 l -8.497 15.754 L 23.77 18.527 Z",Escalation:"M 30.001 8.098 L 11.842 43.543 l 18.159 -18.882 l 18.162 18.882 L 30.001 8.098 Z ",Cancel:"M 3.5 16 L 0 12.6 L 4.6 8 L 0 3.5 L 3.4 0 L 8 4.6 l 4.5 -4.5 L 16 3.5 L 11.5 8 l 4.5 4.5 l -3.4 3.5 L 8 11.4 L 3.5 16 Z",Compensation:"M 25.7086 0 L 0 25 L 25.7086 50 V 26.3752 L 50 50 V 0 L 25.7086 23.6248 V 0 Z ",Conditional:"M 0 0 H 16 V 16 H 0 z M 1.14 3.2 H 14.85 M 1.14 6.4 H 14.85 M 1.14 9.6 H 14.85 M 1.14 12.8 H 14.85",Link:"M 32.014 19.258 v 5.992 H 9.373 v 9.504 h 22.641 v 5.988 L 50.622 30 L 32.014 19.258 Z",Signal:"M 50 50 H 0 L 25.0025 0 L 50 50 Z",Terminate:"M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",Multiple:"M 17.784 48.889 H 42.21 l 7.548 -23.23 L 29.997 11.303 L 10.236 25.658 L 17.784 48.889 Z",Parallel:"M 27.276 49.986 h 5.58 v -17.15 h 17.146 V 27.17 h -17.15 l 0.004 -17.15 h -5.58 l -0.004 17.15 H 9.994 v 5.666 h 17.278 L 27.276 49.986 Z"},t0e={None:"",Exclusive:"M 11.196 29.009 l 6.36 -9.712 l -5.764 -8.899 h 4.393 l 3.732 5.979 l 3.656 -5.979 h 4.354 l -5.789 9.039l 6.36 9.572 h -4.532 l -4.126 -6.437 l -4.139 6.437 H 11.196 Z",Inclusive:"M 20.323 31.333 c -6.625 0 -12.015 -5.39 -12.015 -12.015 s 5.39 -12.015 12.015 -12.015 s 12.016 5.39 12.016 12.015 S 26.948 31.333 20.323 31.333 Z M 20.323 9.303 c -5.522 0 -10.015 4.493 -10.015 10.015 s 4.492 10.015 10.015 10.015 s 10.016 -4.493 10.016 -10.015 S 25.846 9.303 20.323 9.303 Z",Parallel:"M 18.394 29.542 v -8.833 H 9.626 v -3.691 h 8.768 V 8.251 h 3.734 v 8.767 h 8.768 v 3.691 h -8.768 v 8.833 H 18.394 Z",Complex:"M29.198,19.063L23.089,19.063L27.794,14.358L26.38,12.944L21.223,18.101L21.223,10.443L19.223,10.443L19.223,17.976L14.022,12.776L12.608,14.19L17.48,19.063L10.365,19.063L10.365,21.063L18.261,21.063L12.392,26.932L13.806,28.346L19.223,22.929L19.223,30.225L21.223,30.225L21.223,22.805L25.925,27.507L27.339,26.093L22.309,21.063L29.198,21.063z",EventBased:"M 20.322 29.874 c -5.444 0 -9.873 -4.43 -9.873 -9.874 s 4.429 -9.874 9.873 -9.874 s 9.874 4.429 9.874 9.874 S 25.767 29.874 20.322 29.874 Z M 20.322 32.891 c -7.107 0 -12.89 -5.783 -12.89 -12.891 c 0 -7.107 5.782 -12.89 12.89 -12.89 c 7.108 0 12.891 5.783 12.891 12.89 C 33.213 27.108 27.431 32.891 20.322 32.891 Z M 24.191 25.386 h -7.984 l -2.469 -7.595 l 6.461 -4.693 l 6.461 4.693 L 24.191 25.386 Z",ExclusiveEventBased:"M 30 15 C 30 23.28 23.28 30 15 30 S 0 23.28 0 15 S 6.72 0 15 0 S 30 6.72 30 15 z M 15 5 L 5 12.5 L 8 22.5 H 22 L 25 12.5 z",ParallelEventBased:"M 35 17.5 C 35 27.16 27.16 35 17.5 35 S 0 27.16 0 17.5 S 7.84 0 17.5 0 S 35 7.84 35 17.5 z M 14.58 5.83 V 14.58 H 5.83 V 20.42 H 14.58 V 29.17 H 20.42 V 20.42 H 29.17 V 14.58 H 20.42 V 5.83 z"},i0e={None:"",Service:"M 32.699 20.187 v -4.005 h -3.32 c -0.125 -0.43 -0.292 -0.83 -0.488 -1.21 l 2.373 -2.375 l -2.833 -2.83 l -2.333 2.333 c -0.44 -0.253 -0.9 -0.448 -1.387 -0.595 v -3.32 h -4.003 v 3.32 c -0.46 0.137 -0.890.322 -1.3 0.537 l -2.285 -2.275 l -2.833 2.83 l 2.285 2.278 c -0.235 0.42 -0.41 0.847 -0.547 1.307 h -3.33 v 4.005 h 3.33 c 0.148 0.488 0.343 0.955 0.588 1.395 l -2.325 2.325 l 2.822 2.832 l 2.373 -2.382 c 0.392 0.205 0.792 0.37 1.212 0.497 v 3.33 h 4.003 v -3.33 c 0.46 -0.138 0.89 -0.323 1.3 -0.547 l 2.43 2.432 l 2.822 -2.832 l -2.42 -2.422 c 0.222 -0.41 0.4 -0.85 0.535-1.297 H 32.699 Z M 22.699 21.987 c -2.1 0 -3.803 -1.703 -3.803 -3.803 c 0 -2.1 1.703 -3.803 3.803 -3.803 c 2.1 0 3.803 1.703 3.803 3.803 C 26.502 20.285 24.8 21.987 22.699 21.987 Z",Receive:"M 12.217 12.134 v 13.334 h 20 V 12.134 H 12.217 Z M 30.44 13.007 l -8.223 5.35 l -8.223 -5.35 H 30.44 Z M 13.09 24.594 V 13.459 l 9.127 5.94 l 9.127 -5.94 v 11.135 H 13.09 Z",Send:"M0,1.2260086 L8.0000002,8.3380068 16,1.2260086 16,12.000007 0,12.000007 z M1.6300015,0 L14.371001,0 8.0000055,5.662 z",InstantiatingReceive:"M 16.306 17.39 v 8.79 h 13.198 v -8.79 H 16.306 Z M 28.375 17.946 l -5.47 3.558 l -5.47 -3.558 H 28.375 Z M 28.948 25.625 H 16.861 v -7.389 l 6.043 3.931 l 6.043 -3.931 V 25.625 Z M 22.905 11.785c -5.514 0 -9.999 4.486 -9.999 10 c 0 5.514 4.485 10 9.999 10 s 9.999 -4.486 9.999 -10 C 32.904 16.272 28.419 11.785 22.905 11.785 Z M 22.905 31.239 c -5.212 0 -9.453 -4.241 -9.453 -9.454c 0 -5.212 4.241 -9.453 9.453 -9.453 s 9.452 4.241 9.452 9.453 C 32.357 26.998 28.117 31.239 22.905 31.239 Z",Manual:"M9.21 612 L5.82 612 L1.07 612 a1.07317 1 -180 0 1 -1.07317 -1 L0 604.75 A3.42007 1.59344 -180 0 0 1.61 604 L2.6 604 L5.99 604 a0.721171 0.672 0 0 1 0.721171 0.672 a0.721171 0.672 0 0 1 -0.721171 0.672 L2.6 605.34 a0.48818 0.183302 -90 0 0 0.0837073 0.342385 L5.63 605.69 a0.721171 0.672 0 0 1 0.184585 -0.0223847 L10.28 605.66 a0.721171 0.672 0 0 1 0.721171 0.672 a0.721171 0.672 0 0 1 -0.721171 0.672 L5.82 607.01 a0.721171 0.672 0 0 1 -0.184585 -0.0223847 L5.63 607.35 a0.721171 0.672 0 0 1 0.184585 -0.0223847 L10.01 607.33 a0.721171 0.672 0 0 1 0.721171 0.672 a0.721171 0.672 0 0 1 -0.721171 0.672 L5.82 608.67 a0.721171 0.672 0 0 1 -0.184585 -0.0223847 L5.63 609.01 a0.721171 0.672 0 0 1 0.184585 -0.0223847 L9.47 608.99 a0.721171 0.672 0 0 1 0.721171 0.672 a0.721171 0.672 0 0 1 -0.721171 0.672 L5.82 610.34 a0.721171 0.672 0 0 1 -0.184585 -0.0223847 L5.63 610.68 a0.721171 0.672 0 0 1 0.184585 -0.0223847 L9.21 610.66 a0.721171 0.672 0 0 1 0.721171 0.672 a0.721171 0.672 0 0 1 -0.721171 0.672",BusinessRule:"M 32.844 13.245 h -0.089 v 0 H 13.764 v -0.015 h -1.009 v 16.989 h 0.095 v 0.011 h 19.716 v -0.011 h 0.278 V 13.245 Z M 31.844 14.229 v 4.185 h -18.08 v -4.185 H 31.844 Z M 18.168 25.306 v 3.938 h -4.404 v -3.938 H 18.168 Z M 13.764 24.322 v -4.923 h 4.404 v 4.923 H 13.764 Z M 19.177 25.306 h 12.667 v 3.938 H 19.177 V 25.306 Z M 19.177 24.322v -4.923 h 12.667 v 4.923 H 19.177 Z",User:"M8.6751149,13.75 L10.79009,18.703003 11.664047,18.696991 13.792084,13.75 13.824066,13.75 C18.177001,13.75 21.709022,17.259003 21.748998,21.60199 21.748998,21.649994 21.743993,21.700012 21.735021,21.747009 21.137981,24.774994 18.775997,27.144989 15.74904,27.75 L6.7491024,27.75 C3.7231224,27.144989 1.3601628,24.774994 0.76312089,21.747009 0.75414884,21.700012 0.74914402,21.649994 0.75012076,21.60199 0.78912175,17.259003 4.3221171,13.75 8.6751149,13.75 z M11.249014,0.75 C14.287014,0.75 16.749015,3.2119999 16.749015,6.25 16.749015,9.2880001 14.287014,11.75 11.249014,11.75 8.211015,11.75 5.7490147,9.2880001 5.7490147,6.25 5.7490147,3.2119999 8.211015,0.75 11.249014,0.75 z",Script:"M22.3,80.4 A82.9529,77.0159,-180,0,0,10.3,46.7 A69.8467,64.8477,0,0,1,0,19.7 A27.6207,25.6439,0,0,1,12.1,0 L84.7,0 A37.4124,34.7347,-180,0,0,77.7,19.6 A82.8871,76.9547,-180,0,0,89.7,53.3 A69.8146,64.81790000000001,0,0,1,100,80.3 A27.603399999999997,25.6278,0,0,1,87.9,100 L15.3,100 A37.4265,34.7479,-180,0,0,22.3,80.4 M12.5,28.6 L67.3,28.6 M18.3,42.9 L72.1,42.9 M80.8,57.1 L26,57.1 M85.6,71.4 L32.6,71.4"},n0e={None:"",Standard:"M 52.002 73.379 c -2.494 -2.536 -6.55 -2.534 -9.043 0 c -1.208 1.228 -1.874 2.861 -1.874 4.598 c 0 1.225 0.337 2.395 0.957 3.411 l -1.167 1.186 l 2.071 0.458 l 2.071 0.458 l -0.45 -2.106 l -0.45 -2.106 l -1.292 1.314c -1.119 -2.065 -0.842 -4.709 0.877 -6.458 c 2.084 -2.119 5.475 -2.117 7.557 0 c 2.083 2.119 2.083 5.565 0 7.685c -0.976 0.992 -2.272 1.557 -3.65 1.59 l 0.025 1.068 c 1.65 -0.041 3.2 -0.716 4.368 -1.903 c 1.208 -1.228 1.874 -2.861 1.874 -4.597 C 53.875 76.24 53.209 74.607 52.002 73.379 Z",ParallelMultiInstance:"M 51.5,69.5 L52.5,69.5 L52.5,84.5 L51.5 84.5 Z M 46.5,69.5 L47.5,69.5 L47.5,84.5 L46.5 84.5 Z M 41.5,69.5 L42.5,69.5 L42.5,84.5 L41.5 84.5 Z  ",SequenceMultiInstance:"M 40.375,71.5 L 55.375,71.5 L 55.375,72.5 L 40.375,72.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,81.5 L 55.375,81.5L 55.375,82.5 L 40.375,82.5 Z"},r0e=function(){function r(){}return r.prototype.updateBridging=function(t,e){var n,i=[];if(t.bridges=[],function _ge(r,t){return r.constraints&$e.Bridging?r.constraints&$e.Bridging:r.constraints&$e.InheritBridging?t.constraints&Un.Bridging:0}(t,e)){var s=this.getPoints(t);n=Xi.toBounds(s);for(var o=t.bridgeSpace,a=e.bridgeDirection,l=-1,h=e.connectors,c=0;c<h.length;c++){var u=h[parseInt(c.toString(),10)];if(t&&u&&t.id!==u.id){var d=this.getPoints(u),p=Xi.toBounds(d);if(this.intersectsRect(n,p)){var f=this.intersect(s,d,!1,a,!0);if(f.length>0)for(var m=0;m<f.length;m++){var T=0,P=0,U=0,Y=this.getLengthAtFractionPoint(t,f[parseInt(m.toString(),10)]);if(-1!==Y.pointIndex){P=Y.segmentIndex,U=Y.pointIndex;var X=this.getPointAtLength((T=Y.lengthFractionIndex)-o/2,s),Q=this.getPointAtLength(T+o/2,s);this.isEmptyPoint(Q)&&(Q=X);var oe,de=t.sourcePoint;oe="Straight"===t.type?t.targetPoint:t.intermediatePoints[parseInt(U.toString(),10)];var Me=this.angleCalculation(de,oe);if(i.length){var Qe,Ve=t.sourcePoint,Ce=Math.abs(this.lengthCalculation(Ve,Q)),Ie=-1;l=-1;for(var pe=0;pe<i[parseInt(P.toString(),10)].bridges.length;pe++){l++;var Pe=i[parseInt(P.toString(),10)].bridges[parseInt(pe.toString(),10)];if(Ce<Math.abs(this.lengthCalculation(Ve,Pe.endPoint))){Ie=l;break}}Ie>=0?((Qe=this.createSegment(X,Q,Me,a,U,t,e)).target=u.id,i[parseInt(P.toString(),10)].bridges.splice(Ie,0,Qe),i[parseInt(P.toString(),10)].bridges.join(),i[parseInt(P.toString(),10)].bridgeStartPoint.splice(Ie,0,X),i[parseInt(P.toString(),10)].bridgeStartPoint.join(),i[parseInt(P.toString(),10)].segmentIndex=P):((Qe=this.createSegment(X,Q,Me,a,U,t,e)).target=u.id,i[parseInt(P.toString(),10)].bridges.push(Qe),i[parseInt(P.toString(),10)].bridgeStartPoint.push(X),i[parseInt(P.toString(),10)].segmentIndex=P)}else if(!isNaN(X.x)&&!isNaN(X.y)&&!this.isEmptyPoint(Q)){var ut=this.createSegment(X,Q,Me,a,U,t,e),Xt={bridges:[],bridgeStartPoint:[],segmentIndex:P};ut.target=u.id;var ni=[];ni.push(X),[].push(Q),i[parseInt(P.toString(),10)]=Xt,i[parseInt(P.toString(),10)].bridges.push(ut),i[parseInt(P.toString(),10)].bridgeStartPoint=ni,i[parseInt(P.toString(),10)].segmentIndex=P}}}}}}0!==i.length&&this.firstBridge(i,t,o)}},r.prototype.firstBridge=function(t,e,i){for(var n=0;n<t.length;n++){for(var s=t[parseInt(n.toString(),10)],o=1;o<s.bridges.length;o++)if(Be.findLength(s.bridges[parseInt(o.toString(),10)].endPoint,s.bridges[o-1].endPoint)<i){s.bridges[o-1].endPoint=s.bridges[parseInt(o.toString(),10)].endPoint;var l=this.createBridgeSegment((a=s.bridges[o-1]).startPoint,a.endPoint,a.angle,i,a.sweep);s.bridges[o-1].path=l,s.bridges.splice(o,1),s.bridgeStartPoint.splice(o,1),o--}for(var c=0;c<s.bridges.length;c++){var a;a=s.bridges[parseInt(c.toString(),10)],e.bridges.push(a)}}},r.prototype.createSegment=function(t,e,i,n,s,o,a){var l={angle:0,endPoint:{x:0,y:0},target:"",path:"",segmentPointIndex:-1,startPoint:{x:0,y:0},sweep:1,rendered:!1},h=this.sweepDirection(i,n,o,a),c=this.createBridgeSegment(t,e,i,o.bridgeSpace,h);return l.path=c,l.startPoint=t,l.endPoint=e,l.angle=i,l.segmentPointIndex=s,l.sweep=h,l},r.prototype.createBridgeSegment=function(t,e,i,n,s){return"A "+n/2+" "+n/2+" "+i+" , 1 "+s+" "+e.x+","+e.y},r.prototype.sweepDirection=function(t,e,i,n){var o,s=Math.abs(t);switch(e){case"Top":case"Bottom":o=1,s>=0&&s<=90&&(o=0);break;case"Left":case"Right":o=1,t<0&&t>=-180&&(o=0)}return("Right"===e||"Bottom"===e)&&(o=0===o?1:0),o},r.prototype.getPointAtLength=function(t,e){for(var n,i=0,s={x:0,y:0},o=0;o<e.length;o++){var a=e[parseInt(o.toString(),10)];if(n){var l=this.lengthCalculation(n,a);if(i+l>t){var h=t-i,c=Be.findAngle(n,a),u=h*Math.cos(c*Math.PI/180),d=h*Math.sin(c*Math.PI/180);s={x:n.x+u,y:n.y+d};break}i+=l,n=a}else n=a}return s},r.prototype.getPoints=function(t){var e=[];if(t.intermediatePoints&&("Straight"===t.type||"Orthogonal"===t.type))for(var i=0;i<t.intermediatePoints.length;i++)e.push(t.intermediatePoints[parseInt(i.toString(),10)]);return e},r.prototype.intersectsRect=function(t,e){return e.x<t.x+t.width&&t.x<e.x+e.width&&e.y<t.y+t.height&&t.y<e.y+e.height},r.prototype.intersect=function(t,e,i,n,s){i&&e.length>=2&&(e.splice(0,1),e.splice(0,1));for(var o=[],a=0;a<t.length-1;a++){var l=this.inter1(t[parseInt(a.toString(),10)],t[a+1],e,s,n);if(l.length>0)for(var h=0;h<l.length;h++)o.push(l[parseInt(h.toString(),10)]);i&&e.length>=1&&e.splice(0,1)}return o},r.prototype.inter1=function(t,e,i,n,s){for(var o=[],a=0;a<i.length-1;a++){var l=QL(t,e,i[parseInt(a.toString(),10)],i[a+1]);if(!this.isEmptyPoint(l)){var h=this.angleCalculation(t,e),c=this.angleCalculation(i[parseInt(a.toString(),10)],i[a+1]);switch(h=this.checkForHorizontalLine(h),c=this.checkForHorizontalLine(c),s){case"Left":case"Right":h>c&&o.push(l);break;case"Top":case"Bottom":h<c&&o.push(l)}h===c&&n&&o.push(l)}}return o},r.prototype.checkForHorizontalLine=function(t){var i=Math.abs(t);return i>90?180-i:i},r.prototype.isEmptyPoint=function(t){return 0===t.x&&0===t.y},r.prototype.getLengthAtFractionPoint=function(t,e){for(var i=100,n=-1,s=0,o=-1,a=0,l=0,h=t.sourcePoint,c=h,u=[],d=0;d<t.intermediatePoints.length;d++){var p=t.intermediatePoints[parseInt(d.toString(),10)];u.push(p)}for(var f=0;f<u.length;f++){var m=u[parseInt(f.toString(),10)],M=this.getSlope(m,h,e,t);M<i&&(i=M,l=s+this.lengthCalculation(e,c),o=a,n=f),s+=Be.findLength(m,h),h=m,c=m}return a++,{lengthFractionIndex:l,fullLength:s,segmentIndex:o,pointIndex:n}},r.prototype.getSlope=function(t,e,i,n){var o=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y),l=(i.y-t.y)/(e.y-t.y),h=(i.x-t.x)/(e.x-t.x);if(!isFinite(l)||!isFinite(h)||isNaN(l)||isNaN(h)){if(t.x===e.x){if(t.y===e.y)return 1e4;if(t.y>i.y&&i.y>e.y||t.y<i.y&&i.y<e.y)return Math.abs(t.x-i.x)}else if(t.y===e.y&&(t.x>i.x&&i.x>e.x||t.x<i.x&&i.x<e.x))return Math.abs(t.y-i.y)}else if((t.x>=i.x&&i.x>=e.x||t.x<=i.x&&i.x<=e.x||o<3)&&(t.y>=i.y&&i.y>=e.y||t.y<=i.y&&i.y<=e.y||a<3))return Math.abs(l-h);return 1e4},r.prototype.angleCalculation=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},r.prototype.lengthCalculation=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"Bridging"},r}(),s0e=function(){function r(t){this.line=[],this.diagram=t}return r.prototype.canSnap=function(){return 0!=(this.diagram.snapSettings.constraints&(zr.SnapToObject|zr.SnapToLines))},r.prototype.getWrapperObject=function(t,e){if(t.nodes&&t.nodes.length>0&&(this.diagram.snapSettings.constraints&zr.SnapToLines||this.diagram.snapSettings.constraints&zr.SnapToObject))for(var i=0;i<t.nodes.length;i++)return("SwimLane"===t.nodes[parseInt(i.toString(),10)].shape.type||t.nodes[parseInt(i.toString(),10)].isLane||""!==t.nodes[parseInt(i.toString(),10)].parentId&&e[t.nodes[parseInt(i.toString(),10)].parentId]&&e[t.nodes[parseInt(i.toString(),10)].parentId].isLane)&&e.helper?e.helper.wrapper:t.wrapper;return t.wrapper},r.prototype.setSnapLineColor=function(){return this.diagram.snapSettings.snapLineColor},r.prototype.snapPoint=function(t,e,i,n,s,o,a){var l=this.diagram.snapSettings,h=this.diagram.scroller.currentZoom,c={x:0,y:0},d=Fo(this.getWrapperObject(e,t.nameTable)),p={snapped:!1,offset:0},f={snapped:!1,offset:0};if(this.diagram.snapSettings.constraints&zr.SnapToObject){var m=document.createElementNS("http://www.w3.org/2000/svg","g");m.setAttribute("id","_SnappingLines"),m.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(m),this.snapObject(t,e,m,p,f,s,o===a)}var M=d.x+s.x,T=d.y+s.y,U=d.y+d.height+s.y,Y=l.verticalGridlines.scaledIntervals,X=this.round(d.x+d.width+s.x,Y,h),Q=this.round(M,Y,h),oe=this.round(T,Y=l.horizontalGridlines.scaledIntervals,h),de=this.round(U,Y,h),Me=d.x+d.width,Ve=d.y+d.height;return p.snapped?c.x=this.diagram.snapSettings.constraints&zr.SnapToObject?p.offset:a.x-o.x:this.diagram.snapSettings.constraints&zr.SnapToVerticalLines?Math.abs(s.x)>=1&&(i?Math.abs(X-Me)>Math.abs(Q-d.x)?c.x+=Q-d.x:c.x+=X-Me:Math.abs(X-Me)<Math.abs(Q-d.x)?c.x+=X-Me:c.x+=Q-d.x):c.x=a.x-o.x,f.snapped?c.y=f.offset:this.diagram.snapSettings.constraints&zr.SnapToHorizontalLines?Math.abs(s.y)>=1&&(n?Math.abs(de-Ve)>Math.abs(oe-d.y)?c.y+=oe-d.y:c.y+=de-Ve:Math.abs(de-Ve)<Math.abs(oe-d.y)?c.y+=de-Ve:c.y+=oe-d.y):c.y=a.y-o.y,c},r.prototype.round=function(t,e,i){1===i&&(i=Math.pow(2,Math.floor(Math.log(i)/Math.log(2))));var n=0,s=0;for(s=0;s<e.length;s++)n+=e[parseInt(s.toString(),10)];var a=t%(n/=i),l=Math.floor(Math.abs(t)/n)*n;if(l!==t)if(t>=0)for(s=0;s<e.length;s++){if(a<=e[parseInt(s.toString(),10)]/i)return l+(a<e[parseInt(s.toString(),10)]/(2*i)?0:e[parseInt(s.toString(),10)]/i);l+=e[parseInt(s.toString(),10)]/i,a-=e[parseInt(s.toString(),10)]/i}else for(l*=-1,s=e.length-1;s>=0;s--){if(Math.abs(a)<=e[parseInt(s.toString(),10)]/i)return l-(Math.abs(a)<e[parseInt(s.toString(),10)]/(2*i)?0:e[parseInt(s.toString(),10)]/i);l-=e[parseInt(s.toString(),10)]/i,a+=e[parseInt(s.toString(),10)]/i}return t},r.prototype.snapObject=function(t,e,i,n,s,o,a){var h,c,u,l=null,d=this.diagram.scroller,p=this.diagram.snapSettings,f=[],m=[],M=[],T=[],U=Fo(this.getWrapperObject(e,t.nameTable)),Y=t.scroller.currentZoom,X=-d.horizontalOffset,Q=-d.verticalOffset,oe=p.snapObjectDistance/Y,de=new Xi(0,0,d.viewPortWidth,d.viewPortHeight),Me=new Xi(X/Y,U.y-oe-5,de.width/Y,U.height+2*oe+10),Ve=new Xi(U.x-oe-5,Q/Y,U.width+2*oe+10,de.height/Y);de=new Xi(X/Y,Q/Y,de.width/Y,de.height/Y);var ze,Ie,pe,Ce=this.findNodes(t.spatialSearch,e,Ve,de),Pe=t.nameTable;for(ze=0;ze<Ce.length;ze++)Ie=Ce[parseInt(ze.toString(),10)],this.canBeTarget(t,Ie)&&!(this.diagram.nameTable[Ie.id]instanceof Gt)&&this.canConsider(Pe,e,Ie)&&((pe=Ie.bounds).height+pe.y<o.y+U.y?M.push({obj:Ie,distance:Math.abs(U.y+o.y-pe.y-pe.height)}):pe.y>U.y+o.y+U.height&&T.push({obj:Ie,distance:Math.abs(U.y+o.y+U.height-pe.y)}),(null==l||l>Math.abs(pe.y-U.y-o.y))&&(Math.abs(pe.x+pe.width/2-(U.x+U.width/2+o.x))<=oe?(c=this.createSnapObject(pe,U,"centerX"),l=Math.abs(pe.y-U.y)):Math.abs(pe.x+pe.width-(U.x+U.width+o.x))<=oe?(c=this.createSnapObject(pe,U,"right"),l=Math.abs(pe.y-U.y)):Math.abs(pe.x-(U.x+o.x))<=oe?(c=this.createSnapObject(pe,U,"left"),l=Math.abs(pe.y-U.y)):Math.abs(pe.x-(U.x+U.width+o.x))<=oe?(c=this.createSnapObject(pe,U,"rightLeft"),l=Math.abs(pe.y-U.y)):Math.abs(pe.x+pe.width-(U.x+o.x))<=oe&&(c=this.createSnapObject(pe,U,"leftRight"),l=Math.abs(pe.y-U.y))));Ce=this.findNodes(t.spatialSearch,e,Me,de);for(var Qe=0;Qe<Ce.length;Qe++)Ie=Ce[parseInt(Qe.toString(),10)],this.canBeTarget(t,Ie)&&!(this.diagram.nameTable[Ie.id]instanceof Gt)&&this.canConsider(Pe,e,Ie)&&((pe=Ie.bounds).x+pe.width<U.x+o.x&&(f[f.length]={obj:Ie,distance:Math.abs(U.x+o.x-pe.x-pe.width)}),pe.x>U.x+o.x+U.width&&(m[m.length]={obj:Ie,distance:Math.abs(U.x+o.x+U.width-pe.x)}),(null==h||h>Math.abs(pe.x-U.x-o.x))&&(Math.abs(pe.y+pe.height/2-(U.y+U.height/2+o.y))<=oe?(u=this.createSnapObject(pe,U,"centerY"),h=Math.abs(pe.x-U.x)):Math.abs(pe.y-U.y-o.y)<=oe?(u=this.createSnapObject(pe,U,"top"),h=Math.abs(pe.x-U.x)):Math.abs(pe.y+pe.height-(U.y+U.height+o.y))<=oe?(u=this.createSnapObject(pe,U,"bottom"),h=Math.abs(pe.x-U.x)):Math.abs(pe.y+pe.height-U.y-o.y)<=oe?(u=this.createSnapObject(pe,U,"topBottom"),h=Math.abs(pe.x-U.x)):Math.abs(pe.y-(U.y+U.height+o.y))<=oe&&(u=this.createSnapObject(pe,U,"bottomTop"),h=Math.abs(pe.x-U.x))));this.createGuidelines(t,c,u,i,n,s,a),n.snapped||this.createHSpacingLines(t,i,e,f,m,n,s,a,o,oe),s.snapped||this.createVSpacingLines(t,i,e,M,T,n,s,a,o,oe)},r.prototype.snapConnectorEnd=function(t){var e=this.diagram.snapSettings,i=this.diagram.scroller.currentZoom;return e.constraints&zr.SnapToLines&&(t.x=this.round(t.x,e.verticalGridlines.scaledIntervals,i),t.y=this.round(t.y,e.horizontalGridlines.scaledIntervals,i)),t},r.prototype.canBeTarget=function(t,e){return!Sa(this.diagram,e=this.diagram.nameTable[e.id],!1)},r.prototype.snapSize=function(t,e,i,n,s,o,a,l){var h,c,p,f,u=this.diagram.snapSettings,d=this.diagram.scroller,m=Fo(a.wrapper),M=t.nameTable,T=[],P=[],U=t.scroller.currentZoom,Y=-d.horizontalOffset,X=-d.verticalOffset,Q=u.snapObjectDistance/U,oe=new Xi(0,0,d.viewPortWidth,d.viewPortHeight),de=new Xi(Y/U,(m.y-5)/U,oe.width/U,(m.height+10)/U),Me=new Xi((m.x-5)/U,X/U,(m.width+10)/U,oe.height/U);oe=new Xi(Y/U,X/U,oe.width/U,oe.height/U);var ze,Ie,pe,Ve=[],Ce=this.findNodes(t.spatialSearch,a,Me,oe,Ve);for(ze=0;ze<Ce.length;ze++)Ie=Ce[parseInt(ze.toString(),10)],this.canConsider(M,a,Ie)&&!(this.diagram.nameTable[Ie.id]instanceof Gt)&&(pe=Ie.bounds,(null==h||h>Math.abs(pe.y-m.y))&&(e.left?Math.abs(m.x+s-pe.x)<=Q?(p=this.createSnapObject(pe,m,"left"),h=Math.abs(pe.y-m.y)):Math.abs(m.x+s-pe.x-pe.width)<=Q&&(p=this.createSnapObject(pe,m,"leftRight"),h=Math.abs(pe.y-m.y)):e.right&&(Math.abs(m.x+s+m.width-pe.x-pe.width)<=Q?(p=this.createSnapObject(pe,m,"right"),h=Math.abs(pe.y-m.y)):Math.abs(m.x+s+m.width-pe.x)<=Q&&(p=this.createSnapObject(pe,m,"rightLeft"),h=Math.abs(pe.y-m.y)))));Ce=this.findNodes(t.spatialSearch,a,de,oe);for(var Pe=0;Pe<Ce.length;Pe++){var Qe=Ce[parseInt(Pe.toString(),10)];if(this.canConsider(M,a,Qe)&&!(this.diagram.nameTable[Qe.id]instanceof Gt)){var Oe=Qe.bounds;(null==c||c>Math.abs(Oe.x-m.x))&&(i.top?Math.abs(m.y+o-Oe.y)<=Q?(f=this.createSnapObject(Oe,m,"top"),c=Math.abs(Oe.x-m.x)):Math.abs(m.y+o-Oe.y-Oe.height)<=Q&&(f=this.createSnapObject(Oe,m,"topBottom"),c=Math.abs(Oe.x-m.x)):i.bottom&&(Math.abs(m.y+m.height+o-Oe.y-Oe.height)<=Q?(f=this.createSnapObject(Oe,m,"bottom"),c=Math.abs(Oe.x-m.x)):Math.abs(m.y+m.height+o-Oe.y)<=Q&&(f=this.createSnapObject(Oe,m,"bottomTop"),c=Math.abs(Oe.x-m.x))))}}for(ze=0;ze<Ve.length;ze++)if(Ie=Ve[parseInt(ze.toString(),10)],this.canConsider(M,a,Ie)){var Ye=Ie.bounds,ut=e.left?-s:s,Xt=Math.abs(m.width+ut-Ye.width);Xt<=Q&&(T[T.length]={source:Ie,difference:Xt,offset:e.left?-Ye.width+m.width:Ye.width-m.width}),ut=i.top?-o:o;var ui=Math.abs(m.height+ut-Ye.height);ui<=Q&&(P[P.length]={source:Ie,difference:ui,offset:i.top?-Ye.height+m.height:Ye.height-m.height})}t.getTool||this.createGuidelines(t,p,f,n,e,i,l),!e.snapped&&T.length>0&&(e.left||e.right)&&this.addSameWidthLines(t,n,T,e,l,a),!i.snapped&&P.length>0&&(i.top||i.bottom)&&this.addSameHeightLines(t,n,P,i,l,a)},r.prototype.snapTop=function(t,e,i,n,s,o,a,l){var c,h=s;e.top=!0,t.left=t.right=!1;var u=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&zr.SnapToObject&&!o.rotateAngle&&this.snapSize(this.diagram,t,e,i,n,c=l.y-l.height*o.pivot.y+s-(o.offsetY-o.height*o.pivot.y),this.diagram.selectedItems,a),e.snapped)h=s-c+e.offset;else if(this.diagram.snapSettings.constraints&zr.SnapToHorizontalLines){var d=l.y-l.height*o.pivot.y;h=this.round(d+s,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,u)-d}return h},r.prototype.snapRight=function(t,e,i,n,s,o,a,l){var c,h=n;t.right=!0,e.top=e.bottom=!1;var u=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&zr.SnapToObject&&!o.rotateAngle&&this.snapSize(this.diagram,t,e,i,c=l.x+l.width*(1-o.pivot.x)+n-(o.offsetX+o.width*(1-o.pivot.x)),s,this.diagram.selectedItems,a),t.snapped)h=n-c+t.offset;else if(this.diagram.snapSettings.constraints&zr.SnapToVerticalLines){var d=l.x+l.width*(1-o.pivot.x);h=this.round(d+n,this.diagram.snapSettings.verticalGridlines.scaledIntervals,u)-d}return h},r.prototype.snapLeft=function(t,e,i,n,s,o,a,l){var h=n,c=0;t.left=!0,e.top=e.bottom=!1;var u=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&zr.SnapToObject&&!o.rotateAngle&&this.snapSize(this.diagram,t,e,i,c=l.x-l.width*o.pivot.x+n-(o.offsetX-o.width*o.pivot.x),s,this.diagram.selectedItems,a),t.snapped)h=n-c+t.offset;else if(this.diagram.snapSettings.constraints&zr.SnapToVerticalLines){var d=l.x-l.width*o.pivot.x;h=this.round(d+n,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,u)-d}return h},r.prototype.snapBottom=function(t,e,i,n,s,o,a,l){var h=s;e.bottom=!0,t.left=t.right=!1;var c=this.diagram.scroller.currentZoom,u=0;if(this.diagram.snapSettings.constraints&zr.SnapToObject&&!o.rotateAngle&&this.snapSize(this.diagram,t,e,i,n,u=l.y+l.height*(1-o.pivot.y)+s-(o.offsetY+o.height*(1-o.pivot.y)),this.diagram.selectedItems,a),Fo(o instanceof Qr||o instanceof Sh?o:o.wrapper),e.snapped)h=s-u+e.offset;else if(this.diagram.snapSettings.constraints&zr.SnapToHorizontalLines){var p=l.y+l.height*(1-o.pivot.y);h=this.round(p+s,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,c)-p}return h},r.prototype.createGuidelines=function(t,e,i,n,s,o,a){return e&&(s.offset=e.offsetX,s.snapped=!0,a||this.renderAlignmentLines(e.start,e.end,n,t.scroller.transform)),i&&(o.offset=i.offsetY,o.snapped=!0,a||this.renderAlignmentLines(i.start,i.end,n,t.scroller.transform)),n},r.prototype.renderAlignmentLines=function(t,e,i,n){t={x:(t.x+n.tx)*n.scale,y:(t.y+n.ty)*n.scale},e={x:(e.x+n.tx)*n.scale,y:(e.y+n.ty)*n.scale};var s={stroke:this.setSnapLineColor(),strokeWidth:1,startPoint:{x:t.x,y:t.y},endPoint:{x:e.x,y:e.y},fill:this.setSnapLineColor(),dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:kn()},o=0;for(this.line.push(s),o=0;o<this.line.length;o++)this.diagram.diagramRenderer.drawLine(i,this.line.pop())},r.prototype.createHSpacingLines=function(t,e,i,n,s,o,a,l,h,c){var u=0;this.sortByDistance(n,"distance",!0),this.sortByDistance(s,"distance",!0);var p,f,m,M,T,d=[];if(p=Fo(t.selectedObject.helperObject?t.selectedObject.helperObject.wrapper:i.wrapper),n.length>0&&(d[d.length]=n[0],u=(f=n[0].obj.bounds).y,n.length>1?(T=f.x-(M=n[1].obj.bounds).x-M.width,Math.abs(T-n[0].distance)<=c?u=this.findEquallySpacedNodesAtLeft(n,T,u,d):T=n[0].distance):T=n[0].distance),this.sortByDistance(d,"distance"),d[d.length]={obj:i,distance:0},u=p.y<u||!u?p.y:u,s.length>0){var P=void 0;if(u=(m=s[0].obj.bounds).y<u?m.y:u,s.length>1&&(P=(M=s[1].obj.bounds).x-m.x-m.width),n.length>0)if(Math.abs(s[0].distance-n[0].distance)<=c){var U=Math.abs(s[0].distance-n[0].distance)/2;s[0].distance<n[0].distance?T-=U:T+=U,d[d.length]=s[0]}else 1===n.length&&(f=void 0,d.splice(0,1),d[d.length]=s[0],T=P);else T=P,d[d.length]=s[0];s.length>1&&m.x+m.width<M.x&&(u=this.findEquallySpacedNodesAtRight(s,P,u,d,c))}if(d.length>2){this.addHSpacingLines(t,e,d,l,u);var Y=0;l&&(Y=h.x),f?o.offset=T-Math.abs(p.x+Y-f.x-f.width)+Y:m&&(o.offset=Math.abs(p.x+p.width+Y-m.x)-T+Y),o.snapped=!0}},r.prototype.createVSpacingLines=function(t,e,i,n,s,o,a,l,h,c){var u=0;this.sortByDistance(n,"distance",!0),this.sortByDistance(s,"distance",!0);var m,M,T,P,U,d=[],f=Fo(this.getWrapperObject(i,t.nameTable));if(n.length>0&&(d[d.length]=n[0],u=(m=n[0].obj.bounds).x+m.width,n.length>1?(P=m.y-(T=n[1].obj.bounds).y-T.height,Math.abs(P-n[0].distance)<=c?u=this.findEquallySpacedNodesAtTop(n,P,u,d):P=n[0].distance):P=n[0].distance),this.sortByDistance(d,"distance"),d[d.length]={obj:i,distance:0},u=f.x+f.width>u||!u?f.x+f.width:u,s.length>0){if(u=(M=s[0].obj.bounds).x+M.width>u?M.x+M.width:u,s.length>1&&(U=(T=s[1].obj.bounds).y-M.y-M.height),n.length>0)if(Math.abs(s[0].distance-n[0].distance)<=c){var Y=Math.abs(s[0].distance-n[0].distance)/2;s[0].distance<n[0].distance?P-=Y:P+=Y,d[d.length]=s[0]}else 1===n.length&&(m=void 0,d.splice(0,1),d[d.length]=s[0],P=U);else P=U,d[d.length]=s[0];s.length>1&&T.y>M.y+M.height&&(u=this.findEquallySpacedNodesAtBottom(s,U,u,d,c))}if(d.length>2){this.addVSpacingLines(t,e,d,l,u);var X=0;l&&(X=h.y),m?a.offset=P-Math.abs(f.y+X-m.y-m.height)+X:M&&(a.offset=Math.abs(f.y+f.height+X-M.y)-P+X),a.snapped=!0}},r.prototype.addHSpacingLines=function(t,e,i,n,s){var o;if(!n)for(o=0;o<i.length-1;o++){var h=i[parseInt(o.toString(),10)].obj instanceof Pr?Fo(i[parseInt(o.toString(),10)].obj.wrapper):i[parseInt(o.toString(),10)].obj.bounds,c=i[o+1].obj instanceof Pr?Fo(i[o+1].obj.wrapper):i[o+1].obj.bounds;this.renderSpacingLines({x:h.x+h.width,y:s-15},{x:c.x,y:s-15},e,this.getAdornerLayerSvg(),t.scroller.transform)}},r.prototype.addVSpacingLines=function(t,e,i,n,s){if(!n)for(var l=0;l<i.length-1;l++){var h=i[parseInt(l.toString(),10)].obj instanceof Pr?Fo(i[parseInt(l.toString(),10)].obj.wrapper):i[parseInt(l.toString(),10)].obj.bounds,c=i[l+1].obj instanceof Pr?Fo(i[l+1].obj.wrapper):i[l+1].obj.bounds;this.renderSpacingLines({x:s+15,y:h.y+h.height},{x:s+15,y:c.y},e,this.getAdornerLayerSvg(),t.scroller.transform)}},r.prototype.addSameWidthLines=function(t,e,i,n,s,o){this.sortByDistance(i,"offset");var p,a=Fo(o.wrapper),l=i[0],u=l.source.bounds,d=[];for(d.push(i[0]),p=1;p<i.length;p++)i[parseInt(p.toString(),10)].source.bounds.width===u.width&&d.push(i[parseInt(p.toString(),10)]);if(!s)for(this.renderSpacingLines({x:a.x+l.offset,y:a.y-15},{x:a.x+a.width+l.offset,y:a.y-15},e,this.getAdornerLayerSvg(),t.scroller.transform),p=0;p<d.length;p++)a=d[parseInt(p.toString(),10)].source.bounds,this.renderSpacingLines({x:a.x,y:a.y-15},{x:a.x+a.width,y:a.y-15},e,this.getAdornerLayerSvg(),t.scroller.transform);n.offset=l.offset,n.snapped=!0},r.prototype.addSameHeightLines=function(t,e,i,n,s,o){this.sortByDistance(i,"offset");var p,a=Fo(o.wrapper),l=i[0],h=l.source.bounds,d=[];for(d.push(i[0]),p=0;p<i.length;p++)i[parseInt(p.toString(),10)].source.bounds.height===h.height&&d.push(i[parseInt(p.toString(),10)]);if(!s)for(this.renderSpacingLines({x:a.x+a.width+15,y:a.y+l.offset},{x:a.x+a.width+15,y:a.y+l.offset+a.height},e,this.getAdornerLayerSvg(),t.scroller.transform),p=0;p<d.length;p++)a=d[parseInt(p.toString(),10)].source.bounds,this.renderSpacingLines({x:a.x+a.width+15,y:a.y},{x:a.x+a.width+15,y:a.y+a.height},e,this.getAdornerLayerSvg(),t.scroller.transform);n.offset=l.offset,n.snapped=!0},r.prototype.renderSpacingLines=function(t,e,i,n,s){var o,a,l=new Nn,h={};(t={x:(t.x+s.tx)*s.scale,y:(t.y+s.ty)*s.scale}).x===(e={x:(e.x+s.tx)*s.scale,y:(e.y+s.ty)*s.scale}).x?(o="M"+(t.x-5)+" "+(t.y+5)+"L"+t.x+" "+t.y+"L"+(t.x+5)+" "+(t.y+5)+"zM"+(e.x-5)+" "+(e.y-5)+" L"+e.x+" "+e.y+" L"+(e.x+5)+" "+(e.y-5)+"z",a={startPoint:{x:t.x-8,y:t.y-1},endPoint:{x:t.x+8,y:t.y-1},stroke:this.setSnapLineColor(),strokeWidth:1,fill:this.setSnapLineColor(),dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:kn()},l.data=o,h.data=l.data,h.angle=0,h.pivotX=0,h.pivotY=0,h.x=0,h.y=0,h.height=0,h.width=1,h.id=kn(),this.diagram.diagramRenderer.drawPath(i,h),this.line.push(a),this.diagram.diagramRenderer.drawLine(i,this.line.pop()),a={startPoint:{x:e.x-8,y:e.y+1},endPoint:{x:e.x+8,y:e.y+1},stroke:this.setSnapLineColor(),strokeWidth:1,fill:this.setSnapLineColor(),dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:this.getAdornerLayerSvg().id+"spacing"},this.line.push(a),this.diagram.diagramRenderer.drawLine(i,this.line.pop())):(l.data=o="M"+(t.x+5)+" "+(t.y+5)+" L"+t.x+" "+t.y+" L"+(t.x+5)+" "+(t.y-5)+"zM"+(e.x-5)+" "+(e.y-5)+" L"+e.x+" "+e.y+" L"+(e.x-5)+" "+(e.y+5)+"z",h.data=o,h.angle=0,h.pivotX=0,h.pivotY=0,h.x=0,h.y=0,h.height=0,h.width=1,h.id=kn(),this.diagram.diagramRenderer.drawPath(i,h),a={visible:!0,opacity:1,id:kn(),startPoint:{x:t.x-1,y:t.y-8},endPoint:{x:t.x-1,y:t.y+8},stroke:this.setSnapLineColor(),strokeWidth:1,fill:this.setSnapLineColor(),dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0},this.line.push(a),this.diagram.diagramRenderer.drawLine(i,this.line.pop()),a={width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:kn(),startPoint:{x:e.x+1,y:e.y-8},endPoint:{x:e.x+1,y:e.y+8},stroke:this.setSnapLineColor(),strokeWidth:1,fill:this.setSnapLineColor(),dashArray:"0"},this.line.push(a),this.diagram.diagramRenderer.drawLine(i,this.line.pop())),a={startPoint:{x:t.x,y:t.y},endPoint:{x:e.x,y:e.y},stroke:this.setSnapLineColor(),strokeWidth:1,fill:this.setSnapLineColor(),dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:kn()},this.line.push(a),this.diagram.diagramRenderer.drawLine(i,this.line.pop())},r.prototype.createSnapObject=function(t,e,i){var n;switch(i){case"left":n={start:{x:t.x,y:Math.min(t.y,e.y)},end:{x:t.x,y:Math.max(t.y+t.height,e.y+e.height)},offsetX:t.x-e.x,offsetY:0,type:"sideAlign"};break;case"right":n={type:"sideAlign",start:{x:t.x+t.width,y:Math.min(t.y,e.y)},offsetX:t.x+t.width-e.x-e.width,offsetY:0,end:{x:t.x+t.width,y:Math.max(t.y+t.height,e.y+e.height)}};break;case"top":n={offsetY:t.y-e.y,offsetX:0,type:"sideAlign",start:{x:Math.min(t.x,e.x),y:t.y},end:{x:Math.max(t.x+t.width,e.x+e.width),y:t.y}};break;case"bottom":n={type:"sideAlign",offsetY:t.y+t.height-e.y-e.height,offsetX:0,end:{x:Math.max(t.x+t.width,e.x+e.width),y:t.y+t.height},start:{x:Math.min(t.x,e.x),y:t.y+t.height}};break;case"topBottom":n={start:{x:Math.min(t.x,e.x),y:t.y+t.height},end:{x:Math.max(t.x+t.width,e.x+e.width),y:t.y+t.height},offsetY:t.y+t.height-e.y,offsetX:0,type:"sideAlign"};break;case"bottomTop":n={start:{x:Math.min(t.x,e.x),y:t.y},end:{x:Math.max(t.x+t.width,e.x+e.width),y:t.y},offsetY:t.y-e.y-e.height,offsetX:0,type:"sideAlign"};break;case"leftRight":n={start:{x:t.x+t.width,y:Math.min(t.y,e.y)},end:{x:t.x+t.width,y:Math.max(t.y+t.height,e.y+e.height)},offsetX:t.x+t.width-e.x,offsetY:0,type:"sideAlign"};break;case"rightLeft":n={start:{x:t.x,y:Math.min(t.y,e.y)},end:{x:t.x,y:Math.max(t.y+t.height,e.y+e.height)},offsetX:t.x-e.x-e.width,offsetY:0,type:"sideAlign"};break;case"centerX":n={start:{x:t.x+t.width/2,y:Math.min(t.y,e.y)},end:{x:t.x+t.width/2,y:Math.max(t.y+t.height,e.y+e.height)},offsetX:t.x+t.width/2-(e.x+e.width/2),offsetY:0,type:"centerAlign"};break;case"centerY":n={start:{x:Math.min(t.x,e.x),y:t.y+t.height/2},end:{x:Math.max(t.x+t.width,e.x+e.width),y:t.y+t.height/2},offsetY:t.y+t.height/2-(e.y+e.height/2),offsetX:0,type:"centerAlign"}}return n},r.prototype.snapAngle=function(t,e){var n=this.diagram.snapSettings.snapAngle,s=e%(n||0);return s>=n/2?e+n-s:e-s},r.prototype.canConsider=function(t,e,i){return!(this.diagram.selectedItems.nodes.length&&this.diagram.selectedItems.nodes[0].id===i.id)},r.prototype.findNodes=function(t,e,i,n,s){for(var a,l,o=[],h=t.findQuads(s?n:i),c=0;c<h.length;c++){var u=h[parseInt(c.toString(),10)];if(u.objects.length>0)for(var d=0;d<u.objects.length;d++)a=u.objects[parseInt(d.toString(),10)],!(this.diagram.nameTable[a.id]instanceof Gt)&&a.visible&&"SwimLane"!==this.diagram.nameTable[a.id].shape.type&&!this.diagram.nameTable[a.id].isLane&&!this.diagram.nameTable[a.id].isPhase&&!this.diagram.nameTable[a.id].isHeader&&"helper"!==a.id&&(l=Fo(a),-1===o.indexOf(a)&&this.intersectsRect(i,l)&&o.push(a),s&&s.indexOf(a)&&this.intersectsRect(n,l)&&s.push(a))}return o},r.prototype.intersectsRect=function(t,e){return e.x<t.x+t.width&&t.x<e.x+e.width&&e.y<t.y+t.height&&t.y<e.y+e.height},r.prototype.getAdornerLayerSvg=function(){return this.diagram.diagramRenderer.adornerSvgLayer},r.prototype.removeGuidelines=function(t){var e=this.getAdornerLayerSvg().getElementById("_SnappingLines"),i=this.getAdornerLayerSvg().getElementById("pivotLine");e&&e.parentNode.removeChild(e),i&&i.parentNode.removeChild(i)},r.prototype.sortByDistance=function(t,e,i){var n,s,o;if(i)for(n=0;n<t.length;n++)for(s=n+1;s<t.length;s++)t[parseInt(n.toString(),10)][""+e]>t[parseInt(s.toString(),10)][""+e]&&(o=t[parseInt(n.toString(),10)],t[parseInt(n.toString(),10)]=t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)]=o);else for(n=0;n<t.length;n++)for(s=n+1;s<t.length;s++)t[parseInt(n.toString(),10)][""+e]<t[parseInt(s.toString(),10)][""+e]&&(o=t[parseInt(n.toString(),10)],t[parseInt(n.toString(),10)]=t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)]=o)},r.prototype.findEquallySpacedNodesAtLeft=function(t,e,i,n){var s,o,l;for(l=1;l<t.length&&(s=t[l-1].obj.bounds,o=t[parseInt(l.toString(),10)].obj.bounds,Math.abs(s.x-o.x-o.width-e)<=1);l++)n[n.length]=t[parseInt(l.toString(),10)],o.y<i&&(i=o.y);return i},r.prototype.findEquallySpacedNodesAtRight=function(t,e,i,n,s){var h;if(Math.abs(e-t[0].distance)<=s)for(var u=0;u<t.length-1&&(h=t[parseInt(u.toString(),10)].obj.bounds,Math.abs(t[u+1].obj.bounds.x-h.x-h.width-e)<=1);u++)n[n.length]=t[u+1],h.y<i&&(i=h.y);return i},r.prototype.findEquallySpacedNodesAtTop=function(t,e,i,n){for(var s,o,l=1;l<t.length&&(s=t[l-1].obj.bounds,o=t[parseInt(l.toString(),10)].obj.bounds,Math.abs(s.y-o.y-o.height-e)<=1);l++)n[n.length]=t[parseInt(l.toString(),10)],o.x+o.width>i&&(i=o.x+o.width);return i},r.prototype.findEquallySpacedNodesAtBottom=function(t,e,i,n,s){var h;if(Math.abs(e-t[0].distance)<=s)for(var u=0;u<t.length-1&&(h=t[parseInt(u.toString(),10)].obj.bounds,Math.abs(t[u+1].obj.bounds.y-h.y-h.height-e)<=1);u++)n[n.length]=t[u+1],h.x+h.width>i&&(i=h.x+h.width);return i},r.prototype.getLayer=function(){var t;return this.diagram.snapSettings.constraints&zr.SnapToObject&&((t=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id","_SnappingLines"),t.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(t)),t},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"Snapping"},r}(),o0e=function(){function r(){this.groupUndo=!1,this.childTable=[],this.historyCount=0,this.hasGroup=!1,this.groupCount=0,this.undoOffsets=[]}return r.prototype.initHistory=function(t){t.historyManager={canRedo:!1,canUndo:!1,currentEntry:null,push:t.addHistoryEntry.bind(t),undo:Function,redo:Function,startGroupAction:t.startGroupAction.bind(t),endGroupAction:t.endGroupAction.bind(t),canLog:null,undoStack:[],redoStack:[],stackLimit:t.historyManager?t.historyManager.stackLimit:void 0}},r.prototype.addHistoryEntry=function(t,e){var i=null;e.historyManager.canLog&&!0===e.historyManager.canLog(t).cancel||(e.historyManager&&e.historyManager.canUndo&&e.historyManager.currentEntry&&((i=e.historyManager.currentEntry).next?i.previous&&(i.next.previous=null,i.next=t,t.previous=i):(i.next=t,t.previous=i)),e.historyManager.currentEntry=t,e.historyManager.stackLimit&&("StartGroup"!==t.type&&"EndGroup"!==t.type||this.setEntryLimit("EndGroup"===t.type),!this.hasGroup&&0===this.groupCount&&(this.historyCount<e.historyManager.stackLimit?this.historyCount++:this.applyLimit(e.historyManager.currentEntry,e.historyManager.stackLimit,e))),this.getHistoryList(e),e.historyManager.canUndo=!0,e.historyManager.canRedo=!1)},r.prototype.applyLimit=function(t,e,i,n){t&&t.previous&&("StartGroup"!==t.type&&"EndGroup"!==t.type||this.setEntryLimit("StartGroup"===t.type),!this.hasGroup&&0===this.groupCount&&e--,0===e?(n&&this.limitHistoryStack(t.previous,i),i.historyManager.stackLimit<this.historyCount&&(this.historyCount=i.historyManager.stackLimit),delete t.previous):t.previous&&this.applyLimit(t.previous,e,i,n)),this.groupCount=0},r.prototype.clearHistory=function(t){var e=t.historyManager;e.currentEntry=void 0,e.canUndo=!1,e.canRedo=!1,this.historyCount=0,this.groupCount=0,t.historyManager.undoStack=[],t.historyManager.redoStack=[]},r.prototype.setEntryLimit=function(t){t?this.groupCount--:this.groupCount++,this.hasGroup=t?!t:t},r.prototype.limitHistoryStack=function(t,e){"StartGroup"!==t.type&&"EndGroup"!==t.type&&(this.removeFromStack(e.historyManager.undoStack,t),this.removeFromStack(e.historyManager.redoStack,t)),t.previous&&this.limitHistoryStack(t.previous,e)},r.prototype.removeFromStack=function(t,e){if(t.length)for(var i=0;i<=t.length;i++)if(t[parseInt(i.toString(),10)].undoObject===e.undoObject&&t[parseInt(i.toString(),10)].redoObject===e.redoObject){t.splice(i,1);break}},r.prototype.undo=function(t){var e=this.getUndoEntry(t),i=0;if(e)if("Internal"===e.category)"EndGroup"===e.type?(i++,this.groupUndo=!0,ge()&&(t.blazorActions|=Rr.GroupingInProgress)):this.undoEntry(e,t),this.groupUndo&&(this.undoGroupAction(e,t,i),this.groupUndo=!1);else{ge()||t.historyManager.undo(e);var n={entryType:"undo",oldValue:e.undoObject,newValue:e.redoObject};ge()&&(n={entryType:"undo",oldValue:this.getHistoryChangeEvent(e.undoObject,e.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(e.redoObject,e.blazorHistoryEntryType)}),t.triggerEvent(_i.historyStateChange,n)}},r.prototype.getHistoryChangeEvent=function(t,e){var i={};switch(e){case"Node":i.node=t;break;case"Connector":i.connector=t;break;case"Selector":i.selector=t;break;case"Diagram":i.diagram=t;break;case"ShapeAnnotation":i.shapeAnnotation=t;break;case"PathAnnotation":i.pathAnnotation=t;break;case"PortObject":i.pointPortModel=t;break;case"Object":i.object=t}return i},r.prototype.getHistoryList=function(t){var e=[],i=[],n=t.historyManager.currentEntry;for(this.getHistroyObject(t.historyManager.canUndo||0===t.historyManager.undoStack.length?e:i,n=t.historyManager.currentEntry);n&&n.previous;)this.getHistroyObject(e,n.previous),n=n.previous;for(n=t.historyManager.currentEntry;n&&n.next;)this.getHistroyObject(i,n.next),n=n.next;t.historyManager.undoStack=e,t.historyManager.redoStack=i},r.prototype.getHistroyObject=function(t,e){e&&"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.push({redoObject:e.redoObject?e.redoObject:null,undoObject:e.undoObject?e.undoObject:null,type:e.type?e.type:null,category:e.category?e.category:null})},r.prototype.undoGroupAction=function(t,e,i){for(;0!==i;)this.undoEntry(t,e),"StartGroup"===(t=this.getUndoEntry(e)).type?i--:"EndGroup"===t.type&&i++;i=0},r.prototype.undoEntry=function(t,e){var i,n;if("PropertyChanged"!==t.type&&"CollectionChanged"!==t.type&&"LabelCollectionChanged"!==t.type&&(i=t.undoObject,n=t.undoObject),"StartGroup"!==t.type&&"EndGroup"!==t.type&&e.historyManager.undoStack.length>0){var s=e.historyManager.undoStack.splice(0,1);e.historyManager.redoStack.splice(0,0,s[0]),n=t.undoObject}switch(e.protectPropertyChange(!0),e.diagramActions|=Dt.UndoRedo,ge()&&t.previous&&"StartGroup"===t.previous.type&&(e.blazorActions&=~Rr.GroupingInProgress),t.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(i,e);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(i,e,t);break;case"RotationChanged":this.recordRotationChanged(i,e,t,"undo");break;case"ConnectionChanged":this.recordConnectionChanged(i,e);break;case"PropertyChanged":this.recordPropertyChanged(t,e,!1);break;case"CollectionChanged":if(t&&t.next&&"AddChildToGroupNode"===t.next.type&&"Insert"===t.next.changeType){var o=e.getObject(t.next.undoObject.id);e.insertValue(rt(o),!0)}t.isUndo=!0,this.recordCollectionChanged(t,e),t.isUndo=!1,t&&t.next&&"AddChildToGroupNode"===t.next.type&&"Insert"===t.next.changeType&&((o=e.getObject(t.next.undoObject.id)).wrapper.measure(new pi),o.wrapper.arrange(o.wrapper.desiredSize),e.updateDiagramObject(o));break;case"LabelCollectionChanged":t.isUndo=!0,this.recordLabelCollectionChanged(t,e),t.isUndo=!1;break;case"PortCollectionChanged":t.isUndo=!0,this.recordPortCollectionChanged(t,e),t.isUndo=!1;break;case"Group":this.unGroup(t,e);break;case"UnGroup":this.group(t,e);break;case"SegmentChanged":this.recordSegmentChanged(i,e);break;case"PortPositionChanged":this.recordPortChanged(t,e,!1);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(t,e,!1);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(t,e,!1);break;case"StackChildPositionChanged":this.recordStackPositionChanged(t,e,!1);break;case"RowHeightChanged":this.recordGridSizeChanged(t,e,!1,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(t,e,!1,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(t,e,!1);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":t.isUndo=!0,this.recordLaneOrPhaseCollectionChanged(t,e,!1),t.isUndo=!1;break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(t,e,!1);break;case"AddChildToGroupNode":this.recordAddChildToGroupNode(t,e,!1)}if(e.diagramActions&=~Dt.UndoRedo,e.protectPropertyChange(!1),e.historyChangeTrigger(t,"Undo"),n){var a=this.checkNodeObject(n,e);if(a){var l=ho(e.updateSelection);l&&l(a,e)}}},r.prototype.checkNodeObject=function(t,e){var i;if(t.id)i=e.nameTable[t.id];else if(t.nodes&&t.nodes.length>0||t.connectors&&t.connectors.length>0)for(var s=0,o=t.nodes.length>0?t.nodes:t.connectors;s<o.length;s++)i=e.nameTable[(i=o[s]).id];else{var a=t.nodes?t.nodes:t.connectors;if(a)for(var l=0,h=Object.keys(a);l<h.length;l++){var u=Number(h[l]);i=t.nodes?e.nodes[parseInt(u.toString(),10)]:e.connectors[parseInt(u.toString(),10)]}}return i},r.prototype.group=function(t,e){e.add(t.undoObject)},r.prototype.unGroup=function(t,e){t.redoObject=rt(t.undoObject),e.commandHandler.unGroup(t.undoObject)},r.prototype.ignoreProperty=function(t){return"zIndex"===t||"wrapper"===t||"parentObj"===t||"controlParent"===t},r.prototype.getProperty=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var s=n[i];t&&(this.ignoreProperty(s)||(e[""+s]instanceof Object?this.getProperty(t[""+s],e[""+s]):t[""+s]=e[""+s]))}},r.prototype.recordLaneOrPhaseCollectionChanged=function(t,e,i){var n=t.redoObject,s=t.undoObject;if("Remove"===(t.isUndo?"Insert"===t.changeType?"Remove":"Insert":t.changeType))e.remove(n);else if(n.isPhase)e.addPhases(a=e.nameTable[n.parentId],[s]);else{var a,l=PL(a=e.nameTable[n.parentId],n);e.addLanes(a,[s],l)}e.clearSelection()},r.prototype.recordAnnotationChanged=function(t,e,i){var n=i?t.redoObject:t.undoObject;if(e.canEnableBlazorObject){var s=rt(e.nameTable[n.id]);e.insertValue(s,s instanceof Et)}var o=dD(n,t.objectId),a=e.commandHandler.getAnnotationChanges(e.nameTable[n.id],o),l=e.nameTable[n.id],h=dD(l,t.objectId);h.offset=o.offset,h.margin=o.margin,h.width=o.width,h.height=o.height,h.rotateAngle=o.rotateAngle,h.margin=o.margin,l instanceof Et?e.nodePropertyChange(l,{},a):e.connectorPropertyChange(l,{},a)},r.prototype.recordChildCollectionChanged=function(t,e,i){var n=i?t.redoObject:t.undoObject,s=e.nameTable[n.parentId],o=e.nameTable[n.id];s?sD(e,s,o,!i,"AddNodeToLane"===t.historyAction):(o.parentId&&((s=e.nameTable[o.parentId]).children.splice(s.children.indexOf(o.id),1),s.wrapper.children.splice(s.wrapper.children.indexOf(o.wrapper),1)),n.parentId&&""!==n.parentId&&((s=e.nameTable[n.parentId]).children.push(n.id),s.wrapper.children.push(o.wrapper)),o.parentId=n.parentId,e.removeElements(o),e.updateDiagramObject(o))},r.prototype.recordStackPositionChanged=function(t,e,i){var n=i?t.redoObject:t.undoObject;if(n.source){var s=e.nameTable[n.source.parentId];s&&(n.target?(s.wrapper.children.splice(n.targetIndex,1),s.wrapper.children.splice(n.sourceIndex,0,n.source.wrapper)):void 0!==n.sourceIndex?(e.nameTable[n.source.id]||e.add(n.source),s.wrapper.children.splice(n.sourceIndex,0,e.nameTable[n.source.id].wrapper),e.nameTable[n.source.id].parentId=s.id):(s.wrapper.children.splice(s.wrapper.children.indexOf(e.nameTable[n.source.id].wrapper),1),e.nameTable[n.source.id].parentId=""),i&&"UmlClassifier"===s.shape.type&&e.remove(n.source),s.wrapper.measure(new pi),s.wrapper.arrange(s.wrapper.desiredSize),e.updateDiagramObject(s),e.updateSelector())}},r.prototype.recordGridSizeChanged=function(t,e,i,n){var s=i?t.redoObject:t.undoObject;if(s.parentId){var a=e.nameTable[s.parentId],l=e.nameTable[s.id],h=a.wrapper.bounds.x,c=a.wrapper.bounds.y;if("SwimLane"===a.shape.type){var u=a.wrapper.children[0],d=a.shape.padding;n4(e,i?t.undoObject:t.redoObject,a,s),n?(u.updateRowHeight(s.rowIndex,s.wrapper.actualSize.height,!0,d),a.height=a.wrapper.height=u.height):(u.updateColumnWidth(s.columnIndex,s.wrapper.actualSize.width,!0,d),a.width=a.wrapper.width=u.width,s.isPhase&&(l.maxWidth=l.wrapper.maxWidth=s.wrapper.actualSize.width)),jw(a),e.drag(a,h-a.wrapper.bounds.x,c-a.wrapper.bounds.y),e.clearSelection(),e.updateDiagramObject(a)}}},r.prototype.recordLanePositionChanged=function(t,e,i){var n=i?t.redoObject:t.undoObject;if(n.source){var s=e.nameTable[n.source.parentId];s&&"SwimLane"===s.shape.type&&(zG(e,n.target,n.source),e.clearSelection())}},r.prototype.recordPortChanged=function(t,e,i){var n=i?t.redoObject.nodes[0]:t.undoObject.nodes[0];if(e.canEnableBlazorObject){var s=rt(e.nameTable[n.id]);e.insertValue(s,!0)}var o=y4(n,t.objectId),a=e.commandHandler.getPortChanges(e.nameTable[n.id],o),l=e.nameTable[n.id];y4(l,t.objectId).offset=o.offset,e.nodePropertyChange(l,{},a),l.parentId&&e.updateConnectorEdges(e.nameTable[l.parentId])},r.prototype.recordPropertyChanged=function(t,e,i){var n=t.redoObject,s=t.undoObject;if(ge())for(var o=0,a=Object.keys(s);o<a.length;o++){var h=void 0;switch(a[o]){case"nodes":for(var c=0,u=Object.keys(s.nodes);c<u.length;c++){var d=u[c];e.canEnableBlazorObject&&(h=rt(e.nodes[Number(d)]),e.insertValue(h,!0))}break;case"connectors":for(var p=0,f=Object.keys(s.connectors);p<f.length;p++)d=f[p],e.canEnableBlazorObject&&(h=rt(e.connectors[Number(d)]),e.insertValue(h,!1))}}this.getProperty(e,i?n:s),i?e.onPropertyChanged(n,s):e.onPropertyChanged(s,n),e.diagramActions=e.diagramActions|Dt.UndoRedo},r.prototype.recordOrderCommandChanged=function(t,e,i){e.commandHandler.orderCommands(i,i?t.redoObject:t.undoObject,t.type),e.diagramActions=e.diagramActions|Dt.UndoRedo},r.prototype.recordAddChildToGroupNode=function(t,e,i){i&&"Insert"===t.changeType&&e.addChildToGroup(e.nameTable[t.undoObject.id],e.nameTable[t.objectId].id)},r.prototype.recordSegmentChanged=function(t,e){var n,i=0;if(t.connectors&&t.connectors.length>0)for(i=0;i<t.connectors.length;i++)n=t.connectors[parseInt(i.toString(),10)],this.segmentChanged(n,e)},r.prototype.segmentChanged=function(t,e){var i=e.nameTable[t.id];i.segments=t.segments,e.commandHandler.updateEndPoint(i)},r.prototype.recordPositionChanged=function(t,e){var n,s,i=0;if(t.nodes&&t.nodes.length>0)for(i=0;i<t.nodes.length;i++)n=t.nodes[parseInt(i.toString(),10)],this.positionChanged(n,e);if(t.connectors&&t.connectors.length>0)for(i=0;i<t.connectors.length;i++)s=t.connectors[parseInt(i.toString(),10)],this.connectionChanged(s,e)},r.prototype.positionChanged=function(t,e){var i=e.nameTable[t.id];if(t.processId&&!i.processId&&e.addProcess(t,t.processId),!t.processId&&i.processId&&e.removeProcess(t.id),i.processId)e.drag(i,t.margin.left-i.margin.left,t.margin.top-i.margin.top);else{if(i.parentId){var o=e.nameTable[i.parentId];o.isLane&&(t.wrapper.offsetX=t.width/2+(o.wrapper.bounds.x+t.margin.left),t.wrapper.offsetY=t.height/2+(o.wrapper.bounds.y+t.margin.top))}e.drag(i,t.wrapper.offsetX-i.offsetX,t.wrapper.offsetY-i.offsetY)}e.bpmnModule&&e.bpmnModule.updateDocks(i,e)},r.prototype.recordSizeChanged=function(t,e,i){var s,o,n=0;if(t&&t.nodes&&t.nodes.length>0)for(n=0;n<t.nodes.length;n++)if((o=t.nodes[parseInt(n.toString(),10)]).children&&!o.container)for(var l=e.commandHandler.getAllDescendants(o,[]),h=0;h<l.length;h++){var c=i.childTable[l[parseInt(h.toString(),10)].id];os(c)===Et?(this.sizeChanged(c,e,i),this.positionChanged(c,e)):this.connectionChanged(c,e,i)}else this.sizeChanged(o,e),this.positionChanged(o,e);if(t&&t.connectors&&t.connectors.length>0){var u=t.connectors;for(n=0;n<u.length;n++)s=u[parseInt(n.toString(),10)],this.connectionChanged(s,e)}},r.prototype.sizeChanged=function(t,e,i){var n=e.nameTable[t.id],s=t.wrapper.actualSize.width/n.wrapper.actualSize.width,o=t.wrapper.actualSize.height/n.wrapper.actualSize.height;i&&i.childTable&&(i.childTable[t.id]=rt(n)),e.scale(n,s,o,{x:t.wrapper.offsetX/n.wrapper.offsetX,y:t.wrapper.offsetY/n.wrapper.offsetY})},r.prototype.recordRotationChanged=function(t,e,i,n){var o,a,s=0,l=e.selectedItems;if(l.rotateAngle=t.rotateAngle,l&&l.wrapper&&(l.wrapper.rotateAngle=t.rotateAngle),e.fromUndo=!0,t&&t.nodes&&t.nodes.length>0)for(s=0;s<t.nodes.length;s++){var h=!1;if((o=t.nodes[parseInt(s.toString(),10)]).children&&o.children.length>0){for(var c=0;c<o.children.length;c++){var u=e.nameTable[o.children[parseInt(c.toString(),10)]];if(os(u)!==Et&&(""===u.sourceID||""===u.targetID)){h=!0;break}}if(h&&Object.keys(i.childTable).length>0){for(var p=e.commandHandler.getAllDescendants(o,[]),f=0;f<p.length;f++){var m=i.childTable[p[parseInt(f.toString(),10)].id];if(os(m)===Et){var M={id:"",rotateAngle:0,wrapper:{offsetX:0,offsetY:0}};if("redo"===n?(M.id=m.id,M.rotateAngle=o.rotateAngle):M=m,this.rotationChanged(M,e),"undo"===n){var T=e.nameTable[M.id];this.undoOffsets.push({id:T.id,offsetX:T.offsetX,offsetY:T.offsetY})}else{for(var P=-1,U=this.undoOffsets.length-1;U>=0;U--)if(this.undoOffsets[parseInt(U.toString(),10)].id===M.id){M.wrapper=this.undoOffsets[parseInt(U.toString(),10)],P=U;break}-1!==P&&this.undoOffsets.splice(P,1)}this.positionChanged(M,e)}else this.connectionChanged(m,e,i)}e.nameTable[o.id].rotateAngle=t.rotateAngle,e.updateSelector(),this.rotationChanged(o,e)}else this.rotationChanged(o,e),this.positionChanged(o,e)}else this.rotationChanged(o,e),this.positionChanged(o,e)}if(e.fromUndo=!1,t&&t.connectors&&t.connectors.length>0)for(s=0;s<t.connectors.length;s++)a=t.connectors[parseInt(s.toString(),10)],this.connectionChanged(a,e)},r.prototype.rotationChanged=function(t,e){var i=e.nameTable[t.id];e.rotate(i,t.rotateAngle-i.rotateAngle)},r.prototype.recordConnectionChanged=function(t,e){var i;(i=t&&t.connectors?t.connectors[0]:t).sourceID&&e.nameTable[i.sourceID]&&e.insertValue(e.nameTable[i.sourceID],!0),i.targetID&&e.nameTable[i.targetID]&&e.insertValue(e.nameTable[i.targetID],!0),this.connectionChanged(i,e)},r.prototype.connectionChanged=function(t,e,i){var s,n=e.nameTable[t.id];t.sourcePortID!==n.sourcePortID&&(e.removePortEdges(e.nameTable[n.sourceID],n.sourcePortID,n.id,!1),n.sourcePortID=t.sourcePortID,e.connectorPropertyChange(n,{},{sourcePortID:t.sourcePortID})),t.targetPortID!==n.targetPortID&&(e.removePortEdges(e.nameTable[n.targetID],n.targetPortID,n.id,!0),n.targetPortID=t.targetPortID,e.connectorPropertyChange(n,{},{targetPortID:t.targetPortID})),t.sourceID!==n.sourceID&&(""===t.sourceID?uD((s=e.nameTable[n.sourceID]).outEdges,t.id):((s=e.nameTable[t.sourceID]).outEdges.push(t.id),e.updatePortEdges(s,t,!1)),n.sourceID=t.sourceID,e.connectorPropertyChange(n,{},{sourceID:t.sourceID})),t.targetID!==n.targetID&&(""===t.targetID?uD((s=e.nameTable[n.targetID]).inEdges,t.id):((s=e.nameTable[t.targetID]).inEdges.push(t.id),e.updatePortEdges(s,t,!0)),n.targetID=t.targetID,e.connectorPropertyChange(n,{},{targetID:t.targetID})),i&&i.childTable&&(i.childTable[t.id]=rt(n));var o=t.sourcePoint.x-n.sourcePoint.x,a=t.sourcePoint.y-n.sourcePoint.y;(0!==o||0!==a)&&e.dragSourceEnd(n,o,a);var l=t.targetPoint.x-n.targetPoint.x,h=t.targetPoint.y-n.targetPoint.y;(0!==l||0!==h)&&e.dragTargetEnd(n,l,h),e.updateSelector(),"SVG"!==e.mode&&e.refreshDiagramLayer()},r.prototype.recordCollectionChanged=function(t,e){var i=t.undoObject;if(t&&t.changeType){if("Remove"===(t.isUndo?"Insert"===t.changeType?"Remove":"Insert":t.changeType))i.nodeId?e.remove(e.nameTable[i.nodeId+"_textannotation_"+i.id]):(e.remove(i),e.clearSelectorLayer());else{if(e.clearSelectorLayer(),i.parentId){var s=e.nameTable[i.parentId];s?e.addChild(s,i):e.add(i)}else i.nodeId?e.addTextAnnotation(i,e.nameTable[i.nodeId]):e.nameTable[i.id]||(i&&i.shape&&"SwimLane"===i.shape.type&&t.isUndo&&zL(i,void 0,void 0,void 0,void 0,!0),e.add(i));i.processId&&e.nameTable[i.processId]&&e.addProcess(i,i.processId)}"SVG"!==e.mode&&e.refreshDiagramLayer()}},r.prototype.recordLabelCollectionChanged=function(t,e){var i=t.undoObject,s=e.nameTable[t.redoObject.id];t&&t.changeType&&("Remove"===(t.isUndo?"Insert"===t.changeType?"Remove":"Insert":t.changeType)?(e.removeLabels(s,[i]),e.clearSelectorLayer()):(e.clearSelectorLayer(),e.addLabels(s,[i])),"SVG"!==e.mode&&e.refreshDiagramLayer())},r.prototype.recordPortCollectionChanged=function(t,e){var i=t.undoObject,s=e.nameTable[t.redoObject.id];t&&t.changeType&&("Remove"===(t.isUndo?"Insert"===t.changeType?"Remove":"Insert":t.changeType)?(e.removePorts(s,[i]),e.clearSelectorLayer()):(e.clearSelectorLayer(),e.addPorts(s,[i])),"SVG"!==e.mode&&e.refreshDiagramLayer())},r.prototype.redo=function(t){var e=this.getRedoEntry(t),i=0;if(e)if("Internal"===e.category)"StartGroup"===e.type?(i++,this.groupUndo=!0,ge()&&(t.blazorActions|=Rr.GroupingInProgress)):this.redoEntry(e,t),this.groupUndo&&(this.redoGroupAction(e,t,i),this.groupUndo=!1);else{ge()||t.historyManager.redo(e);var n={entryType:"redo",oldValue:e.redoObject,newValue:e.undoObject};ge()&&(n={entryType:"redo",oldValue:this.getHistoryChangeEvent(e.redoObject,e.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(e.undoObject,e.blazorHistoryEntryType)}),t.triggerEvent(_i.historyStateChange,n)}},r.prototype.redoGroupAction=function(t,e,i){for(;0!==i;)this.redoEntry(t,e),"EndGroup"===(t=this.getRedoEntry(e)).type?i--:"StartGroup"===t.type&&i++;i=0},r.prototype.redoEntry=function(t,e){var i,n;if("PropertyChanged"!==t.type&&"CollectionChanged"!==t.type&&(i=t.redoObject,n=t.redoObject),e.diagramActions|=Dt.UndoRedo,"StartGroup"!==t.type&&"EndGroup"!==t.type&&e.historyManager.redoStack.length>0){var s=e.historyManager.redoStack.splice(0,1);e.historyManager.undoStack.splice(0,0,s[0]),n=t.redoObject}switch(e.protectPropertyChange(!0),ge()&&t.next&&"EndGroup"===t.next.type&&(e.blazorActions&=~Rr.GroupingInProgress),t.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(i,e);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(i,e,t);break;case"RotationChanged":this.recordRotationChanged(i,e,t,"redo");break;case"ConnectionChanged":this.recordConnectionChanged(i,e);break;case"PropertyChanged":this.recordPropertyChanged(t,e,!0);break;case"CollectionChanged":this.recordCollectionChanged(t,e);break;case"LabelCollectionChanged":this.recordLabelCollectionChanged(t,e);break;case"PortCollectionChanged":this.recordPortCollectionChanged(t,e);break;case"Group":this.group(t,e);break;case"UnGroup":this.unGroup(t,e);break;case"SegmentChanged":this.recordSegmentChanged(i,e);break;case"PortPositionChanged":this.recordPortChanged(t,e,!0);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(t,e,!0);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(t,e,!0);break;case"StackChildPositionChanged":this.recordStackPositionChanged(t,e,!0);break;case"RowHeightChanged":this.recordGridSizeChanged(t,e,!0,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(t,e,!0,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(t,e,!0);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":this.recordLaneOrPhaseCollectionChanged(t,e,!0);break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(t,e,!0);break;case"AddChildToGroupNode":this.recordAddChildToGroupNode(t,e,!0)}if(e.protectPropertyChange(!1),e.diagramActions&=~Dt.UndoRedo,e.historyChangeTrigger(t,"Redo"),n){var o=this.checkNodeObject(n,e);if(o){var a=ho(e.updateSelection);a&&a(o,e)}}},r.prototype.getUndoEntry=function(t){var i,e=null,n=t.historyManager;return n.canUndo&&(e=n.currentEntry,(i=n.currentEntry.previous)?(n.currentEntry=i,n.canRedo||(n.canRedo=!0)):(n.canRedo=!0,n.canUndo=!1)),e},r.prototype.getRedoEntry=function(t){var i,e=null,n=t.historyManager;return n.canRedo&&((i=n.currentEntry.previous||n.canUndo?n.currentEntry.next:n.currentEntry)&&(n.currentEntry=i,n.canUndo||(n.canUndo=!0),i.next||(n.canRedo=!1,n.canUndo=!0)),e=n.currentEntry),e},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"UndoRedo"},r}(),a0e=function(){function r(){this.protectChange=!1}return r.prototype.expand=function(t,e,i,n){var s=this,o={},l=0;if(n.realActions=n.realActions|Gs.AnimationClick,o[parseInt((0).toString(),10)]=setInterval(function(){return l++,s.layoutAnimation(e,o,6===l,n,i)},20),i.isExpanded){var h=.2;this.protectChange=n.isProtectedOnChange,n.protectPropertyChange(!1);var u={};t&&(this.updateOpacity(i,h,n),u[parseInt((0).toString(),10)]=setInterval(function(){n.allowServerDataBinding=!1,h<=1?s.updateOpacity(i,h,n):clearInterval(u[0]),h+=.2,n.allowServerDataBinding=!0},20))}},r.prototype.layoutAnimation=function(t,e,i,n,s){if(!i)for(var o=0;o<t.objects.length;o++){var a=n.nameTable[t.objects[parseInt(o.toString(),10)].id];a.offsetX+=t.objects[parseInt(o.toString(),10)].differenceX/5,a.offsetY+=t.objects[parseInt(o.toString(),10)].differenceY/5}if(i){clearInterval(e[0]),n.realActions=n.realActions&~Gs.AnimationClick,n.refreshCanvasLayers(),n.protectPropertyChange(!0),n.triggerEvent(_i.animationComplete,void 0),n.organizationalChartModule.isAnimation=!1,n.layout.fixedNode="",n.protectPropertyChange(this.protectChange);var l={element:Rt(rt(s)),state:!!s.isExpanded};n.triggerEvent(_i.expandStateChange,l),n.lineRoutingModule&&n.constraints&Un.LineRouting&&n.resetSegments()}},r.prototype.updateOpacity=function(t,e,i){for(var n=0;n<t.outEdges.length;n++){var s=i.nameTable[t.outEdges[parseInt(n.toString(),10)]],o=i.nameTable[s.targetID];s.style.opacity=e;for(var a=0;a<s.wrapper.children.length;a++)s.wrapper.children[parseInt(a.toString(),10)].style.opacity=e,o.style.opacity=e,o.wrapper instanceof Fh&&i.updateNodeProperty(o.wrapper,void 0,e);this.updateOpacity(o,e,i)}},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"LayoutAnimate"},r}(),l0e=function(){function r(){this.size=20,this.intermediatePoints=[],this.gridCollection=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.considerWalkable=[]}return r.prototype.lineRouting=function(t){var e=t.connectors.length;if(this.renderVirtualRegion(t),e>0)for(var i=0;i<e;i++){var n=t.connectors[parseInt(i.toString(),10)];"Orthogonal"===n.type&&n.visible&&this.refreshConnectorSegments(t,n,!0)}},r.prototype.renderVirtualRegion=function(t,e){var i=this.size;(t.spatialSearch.pageTop<0||t.spatialSearch.pageLeft<0)&&(i=this.size+this.size/2);var n=t.spatialSearch.pageRight+i,s=t.spatialSearch.pageBottom+i,o=t.spatialSearch.pageLeft-i,a=t.spatialSearch.pageTop-i;if(o=o<0?o-20:0,a=a<0?a-20:0,e&&(this.width!==n-o||this.height!==s-a||this.diagramStartX!==o||this.diagramStartY!==a)||void 0===e){this.width=n-o,this.height=s-a,this.diagramStartX=o,this.diagramStartY=a,this.gridCollection=[],this.noOfRows=this.width/this.size,this.noOfCols=this.height/this.size;for(var l=this.size,h=this.diagramStartX<0?this.diagramStartX:0,c=this.diagramStartY<0?this.diagramStartY:0,u=0;u<this.noOfCols;u++){for(var d=0;d<this.noOfRows;d++){0===u&&this.gridCollection.push([0]);var p={x:h,y:c,width:l,height:l,gridX:d,gridY:u,walkable:!0,tested:void 0,nodeId:[]};this.gridCollection[parseInt(d.toString(),10)][parseInt(u.toString(),10)]=p,h+=l}h=this.diagramStartX<0?this.diagramStartX:0,c+=l}}var f=this.findNodes(t.nodes);this.updateNodesInVirtualRegion(f)},r.prototype.findNodes=function(t){for(var i,e=[],n=0;n<t.length;n++)"SwimLane"!==(i=t[parseInt(n.toString(),10)]).shape.type&&!i.isLane&&!i.isPhase&&!i.isHeader&&i.visible&&e.push(i);return e},r.prototype.updateNodesInVirtualRegion=function(t){for(var e=this.size,i=this.diagramStartX<0?this.diagramStartX:0,n=this.diagramStartY<0?this.diagramStartY:0,s=0;s<this.noOfCols;s++){for(var o=0;o<this.noOfRows;o++){var a=this.gridCollection[parseInt(o.toString(),10)][parseInt(s.toString(),10)],l=new Xi(i,n,this.size,this.size),h=void 0,c=void 0;for(a.walkable=!0,a.tested=void 0,a.nodeId=[],c=0;c<t.length;c++)t[parseInt(c.toString(),10)].wrapper.bounds&&(h=this.intersectRect(l,t[parseInt(c.toString(),10)].wrapper.bounds)),h&&(a.nodeId.push(t[parseInt(c.toString(),10)].id),a.walkable=!1,""!==t[parseInt(c.toString(),10)].parentId&&(a.parentNodeId=t[parseInt(c.toString(),10)].parentId));i+=e}i=this.diagramStartX<0?this.diagramStartX:0,n+=e}},r.prototype.intersectRect=function(t,e){return!(e.left>=t.right||e.right<=t.left||e.top>=t.bottom||e.bottom<=t.top)},r.prototype.findEndPoint=function(t,e,i){var n,s;if(e&&""!==t.sourcePortID&&t.sourcePortWrapper||!e&&""!==t.targetPortID&&t.targetPortWrapper){s=Zu(n=e?{x:t.sourcePortWrapper.offsetX,y:t.sourcePortWrapper.offsetY}:{x:t.targetPortWrapper.offsetX,y:t.targetPortWrapper.offsetY},void 0,e?t.sourceWrapper.bounds:t.targetWrapper.bounds);var o=e?t.sourcePortWrapper.bounds:t.targetPortWrapper.bounds;n=i?"Top"===s?{x:o.topCenter.x,y:o.topCenter.y}:"Left"===s?{x:o.middleLeft.x,y:o.middleLeft.y}:"Right"===s?{x:o.middleRight.x,y:o.middleRight.y}:{x:o.bottomCenter.x,y:o.bottomCenter.y}:{x:o.center.x,y:o.center.y}}else n=e&&this.startNode||!e&&this.targetNode?e?{x:this.startNode.wrapper.offsetX,y:this.startNode.wrapper.offsetY}:{x:this.targetNode.wrapper.offsetX,y:this.targetNode.wrapper.offsetY}:e?{x:t.sourcePoint.x,y:t.sourcePoint.y}:{x:t.targetPoint.x,y:t.targetPoint.y};return n},r.prototype.refreshConnectorSegments=function(t,e,i){var l,h,d,p,f,M,T,P,U,Y,X,n=e.sourceID,s=e.targetID,o=e.sourcePortID,a=e.targetPortID;if(function Rge(r,t){var e=0;return r.constraints&$e.LineRouting?e=r.constraints&$e.LineRouting:r.constraints&$e.InheritLineRouting&&(e=t.constraints&Un.LineRouting),e}(e,t)){this.startNode=t.nameTable[""+n],this.targetNode=t.nameTable[""+s],this.intermediatePoints=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.startGrid=void 0,this.targetGrid=void 0;for(var Q=0;Q<this.noOfCols;Q++)for(var oe=0;oe<this.noOfRows;oe++)this.gridCollection[parseInt(oe.toString(),10)][parseInt(Q.toString(),10)].tested=this.gridCollection[parseInt(oe.toString(),10)][parseInt(Q.toString(),10)].parent=void 0,this.gridCollection[parseInt(oe.toString(),10)][parseInt(Q.toString(),10)].previousDistance=this.gridCollection[parseInt(oe.toString(),10)][parseInt(Q.toString(),10)].afterDistance=void 0,this.gridCollection[parseInt(oe.toString(),10)][parseInt(Q.toString(),10)].totalDistance=void 0;for(l=this.findEndPoint(e,!0),h=this.findEndPoint(e,!1),Q=0;Q<this.noOfRows;Q++)for(oe=0;oe<this.noOfCols;oe++){d=this.gridCollection[parseInt(Q.toString(),10)][parseInt(oe.toString(),10)];var Me,de=new Xi(d.x,d.y,d.width,d.height);de.containsPoint(l)&&!this.startGrid&&(-1!==d.nodeId.indexOf(n)||""===n)&&(this.startGrid=d),de.containsPoint(h)&&!this.targetGrid&&(-1!==d.nodeId.indexOf(s)||""===s)&&(this.targetGrid=d),!o&&this.startNode&&(de.containsPoint((Me=this.startNode.wrapper.bounds).topCenter)&&!p&&(p=d),de.containsPoint(Me.middleLeft)&&!M&&(M=d),de.containsPoint(Me.middleRight)&&!T&&(T=d),de.containsPoint(Me.bottomCenter)&&!f&&(f=d)),!a&&this.targetNode&&(de.containsPoint((Me=this.targetNode.wrapper.bounds).topCenter)&&!U&&(U=d),de.containsPoint(Me.middleLeft)&&!X&&(X=d),de.containsPoint(Me.middleRight)&&!P&&(P=d),de.containsPoint({x:Me.bottomCenter.x,y:Me.bottomCenter.y})&&!Y&&(Y=d))}this.findEdgeBoundary(o,M,T,p,f,!0),this.findEdgeBoundary(a,X,P,U,Y,!1),this.startGrid.totalDistance=0,this.startGrid.previousDistance=0,this.intermediatePoints.push({x:this.startGrid.gridX,y:this.startGrid.gridY}),this.startArray.push(this.startGrid),e&&X&&P&&U&&Y&&this.checkObstacles(e,t,X,P,U,Y);e:for(;this.startArray.length>0;){var Ve=this.startArray.pop();for(Q=0;Q<this.targetGridCollection.length;Q++){var Ce=this.targetGridCollection[parseInt(Q.toString(),10)];if(Ve.gridX===Ce.gridX&&Ve.gridY===Ce.gridY){if(this.getIntermediatePoints(Ve),this.updateConnectorSegments(t,this.intermediatePoints,this.gridCollection,e,i)){this.considerWalkable=[];break e}this.targetGridCollection.splice(this.targetGridCollection.indexOf(Ce),1),Ve=this.startArray.pop()}}this.findPath(Ve)}}},r.prototype.checkChildNodes=function(t,e){var i=!1,n=!1;if(t.nodeId.length>=1&&!e)for(var s=0;s<t.nodeId.length;s++){for(var o=t.nodeId[parseInt(s.toString(),10)],a=0;a<t.nodeId.length;a++)this.targetNode.parentId===t.nodeId[parseInt(a.toString(),10)]&&(n=!0);i=!n&&this.targetNode.id===o}else 1===t.nodeId.length&&(i=!0);return i},r.prototype.findEdgeBoundary=function(t,e,i,n,s,o){var a,l=o?this.sourceGridCollection:this.targetGridCollection;if(!t&&(o?this.startNode:this.targetNode)){for(var h=e.gridX;h<=i.gridX;h++)a=this.gridCollection[parseInt(h.toString(),10)][e.gridY],(this.checkChildNodes(a,o)&&(h===e.gridX||h===i.gridX)||h!==e.gridX&&h!==i.gridX)&&l.push(a);for(h=n.gridY;h<=s.gridY;h++)a=this.gridCollection[n.gridX][parseInt(h.toString(),10)],(this.checkChildNodes(a,o)&&(h===n.gridY||h===s.gridY)||h!==n.gridY&&h!==s.gridY)&&-1===l.indexOf(a)&&l.push(a)}else l.push(o?this.startGrid:this.targetGrid)},r.prototype.checkObstacles=function(t,e,i,n,s,o){var a=this.findNearestNeigbours(this.startGrid,this.gridCollection,!0);if(0===a.length)if(""!==t.sourcePortID){var h=Zu({x:t.sourcePortWrapper.offsetX,y:t.sourcePortWrapper.offsetY},void 0,t.sourceWrapper.bounds);this.resetGridColl(this.startGrid,"Top"===h?"top":"Right"===h?"right":"Bottom"===h?"bottom":"left",!0)}else this.resetGridColl(this.startGrid,"top",!0),this.resetGridColl(this.startGrid,"right",!0),this.resetGridColl(this.startGrid,"bottom",!0),this.resetGridColl(this.startGrid,"left",!0);if(0===(a=this.findNearestNeigbours(this.targetGrid,this.gridCollection,!1)).length&&(""!==t.targetPortID?(h=Zu({x:t.targetPortWrapper.offsetX,y:t.targetPortWrapper.offsetY},void 0,t.targetWrapper.bounds),this.resetGridColl(this.targetGrid,"Top"===h?"top":"Right"===h?"right":"Bottom"===h?"bottom":"left",!0)):(this.resetGridColl(this.targetGrid,"top",!1),this.resetGridColl(this.targetGrid,"right",!1),this.resetGridColl(this.targetGrid,"bottom",!1),this.resetGridColl(this.targetGrid,"left",!1))),this.targetGridCollection.length>0&&this.targetGridCollection[0].nodeId.length>1)for(var c=0;c<=1;c++){for(var u=this.targetGridCollection[parseInt(c.toString(),10)].gridX,d=this.targetGridCollection[parseInt(c.toString(),10)].gridY,p=this.targetGridCollection[parseInt(c.toString(),10)].nodeId,f=void 0,m=0;m<p.length;m++)if(this.targetNode.id!==p[parseInt(m.toString(),10)]){f=p[parseInt(m.toString(),10)];break}var M=void 0,T=void 0,P=void 0;e.nameTable[this.targetNode.id]&&(M=e.nameTable[this.targetNode.id].wrapper),e.nameTable[""+f]&&(T=e.nameTable[""+f].wrapper),M&&T&&(P=this.contains(T.bounds,M.bounds));for(var U=void 0,Y=0;Y<p.length;Y++)this.targetNode.parentId===p[parseInt(Y.toString(),10)]&&(U=!0);if(!this.gridCollection[parseInt(u.toString(),10)][parseInt(d.toString(),10)].walkable&&P&&!U){var X=void 0;X=this.getEndvalue(i,"left"),this.changeValue(i,i.gridX-X.gridX,"left"),X=this.getEndvalue(n,"right"),this.changeValue(n,X.gridX-n.gridX,"right"),X=this.getEndvalue(s,"top"),this.changeValue(s,s.gridY-X.gridY,"top"),X=this.getEndvalue(o,"bottom"),this.changeValue(o,o.gridY-X.gridY,"top")}}},r.prototype.contains=function(t,e){return t.left<=e.left&&t.right>=e.right&&t.top<=e.top&&t.bottom>=e.bottom},r.prototype.getEndvalue=function(t,e){return this.gridCollection[t.gridX][t.gridY].walkable?t:"left"===e?this.getEndvalue(this.gridCollection[t.gridX-1][t.gridY],e):"right"===e?this.getEndvalue(this.gridCollection[t.gridX+1][t.gridY],e):"top"===e?this.getEndvalue(this.gridCollection[t.gridX][t.gridY-1],e):"bottom"===e?this.getEndvalue(this.gridCollection[t.gridX][t.gridY+1],e):t},r.prototype.changeValue=function(t,e,i){t.walkable||this.considerWalkable.push(t);for(var n,s=0;s<=e;s++)"left"===i?n=this.gridCollection[t.gridX-s][t.gridY]:"right"===i?n=this.gridCollection[t.gridX+s][t.gridY]:"top"===i?n=this.gridCollection[t.gridX][t.gridY-s]:"bottom"===i&&(n=this.gridCollection[t.gridX][t.gridY+s]),n.walkable||this.considerWalkable.push(n)},r.prototype.getIntermediatePoints=function(t){var e;for(this.intermediatePoints=[];t;)this.intermediatePoints.push({x:t.gridX,y:t.gridY}),t=t.parent;this.intermediatePoints.reverse(),this.intermediatePoints.length>=1&&(this.intermediatePoints[0].x===this.intermediatePoints[1].x?this.intermediatePoints[0].y<this.intermediatePoints[1].y?(e=this.neigbour(this.startGrid,"bottom",void 0,!0),this.intermediatePoints[0].y+=e-1):(e=this.neigbour(this.startGrid,"top",void 0,!0),this.intermediatePoints[0].y-=e-1):this.intermediatePoints[0].x<this.intermediatePoints[1].x?(e=this.neigbour(this.startGrid,"right",void 0,!0),this.intermediatePoints[0].x+=e-1):(e=this.neigbour(this.startGrid,"left",void 0,!0),this.intermediatePoints[0].x-=e-1))},r.prototype.updateConnectorSegments=function(t,e,i,n,s){var l,u,p,f,m,M,o=[],d=[],T=n.targetWrapper,P=n.sourceWrapper,U=this.findEndPoint(n,!0);(""!==n.targetPortID||!n.targetWrapper)&&(l=this.findEndPoint(n,!1,!0));for(var Y=0;Y<e.length;Y++)u=i[e[parseInt(Y.toString(),10)].x][e[parseInt(Y.toString(),10)].y],d.push({x:u.x+u.width/2,y:u.y+u.height/2}),Y>=1&&(m=d[d.length-2].x!==d[d.length-1].x?d[d.length-2].x>d[d.length-1].x?"Left":"Right":d[d.length-2].y>d[d.length-1].y?"Top":"Bottom"),Y>=2&&M===m&&d.splice(d.length-2,1),M=m;for(var X=0;X<d.length-1;X++)d[parseInt(X.toString(),10)].x!==d[X+1].x?(0===X&&""===n.sourcePortID&&P&&(U=d[parseInt(X.toString(),10)].x>d[X+1].x?P.bounds.middleLeft:P.bounds.middleRight),X===d.length-2&&""===n.targetPortID&&T&&(l=d[parseInt(X.toString(),10)].x>d[X+1].x?T.bounds.middleRight:T.bounds.middleLeft),0===X&&U&&(d[parseInt(X.toString(),10)].x=U.x,d[parseInt(X.toString(),10)].y=d[X+1].y=U.y),X===d.length-2&&l&&(l.x-d[X+1].x<0&&Math.abs(l.x-d[parseInt(X.toString(),10)].x)<n.targetDecorator.width+1&&(d[parseInt(X.toString(),10)].x=d[X-1].x-=this.size/2),l.x-d[X+1].x>0&&Math.abs(l.x-d[parseInt(X.toString(),10)].x)<n.targetDecorator.width+1&&(d[parseInt(X.toString(),10)].x=d[X-1].x+=this.size/2),d[X+1].x=l.x,d[parseInt(X.toString(),10)].y=d[X+1].y=l.y)):(0===X&&P&&(U=d[parseInt(X.toString(),10)].y>d[X+1].y?P.bounds.topCenter:P.bounds.bottomCenter),X===d.length-2&&""===n.targetPortID&&T&&(l=d[parseInt(X.toString(),10)].y>d[X+1].y?T.bounds.bottomCenter:T.bounds.topCenter),0===X&&U&&(d[parseInt(X.toString(),10)].y=U.y,d[parseInt(X.toString(),10)].x=d[X+1].x=U.x),X===d.length-2&&l&&(l.y-d[X+1].y<0&&Math.abs(l.y-d[parseInt(X.toString(),10)].y)<n.targetDecorator.height+1&&(d[parseInt(X.toString(),10)].y=d[X-1].y-=this.size/2),l.y-d[X+1].y>0&&Math.abs(l.y-d[parseInt(X.toString(),10)].y)<n.targetDecorator.width+1&&(d[parseInt(X.toString(),10)].y=d[X-1].y+=this.size/2),d[X+1].y=l.y,d[parseInt(X.toString(),10)].x=d[X+1].x=l.x));for(X=0;X<d.length-1;X++)d[parseInt(X.toString(),10)].x!==d[X+1].x?d[parseInt(X.toString(),10)].x>d[X+1].x?(p="Left",f=d[parseInt(X.toString(),10)].x-d[X+1].x):(p="Right",f=d[X+1].x-d[parseInt(X.toString(),10)].x):d[parseInt(X.toString(),10)].y>d[X+1].y?(p="Top",f=d[parseInt(X.toString(),10)].y-d[X+1].y):(p="Bottom",f=d[X+1].y-d[parseInt(X.toString(),10)].y),o.push({type:"Orthogonal",length:f,direction:p});var Q=o[o.length-1];return 1===o.length&&(Q.length-=20),Q.length<10&&2===o.length&&(o.pop(),o[0].length-=20,Q=o[0]),(("Top"===Q.direction||"Bottom"===Q.direction)&&Q.length>n.targetDecorator.height+1||("Right"===Q.direction||"Left"===Q.direction)&&Q.length>n.targetDecorator.width+1)&&(n.segments=o,s&&t.connectorPropertyChange(n,{},{type:"Orthogonal",segments:o}),!0)},r.prototype.findPath=function(t){for(var e,i=[],n=this.findNearestNeigbours(t,this.gridCollection,!0),s=0;s<n.length;s++)if(null!==(e=this.findIntermediatePoints(n[parseInt(s.toString(),10)].gridX,n[parseInt(s.toString(),10)].gridY,t.gridX,t.gridY,this.targetGrid.gridX,this.targetGrid.gridY))){var o=this.gridCollection[e.x][e.y],a=this.octile(Math.abs(e.x-t.gridX),Math.abs(e.y-t.gridY)),l=t.previousDistance+a;(!o.previousDistance||o.previousDistance>l)&&(e.x!==t.gridX||e.y!==t.gridY)&&(i.push(e),o.previousDistance=l,o.afterDistance=o.afterDistance||this.manhattan(Math.abs(e.x-this.targetGrid.gridX),Math.abs(e.y-this.targetGrid.gridY)),o.totalDistance=o.previousDistance+o.afterDistance,o.parent=t)}if(i.length>0)for(s=0;s<i.length;s++)o=this.gridCollection[i[parseInt(s.toString(),10)].x][i[parseInt(s.toString(),10)].y],-1===this.startArray.indexOf(o)&&this.startArray.push(o);this.sorting(this.startArray)},r.prototype.sorting=function(t){for(var e=!1;!e;){e=!0;for(var i=1;i<t.length;i+=1)if(t[i-1].totalDistance<t[parseInt(i.toString(),10)].totalDistance){e=!1;var n=t[i-1];t[i-1]=t[parseInt(i.toString(),10)],t[parseInt(i.toString(),10)]=n}}return t},r.prototype.octile=function(t,e){var i=Math.SQRT2-1;return e>t?i*t+e:i*e+t},r.prototype.manhattan=function(t,e){return t+e},r.prototype.findNearestNeigbours=function(t,e,i){var n=[],s=t.parent;if(s){var o=(t.gridX-s.gridX)/Math.max(Math.abs(t.gridX-s.gridX),1),a=(t.gridY-s.gridY)/Math.max(Math.abs(t.gridY-s.gridY),1);0!==o?(this.isWalkable(t.gridX,t.gridY-1,!0)&&-1===this.sourceGridCollection.indexOf(e[t.gridX][t.gridY-1])&&n.push(e[t.gridX][t.gridY-1]),this.isWalkable(t.gridX,t.gridY+1,!0)&&this.sourceGridCollection.indexOf(e[t.gridX][t.gridY+1])&&n.push(e[t.gridX][t.gridY+1]),this.isWalkable(t.gridX+o,t.gridY,!0)&&-1===this.sourceGridCollection.indexOf(e[t.gridX+o][t.gridY])&&n.push(e[t.gridX+o][t.gridY])):0!==a&&(this.isWalkable(t.gridX-1,t.gridY,!0)&&-1===this.sourceGridCollection.indexOf(e[t.gridX-1][t.gridY])&&n.push(e[t.gridX-1][t.gridY]),this.isWalkable(t.gridX+1,t.gridY,!0)&&-1===this.sourceGridCollection.indexOf(e[t.gridX+1][t.gridY])&&n.push(e[t.gridX+1][t.gridY]),this.isWalkable(t.gridX,t.gridY+a,!0)&&-1===this.sourceGridCollection.indexOf(e[t.gridX][t.gridY+a])&&n.push(e[t.gridX][t.gridY+a]))}else this.neigbour(t,"top",n,i),this.neigbour(t,"right",n,i),this.neigbour(t,"bottom",n,i),this.neigbour(t,"left",n,i);return n},r.prototype.neigbour=function(t,e,i,n){for(var o,s=1;s>0;){var a="top"===e||"bottom"===e?t.gridX:"left"===e?t.gridX-s:t.gridX+s,l="right"===e||"left"===e?t.gridY:"top"===e?t.gridY-s:t.gridY+s;if((o=this.gridCollection[parseInt(a.toString(),10)][parseInt(l.toString(),10)])&&(n&&-1===this.sourceGridCollection.indexOf(o)||!n&&-1===this.targetGridCollection.indexOf(o)))return i&&this.isWalkable(a,l)&&i.push(o),s;if(!(a>0&&l>0))break;s++}return null},r.prototype.resetGridColl=function(t,e,i){for(var s,n=1;n>0;){var o="top"===e||"bottom"===e?t.gridX:"left"===e?t.gridX-n:t.gridX+n,a="right"===e||"left"===e?t.gridY:"top"===e?t.gridY-n:t.gridY+n;if((s=this.gridCollection[parseInt(o.toString(),10)][parseInt(a.toString(),10)])&&(i&&-1===this.sourceGridCollection.indexOf(s)||!i&&-1===this.targetGridCollection.indexOf(s))){if(this.isWalkable(o,a))break;var l=this.gridCollection[parseInt(o.toString(),10)][parseInt(a.toString(),10)];this.considerWalkable.push(l)}if(!(o>0&&a>0))break;"top"===e||"left"===e?n--:n++}return null},r.prototype.isWalkable=function(t,e,i){if(t>=0&&t<this.noOfRows&&e>=0&&e<this.noOfCols){var n=this.gridCollection[parseInt(t.toString(),10)][parseInt(e.toString(),10)];if(n&&(n.walkable||(1===n.nodeId.length||2===n.nodeId.length&&n.parentNodeId||-1!==this.considerWalkable.indexOf(n))&&(-1!==this.sourceGridCollection.indexOf(n)||-1!==this.targetGridCollection.indexOf(n)||-1!==this.considerWalkable.indexOf(n)))&&(i&&!n.parent||!i))return!0}return!1},r.prototype.findIntermediatePoints=function(t,e,i,n,s,o){for(var a=t-i,l=e-n,h=t,c=e,u=0;u<this.targetGridCollection.length;u++)if(t===this.targetGridCollection[parseInt(u.toString(),10)].gridX&&e===this.targetGridCollection[parseInt(u.toString(),10)].gridY)return{x:t,y:e};if(!this.isWalkable(t,e))return null;var d=this.gridCollection[parseInt(t.toString(),10)][parseInt(e.toString(),10)];if(d.tested)return{x:t,y:e};if(d.tested=!0,0!==a&&(a=a>0?1:-1,this.isWalkable(h,c-1)&&!this.isWalkable(h-a,c-1)||this.isWalkable(h,c+1)&&!this.isWalkable(h-a,c+1)))return{x:t,y:e};if(0!==l){if(l=l>0?1:-1,this.isWalkable(h-1,c)&&!this.isWalkable(h-1,c-l)||this.isWalkable(h+1,c)&&!this.isWalkable(h+1,c-l))return{x:t,y:e};if(this.findIntermediatePoints(h+1,c,h,c,s,o)||this.findIntermediatePoints(h-1,c,h,c,s,o))return{x:t,y:e}}return this.findIntermediatePoints(h+a,c+l,h,c,s,o)},r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"LineRouting"},r}(),h0e=function(){function r(){}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"LineDistribution"},r.prototype.initLineDistribution=function(t,e){var i="Bottom";if(this.diagram=e,"DifferentPoint"===e.layout.connectionPointOrigin||e.layout.enableRouting){var n="Top";"BottomToTop"===t.orientation?(i="Top",n="Bottom"):"RightToLeft"===t.orientation?(i="Left",n="Right"):"LeftToRight"===t.orientation&&(i="Right",n="Left");var s=e.nodes;if(s.length>0)for(var o=0;o<s.length;o++){var a=e.nameTable[s[parseInt(o.toString(),10)].id];this.addDynamicPortandDistrrbuteLine(t,a,i,n,e)}}},r.prototype.ObstacleSegment=function(t){return t.direction=S4(t.startpt,t.endpt),t.distance=Be.findLength(t.startpt,t.endpt),t.orientation="Left"===t.direction||"Right"===t.direction?"horizontal":"vertical",t.id=t.id,"horizontal"===t.orientation?(t.coord=t.startpt.y,"Left"===t.direction?(t.start=t.endpt.x,t.end=t.startpt.x):(t.start=t.startpt.x,t.end=t.endpt.x)):(t.coord=t.startpt.x,"Top"===t.direction?(t.start=t.endpt.y,t.end=t.startpt.y):(t.start=t.startpt.y,t.end=t.endpt.y)),t},r.prototype.distributeLines=function(t,e){for(var i="LeftToRight"===t.orientation||"RightToLeft"===t.orientation,o="obstaclePointCollection",l=(i?t.horizontalSpacing:t.verticalSpacing)-8-10,h=[],c=[],u=e.connectors,d=0;d<u.length;d++){for(var p=u[parseInt(d.toString(),10)],f=[],m=0;m<p.segments.length;m++)for(var M=p.segments[parseInt(m.toString(),10)],T=0;T<M.points.length;T++){var P=M.points[parseInt(T.toString(),10)];(0===f.length||!Be.equals(P,f[f.length-1]))&&f.push(P)}for(var U=[],Y=1;Y<f.length;Y++){var X=this.ObstacleSegment({startpt:f[Y-1],endpt:f[parseInt(Y.toString(),10)],id:p.id});U.push(X)}var Q={wrapper:p,segments:U},oe=[];if(i)for(m=0;m<Q.segments.length;m++)"vertical"===(X=Q.segments[parseInt(m.toString(),10)]).orientation&&oe.push(X);else for(m=0;m<Q.segments.length;m++)"horizontal"===(X=Q.segments[parseInt(m.toString(),10)]).orientation&&oe.push(X);for(Y=0;Y<oe.length;Y++){var de=oe[parseInt(Y.toString(),10)];this.containsValue(h,de.coord)||h.push({key:de.coord,value:[]});var Me=void 0;for(T=0;T<h.length;T++)if(m=h[parseInt(T.toString(),10)].key,Number(m)===de.coord){Me=T;break}h[parseInt(Me.toString(),10)].value.push(de)}c.push(Q)}for(var Ve=[],Ce=0;Ce<h.length;Ce++){var ze=h[parseInt(Ce.toString(),10)],Ie=ze.value;Ie.sort();var pe=void 0;pe=[],Me=0;var Pe=Number.MIN_VALUE;pe.push([]);for(var Qe=0;Qe<Ie.length;Qe++)de=Ie[parseInt(Qe.toString(),10)],!(pe[parseInt(Me.toString(),10)].length>0)||Pe>=de.start?(pe[parseInt(Me.toString(),10)].push(de),Pe=Math.max(Pe,pe[parseInt(Me.toString(),10)][pe[parseInt(Me.toString(),10)].length-1].end)):(Me++,pe.push([]),pe[parseInt(Me.toString(),10)].push(de),Pe=pe[parseInt(Me.toString(),10)][pe[parseInt(Me.toString(),10)].length-1].end);for(Qe=0;Qe<pe.length;Qe++){var Oe=pe[parseInt(Qe.toString(),10)],Ye=[];for(Y=0;Y<Oe.length;Y++)(ut=Oe[parseInt(Y.toString(),10)]).start&&Ye.push(ut);var Xt=i?"Bottom":"Right",ni=[];for(Y=0;Y<Ye.length;Y++)(ut=Ye[parseInt(Y.toString(),10)]).direction===Xt&&ni.push(ut);var ui=[];for(Y=0;Y<Ye.length;Y++){var ut;(ut=Ye[parseInt(Y.toString(),10)]).direction!==Xt&&ui.push(ut)}var Pi=[];if(ni.length>0){var Di=ni[0].start;for(Y=0;Y<ui.length;)ui[parseInt(Y.toString(),10)].end>Di?(Pi.push(ui[parseInt(Y.toString(),10)]),ui.splice(Y,1)):Y++}var Fi=[];Fi=this.updateSegmentRow(Pi,Fi);var Mi=[];Mi=this.updateSegmentRow(ui,Mi=[]),ni.reverse(),Mi=this.updateSegmentRow(ni,Mi),Fi[Fi.length-1].length>0||Fi.splice(Fi.length-1,1),Mi[Mi.length-1].length>0||Mi.splice(Mi.length-1,1);var hn=[];if(Pi.length>0&&(Ye[0].direction===Pi[0].direction||Ye[Ye.length-1].direction===Pi[Pi.length-1].direction)){hn=Mi;for(var Dn=0;Dn<Fi.length;Dn++){var st=Fi[parseInt(Dn.toString(),10)];hn[hn.length]=st}}else for(hn=Fi,Dn=0;Dn<Mi.length;Dn++)st=Mi[parseInt(Dn.toString(),10)],hn[hn.length]=st;if(hn.length>1){var yt=1;("BottomToTop"===t.orientation||"RightToLeft"===t.orientation)&&(yt=-1);var mi=ze.key-yt*l/2,qi=l/hn.length;for(d=0;d<hn.length;d++){var pn=mi+d*qi*yt;for(Dn=0;Dn<hn[parseInt(d.toString(),10)].length;Dn++){(de=hn[parseInt(d.toString(),10)][parseInt(Dn.toString(),10)]).coord=pn,this.containsValue(Ve,de.coord)||Ve.push({key:de.coord,value:[]});var on=void 0;for(T=0;T<Ve.length;T++)if(Ve[parseInt(T.toString(),10)].key===de.coord){on=T;break}Ve[parseInt(on.toString(),10)].value.push(de)}}}}}for(Ce=0;Ce<c.length;Ce++){for(Q=c[parseInt(Ce.toString(),10)],f=[],d=0;d<Q.segments.length;d++)0===d?f.push(this.getObstacleStartPoint(Q.segments[parseInt(d.toString(),10)])):i?"vertical"===Q.segments[parseInt(d.toString(),10)].orientation&&(f[f.length-1]=this.getObstacleStartPoint(Q.segments[parseInt(d.toString(),10)])):i||"horizontal"===Q.segments[parseInt(d.toString(),10)].orientation&&(f[f.length-1]=this.getObstacleStartPoint(Q.segments[parseInt(d.toString(),10)])),f.push(this.getObstacleEndPoint(Q.segments[parseInt(d.toString(),10)]));for(Q.wrapper[""+o]=[],Y=0;Y<f.length;Y++){var vc=f[parseInt(Y.toString(),10)];(0===Y||Y>0&&!Be.equals(vc,f[Y-1]))&&Q.wrapper[""+o].push(this.getPointvalue(vc.x,vc.y))}"Orthogonal"===Q.wrapper&&this.resetConnectorPoints(Q.wrapper,e)}},r.prototype.inflate=function(t,e,i){return t.x-=e,t.y-=i,t.width+=2*e,t.height+=2*i,t},r.prototype.updateConnectorPoints=function(t,e,i,n,s){var o=n,a="LeftToRight"===s||"RightToLeft"===s,l=t;if(l.length>2){var h=Be.transform(l[0],Be.findAngle(l[0],l[1]),e),c=Be.transform(h,Be.findAngle(l[1],l[2]),Be.findLength(l[1],l[2]));if(l.splice(1,2,h,c),null!=i){var d=l.length,p=Be.transform(l[d-1],Be.findAngle(l[d-1],l[d-2]),e);for(l.splice(d-1,0,p);2<l.length-2;)l.splice(2,1);var f=i;this.inflate(o,o.width,o.height);var m=[];m[0]=this.getPointvalue(f.x,o.y),m[1]=this.getPointvalue(f.x,o.y+o.height);var M=[];M[0]=this.getPointvalue(o.x,l[1].y),M[1]=this.getPointvalue(o.x+o.width,l[1].y);var T=[];T[0]=this.getPointvalue(o.x,p.y),T[1]=this.getPointvalue(o.x+o.width,p.y),a&&(m[0]=this.getPointvalue(o.x,f.y),m[1]=this.getPointvalue(o.x+o.width,f.y),M[0]=this.getPointvalue(l[1].x,o.y),M[1]=this.getPointvalue(l[1].x,o.y+o.height),T[0]=this.getPointvalue(p.x,o.y),M[1]=this.getPointvalue(p.x,o.y+o.height));var P=[QL(m[0],m[1],M[0],M[1])],U=[QL(m[0],m[1],T[0],T[1])];U.length>0&&l.splice(2,0,U[0]),P.length>0&&l.splice(2,0,P[0])}}for(var Y=1;Y<l.length-1;)Be.equals(l[Y-1],l[parseInt(Y.toString(),10)])||Be.findAngle(l[Y-1],l[parseInt(Y.toString(),10)])===Be.findAngle(l[parseInt(Y.toString(),10)],l[Y+1])?l.splice(Y,1):Y++;return l},r.prototype.resetConnectorPoints=function(t,e){var i="obstaclePointCollection";if(t.segments[0].points&&t.segments[0].points.length>0&&t[""+i]){var n=t;n.sourcePoint=t[""+i][0],n.targetPoint=t[""+i][t[""+i].length-1];var s=void 0;s=[];for(var o=0;o<t[""+i].length-1;o++){var a=t[""+i][parseInt(o.toString(),10)],l=t[""+i][o+1],h=JL(a,l),c=S4(a,l);o===t[""+i].length-2&&("RightToLeft"===e.layout.orientation&&"Left"===c||"LeftToRight"===e.layout.orientation&&"Right"===c||"TopToBottom"===e.layout.orientation&&"Bottom"===c||"BottomToTop"===e.layout.orientation&&"Top"===c)&&(h/=2);var u=new Ts(t,"segments",{type:"Orthogonal"},!0);u.length=h,u.direction=c,s.push(u)}n.segments=s,n.type="Orthogonal",e.connectorPropertyChange(n,{},{type:"Orthogonal",segments:n.segments})}},r.prototype.getObstacleEndPoint=function(t){return"horizontal"===t.orientation?this.getPointvalue("Left"===t.direction?t.start:t.end,t.coord):this.getPointvalue(t.coord,"Top"===t.direction?t.start:t.end)},r.prototype.getObstacleStartPoint=function(t){return"horizontal"===t.orientation?this.getPointvalue("Left"===t.direction?t.end:t.start,t.coord):this.getPointvalue(t.coord,"Top"===t.direction?t.end:t.start)},r.prototype.updateSegmentRow=function(t,e){var i=0;e.length>0||(e[0]=[]);for(var n=0;n<t.length;n++)for(var s=t[parseInt(n.toString(),10)];i<e.length;){if(i===e.length-1&&(e[i+1]=[]),!(e[parseInt(i.toString(),10)].length>0)||e[parseInt(i.toString(),10)][e[parseInt(i.toString(),10)].length-1].end<s.start){e[parseInt(i.toString(),10)].push(s);break}i++}return e},r.prototype.portOffsetCalculation=function(t,e,i,n){"Top"===i&&(t.offset={x:(n+1)*(1/(e+1)),y:0}),"Bottom"===i&&(t.offset={x:(n+1)*(1/(e+1)),y:1}),"Left"===i&&(t.offset={x:0,y:(n+1)*(1/(e+1))}),"Right"===i&&(t.offset={x:1,y:(n+1)*(1/(e+1))})},r.prototype.addDynamicPortandDistrrbuteLine=function(t,e,i,n,s){e.ports&&e.ports.length>0&&s.removePorts(e,e.ports);var h=e.inEdges;this.initPort(e.outEdges,s,e,i,!1),this.initPort(h,s,e,n,!0)},r.prototype.initPort=function(t,e,i,n,s){t.length>1&&s&&(t=this.sortObjects(t,s,e));for(var l=0;l<=t.length-1;l++){var h=e.nameTable[t[parseInt(l.toString(),10)]];h.obstaclePointCollection=[];var c=y4(i,s?h.targetPortID:h.sourcePortID),u=n;void 0===c&&((c=new ac(i,"ports","",!0)).id=kn()+"_LineDistribution",s?h.targetPortID=c.id:h.sourcePortID=c.id),this.portOffsetCalculation(c,t.length,u,l),i.ports.push(c);var d=i.initPortWrapper(i.ports[i.ports.length-1]);i.wrapper.children.push(d),i.wrapper.measure(new pi(i.width,i.height),i.id),i.wrapper.arrange(i.wrapper.desiredSize),e.connectorPropertyChange(h,s?{targetPortID:""}:{sourcePortID:""},s?{targetPortID:c.id}:{sourcePortID:c.id})}},r.prototype.sortObjects=function(t,e,i){for(var n,s=0;s<t.length;s++)for(var o=s+1;o<t.length;o++){var a=i.nameTable[t[parseInt(s.toString(),10)]],l=i.nameTable[t[parseInt(o.toString(),10)]];if(e){var h=i.nameTable[a.sourceID],c=i.nameTable[l.sourceID];"LeftToRight"===i.layout.orientation||"RightToLeft"===i.layout.orientation?h.offsetY>c.offsetY&&(n=t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)]=t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)]=n):h.offsetX>c.offsetX&&(n=t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)]=t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)]=n)}}return t},r.prototype.shiftMatrixCells=function(t,e,i,n,s){if(0!==t){for(var a=s.matrix[e.level].value,l=a.indexOf(e),h=l;h<a.length;h++)a[parseInt(h.toString(),10)].offset+=t;if(i)if(e.visitedChildren.length>0)this.shiftMatrixCells(t,e.visitedChildren[0],!0,e,s);else{h=1;for(var c=null;l+h<a.length;){var u=a[l+h];if(null!=n&&this.containsValue(u.visitedParents,n)){if(!(u.visitedChildren.length>0)){h++;continue}c=u}break}null!=c&&this.shiftMatrixCells(t,c.visitedChildren[0],!0,c,s)}}},r.prototype.arrangeMatrix=function(t,e,i){var n=i.model.layout,o="LeftToRight"===n.orientation||"RightToLeft"===n.orientation?n.verticalSpacing:n.horizontalSpacing,l=i.matrix[t.level].value,h=l.indexOf(t);if(t.visitedParents.length>0&&(1===t.visitedParents.length&&(t.initialOffset=t.offset),h+1<l.length)&&l[h+1].visitedParents.length>0&&!this.containsValue(t.visitedParents,e))return t.visitedParents.push(e),void e.ignoredChildren.push(t);if(t.children.length>0){for(var p=0;p<t.children.length;p++){var f=t.children[parseInt(p.toString(),10)];this.containsValue(t.visitedChildren,f)||(this.arrangeMatrix(f,t,i),t.visitedChildren.push(f))}if(t.visitedChildren.length>0){var m=t.visitedChildren.slice();for(p=0;p<t.ignoredChildren.length;p++)m.splice(0,1),t.visitedChildren.splice(0,1);if(m.length>0){var M=t.visitedChildren[0],T=t.visitedChildren[t.visitedChildren.length-1],Y=(M.offset-M.size/2+(T.offset+T.size/2))/2;Y<t.offset?this.shiftMatrixCells(t.offset-Y,M,!0,t,i):Y>t.offset&&this.shiftMatrixCells(Y-t.offset,t,!1,null,i)}}}else{var u=t.offset;if(h>0){var d=l[h-1];u=d.offset+d.size/2+o+t.size/2}this.shiftMatrixCells(u-t.offset,t,!1,null,i)}this.containsValue(t.visitedParents,e)||t.visitedParents.push(e)},r.prototype.getFixedTerminalPoint=function(){return null},r.prototype.setAbsoluteTerminalPoint=function(t,e,i){var n="absolutePoints";e?(null==i[""+n]&&(i[""+n]=[]),0===i[""+n].length?i[""+n].push(t):i[""+n][0]=t):null==i[""+n]?(i[""+n]=[],i[""+n].push(null),i[""+n].push(t)):1===i[""+n].length?i[""+n].push(t):i[""+n][i[""+n].length-1]=t},r.prototype.updateFixedTerminalPoint=function(t,e){this.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(),e,t)},r.prototype.updateFixedTerminalPoints=function(t,e){this.updateFixedTerminalPoint(t,!0),this.updateFixedTerminalPoint(t,!1)},r.prototype.updatePoints=function(t,e){var i="absolutePoints";if(null!=t){var n=[];n.push(t[""+i][0]);for(var s=0;s<e.length;s++)if(null!=e[parseInt(s.toString(),10)]){var o=e[parseInt(s.toString(),10)];n.push(o)}var a=t[""+i];n.push(a[a.length-1]),t[""+i]=n}},r.prototype.updateFloatingTerminalPoint=function(t,e,i,n){this.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(t,e,i,n),n,t)},r.prototype.getNextPoint=function(t,e,i){var s=t.absolutePoints,o=null;if(null!=s&&s.length>=2){var a=s.length;o=s[i?Math.min(1,a-1):Math.max(0,a-2)]}return o},r.prototype.getCenterX=function(t){return t.offsetX?t.offsetX+t.width:t.x+t.width},r.prototype.getCenterY=function(t){return t.offsetY?t.offsetY+t.height:t.y+t.height},r.prototype.getPerimeterBounds=function(t){return t.wrapper.outerBounds},r.prototype.getPerimeterFunction=function(t,e,i){var n=this.getCenterX(t),s=this.getCenterY(t),l=Math.atan2(e.y-s,e.x-n),h=this.getPointvalue(0,0),c=Math.PI,d=Math.PI/2-l,p=Math.atan2(t.height,t.width);return l<-c+p||l>c-p?(h.x=t.x,h.y=s-t.width*Math.tan(l)/2):l<-p?(h.y=t.y,h.x=n-t.height*Math.tan(d)/2):l<p?(h.x=t.x+t.width,h.y=s+t.width*Math.tan(l)/2):(h.y=t.y+t.height,h.x=n+t.height*Math.tan(d)/2),i&&(e.x>=t.x&&e.x<=t.x+t.width?h.x=e.x:e.y>=t.y&&e.y<=t.y+t.height&&(h.y=e.y),e.x<t.x?h.x=t.x:e.x>t.x+t.width&&(h.x=t.x+t.width),e.y<t.y?h.y=t.y:e.y>t.y+t.height&&(h.y=t.y+t.height)),h},r.prototype.getPerimeterPoint=function(t,e,i){var n=null;if(null!=t&&null!=e){var s=this.getPerimeterBounds(t);(s.width>0||s.height>0)&&(n=this.getPointvalue(e.x,e.y),n=this.getPerimeterFunction(s,n,i))}return n},r.prototype.getFloatingTerminalPoint=function(t,e,i,n){var s=this.getNextPoint(t,i,n);return this.getPerimeterPoint(e,s,1)},r.prototype.updateFloatingTerminalPoints=function(t,e,i){var s=t.absolutePoints,o=s[0];null==s[s.length-1]&&null!=i&&this.updateFloatingTerminalPoint(t,i,e,!1),null==o&&null!=e&&this.updateFloatingTerminalPoint(t,e,i,!0)},r.prototype.getConnectorPoints=function(t,e){var i="absolutePoints";this.updateFixedTerminalPoints(t,e),this.updatePoints(t,t.geometry.points),this.updateFloatingTerminalPoints(t,e.nameTable[t.sourceID],e.nameTable[t.targetID]),t[""+i][0].y=t.sourcePoint.y,t[""+i][t[""+i].length-1].y=t.targetPoint.y},r.prototype.adjustSegmentPoints=function(t,e,i){if(("TopToBottom"===i.layout.orientation||"BottomToTop"===i.layout.orientation)&&(t[0].x=e[0].x,t[1].x=e[1].x,t[t.length-1].x=e[e.length-1].x,t[t.length-2].x=e[e.length-2].x,"TopToBottom"===i.layout.orientation?(t[t.length-2].y=t[t.length-1].y-i.layout.verticalSpacing/2,t[1].y=t[0].y+i.layout.verticalSpacing/2):(t[1].y=t[0].y-i.layout.verticalSpacing/2,t[t.length-2].y=t[t.length-1].y+i.layout.verticalSpacing/2),t[2].y=t[1].y,t[t.length-3].y=t[t.length-2].y),"RightToLeft"===i.layout.orientation||"LeftToRight"===i.layout.orientation){var n=JSON.parse(JSON.stringify(e));t[0]=n[0],t[1]=n[1],t[t.length-1]=n[n.length-1],t[t.length-2]=n[n.length-2],"RightToLeft"===i.layout.orientation&&(t[1].x=t[0].x-i.layout.verticalSpacing/2),"LeftToRight"===i.layout.orientation&&(t[1].x=t[0].x+i.layout.verticalSpacing/2),t[2].x=t[1].x,"RightToLeft"===i.layout.orientation&&(t[t.length-2].x=t[t.length-1].x+i.layout.verticalSpacing/2),"LeftToRight"===i.layout.orientation&&(t[t.length-2].x=t[t.length-1].x-i.layout.verticalSpacing/2),t[t.length-3].x=t[t.length-2].x}},r.prototype.updateConnectorSegmentPoints=function(t,e){if(t.length>1)if("TopToBottom"===e.layout.orientation||"BottomToTop"===e.layout.orientation)for(var i=1;i<t.length-1;i+=2)t[parseInt(i.toString(),10)].y!==t[i+1].y&&("TopToBottom"===e.layout.orientation||"BottomToTop"===e.layout.orientation)&&(t[i+1].y=t[parseInt(i.toString(),10)].y);else{var n=!1;for(i=t.length-1;i>1;i=i-=2)"RightToLeft"===e.layout.orientation||"LeftToRight"===e.layout.orientation?n?(t[i-2].x=t[i-1].x,n=!1):(t[i-1].x=t[i-2].x,n=!0):t[i+1].x=t[parseInt(i.toString(),10)].x}},r.prototype.updateConnectorSegmentPoint=function(t,e){for(var i="absolutePoints",n=[],s=0;s<t[""+i].length-1;s++){var o=t[""+i][parseInt(s.toString(),10)],a=t[""+i][s+1],l=JL(o,a),h=S4(o,a);s===t[""+i].length-2&&("TopToBottom"===e.layout.orientation&&"Bottom"===h||"RightToLeft"===e.layout.orientation&&"Left"===h||"LeftToRight"===e.layout.orientation&&"Right"===h||"BottomToTop"===e.layout.orientation&&"Top"===h)&&(l/=2);var c=new Ts(t,"segments",{type:"Orthogonal"},!0);c.length=l,c.direction=h,n.push(c)}t.segments=n,t.type="Orthogonal",e.connectorPropertyChange(t,{},{type:"Orthogonal",segments:t.segments})},r.prototype.resetConnectorSegments=function(t){for(var e=t.segments,i=e.length;i>1;i--)e.splice(i-1,1)},r.prototype.resetRoutingSegments=function(t,e,i){if(t.levelSkip){this.getConnectorPoints(t,e);var s=t.absolutePoints;this.updateConnectorSegmentPoints(s,e),this.adjustSegmentPoints(s,i,e),this.updateConnectorSegmentPoint(t,e)}},r.prototype.arrangeElements=function(t,e){var i=t.model.layout,s="LeftToRight"===e.orientation||"RightToLeft"===e.orientation?i.verticalSpacing:i.horizontalSpacing;this.groupLayoutCells(t),this.createMatrixCells(t);for(var o=0;o<t.matrix.length;o++)for(var a=t.matrix[parseInt(o.toString(),10)].key,l=t.matrix[parseInt(a.toString(),10)].value,h=1;h<l.length;h++){var c=l[parseInt(h.toString(),10)],u=l[h-1];c.offset+=u.offset+u.size/2+s+c.size/2}for(o=0;o<t.matrix[0].value.length;o++){var d=t.matrix[0].value[parseInt(o.toString(),10)];this.arrangeMatrix(d,null,t)}for(var p=0;p<t.matrix.length;p++){var f=t.matrix[parseInt(p.toString(),10)].value;for(h=0;h<f.length;h++)if((c=f[parseInt(h.toString(),10)]).visitedParents.length>1){var m=c.visitedParents[0],M=c.visitedParents[c.visitedParents.length-1],T=this.findParentVertexCellGroup(m),P=this.findParentVertexCellGroup(M);m!==T&&T.offset<m.offset&&(m=T),M!==P&&P.offset>M.offset&&(M=T);var U=(m.offset+M.offset)/2,Y=c.initialOffset,X=c.offset;X!==Y&&(U>=Y&&U<=X?this.translateMatrixCells(U-c.offset,c):U<Y&&this.translateMatrixCells(Y-c.offset,c))}}this.setXYforMatrixCell(t)},r.prototype.findParentVertexCellGroup=function(t){return t.cells[0]?t:t.parents.length>0?this.findParentVertexCellGroup(t.parents[0]):t},r.prototype.setXYforMatrixCell=function(t){for(var e=t.model.layout,i="LeftToRight"===e.orientation||"RightToLeft"===e.orientation,n=i?e.verticalSpacing:e.horizontalSpacing,s=0;s<t.matrix.length;s++)for(var o=t.matrix[parseInt(s.toString(),10)].value,a=0;a<o.length;a++)for(var l=o[parseInt(a.toString(),10)],h=l.offset-l.size/2,c=0;c<l.cells.length;c++){var u=l.cells[parseInt(c.toString(),10)],d=this.getType(u.type);if("internalVertex"===d){var f=u.cell.geometry.width,m=u.cell.geometry.height;u.cell.geometry=i?new Xi(t.rowOffset[l.level]-f/2,h,f,m):new Xi(h,t.rowOffset[l.level]-m/2,f,m),h+=(i?m:f)+n}else if("internalEdge"===d){var M=u,T=l.visitedParents[0];if(T)for(var P=0;P<T.visitedChildren.length;P++){for(var U=T.visitedChildren[parseInt(P.toString(),10)],Y=[],X=0;X<U.cells.length;X++){var Q=U.cells[parseInt(X.toString(),10)];"internalVertex"===this.getType(Q.type)&&Y.push(Q)}if(Y.length>0)break}for(X=0;X<M.edges.length;X++){var Ve=M.edges[parseInt(X.toString(),10)],Ce=this.getPointvalue(h+.5,t.rowOffset[l.level]);if(i&&(Ce=this.getPointvalue(t.rowOffset[l.level],h+.5)),this.containsValue(this.getEdgeMapper(),Ve)){var ze=void 0;for(P=0;P<this.getEdgeMapper().length;P++)if(this.getEdgeMapper()[parseInt(P.toString(),10)].key===Ve){ze=P;break}this.getEdgeMapper()[parseInt(ze.toString(),10)].value.push(Ce)}h+=6}h+=n}}},r.prototype.getEdgeMapper=function(){return this.edgeMapper},r.prototype.setEdgeMapper=function(t){this.edgeMapper.push(t)},r.prototype.translateMatrixCells=function(t,e){if(0!==t&&(e.offset+=t,e.visitedChildren.length>0))for(var i=0;i<e.visitedChildren.length;i++){var n=e.visitedChildren[parseInt(i.toString(),10)];this.translateMatrixCells(t,n)}},r.prototype.groupLayoutCells=function(t){for(var e=t.model.ranks,i=e.length-1;i>=0;i--){for(var n=[],s=0;s<e[parseInt(i.toString(),10)].length;s++){var o=e[parseInt(i.toString(),10)][parseInt(s.toString(),10)];"internalVertex"===this.getType(o.type)&&n.push(e[parseInt(i.toString(),10)][parseInt(s.toString(),10)])}for(var l=[],h=0;h<e[parseInt(i.toString(),10)].length;h++)o=e[parseInt(i.toString(),10)][parseInt(h.toString(),10)],"internalEdge"===this.getType(o.type)&&l.push(o);for(;n.length>1;){for(var c=n[0],u=this.selectIds(c.connectsAsTarget,!0),d=this.selectIds(c.connectsAsSource,!1);n.length>1;){var p=n[1],f=this.selectIds(p.connectsAsTarget,!0),m=this.selectIds(p.connectsAsSource,!1),M=this.compareLists(u,f),T=this.compareLists(d,m);if(!M||!T)break;this.updateMutualSharing(n[0],p.id),this.updateMutualSharing(n[1],c.id),n.splice(1,1)}n.splice(0,1)}for(;l.length>1;){var P=l[0],U=P.source,Y=P.target;if(null!=U.identicalSibiling){for(var X=[],Q=0;Q<l.length;Q++){var oe=l[parseInt(Q.toString(),10)];oe.target===Y&&X.push(oe)}for(Q=0;Q<X.length;Q++){var de=X[parseInt(Q.toString(),10)];this.containsValue(U.identicalSibiling,de.source.id)&&(de.source.identicalSibiling=null)}P.source.identicalSibiling=null}l.splice(0,1)}}},r.prototype.getType=function(t){return"internalVertex"===t?"internalVertex":"internalEdge"},r.prototype.selectIds=function(t,e){for(var i=[],n=0;n<t.length;n++){var s=t[parseInt(n.toString(),10)];i.push(e?s.source.id:s.target.id)}return i},r.prototype.compareLists=function(t,e){var i=t.slice(),n=e.slice();if(i.length===n.length){if(0===i.length)return!0;for(var s=!0,o=0;o<n.length;o++){var a=n[parseInt(o.toString(),10)];if(-1===i.indexOf(a)){s=!1;break}}return s}return!1},r.prototype.updateMutualSharing=function(t,e){null!=t.identicalSibiling||(t.identicalSibiling=[]),t.identicalSibiling.push(e)},r.prototype.matrixCellGroup=function(t){return t.level=t.level,t.parents=t.parents,t.children=t.children,t.visitedChildren=t.visitedChildren,t.visitedParents=t.visitedParents,t.ignoredChildren=t.ignoredChildren,t.cells=t.cells,t.offset=t.offset,t.initialOffset=t.initialOffset,t},r.prototype.getPointvalue=function(t,e){return{x:Number(t)||0,y:Number(e)||0}},r.prototype.containsValue=function(t,e){for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].key===e||t[parseInt(i.toString(),10)]===e)return!0;return!1},r.prototype.createMatrixCells=function(t){for(var e=t.model.layout,i="LeftToRight"===e.orientation||"RightToLeft"===e.orientation,n=i?e.verticalSpacing:e.horizontalSpacing,s=i?e.horizontalSpacing:e.verticalSpacing,o=t.model.ranks,a=[],l=-s,h=o.length-1;h>=0;h--){var c=0,u=o.length-1-h,d=o[parseInt(h.toString(),10)].slice(),p=[];t.matrix.push({key:u,value:p});var f=[];for(a.push({index:u,value:f});d.length>0;){var m=d[0],M=this.matrixCellGroup({level:u,parents:[],children:[],visitedParents:[],visitedChildren:[],ignoredChildren:[],cells:[],size:0,offset:0,initialOffset:0});p.push(M);var T=this.getType(m.type);if("internalVertex"===T){if(M.cells.push(m),null!=m.identicalSibiling)for(var P=0;P<d.length;P++){var U=d[parseInt(P.toString(),10)];if("internalVertex"===this.getType(U.type)&&this.containsValue(m.identicalSibiling,U.id)&&(M.cells.push(U),M.cells.length>m.identicalSibiling.length))break}for(P=0;P<M.cells.length;P++)if(U=M.cells[parseInt(P.toString(),10)],"internalVertex"===this.getType(U.type)){var Q=U.cell.geometry;if(M.size+=i?Q.height:Q.width,c=Math.max(c,i?Q.width:Q.height),f.push({key:U.id,value:M}),U.connectsAsTarget.length>0)for(var oe=0;oe<U.connectsAsTarget.length;oe++){var de=U.connectsAsTarget[parseInt(oe.toString(),10)],Me=null;if(this.containsValue(a[u-1].value,de.ids)?Me=de.ids:this.containsValue(a[u-1].value,de.source.id)&&(Me=de.source.id),null!=Me){for(var Ve=a[u-1].value,Ce=void 0,ze=0;ze<Ve.length;ze++)if(Ve[parseInt(ze.toString(),10)].key===Me){Ce=Ve[parseInt(ze.toString(),10)].value;break}this.containsValue(M.parents,Ce)||M.parents.push(Ce),this.containsValue(Ce.children,M)||Ce.children.push(M)}}d.reverse(),d.pop(),d.reverse()}M.size+=(M.cells.length-1)*n}else if("internalEdge"===T){for(M.cells.push(m),P=0;P<M.cells.length;P++){var Ie=M.cells[parseInt(P.toString(),10)];if("internalEdge"===this.getType(Ie.type)&&null!=Ie.edges){var Qe=-5;for(oe=0;oe<Ie.edges.length;oe++)Qe+=6;M.size+=Qe}if(f.push({key:Ie.ids,value:M}),Me=null,this.containsValue(a[u-1].value,Ie.ids)?Me=Ie.ids:this.containsValue(a[u-1].value,Ie.source.id)&&(Me=Ie.source.id),null!=Me){var Oe=a[u-1].value;for(Ce=void 0,ze=0;ze<Oe.length;ze++)if(Oe[parseInt(ze.toString(),10)].key===Me){Ce=Oe[parseInt(ze.toString(),10)].value;break}this.containsValue(M.parents,Ce)||M.parents.push(Ce),this.containsValue(Ce.children,M)||Ce.children.push(M)}d.reverse(),d.pop(),d.reverse()}M.size+=(M.cells.length-1)*n}}t.rowOffset.push(l+c/2+s),l+=c+s}},r.prototype.updateLayout=function(t,e,i,n,s,o){var a=(t.x-e.width)/2-e.x,l=(t.y-e.height)/2-e.y;a=Math.round(a),l=Math.round(l);for(var h=[],c=new Xi(e.x+a,e.y+l,e.width,e.height),u=i.margin,p="RightToLeft"===n.orientation||"LeftToRight"===n.orientation?n.horizontalSpacing:n.verticalSpacing,f=0;f<s.length;f++){var m=s[f];if(null!=m.outEdges&&m.outEdges.length>0)for(var M=m.outEdges.length,T=0;T<M;T++){if((P=o[m.outEdges[T]]).pointCollection=[],M>1){for(var U=p/2,Y=null,X=void 0,Q=this.getEdgeMapper(),oe=0;oe<Q.length;oe++)if(Q[oe].key===P){X=oe;break}if(Q[X].value.length>0){var de=Q[X].value[0],Me=de.x+u.left,Ve=de.y+u.top,Ce=Me,ze=Ve;"BottomToTop"===n.orientation?ze=e.height-Ve:"RightToLeft"===n.orientation&&(Ce=e.width-Me),Y=this.getPointvalue(Ce+=a,ze+=l)}for(var Ie=[],pe=0;pe<P.segments.length;pe++){var Pe=P.segments[pe].points;for(var Qe in Pe)Ie.push(Pe[Qe])}Ie=this.updateConnectorPoints(Ie,U,Y,c,n.orientation);for(var Oe=0;Oe<Ie.length;Oe++)P.pointCollection.push(this.getPointvalue((Pe=Ie[Oe]).x,Pe.y));this.resetConnectorPoints(P,this.diagram)}h.push(P)}if(null!=m.inEdges&&m.inEdges.length>1)for(M=m.inEdges.length,Q=this.getEdgeMapper(),T=0;T<M;T++){var P;if(this.containsValue(h,P=o[m.inEdges[T]])||(P.pointCollection=[]),M>1){for(U=p/2,Y=null,X=void 0,oe=void 0,oe=0;oe<Q.length;oe++)if(Q[oe].key===P){X=oe;break}if(Q[X].value.length>0&&!this.containsValue(h,P)){var Ye=Q[oe].value[0],ut=Ye.x+u.left,Xt=Ye.y+u.top;Ce=ut,ze=Xt,"BottomToTop"===n.orientation?ze=e.height-Xt:"RightToLeft"===n.orientation&&(Ce=e.width-ut),Y=this.getPointvalue(Ce+=a,ze+=l)}for(Ie=[],Oe=0;Oe<P.segments.length;Oe++)for(var Qe in Pe=P.segments[Oe].points)Ie.push(Pe[Qe]);for(Ie.reverse(),(Ie=this.updateConnectorPoints(Ie,U,Y,c,i.orientation)).reverse(),P.pointCollection=[],Oe=0;Oe<Ie.length;Oe++)P.pointCollection.push(this.getPointvalue((Pe=Ie[Oe]).x,Pe.y));this.resetConnectorPoints(P,this.diagram)}}}},r}(),cQ=function(){function r(){this.isAnimation=!1}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"OrganizationalChart"},r.prototype.updateLayout=function(t,e,i,n,s,o){var a={type:i.type,connectionPointOrigin:i.connectionPointOrigin,nameTable:e,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},orientation:i.orientation,horizontalSpacing:i.horizontalSpacing,verticalSpacing:i.verticalSpacing,verticalAlignment:i.verticalAlignment,horizontalAlignment:i.horizontalAlignment,fixedNode:i.fixedNode,getLayoutInfo:ho(i.getLayoutInfo),layoutInfo:i.layoutInfo,margin:i.margin,bounds:i.bounds,objects:[],root:i.root};return this.doLayout(a,t,n,s,o),a},r.prototype.doLayout=function(t,e,i,n,s){var o,a,h=[];for(t.nameTable[t.root]&&t.firstLevelNodes.push(t.nameTable[t.root]),a=0;a<e.length;a++)(o=e[parseInt(a.toString(),10)]).excludeFromLayout||((t.graphNodes[o.id]=this.setUpLayoutInfo(t,o)).tree.hasSubTree=!1,t.nameTable[t.root]||o.inEdges&&o.inEdges.length)||(!o.parentId&&!o.processId&&h.push(o),o.data&&String(o.data[""+n])===t.root&&t.firstLevelNodes.push(o));for(0===t.firstLevelNodes.length&&(t.firstLevelNodes=h),a=0;a<t.firstLevelNodes.length;a++)o=t.firstLevelNodes[parseInt(a.toString(),10)],this.updateEdges(t,o,1,s,e);if(t.firstLevelNodes.length>0){t.rootNode=t.firstLevelNodes[0];var d=0,p=0,f=void 0,m=void 0,M=void 0,T=void 0,P=void 0;for(a=0;a<t.firstLevelNodes.length;a++){P=this.updateTree(t,d,p,t.firstLevelNodes[parseInt(a.toString(),10)],0,t.firstLevelNodes[a-1]);var U=t.graphNodes[t.firstLevelNodes[parseInt(a.toString(),10)].id];P.y=Math.min(P.y,U.y),P.x=Math.min(P.x,U.x),-1!==t.orientation.indexOf("Left")?p=P.right+t.horizontalSpacing:d=P.right+t.horizontalSpacing,0===a?(f=P.x,T=P.y,M=P.right,m=P.bottom):(f=Math.min(f,P.x),T=Math.min(T,P.y),M=Math.max(M,P.right),m=Math.max(m,P.bottom))}for(this.updateAnchor(t,{x:f,y:T,right:M,bottom:m},i),a=0;a<t.firstLevelNodes.length;a++)this.updateNodes(t,t.firstLevelNodes[parseInt(a.toString(),10)],0);for(a=0;a<t.firstLevelNodes.length;a++)this.updateConnectors(t,t.firstLevelNodes[parseInt(a.toString(),10)],1)}},r.prototype.getBounds=function(t){return new Xi(t.offsetX-t.actualSize.width*t.pivot.x,t.offsetY-t.actualSize.height*t.pivot.y,t.actualSize.width,t.actualSize.height)},r.prototype.updateTree=function(t,e,i,n,s,o,a){var h,c,l={},u=this.getDimensions(t,n,e,i,s);l=t.graphNodes[n.id],t.maxLevel=Math.max(t.maxLevel,s),h=s;var d=this.hasChild(t,n);if(!d&&!l.tree.assistants.length)return n.treeBounds=this.updateLeafNode(t,n,o,u,s,a),n.treeBounds;var p=void 0,m=void 0,M=void 0,T=void 0,U=void 0;return U=u.y+u.height+t.verticalSpacing,l.tree.assistants.length&&(h=(c=this.setDepthSpaceForAssitants(t,n,U,u.height,s,t.verticalSpacing)).level,U=c.bottom),!l.tree.assistants.length&&"Horizontal"!==l.tree.orientation&&(U=u.y+u.height+t.verticalSpacing/2),l.tree.children.length&&(p="Horizontal"!==l.tree.orientation||"Balanced"===l.tree.type&&1!==l.tree.children.length?"Balanced"===l.tree.type?this.updateHorizontalTreeWithMultipleRows(t,n,o,u.x,U,h):this.updateVerticalTree(t,n,u.x,U,h,a):this.updateHorizontalTree(t,n,o,u.x,U,h)),l.y&&l.y>u.y||(l.y=u.y),l.mid&&(e=l.mid),l.tree.assistants.length&&(T=this.setBreadthSpaceForAssistants(t,n,u,void 0!==e?e:u.x,U,s),d||(e=((m=p=T).x+m.right)/2-u.width/2,p=m),M=T?T.canMoveBy:void 0),l.x=e,l.translate||(l.treeWidth=p.right-p.x),this.translateSubTree({layout:t,shape:n,shapeBounds:{x:e,y:u.y,right:e+u.width,bottom:u.y+u.height},treeBounds:p,dim:u,level:s},M,void 0!==o,a),l.firstChild&&"string"!=typeof l.firstChild&&(l.firstChild.x+=l.subTreeTranslation),n.treeBounds=p,p},r.prototype.updateLeafNode=function(t,e,i,n,s,o){var a=t.graphNodes[e.id];a.x=n.x,a.y&&a.y>n.y||(a.y=n.y,a.maxLevel=Math.max(s,a.maxLevel||0));var l={x:n.x,y:n.y,right:n.x+n.width,bottom:n.y+n.height};return a.maxLevel=Math.max(a.maxLevel||0,s),this.translateSubTree({layout:t,shape:e,shapeBounds:l,treeBounds:l,dim:n,level:s},void 0,void 0!==i,o),{x:a.x,y:a.y,right:a.x+n.width,bottom:a.y+n.height}},r.prototype.setUpLayoutInfo=function(t,e){var i={subTreeTranslation:0};return i.tree="OrganizationalChart"===t.type?{orientation:"Vertical",type:"Alternate",offset:20,enableRouting:!0}:{orientation:"Horizontal",type:"Center",enableRouting:!0},i.tree.children=[],i.tree.assistants=[],i.tree.level=0,i.translate=!0,i},r.prototype.translateSubTree=function(t,e,i,n){var s=t.layout,o=t.shape,a=t.shapeBounds,l=t.treeBounds,h=t.level,c=t.dim,u=s.graphNodes[o.id],d=s.nameTable[u.firstChild?u.firstChild.child:u.tree.children[0]],p=d?s.graphNodes[d.id]:null,f=this.hasChild(s,o),m=this.findIntersectingLevels(s,a,h,u.actualLevel),M=this.findIntersectingLevels(s,l,h,u.actualLevel),T=[];m.length&&u.translate?(u.intersect=m,this.spaceLeftFromPrevSubTree(s,o,a),u.canMoveBy=u.diff,void 0!==e&&(u.canMoveBy=Math.min(e,u.canMoveBy)),d&&void 0!==p.canMoveBy&&(p.canMoveBy>=u.canMoveBy&&(u.translated=!0),u.canMoveBy=Math.min(u.canMoveBy,p.canMoveBy)),i&&(u.x-=u.canMoveBy,u.subTreeTranslation-=u.canMoveBy,f&&(this.shiftSubordinates(s,M,u.canMoveBy),l.x=Math.min(l.x,u.x),l.right=Math.max(l.right,u.x+c.width),l.bottom=Math.max(l.bottom,u.y+c.height),l.x-=u.canMoveBy,l.right-=u.canMoveBy),d&&p.canMoveBy>u.canMoveBy?u.canMoveBy=p.canMoveBy-u.canMoveBy:d&&void 0!==u.canMoveBy&&(u.canMoveBy=0))):(f&&(l.x=Math.min(l.x,a.x),l.right=Math.max(l.right,a.x+c.width),l.bottom=Math.max(l.bottom,u.y+c.height)),u.translate||(u.canMoveBy=0,u.subTreeTranslation=0)),n||(T.push({rBounds:a={x:u.x,y:c.y,right:u.x+c.width,bottom:c.y+c.height}}),this.updateRearBounds(s,o,T,h))},r.prototype.updateRearBounds=function(t,e,i,n,s){var o,a,h,u,l=!0,c={};e&&(s=(c=t.graphNodes[e.id]).intersect,l=!c.tree.children.length&&!c.tree.assistants.length);var d=i[0].rBounds,p=i[i.length-1].rBounds;if(s&&s.length){for(u=(o=t.levels[s[0]].rBounds).bottom,o.y<d.y&&(o.bottom=d.y,i.splice(0,0,{rBounds:o})),u>p.bottom?i.push({rBounds:{x:o.x,right:o.right,y:d.bottom,bottom:u}}):(o=t.levels[s[s.length-1]].rBounds,l&&o.bottom>p.bottom&&(o.y=p.bottom,i.push({rBounds:o}))),a=s[0],h=i.length-1;h>=0;h--)t.levels.splice(a,0,i[parseInt(h.toString(),10)]);t.levels.splice(a+=i.length,s.length)}else for(a=this.findLevel(t,i[i.length-1].rBounds,n),h=i.length-1;h>=0;h--)t.levels.splice(a,0,i[parseInt(h.toString(),10)])},r.prototype.shiftSubordinates=function(t,e,i){var n;if(0!==i)for(n=0;n<e.length;n++)t.levels[e[parseInt(n.toString(),10)]].rBounds&&(t.levels[e[parseInt(n.toString(),10)]].rBounds.x-=i,t.levels[e[parseInt(n.toString(),10)]].rBounds.right-=i)},r.prototype.setDepthSpaceForAssitants=function(t,e,i,n,s,o){var h,c,u,d,a=t.graphNodes[e.id],l={};for(d=i,c=0;c<a.tree.assistants.length;c++)(l=t.graphNodes[a.tree.assistants[parseInt(c.toString(),10)]])&&(l.tree.children=l.tree.assistants=[],l.y=i,h=(u=t.nameTable[a.tree.assistants[parseInt(c.toString(),10)]]).actualSize.height,-1!==t.orientation.indexOf("Left")&&(h=u.actualSize.width),d=i+h+o/2,t.maxLevel=s+1,c%2==1&&c!==a.tree.assistants.length-1&&(i=d,s++));return{level:t.maxLevel,bottom:i+h+o}},r.prototype.setBreadthSpaceForAssistants=function(t,e,i,n,s,o){var l,h,c,u,m,M,a={},d=t.graphNodes[e.id],p=o,T={x:0,y:0,right:0,bottom:0};for(u=0;u<d.tree.assistants.length;u++)(a=t.graphNodes[d.tree.assistants[parseInt(u.toString(),10)]])&&(l=(c=t.nameTable[d.tree.assistants[parseInt(u.toString(),10)]]).actualSize.width,-1!==t.orientation.indexOf("Left")&&(l=c.actualSize.height),h=this.updateTree(t,u%2==0?n+i.width/2-20-l:n+i.width/2+20,a.y,t.nameTable[d.tree.assistants[parseInt(u.toString(),10)]],p+1),this.hasChild(t,e)||(0===u?T=h:this.uniteRects(T,h)),u%2==0&&a.prevBounds&&(m=void 0===m?a.canMoveBy:Math.min(m,a.canMoveBy)),(u%2==1||u===d.tree.assistants.length-1)&&(M=this.findIntersectingLevels(t,h,p+1),this.updateRearBounds(t,null,[{rBounds:h}],p+1,M),p++));return T&&(T.canMoveBy=m),T},r.prototype.getDimensions=function(t,e,i,n,s){var o,a;if(o=e.actualSize.width,a=e.actualSize.height,-1!==t.orientation.indexOf("Left")){if(!s){var l=i;i=n,n=l}a=e.actualSize.width,o=e.actualSize.height}return{x:i,y:n,width:o,height:a}},r.prototype.hasChild=function(t,e){var i=t.graphNodes[e.id];return i?i.tree.children&&i.tree.children.length:0},r.prototype.updateHorizontalTree=function(t,e,i,n,s,o){var a=this.getDimensions(t,e,n,s,o),l={},h=(l=t.graphNodes[e.id]).tree.type,c=o,u=0;u=n;var p,f,m,M,T,P,U,Y,X,Q,oe,de,Me,Ve,Ce,d=s;if(t.levels.slice(0,t.levels.length),this.hasChild(t,e)){var Ie=-1!==t.orientation.indexOf("Left");for(Me=0;Me<l.tree.children.length;Me++)p=(m=t.nameTable[l.tree.children[parseInt(Me.toString(),10)]]).actualSize.width,f=m.actualSize.height,T=Ie?f:p,P=Ie?p:f,M=this.updateTree(t,u,d,m,c+1,t.nameTable[l.tree.children[Me-1]]),Ve=t.graphNodes[m.id],l.maxLevel=Math.max(l.maxLevel||0,Ve.maxLevel||0),Y={x:Ve.x,y:Ve.y,right:Ve.x+T,bottom:Ve.y+P},0===Me&&(U={x:Math.min(Ve.x,M.x),y:Math.min(Ve.y,M.y),right:M.right,bottom:M.bottom},Ce=Ve),de?(de.x=Y.x,de.y=Y.y,Y.right>de.right&&(de.right=Y.right),de.bottom=Y.bottom):de=Y,0===Me&&(l.firstChild={x:Ve.x,canMoveBy:Ve.canMoveBy,child:m.id}),this.hasChild(t,m)&&(!l.firstChild||l.firstChild.x>=Ve.firstChild.x?(Ve.firstChild&&l.firstChild.canMoveBy<Ve.canMoveBy&&(Ve.canMoveBy=oe=l.firstChild.canMoveBy,t.graphNodes[l.firstChild.child].canMoveBy=oe,l.firstChild.canMoveBy=oe),l.firstChild={x:Ve.firstChild.x,canMoveBy:void 0!==oe?oe:Ve.canMoveBy,child:m.id}):Ve.firstChild&&Ve.translated&&l.firstChild.canMoveBy>Ve.canMoveBy&&(l.firstChild.canMoveBy=t.graphNodes[l.firstChild.child].canMoveBy=Ve.canMoveBy)),X=X?Math.max(Ve.maxLevel,X):Ve.maxLevel,this.uniteRects(U,M),u=0!==Me&&!this.hasChild(t,m)&&Ve.subTreeTranslation<0?M.right-Ve.subTreeTranslation+t.horizontalSpacing:M.right+t.horizontalSpacing;isNaN(Q)||(Ce.canMoveBy=Q),l.mid=(Ce.x+de.right)/2-a.width/2,"Left"===h?l.mid=Y.right-a.width:"Right"===h&&(l.mid=n)}return U},r.prototype.updateHorizontalTreeWithMultipleRows=function(t,e,i,n,s,o){var a,l,h,c,u,f,m,M,T,P=this.getDimensions(t,e,n,s,o),U=t.graphNodes[e.id],X=o,Q=n,oe=s,Me=(t.levels.slice(0,t.levels.length),0);if(this.hasChild(t,e)){var Ve=-1!==t.orientation.indexOf("Left"),Ce=void 0,ze=this.splitChildrenInRows(t,e),Ie=5===U.tree.children.length&&3===ze[0].length,pe=[],Pe=[];Ie?Pe=ze:this.splitRows(ze,pe,Pe);var Qe={leftTree:pe,rows:ze,rightTree:Pe,dimensions:P},Oe=this.updateLeftTree(t,Qe,e,n,oe,X);u=Qe.bounds;var Ye=void 0;void 0!==Oe&&(U.mid=(Oe||0)+(void 0!==Oe?t.horizontalSpacing/2:0)-P.width/2,Ye=Oe+t.horizontalSpacing),oe=s;var Xt=void 0;for(Xt=[],m=0;m<Pe.length;m++)for(Q=ze[m].length%2==1&&m===Pe.length-1||Ie?n:Ye||n,0!==m&&(oe=Xt[m-1].bottom+t.verticalSpacing),f=0;f<Pe[m].length;f++)a=t.nameTable[Pe[m][f]],c=Ve?a.actualSize.height:a.actualSize.width,(l=t.graphNodes[a.id]).actualLevel=X+1+m,0===f&&pe[m]&&pe[m].length&&(l.translate=!1),Ie&&1===m&&(0===f&&M+c+t.horizontalSpacing<=T&&(Ce=!0,Q=M-c/2),Ce&&1===f&&(Q=T-c/2)),h=this.updateTree(t,Q,oe,a,X+1,t.nameTable[Pe[m][f-1]]),Ie&&f<=2&&0===m&&1===f&&(M=h.x-t.horizontalSpacing/2,T=h.x+c+t.horizontalSpacing/2),0===f?Xt[m]={x:h.x,y:h.y,right:h.right,bottom:h.bottom}:this.uniteRects(Xt[m],h),u||(u={x:Xt[m].x,y:Xt[m].y,right:Xt[m].right,bottom:Xt[m].bottom}),this.uniteRects(u,Xt[m]),Q=h.right+t.horizontalSpacing,(!U.firstChild||(m===Pe.length-1&&ze[m].length%2==1||Ie)&&0===f&&void 0!==l.canMoveBy&&Me>l.canMoveBy)&&(Me=Math.min(Me,l.canMoveBy||0),U.firstChild={x:l.x,child:a.id,canMoveBy:l.canMoveBy}),Qe.leftCenter=M,Qe.rightCenter=T,Qe.align=Ce,Qe.level=X,Qe.rightBounds=Xt,this.alignRowsToCenter(t,m,e,Qe,Ye)}return u},r.prototype.updateLeftTree=function(t,e,i,n,s,o){for(var h,u,d,p,f,a=e.leftTree,l=t.graphNodes[i.id],c=[],M=(t.orientation.indexOf("Left"),0);M<a.length&&a[parseInt(M.toString(),10)].length;M++){h=n,c[M-1]&&(s=c[M-1].bottom+t.verticalSpacing);for(var T=0;T<a[parseInt(M.toString(),10)].length;T++){var P=t.nameTable[a[parseInt(M.toString(),10)][parseInt(T.toString(),10)]],X=t.graphNodes[P.id];X.actualLevel=o+1+M,p=this.updateTree(t,h,s,P,o+1,t.nameTable[a[parseInt(M.toString(),10)][T-1]]),0===T?c[parseInt(M.toString(),10)]={x:p.x,y:p.y,right:p.right,bottom:p.bottom}:this.uniteRects(c[parseInt(M.toString(),10)],p),0===M&&0===T?(u=X.canMoveBy,l.firstChild={x:X.x,child:P.id,canMoveBy:X.canMoveBy}):0===T&&void 0!==X.canMoveBy&&u>X.canMoveBy&&(u=Math.min(u,X.canMoveBy||0),l.firstChild={x:X.x,child:P.id,canMoveBy:X.canMoveBy}),h=p.right+t.horizontalSpacing}d=0===M?c[parseInt(M.toString(),10)].right:Math.max(d,c[parseInt(M.toString(),10)].right)}for(M=0;M<a.length&&a[parseInt(M.toString(),10)].length;M++){if(d!==c[parseInt(M.toString(),10)].right){var Q=d-c[parseInt(M.toString(),10)].right;for(T=0;T<a[parseInt(M.toString(),10)].length;T++)parseInt(M.toString(),10),parseInt(T.toString(),10),t.graphNodes[a[parseInt(M.toString(),10)][parseInt(T.toString(),10)]].x+=Q}0===M?f={x:c[0].x,y:c[0].y,right:c[0].right,bottom:c[0].bottom}:this.uniteRects(f,c[parseInt(M.toString(),10)])}return e.bounds=f,d},r.prototype.alignRowsToCenter=function(t,e,i,n,s){var o,a,l,h=t.graphNodes[i.id],c=n.rows,u=n.rightTree,d=n.leftCenter,p=n.rightCenter,f=n.align,m=n.rightBounds,M=n.dimensions,T=n.level,P=5===h.tree.children.length&&3===c[0].length;if(P&&1===e&&(o=m[0].right-m[0].x>=m[1].right-m[1].x?0:1),e===c.length-1&&(c[parseInt(e.toString(),10)].length%2==1||P&&1===e)){a=u[parseInt(e.toString(),10)][Math.floor(u[parseInt(e.toString(),10)].length/2)];var Y=t.graphNodes[""+a].x,Q=this.getDimensions(t,t.nameTable[""+a],Y,t.graphNodes[""+a].y,T+1);l=void 0,!f&&P?(1===o&&(e=0),l=(m[parseInt(o.toString(),10)].x+m[parseInt(o.toString(),10)].right)/2-(m[parseInt(e.toString(),10)].x+m[parseInt(e.toString(),10)].right)/2,0===e&&(h.mid+=l)):!P&&void 0!==s&&(l=s-t.horizontalSpacing/2-(Y+Q.width/2)),void 0!==l&&this.updateRearBoundsOfTree(t,u[parseInt(e.toString(),10)],l,M),P&&(h.mid=(p+d)/2+(0===e?l:0)-M.width/2),void 0===h.mid&&t.graphNodes[""+a]&&(h.mid=Y),f=!1,e++}},r.prototype.updateRearBoundsOfTree=function(t,e,i,n){for(var s=0;s<e.length;s++){var o=t.graphNodes[e[parseInt(s.toString(),10)]];if(o.x+=i,o.canMoveBy+=i,s===e.length-1){var a={x:o.x,y:o.y,right:o.x+n.width,bottom:o.y+n.height},l=this.findIntersectingLevels(t,a,o.actualLevel);this.updateRearBounds(t,null,[{rBounds:a}],o.actualLevel,l)}}},r.prototype.splitRows=function(t,e,i){for(var n=0;n<t.length;n++){e[parseInt(n.toString(),10)]=[],i[parseInt(n.toString(),10)]=[];var s=void 0;if(s=t[parseInt(n.toString(),10)].length,t[parseInt(n.toString(),10)].length%2!=1){s=Math.ceil(t[parseInt(n.toString(),10)].length/2);for(var o=0;o<s;o++)e[parseInt(n.toString(),10)].push(t[parseInt(n.toString(),10)][parseInt(o.toString(),10)])}for(var a=e[parseInt(n.toString(),10)].length;a<t[parseInt(n.toString(),10)].length;a++)i[parseInt(n.toString(),10)].push(t[parseInt(n.toString(),10)][parseInt(a.toString(),10)])}},r.prototype.updateVerticalTree=function(t,e,i,n,s,o){var a,l,h,c,u,d,p,f,M,de,Me,Ve,Ie,T=t.graphNodes[e.id],P=t.nameTable[T.tree.children[0]],U=-1!==t.orientation.indexOf("Left"),Y="Left"===T.tree.type?-1:0,X=i,Q=n,oe=s,Ce=[],ze=[];for(de=0;de<T.tree.children.length;de++){if("Alternate"===T.tree.type&&(Ve=de%2==0&&T.tree.children.length>2?"Left":"Right",Y=de%2==0&&T.tree.children.length>2?-1:0),X=i+this.findOffset(t,e,T,Ve),a=t.nameTable[T.tree.children[parseInt(de.toString(),10)]],u=U?a.actualSize.width:a.actualSize.height,h=this.updateTree(t,X+Y*(c=U?a.actualSize.height:a.actualSize.width),Q,a,s+1,void 0,!0),f={x:(l=t.graphNodes[a.id]).x,y:l.y,right:l.x+c,bottom:l.y+u},0===de?(this.uniteRects(h,f),p=h):this.uniteRects(p,h),l.prevBounds&&!("Alternate"===T.tree.type&&de%2==1&&T.tree.children.length>2)&&(Ie=void 0!==Ie?Math.min(l.canMoveBy,Ie):l.canMoveBy),T.maxLevel=Math.max(T.maxLevel||0,l.maxLevel||0),"Alternate"===T.tree.type&&T.tree.children.length>2&&de%2==0?(0!==de&&(Q=d.bottom+t.verticalSpacing/2),ze.push({rBounds:f}),l.levelBounds&&(ze=ze.concat(l.levelBounds))):(Q="Alternate"===T.tree.type&&T.tree.children.length>2?Math.max(h.bottom,d.bottom)+t.verticalSpacing/2:h.bottom+t.verticalSpacing/2,s=T.maxLevel,Ce.push({rBounds:f}),M?this.uniteRects(M,f):M={x:l.x,y:l.y,right:l.x+c,bottom:l.y+u},l.levelBounds&&(Ce=Ce.concat(l.levelBounds))),0===de&&(T.firstChild={x:l.x,canMoveBy:l.canMoveBy,child:a.id}),this.hasChild(t,a))if(!T.firstChild||T.firstChild.x>=l.firstChild.x){if(l.firstChild&&T.firstChild.canMoveBy<l.canMoveBy){var pe=T.firstChild.canMoveBy;l.canMoveBy=pe,t.graphNodes[T.firstChild.child].canMoveBy=pe,T.firstChild.canMoveBy=pe}T.firstChild={x:l.firstChild.x,canMoveBy:void 0!==Ie?Ie:l.canMoveBy,child:a.id}}else l.firstChild&&l.translated&&T.firstChild.canMoveBy>l.canMoveBy&&(T.firstChild.canMoveBy=t.graphNodes[T.firstChild.child].canMoveBy=l.canMoveBy);d=f}return o?T.levelBounds=Ce:("Alternate"===T.tree.type&&T.tree.children.length>2&&(Me=this.findIntersectingLevels(t,{x:ze[0].rBounds.x,y:ze[0].rBounds.y,right:ze[ze.length-1].rBounds.right,bottom:ze[ze.length-1].rBounds.bottom},oe+1),this.updateRearBounds(t,null,ze,oe+1,Me)),Me=this.findIntersectingLevels(t,M||p,oe+1),this.updateRearBounds(t,null,M?Ce:[{rBounds:p}],oe+1,Me)),isNaN(Ie)||(t.graphNodes[P.id].canMoveBy=Ie),T.childBounds=p,T.mid=i,p},r.prototype.splitChildrenInRows=function(t,e){var n,i=t.graphNodes[e.id];n=4;var o,s=[];o=i.tree.children.length;var a=this.extend(i.tree.children);if(i.tree.rows){var h=i.tree.rows;n=h%2==0?h:h-1}else 3===i.tree.children.length||4===i.tree.children.length?n=2:5===i.tree.children.length&&(n=3);for(;o>0;)s[s.length]=a.splice(0,n),(o-=n)<n&&(o%2==0?n=o:1!==o&&(n=o-1),o<n&&(n=o));return s},r.prototype.extend=function(t){var e,i=[];for(e=0;e<t.length;e++)i[parseInt(e.toString(),10)]=t[parseInt(e.toString(),10)];return i},r.prototype.findOffset=function(t,e,i,n){var s=0,o=-1!==t.orientation.indexOf("Left")?e.actualSize.height:e.actualSize.width;switch(s=i.tree.offset||20,"Alternate"===i.tree.type&&s>=t.horizontalSpacing&&(s=t.horizontalSpacing/2),n||i.tree.type){case"Left":s=o/2-s;break;case"Right":s+=o/2}return s},r.prototype.uniteRects=function(t,e){t.x=Math.min(t.x,e.x),t.right=Math.max(t.right,e.right),t.bottom=Math.max(t.bottom,e.bottom)},r.prototype.spaceLeftFromPrevSubTree=function(t,e,i){for(var s,o,n=t.graphNodes[e.id],a=t.horizontalSpacing,l=0;l<n.intersect.length;l++)o=t.levels[n.intersect[parseInt(l.toString(),10)]].rBounds,s=i.x-(o.right+a),(void 0===n.diff||s<n.diff)&&(n.diff=s,n.prevBounds=t.levels[n.intersect[parseInt(l.toString(),10)]].rBounds)},r.prototype.findIntersectingLevels=function(t,e,i,n){var s={x:e.x,y:e.y,right:e.right,bottom:e.bottom};s.y-=t.verticalSpacing/2,s.bottom+=t.verticalSpacing/2;var a,l,o=[];l=void 0!==n?n:i,a=t.levels[parseInt(l.toString(),10)]?t.levels[parseInt(l.toString(),10)].rBounds:null;do{if(a&&(s.y<a.y&&s.bottom>a.y||s.y<a.bottom&&a.bottom<s.bottom||s.y>=a.y&&s.bottom<=a.bottom||s.y<a.y&&s.bottom>a.bottom))o.splice(0,0,l);else if(a&&a.bottom<s.y)break;l--,a=t.levels[parseInt(l.toString(),10)]?t.levels[parseInt(l.toString(),10)].rBounds:null}while(l>=0);l=(void 0!==n?n:i)+1,a=t.levels[parseInt(l.toString(),10)]?t.levels[parseInt(l.toString(),10)].rBounds:null;do{if(a&&(s.y<a.y&&s.bottom>a.y||s.y<a.bottom&&a.bottom<s.bottom||s.y>=a.y&&s.bottom<=a.bottom||s.y<a.y&&s.bottom>a.bottom))o.push(l);else if(a&&a.y>s.bottom)break;l++,a=t.levels[parseInt(l.toString(),10)]?t.levels[parseInt(l.toString(),10)].rBounds:null}while(l<=t.levels.length);return o},r.prototype.findLevel=function(t,e,i){var s,o,n=e;for(s=0,o=t.levels[parseInt(s.toString(),10)]?t.levels[parseInt(s.toString(),10)].rBounds:null;s<t.levels.length;){if(o&&n.bottom<o.y)return s;s++,o=t.levels[parseInt(s.toString(),10)]?t.levels[parseInt(s.toString(),10)].rBounds:null}return s},r.prototype.getParentNode=function(t,e){return t.nameTable[t.nameTable[e.inEdges[0]].sourceID]},r.prototype.updateEdges=function(t,e,i,n,s){var a,o=t.graphNodes[e.id];if(e.outEdges&&e.outEdges.length&&(e.isExpanded||n===Dt.Render))for(a=0;a<e.outEdges.length;a++){var l=t.nameTable[t.nameTable[e.outEdges[parseInt(a.toString(),10)]].targetID];l&&!l.excludeFromLayout&&(-1===o.tree.children.indexOf(l.id)&&o.tree.children.push(l.id),l.outEdges&&l.outEdges.length&&l.isExpanded&&(o.tree.hasSubTree=!0),this.updateEdges(t,l,i+1,n,s))}o.tree.level=i,o.tree.hasSubTree&&(o.tree.orientation="Horizontal",o.tree.type="Center"),(t.getLayoutInfo||t.layoutInfo)&&"OrganizationalChart"===t.type&&(t.getLayoutInfo?t.getLayoutInfo(e,o.tree):function ime(r,t,e,i){var n,s="Role";if(t)for(var o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];if(n=t[""+l],"getAssistantDetails"===l){if(ge())for(var h=0,c=Object.keys(i.data);h<c.length&&i.data[""+(s=c[h])]!==t[""+l].root;h++);if(i.data[""+s]===t[""+l].root)for(var d=t[""+l].assistants,p=0;p<d.length;p++)for(var f=0;f<e.length;f++)e[parseInt(f.toString(),10)].data[""+s]===d[parseInt(p.toString(),10)]&&(r.assistants.push(e[parseInt(f.toString(),10)].id),r.children.splice(0,1))}else n&&(r[""+l]=t[""+l])}!r.hasSubTree&&t.canEnableSubTree&&(r.orientation=i.layoutInfo.orientation,r.type=i.layoutInfo.type,i.layoutInfo.offset!==r.offset&&void 0!==i.layoutInfo.offset&&(r.offset=i.layoutInfo.offset)),i.layoutInfo.hasSubTree=r.hasSubTree}(o.tree,t.layoutInfo,s,e),"Balanced"===o.tree.type&&o.tree.hasSubTree&&(o.tree.type="Center",o.tree.orientation="Horizontal")),t.level&&"Alternate"!==o.tree.type&&i>=t.level&&(o.tree.hasSubTree=!1)},r.prototype.updateAnchor=function(t,e,i){var n,s,o=0,a=0,l=0,h=0,c=new Xi(0,0,i.x,i.y),u=t.bounds?t.bounds:c,d=t.orientation;if(t.fixedNode){o=(s=t.nameTable[t.fixedNode]).actualSize.width,a=s.actualSize.height,t.anchorX=s.offsetX,t.anchorY=s.offsetY;var p=s.pivot;for(t.anchorX+="RightToLeft"===t.orientation?o*p.x:-o*p.x,t.anchorY+="BottomToTop"===t.orientation?a*p.y:-a*p.y,n=s,l=0;n.inEdges.length;)n=this.getParentNode(t,n),l+=t.graphNodes[n.id].subTreeTranslation||0;-1!==t.orientation.indexOf("Left")?(h=t.graphNodes[s.id].y,"LeftToRight"===d?t.anchorX-=h:t.anchorX+=h,t.anchorY-=t.graphNodes[s.id].x+l):(h=t.graphNodes[s.id].y,t.anchorX-=t.graphNodes[s.id].x+l,"TopToBottom"===d?t.anchorY-=h:t.anchorY+=h)}else if("TopToBottom"===d||"BottomToTop"===d){switch(t.horizontalAlignment){case"Left":t.anchorX=u.x-e.x+t.margin.left;break;case"Right":t.anchorX=u.x+u.width-t.margin.right-e.right;break;case"Auto":case"Center":t.anchorX=u.x+u.width/2-(e.x+e.right)/2}switch(t.verticalAlignment){case"Auto":case"Top":var f;f=u.y+t.margin.top,t.anchorY="TopToBottom"===d?f:e.bottom+f;break;case"Bottom":var m;m=u.y+u.height-t.margin.bottom,t.anchorY="TopToBottom"===d?m-e.bottom:m;break;case"Center":var M=void 0;M=u.y+u.height/2,t.anchorY="TopToBottom"===t.orientation?M-(e.y+e.bottom)/2:M+(e.y+e.bottom)/2}}else{switch(t.horizontalAlignment){case"Auto":case"Left":var T;T=u.x+t.margin.left,t.anchorX="LeftToRight"===d?T:e.bottom+T;break;case"Right":var P;P=u.x+u.width-t.margin.right,t.anchorX="LeftToRight"===d?P-e.bottom:P;break;case"Center":M=void 0,M=u.width/2+u.x,t.anchorX="LeftToRight"===t.orientation?M-(e.y+e.bottom)/2:M+(e.y+e.bottom)/2}switch(t.verticalAlignment){case"Top":t.anchorY=u.y+t.margin.top-e.x;break;case"Auto":case"Center":t.anchorY=u.y+u.height/2-(e.right+e.x)/2;break;case"Bottom":t.anchorY=u.y+u.height-t.margin.bottom-e.right}}},r.prototype.updateConnectors=function(t,e,i){var n,s,o,a=t.graphNodes[e.id];if(e.outEdges.length)for(n=0;n<e.outEdges.length;n++)(o=t.nameTable[e.outEdges[parseInt(n.toString(),10)]]).points=[],s=t.nameTable[o.targetID],o.visible&&(o.visited=!0,t.getConnectorSegments?t.getConnectorSegments(o):a&&-1!==a.tree.children.indexOf(o.targetID)&&("Bezier"===o.type&&"SamePoint"==t.connectionPointOrigin&&(o.segments=[],o.segments.push(new Hh(o,"segments",{type:"Bezier"},!0))),"OrganizationalChart"===t.type&&"Orthogonal"===o.type&&(o.segments=[],this.updateSegments(t,o,e,s,n))),s&&(s.isExpanded||this.hasChild(t,s))&&this.updateConnectors(t,s,i+1));if(a&&a.tree.assistants.length)for(n=0;n<a.tree.assistants.length;n++)s=t.nameTable[a.tree.assistants[parseInt(n.toString(),10)]],this.get3Points(t,e,s,o=t.nameTable[s.inEdges[0]]),(s.isExpanded||this.hasChild(t,s))&&this.updateConnectors(t,s,i+1)},r.prototype.updateSegments=function(t,e,i,n,s){var o=t.graphNodes[i.id];o.tree.assistants.length?this.updateSegmentsForHorizontalOrientation(t,i,n,e):"Horizontal"===o.tree.orientation&&"Balanced"===o.tree.type?this.updateSegmentsForBalancedTree(t,e,i,n,s):"Horizontal"===o.tree.orientation?this.updateSegmentsForHorizontalOrientation(t,i,n,e):o.tree.offset<5?this.get5Points(t,i,n,e):this.get3Points(t,i,n,e)},r.prototype.updateSegmentsForBalancedTree=function(t,e,i,n,s){var l,o=t.graphNodes[i.id];if(5===o.tree.children.length&&s>2){l=o.tree.children[1],isNaN(t.graphNodes[""+l].treeWidth)&&(t.graphNodes[""+l].treeWidth=t.nameTable[""+l].actualSize.width);t.orientation.indexOf("Left"),this.getSegmentsForMultipleRows(t,i,n,e)}else o.tree.children.length>5?s<4||s<o.tree.rows?this.getSegmentsForMultipleRows(t,i,n,e):this.updateSegmentsForHorizontalOrientation(t,i,n,e):4===o.tree.children.length?s<2||s<o.tree.rows?this.getSegmentsForMultipleRows(t,i,n,e):this.updateSegmentsForHorizontalOrientation(t,i,n,e):this.getSegmentsForMultipleRows(t,i,n,e)},r.prototype.get3Points=function(t,e,i,n){var s=[],o=this.getBounds(e),a=this.getBounds(i);if(-1!==t.orientation.indexOf("Top")){var l=0===t.orientation.indexOf("Top")?o.bottomCenter:o.topCenter;s.push(l,{x:o.bottomCenter.x,y:(h=e.offsetX>i.offsetX?a.middleRight:a.middleLeft).y},h)}else{var h;l=0===t.orientation.indexOf("Left")?o.middleRight:o.middleLeft,s.push(l,{x:a.bottomCenter.x,y:o.middleRight.y},h=e.offsetY>i.offsetY?a.bottomCenter:a.topCenter)}this.getSegmentsFromPoints(s,n)},r.prototype.get5Points=function(t,e,i,n){var l,h,c,u,s=[],o=this.getBounds(e),a=this.getBounds(i);-1!==t.orientation.indexOf("Top")?s.push(l=e.offsetY<i.offsetY?o.bottomCenter:o.topCenter,{x:l.x,y:l.y+(u=t.verticalSpacing/4*(e.offsetY<i.offsetY?1:-1))},{x:(h=e.offsetX>i.offsetX?a.middleRight:a.middleLeft).x+(c=t.horizontalSpacing/2*(e.offsetX>i.offsetX?1:-1)),y:l.y+u},{x:h.x+c,y:h.y},h):s.push(l=e.offsetX>i.offsetX?o.middleLeft:o.middleRight,{x:l.x+(c=t.horizontalSpacing/4*(e.offsetX<i.offsetX?1:-1)),y:l.y},{x:l.x+c,y:l.y+(u=t.verticalSpacing/2*(e.offsetY>i.offsetY?1:-1))},{x:(h=e.offsetY>i.offsetY?a.bottomCenter:a.topCenter).x,y:l.y+u},h),this.getSegmentsFromPoints(s,n)},r.prototype.getSegmentsFromPoints=function(t,e){for(var n,i=[],s=0;s<t.length-2;s++)(n=new Ts(e,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(t[parseInt(s.toString(),10)],t[s+1]),n.length=Be.distancePoints(t[parseInt(s.toString(),10)],t[s+1]),i.push(n);e.segments=i},r.prototype.getSegmentsForMultipleRows=function(t,e,i,n){var o,a,s=[],l=this.getBounds(i),h=this.getBounds(e);switch(t.orientation){case"TopToBottom":o={x:h.bottomCenter.x,y:h.bottomCenter.y+t.verticalSpacing/4},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.bottomCenter,o),a.length=Be.distancePoints(h.bottomCenter,o),s.push(a);break;case"BottomToTop":o={x:h.bottomCenter.x,y:h.topCenter.y-t.verticalSpacing/4},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.topCenter,o),a.length=Be.distancePoints(h.topCenter,o),s.push(a);break;case"LeftToRight":if(o={x:h.middleRight.x+t.verticalSpacing/4,y:h.middleRight.y},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.middleRight,o),a.length=Be.distancePoints(h.middleRight,o),s.push(a),l.center.y!==h.center.y){var c={x:h.middleRight.x+t.verticalSpacing/4,y:l.middleLeft.y};(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(o,c),a.length=Be.distancePoints(o,c),s.push(a)}break;case"RightToLeft":if(o={x:h.middleLeft.x-t.verticalSpacing/4,y:h.middleRight.y},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.middleLeft,o),a.length=Be.distancePoints(h.middleLeft,o),s.push(a),l.center.y!==h.center.y){var u={x:h.middleLeft.x-t.verticalSpacing/4,y:l.middleLeft.y};(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(u,u),a.length=Be.distancePoints(u,u),s.push(a)}}n.segments=s},r.prototype.updateSegmentsForHorizontalOrientation=function(t,e,i,n){var o,a,l=[],h=this.getBounds(e),c=this.getBounds(i);switch(t.orientation){case"TopToBottom":o={x:h.bottomCenter.x,y:c.topCenter.y-t.verticalSpacing/2},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.bottomCenter,o),a.length=Be.distancePoints(h.bottomCenter,o),l.push(a);break;case"BottomToTop":o={x:h.topCenter.x,y:c.bottomCenter.y+t.verticalSpacing/2},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.topCenter,o),a.length=Be.distancePoints(h.topCenter,o),l.push(a);break;case"LeftToRight":if(o={x:c.middleLeft.x-t.verticalSpacing/2,y:h.middleRight.y},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.middleRight,o),a.length=Be.distancePoints(h.middleRight,o),l.push(a),c.center.y!==h.center.y){var u={x:c.middleLeft.x-t.verticalSpacing/2,y:c.middleLeft.y};(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(o,u),a.length=Be.distancePoints(o,u),l.push(a)}break;case"RightToLeft":if(o={x:c.middleRight.x+t.verticalSpacing/2,y:h.middleRight.y},(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(h.middleLeft,o),a.length=Be.distancePoints(h.middleLeft,o),l.push(a),c.center.y!==h.center.y){var d={x:c.middleRight.x+t.verticalSpacing/2,y:c.middleLeft.y};(a=new Ts(n,"segments",{type:"Orthogonal"},!0)).direction=Be.direction(o,d),a.length=Be.distancePoints(o,d),l.push(a)}}return n.segments=l,[]},r.prototype.updateNodes=function(t,e,i,n,s,o){var a,l,h,c,u,d;if(e&&!e.excludeFromLayout){h=e.actualSize.width,c=e.actualSize.height,u=t.anchorX,d=t.anchorY,"LeftToRight"===t.orientation?(u+=t.graphNodes[e.id].y+h/2,d+=t.graphNodes[e.id].x+i+c/2):"RightToLeft"===t.orientation?(u-=t.graphNodes[e.id].y+h/2,d+=t.graphNodes[e.id].x+i+c/2):"TopToBottom"===t.orientation?(u+=t.graphNodes[e.id].x+i+h/2,d+=t.graphNodes[e.id].y+c/2):(u+=t.graphNodes[e.id].x+i+h/2,d-=t.graphNodes[e.id].y+c/2),t.graphNodes&&(u+=s=s||0,d+=o=o||0,this.isAnimation||(e.offsetX=u,e.offsetY=d)),t.objects.push({id:e.id,differenceX:u-e.offsetX,differenceY:d-e.offsetY});var f=[];if(this.hasChild(t,e))for(a=0;a<t.graphNodes[e.id].tree.children.length;a++)l=t.nameTable[t.graphNodes[e.id].tree.children[parseInt(a.toString(),10)]],this.updateNodes(t,l,i+(t.graphNodes[e.id].subTreeTranslation||0),n,s,o),f.push(l);if(t.graphNodes[e.id].tree.assistants.length)for(a=0;a<t.graphNodes[e.id].tree.assistants.length;a++)l=t.nameTable[t.graphNodes[e.id].tree.assistants[parseInt(a.toString(),10)]],this.updateNodes(t,l,i+(t.graphNodes[e.id].subTreeTranslation||0),null,s,o)}},r}(),c0e=function(){function r(){this.isAnimation=!1}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"MindMapChart"},r.prototype.updateLayout=function(t,e,i,n,s,o){var a=this.checkRoot(t,i,s,o,e);if(a)i.fixedNode=a;else for(var l=0,h=t;l<h.length;l++)if(!((c=h[l]).excludeFromLayout||c.inEdges&&c.inEdges.length)){i.fixedNode=c.id;break}var d=this.findFirstLevelNodes(e[i.fixedNode],i,e),p=[],f=[],m=ho(i.getBranch);m=m||ho(this.getBranch);for(var M=0,T=d;M<T.length;M++){var c,P=m(c=T[M],d);"Left"===(P=c&&c.branch?c.branch:P)?p.push(c):f.push(c)}var U=new Xi(0,0,n.x,n.y);e[i.fixedNode].offsetX=U.x+U.width/2,e[i.fixedNode].offsetY=U.y+U.height/2,p.length&&this.updateMindMapBranch(t,f,e,i,n,s,"Left"),f.length&&this.updateMindMapBranch(t,p,e,i,n,s,"Right")},r.prototype.checkRoot=function(t,e,i,n,s){for(var o=0,a=t;o<a.length;o++){var l=a[o];if(!l.excludeFromLayout){if(l.data&&(l.data[""+i].toString()===n||l.data[""+i].toString()===e.root))return l.id;if(!l.data&&l.id===e.root)return l.id}}return""},r.prototype.updateMindMapBranch=function(t,e,i,n,s,o,a){var l={type:"HierarchicalTree",horizontalSpacing:n.verticalSpacing,verticalSpacing:n.horizontalSpacing,verticalAlignment:n.verticalAlignment,horizontalAlignment:n.horizontalAlignment,fixedNode:n.fixedNode,getLayoutInfo:ho(n.getLayoutInfo),layoutInfo:n.layoutInfo,margin:n.margin,orientation:n.orientation,root:n.fixedNode};l.orientation="Vertical"==l.orientation?"Left"===a?"TopToBottom":"BottomToTop":"Left"===a?"LeftToRight":"RightToLeft",this.excludeFromLayout(e,i,!0),(new cQ).updateLayout(t,i,l,s,o),this.excludeFromLayout(e,i,!1)},r.prototype.getBranch=function(t,e){return e.indexOf(t)%2==0?"Left":"Right"},r.prototype.excludeFromLayout=function(t,e,i){for(var n=0,s=t;n<s.length;n++)e[s[n].id].excludeFromLayout=i},r.prototype.findFirstLevelNodes=function(t,e,i){var n=[];if(t&&t.outEdges.length)for(var s=0,o=t.outEdges;s<o.length;s++)n.push(i[i[""+o[s]].targetID]);return n},r}(),u0e=function(){function r(){}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"RadialTree"},r.prototype.updateLayout=function(t,e,i,n){this.doLayout({type:i.type,nameTable:e,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},layoutNodes:[],orientation:i.orientation,horizontalSpacing:i.horizontalSpacing,verticalSpacing:i.verticalSpacing,verticalAlignment:i.verticalAlignment,horizontalAlignment:i.horizontalAlignment,fixedNode:i.fixedNode,margin:i.margin,bounds:i.bounds,objects:[],root:i.root},t,e,n)},r.prototype.doLayout=function(t,e,i,n){for(var s,o=0;o<e.length;o++)(s=e[parseInt(o.toString(),10)]).excludeFromLayout||(t.graphNodes[s.id]=this.setUpLayoutInfo(t,s),(!s.inEdges||!s.inEdges.length)&&t.firstLevelNodes.push(s));t.root&&i[t.root]?t.centerNode=i[t.root]:t.firstLevelNodes.length&&(t.centerNode=t.firstLevelNodes[0],t.root=t.centerNode.id),t.centerNode&&(this.updateEdges(t,t.centerNode,0,i),this.depthFirstAllignment(t,t.centerNode,0,0),this.populateLevels(t),this.transformToCircleLayout(t),this.updateAnchor(t,n),this.updateNodes(t,t.centerNode,i))},r.prototype.updateEdges=function(t,e,i,n){var s=t.graphNodes[e.id];t.layoutNodes.push(s),s.level=i,s.visited=!0,t.maxLevel=Math.max(t.maxLevel,i);for(var o=0;o<e.outEdges.length;o++){var a=n[n[e.outEdges[parseInt(o.toString(),10)]].targetID];!a.excludeFromLayout&&!a.visited&&(s.children.push(a),this.updateEdges(t,a,i+1,n))}},r.prototype.depthFirstAllignment=function(t,e,i,n){var s,o=t.graphNodes[e.id];if(o.children.length){n+=300;for(var a=0;a<o.children.length;a++)i=(s=this.depthFirstAllignment(t,o.children[parseInt(a.toString(),10)],i,n)).x,n=s.y;o.children=o.children.sort(function(c,u){return t.graphNodes[c.id].x-t.graphNodes[u.id].x});var l=t.graphNodes[o.children[0].id].min,h=t.graphNodes[o.children[o.children.length-1].id].max;if(o.x=l+(h-l)/2,i=h+t.horizontalSpacing,o.segmentOffset=h+t.horizontalSpacing,o.x-=o.width/2,o.y-=o.height/2,o.min=l,o.max=h,o.x<l&&o.visited){for(o.x=l,i=o.x+o.width/2-(h-l)/2,o.visited=!1,a=0;a<o.children.length;a++)s=this.depthFirstAllignment(t,o.children[parseInt(a.toString(),10)],i,n);o.visited=!0,i=o.x+o.width+t.horizontalSpacing}i=i<(h=t.graphNodes[o.children[o.children.length-1].id].segmentOffset)?h:i,o.y=n-=300}else o.x=i,o.y=n,o.min=i,o.max=i+o.width,i+=o.width+t.horizontalSpacing;return{x:i,y:n}},r.prototype.populateLevels=function(t){var e=[],i=Math.min.apply(Math,t.layoutNodes.map(function(l){return l.x})),s=Math.max.apply(Math,t.layoutNodes.map(function(l){return l.x+l.width+t.horizontalSpacing}))-i;t.levels=[];for(var o=function(l){var h={};e=(e=t.layoutNodes.filter(function(d){return d.level===l?d:null})).sort(function(d,p){return d.x-p.x}),h.min=e[0].x,h.max=e[e.length-1].x+e[e.length-1].width+t.horizontalSpacing,h.actualCircumference=0,h.height=0;for(var c=0;c<e.length;c++)e[parseInt(c.toString(),10)].height>h.height&&(h.height=e[parseInt(c.toString(),10)].height),h.actualCircumference+=Math.max(e[parseInt(c.toString(),10)].width,e[parseInt(c.toString(),10)].height),c!==e.length-1&&(h.actualCircumference+=t.horizontalSpacing);h.circumference=h.max-h.min,h.actualCircumference<h.circumference&&(h.circumference=(h.circumference+h.actualCircumference)/2),h.radius=h.circumference/(2*Math.PI)+h.height,h.nodes=[],l>1&&t.levels[l-1].radius+t.levels[l-1].height>=h.radius&&(h.radius=t.levels[l-1].radius+t.levels[l-1].height);for(var u=0;u<e.length;u++)e[parseInt(u.toString(),10)].ratio=Math.abs(e[parseInt(u.toString(),10)].x+e[parseInt(u.toString(),10)].width/2-i)/s,h.nodes.push(e[parseInt(u.toString(),10)]);t.levels.push(h)},a=0;a<=t.maxLevel;a++)o(a)},r.prototype.transformToCircleLayout=function(t){var e=t.graphNodes[t.centerNode.id];e.x=0,e.y=0;for(var i=1;i<t.levels.length;i++)for(var n=0;n<t.levels[parseInt(i.toString(),10)].nodes.length;n++){var s=t.levels[parseInt(i.toString(),10)].nodes[parseInt(n.toString(),10)];s.x=Math.cos(360*s.ratio*Math.PI/180)*(t.levels[parseInt(i.toString(),10)].radius+t.verticalSpacing*i),s.y=Math.sin(360*s.ratio*Math.PI/180)*(t.levels[parseInt(i.toString(),10)].radius+t.verticalSpacing*i),t.anchorX=Math.min(t.anchorX,s.x),t.anchorY=Math.min(t.anchorY,s.y)}},r.prototype.updateAnchor=function(t,e){t.anchorX=t.centerNode.offsetX||e.x/2,t.anchorY=t.centerNode.offsetY||e.y/2},r.prototype.updateNodes=function(t,e,i){var n=t.graphNodes[e.id],o=n.y+t.anchorY;e.offsetX=n.x+t.anchorX,e.offsetY=o;for(var a=0;a<n.children.length;a++){var l=n.children[parseInt(a.toString(),10)];this.updateNodes(t,i[l.id],i)}},r.prototype.setUpLayoutInfo=function(t,e){var i={};return i.name=e.id,i.x=0,i.y=0,i.min=0,i.max=0,i.width=e.actualSize.width,i.height=e.actualSize.height,i.children=[],i.level=0,i.ratio=0,i.visited=!1,i},r}(),d0e=function(){function r(t){this.velocityX=0,this.velocityY=0,this.nodes=[],this.graphNode=t;var i=uQ(this.graphNode);this.location=i.center,this.nodes=[],t.treeInfo.parents||(t.treeInfo.parents=[]),t.treeInfo.children||(t.treeInfo.children=[]),this.nodes=t.treeInfo.parents.concat(t.treeInfo.children)}return r.prototype.applyChanges=function(){this.graphNode.treeInfo.center=this.location},r}(),p0e=function(){function r(){this.cdCOEF=.442,this.cfMAXVELOCITY=50,this.cnMAXITERACTION=1e3,this.cnSPRINGLENGTH=100,this.mszMaxForceVelocity={width:this.cfMAXVELOCITY,height:this.cfMAXVELOCITY},this.springLength=0,this.springFactor=this.cdCOEF,this.maxIteration=this.cnMAXITERACTION,this.springLength=this.cnSPRINGLENGTH}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"SymmetricalLayout"},r.prototype.doGraphLayout=function(t){var e=this.selectedNode;e.treeInfo.Bounds=t.getModelBounds(t.nodes);var n=this.convertGraphNodes(e.treeInfo.GraphNodes),s=n.length;s=Math.min(this.maxIteration,s*s*s),this.preLayoutNodes(n,e.treeInfo.Bounds);for(var o=0,a=s;o<a;o++)this.makeSymmetricLayout(n),this.appendForces(n);this.resetGraphPosition(n,e)},r.prototype.preLayoutNodes=function(t,e){for(var i=Math.max(e?e.width:25,e?e.height:25),n={x:i/2,y:i/2},s=2*Math.PI/t.length,o=s,a=0;a<t.length;a++){var l=t[parseInt(a.toString(),10)];this.getForceNode(l).location={x:n.x+i*Number(Math.cos(o).toFixed(2)),y:n.y+i*Number(Math.sin(o).toFixed(2))},o-=s}},r.prototype.doLayout=function(t){this.selectedNode=t.selectedNode,this.doGraphLayout(t)},r.prototype.makeSymmetricLayout=function(t){for(var e,i,n=0;n<t.length;n++){for(var s=t[parseInt(n.toString(),10)],o=(e=this.getForceNode(s)).nodes,a=0;a<o.length;a++)Fv((l=o[parseInt(a.toString(),10)]).id,t)&&this.calcNodesForce(e,this.getForceNode(l));for(var h=0,c=o.length;h<c&&!(c<2);h++){var u=this.getForceNode(o[parseInt(h.toString(),10)]),d=this.getForceNode(h+1>=c?o[0]:o[h+1]),p=360/o.length/2*Math.PI/180,f=2*this.springLength*Math.sin(p);this.calcRelatesForce(u,d,f)}for(var m=0;m<t.length;m++){var l;!Fv((l=t[parseInt(m.toString(),10)]).id,o)&&l.id!==s.id&&(i=this.getForceNode(l),this.updateNeigbour(e,i))}}},r.prototype.appendForces=function(t){for(var e=null,i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)],s=(e=this.getForceNode(n)).location;s.x+=Math.min(e.velocityX,this.mszMaxForceVelocity.width),s.y+=Math.min(e.velocityY,this.mszMaxForceVelocity.height),e.velocityX=0,e.velocityY=0,e.location=s}},r.prototype.resetGraphPosition=function(t,e){for(var s,i={width:Number.MAX_VALUE,height:Number.MAX_VALUE},n=null,o=0;o<t.length;o++){s=t[parseInt(o.toString(),10)];var a={x:(n=this.getForceNode(s)).location.x-s.actualSize.width/2,y:n.location.y-s.actualSize.height/2};i.width=Math.min(i.width,a.x),i.height=Math.min(i.height,a.y)}for(o=0;o<t.length;o++)s=t[parseInt(o.toString(),10)],(a=(n=this.getForceNode(s)).location).x-=i.width-(e.treeInfo.location?e.treeInfo.location.x:0),a.y-=i.height-(e.treeInfo.location?e.treeInfo.location.y:0),n.location=a,n.applyChanges()},r.prototype.convertGraphNodes=function(t){for(var e=[],n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];if(t[""+o]){var a=t[""+o],l=new d0e(a);a.treeInfo.tag=l,e.push(a)}}return e},r.prototype.getForceNode=function(t){return t.treeInfo.tag},r.prototype.updateNeigbour=function(t,e){if(null!=e&&null!=t){var i=this.pointDistance(t.location,e.location),n=this.lineAngle(t.location,e.location),s=.9*this.springLength;i<s&&this.calcForce(i,s,n,e)}},r.prototype.lineAngle=function(t,e){var i=0,n=e.x-t.x,s=e.y-t.y;return 0===n?i=s<=0?3*Math.PI/2:Math.PI/2:0===s?i=n<0?Math.PI:0:(i=Math.atan(s/n),n<0&&s>0||n<0&&s<0?i=Math.PI+i:n>0&&s<0&&(i=2*Math.PI+i)),i},r.prototype.pointDistance=function(t,e){var i=0,n=e.x-t.x,s=e.y-t.y,o=n*n+s*s;return o>0&&(i=Math.sqrt(o)),i},r.prototype.calcRelatesForce=function(t,e,i){var n=this.pointDistance(t.location,e.location),s=this.lineAngle(t.location,e.location);n<i&&this.calcForce(n,i,s,e)},r.prototype.updateLayout=function(t,e,i,n,s,o){(new f0e).updateLayout(t,e,i,n,s,o)},r.prototype.calcNodesForce=function(t,e){var i=this.pointDistance(t.location,e.location),n=this.lineAngle(t.location,e.location);(i>this.springLength||i<this.springLength)&&this.calcForce(i,this.springLength,n,e)},r.prototype.calcForce=function(t,e,i,n){var s=n.nodes.length,o=t-e,a=this.springFactor/(s*s)*Math.sqrt(s);if(0!==o){var h=o*a,c=Math.cos(i)*h,u=Math.sin(i)*h;n.velocityX-=c,n.velocityY-=u}},r}(),f0e=function(){function r(){this.visitedStack=[],this.cycleEdgesCollection=[],this.graphObjects=[],this.passedNodes=[]}return r.prototype.updateLayout=function(t,e,i,n,s,o){this.nameTable=n,this.nodes=t,this.connectors=e;var a=t;a.length>0&&(this.mhelperSelectedNode=rt(a[0]));for(var l=0,h=t;l<h.length;l++){var u=c=h[l];u.treeInfo={},u.treeInfo.graphType="Node",this.graphObjects.push(u)}for(var d=0,p=e;d<p.length;d++){var m=p[d];m.treeInfo={},m.treeInfo.graphType="Connector",this.graphObjects.push(m)}this.updateLayout1(this.graphObjects,i);for(var M=this.getModelBounds(a),T=0;T<a.length;T++){var c=a[parseInt(T.toString(),10)],P=(o.x-M.width)/2,U=s.margin||{};U.left=U.left||0,U.right=U.right||0,U.top=U.top||0,U.bottom=U.bottom||0,s.margin.left&&(U.left=s.margin.left),s.margin.top&&(U.top=s.margin.top);var X=c.treeInfo.tag.location.y-(c.offsetY-c.actualSize.height/2)-M.y+U.top;c.offsetX+=c.treeInfo.tag.location.x-(c.offsetX-c.actualSize.width/2)-M.x+P+U.left,c.offsetY+=X,delete c.treeInfo}return!0},r.prototype.getModelBounds=function(t){t=t.slice();for(var n,e=null,i=null,s=0;s<t.length;s++){var o=uQ(n=t[parseInt(s.toString(),10)]);e=new Xi(n.treeInfo.tag?n.treeInfo.tag.location.x:o.x,n.treeInfo.tag?n.treeInfo.tag.location.y:o.y,n.actualSize.width,n.actualSize.height),i=i?i.uniteRect(e):e}return i},r.prototype.updateLayout1=function(t,e){this.detectCyclesInGraph(t);var i=t.length;if(i>0){for(var n=[],s=[],o=[],a=0;a<t.length;a++){var l=t[parseInt(a.toString(),10)];void 0===l.treeInfo.isCycleEdge&&(l.treeInfo.isCycleEdge=!1),"Connector"!==l.treeInfo.graphType||l.treeInfo.isCycleEdge?"Connector"===l.treeInfo.graphType?n.push(l):o.push(l):s.push(l)}for(s=s.concat(o),s=n.concat(s);i>this.dictionaryLength(this.passedNodes);)if(this.getNodesToPosition(s),null!=this.selectedNode){e.doLayout(this),this.selectedNode=null,this.visitedStack=[];for(var h=0,c=this.cycleEdgesCollection;h<c.length;h++)c[h].treeInfo.isCycleEdge=!1}this.passedNodes=null,this.selectedNode=null}return!1},r.prototype.getNodesToPosition=function(t){for(var e=0;e<t.length;e++){var i=t[parseInt(e.toString(),10)];if(!Fv(i.id,this.passedNodes)){i&&this.selectNodes(i);break}}},r.prototype.selectNodes=function(t){var e=t;"Connector"===t.treeInfo.graphType?this.exploreGraphEdge(t):null!=e&&this.addNode(t,"passed")&&(this.addNode(t,"selected"),this.isConnectedToAnotherNode(e)?(this.selectedNode={treeInfo:{}},this.selectedNode.treeInfo.LeftMargin=10,this.selectedNode.treeInfo.TopMargin=10,this.selectConnectedNodes(e)):this.selectedNode=t)},r.prototype.selectConnectedNodes=function(t){var e=this.selectedNode;e.treeInfo.GraphNodes||(e.treeInfo.GraphNodes={});var i=t;if(null!=i&&this.addNode(i,"passed")){var n=i.id;if(this.dictionaryContains(e.treeInfo.GraphNodes,i)){var o=e.treeInfo.GraphNodes[""+n];o.treeInfo.Added&&(o.treeInfo.Added=!1,this.getConnectedRelatives(o),this.exploreRelatives(t))}else{var s=this.addGraphNode(i);this.getConnectedRelatives(s),this.exploreRelatives(t)}}},r.prototype.exploreRelatives=function(t){this.exploreRelatives1(t,"Parents"),this.exploreRelatives1(t,"Children")},r.prototype.exploreRelatives1=function(t,e){var i=[];"Parents"===e?i=t.inEdges:"Children"===e&&(i=t.outEdges);for(var n=0;n<i.length;n++){var s=this.nameTable[i[parseInt(n.toString(),10)]];if(this.addNode(s,"passed")){var o=this.nameTable[s.sourceID],a=this.nameTable[s.targetID];"Parents"===e&&null!=o&&Fv(o.id,this.nodes)?this.selectConnectedNodes(this.nameTable[s.sourceID]):"Children"===e&&null!=a&&Fv(a.id,this.nodes)&&this.selectConnectedNodes(this.nameTable[s.targetID])}}},r.prototype.getConnectedRelatives=function(t){this.getConnectedParents(t),this.getConnectedChildren(t)},r.prototype.dictionaryContains=function(t,e){for(var i=Object.keys(t),n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)]===e.id)return!0;return!1},r.prototype.dictionaryLength=function(t){return Object.keys(t).length},r.prototype.getConnectedChildren=function(t){for(var e=this.selectedNode,i=t,n=0;n<i.outEdges.length;n++){var s=this.nameTable[i.outEdges[parseInt(n.toString(),10)]];if(!s.treeInfo.isCycleEdge){var o=this.nameTable[s.targetID];if(Fv(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(e.treeInfo.GraphNodes,o)?a=e.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,t.treeInfo.children||(t.treeInfo.children=[]),a.treeInfo.parents||(a.treeInfo.parents=[]),this.setNode(a.treeInfo.parents,t),this.findNode(t.treeInfo.children,a.id)<0&&t.treeInfo.children.push(a)}}}},r.prototype.getConnectedParents=function(t){for(var e=this.selectedNode,i=t,n=0;n<i.inEdges.length;n++){var s=this.nameTable[i.inEdges[parseInt(n.toString(),10)]];if(!s.treeInfo.isCycleEdge){var o=this.nameTable[s.sourceID];if(Fv(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(e.treeInfo.GraphNodes,o)?a=e.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,t.treeInfo.parents||(t.treeInfo.parents=[]),a.treeInfo.children||(a.treeInfo.children=[]),this.setNode(a.treeInfo.children,t),this.findNode(t.treeInfo.parents,a.id)<0&&t.treeInfo.parents.push(a)}}}},r.prototype.setNode=function(t,e){var i=this.findNode(t,e.id);i>=0&&i<t.length?t[parseInt(i.toString(),10)]=e:t.push(e)},r.prototype.findNode=function(t,e){var i=-1;if(null!=t&&""!==e)for(var n=0,s=t.length;n<s;n++){var o=t[parseInt(n.toString(),10)];if("string"==typeof o&&o===e){i=n;break}if(null!=o&&o.id===e){i=n;break}}return i},r.prototype.addGraphNode=function(t){var e=this.selectedNode;e.treeInfo.GraphNodes||(e.treeInfo.GraphNodes={});var i=t;if(null!=e){e.treeInfo.GraphNodes[i.id]=i;var n=this.mhelperSelectedNode;null!=n&&t.id===n.id&&(this.mhelperSelectedNode=i)}return i},r.prototype.isConnectedToAnotherNode=function(t){var e=!1;return t.inEdges.concat(t.outEdges).length>0&&(null!=t.inEdges&&t.inEdges.length>0&&(e=this.searchEdgeCollection(t.inEdges,"FromNode")),!e&&null!=t.outEdges&&t.outEdges.length>0&&(e=this.searchEdgeCollection(t.outEdges,"ToNode"))),e},r.prototype.searchEdgeCollection=function(t,e){for(var i=!1,n=0;n<t.length-1;n++){var s=this.nameTable[t[parseInt(n.toString(),10)]];if(this.addNode(s,"passed")&&!s.treeInfo.isCycleEdge&&("FromNode"===e&&null!=this.nameTable[s.sourceID]||"ToNode"===e&&null!=this.nameTable[s.targetID])){i=!0;break}}return i},r.prototype.exploreGraphEdge=function(t){var e=t;if(null!=e&&!e.treeInfo.isCycleEdge&&this.addNode(t,"passed")){this.addNode(t,"selected");var i=this.nameTable[e.sourceID],n=this.nameTable[e.targetID];null!=i?this.selectNodes(i):null!=n?this.selectNodes(n):this.selectedNode=t}},r.prototype.addNode=function(t,e){var n=t;return("passed"===e||!n.visible)&&(this.dictionaryContains(this.passedNodes,n)||(this.passedNodes[n.id]=n)),!!n.visible},r.prototype.detectCyclesInGraph=function(t){for(var e=[],i=[],n=0;n<t.length;n++)"Connector"!==t[parseInt(n.toString(),10)].treeInfo.graphType&&e.push(t[parseInt(n.toString(),10)]);if(e.length>0)for(i.push(e[0]),this.visitedStack.push(e[0]);i.length>0;){var o=this.getUnVisitedChildNodes(i[i.length-1]);if(o.length>0){var a=o[0],l=o[o.length-1];Fv(a.id,this.visitedStack)?(l.treeInfo.isCycleEdge=!0,this.cycleEdgesCollection.push(l)):(i.push(a),this.visitedStack.splice(0,0,a))}else i.pop()}},r.prototype.getUnVisitedChildNodes=function(t){var e=[];if(t.outEdges.length>0){for(var i=0;i<t.outEdges.length;i++){var n=this.nameTable[t.outEdges[parseInt(i.toString(),10)]];if(!Fv(n.id,this.visitedStack)){var s=this.nameTable[n.targetID];return null!=s&&e.push(s),e.push(n),this.visitedStack.splice(0,0,n),e}}return e}return e},r}();function uQ(r){return new Xi(r.offsetX-r.actualSize.width*r.pivot.x,r.offsetY-r.actualSize.height*r.pivot.y,r.actualSize.width,r.actualSize.height)}function Fv(r,t){for(var e=0;e<t.length;e++)if(t[parseInt(e.toString(),10)].id===r)return!0;return!1}var g0e=function(){function r(){}return r.prototype.destroy=function(){},r.prototype.getModuleName=function(){return"ComplexHierarchicalTree"},r.prototype.doLayout=function(t,e,i,n,s){(new dQ).doLayout(t,e,i,n,s)},r.prototype.getLayoutNodesCollection=function(t){for(var i,e=[],o=0;o<t.length;o++)(i=t[parseInt(o.toString(),10)]).inEdges.length+i.outEdges.length>0&&!i.parentId&&!i.processId&&e.push(i);return e},r}(),dQ=function(){function r(){this.nameTable={},this.crossReduction=new m0e,this.previousEdgeOffset=6,this.previousEdgeDistance=5,this.jettyPositions={},this.rankBottomY=null,this.limitX=null,this.rankTopY=null,this.parallelEdgeSpacing=10,this.minEdgeJetty=12}return r.prototype.createVertex=function(t,e,i,n,s,o){return{value:e,geometry:{x:i,y:n,width:s,height:o},name:e,vertex:!0,inEdges:t.inEdges.slice(),outEdges:t.outEdges.slice()}},r.prototype.getEdges=function(t){var e=[];if(t){for(var i=0;t.inEdges.length>0&&i<t.inEdges.length;i++)e.push(this.nameTable[t.inEdges[parseInt(i.toString(),10)]]);for(i=0;t.outEdges.length>0&&i<t.outEdges.length;i++)e.push(this.nameTable[t.outEdges[parseInt(i.toString(),10)]])}return e},r.prototype.findRoots=function(t){for(var e=[],i=null,n=-1e5,s=0,o=Object.keys(t);s<o.length;s++){for(var l=t[""+o[s]],h=this.getEdges(l),c=0,u=0,d=0;d<h.length;d++)this.getVisibleTerminal(h[parseInt(d.toString(),10)],!0).name===l.name?c++:u++;0===u&&c>0&&e.push(l);var f=c-u;f>n&&(n=f,i=l)}return 0===e.length&&null!=i&&e.push(i),e},r.prototype.getVisibleTerminal=function(t,e){var i=this.nameTable[t.targetID];e&&(i=this.nameTable[t.sourceID]);for(var n=0;n<this.vertices.length;n++)if(this.vertices[parseInt(n.toString(),10)].name===i.id)return this.vertices[parseInt(n.toString(),10)];return null},r.prototype.traverse=function(t,e,i,n,s,o){if(null!=t){var a=t.name;if(null==o||null!=o[""+a]){null==n[""+a]&&(n[""+a]=t),null!=o&&delete o[""+a];for(var l=this.getEdges(t),h=[],c=0;c<l.length;c++)h[parseInt(c.toString(),10)]=this.getVisibleTerminal(l[parseInt(c.toString(),10)],!0)===t;for(c=0;c<l.length;c++)if(!e||h[parseInt(c.toString(),10)]){for(var u=this.getVisibleTerminal(l[parseInt(c.toString(),10)],!h[parseInt(c.toString(),10)]),d=1,p=0;p<l.length;p++)if(p!==c){var f=h[parseInt(p.toString(),10)];this.getVisibleTerminal(l[parseInt(p.toString(),10)],!f)===u&&(f?d++:d--)}d>=0&&(n=this.traverse(u,e,l[parseInt(c.toString(),10)],n,s,o))}}else if(null==n[""+a])for(c=0;c<s.length;c++){var M=s[parseInt(c.toString(),10)];if(null!=M[""+a]){for(var T=0,P=Object.keys(M);T<P.length;T++){var U=P[T];n[""+U]=M[""+U]}return s.splice(c,1),n}}}return n},r.prototype.getModelBounds=function(t){t=t.slice();for(var e=null,i=null,n=0;n<t.length;n++)if(e=t[parseInt(n.toString(),10)].geometry,i){var s=Math.max(i.x+i.width,e.x+e.width),o=Math.max(i.y+i.height,e.y+e.height);i.x=Math.min(i.x,e.x),i.y=Math.min(i.y,e.y),i.width=s-i.x,i.height=o-i.y}else i={x:e.x,y:e.y,width:e.width,height:e.height};return i},r.prototype.doLayout=function(t,e,i,n,s){this.nameTable=e;var l,o=i.enableRouting,a={horizontalSpacing:i.horizontalSpacing,verticalSpacing:i.verticalSpacing,orientation:i.orientation,marginX:i.margin.left,marginY:i.margin.top,enableLayoutRouting:o};s&&(s.edgeMapper=[]);var h=[];this.vertices=[];for(var c={},u=0;u<t.length;u++){var d=this.createVertex(t[parseInt(u.toString(),10)],t[parseInt(u.toString(),10)].id,0,0,t[parseInt(u.toString(),10)].actualSize.width,t[parseInt(u.toString(),10)].actualSize.height);if(this.vertices.push(d),(t[parseInt(u.toString(),10)].inEdges.length>0||t[parseInt(u.toString(),10)].outEdges.length>0)&&h.push(t[parseInt(u.toString(),10)]),c[d.name]=d,s)for(var p=t[parseInt(u.toString(),10)].outEdges.slice(),f=0;f<p.length;f++){var m=e[p[parseInt(f.toString(),10)]];s.setEdgeMapper({key:m,value:[]})}}var M=[],T=this.findRoots(c);for(u=0;u<T.length;u++)M.push(P={}),this.traverse(T[parseInt(u.toString(),10)],!0,null,P,M,c);var Q,U={marginX:0,marginY:0},Y=[],X=!1;for(u=0;u<M.length;u++){for(var P=M[parseInt(u.toString(),10)],oe=0,de=Object.keys(P);oe<de.length;oe++)Y.push(P[""+(Me=de[oe])]);("Linear"===i.arrangement&&u===M.length-1||o)&&(X=!0),l=new v0e(this,Y,T,a),this.cycleStage(l),this.layeringStage(l),s&&"DifferentPoint"===i.connectionPointOrigin||X?(Q=this.matrixModel({model:l,matrix:[],rowOffset:[]}),s.arrangeElements(Q,i)):"Nonlinear"===i.arrangement&&(this.crossingStage(l),U=this.placementStage(l,U.marginX,U.marginY),Y=[])}var Ve=this.getModelBounds(this.vertices);for(this.updateMargin(i,a,Ve,n),u=0;u<this.vertices.length;u++)if(Ce=this.vertices[parseInt(u.toString(),10)]){var ze=this.nameTable[Ce.name];ze.offsetX=0,ze.offsetY=0;var Ie=Ce.geometry.x-(ze.offsetX-ze.actualSize.width/2)+a.marginX,pe=Ce.geometry.y-(ze.offsetY-ze.actualSize.height/2)+a.marginY,Pe=Ie,Qe=pe;"BottomToTop"===a.orientation?(o&&(Ce.geometry.y=Ve.height-pe-ze.actualSize.height/2),Qe=Ve.height-pe):"RightToLeft"===a.orientation&&(Pe=Ve.width-Ie),ze.offsetX+=Pe-ze.offsetX,ze.offsetY+=Qe-ze.offsetY}if(!X)for(u=0;u<this.vertices.length;u++)this.isNodeOverLap(this.nameTable[this.vertices[parseInt(u.toString(),10)].name],i);if((s&&"DifferentPoint"===i.connectionPointOrigin||o)&&s.updateLayout(n,Ve,i,a,h,e),o){for(var Oe={},Ye=void 0,ut=0;ut<Q.matrix.length;ut++){Ye=Q.matrix[parseInt(ut.toString(),10)].value;for(var Xt=0;Xt<Ye.length;Xt++)for(var ni=Ye[parseInt(Xt.toString(),10)],ui=0;ui<ni.cells.length;ui++){var Pi=ni.cells[parseInt(ui.toString(),10)];"internalVertex"===this.getType(Pi.type)&&(Oe[Pi.id]=Pi)}}this.updateRankValuess(l),u=0;for(var Mi=Object.keys(Oe);u<Mi.length;u++){var Me=Mi[parseInt(u.toString(),10)];this.setVertexLocationValue(Oe[""+Me],i.orientation,Ve)}this.localEdgeProcessing(l,Oe),this.assignRankOffset(l),this.updateEdgeSetXYValue(l);var hn=this.getValues(l.edgeMapper);for(u=0;u<hn.length;u++){if(hn[parseInt(u.toString(),10)].x.length>0)for(f=0;f<hn[parseInt(u.toString(),10)].x.length;f++)hn[parseInt(u.toString(),10)].x[parseInt(f.toString(),10)]="RightToLeft"!==i.orientation&&"LeftToRight"!==i.orientation?hn[parseInt(u.toString(),10)].x[parseInt(f.toString(),10)]+a.marginX:hn[parseInt(u.toString(),10)].x[parseInt(f.toString(),10)]+i.verticalSpacing/2;this.setEdgePosition(hn[parseInt(u.toString(),10)],l,a)}for(ut=0;ut<this.vertices.length;ut++){var Ce;(Ce=this.vertices[parseInt(ut.toString(),10)]).outEdges.length>1&&this.updateMultiOutEdgesPoints(Ce)}}},r.prototype.setEdgeXY=function(t,e,i,n){if(t&&e.source.id){for(var s=void 0,o=void 0,a=0;a<t.length;a++)for(var l=0;l<t[parseInt(a.toString(),10)].length;l++)(t[parseInt(a.toString(),10)][parseInt(l.toString(),10)].id===e.target.id||t[parseInt(a.toString(),10)][parseInt(l.toString(),10)].id===e.source.id)&&(t[parseInt(a.toString(),10)][parseInt(l.toString(),10)].id===e.target.id&&void 0===s&&(s=a),t[parseInt(a.toString(),10)][parseInt(l.toString(),10)].id===e.source.id&&void 0===o&&(o=a));for(var h=void 0,c=s;c<=o;c++)void 0===h&&(h=this[c+"_RankOffset"]),void 0!==h&&h<this[c+"_RankOffset"]&&(h=this[c+"_RankOffset"]);void 0===this.edges&&(this.edges={}),this.edges[e.ids[0]]={x:e.x,y:0};var u=this.resetOffsetXValue(h,i/10);for(e.x[n-e.minRank-1]=u,l=0;l<e.edges.length;l++)e.edges[parseInt(l.toString(),10)].levelSkip=!0}},r.prototype.resetOffsetXValue=function(t,e){for(var i=0,n=Object.keys(this.edges);i<n.length;i++)for(var s=n[parseInt(i.toString(),10)],o=this.edges[""+s].x,a=0;a<o.length;a++)if(this.edges[""+s].x[parseInt(a.toString(),10)]===t)return this.resetOffsetXValue(t+e,e);return t},r.prototype.setEdgePosition=function(t,e,i){var n=0;if(101207!==t.temp[0]){void 0===t.maxRank&&(t.maxRank=-1),void 0===t.minRank&&(t.minRank=-1);var s=t.maxRank,o=t.minRank;s===o&&(s=t.source.maxRank,o=t.target.minRank);var a=0,l=this.jettyPositions[t.ids[0]];t.isReversed=void 0!==t.isReversed;var h=t.isReversed?t.target.cell:t.source.cell,c=!1;"TopToBottom"===e.layout.orientation||"LeftToRight"===e.layout.orientation?("TopToBottom"===e.layout.orientation&&(c=!1),"LeftToRight"===e.layout.orientation&&(c=!1)):t.isReversed||(c=!0);for(var u=0;u<t.edges.length;u++){var d=t.edges[parseInt(u.toString(),10)],p=this.getVisibleTerminal(d,!0),f=[],m=t.isReversed;if(p!==h&&(m=!m),null!=l){var M=m?2:0,T=m?c?this.rankBottomY[parseInt(o.toString(),10)]:this.rankTopY[parseInt(o.toString(),10)]:c?this.rankTopY[parseInt(s.toString(),10)]:this.rankBottomY[parseInt(s.toString(),10)],P=l[4*a+1+M];m!==c&&(P=-P),("TopToBottom"===i.orientation||"BottomToTop"===i.orientation)&&(T+=P);var U=l[4*a+M];f.push("TopToBottom"===i.orientation||"BottomToTop"===i.orientation?this.getPointvalue(U,T+i.marginY):this.getPointvalue("LeftToRight"===i.orientation?T+P:T,U+i.marginY))}var Y=t.x.length-1,X=-1,Q=-1,oe=t.maxRank-1;m&&(Y=0,X=t.x.length,Q=1,oe=t.minRank+1);for(var de=Y;t.maxRank!==t.minRank&&de!==X;de+=Q){var Me=t.x[parseInt(de.toString(),10)]+n,Ve=(this.rankTopY[parseInt(oe.toString(),10)]+this.rankBottomY[oe+1])/2,Ce=(this.rankTopY[oe-1]+this.rankBottomY[parseInt(oe.toString(),10)])/2;if(m){var ze=Ve;Ve=Ce,Ce=ze}"TopToBottom"===i.orientation||"BottomToTop"===i.orientation?(f.push(this.getPointvalue(Me,Ve+i.marginY)),f.push(this.getPointvalue(Me,Ce+i.marginY))):(f.push(this.getPointvalue(Ve,Me+i.marginY)),f.push(this.getPointvalue(Ce,Me+i.marginY))),this.limitX=Math.max(this.limitX,Me),oe+=Q}if(null!=l){M=m?2:0;var Ie=m?c?this.rankTopY[parseInt(s.toString(),10)]:this.rankBottomY[parseInt(s.toString(),10)]:c?this.rankBottomY[parseInt(o.toString(),10)]:this.rankTopY[parseInt(o.toString(),10)];P=l[4*a+3-M],m!==c&&(P=-P),T=Ie-P,U=l[4*a+2-M],f.push("TopToBottom"===i.orientation||"BottomToTop"===i.orientation?this.getPointvalue(U,T+i.marginY):this.getPointvalue(T,U+i.marginY))}this.setEdgePoints(d,f,e),n=0===n?this.parallelEdgeSpacing:n>0?-n:-n+this.parallelEdgeSpacing,a++}t.temp[0]=101207}},r.prototype.getPointvalue=function(t,e){return{x:Number(t)||0,y:Number(e)||0}},r.prototype.updateEdgeSetXYValue=function(t){if(t.layout.enableLayoutRouting){var e=!1;("LeftToRight"===t.layout.orientation||"RightToLeft"===t.layout.orientation)&&(e=!0);for(var i=0;i<t.ranks.length;i++)for(var n=t.ranks[parseInt(i.toString(),10)],s=0;s<n.length;s++){var o=n[parseInt(s.toString(),10)];if(o.edges&&o.edges.length>0){var l=!0;o.minRank===i-1||o.maxRank===i-1||(l=!1),l&&this.setXY(o,i,void 0,!!e,t.ranks,t.layout.horizontalSpacing>0?t.layout.horizontalSpacing/2:15)}}}},r.prototype.getPreviousLayerConnectedCells=function(t,e){if(null==e.previousLayerConnectedCells){e.previousLayerConnectedCells=[],e.previousLayerConnectedCells[0]=[];for(var i=0;i<e.connectsAsSource.length;i++){var n=e.connectsAsSource[parseInt(i.toString(),10)];e.previousLayerConnectedCells[0].push(-1===n.minRank||n.minRank===t-1?n.target:n)}}return e.previousLayerConnectedCells[0]},r.prototype.compare=function(t,e){if(null!=t&&null!=e){if(e.weightedValue>t.weightedValue)return-1;if(e.weightedValue<t.weightedValue)return 1}return 0},r.prototype.localEdgeProcessing=function(t,e){for(var i=0;i<t.ranks.length;i++)for(var n=t.ranks[parseInt(i.toString(),10)],s=0;s<n.length;s++){var o=n[parseInt(s.toString(),10)];if(this.crossReduction.isVertex(o))for(var a=this.getPreviousLayerConnectedCells(i,o),l=i-1,h=0;h<2;h++){if(l>-1&&l<t.ranks.length&&null!=a&&a.length>0){for(var c=[],u=0;u<a.length;u++){var d=this.weightedCellSorter(a[parseInt(u.toString(),10)],this.getX(l,a[parseInt(u.toString(),10)]));c.push(d)}c.sort(this.compare),o.width=e[o.id].cell.geometry.width,o.height=e[o.id].cell.geometry.height;var p=void 0;"TopToBottom"===t.layout.orientation||"BottomToTop"===t.layout.orientation?(o.x[0]=e[o.id].cell.geometry.x+e[o.id].cell.geometry.width/2,p=o.x[0]-o.width/2+e[o.id].cell.geometry.height/2):(o.x[0]=e[o.id].cell.geometry.y,p=o.x[0]);var f=p+o.width,m=0,M=[];for(u=0;u<c.length;u++){var T=c[parseInt(u.toString(),10)].cell,P=void 0;if(this.crossReduction.isVertex(T)){P=0===h?o.connectsAsSource:o.connectsAsTarget;for(var U=0;U<P.length;U++)(P[parseInt(U.toString(),10)].source===T||P[parseInt(U.toString(),10)].target===T)&&(m+=P[parseInt(U.toString(),10)].edges.length,M.push(P[parseInt(U.toString(),10)]))}else m+=T.edges.length,M.push(T)}o.width>(m+1)*this.previousEdgeDistance+2*this.previousEdgeDistance&&(p+=this.previousEdgeDistance,f-=this.previousEdgeDistance);var Q=(f-p)/m,oe=p+Q/2,de=this.minEdgeJetty-this.previousEdgeOffset;for(u=0;u<M.length;u++){var Me=M[parseInt(u.toString(),10)].edges.length;void 0===this.jettyPositions&&(this.jettyPositions={});var Ve=this.jettyPositions[M[parseInt(u.toString(),10)].ids[0]];null==Ve&&(Ve=[],this.jettyPositions[M[parseInt(u.toString(),10)].ids[0]]=Ve),u<m/2?de+=this.previousEdgeOffset:u>m/2&&(de-=this.previousEdgeOffset);for(var Ce=0;Ce<Me;Ce++)Ve[4*Ce+2*h]=oe,oe+=Q,Ve[4*Ce+2*h+1]=de}}a=this.getNextLayerConnectedCells(i,o),l=i+1}}},r.prototype.updateMultiOutEdgesPoints=function(t){for(var e=0;e<t.outEdges.length/2;e++){var i=this.nameTable[t.outEdges[parseInt(e.toString(),10)]],s="geometry";this.nameTable[t.outEdges[t.outEdges.length-(e+1)]][""+s].points[0].y=i[""+s].points[0].y}},r.prototype.getNextLayerConnectedCells=function(t,e){if(null==e.nextLayerConnectedCells){e.nextLayerConnectedCells=[],e.nextLayerConnectedCells[0]=[];for(var i=0;i<e.connectsAsTarget.length;i++){var n=e.connectsAsTarget[parseInt(i.toString(),10)];e.nextLayerConnectedCells[0].push(-1===n.maxRank||n.maxRank===t+1?n.source:n)}}return e.nextLayerConnectedCells[0]},r.prototype.getX=function(t,e){return this.crossReduction.isVertex(e)?e.x[0]:this.crossReduction.isVertex(e)?0:e.x[t-e.minRank-1]||e.temp[t-e.minRank-1]},r.prototype.getGeometry=function(t){return t.geometry},r.prototype.setEdgePoints=function(t,e,i){if(null!=t){var s=this.getGeometry(t);if(null!=e)for(var o=0;o<e.length;o++)e[o].x=e[o].x,e[o].y=e[o].y;s.points=e,t.geometry=s}},r.prototype.assignRankOffset=function(t){if(t)for(var e=0;e<t.ranks.length;e++)this.rankCoordinatesAssigment(e,t)},r.prototype.rankCoordinatesAssigment=function(t,e){for(var s,i=e.ranks[parseInt(t.toString(),10)],n=e.layout.horizontalSpacing,o=0;o<i.length;o++)void 0===this[t+"_RankOffset"]&&(this[t+"_RankOffset"]=0),s=i[parseInt(o.toString(),10)].x[0],this[t+"_RankOffset"]<s&&(this[t+"_RankOffset"]=s+i[parseInt(o.toString(),10)].width/2+n)},r.prototype.getType=function(t){return"internalVertex"===t?"internalVertex":"internalEdge"},r.prototype.updateRankValuess=function(t){this.rankTopY=[],this.rankBottomY=[];for(var e=0;e<t.ranks.length;e++)this.rankTopY[parseInt(e.toString(),10)]=Number.MAX_VALUE,this.rankBottomY[parseInt(e.toString(),10)]=-Number.MAX_VALUE},r.prototype.setVertexLocationValue=function(t,e,i){var o,n=t.cell.geometry;o="TopToBottom"===e||"BottomToTop"===e?n.y:n.x,"RightToLeft"===e?(o=i.width-n.x-n.height,this.rankBottomY[t.minRank]=Math.max(this.rankBottomY[t.minRank],o),this.rankTopY[t.minRank]=Math.min(this.rankTopY[t.minRank],o+n.height)):(this.rankTopY[t.minRank]=Math.min(this.rankTopY[t.minRank],o),this.rankBottomY[t.minRank]=Math.max(this.rankBottomY[t.minRank],o+n.height))},r.prototype.matrixModel=function(t){return t.model=t.model,t.matrix=t.matrix||[],t.rowOffset=t.rowOffset||[],t},r.prototype.calculateRectValue=function(t){var e={x:0,y:0,right:0,bottom:0,height:0,width:0};return e.x=t.offsetX-t.actualSize.width/2,e.right=t.offsetX+t.actualSize.width/2,e.y=t.offsetY-t.actualSize.height/2,e.bottom=t.offsetY+t.actualSize.height/2,e},r.prototype.isNodeOverLap=function(t,e){for(var i={x:0,y:0,right:0,bottom:0,height:0,width:0},n=0;n<this.vertices.length;n++){var s={x:0,y:0,width:0,height:0},o=this.nameTable[this.vertices[parseInt(n.toString(),10)].value];t.id!==o.id&&0!==o.offsetX&&0!==o.offsetY&&(i=this.calculateRectValue(t),s=this.calculateRectValue(o),this.isIntersect(s,i,e)&&("TopToBottom"===e.orientation||"BottomToTop"===e.orientation?t.offsetX+=e.horizontalSpacing:t.offsetY+=e.verticalSpacing,this.isNodeOverLap(t,e)))}},r.prototype.isIntersect=function(t,e,i){return!(Math.floor(t.right+i.horizontalSpacing)<=Math.floor(e.x)||Math.floor(t.x-i.horizontalSpacing)>=Math.floor(e.right)||Math.floor(t.y-i.verticalSpacing)>=Math.floor(e.bottom)||Math.floor(t.bottom+i.verticalSpacing)<=Math.floor(e.y))},r.prototype.updateMargin=function(t,e,i,n){var o_x=i.x,o_y=i.y,o_right=i.x+i.width,o_bottom=i.y+i.height,a=t.bounds?t.bounds:{x:0,y:0,width:n.x,height:n.y};if("TopToBottom"===e.orientation||"BottomToTop"===e.orientation){switch(t.horizontalAlignment){case"Auto":case"Left":e.marginX=a.x-o_x+t.margin.left;break;case"Right":e.marginX=a.x+a.width-t.margin.right-o_right;break;case"Center":e.marginX=a.x+a.width/2-(o_x+o_right)/2}switch(t.verticalAlignment){case"Top":var l=a.y+t.margin.top;e.marginY="TopToBottom"===e.orientation?l:-l;break;case"Bottom":var h=a.y+a.height-t.margin.bottom;e.marginY="TopToBottom"===e.orientation?h-o_bottom:-(h-o_bottom);break;case"Auto":case"Center":var c=a.y+a.height/2;e.marginY="TopToBottom"===e.orientation?c-(o_y+o_bottom)/2:(o_y+o_bottom)/2-c}}else{switch(t.horizontalAlignment){case"Auto":case"Left":var u=a.x+t.margin.left;e.marginX="LeftToRight"===e.orientation?u:-u;break;case"Right":var d;d=a.x+a.width-t.margin.right,e.marginX="LeftToRight"===e.orientation?d-o_right:o_right-d;break;case"Center":c=void 0,c=a.width/2+a.x,e.marginX="LeftToRight"===e.orientation?c-(o_y+o_bottom)/2:(o_x+o_right)/2-c}switch(t.verticalAlignment){case"Top":e.marginY=a.y+t.margin.top-o_x;break;case"Auto":case"Center":e.marginY=a.y+a.height/2-(o_y+o_bottom)/2;break;case"Bottom":e.marginY=a.y+a.height-t.margin.bottom-o_bottom}}},r.prototype.placementStage=function(t,e,i){var n=this.coordinateAssignment(e,i,parent,t);return n.model=t,n.widestRankValue=null,this.placementStageExecute(n),{marginX:n.marginX+t.layout.horizontalSpacing,marginY:n.marginY+t.layout.verticalSpacing}},r.prototype.coordinateAssignment=function(t,e,i,n){var s={};return"TopToBottom"===n.layout.orientation||"BottomToTop"===n.layout.orientation?(s.horizontalSpacing=n.layout.horizontalSpacing,s.verticalSpacing=n.layout.verticalSpacing):(s.horizontalSpacing=n.layout.verticalSpacing,s.verticalSpacing=n.layout.horizontalSpacing),s.orientation="north",s.marginX=s.marginX=t,s.marginY=s.marginY=e,s},r.prototype.calculateWidestRank=function(t,e,i){var n=!1;("LeftToRight"===t.model.layout.orientation||"RightToLeft"===t.model.layout.orientation)&&(n=!0);var s=-t.verticalSpacing,o=0;t.rankSizes=[],t.rankOffset=[];for(var a=i.maxRank;a>=0;a--){for(var l=0,h=i.ranks[parseInt(a.toString(),10)],c=n?t.marginY:t.marginX,u=0;u<h.length;u++){var d=h[parseInt(u.toString(),10)];if(this.crossReduction.isVertex(d)){var p=d;if(p.cell&&(p.cell.inEdges||p.cell.outEdges)){var f=this.nameTable[p.cell.name];p.width=f.actualSize.width,p.height=f.actualSize.height,l=Math.max(l,n?p.width:p.height)}}else if(d){var M=1;null!=d.edges&&(M=d.edges.length),d.width=10*(M-1)}n&&(d.height||(d.height=0)),this.setXY(d,a,c+=(n?d.height:d.width)/2,!!n),this.setTempVariable(d,a,c),(c+=(n?d.height:d.width)/2+t.horizontalSpacing)>t.widestRankValue&&(t.widestRankValue=c,t.widestRank=a),t.rankSizes[parseInt(a.toString(),10)]=c}t.rankOffset[parseInt(a.toString(),10)]=s;var T=l/2+o/2+t.verticalSpacing;for(o=l,"north"===t.orientation||"west"===t.orientation?s+=T:s-=T,u=0;u<h.length;u++){var P=h[parseInt(u.toString(),10)];this.setXY(P,a,s,!n)}}},r.prototype.setTempVariable=function(t,e,i){this.crossReduction.isVertex(t)?t.temp[0]=i:t.temp[e-t.minRank-1]=i},r.prototype.setXY=function(t,e,i,n,s,o){t&&t.cell?t.cell.inEdges||t.cell.outEdges?n?t.y[0]=i:t.x[0]=i:n?t.y[e-t.minRank-1]=i:t.x[e-t.minRank-1]=i:this.setEdgeXY(s,t,o,e)},r.prototype.rankCoordinates=function(t,e,i,n){var s=!1;("LeftToRight"===t.model.layout.orientation||"RightToLeft"===t.model.layout.orientation)&&(s=!0);for(var o=n.ranks[parseInt(e.toString(),10)],a=0,l=(s?t.marginY:t.marginX)+(t.widestRankValue-t.rankSizes[parseInt(e.toString(),10)])/2,h=0;h<o.length;h++){var c=o[parseInt(h.toString(),10)];if(this.crossReduction.isVertex(c)){var u=this.nameTable[c.cell.name];c.width=u.actualSize.width,c.height=u.actualSize.height,a=Math.max(a,c.height)}else{var p=1;null!=c.edges&&(p=c.edges.length),s?c.height=10*(p-1):c.width=10*(p-1)}var f=(s?c.height:c.width)/2;this.setXY(c,e,l+=f,!!s),this.setTempVariable(c,e,l),l+=f+t.horizontalSpacing}},r.prototype.initialCoords=function(t,e,i){this.calculateWidestRank(t,e,i);for(var n=t.widestRank;n>=0;n--)n<i.maxRank&&this.rankCoordinates(t,n,e,i);for(n=t.widestRank+1;n<=i.maxRank;n++)n>0&&this.rankCoordinates(t,n,e,i)},r.prototype.isAncestor=function(t,e){if(null!=e&&null!=t.hashCode&&null!=e.hashCode&&t.hashCode.length<e.hashCode.length){if(t.hashCode===e.hashCode)return!0;if(null==t.hashCode||null==t.hashCode)return!1;for(var i=0;i<t.hashCode.length;i++)if(t.hashCode[parseInt(i.toString(),10)]!==e.hashCode[parseInt(i.toString(),10)])return!1;return!0}return!1},r.prototype.weightedCellSorter=function(t,e){var i={};return i.cell=t||null,i.weightedValue=e||0,i.visited=!1,i.rankIndex=null,i},r.prototype.minNode=function(t,e){for(var i=[],n={map:{}},s=[],o=0;o<=e.maxRank;o++){s[parseInt(o.toString(),10)]=e.ranks[parseInt(o.toString(),10)];for(var a=0;a<s[parseInt(o.toString(),10)].length;a++){var l=s[parseInt(o.toString(),10)][parseInt(a.toString(),10)],h=this.weightedCellSorter(l,o);h.rankIndex=a,h.visited=!0,i.push(h),e.setDictionaryForSorter(n,l,h,!0)}}for(var c=10*i.length,u=0;i.length>0&&u<=c;){var p=i.shift(),f=p.cell,m=p.weightedValue,M=p.rankIndex,T=this.crossReduction.getConnectedCellsOnLayer(f,m),P=this.crossReduction.getConnectedCellsOnLayer(f,m,!0),U=T.length,Y=P.length,X=this.medianXValue(t,T,m+1),Q=this.medianXValue(t,P,m-1),oe=U+Y,de=this.crossReduction.getTempVariable(f,m),Me=de;oe>0&&(Me=(X*U+Q*Y)/oe),1===U&&1===Y?Me=Q*Y/Y:1===U&&(Me=X*U/U);var Ve=!1,Ce=void 0;if(Me<de-1)if(0===M)Ce=Me,Ve=!0;else{var ze=s[parseInt(m.toString(),10)][M-1],Ie=this.crossReduction.getTempVariable(ze,m);(Ie=Ie+ze.width/2+t.intraCellSpacing+f.width/2)<Me?(Ce=Me,Ve=!0):Ie<this.crossReduction.getTempVariable(f,m)-1&&(Ce=Ie,Ve=!0)}else if(Me>de+1)if(M===s[parseInt(m.toString(),10)].length-1)Ce=Me,Ve=!0;else{var Pe=s[parseInt(m.toString(),10)][M+1],Qe=this.crossReduction.getTempVariable(Pe,m);(Qe=Qe-Pe.width/2-t.intraCellSpacing-f.width/2)>Me?(Ce=Me,Ve=!0):Qe>this.crossReduction.getTempVariable(f,m)+1&&(Ce=Qe,Ve=!0)}Ve&&(this.setTempVariable(f,m,Ce),this.updateNodeList(i,n,T,e),this.updateNodeList(i,n,P,e)),this.crossReduction.isVertex(p.cell)&&(p.visited=!1),u++}},r.prototype.updateNodeList=function(t,e,i,n){for(var s=0;s<i.length;s++){var o=i[parseInt(s.toString(),10)],a=n.getDictionaryForSorter(e,o);null!=a&&!1===a.visited&&(a.visited=!0,t.push(a))}},r.prototype.medianXValue=function(t,e,i){if(0===e.length)return 0;for(var n=[],s=0;s<e.length;s++)n[parseInt(s.toString(),10)]=this.crossReduction.getTempVariable(e[parseInt(s.toString(),10)],i);if(n.sort(function(h,c){return h-c}),e.length%2==1)return n[Math.floor(e.length/2)];var o=e.length/2;return(n[o-1]+n[parseInt(o.toString(),10)])/2},r.prototype.placementStageExecute=function(t){var e=!1;("LeftToRight"===t.model.layout.orientation||"RightToLeft"===t.model.layout.orientation)&&(e=!0),t.jettyPositions={};var i=t.model;e?t.currentYDelta=0:t.currentXDelta=0,this.initialCoords(t,{model:i},i),this.minNode(t,i);var n=1e8;t.maxIterations||(t.maxIterations=8);for(var s=0;s<t.maxIterations;s++){if((e?t.currentYDelta:t.currentXDelta)<n){for(var o=0;o<i.ranks.length;o++)for(var a=i.ranks[parseInt(o.toString(),10)],l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)];this.setXY(h,o,this.crossReduction.getTempVariable(h,o),!!e)}n=e?t.currentYDelta:t.currentXDelta}e?t.currentYDelta=0:t.currentXDelta=0}this.setCellLocations(t,i)},r.prototype.setCellLocations=function(t,e){for(var i=this.getValues(e.vertexMapper),n=0;n<i.length;n++)this.setVertexLocation(t,i[parseInt(n.toString(),10)])},r.prototype.garphModelsetVertexLocation=function(t,e,i,n){var s=e.geometry,o=null;return null!=s&&(o={x:i,y:n,width:s.width,height:s.height},(s.x!==i||s.y!==n)&&(e.geometry=o)),o},r.prototype.setVertexLocation=function(t,e){var i=!1;("LeftToRight"===t.model.layout.orientation||"RightToLeft"===t.model.layout.orientation)&&(i=!0);var s=e.x[0]-e.width/2,o=e.y[0]-e.height/2;this.garphModelsetVertexLocation(t,e.cell,s,o),i?(t.marginY||(t.marginY=0),t.marginY=Math.max(t.marginY,o+e.height)):(t.marginX||(t.marginX=0),t.marginX=Math.max(t.marginX,s+e.width))},r.prototype.getValues=function(t){var e=[];if(t.map)for(var i=0,n=Object.keys(t.map);i<n.length;i++)e.push(t.map[""+n[i]]);return e},r.prototype.crossingStage=function(t){this.crossReduction.execute(t)},r.prototype.layeringStage=function(t){this.initialRank(t),this.fixRanks(t)},r.prototype.initialRank=function(t){for(var e=t.startNodes,i=t.getDictionaryValues(t.vertexMapper),n=e.slice();e.length>0;){for(var o=(s=e[0]).connectsAsTarget,a=s.connectsAsSource,l=!0,h=1e8,c=0;c<o.length;c++){if(5270620!==(u=o[parseInt(c.toString(),10)]).temp[0]){l=!1;break}var d=u.source;h=Math.min(h,d.temp[0]-1)}if(l){if(s.temp[0]=h,t.maxRank||(t.maxRank=1e8),t.maxRank=Math.min(t.maxRank,h),null!=a)for(c=0;c<a.length;c++)(u=a[parseInt(c.toString(),10)]).temp[0]=5270620,-1===(d=u.target).temp[0]&&(e.push(d),d.temp[0]=-2);e.shift()}else{var p=e.shift();if(e.push(s),p===s&&1===e.length)break}}for(c=0;c<i.length;c++)i[parseInt(c.toString(),10)].temp[0]-=t.maxRank;for(c=0;c<n.length;c++)for(var s,f=0,m=(o=(s=n[parseInt(c.toString(),10)]).connectsAsSource,0);m<o.length;m++){var u;d=(u=o[parseInt(m.toString(),10)]).target,s.temp[0]=Math.max(f,d.temp[0]+1),f=s.temp[0]}t.maxRank=1e8-t.maxRank},r.prototype.fixRanks=function(t){t.fixRanks()},r.prototype.cycleStage=function(t){var e={};t.startNodes=[];for(var i=t.getDictionaryValues(t.vertexMapper),n=[],s=0;s<i.length;s++)i[parseInt(s.toString(),10)].temp[0]=-1,n[i[parseInt(s.toString(),10)].id]=i[parseInt(s.toString(),10)];var o=null;if(null!=t.roots){var a=t.roots;for(o=[],s=0;s<a.length;s++)o[parseInt(s.toString(),10)]=t.getDictionary(t.vertexMapper,a[parseInt(s.toString(),10)]),null!=o[parseInt(s.toString(),10)]&&t.startNodes.push(o[parseInt(s.toString(),10)])}t.visit("removeParentConnection",o,!0,null,{seenNodes:e,unseenNodes:n});var l=t.clone(e,null,!0);t.visit("removeNodeConnection",n,!0,l,{seenNodes:e,unseenNodes:n})},r.prototype.remove=function(t,e){var i=e.indexOf(t);return-1!==i&&e.splice(i,1),t},r.prototype.invert=function(t,e){var i=t.source;t.source=t.target,t.target=i,t.isReversed=!t.isReversed},r.prototype.getEdgesBetween=function(t,e,i){i=i??!1;for(var n=this.getEdges(t),s=[],o=0;o<n.length;o++){var a=this.getVisibleTerminal(n[parseInt(o.toString(),10)],!0),l=this.getVisibleTerminal(n[parseInt(o.toString(),10)],!1);(a===t&&l===e||!i&&a===e&&l===t)&&s.push(n[parseInt(o.toString(),10)])}return s},r}(),v0e=function(){function r(t,e,i,n){this.multiObjectIdentityCounter=0,this.dfsCount=0,this.hierarchicalUtil=new dQ,this.roots=i,this.vertexMapper={map:{}};var s=[];this.layout=n,this.maxRank=1e8,this.edgeMapper={map:{}},this.hierarchicalLayout=t,this.createInternalCells(t,e,s,n);for(var o=0;o<e.length;o++){for(var a=s[parseInt(o.toString(),10)].connectsAsSource,l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)],c=h.edges;if(null!=c&&c.length>0){var u=c[0],d=t.getVisibleTerminal(u,!1),p=this.getDictionary(this.vertexMapper,d);s[parseInt(o.toString(),10)]===p&&(d=t.getVisibleTerminal(u,!0),p=this.getDictionary(this.vertexMapper,d)),null!=p&&s[parseInt(o.toString(),10)]!==p&&(h.target=p,0===p.connectsAsTarget.length&&(p.connectsAsTarget=[]),p.connectsAsTarget.indexOf(h)<0&&p.connectsAsTarget.push(h))}}s[parseInt(o.toString(),10)].temp[0]=1}}return r.prototype.resetEdge=function(t){return t.geometry={x:0,y:0,width:0,height:0,relative:!0},t},r.prototype.createInternalCells=function(t,e,i,n){for(var s=0;s<e.length;s++){i[parseInt(s.toString(),10)]={x:[],y:[],temp:[],cell:e[parseInt(s.toString(),10)],id:e[parseInt(s.toString(),10)].name,connectsAsTarget:[],connectsAsSource:[],type:"internalVertex"},this.setDictionary(this.vertexMapper,e[parseInt(s.toString(),10)],i[parseInt(s.toString(),10)]);var o=t.getEdges(e[parseInt(s.toString(),10)]);i[parseInt(s.toString(),10)].connectsAsSource=[];for(var a=0;a<o.length;a++){var l=t.getVisibleTerminal(o[parseInt(a.toString(),10)],!1);if(l!==e[parseInt(s.toString(),10)]){var h=t.getEdgesBetween(e[parseInt(s.toString(),10)],l,!1),c=t.getEdgesBetween(e[parseInt(s.toString(),10)],l,!0);if(null!=h&&h.length>0&&2*c.length>=h.length){var u={x:[],y:[],temp:[],edges:h,ids:[]};if(n.enableLayoutRouting)for(var d=0;d<h.length;d++){var p=h[parseInt(d.toString(),10)];this.setDictionary(this.edgeMapper,void 0,u,p.id),this.resetEdge(p)}u.source=i[parseInt(s.toString(),10)];for(var f=0;f<h.length;f++)u.ids.push(h[parseInt(f.toString(),10)].id);u.source=i[parseInt(s.toString(),10)],i[parseInt(s.toString(),10)].connectsAsSource||(i[parseInt(s.toString(),10)].connectsAsSource=[]),i[parseInt(s.toString(),10)].connectsAsSource.indexOf(u)<0&&i[parseInt(s.toString(),10)].connectsAsSource.push(u)}}}i[parseInt(s.toString(),10)].temp[0]=0}},r.prototype.fixRanks=function(){var t=[];this.ranks=[];for(var e=0;e<this.maxRank+1;e++)t[parseInt(e.toString(),10)]=[],this.ranks[parseInt(e.toString(),10)]=t[parseInt(e.toString(),10)];var i=null;if(null!=this.roots){var n=this.roots;for(i=[],e=0;e<n.length;e++){var s=n[parseInt(e.toString(),10)],o=this.getDictionary(this.vertexMapper,s);i[parseInt(e.toString(),10)]=o}}this.visit("updateMinMaxRank",i,!1,null,{seenNodes:null,unseenNodes:null,rankList:t})},r.prototype.updateMinMaxRank=function(t,e,i){var n=i.parent,s=i.root,o=i.edge,a=i.rankList;if(!s.maxRank&&0!==s.maxRank&&(s.maxRank=-1),!s.minRank&&0!==s.minRank&&(s.minRank=-1),0===e&&s.maxRank<0&&s.minRank<0&&(a[s.temp[0]].push(s),s.maxRank=s.temp[0],s.minRank=s.temp[0],s.temp[0]=a[s.maxRank].length-1),null!=n&&null!=o&&n.maxRank-s.maxRank>1){o.maxRank=n.maxRank,o.minRank=s.maxRank,o.temp=[],o.x=[],o.y=[];for(var h=o.minRank+1;h<o.maxRank;h++)a[parseInt(h.toString(),10)].push(o),this.hierarchicalUtil.setTempVariable(o,h,a[parseInt(h.toString(),10)].length-1)}},r.prototype.setDictionary=function(t,e,i,n){if(n){var o=t.map[""+n];return t.map[""+n]=i,o}var s=e.name;return o=t.map[""+s],t.map[""+s]=i,o},r.prototype.setDictionaryForSorter=function(t,e,i,n){var s=e.id,o=t.map[""+s];return t.map[""+s]=i,o},r.prototype.getDictionary=function(t,e){!this.multiObjectIdentityCounter&&0!==this.multiObjectIdentityCounter&&(this.multiObjectIdentityCounter=0);var i=e.name;return i?t.map[""+i]:e.layoutObjectId?t.map[e.layoutObjectId]:(e.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,e.layoutObjectId)},r.prototype.getDictionaryForSorter=function(t,e){!this.multiObjectIdentityCounter&&0!==this.multiObjectIdentityCounter&&(this.multiObjectIdentityCounter=0);var i=e.id;return i?t.map[""+i]:e.layoutObjectId?t.map[e.layoutObjectId]:(e.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,e.layoutObjectId)},r.prototype.getDictionaryValues=function(t){for(var e=[],i=0,n=Object.keys(t.map);i<n.length;i++)e.push(t.map[""+n[i]]);return e},r.prototype.visit=function(t,e,i,n,s){if(null!=e){for(var o=0;o<e.length;o++){var a=e[parseInt(o.toString(),10)];null!=a&&(null==n&&(n=new Object),s.parent=null,s.root=a,s.edge=null,i?(a.hashCode=[],a.hashCode[0]=this.dfsCount,a.hashCode[1]=o,this.extendedDfs(t,n,o,0,s)):this.depthFirstSearch(t,n,0,s))}this.dfsCount++}},r.prototype.depthFirstSearch=function(t,e,i,n){var s=n.root;if(null!=s){var o=s.id;if(null==e[""+o]){e[""+o]=s,this.updateConnectionRank(t,i,0,n);for(var a=s.connectsAsSource.slice(),l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)],c=h.target;n.parent=s,n.root=c,n.edge=h,this.depthFirstSearch(t,e,i+1,n)}}else this.updateConnectionRank(t,i,1,n)}},r.prototype.updateConnectionRank=function(t,e,i,n){"removeParentConnection"!==t&&"removeNodeConnection"!==t||this.removeConnectionEdge(n.parent,n.root,n.edge,e,n,"removeNodeConnection"===t),"updateMinMaxRank"===t&&this.updateMinMaxRank(e,i,n)},r.prototype.removeConnectionEdge=function(t,e,i,n,s,o){var a=s.seenNodes,l=s.unseenNodes;this.hierarchicalUtil.isAncestor(e,t)&&(this.hierarchicalUtil.invert(i,0),this.hierarchicalUtil.remove(i,t.connectsAsSource),o?(e.connectsAsSource.push(i),t.connectsAsTarget.push(i),this.hierarchicalUtil.remove(i,e.connectsAsTarget)):(t.connectsAsTarget.push(i),this.hierarchicalUtil.remove(i,e.connectsAsTarget),e.connectsAsSource.push(i))),a[e.id]=e,delete l[e.id]},r.prototype.extendedDfs=function(t,e,i,n,s){var o=s.parent,a=s.root;if(null!=a){if(null!=o&&(null==a.hashCode||a.hashCode[0]!==o.hashCode[0])){var h=o.hashCode.length+1;a.hashCode=o.hashCode.slice(),a.hashCode[h-1]=i}var c=a.id;if(null==e[""+c]){e[""+c]=a,this.updateConnectionRank(t,n,0,s);for(var u=a.connectsAsSource.slice(),d=0;d<u.length;d++){var p=u[parseInt(d.toString(),10)],f=p.target;s.parent=a,s.root=f,s.edge=p,this.extendedDfs(t,e,d,n+1,s)}}else this.updateConnectionRank(t,n,1,s)}},r.prototype.clone=function(t,e,i){if(i=i??!1,null!=t&&"function"==typeof t.constructor){for(var n=t.constructor(),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];"layoutObjectId"!==a&&(null==e||e.indexOf(a)<0)&&(!i&&"object"==typeof t[""+a]||(n[""+a]=t[""+a]))}return n}return null},r}(),m0e=function(){function r(){}return r.prototype.calculateCrossings=function(t){for(var e=t.ranks.length,i=0,n=1;n<e;n++)i+=this.calculateRankCrossing(n,t);return i},r.prototype.getTempVariable=function(t,e){return t?this.isVertex(t)?t.temp[0]:t.temp[e-t.minRank-1]:0},r.prototype.calculateRankCrossing=function(t,e){for(var i=0,n=e.ranks[parseInt(t.toString(),10)],s=e.ranks[t-1],o=[],a=0;a<n.length;a++){for(var l=n[parseInt(a.toString(),10)],h=this.getTempVariable(l,t),c=this.getConnectedCellsOnLayer(l,t,!0),u=[],d=0;d<c.length;d++){var p=c[parseInt(d.toString(),10)],f=this.getTempVariable(p,t-1);u.push(f)}u.sort(function(X,Q){return X-Q}),o[parseInt(h.toString(),10)]=u}var m=[];for(a=0;a<o.length;a++)m=m.concat(o[parseInt(a.toString(),10)]);for(var M=1;M<s.length;)M<<=1;var T=2*M-1;M-=1;var P=[];for(a=0;a<T;++a)P[parseInt(a.toString(),10)]=0;for(a=0;a<m.length;a++){var Y=m[parseInt(a.toString(),10)]+M;for(++P[parseInt(Y.toString(),10)];Y>0;)Y%2&&(i+=P[Y+1]),Y=Y-1>>1,++P[parseInt(Y.toString(),10)]}return i},r.prototype.execute=function(t){this.nestedBestRanks=[];for(var e=0;e<t.ranks.length;e++)this.nestedBestRanks[parseInt(e.toString(),10)]=t.ranks[parseInt(e.toString(),10)].slice();var i=0,n=this.calculateCrossings(t);for(e=0;e<24&&i<2;e++){this.weightedMedian(e,t);var s=this.calculateCrossings(t);if(s<n){n=s,i=0;for(var o=0;o<this.nestedBestRanks.length;o++)for(var a=t.ranks[parseInt(o.toString(),10)],l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)],c=this.nestedBestRanks[parseInt(o.toString(),10)][h.temp[0]],u=!0;h.edges&&c&&!c.edges&&(u=!1),c&&u&&(this.nestedBestRanks[parseInt(o.toString(),10)][h.temp[0]]=h)}}else for(i++,o=0;o<this.nestedBestRanks.length;o++)for(a=t.ranks[parseInt(o.toString(),10)],l=0;l<a.length;l++)h=a[parseInt(l.toString(),10)],this.setTempVariable(h,o,l);if(0===n)break}var d=[],p=[];for(e=0;e<t.maxRank+1;e++)p[parseInt(e.toString(),10)]=[],d[parseInt(e.toString(),10)]=p[parseInt(e.toString(),10)];for(e=0;e<this.nestedBestRanks.length;e++)for(o=0;o<this.nestedBestRanks[parseInt(e.toString(),10)].length;o++)p[parseInt(e.toString(),10)].push(this.nestedBestRanks[parseInt(e.toString(),10)][parseInt(o.toString(),10)]);t.ranks=d},r.prototype.isVertex=function(t){return!(!t||!t.cell||!t.cell.inEdges&&!t.cell.outEdges)},r.prototype.weightedMedian=function(t,e){var i=t%2==0;if(i)for(var n=e.maxRank-1;n>=0;n--)this.medianRank(n,i);else for(n=1;n<e.maxRank;n++)this.medianRank(n,i)},r.prototype.getConnectedCellsOnLayer=function(t,e,i){void 0===i&&(i=!1);var n="nextLayerConnectedCells",s="connectsAsTarget";if(i&&(n="previousLayerConnectedCells",s="connectsAsSource"),t){if(this.isVertex(t)){if(null==t[""+n]){t[""+n]=[],t[""+n][0]=[];for(var o=0;o<t[""+s].length;o++){var a=t[""+s][parseInt(o.toString(),10)];void 0===a.maxRank&&(a.maxRank=-1),t[""+n][0].push(-1===a.maxRank||(i?a.minRank===e-1:a.maxRank===e+1)?i?a.target:a.source:a)}}return t[""+n][0]}if(null==t[""+n])for(t[""+n]=[],o=0;o<t.temp.length;o++)t[""+n][parseInt(o.toString(),10)]=[],o===(i?0:t.temp.length-1)?t[""+n][parseInt(o.toString(),10)].push(i?t.target:t.source):t[""+n][parseInt(o.toString(),10)].push(t);return t[""+n][e-t.minRank-1]}return null},r.prototype.medianValue=function(t,e){for(var i=[],n=0,s=0;s<t.length;s++){var o=t[parseInt(s.toString(),10)];i[n++]=this.getTempVariable(o,e)}if(i.sort(function(c,u){return c-u}),n%2==1)return i[Math.floor(n/2)];if(2===n)return(i[0]+i[1])/2;var a=n/2,l=i[a-1]-i[0],h=i[n-1]-i[parseInt(a.toString(),10)];return(i[a-1]*h+i[parseInt(a.toString(),10)]*l)/(l+h)},r.prototype.setTempVariable=function(t,e,i){t&&(t.temp[0]=i)},r.prototype.medianRank=function(t,e){for(var i=this.nestedBestRanks[parseInt(t.toString(),10)].length,n=[],s=[],o=0;o<i;o++){var a=this.nestedBestRanks[parseInt(t.toString(),10)][parseInt(o.toString(),10)],l={medianValue:0};l.cell=a;var h,c;c=e?t+1:t-1,null!=(h=e?this.getConnectedCellsOnLayer(a,t):this.getConnectedCellsOnLayer(a,t,!0))&&0!==h.length?(l.medianValue=this.medianValue(h,c),n.push(l)):s[this.getTempVariable(a,t)]=!0}for(n.sort(this.compare),o=0;o<i;o++)null==s[parseInt(o.toString(),10)]&&n.length>0&&(a=n.shift().cell,this.setTempVariable(a,t,o))},r.prototype.compare=function(t,e){if(null!=t&&null!=e){if(e.medianValue>t.medianValue)return-1;if(e.medianValue<t.medianValue)return 1}return 0},r}(),ck=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ps=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},pQ=function(r){return r.sourcePoint||r.targetPoint||r.sourceID||r.targetID||r.sourcePortID||r.targetPortID||r.sourceDecorator||r.targetDecorator?Gt:Et},fQ=function(r){function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return ck(t,r),Ps([O("")],t.prototype,"id",void 0),Ps([O()],t.prototype,"height",void 0),Ps([O(!0)],t.prototype,"expanded",void 0),Ps([O("")],t.prototype,"iconCss",void 0),Ps([O("")],t.prototype,"title",void 0),Ps([UW(pQ)],t.prototype,"symbols",void 0),t}(ii),y0e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ck(t,r),Ps([O()],t.prototype,"width",void 0),Ps([O()],t.prototype,"height",void 0),t}(ii),b0e=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ck(t,r),Ps([O()],t.prototype,"width",void 0),Ps([O()],t.prototype,"height",void 0),Ps([Lt({},Be)],t.prototype,"offset",void 0),t}(ii),C0e=function(r){function t(e,i){var n=r.call(this,e,i)||this;n.symbolTable={},n.childTable={},n.info="info",n.oldObject=null,n.laneTable={},n.isExpand=!1,n.isExpandMode=!1,n.isMethod=!1,n.paletteid=88123,n.checkOnRender=!1,n.symbolTooltipObject=null,n.helper=function(h){var c,u=n.selectedSymbol&&n.selectedSymbol.id||h.sender.target.id.split("_container")[0],d=n.symbolTable[""+u];return d&&n.selectedSymbol&&(n.selectedSymbols=n.selectedSymbol.id===d.id?d:n.selectedSymbol,(c=n.getSymbolPreview(n.selectedSymbols,h.sender,n.element)).setAttribute("paletteId",n.element.id)),c};for(var s,o,a=0;n&&n.palettes&&a<n.palettes.length;a++)for(var l=0;l<n.palettes[parseInt(a.toString(),10)].symbols.length;l++)s=n.palettes[parseInt(a.toString(),10)].symbols[parseInt(l.toString(),10)],o=e.palettes[parseInt(a.toString(),10)].symbols[parseInt(l.toString(),10)],s&&"UmlActivity"===s.shape.type&&GL(o,s),(n.nodeDefaults||n.connectorDefaults)&&pu(s,o,s instanceof Et?n.nodeDefaults:n.connectorDefaults);return n}return ck(t,r),t.prototype.onPropertyChanged=function(e,i){for(var n=!1,s=0,o=Object.keys(e);s<o.length;s++)switch(o[s]){case"width":this.element.style.width=this.width.toString();break;case"height":this.element.style.height=this.height.toString();break;case"symbolPreview":break;case"symbolWidth":case"symbolHeight":case"getSymbolInfo":n=!this.isReact;break;case"enableSearch":if(e.enableSearch&&!ge())this.createTextbox();else{var l=document.getElementById(this.element.id+"_search");l&&l.parentNode.removeChild(l)}break;case"palettes":for(var h=0,c=Object.keys(e.palettes);h<c.length;h++){var d=Number(c[h]);!ge()&&!this.accordionElement.items[parseInt(d.toString(),10)]&&(this.accordionElement.items[parseInt(d.toString(),10)]={header:e.palettes[parseInt(d.toString(),10)].title||"",expanded:e.palettes[parseInt(d.toString(),10)].expanded,iconCss:e.palettes[parseInt(d.toString(),10)].iconCss||""}),e.palettes[parseInt(d.toString(),10)].height&&(document.getElementById(this.palettes[parseInt(d.toString(),10)].id+"_content").style.height=e.palettes[parseInt(d.toString(),10)].height+"px"),void 0!==e.palettes[parseInt(d.toString(),10)].iconCss&&(ge()||(this.accordionElement.items[parseInt(d.toString(),10)].iconCss=e.palettes[parseInt(d.toString(),10)].iconCss||"",n=!0)),void 0!==e.palettes[parseInt(d.toString(),10)].expanded&&!ge()&&(this.palettes[parseInt(d.toString(),10)].isInteraction?this.palettes[parseInt(d.toString(),10)].isInteraction=!1:(this.accordionElement.items[parseInt(d.toString(),10)].expanded=e.palettes[parseInt(d.toString(),10)].expanded,this.isExpand=!0),!this.isExpandMode&&!this.isMethod&&!this.isExpand&&(this.isExpand=!0)),ge()&&null!==e.palettes[parseInt(d.toString(),10)].symbols&&(n=!0),ge()&&null===e.palettes[parseInt(d.toString(),10)].symbols&&this.updateBlazorProperties(e)}break;case"enableAnimation":ge()||(this.accordionElement.animation=this.enableAnimation?{expand:{duration:400},collapse:{duration:400}}:{expand:{duration:0},collapse:{duration:0}});break;case"expandMode":ge()||(this.accordionElement.expandMode=this.expandMode,n=!0,this.isExpandMode=!0);break;case"allowDrag":this.allowDrag=e.allowDrag,this.allowDrag?(this.initDraggable(),this.draggable.helper=this.helper):this.draggable.helper=function(){return null}}if(n&&this.refreshPalettes(),this.isExpand&&!n){this.refresh(),this.isExpand=!1;for(var f=0;f<this.palettes.length;f++){var m=this.palettes[parseInt(f.toString(),10)].id;window[""+m]&&window[""+m].length>1&&(window[""+m][1].parentNode.removeChild(window[""+m][1]),window[""+m][1]=null)}}this.isMethod=!1},t.prototype.updateBlazorProperties=function(e){window&&window.Blazor&&window.sfBlazor.updateBlazorProperties({methodName:"UpdateBlazorProperties",paletteobj:{palette:e.palettes}},this)},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){var e=this;if(this.l10n=new Go(this.getModuleName(),this.defaultLocale(),this.locale),""===this.element.id){var i=document.getElementsByClassName("e-symbolpalette").length;this.element.id="symbolpalette_"+this.paletteid+"_"+i}if(this.element.style.overflow="auto",this.element.style.height=this.height.toString(),this.element.style.width=this.width.toString(),this.enableSearch&&!ge()&&this.createTextbox(),!ge()){var n=or("div",{id:this.element.id+"_container"});this.accordionElement=new wpe({expandMode:this.expandMode}),this.enableAnimation||(this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}}),this.accordionElement.created=function(){e.checkOnRender=!0},this.accordionElement.expanded=function(o){var a=e.accordionElement.items.indexOf(o.item),l=e.allowServerDataBinding;e.allowServerDataBinding=!1,e.palettes[parseInt(a.toString(),10)].expanded=o.isExpanded,e.palettes[parseInt(a.toString(),10)].isInteraction=!0,e.allowServerDataBinding=l},this.accordionElement.expanding=function(o){if(e.checkOnRender){var a={element:o.element,content:o.content,index:o.index,cancel:!1,isExpanded:o.isExpanded,palette:e.palettes[o.index]};e.trigger("paletteExpanding",a),o.cancel=a.cancel}},this.element.appendChild(n)}var s="measureElement";window[""+s]&&(window[""+s]=null),YX(),this.unWireEvents(),this.wireEvents()},t.prototype.defaultLocale=function(){return{SearchShapes:"Search Shapes"}},t.prototype.render=function(){this.diagramRenderer=new Py(this.element.id,new Gw,!1),this.svgRenderer=new Py(this.element.id,new Gw,!0),this.updatePalettes(),ge()||this.accordionElement.appendTo("#"+this.element.id+"_container"),this.renderComplete(),ge()&&this.element.classList.remove("e-symbolpalette-hidden")},t.prototype.getModuleName=function(){return"SymbolPalette"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e},t.prototype.destroy=function(){if(this.allowDrag){this.draggable.destroy(),this.unWireEvents(),this.notify("destroy",{}),r.prototype.destroy.call(this);var e=document.getElementById(this.element.id+"_container");if(e){this.element.removeChild(e);var i="measureElement";if(window[""+i]){window[""+i].usageCount-=1;var n="measureElementCount";window[""+n]--,0===window[""+n]&&(window[""+i].parentNode.removeChild(window[""+i]),window[""+i]=null)}}(e=document.getElementById(this.element.id+"_search"))&&e.parentNode.removeChild(e),this.element.classList.remove("e-symbolpalette")}},t.prototype.addPalettes=function(e){for(var i,n=0;n<e.length;n++){var s=this.allowServerDataBinding;this.isProtectedOnChange=!0,this.allowServerDataBinding=!1,i=new fQ(this,"palettes",e[parseInt(n.toString(),10)],!0),this.palettes.push(i),this.initSymbols(i),this.allowServerDataBinding=s,this.isProtectedOnChange=!1,this.renderPalette(i)}this.bulkChanges={},ge()||this.accordionElement.refresh()},t.prototype.removePalette=function(e){for(var i=0;i<this.palettes.length;i++)if(this.palettes[parseInt(i.toString(),10)].id===e){this.palettes.splice(i,1),ge()||this.accordionElement.items.splice(i,1);break}},t.prototype.removePalettes=function(e){var i=this.allowServerDataBinding;this.allowServerDataBinding=!1;for(var n=0;n<e.length;n++)this.removePalette(e[parseInt(n.toString(),10)]);ge()?this.updatePalettes():this.accordionElement.refresh(),this.allowServerDataBinding=i},t.prototype.initSymbols=function(e){for(var i=[],s=0,o=0,a=e.symbols;o<a.length;o++){if("SwimLane"===(l=a[o]).shape.type){var h=l,c=l.shape,u="Horizontal"===c.orientation;if(c.isLane){this.laneTable[l.id]={height:u?this.symbolHeight-this.symbolHeight/2:this.symbolHeight-this.symbolHeight/4,width:s=u?this.symbolWidth-this.symbolWidth/4:this.symbolWidth-this.symbolWidth/2};var d=c.lanes[0].header,p=c.lanes[0].style,f=d.style,m={id:"header"+kn(),shape:{type:"Basic",shape:"Rectangle"},width:u?d.width:h.width,height:u?h.height:d.height,style:f,annotations:[{content:d.annotation.content}]};m.offsetX=m.width/2,m.offsetY=m.height/2,this.addPaletteItem(e.id,m);var M={id:"lane"+kn(),shape:{type:"Basic",shape:"Rectangle"},width:u?h.width-d.width:h.width,height:u?h.height:h.height-d.height,style:p};M.offsetX=u?m.width+M.width/2:M.width/2,M.offsetY=u?M.height/2:m.height+M.height/2,this.addPaletteItem(e.id,M),h.children=[m.id,M.id]}else c.isPhase&&(s=h.width?h.width:this.symbolWidth,l.shape.type="Path",l.shape.data=u?"M0,0 L"+s+",0":"M0,0 L0,"+s)}if(l instanceof Et){var T=ho(this.getNodeDefaults);T&&T(l,this)}else if(l instanceof Gt){var P=ho(this.getConnectorDefaults);P&&P(l,this)}this.symbolTable[l.id]=l,l instanceof Et&&l.children&&i.push(l)}for(var U=0;U<i.length;U++)for(var Y=void 0,X=0;X<i[parseInt(U.toString(),10)].children.length;X++)(Y=this.symbolTable[i[parseInt(U.toString(),10)].children[parseInt(X.toString(),10)]])&&(this.childTable[Y.id]=Y,Y.parentId=i[parseInt(U.toString(),10)].id);for(var Q=0,oe=e.symbols;Q<oe.length;Q++)(l=oe[Q])instanceof Et&&l.children||this.prepareSymbol(l);for(var de=0,Me=i;de<Me.length;de++){var l;this.prepareSymbol(l=Me[de])}},t.prototype.renderPalette=function(e){var i=ge()?"overflow:auto;":"display:none;overflow:auto;";e.height&&(i+="height:"+e.height+"px");var s,n=document.getElementById(e.id);ge()&&null!=n?(s=or("div",{id:e.id+"_content",style:i,class:"e-remove-palette"}),n.appendChild(s)):(s=or("div",{id:e.id,style:i,class:"e-remove-palette"}),this.element.appendChild(s)),ge()||this.accordionElement.items.push({header:e.title,expanded:e.expanded,content:"#"+e.id,iconCss:e.iconCss}),this.renderSymbols(e,s)},t.prototype.addPaletteItem=function(e,i,n){i=rt(i);for(var s=0;s<this.palettes.length;s++){var o=this.palettes[parseInt(s.toString(),10)];if(-1!==o.id.indexOf(e)){for(var a=[void 0,o,"symbols",{},!0],l=new(Function.prototype.bind.apply(pQ(i),a)),h=0;h<Object.keys(i).length;h++){var c=this.allowServerDataBinding;this.allowServerDataBinding=!1,l[Object.keys(i)[parseInt(h.toString(),10)]]=i[Object.keys(i)[parseInt(h.toString(),10)]],this.allowServerDataBinding=c}pu(l,i,l instanceof Et?this.nodeDefaults:this.connectorDefaults),o.symbols.push(l);var u=this.allowServerDataBinding;if(this.allowServerDataBinding=!1,this.prepareSymbol(l),this.allowServerDataBinding=u,this.symbolTable[l.id]=l,n)this.childTable[l.id]=l;else{var d=void 0;(d=ge()?document.getElementById(o.id+"_content"):document.getElementById(o.id))&&d.appendChild(this.getSymbolContainer(l,d))}break}}},t.prototype.removePaletteItem=function(e,i){for(var n,s=0;s<this.palettes.length;s++){var o=this.palettes[parseInt(s.toString(),10)];if(-1!==o.id.indexOf(e))for(var a=0,l=o.symbols;a<l.length;a++){var h=l[a];if(-1!==h.id.indexOf(i)){var c=o.symbols.indexOf(h);if(o.symbols.splice(c,1),h.children)for(var u=h.children,d=0;d<u.length;d++)delete this.symbolTable[u[parseInt(d.toString(),10)]];delete this.symbolTable[h.id];var p=document.getElementById(h.id+"_container");p.parentNode.removeChild(p),n=!0;break}}if(n)break}},t.prototype.prepareSymbol=function(e){var i,n,s,o,h,a=new w4,l=e,c=new Ds,u=e instanceof Et?e.initContainer():null;u&&!u.children&&(u.children=[]);var d=ho(this.getSymbolTemplate);if(d&&(h=d(e)),h||(l.children?h=this.getContainer(l,u):(h=e.init(this),e instanceof Et&&e.parentId&&u.children.push(h))),!e.parentId){var p={width:this.symbolWidth,height:this.symbolHeight},f=ho(this.getSymbolInfo);if(f?p=f(e):ge()&&(p=this.getBlazorSymbolInfo(e,p)),p=p||this.symbolInfo||{},e.shape&&e.shape.isPhase&&(p.width=p.width||this.symbolWidth,p.height=p.height||this.symbolHeight),h.relativeMode="Object",h.horizontalAlignment=h.verticalAlignment="Center",c.style.strokeColor=c.style.fill="none",c.children=[h],h.measure(new pi),h.arrange(h.desiredSize),i=p.width=p.width||(void 0!==l.width?h.actualSize.width:void 0)||this.symbolWidth,s=p.height=p.height||(void 0!==l.height?h.actualSize.height:void 0)||this.symbolHeight,void 0!==i&&void 0!==s){var m=i,M=s,T=!!e.shape.isPhase;void 0!==this.symbolWidth?m=this.symbolWidth-this.symbolMargin.left-this.symbolMargin.right:i+=l.style.strokeWidth,void 0!==this.symbolHeight?M=this.symbolHeight-this.symbolMargin.top-this.symbolMargin.bottom:s+=l.style.strokeWidth,p.description&&""!==p.description.text&&(M-=20),n=m/(!T&&h.width||i),o=M/(!T&&h.height||s),p.fit&&(n=m/p.width,o=M/p.height),i=m,s=M,n=o=Math.min(n,o),c.width=i,c.height=s,h.width=p.width,h.height=p.height,this.scaleSymbol(e,c,n,o,i,s)}else{var P=void 0;e instanceof Gt&&(P=MG(e)),h.width=e.width||P?P.width:h.actualSize.width,h.height=e.height||P?P.height:h.actualSize.height}e.wrapper=a,a.children=[c],h.pivot=a.pivot={x:0,y:0},a.id=h.id+"_symbol",a.style.fill=a.style.strokeColor="transparent",e instanceof Et?(a.offsetX=e.style.strokeWidth/2,a.offsetY=e.style.strokeWidth/2):(a.offsetX=.5,a.offsetY=.5),this.getSymbolDescription(p,i,a),a.measure(new pi),a.arrange(a.desiredSize),p.width=p.width||h.actualSize.width,p.height=p.height||h.actualSize.height,e[this.info]=p}e.parentId&&(u.measure(new pi(l.width,l.height)),u.arrange(u.desiredSize))},t.prototype.getBlazorSymbolInfo=function(e,i){var s=e.symbolInfo;return s&&(i.description=s.description||this.symbolInfo.description,i.fit=s.fit||this.symbolInfo.fit,i.height=s.height||this.symbolInfo.height,i.width=s.width||this.symbolInfo.width,i.tooltip=s.tooltip||this.symbolInfo.tooltip,i.template=s.template||this.symbolInfo.template),i},t.prototype.getContainer=function(e,i){i.measureChildren=!1;var n,s=e.children;i.children=[];for(var o=0;o<s.length;o++)this.symbolTable[s[parseInt(o.toString(),10)]]&&i.children.push(this.symbolTable[s[parseInt(o.toString(),10)]].wrapper);return i.measure(new pi(e.width,e.height)),i.arrange(i.desiredSize),(0!==i.bounds.x||0!==i.bounds.y)&&(b4(e,(n=i.bounds).x,n.y,this.symbolTable,!1,this),i=this.getContainer(e,i)),i},t.prototype.getSymbolDescription=function(e,i,n){if(e&&e.description&&e.description.text){var s=new Qr;e.description.overflow=e.description.overflow||"Ellipsis",e.description.wrap=e.description.wrap||"WrapWithOverflow",s.id=n.id+"_text",s.content=e.description.text,s.width=i,s.height=20,s.style.strokeColor="transparent",s.style.color=e.description.color||"black",s.style.fill=e.description.fill||"transparent",s.style.fontFamily=e.description.fontFamily||"Arial",s.style.fontSize=e.description.fontSize||12,s.style.bold=e.description.bold||!1,s.style.italic=e.description.italic||!1,s.style.textDecoration=e.description.textDecoration||"None",s.style.strokeWidth=0,s.style.textWrapping=e.description.wrap,s.style.textOverflow=e.description.overflow,s.margin={left:0,right:0,top:e.description.margin?e.description.margin.top:0,bottom:e.description.margin?e.description.margin.bottom:5},n.children.push(s)}},t.prototype.renderSymbols=function(e,i){for(var n=0,s=e.symbols;n<s.length;n++){var o=s[n];o.parentId||this.getSymbolContainer(o,i)}},t.prototype.getSymbolPreview=function(e,i,n){this.allowServerDataBinding=!1;var s,o,a,l=e.wrapper.children[0].desiredSize.width+e.style.strokeWidth,h=e.wrapper.children[0].desiredSize.height+e.style.strokeWidth,c=e.wrapper.children[0].children[0],u=e.previewSize;if(e&&(u.width||u.height)||void 0!==this.symbolPreview.width||void 0!==this.symbolPreview.height){l=(u.width||this.symbolPreview.width||l)-e.style.strokeWidth,h=(u.height||this.symbolPreview.height||h)-e.style.strokeWidth,e instanceof Gt&&(c.actualSize.width<=e.style.strokeWidth&&(c.actualSize.width=this.symbolWidth),c.actualSize.height<=e.style.strokeWidth&&(c.actualSize.height=this.symbolHeight)),o=l/c.actualSize.width,a=h/c.actualSize.height,o=a=Math.min(o,a);var d=c.actualSize.width*o,p=c.actualSize.height*a;e.wrapper.children[0].width=l,e.wrapper.children[0].height=h,this.measureAndArrangeSymbol(c,e instanceof Et),this.scaleSymbol(e,e.wrapper.children[0],o,a,d,p,!0),l=d,h=p}var f={x:c.offsetX,y:c.offsetY};c.offsetX=c.offsetY=e.style.strokeWidth/2,c.pivot={x:0,y:0},this.measureAndArrangeSymbol(c,e instanceof Et);var M,m=or("div",{draggable:"true",class:"e-dragclone",style:"pointer-events:none"});document.body.appendChild(m);var T="margin:5px;";if("Native"===e.shape.type){s=js("svg",{id:e.id+"_preview",width:Math.ceil(l)+1,height:Math.ceil(h)+1});var P=js("g",{id:e.id+"_g"});s.appendChild(P),m.appendChild(s),this.svgRenderer.renderElement(c,P,void 0,void 0,s),this.prepareSymbol(e)}else if("HTML"===e.shape.type)M=this.getHtmlSymbol(e,s,m,h,l,!0),this.prepareSymbol(e);else if(e.children&&e.children.length>0&&XL(e,"HTML",this.childTable))M=this.getGroupParent(e,s,m,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!0),this.prepareSymbol(e);else{s=gu.createCanvas(e.id+"_preview",2*(Math.ceil(l)+e.style.strokeWidth+1),2*(Math.ceil(h)+e.style.strokeWidth+1)),m.appendChild(s),T+="Basic"===e.shape.type||"Flow"===e.shape.type?"transform: scale(0.5) translate(-"+s.width/2+"px, -"+s.height/2+"px);":"transform:scale(0.5);",s.setAttribute("transform-origin","0 0");var U=2;e instanceof Gt&&(U=1.9),s.getContext("2d").setTransform(U,0,0,U,0,0),this.diagramRenderer.renderElement(c,s,void 0),this.prepareSymbol(e)}return Jp(M&&("HTML"===e.shape.type||e.children&&e.children.length>0)?M:s,T),c.offsetX=f.x,c.offsetY=f.y,this.allowServerDataBinding=!0,m},t.prototype.measureAndArrangeSymbol=function(e,i){e.children&&!i&&(e.children[0].transform=$u.Self),e.measure(new pi),e.arrange(e.desiredSize),e.children&&(e.children[0].transform=$u.Parent)},t.prototype.updateSymbolSize=function(e,i,n){var s=e.wrapper.children[0].children[0],o=e.style.strokeWidth;s.width=(i||s.width)-(o+1),s.height=(n||s.height)-(o+1),e.wrapper.measure(new pi),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.getSymbolContainer=function(e,i,n){var c,u,d,o=this.getSymbolSize(e,this.symbolTable[e.id][this.info]),a=o.width+1,l=o.height+1,h=or("div",{id:e.id+"_container",style:"width:"+a+"px;height:"+l+"px;float:left;overflow:hidden"});if(i.appendChild(h),"Native"===e.shape.type)c=js("svg",{id:e.id,width:Math.ceil(e.wrapper.actualSize.width)+1,height:Math.ceil(e.wrapper.actualSize.height)+1}),u=js("g",{id:e.id+"_g"}),c.appendChild(u),h.appendChild(c),this.updateSymbolSize(e),this.svgRenderer.renderElement(e.wrapper,u,void 0,void 0,c);else if("HTML"===e.shape.type)d=this.getHtmlSymbol(e,c,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else if(e.children&&e.children.length>0&&XL(e,"HTML",this.childTable))d=this.getGroupParent(e,c,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else{c=gu.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),h.appendChild(c);var p=2;e instanceof Gt&&(p=1.9),c.getContext("2d").setTransform(p,0,0,p,0,0),this.diagramRenderer.renderElement(e.wrapper,u||c,void 0,void 0,void 0,void 0,!0,void 0,!0)}if(!n){var f=e.wrapper.actualSize.width+e.style.strokeWidth,m=e.wrapper.actualSize.height+e.style.strokeWidth,M="pointer-events:none;transform-origin:0 0;overflow:hidden;";return M+=e.shape.isPhase?"Horizontal"===e.shape.orientation?"margin-left:"+Math.max(this.symbolMargin.left,(a-f)/2)+"px;margin-top:"+o.height/2+"px;":"margin-left:"+o.width/2+"px;margin-top:"+Math.max(this.symbolMargin.top,(l-m)/2)+"px;":"margin-left:"+Math.max(this.symbolMargin.left,(a-f)/2)+"px;margin-top:"+Math.max(this.symbolMargin.top,(l-m)/2)+"px;",c instanceof HTMLCanvasElement&&(M+="transform:scale(.5,.5);"),Jp(d&&("HTML"===e.shape.type||e.children&&e.children.length>0)?d:c,M),h.classList.add("e-symbol-draggable"),h}return c},t.prototype.getGroupParent=function(e,i,n,s,o,a){var l=or("div",{id:e.id+(a?"_html_div_preview":"_html_div")}),h=or("div",{id:e.id+(a?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(o+1)+"px;height:"+Math.ceil(s+1)+"px;position:absolute",class:"e-html-layer"}),c=or("div",{id:e.id+(a?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(o+1)+"px;height:"+Math.ceil(s+1)+"px;position:absolute"});return h.appendChild(c),l.appendChild(h),i=gu.createCanvas(a?e.id+"_preview":e.id,Math.ceil(o)+1,Math.ceil(s)+1),l.appendChild(i),n.appendChild(l),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],i,h),l},t.prototype.getHtmlSymbol=function(e,i,n,s,o,a){var l=or("div",{id:e.id+(a?"_html_div_preview":"_html_div")}),h=or("div",{id:e.id+(a?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(o+1)+"px;height:"+Math.ceil(s+1)+"px;position:absolute",class:"e-html-layer"}),c=or("div",{id:e.id+(a?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(o+1)+"px;height:"+Math.ceil(s+1)+"px;position:absolute"});h.appendChild(c),l.appendChild(h);var d=e.wrapper.actualSize.height+e.style.strokeWidth,p="pointer-events:none;transform-origin:0 0;overflow:hidden;";return p+="margin-left:"+Math.max(this.symbolMargin.left,(o-(e.wrapper.actualSize.width+e.style.strokeWidth))/2)+"px;margin-top:"+Math.max(this.symbolMargin.top,(s-d)/2)+"px;",p+="transform:scale(.5,.5);position:absolute",i=gu.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),n.appendChild(i),i.getContext("2d").setTransform(2,0,0,2,0,0),Jp(i,p),n.appendChild(l),this.diagramRenderer.renderElement(a?e.wrapper.children[0].children[0]:e.wrapper,i,h),l},t.prototype.getSymbolSize=function(e,i){var n=e.wrapper.actualSize.width,s=e.wrapper.actualSize.height;return this.symbolWidth||this.symbolHeight?(n=this.symbolWidth,s=Math.max(this.symbolHeight,s)):(n+=this.symbolMargin.left+this.symbolMargin.right+e.style.strokeWidth,s+=this.symbolMargin.top+this.symbolMargin.bottom+e.style.strokeWidth),new pi(n,s)},t.prototype.getMousePosition=function(e){var i,n,s;return-1!==e.type.indexOf("touch")?(i=(s=e).changedTouches[0].clientY-this.element.offsetTop,n=s.changedTouches[0].clientX-this.element.offsetLeft):(i=e.clientY-this.element.offsetTop,n=e.clientX-this.element.offsetLeft),{x:n,y:i}},t.prototype.getContent=function(e){return this.hoverElement instanceof Et&&this.hoverElement.constraints&j.Tooltip||this.hoverElement instanceof Gt&&this.hoverElement.constraints&$e.Tooltip?this.hoverElement.tooltip.content:e.id},t.prototype.initTooltip=function(e){var i;if(ge())i=this.updateTooltipContent(this.hoverElement.tooltip,i);else{var n=new Gu;n=this.updateTooltipContent(this.hoverElement.tooltip,n),(i=new Gu(n)).cssClass="e-symbolPalette-tooltip",i.opensOn="custom",i.appendTo("#"+e.id),i.close()}return i},t.prototype.updateTooltipContent=function(e,i){return i.content=e.content,i.position="BottomRight",i.showTipPointer=e.showTipPointer,i.width=e.width,i.height=e.height,i.animation=e.animation?e.animation:{close:{effect:"None"}},i},t.prototype.elementEnter=function(e,i){if(!i){this.symbolTooltipObject.windowCollision=!0,this.hoverElement.tooltip.isSticky&&(this.symbolTooltipObject.isSticky=!0),this.hoverElement instanceof Et?this.hoverElement.constraints&(j.Default&&j.Tooltip)||(this.hoverElement.tooltip.content=this.hoverElement.id,this.symbolTooltipObject.content=Ed(function(){return this.hoverElement.id},this)):this.hoverElement instanceof Gt&&(this.hoverElement.constraints&($e.Default&&$e.Tooltip)||(this.hoverElement.tooltip.content=this.hoverElement.id,this.symbolTooltipObject.content=Ed(function(){return this.hoverElement.id},this))),this.hoverElement.tooltip.content&&("Mouse"===this.hoverElement.tooltip.relativeMode?(this.hoverElement.tooltip.relativeMode="Object",this.symbolTooltipObject.offsetX=0,this.symbolTooltipObject.offsetY=0):(this.symbolTooltipObject.offsetX=0,this.symbolTooltipObject.offsetY=0));var n=document.getElementById(this.hoverElement.id);"Auto"===this.hoverElement.tooltip.openOn&&""!==this.hoverElement.tooltip.content&&(this.symbolTooltipObject.close(),this.symbolTooltipObject.opensOn=this.hoverElement.tooltip.openOn,ge()?this.symbolTooltipObject.open(n,{}):this.symbolTooltipObject.dataBind()),"Auto"===this.hoverElement.tooltip.openOn&&(this.symbolTooltipObject.target=this.hoverElement.id,this.symbolTooltipObject.open(n))}},t.prototype.mouseMove=function(e,i){this.highlightedSymbol&&(!this.selectedSymbol||this.selectedSymbol.id+"_container"!==this.highlightedSymbol.id)&&(this.highlightedSymbol.classList.remove("e-symbol-hover"),this.highlightedSymbol.style.backgroundColor="",this.highlightedSymbol=null);var n=e.target.id.split("_container")[0];if(this.symbolTable[""+n]){var s=document.getElementById(n+"_container");s.classList.add("e-symbol-hover"),this.highlightedSymbol=s}e.preventDefault();var o=this.symbolTable[""+n];if(this.symbolTable[""+n]&&o!==this.hoverElement){this.currentPosition=this.getMousePosition(e);var a=this.getContent(o);this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&""!==a&&this.elementLeave(),this.hoverElement=o,this.symbolTooltipObject=this.initTooltip(this.hoverElement),""===a&&(a=this.hoverElement.id),this.hoverElement.tooltip&&""!==a&&this.elementEnter(this.currentPosition,!1)}void 0===o&&this.hoverElement&&!this.hoverElement.tooltip.isSticky&&"Auto"===this.hoverElement.tooltip.openOn&&(this.hoverElement=null,this.elementLeave())},t.prototype.elementLeave=function(){this.symbolTooltipObject&&"Custom"!==this.symbolTooltipObject.opensOn&&this.symbolTooltipObject.close()},t.prototype.mouseLeave=function(e){this.elementLeave(),e.preventDefault()},t.prototype.mouseUp=function(e){if(this.isMethod=!0,e&&e.target)if("iconSearch"===e.srcElement.id){var i=document.getElementById("iconSearch");i.classList.contains("e-clear-searchtext")&&(i.className="e-input-group-icon e-search e-icons",document.getElementById("textEnter").value="",ge()&&document.getElementById(this.element.id+"_search_content").classList.add("e-symbolpalette-search-hidden"),this.searchPalette(""))}else{var n=e.target.id.split("_container")[0];n&&this.selectedSymbol?(this.trigger("paletteSelectionChange",{oldValue:this.oldObject,newValue:n}),this.oldObject=n,e.preventDefault()):""!==this.oldObject&&(this.oldObject="")}},t.prototype.keyUp=function(e){var i=this;if(this.enableSearch){var n=this;document.getElementById("iconSearch").className="e-input-group-icon e-clear-searchtext e-icons",ge()&&e.target instanceof HTMLInputElement&&(""===e.target.value?document.getElementById(this.element.id+"_search_content").classList.add("e-symbolpalette-search-hidden"):document.getElementById(this.element.id+"_search_content").classList.remove("e-symbolpalette-search-hidden")),!e||"Enter"!==e.key&&13!==e.keyCode?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.target instanceof HTMLInputElement&&(n.searchPalette(e.target.value),i.timer=null)},500)):e.target instanceof HTMLInputElement&&this.searchPalette(e.target.value)}},t.prototype.mouseDown=function(e){var i=e.target.id.split("_container")[0];if(this.selectedSymbol){var s,n=document.getElementById(this.selectedSymbol.id+"_container");i!==this.selectedSymbol.id&&n&&n.classList.remove("e-symbol-selected"),(s=document.getElementById(this.selectedSymbol.id+"_container"))&&(s.style.backgroundColor=""),this.selectedSymbol=null}this.symbolTable[""+i]&&((s=document.getElementById(i+"_container")).classList.add("e-symbol-selected"),this.selectedSymbol=this.symbolTable[""+i],e.preventDefault())},t.prototype.keyDown=function(e){if(e&&"Escape"===e.key){var o=this.draggable.helperElement;o&&o.parentNode&&(o.parentNode.removeChild(o),this.draggable.intDestroy())}},t.prototype.initDraggable=function(){this.allowDrag&&(this.draggable=new tw(this.element,{dragTarget:".e-symbol-draggable",helper:this.helper,dragStart:this.dragStart,preventDefault:!1,dragStop:this.dragStop,drag:function(e){var n=VX(e.target,"e-droppable");n&&n.classList.contains("e-diagram")&&n.ej2_instances[0].droppable.over(e)},cursorAt:{left:this.symbolPreview.offset.x,top:this.symbolPreview.offset.y}}))},t.prototype.dragStart=function(e){var i=this.helper[0];i&&i.setAttribute("paletteId",this.element.id),ge()&&e.bindEvents(e.dragElement)},t.prototype.dragStop=function(e){VX(e.target,"e-diagram")||bn(e.helper)},t.prototype.scaleSymbol=function(e,i,n,s,o,a,l){if(e instanceof Gt){var h=e.wrapper;e.wrapper=i.children[0];for(var c=e.scale(n,s,o,a,i.children[0]),u=o/2-i.children[0].children[0].offsetX+c.x/2,d=a/2-i.children[0].children[0].offsetY+c.y/2,p=0,f=i.children[0].children;p<f.length;p++){var m=f[p];m.offsetX+=u,m.offsetY+=d,m.staticSize=!1}e.wrapper=h}else if("Bpmn"===e.shape.type&&this.bpmnModule)h=e.wrapper,e.wrapper=i,i.children[0].width=o,i.children[0].height=a,this.bpmnModule.updateBPMN({width:o,height:a},e,e,null),e.wrapper=h;else if(e.children){var T,P,M=e.children;if(!l)for(var U=void 0,Y=void 0,X=0;X<M.length;X++)(Y=i.children[0].children[parseInt(X.toString(),10)])&&(Y.children[0].children&&this.measureChild(Y),Y.width=(U=this.symbolTable[Y.id]).width,Y.height=U.height,Y.measure(new pi),Y.arrange(Y.children[0].desiredSize));if(T=o/i.children[0].desiredSize.width,P=a/i.children[0].desiredSize.height,i.children[0].measure(new pi),i.children[0].arrange(i.children[0].desiredSize),!l){var Q=void 0;for(X=0;X<M.length;X++)(Q=i.children[0].children[parseInt(X.toString(),10)])&&(Q.children[0].children&&this.scaleChildren(Q,T,P,e),this.scaleGroup(Q,T,P,e))}if(l){var oe=void 0,de=void 0;for(Q=void 0,X=0;X<M.length;X++)oe=o/e.wrapper.children[0].desiredSize.width,de=a/e.wrapper.children[0].desiredSize.height,(Q=i.children[0].children[parseInt(X.toString(),10)])&&(Q.children[0].children&&this.scaleChildren(Q,oe,de,e,!0),this.scaleGroup(Q,oe,de,e,!0));e.wrapper.children[0].measure(new pi),e.wrapper.children[0].arrange(e.wrapper.children[0].desiredSize)}}else SX(i.children[0],n,s,i)},t.prototype.scaleChildren=function(e,i,n,s,o){for(var a,l=0;l<e.children.length;l++)(a=e.children[parseInt(l.toString(),10)]).children[0].children?this.scaleChildren(a,i,n,s,o):this.scaleGroup(a,i,n,s,o)},t.prototype.measureChild=function(e){for(var i,n,s=0;s<e.children.length;s++)(i=e.children[parseInt(s.toString(),10)]).children[0].children?this.measureChild(i):(i.width=(n=this.symbolTable[i.id]).width,i.height=n.height,i.measure(new pi),i.arrange(i.children[0].desiredSize))},t.prototype.scaleGroup=function(e,i,n,s,o){e.width=e.width*i,e.height=e.height*n,e.offsetX=o?e.offsetX*i-s.style.strokeWidth:e.offsetX*i+s.style.strokeWidth/2,e.offsetY=o?e.offsetY*n-s.style.strokeWidth:e.offsetY*n+s.style.strokeWidth/2,e.measure(new pi),e.arrange(e.children[0].desiredSize)},t.prototype.refreshPalettes=function(){ge()||(this.accordionElement.items=[]),function Wme(r,t){var e;for(e=t&&document.getElementById(t).classList.contains(r)?document.getElementById(t).getElementsByClassName(r):document.getElementsByClassName(r);e.length>0;)e[0].parentNode.removeChild(e[0])}("e-remove-palette",this.element.id),this.updatePalettes(),ge()||this.accordionElement.dataBind()},t.prototype.updatePalettes=function(){for(var e=0;e<this.palettes.length;e++){var i=this.palettes[parseInt(e.toString(),10)];this.initSymbols(i),this.renderPalette(i)}},t.prototype.createTextbox=function(){var e=or("div",{id:this.element.id+"_search"});Jp(e,"backgroundColor:white;height:30px"),e.className="e-input-group",this.element.appendChild(e);var i=or("input",{});i.placeholder=this.l10n.getConstant("SearchShapes"),i.id="textEnter",Jp(i,"width:100%;height:auto"),i.className="e-input",e.appendChild(i);var n=or("span",{id:"iconSearch",className:"e-input-group-icon e-search e-icons"});e.appendChild(n)},t.prototype.getFilterSymbol=function(e){for(var i=[],n=0;n<e.length;n++)for(var s=0;s<this.ignoreSymbolsOnSearch.length;s++)this.ignoreSymbolsOnSearch[parseInt(s.toString(),10)]!==e[parseInt(n.toString(),10)].id&&i.push(e[0]);return i},t.prototype.searchPalette=function(e){var s,i=[],n=document.getElementById("SearchPalette");if(n)for(var o=n.children.length-1;o>=0;o--)n.removeChild(n.children[parseInt(o.toString(),10)]);for(var a=0;a<this.palettes.length;a++)for(var l=this.palettes[parseInt(a.toString(),10)],h=0;h<l.symbols.length;h++){var c=l.symbols[parseInt(h.toString(),10)];""!==e&&-1!==c.id.toLowerCase().indexOf(e.toLowerCase())&&i.push(c)}var u=ho(this.filterSymbols);if(u&&(i=u(i)||[]),this.ignoreSymbolsOnSearch&&this.ignoreSymbolsOnSearch.length>0&&(i=this.getFilterSymbol(i)),!n&&!ge()&&(n=s=this.createSearchPalette(s)),i.length>0)for(var d=0,p=i;d<p.length;d++){var f=p[d];""===f.parentId&&this.getSymbolContainer(f,n)}else if(""!==e){var m=or("div",{id:"EmptyDiv",style:"text-align:center;font-style:italic"});m.innerHTML="No Items To Display",n.appendChild(m)}else if(document.getElementById("iconSearch").className="e-input-group-icon e-search e-icons",!ge()){this.accordionElement.removeItem(0);var T=document.getElementById("SearchPalette");T&&T.remove()}},t.prototype.createSearchPalette=function(e){return e=or("div",{id:"SearchPalette",style:"display:none;overflow:auto;"}),this.element.appendChild(e),this.accordionElement.addItem({header:"Search Results",expanded:!0,content:"#SearchPalette"},0),e},t.prototype.wireEvents=function(){var i=Ue.touchEndEvent,n=Ue.touchMoveEvent;$.add(this.element,Ue.touchStartEvent,this.mouseDown,this),$.add(this.element,n,this.mouseMove,this),$.add(this.element,i,this.mouseUp,this),$.add(this.element,"mouseleave",this.mouseLeave,this),$.add(this.element,"keyup",this.keyUp,this),$.add(document,"keydown",this.keyDown,this),this.initDraggable()},t.prototype.unWireEvents=function(){var i=Ue.touchEndEvent,n=Ue.touchMoveEvent,s=Ue.isPointer?"pointerleave":"mouseleave";$.remove(this.element,Ue.touchStartEvent,this.mouseDown),$.remove(this.element,n,this.mouseMove),$.remove(this.element,i,this.mouseUp),$.remove(this.element,s,this.mouseLeave),$.remove(this.element,"keyup",this.keyUp),$.remove(document,"keydown",this.keyDown)},Ps([O("S")],t.prototype,"accessKey",void 0),Ps([O("100%")],t.prototype,"width",void 0),Ps([O("100%")],t.prototype,"height",void 0),Ps([Qn([],fQ)],t.prototype,"palettes",void 0),Ps([O()],t.prototype,"getSymbolInfo",void 0),Ps([O({fit:!0})],t.prototype,"symbolInfo",void 0),Ps([O()],t.prototype,"filterSymbols",void 0),Ps([O()],t.prototype,"ignoreSymbolsOnSearch",void 0),Ps([O()],t.prototype,"getSymbolTemplate",void 0),Ps([O()],t.prototype,"symbolWidth",void 0),Ps([O()],t.prototype,"symbolHeight",void 0),Ps([Lt({left:10,right:10,top:10,bottom:10},_l)],t.prototype,"symbolMargin",void 0),Ps([O(!0)],t.prototype,"allowDrag",void 0),Ps([Lt({},b0e)],t.prototype,"symbolPreview",void 0),Ps([Lt({},y0e)],t.prototype,"symbolDragSize",void 0),Ps([O(!1)],t.prototype,"enableSearch",void 0),Ps([O(!0)],t.prototype,"enableAnimation",void 0),Ps([O("Multiple")],t.prototype,"expandMode",void 0),Ps([Se()],t.prototype,"paletteSelectionChange",void 0),Ps([Se()],t.prototype,"paletteExpanding",void 0),Ps([O()],t.prototype,"getNodeDefaults",void 0),Ps([O()],t.prototype,"nodeDefaults",void 0),Ps([O()],t.prototype,"getConnectorDefaults",void 0),Ps([O()],t.prototype,"connectorDefaults",void 0),t}(Xr);const w0e=["annotationTemplate"],I0e=["nodeTemplate"],M0e=["userHandleTemplate"];let x0e=["addInfo","id","lock","objects","visible","zIndex"],D0e=[],T0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(D0e),this.directivePropList=x0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-layer"]],inputs:{addInfo:"addInfo",id:"id",lock:"lock",objects:"objects",visible:"visible",zIndex:"zIndex"},features:[En]}),r})(),E0e=(()=>{class r extends jc{constructor(){super("layers")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-layers"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,T0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),A0e=["action","cursor"],O0e=[],L0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(O0e),this.directivePropList=A0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-cursormap"]],inputs:{action:"action",cursor:"cursor"},features:[En]}),r})(),k0e=(()=>{class r extends jc{constructor(){super("customcursor")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-cursormaps"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,L0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),N0e=["alignment","cornerRadius","displacement","fill","handleStrokeColor","handleStrokeWidth","height","iconStrokeColor","iconStrokeWidth","id","offset","padding","pathData","visibility","width"],P0e=[],_0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(P0e),this.directivePropList=N0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-connector-fixeduserhandle"]],inputs:{alignment:"alignment",cornerRadius:"cornerRadius",displacement:"displacement",fill:"fill",handleStrokeColor:"handleStrokeColor",handleStrokeWidth:"handleStrokeWidth",height:"height",iconStrokeColor:"iconStrokeColor",iconStrokeWidth:"iconStrokeWidth",id:"id",offset:"offset",padding:"padding",pathData:"pathData",visibility:"visibility",width:"width"},features:[En]}),r})(),R0e=(()=>{class r extends jc{constructor(){super("fixeduserhandles")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-connector-fixeduserhandles"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,_0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),z0e=["addInfo","alignment","annotationType","constraints","content","displacement","dragLimit","height","horizontalAlignment","hyperlink","id","margin","offset","rotateAngle","segmentAngle","style","template","type","verticalAlignment","visibility","width"],B0e=[],F0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(B0e),this.directivePropList=z0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-connector-annotation"]],inputs:{addInfo:"addInfo",alignment:"alignment",annotationType:"annotationType",constraints:"constraints",content:"content",displacement:"displacement",dragLimit:"dragLimit",height:"height",horizontalAlignment:"horizontalAlignment",hyperlink:"hyperlink",id:"id",margin:"margin",offset:"offset",rotateAngle:"rotateAngle",segmentAngle:"segmentAngle",style:"style",template:"template",type:"type",verticalAlignment:"verticalAlignment",visibility:"visibility",width:"width"},features:[En]}),r})(),j0e=(()=>{class r extends jc{constructor(){super("annotations")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-connector-annotations"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,F0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),H0e=["addInfo","allowNodeOverlap","annotations","bezierSettings","bridgeSpace","connectionPadding","connectorSpacing","constraints","cornerRadius","dragSize","excludeFromLayout","fixedUserHandles","flip","flipMode","hitPadding","id","margin","maxSegmentThumb","ports","previewSize","segmentThumbShape","segments","shape","sourceDecorator","sourceID","sourcePadding","sourcePoint","sourcePortID","style","symbolInfo","targetDecorator","targetID","targetPadding","targetPoint","targetPortID","tooltip","type","visible","wrapper","zIndex"],U0e=[],V0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,this.tags=["fixedUserHandles","annotations"],Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(U0e),this.directivePropList=H0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-connector"]],contentQueries:function(e,i,n){if(1&e&&(Gr(n,R0e,5),Gr(n,j0e,5)),2&e){let s;wr(s=Ir())&&(i.childFixedUserHandles=s.first),wr(s=Ir())&&(i.childAnnotations=s.first)}},inputs:{addInfo:"addInfo",allowNodeOverlap:"allowNodeOverlap",annotations:"annotations",bezierSettings:"bezierSettings",bridgeSpace:"bridgeSpace",connectionPadding:"connectionPadding",connectorSpacing:"connectorSpacing",constraints:"constraints",cornerRadius:"cornerRadius",dragSize:"dragSize",excludeFromLayout:"excludeFromLayout",fixedUserHandles:"fixedUserHandles",flip:"flip",flipMode:"flipMode",hitPadding:"hitPadding",id:"id",margin:"margin",maxSegmentThumb:"maxSegmentThumb",ports:"ports",previewSize:"previewSize",segmentThumbShape:"segmentThumbShape",segments:"segments",shape:"shape",sourceDecorator:"sourceDecorator",sourceID:"sourceID",sourcePadding:"sourcePadding",sourcePoint:"sourcePoint",sourcePortID:"sourcePortID",style:"style",symbolInfo:"symbolInfo",targetDecorator:"targetDecorator",targetID:"targetID",targetPadding:"targetPadding",targetPoint:"targetPoint",targetPortID:"targetPortID",tooltip:"tooltip",type:"type",visible:"visible",wrapper:"wrapper",zIndex:"zIndex"},features:[En]}),r})(),W0e=(()=>{class r extends jc{constructor(){super("connectors")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-connectors"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,V0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),Y0e=["cornerRadius","fill","handleStrokeColor","handleStrokeWidth","height","iconStrokeColor","iconStrokeWidth","id","margin","offset","padding","pathData","visibility","width"],G0e=[],X0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(G0e),this.directivePropList=Y0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-node-fixeduserhandle"]],inputs:{cornerRadius:"cornerRadius",fill:"fill",handleStrokeColor:"handleStrokeColor",handleStrokeWidth:"handleStrokeWidth",height:"height",iconStrokeColor:"iconStrokeColor",iconStrokeWidth:"iconStrokeWidth",id:"id",margin:"margin",offset:"offset",padding:"padding",pathData:"pathData",visibility:"visibility",width:"width"},features:[En]}),r})(),Q0e=(()=>{class r extends jc{constructor(){super("fixeduserhandles")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-node-fixeduserhandles"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,X0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),$0e=["addInfo","annotationType","constraints","content","dragLimit","height","horizontalAlignment","hyperlink","id","margin","offset","rotateAngle","style","template","type","verticalAlignment","visibility","width"],q0e=[],Z0e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(q0e),this.directivePropList=$0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-node-annotation"]],inputs:{addInfo:"addInfo",annotationType:"annotationType",constraints:"constraints",content:"content",dragLimit:"dragLimit",height:"height",horizontalAlignment:"horizontalAlignment",hyperlink:"hyperlink",id:"id",margin:"margin",offset:"offset",rotateAngle:"rotateAngle",style:"style",template:"template",type:"type",verticalAlignment:"verticalAlignment",visibility:"visibility",width:"width"},features:[En]}),r})(),J0e=(()=>{class r extends jc{constructor(){super("annotations")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-node-annotations"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,Z0e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),K0e=["addInfo","constraints","height","horizontalAlignment","id","inEdges","margin","offset","outEdges","pathData","shape","style","tooltip","verticalAlignment","visibility","width"],ebe=[],tbe=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(ebe),this.directivePropList=K0e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-node-port"]],inputs:{addInfo:"addInfo",constraints:"constraints",height:"height",horizontalAlignment:"horizontalAlignment",id:"id",inEdges:"inEdges",margin:"margin",offset:"offset",outEdges:"outEdges",pathData:"pathData",shape:"shape",style:"style",tooltip:"tooltip",verticalAlignment:"verticalAlignment",visibility:"visibility",width:"width"},features:[En]}),r})(),ibe=(()=>{class r extends jc{constructor(){super("ports")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-node-ports"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,tbe,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),nbe=["addInfo","annotations","backgroundColor","borderColor","borderWidth","branch","children","collapseIcon","columnIndex","columnSpan","columns","constraints","container","data","dragSize","excludeFromLayout","expandIcon","fixedUserHandles","flip","flipMode","height","horizontalAlignment","id","isExpanded","layoutInfo","margin","maxHeight","maxWidth","minHeight","minWidth","offsetX","offsetY","padding","pivot","ports","previewSize","rotateAngle","rowIndex","rowSpan","rows","shadow","shape","style","symbolInfo","tooltip","verticalAlignment","visible","width","wrapper","zIndex"],rbe=[],sbe=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,this.tags=["fixedUserHandles","annotations","ports"],Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(rbe),this.directivePropList=nbe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-node"]],contentQueries:function(e,i,n){if(1&e&&(Gr(n,Q0e,5),Gr(n,J0e,5),Gr(n,ibe,5)),2&e){let s;wr(s=Ir())&&(i.childFixedUserHandles=s.first),wr(s=Ir())&&(i.childAnnotations=s.first),wr(s=Ir())&&(i.childPorts=s.first)}},inputs:{addInfo:"addInfo",annotations:"annotations",backgroundColor:"backgroundColor",borderColor:"borderColor",borderWidth:"borderWidth",branch:"branch",children:"children",collapseIcon:"collapseIcon",columnIndex:"columnIndex",columnSpan:"columnSpan",columns:"columns",constraints:"constraints",container:"container",data:"data",dragSize:"dragSize",excludeFromLayout:"excludeFromLayout",expandIcon:"expandIcon",fixedUserHandles:"fixedUserHandles",flip:"flip",flipMode:"flipMode",height:"height",horizontalAlignment:"horizontalAlignment",id:"id",isExpanded:"isExpanded",layoutInfo:"layoutInfo",margin:"margin",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",offsetX:"offsetX",offsetY:"offsetY",padding:"padding",pivot:"pivot",ports:"ports",previewSize:"previewSize",rotateAngle:"rotateAngle",rowIndex:"rowIndex",rowSpan:"rowSpan",rows:"rows",shadow:"shadow",shape:"shape",style:"style",symbolInfo:"symbolInfo",tooltip:"tooltip",verticalAlignment:"verticalAlignment",visible:"visible",width:"width",wrapper:"wrapper",zIndex:"zIndex"},features:[En]}),r})(),obe=(()=>{class r extends jc{constructor(){super("nodes")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-nodes"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,sbe,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})();const abe=["animationComplete","click","collectionChange","commandExecute","connectionChange","contextMenuBeforeItemRender","contextMenuClick","contextMenuOpen","created","dataLoaded","doubleClick","dragEnter","dragLeave","dragOver","drop","expandStateChange","fixedUserHandleClick","historyChange","historyStateChange","keyDown","keyUp","load","mouseEnter","mouseLeave","mouseOver","mouseWheel","onImageLoad","onUserHandleMouseDown","onUserHandleMouseEnter","onUserHandleMouseLeave","onUserHandleMouseUp","positionChange","propertyChange","rotateChange","scrollChange","segmentChange","segmentCollectionChange","selectionChange","sizeChange","sourcePointChange","targetPointChange","textEdit","elementDraw"],lbe=[""];let gQ=(()=>{let r=class extends _y{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["layers","customCursor","connectors","nodes"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("DiagramsHierarchicalTree");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsMindMap");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsRadialTree");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsComplexHierarchicalTree");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsDataBinding");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsSnapping");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsPrintAndExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsBpmnDiagrams");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsSymmetricLayout");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsConnectorBridging");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsUndoRedo");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsLayoutAnimation");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsDiagramContextMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsLineRouting");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsConnectorEditing");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsBlazorTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("DiagramsLineDistribution");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}this.registerEvents(abe),this.addTwoWay.call(this,lbe),Oa("currentInstance",this,this.viewContainerRef),this.context=new fh}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childLayers,this.childCustomCursor&&(this.tagObjects[1].instance=this.childCustomCursor),this.childConnectors&&(this.tagObjects[2].instance=this.childConnectors),this.childNodes&&(this.tagObjects[3].instance=this.childNodes),this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["ejs-diagram"]],contentQueries:function(e,i,n){if(1&e&&(Gr(n,w0e,5),Gr(n,I0e,5),Gr(n,M0e,5),Gr(n,E0e,5),Gr(n,k0e,5),Gr(n,W0e,5),Gr(n,obe,5)),2&e){let s;wr(s=Ir())&&(i.annotationTemplate=s.first),wr(s=Ir())&&(i.nodeTemplate=s.first),wr(s=Ir())&&(i.userHandleTemplate=s.first),wr(s=Ir())&&(i.childLayers=s.first),wr(s=Ir())&&(i.childCustomCursor=s.first),wr(s=Ir())&&(i.childConnectors=s.first),wr(s=Ir())&&(i.childNodes=s.first)}},inputs:{addInfo:"addInfo",annotationTemplate:"annotationTemplate",backgroundColor:"backgroundColor",bridgeDirection:"bridgeDirection",commandManager:"commandManager",connectorDefaults:"connectorDefaults",connectors:"connectors",constraints:"constraints",contextMenuSettings:"contextMenuSettings",customCursor:"customCursor",dataSourceSettings:"dataSourceSettings",diagramSettings:"diagramSettings",drawingObject:"drawingObject",enableConnectorSplit:"enableConnectorSplit",enablePersistence:"enablePersistence",enableRtl:"enableRtl",getConnectorDefaults:"getConnectorDefaults",getCustomCursor:"getCustomCursor",getCustomProperty:"getCustomProperty",getCustomTool:"getCustomTool",getDescription:"getDescription",getNodeDefaults:"getNodeDefaults",height:"height",historyManager:"historyManager",layers:"layers",layout:"layout",locale:"locale",mode:"mode",nodeDefaults:"nodeDefaults",nodeTemplate:"nodeTemplate",nodes:"nodes",pageSettings:"pageSettings",rulerSettings:"rulerSettings",scrollSettings:"scrollSettings",segmentThumbShape:"segmentThumbShape",selectedItems:"selectedItems",serializationSettings:"serializationSettings",setNodeTemplate:"setNodeTemplate",snapSettings:"snapSettings",tool:"tool",tooltip:"tooltip",updateSelection:"updateSelection",userHandleTemplate:"userHandleTemplate",width:"width"},outputs:{animationComplete:"animationComplete",click:"click",collectionChange:"collectionChange",commandExecute:"commandExecute",connectionChange:"connectionChange",contextMenuBeforeItemRender:"contextMenuBeforeItemRender",contextMenuClick:"contextMenuClick",contextMenuOpen:"contextMenuOpen",created:"created",dataLoaded:"dataLoaded",doubleClick:"doubleClick",dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop",expandStateChange:"expandStateChange",fixedUserHandleClick:"fixedUserHandleClick",historyChange:"historyChange",historyStateChange:"historyStateChange",keyDown:"keyDown",keyUp:"keyUp",load:"load",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",mouseOver:"mouseOver",mouseWheel:"mouseWheel",onImageLoad:"onImageLoad",onUserHandleMouseDown:"onUserHandleMouseDown",onUserHandleMouseEnter:"onUserHandleMouseEnter",onUserHandleMouseLeave:"onUserHandleMouseLeave",onUserHandleMouseUp:"onUserHandleMouseUp",positionChange:"positionChange",propertyChange:"propertyChange",rotateChange:"rotateChange",scrollChange:"scrollChange",segmentChange:"segmentChange",segmentCollectionChange:"segmentCollectionChange",selectionChange:"selectionChange",sizeChange:"sizeChange",sourcePointChange:"sourcePointChange",targetPointChange:"targetPointChange",textEdit:"textEdit",elementDraw:"elementDraw"},features:[En],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),_e([cv()],r.prototype,"annotationTemplate",void 0),_e([cv()],r.prototype,"nodeTemplate",void 0),_e([cv()],r.prototype,"userHandleTemplate",void 0),r=_e([hv([fh])],r),r})(),vQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();const hbe={provide:"DiagramsHierarchicalTree",useValue:cQ},cbe={provide:"DiagramsMindMap",useValue:c0e},ube={provide:"DiagramsRadialTree",useValue:u0e},dbe={provide:"DiagramsComplexHierarchicalTree",useValue:g0e},pbe={provide:"DiagramsDataBinding",useValue:Qye},fbe={provide:"DiagramsSnapping",useValue:s0e},gbe={provide:"DiagramsPrintAndExport",useValue:Xye},vbe={provide:"DiagramsBpmnDiagrams",useValue:Jye},mbe={provide:"DiagramsSymmetricLayout",useValue:p0e},ybe={provide:"DiagramsConnectorBridging",useValue:r0e},bbe={provide:"DiagramsUndoRedo",useValue:o0e},Cbe={provide:"DiagramsLayoutAnimation",useValue:a0e},Sbe={provide:"DiagramsDiagramContextMenu",useValue:Zye},wbe={provide:"DiagramsLineRouting",useValue:l0e},Ibe={provide:"DiagramsConnectorEditing",useValue:nQ},Mbe={provide:"DiagramsBlazorTooltip",useValue:rG},xbe={provide:"DiagramsLineDistribution",useValue:h0e};let Dbe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({providers:[hbe,cbe,ube,dbe,pbe,fbe,gbe,vbe,mbe,ybe,bbe,Cbe,Sbe,wbe,Ibe,Mbe,xbe],imports:[[Aa,vQ],vQ]}),r})(),Tbe=["expanded","height","iconCss","id","symbols","title"],Ebe=[],Abe=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(Ebe),this.directivePropList=Tbe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-palette"]],inputs:{expanded:"expanded",height:"height",iconCss:"iconCss",id:"id",symbols:"symbols",title:"title"},features:[En]}),r})(),Obe=(()=>{class r extends jc{constructor(){super("palettes")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-palettes"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,Abe,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})();const Lbe=["paletteExpanding","paletteSelectionChange"],kbe=[""];let Nbe=(()=>{let r=class extends C0e{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["palettes"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("DiagramsBpmnDiagrams");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}this.registerEvents(Lbe),this.addTwoWay.call(this,kbe),Oa("currentInstance",this,this.viewContainerRef),this.context=new fh}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childPalettes,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["ejs-symbolpalette"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,Obe,5),2&e){let s;wr(s=Ir())&&(i.childPalettes=s.first)}},inputs:{accessKey:"accessKey",allowDrag:"allowDrag",connectorDefaults:"connectorDefaults",enableAnimation:"enableAnimation",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSearch:"enableSearch",expandMode:"expandMode",filterSymbols:"filterSymbols",getConnectorDefaults:"getConnectorDefaults",getNodeDefaults:"getNodeDefaults",getSymbolInfo:"getSymbolInfo",getSymbolTemplate:"getSymbolTemplate",height:"height",ignoreSymbolsOnSearch:"ignoreSymbolsOnSearch",locale:"locale",nodeDefaults:"nodeDefaults",palettes:"palettes",symbolDragSize:"symbolDragSize",symbolHeight:"symbolHeight",symbolInfo:"symbolInfo",symbolMargin:"symbolMargin",symbolPreview:"symbolPreview",symbolWidth:"symbolWidth",width:"width"},outputs:{paletteExpanding:"paletteExpanding",paletteSelectionChange:"paletteSelectionChange"},features:[En],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),r=_e([hv([fh])],r),r})(),mQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();const yQ={show:!0,items:[{text:"Save",id:"save",target:".e-elementcontent"},{text:"Copy",id:"copy",target:".e-elementcontent"},{text:"Paste",id:"paste",target:".e-elementcontent"},{text:"Cut",id:"cut",target:".e-elementcontent"},{text:"Edit text",id:"edit",target:".e-elementcontent"},{text:"Select all",id:"select",target:".e-elementcontent"}],showCustomMenuOnly:!0},bQ={showRulers:!0,horizontalRuler:{interval:8,segmentWidth:100,thickness:25,tickAlignment:"LeftOrTop"},verticalRuler:{interval:10,segmentWidth:150,thickness:35,tickAlignment:"RightOrBottom"}},CQ={content:"Nodes",position:"TopLeft"},yr=[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4}],Pbe=[{id:"LeftCenter",offset:{x:0,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"LeftTop",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"LeftBottom",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"Bottom",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightCenter",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightTop",offset:{x:1,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightBottom",offset:{x:1,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"Top",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4}],_be=[{id:"LeftCenter",offset:{x:0,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"LeftTop",offset:{x:0,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"LeftBottom",offset:{x:0,y:1},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"Bottom",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightCenter",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightTop",offset:{x:1,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"RightBottom",offset:{x:1,y:1},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"Top",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4}],jbe={AngleBar:"\\left\\langle\\large{x}}\\right\\vert",BarAngle:"\\left\\vert\\large{x}}\\right\\rangle",BottomCurlyBracket:"\\underbrace{\\large{x}}_{\\large{y}}",BottomSquareBracket:"",Ceiling:"\\left\\lceil\\large{x}\\right\\rceil",CurlyBracket:"\\left\\{\\large{x}\\right\\}",DoubleArrowBarBracket:"\\left\\langle\\large{x}|\\large{y}}\\right\\rangle",DoubleBar:"\\left\\|\\large{x}\\right\\|",Floor:"\\left\\lfloor\\large{x}\\right\\rfloor ",LeftAngle:"\\langle\\large{x}",LeftBar:"\\left|\\large{x}",LeftCurlyBracket:"\\left\\{\\large{x}",LeftDoubleBar:"||\\large{x}",LeftLeftSquareBracket:"[\\large{x}[",LeftParenthesis:"(\\large{x}",LeftSquareBar:"\u27e6\\large{x}",LeftSquareBracket:"[\\large{x}",Parentheses:"(\\large{x})",ParenthesisSquare:"(\\large{x}]",PointingAngles:"\\left\\langle\\large{x}\\right\\rangle",RightAngle:"\\large{x}\\rangle",RightBar:"\\large{x}|",RightCurlyBracket:"\\large{x}}",RightDoubleBar:"\\large{x}||",RightLeftSquareBracket:"]\\large{x}[",RightParenthesis:"\\large{x})",RightRightSquareBracket:"]\\large{x}]",RightSquareBar:"\\large{x}\u27e7",RightSquareBracket:"\\large{x}]",SingleBar:"\\left|\\large{x}\\right|",SquareBar:"\u27e6\\large{x}\u27e7",SquareBracket:"[\\large{x}]",SquareParenthesesBracket:"[(\\large{x}])",SquareParenthesis:"[\\large{x})",TopCurlyBracket:"\\overbrace{\\large{x}}^{\\large{y}}",TopSquareBracket:"",ArrowDoubleBottom:"\\overleftrightarrow{\\large{x}}",ArrowDoubleBottomTop:"\\xleftrightarrow[\\large{y}]{\\large{x}}",ArrowDoubleTop:"\\underleftrightarrow{\\large{x}}",LeftBottom:"\\overleftarrow{\\large{x}}",LeftBottomTop:"\\xleftarrow[\\large{x}]{\\large{y}}",LeftTop:"\\underleftarrow{\\large{x}}",RightBottom:"\\overrightarrow{\\large{x}}",RightBottomTop:"\\xrightarrow[\\large{x}]{\\large{y}}",RightLeftBottom:"\\xtofrom[\\large{x}]{}",RightLeftBottomTop:"\\xtofrom[\\large{x}]{\\large{y}}",RightLeftHarpBottom:"\\xrightleftharpoons[\\large{x}]{}",RightLeftHarpBottomTop:"\\xrightleftharpoons[\\large{x}]{\\large{y}}",RightLeftHarpTop:"\\xrightleftharpoons[]{\\large{y}}",RightLeftTop:"\\xtofrom[]{\\large{y}}",RightSmallLeftBottom:"",RightSmallLeftBottomTop:"",RightSmallLeftHarpBottom:"\\xrightequilibrium[\\large{x}]{}",RightSmallLeftHarpBottomTop:"\\xrightequilibrium[\\large{x}]{\\large{y}}",RightSmallLeftHarpTop:"\\xrightequilibrium[]{\\large{x}}",RightSmallLeftTop:"",RightTop:"",SmallRightLeftBottomTop:"",SmallRightLeftHarpBottom:"\\xleftequilibrium[\\large{x}]{}",SmallRightLeftHarpBottomTop:"\\xleftequilibrium[\\large{x}]{\\large{y}}",SmallRightLeftHarpTop:"\\xleftequilibrium[]{\\large{y}}",SmallRightLeftTop:"",coProduct:"\\coprod{\\large{x}}",coProductBottom:"\\coprod_{\\large{x}}{\\large{y}}",coProductBottomTop:"\\coprod_{\\large{x}}^{\\large{y}}{\\large{z}}",coProductSub:"\\coprod\\limits_{\\large{x}}{\\large{y}}",coProductSubSuper:"\\coprod\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",intersection:"\\bigcap{\\large{x}}",intersectionBottom:"\\bigcap_{\\large{x}}{\\large{y}}",intersectionBottomTop:"\\bigcap_{\\large{x}}^{\\large{y}}{\\large{z}}",intersectionSub:"\\bigcap\\limits_{\\large{x}}{\\large{y}}",intersectionSubSuper:"\\bigcap\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",product:"\\prod{\\large{x}}",productBottom:"\\prod_{\\large{x}}{\\large{y}}",productBottomTop:"\\prod_{\\large{x}}^{\\large{y}}{\\large{z}}",productSub:"\\prod\\limits_{\\large{x}}{\\large{y}}",productSubSuper:"\\prod\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",sum:"\\sum{\\large{x}}",sumBottom:"\\sum_{\\large{x}}{\\large{y}}",sumBottomTop:"\\sum_{\\large{x}}^{\\large{y}}{\\large{z}}",sumSub:"\\sum\\limits_{\\large{x}}{\\large{y}}",sumSubSuper:"\\sum\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",union:"\\bigcup{\\large{x}}",unionBottom:"\\bigcup_{\\large{x}}{\\large{y}}",unionBottomTop:"\\bigcup_{\\large{x}}^{\\large{y}}{\\large{z}}",unionSub:"\\bigcup\\limits_{\\large{x}}{\\large{y}}",unionSubSuper:"\\bigcup\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",SingleBottom:"\\int\\limits_{\\large{x}}{\\large{z}}",SingleBottomTop:"\\int\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",SingleSimple:"\\int{\\large{z}}",SingleSub:"\\int_{\\large{x}}{\\large{z}}",SingleSubSuper:"\\int_{\\large{x}}^{\\large{y}}{\\large{z}}",DoubleBottom:"\\iint\\limits_{\\large{x}}{\\large{z}}",DoubleBottomTop:"\\iint\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",DoubleSimple:"\\iint{\\large{z}}",DoubleSub:"\\iint_{\\large{x}}{\\large{z}}",DoubleSubSuper:"\\iint_{\\large{x}}^{\\large{y}}{\\large{z}}",TripleBottom:"\\iiint\\limits_{\\large{x}}{\\large{z}}",TripleBottomTop:"\\iiint\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",TripleSimple:"\\iiint{\\large{z}}",TripleSub:"\\iiint_{\\large{x}}{\\large{z}}",TripleSubSuper:"\\iiint_{\\large{x}}^{\\large{y}}{\\large{z}}",ClockBottom:"\\oint\\limits_{\\large{x}}{\\large{z}}",ClockBottomTop:"\\oint\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",ClockSimple:"\\oint{\\large{z}}",ClockSub:"\\oint_{\\large{x}}{\\large{z}}",ClockSubSuper:"\\oint_{\\large{x}}^{\\large{y}}{\\large{z}}",SurfaceBottom:"\\oiint\\limits_{\\large{x}}{\\large{z}}",SurfaceBottomTop:"\\oiint\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",SurfaceSimple:"\\oiint{\\large{z}}",SurfaceSub:"\\oiint_{\\large{x}}{\\large{z}}",SurfaceSubSuper:"\\oiint_{\\large{x}}^{\\large{y}}{\\large{z}}",VolumeBottom:"\\oiiint\\limits_{\\large{x}}{\\large{z}}",VolumeBottomTop:"\\oiiint\\limits_{\\large{x}}^{\\large{y}}{\\large{z}}",VolumeSimple:"\\oiiint{\\large{z}}",VolumeSub:"\\oiiint_{\\large{x}}{\\large{z}}",VolumeSubSuper:"\\oiiint_{\\large{x}}^{\\large{y}}{\\large{z}}",Sub:"{\\large{y}}_{\\large{x}}",SubLeft:"",SubSuper:"{\\large{x}}_{\\large{y}}^{\\large{z}}",SubSuperLeft:"",Super:"{\\large{x}}^{\\large{y}}",SuperLeft:"",BigBottom:"\\underset{\\large{x}}{\\large{y}}",BigBottomTop:"\\overset{\\large{x}}{\\underset{\\large{y}}{\\large{z}}}",BigSub:"\\large{x}_{\\large{y}}",BigSubSuper:"\\large{x}^\\large{y}_{\\large{z}}",BigSuper:"\\large{x}^{\\large{y}}",BigTop:"\\overset{\\large{x}}{\\large{y}}",CompositeBottom:"\\underset{\\large{x}}{\\large{y}}",CompositeBottomTop:"\\overset{\\large{x}}{\\underset{\\large{y}}{\\large{z}}}",CompositeTop:"\\overset{\\large{x}}{\\large{y}}",Div:"\\frac{\\large{x}}{\\large{y}}",DivDoubleBar:"\\xlongequal[\\large{x}]{\\large{y}}",DivHoriz:"{\\large{x}}/{\\large{y}}",DivMath:"",DivMathInverted:"",DivMathInvertedWithBottom:"",DivMathWithTop:"",DivSlant:"",DivTriangleExpanding:"",DivTriangleFixed:"",DivTripleBar:"",nRoot:"\\sqrt[\\large{x}]{\\large{y}}",SmallDiv:"",SmallDivHoriz:"",SmallDivSlant:"",SqRoot:"\\sqrt{\\large{x}}","2cellColumn":"\\begin{matrix} \\large{a}_{11} \\\\ \\large{a}_{21} \\end{matrix}","2cellRow":"\\begin{matrix} \\large{a}_{11} & \\large{a}_{12} \\end{matrix}","2Square":"\\begin{matrix} \\large{a}_{11} & \\large{a}_{12} \\\\ \\large{a}_{21} & \\large{a}_{22} \\end{matrix}","3cellColumn":"\\begin{matrix} \\large{a}_{11} \\\\ \\large{a}_{21} \\\\ \\large{a}_{31} \\end{matrix} ","3cellRow":"\\begin{matrix} \\large{a}_{11} & \\large{a}_{12} & \\large{a}_{13}\\end{matrix}","3Square":"\\begin{matrix} \\large{a}_{11} & \\large{a}_{12} & \\large{a}_{13} \\\\ \\large{a}_{21} & \\large{a}_{22} & \\large{a}_{23} \\\\ \\large{a}_{31} & \\large{a}_{32} & \\large{a}_{33} \\end{matrix}",column:"\\begin{pmatrix} \\large{a}_1 \\\\ \\vdots \\\\ \\large{a}_n \\end{pmatrix}",custom:"\\begin{pmatrix} \\large{a}_{11} & \\ldots & \\large{a}_{1c} \\\\ \\vdots & \\ddots & \\vdots \\\\ \\large{a}_{r1} & \\ldots & \\large{a}_{rc} \\end{pmatrix}",row:"\\begin{pmatrix} \\large{a}_1 & \\ldots & \\large{a}_n \\end{pmatrix}",BoxAll:"\\boxed{\\large{x}}",BoxLeftBottom:"",BoxLeftTop:"",BoxRightBottom:"",BoxRightTop:"",bottomBar:"\\underset{-}{\\large{x}}",bottomDoubleArrow:"\\underleftrightarrow{\\large{x}}",bottomDoubleBar:"\\underset{\\large{=}}{\\large{x}}",bottomLeftArrow:"\\underleftarrow{\\large{x}}",bottomLeftHalfArrow:"\\underset{\\large{\\leftharpoondown}}{\\large{x}}",bottomRightArrow:"\\underrightarrow{\\large{x}}",bottomRightHalfArrow:"\\underset{\\large{\\rightharpoondown}}{\\large{x}}",cross:"\\xcancel{\\large{x}}",hat:"\\hat{\\large{x}}",leftCross:"\\bcancel{\\large{x}}",parenthesis:"\\overset{\\frown}{\\large{x}}",rightCross:"\\cancel{\\large{x}}",strikeThrough:"",tilde:"\\tilde{\\large{x}}",topBar:"\\overset{-}{\\large{x}}",topDoubleArrow:"\\overleftrightarrow{\\large{x}}",topDoubleBar:"\\overset{\\large{=}}{\\large{x}}",topLeftArrow:"\\overleftarrow{\\large{x}}",topLeftHalfArrow:"\\overset{\\large{\\leftharpoondown}}{\\large{x}}",topRightArrow:"\\overrightarrow{\\large{x}}",topRightHalfArrow:"\\overset{\\large{\\rightharpoondown}}{\\large{x}}",tortoise:"\\overgroup{\\large{x}}",CharacterAcuteAccent:"\\large{x}'",CharacterBottomBar:"\\underset{-}{\\large{x}}",CharacterBottomBreve:"\\underset{\\smile}{\\large{x}}",CharacterBottomDDot:"\\underset{\\Large{..}}{\\large{x}}",CharacterBottomDot:"\\underset{\\Large{.}}{\\large{x}} ",CharacterBottomDoubleArrow:"\\underleftrightarrow{\\large{x}} ",CharacterBottomFourDot:"\\underset{\\Large{....}}{\\large{x}}",CharacterBottomInvertedBreve:"\\underset{\\frown}{\\large{x}}",CharacterBottomLeftArrow:"\\underset{\\leftarrow}{\\large{x}}",CharacterBottomLeftHarpoon:"\\underset{\\leftharpoondown}{\\large{x}}",CharacterBottomRightArrow:"\\underset{\\rightarrow}{\\large{x}}",CharacterBottomRightHarpoon:"\\underset{\\rightharpoondown}{\\large{x}}",CharacterBottomTDot:"\\underset{\\large{...}}{\\large{x}}",CharacterBottomTilde:"\\underset{\\sim }{\\large{x}} ",CharacterCross:"\\xcancel{\\large{x}}",CharacterDoublePrime:"\\large{x}''",CharacterDoubleStrikeThrough:"",CharacterGraveAccent:"\\large{x}`",CharacterLeftCross:"\\bcancel{\\large{x}}",CharacterLeftUprightCross:"\\bcancel{\\large{x}}",CharacterNone:"\\large{x}",CharacterPrime:"\\large{x}'",CharacterReverseDoublePrime:"\\large{x}``",CharacterReversePrime:"\\large{x}`",CharacterRightCross:"\\cancel{\\large{x}}",CharacterRightUprightCross:"\\cancel{\\large{x}}",CharacterStrikeThrough:"",CharacterTopBar:"\\overset{-}{\\large{x}}",CharacterTopBreve:"\\overset{\\smile}{\\large{x}}",CharacterTopCaron:"\\check{\\large{x}}",CharacterTopCircumflex:"\\hat{\\large{x}}",CharacterTopDDot:"\\ddot{\\large{x}} ",CharacterTopDot:"\\dot{\\large{x}} ",CharacterTopDoubleArrow:"\\overleftrightarrow{\\large{x}}",CharacterTopFourDot:"\\overset{\\Large{....}}{\\large{x}}",CharacterTopInvertedBreve:"\\overset{\\frown}{\\large{x}}",CharacterTopLeftArrow:"\\overset{\\leftarrow}{\\large{x}}",CharacterTopLeftHarpoon:"\\overset{\\leftharpoondown}{\\large{x}}",CharacterTopRightArrow:"\\overset{\\rightarrow}{\\large{x}}",CharacterTopRightHarpoon:"\\overset{\\rightharpoondown}{\\large{x}}",CharacterTopRightRing:"\\large{x}^{\\circ}",CharacterTopRing:"\\overset{\\circ}{\\large{x}}",CharacterTopTDot:"\\overset{\\Large{...}}{\\large{x}}",CharacterTopTilde:"\\tilde{\\large{x}} ",CharacterTriplePrime:"\\large{x}'''",CharacterVDoubleStrikeThrough:"",CharacterVStrikeThrough:"",Application_1:"A",Application_2:"A_{\\large{x}}",Application_3:"\\hat{A}",Application_4:"\\bar{A}",Application_5:"\\hat{A}_{\\large{x}}",Application_6:"\\bar{A}_{\\large{x}}",function_1:"\\large{x}",function_2:"f({\\large{x}}})",function_3:"\\bar{\\large{x}}",function_4:"f(\\bar{\\large{x}})",function_5:"f_{\\large{x}}(\\bar{\\large{y}})",function_6:"P_{\\large{x}}",function_7:"G_{\\large{x}}",function_8:"G_{\\large{x}}(\\large{x})",function_9:"f(\\large{x})",function_10:"ECF(\\large{x})",function_11:"ECF({\\large{x})",function_12:"f_{\\large{x}}(\\bar{\\large{y}}_{z})",function_13:"\\large{x}_{z}",function_14:"f_{\\large{x}}(y)",Relationship_1:"\\sim",Relationship_2:"\\alpha",Relationship_3:"\\Rightarrow",Relationship_4:"\\Leftarrow",Relationship_5:"\\Leftrightarrow",Relationship_6:"\\geq",Relationship_7:"\\gt",Relationship_8:"\\lt",Relationship_9:"=",Relationship_10:"\\leq",word_1:"\\large{W}",word_2:"\\large{W}_{\\large{x}}",word_3:"\\hat{\\large{W}}",word_4:"\\hat{\\large{W}}_{\\large{x}}",word_5:"\\bar{\\large{W}}",word_6:"\\large{S}(\\large{w})",word_7:"\\large{S}_{\\large{x}}(\\large{w})",word_8:"\\large{G}(\\large{w})",word_9:"\\large{D}(\\large{w})",word_10:"\\large{D}(\\hat{\\large{w}})",word_11:"\\large{G}_{\\large{x}}(\\large{w})",word_12:"\\large{S}(\\bar{\\large{w}})",word_13:"\\large{G}(\\bar{\\large{w}})",Theory_1:"\\large{K}_{\\large{T}}",Theory_2:"\\large{i}_{\\large{T}}",Theory_3:"\\large{I_T}",Theory_4:"\\large{E_T}",Theory_5:"\\large{P_T}",Theory_6:"\\large{M_T}",Theory_7:"\\large{E_{S_{T}}}",Theory_8:"\\large{W_T}",Theory_9:"\\large{G_T}",Theory_10:"\\large{X_T}",Theory_11:"\\large{U_T}",Theory_Dropdown_1:"\\large{T_1}",Theory_Dropdown_2:"\\large{T_2}",Theory_Dropdown_3:"\\large{T_3}",Theory_Dropdown_4:"\\large{T_4}",Theory_Dropdown_5:"\\large{T_5}",Theory_Dropdown_6:"\\large{T_6}",Theory_Dropdown_7:"\\large{T_7}",Theory_Dropdown_8:"\\large{T_8}",Theory_Dropdown_9:"\\large{T_9}",Theory_Dropdown_10:"\\large{T_{10}}",Theory_Dropdown_11:"\\large{T}",Theory_Dropdown_12:"\\large{T}_{\\large{x}}",Theory_Dropdown_13:"\\large{A}",Theory_Dropdown_14:"\\large{A}'",Theory_Dropdown_15:"\\large{A}'|_{\\Large{t_{x}}}",Theory_Dropdown_16:"\\large{A}'_{\\Large{x}}",Fundamental_1:"f_{\\large{K}_{\\large{T}}}",Fundamental_2:"f_{\\large{i}_{\\large{T}}}",Fundamental_3:"f_{\\large{I_{T}}}",Fundamental_4:"f_{\\large{E_{T}}}",Fundamental_5:"f_{\\large{P_{T}}}",Fundamental_6:"f_{\\large{M_{T}}}",Fundamental_7:"f_{\\large{E_{S_{T}}}}",Fundamental_8:"f_{\\large{W_{T}}}",Fundamental_9:"f_{\\large{G_{T}}}",Fundamental_10:"f_{\\large{X_{T}}}",Fundamental_11:"f_{\\large{U_{T}}}",Fundamental_Dropdown_1:"f_{\\large{T_{1}}}",Fundamental_Dropdown_2:"f_{\\large{T_{2}}}",Fundamental_Dropdown_3:"f_{\\large{T_{3}}}",Fundamental_Dropdown_4:"f_{\\large{T_{4}}}",Fundamental_Dropdown_5:"f_{\\large{T_{5}}}",Fundamental_Dropdown_6:"f_{\\large{T_{6}}}",Fundamental_Dropdown_7:"f_{\\large{T_{7}}}",Fundamental_Dropdown_8:"f_{\\large{T_{8}}}",Fundamental_Dropdown_9:"f_{\\large{T_{9}}}",Fundamental_Dropdown_10:"f_{\\large{T_{10}}}",Fundamental_Dropdown_11:"f_{\\large{T}}",Fundamental_Dropdown_12:"f_{\\large{T}_{\\large{x}}}",Fundamental_Dropdown_13:"f_{\\large{A}}",Fundamental_Dropdown_14:"f_{\\large{A}'}",Dropdown_Function_1:"\\large{\\class{nimbusScript}L}(\\large{t})}",Dropdown_Function_2:"\\large{h({t})}",Dropdown_Function_3:"\\large{u({t})}",Dropdown_Function_4:"\\large{h({t})+u({t})}",Dropdown_Function_5:"\\sum\\limits_{\\large{n=1}}^{\\large{\\infty}}{\\large{h_{n}(t)}}",Dropdown_Function_6:"\\sum\\limits_{\\large{m=0}}^{\\large{M}}{\\large{u_{m}(t)}}",Dropdown_Function_7:"Int\\left\\{{\\large{x}}\\right\\}",Dropdown_Function_8:"\\bar{\\large{u}}(t)",Dropdown_Function_9:"\\bar{\\large{u}}_{\\large{x}}(t)",Dropdown_Function_10:"\\large{h}_{\\large{x}}(t)",Dropdown_Time_1:"\\large{t_{0}}",Dropdown_Time_2:"\\large{t_{0+}}",Dropdown_Time_3:"\\large{t_{0++}}",Dropdown_Time_4:"\\large{t_{1}}",Dropdown_Time_5:"\\large{t_{1}}+{\\large{x}}",Dropdown_Time_6:"\\large{t_{2}}",Dropdown_Time_7:"\\large{t_{2}}+{\\large{x}}",Dropdown_Time_8:"\\large{t_{3}}",Dropdown_Time_9:"\\large{t_{3}}+{\\large{x}}",Dropdown_Time_10:"\\large{t_{4}}",Dropdown_Time_11:"\\large{t_{4}}+{\\large{x}}",Dropdown_Time_12:"\\large{t'}",Derivative_1:"\\frac{\\large{d{a}}}{\\large{dx}}",Derivative_2:"\\frac{\\large{dI}}{\\large{dT}}",Derivative_3:"\\frac{\\large{dM}}{\\large{dT}}",Derivative_4:"\\large{NE}",Derivative_5:"\\large{IE}",Instrument_1:"\\large{I}",Instrument_2:"\\large{M}",Instrument_3:"Tr\\left\\{{T}\\right\\}",Instrument_4:"Tr\\left\\{{\\large{x}}\\right\\}",Instrument_5:"\\large{I}[\\large{u(t)}]",Instrument_6:"\\large{M}[\\large{u(t)}]",Instrument_7:"I[u_{\\large{x}}(t)]",Instrument_8:"M[u_{\\large{x}}(t)]",Stability_1:"\\large{k}",Stability_2:"\\large{x}",Stability_3:"\\large{y}",Stability_4:"\\large{x}_{\\large{x}}",Stability_5:"\\large{y}_{\\large{x}}",Stability_6:"\\large{xy}",Stability_7:"\\large{x}_{\\large{x}}\\large{y}_{\\large{y}}",Stability_8:"\\large{S}",Stability_9:"\\large{S}_{\\large{x}}",Stability_10:"\\Delta{\\large{x}}",Stability_11:"\\bar{\\large{T}}",Stability_12:"\\large{L}",Stability_13:"\\large{G}",Stability_14:"\\Delta{L}",Stability_15:"L_{\\large{x}}",Stability_16:"G_{\\large{x}}",Stability_17:"L|_{t_{\\large{x}}}",Stability_18:"G|_{t_{\\large{x}}}",Stability_19:"\\Delta{G}",Stability_20:"\\Delta{t}",Stability_21:"\\frac{\\Delta{L}}{\\Delta{t}}",Stability_22:"\\frac{\\Delta{G}}{\\Delta{t}} ",Stability_23:"Q",Stability_24:"q",Stability_25:"Q|_{t_{\\large{x}}}",Stability_26:"d",Stability_27:"d_{\\large{x}}",Stability_28:"\\Delta{t}",Stability_29:"\\Delta{t}_{u}",Stability_30:"\\Delta{t}_{d}",Stability_31:"\\Delta{t}_{\\large{x}}",Theorem_Dropdown_1:"\\large{Th}",Theorem_Dropdown_2:"\\large{K_{Th}}",Theorem_Dropdown_3:"\\large{i_{Th}}",Theorem_Dropdown_4:"\\large{I_{Th}}",Theorem_Dropdown_5:"\\large{M_{Th}}",Theorem_Dropdown_6:"\\large{E_{S_{Th}}}",Theorem_Dropdown_7:"\\large{W_{Th}}",Theorem_Dropdown_8:"\\large{G_{Th}}",Theorem_Dropdown_9:"\\large{Th_{n}}",Theorem_Dropdown_10:"\\large{K}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_11:"\\large{i}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_12:"\\large{I}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_13:"\\large{M}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_14:"\\large{E}_{\\large{S}_{\\large{Th}_{\\large{x}}}}",Theorem_Dropdown_15:"\\large{W}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_16:"\\large{G}_{\\large{Th}_{\\large{x}}}",Theorem_Dropdown_17:"\\large{Th}",Theorem_Dropdown_18:"\\large{Th}_{\\large{x}}",Theorem_Dropdown_19:"\\large{Th}|_{\\large{t}_{\\large{x}}}",Theorem_Dropdown_20:"\\large{Th}_{\\large{g}}",Theorem_Dropdown_21:"\\large{Th}_{\\large{g}}|_{\\large{t}_{\\large{x}}}"};function Re(r,t,e,i){switch(r){case"Person":let n=[{content:i[0],offset:{x:.5,y:1},margin:{top:15},style:{textWrapping:"NoWrap"}}];return 2===i.length&&n.push({content:i[1],offset:{x:.5,y:1},margin:{top:30},style:{textWrapping:"NoWrap"}}),{id:t,addInfo:e,shape:{type:"Native",content:'\n          <g transform="translate(2,2)">\n            <rect vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" x="0" y="0" height="77" width="47"/>\n            <path vector-effect="non-scaling-stroke" d="M9.4, 19.25 A14.1 14.4375 0 0 1 37.6, 19.25A14.1 14.4375 0 0 1 9.4, 19.25 z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 32.34 L23.5, 50.05 z" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 50.05 L39.95, 73.15 z" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 50.05 L7.05, 73.15 z" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M4.7, 46.2 L42.3, 46.2 z" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M18.8, 26.95 A5 2.5 0 0 1 28.2, 26.95 A5 2.5 0 0 1 18.8, 26.95 z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path viewBox="0 0 60 55" d="M15.04, 14.63 A1 1 0 0 1 19.74, 14.63 A1 1 0 0 1 15.04, 14.63 z" fill="#00000" stroke="#000000" stroke-width="1px" />\n            <path viewBox="0 0 60 55" d="M27.26, 14.63 A1 1 0 0 1 31.96, 14.63 A1 1 0 0 1 27.26, 14.63 z" fill="#00000" stroke="#000000" stroke-width="1px" />\n          </g>'},height:80,width:50,annotations:n,style:{fontSize:10},ports:Pbe,constraints:j.Default|j.Rotate};case"PersonGroup":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)"><rect vector-effect="non-scaling-stroke" height="40" width="120" stroke="black" fill="transparent" stroke-width="1"/><circle vector-effect="non-scaling-stroke" cx="11" cy="7.5" r="6" fill="transparent" stroke="black" stroke-width="1" /><circle vector-effect="non-scaling-stroke" cx="9.0" cy="6" r="1" fill="black" /><circle vector-effect="non-scaling-stroke" cx="13.0" cy="6" r="1.0" fill="black" /><ellipse vector-effect="non-scaling-stroke" cx="11.0" cy="11.5" rx="2.0" ry="0.75" fill="transparent" stroke="black" stroke-width="1"/><path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 11 13.5 L 11 19.5 L 4 29.5 M 11 19.5 L 18 29.5 M 3 18 L 19 18"/><circle vector-effect="non-scaling-stroke" cx="41" cy="7.5" r="6" fill="transparent" stroke="black" stroke-width="1" /><circle vector-effect="non-scaling-stroke" cx="39.0" cy="6" r="1" fill="black" /><circle vector-effect="non-scaling-stroke" cx="43.0" cy="6" r="1.0" fill="black" /><ellipse vector-effect="non-scaling-stroke" cx="41.0" cy="11.5" rx="2.0" ry="0.75" fill="transparent" stroke="black" stroke-width="1"/><path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 41 13.5 L 41 19.5 L 34 29.5 M 41 19.5 L 48 29.5 M 33 18 L 49 18"/><circle vector-effect="non-scaling-stroke" fill="black" cx="62" cy="17.5" r="1.5"/><circle vector-effect="non-scaling-stroke" fill="black" cx="72" cy="17.5" r="1.5"/><circle vector-effect="non-scaling-stroke" fill="black" cx="82" cy="17.5" r="1.5"/><foreignObject class="symbol-text-container" x="3" y="30" width="20" height="10" visibility="show"><div class="flex-container"><div class="symbol-text-element"><div style="font-size:5px;font-weight:100"><i>Person1</i></div></div></div></foreignObject><foreignObject class="symbol-text-container" x="33" y="30" width="20" height="10" visibility="show"><div class="flex-container"><div class="symbol-text-element"><div style="font-size:5px;font-weight:100"><i>Person2</i></div></div></div></foreignObject></g>'},annotations:[{content:i,verticalAlignment:"Bottom",offset:{x:.5,y:1},margin:{top:20}}],height:140,width:400,style:{fontSize:10},ports:yr,constraints:j.Default|j.Rotate};case"PersonNoFrame":let s=[{content:i[0],offset:{x:.5,y:1},margin:{top:15},style:{textWrapping:"NoWrap"}}];return 2===i.length&&s.push({content:i[1],offset:{x:.5,y:1},margin:{top:30},style:{textWrapping:"NoWrap"}}),{id:t,addInfo:e,shape:{type:"Native",content:'\n          <g transform="translate(2,2)">\n            <rect vector-effect="non-scaling-stroke" fill="transparent" stroke="transparent" stroke-width="1" x="0" y="0" height="87" width="47"/>\n            <path vector-effect="non-scaling-stroke" d="M7.05, 21.75A15.98 16.4333333333333 0 0 1 39.95, 21.75A15.98 16.4333333333333 0 0 1 7.05, 21.75z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 37.41L23.5, 56.55z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 56.55L39.95, 82.65z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M23.5, 56.55L7.05, 82.65z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M4.7, 52.2L42.3, 52.2z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path vector-effect="non-scaling-stroke" d="M17.86, 30.45A6 3 0 0 1 29.14, 30.45A6 3 0 0 1 17.86, 30.45z" fill="transparent" stroke="#000000" stroke-width="1px" />\n            <path d="M14.1, 16.53A2 2 0 0 1 18.8, 16.53A2 2 0 0 1 14.1, 16.53z" fill="#000000" stroke="#000000" stroke-width="1px" />\n            <path d="M28.2, 16.53A2 2 0 0 1 32.9, 16.53A2 2 0 0 1 28.2, 16.53z" fill="#000000" stroke="#000000" stroke-width="1px" />\n          </g>'},height:90,width:50,annotations:s,style:{fontSize:10},ports:_be,constraints:j.Default|j.Rotate};case"NaturalObserver":return{id:t,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                              <rect vector-effect="non-scaling-stroke" fill="transparent" stroke="transparent" stroke-width="1" x="0" y="0" height="100" width="100"/>\n                              <path d="M25, 50A25 25 0 0 1 75, 50A25 25 0 0 1 25, 50z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M50, 0L50, 20z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M79.4, 9.5L67.6, 25.7z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M97.5, 34.5L78.5, 40.7z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M97.5, 65.5L78.5, 59.3z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M79.4, 90.5L67.6, 74.3z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M50, 100L50, 80z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M20.6, 90.5L32.4, 74.3z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M2.5, 65.5L21.5, 59.3z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M2.5, 34.5L21.5, 40.7z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                              <path d="M20.6, 9.5L32.4, 25.7z" fill="transparent" stroke="#000000" stroke-width="1px" />\n                          </g>'},height:100,width:100,style:{fontSize:10},constraints:j.Default|j.Rotate};case"Overlap":return{id:t,addInfo:e,shape:{type:"Native",content:`\n          <g  transform="translate(2, 2)">\n            <rect x="0" y="0" height="50" width="100" fill="transparent" stroke-width="0"/>\n            <rect width="90" height="40" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n            <rect x="10" y="10" height="40" width="90"  fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n            <foreignObject class="symbol-text-container" x="12.5" width="75" height="50" visibility="hidden">\n              <div style="height: 50px" class="flex-container">\n                <div width="75" class="symbol-text-element">\n                  ${i}\n                </div>\n              </div>\n            </foreignObject>\n          </g>`},annotations:[{offset:{x:.55,y:.5},content:i}],style:{fill:"none",fontSize:10},ports:yr,height:100,width:210,constraints:j.Default|j.Rotate};case"cover":return{id:t,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="10" width="7.5" stroke-width="1" stroke="black" fill="green" opacity="0.5"/>\n                      </g>'},annotations:[{content:i}],height:80,width:35.56,constraints:j.Default|j.Rotate};case"mobility":return{id:t,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="10" width="10" stroke="none" fill="none"/>\n                      <path d="M 0 4, S 2.5 1.5, 5 4 M 5 4, S 7.5 6.5, 10 4 M 0 6, S 2.5 3.5, 5 6 M 5 6, S 7.5 8.5, 10 6" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="none"/>\n                      </g>'},height:50,width:50,constraints:j.Default|j.Rotate};case"Continuity":return{id:t,addInfo:e,shape:{type:"Native",content:`\n          <g transform="translate(2, 2)">\n            <rect width="10" height="5" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="${void 0!==i.strokeWidth?i.strokeWidth:1}" stroke-dasharray = "${void 0!==i.strokeDashArray?i.strokeDashArray:""}" />\n            <circle vector-effect="non-scaling-stroke" cx="3.5" cy="2.5" r="0.4"/>\n            <circle vector-effect="non-scaling-stroke" cx="5.0" cy="2.5" r="0.4"/>\n            <circle vector-effect="non-scaling-stroke" cx="6.5" cy="2.5" r="0.4"/>\n          </g>`},style:{fill:"none",fontSize:10},ports:void 0!==i.ports?i.ports:yr,width:210,height:100,constraints:j.Default|j.Rotate};case"Ellipse":return{id:t,addInfo:e,shape:{type:"Native",content:`\n          <g transform="translate(2,2)">\n            <rect height="40" width="120" stroke-width="0" fill="transparent" />\n            <ellipse vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" cx="60" cy="20" rx="60" ry="20"/>\n            <foreignObject class="symbol-text-container" x="15" width="90" height="40" visibility="hidden">\n              <div style="height: 40px" class="flex-container">\n                <div width="90" class="symbol-text-element">\n                  ${i}\n                </div>\n              </div>\n            </foreignObject>\n          </g>`},annotations:[{content:i}],style:{fill:"white",fontSize:10},ports:yr,height:40,width:120,constraints:j.Default|j.Rotate};case"Group":return{id:t,addInfo:e,shape:{type:"Native",content:`\n          <g  transform="translate(2, 2)">\n            <rect x="0" y="0" width="100" height="50" fill="none" stroke-width="0"/>\n            <rect width="90" height="50" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n            <rect x="90" height="50" width="10" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n            <foreignObject class="symbol-text-container" x="12.5" width="75" height="50" visibility="hidden">\n              <div style="height: 50px" class="flex-container">\n                <div width="75" class="symbol-text-element">\n                  ${i}\n                </div>\n              </div>\n            </foreignObject>\n          </g>`},annotations:[{content:i}],style:{fill:"none",fontSize:10},ports:yr,height:100,width:210,constraints:j.Default|j.Rotate};case"Sub":return{id:t,addInfo:e,shape:{type:"Native",content:`\n          <g transform="translate(2, 2)">\n            <rect x="0" y="0" width="100" height="50" fill="none" stroke-width="0"/>\n            <rect width="100" height="40" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n            <rect y="40" height="10" width="100" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n            <foreignObject class="symbol-text-container" x="12.5" y="-5" width="75" height="50" visibility="hidden">\n              <div style="height: 50px" class="flex-container">\n                <div width="75" class="symbol-text-element">\n                  ${i}\n                </div>\n              </div>\n            </foreignObject>\n          </g>`},annotations:[{content:i}],style:{fill:"none",fontSize:10},ports:yr,height:100,width:210,constraints:j.Default|j.Rotate};case"Text":return{id:t,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n            <rect height="30" width="100" fill="transparent" stroke-width="0"/>\n            <foreignObject class="symbol-text-container" x="0" y="25" width="100" height="30" visibility="hidden">\n            <div style="height: 30px" class="flex-container">\n              <div width="100" class="symbol-text-element">\n                ${i}\n              </div>\n            </div>\n            </foreignObject>\n          </g>`},addInfo:e,annotations:[{content:i,style:{bold:!0,fontSize:15,italic:!0}}],height:30,width:100,constraints:j.Default|j.Rotate};case"WhatWeDo":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <rect vector-effect="non-scaling-stroke" width="575" height="150" stroke="black" fill="transparent" stroke-width="1" />\n                      <rect x="25" y="25" width="200" height="100" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <foreignObject class="symbol-text-container" x="63.25" width="100" height="150" visibility="hidden">\n                          <div style="height: 150px" class="flex-container">\n                              <div width="100" class="symbol-text-element">\n                                  ${i[0]}\n                              </div>\n                          </div>\n                      </foreignObject>\n                      <rect x="350" y="025" height="100" width="200"  fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n                      <foreignObject class="symbol-text-container" x="373.75" width="100" height="150" visibility="hidden">\n                          <div style="height: 150px" class="flex-container">\n                              <div width="100" class="symbol-text-element">\n                                  ${i[1]}\n                              </div>\n                          </div>\n                      </foreignObject>\n                  </g>`},annotations:[{content:i[0],offset:{x:.22,y:.5}},{content:i[1],offset:{x:.78,y:.5}},{content:i[2],offset:{x:.9,y:0},margin:{bottom:10}}],style:{fill:"none",fontSize:10},height:108,width:414,ports:[{id:"left",offset:{x:.3913,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"Right",offset:{x:.60869,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],constraints:j.Default|j.Rotate};case"CommunicationGrouped":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                      <rect vector-effect="non-scaling-stroke" width="500" height="150" stroke="black" fill="transparent" stroke-width="1" />\n                      <rect x="25" y="25" width="200" height="100" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <rect x="270" y="025" height="100" width="200"  fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n                  </g>'},annotations:[{content:i[0],offset:{x:.26,y:.5}},{content:i[1],offset:{x:.76,y:.5}},{content:i[2],offset:{x:.5,y:0},margin:{bottom:10}}],style:{fill:"none",fontSize:10},height:108,width:414,constraints:j.Default|j.Rotate};case"CommunicationGrouped2":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                      <rect vector-effect="non-scaling-stroke" width="500" height="150" stroke="black" fill="transparent" stroke-width="1" />\n                      <rect x="50" y="50" width="100" height="50" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <rect x="200" y="50" width="100" height="50" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <rect x="375" y="50" width="100" height="50" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n                      <rect x="25" y="25" vector-effect="non-scaling-stroke" width="300" height="100" stroke="black" fill="transparent" stroke-width="1" />\n                  </g>'},annotations:[{content:i[0],offset:{x:.5,y:0},margin:{bottom:10}},{content:i[1],offset:{x:.35,y:.1}},{content:i[2],offset:{x:.2,y:.5}},{content:i[3],offset:{x:.5,y:.5}},{content:i[4],offset:{x:.85,y:.5}}],style:{fill:"none",fontSize:10},height:175,width:500,constraints:j.Default|j.Rotate};case"groupApplicationPart":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                      <rect vector-effect="non-scaling-stroke" width="250" height="150" stroke="black" fill="transparent" stroke-width="1" />\n                      <rect x="25" y="25" width="200" height="100" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                  </g>'},annotations:[{content:i[0],offset:{x:.5,y:.5}},{content:i[1],offset:{x:.5,y:0},margin:{bottom:10}}],style:{fill:"none",fontSize:10},height:130,width:200,constraints:j.Default|j.Rotate};case"groupApplicationSub":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <rect vector-effect="non-scaling-stroke" width="250" height="170" stroke="black" fill="transparent" stroke-width="1" />\n                      <rect x="25" y="25" width="200" height="100" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <rect y="125" x="25" height="20" width="200" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n                      <foreignObject class="symbol-text-container" x="12.5" y="-5" width="75" height="50" visibility="hidden">\n                          <div style="height: 50px" class="flex-container">\n                              <div width="75" class="symbol-text-element">\n                                  ${i}\n                              </div>\n                          </div>\n                      </foreignObject>\n                  </g>`},annotations:[{content:i[0],offset:{x:.5,y:.5}},{content:i[1],offset:{x:.5,y:0},margin:{bottom:10}}],style:{fill:"none",fontSize:10},height:130,width:200,constraints:j.Default|j.Rotate};case"ECF":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2,2)">\n                          <rect height="100" width="100" fill="transparent" stroke-width="0"/>\n                          <rect x="${100/(2*Math.sqrt(2))}" y="${-100/(2*Math.sqrt(2))}" width="${100/Math.sqrt(2)}" height="${100/Math.sqrt(2)}" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" transform="rotate(45)"/>\n                          <foreignObject class="symbol-text-container" x="12.5" width="75" height="100" visibility="hidden">\n                          <div style="height: 100px" class="flex-container">\n                              <div width="75" class="symbol-text-element">\n                                  ${i}\n                              </div>\n                          </div>\n                      </foreignObject>\n                      </g>`},annotations:[{content:i}],style:{fill:"none",fontSize:10},ports:yr,height:120,width:120,constraints:j.Default|j.Rotate};case"Circle":let c=i.radius;return{id:t,addInfo:e,shape:{type:"Native",content:`<g  ${!0===i.isPoint?'class="point-circle"':""} transform="translate(2, 2)">\n                          <rect height="${2*c}" width="${2*c}" fill="transparent" stroke-width="0" />\n                          <circle vector-effect="non-scaling-stroke" cx="${c}" cy="${c}" r="${c}" fill="${i.fill}" stroke="black" stroke-width="1"/>\n                          <foreignObject class="symbol-text-container" x="${.25*c*2/2}" width="${2*c*.75}" height="${2*c}" visibility="hidden">\n                          <div style="height: ${2*c}px" class="flex-container">\n                              <div width="${2*c*.75}" class="symbol-text-element">\n                                  ${void 0!==i.content?i.content[0].content:""}\n                              </div>\n                          </div>\n                      </foreignObject>\n                      </g>`},annotations:void 0!==i.content?i.content:null,style:{fill:"none",fontSize:10},ports:void 0!==i.ports?i.ports:null,height:2*i.radius,width:2*i.radius,constraints:j.Default|j.Rotate};case"Note":return{id:t,addInfo:e,annotations:[{content:i}],shape:{type:"Native",content:'<g transfrom="translate(2,2)">\n                      <rect height="120" width="120" stroke-width="0" fill="transparent" />\n                      <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d = "M 0 0 L 0 120 L 120 120 L 120 20 L 100 0 L 0 0"/>\n                      <polygon vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" points="100,0 100,20 120,20"/>\n                      <foreignObject class="symbol-text-container" x="15" width="90" height="120" visibility="hidden">\n                          <div style="height: 120px" class="flex-container">\n                              <div width="90" class="symbol-text-element">\n                                  My Note\n                              </div>\n                          </div>\n                      </foreignObject>\n                  </g>'},height:120,width:120,constraints:j.Default|j.Rotate};case"Callout":return{id:t,addInfo:e,annotations:[{content:i,offset:{x:.5,y:.4}}],shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <rect height="250" width="350" fill="transparent" stroke-width="0"/>\n                      <path fill="transparent" stroke="black" stroke-width="1" vector-effect="non-scaling-stroke" d="M 0 0 L 350 0 L 350 200 L 120 200 L 100 250 L 100 200 L 0 200 L 0 0"/>\n                      <foreignObject class="symbol-text-container" x="43.75" width="262.5" height="250" visibility="hidden">\n                      <div style="height: 250px" class="flex-container">\n                          <div width="262.5" class="symbol-text-element">\n                              ${i}\n                          </div>\n                      </div>\n                  </foreignObject>\n                  </g>`},height:250,width:350,constraints:j.Default|j.Rotate};case"Table":let p,d=i.columnNo;for(let Di=0;Di<d;Di++)p+=`<g transform="translate(${100*Di})">\n              <rect vector-effect="non-scaling-stroke" fill="transparent" stroke-width="1" stroke="black" height="100" width="100"/>\n              <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n              <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n              <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text>\n              </g>`;let f=[],m=1/(2*d);for(let Di=0;Di<2*d;Di++)f.push({content:i.content[Di],width:100,offset:{x:m,y:Di%2==0?.25:.75}}),Di%2!=0&&(m+=1/d);return{id:t,addInfo:e,annotations:f,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                              <rect height="100" width="${100*d}" fill="transparent" stroke-width="0"/>\n                              ${p}\n                          </g>`},height:100,width:100*d,constraints:j.Default|j.Rotate};case"WideArrow":let M=0,T=0,P=0;return"left"===i.direction&&(M=180,T=-200,P=-70),{id:t,addInfo:e,annotations:[{content:i.content}],shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                  <g transform="rotate(${M}) translate(${T},${P})">\n                  <rect height="70" width="200" fill="transparent" stroke-width="0"/>\n                  <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 0 15 L 175 15 L 175 0 L 200 35 L 175 70 L 175 55 L 0 55 L 0 15"/>\n                  </g>\n                  <foreignObject class="symbol-text-container" x="25" width="150" height="70" visibility="hidden">\n                  <div style="height: 70px" class="flex-container">\n                      <div width="150" class="symbol-text-element">\n                          ${i.content}\n                      </div>\n                  </div>\n                  </foreignObject>\n              </g>`},height:70,width:200,constraints:j.Default|j.Rotate};case"BiWideArrow":return{id:t,addInfo:e,shape:{type:"Native",content:`<g transform="translate(2, 2)">\n                      <g>\n                          <rect height="90" width="500" fill="none" stroke-width="0"/>\n                          <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 0 45 L 50 0 L 50 20 L 450 20 L 450 0 L 500 45 L 450 90 L 450 70 L 50 70 L 50 90 L 0 45"/>\n                          <foreignObject class="symbol-text-container" x="62.5" width="375" height="90" visibility="hidden">\n                          <div style="height: 90px" class="flex-container">\n                              <div width="375" class="symbol-text-element">\n                                  ${i}\n                              </div>\n                          </div>\n                      </foreignObject>\n                      </g>\n                  </g>`},annotations:[{content:i}],height:90,width:500,constraints:j.Default|j.Rotate};case"CylinderArrow":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <g fill="transparent">\n                          <rect height="50" width="550" fill="none" strole-width="0"/>\n                          <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 25 0 L 525 0 L 525 50 L 25 50 L 25 0"/>\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" cx="25" cy="25" r="25" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" cx="525" cy="25" r="25" />\n                      </g>\n                      <foreignObject class="symbol-text-container" x="68.75" width="412.5" height="50" visibility="hidden">\n                      <div style="height: 50px" class="flex-container">\n                          <div width="412.5" class="symbol-text-element">\n                              ${i}\n                          </div>\n                      </div>\n                  </foreignObject>\n                  </g>`},annotations:[{content:i}],height:50,width:550,constraints:j.Default|j.Rotate};case"Arrow":let Y={x:-4,y:-5},X={x:-5,y:-5};return("giveRiseTo"===t||"errorToProblem"===t)&&(Y={x:-5,y:-5},X={x:-5,y:-4}),{id:t,addInfo:e,type:i.type?i.type:"Straight",annotations:i.content,targetDecorator:{shape:void 0!==i.shape.target?i.shape.target:"None",style:void 0!==i.style?i.style:null},sourceDecorator:{shape:void 0!==i.shape.source?i.shape.source:"None"},style:void 0!==i.style?i.style:null,sourcePoint:Y,targetPoint:X,constraints:$e.Default|$e.AllowDrop|$e.Tooltip};case"House":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)"><rect height="50" width="50" fill="transparent" stroke-width="0" /><path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 25 0 L 0 25 M 25 0 L 50 25 M 5 20 L 45 20 M 10 20 L 10 50 L 40 50 L 40 20"/><rect vector-effect="non-scaling-stroke" x ="20" y = "25" height="22.5" width="10" fill="#e9eff7" stroke-width="1" stroke="black"/><rect vector-effect="non-scaling-stroke" x="10" y="47.5" width="30" height="2.5" fill="url(#Pattern1)" stroke="black" stroke-width="1"/></g>'},height:250,width:250,annotations:[{content:i,verticalAlignment:"Bottom",offset:{x:.5,y:1},margin:{top:20}}],constraints:j.Default|j.Rotate};case"House1":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)"><rect height="50" width="50" fill="transparent" stroke-width="0" /><path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 25 0 L 0 25 M 25 0 L 50 25 M 5 20 L 45 20 M 10 20 L 10 50 L 40 50 L 40 20"/><rect vector-effect="non-scaling-stroke" x ="20" y = "25" height="22.5" width="10" fill="#e9eff7" stroke-width="1" stroke="black"/><circle vector-effect="non-scaling-stroke" cx="25" cy="7" r="2.5" fill="#e9eff7" stroke="black" stroke-width="1"/><text x="24.25" y="7.75" style="font: italic 2.5px serif;">k</text><rect vector-effect="non-scaling-stroke" x="10" y="47.5" width="30" height="2.5" fill="url(#Pattern2)" stroke="black" stroke-width="1"/></g>'},height:250,width:250,constraints:j.Default|j.Rotate};case"Basis":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <rect height="20" width="320" fill="transparent" stroke-width="0"/>\n                      <rect x="0" y="0" vector-effect="non-scaling-stroke" height="20" width="20" stroke="black" stroke-width="1" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dashArray="10 5" fill="transparent" d = "M 20 10 L 320 10"/>\n                      <foreignObject class="symbol-text-container" x="9.6" width="240" height="20" visibility="hidden">\n                      <div style="height: 20px" class="flex-container">\n                          <div width="240" class="symbol-text-element">\n                              ${i}\n                          </div>\n                      </div>\n                  </foreignObject>\n                  </g>`},annotations:[{content:i,offset:{x:.03,y:.5},style:{color:"black",bold:!0,italic:!0,fontSize:"12",fontFamily:"Serif"}}],height:30,width:450,constraints:j.Default|j.Rotate};case"HorizontalLine":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <g>\n                          <rect width="10" height="5" fill="transparent" stroke-width="0"/>\n                          <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="${i.style.strokeDashArray?i.style.strokeDashArray:""}" d="M 0 2.5 L 10 2.5"/>\n                      </g>\n                  </g>`},ports:i.ports,annotations:i.content,height:30,width:i.length,constraints:j.Default|j.Rotate};case"VerticalLine":return{id:t,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <g>\n                          <rect width="5" height="10" fill="transparent" stroke-width="0"/>\n                          <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="${i.style.strokeDashArray?i.style.strokeDashArray:""}" d="M 2.5 0 L 2.5 10"/>\n                      </g>\n                  </g>`},ports:i.ports,annotations:i.content,height:i.length,width:30,constraints:j.Default|j.Rotate};case"Graph":return{id:t,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                          <rect width="10" height="10" fill="transparent" stroke-width="0" />\n                          <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1.5" fill="transparent" d="M 0.5 10 L 0.5 0 M 0 9.5 L 10 9.5" />\n                      </g>'},annotations:i,height:600,width:600,constraints:j.Default|j.Rotate};case"Curly":return{id:t,addInfo:e,annotations:i.content,shape:{type:"Native",content:'<g  transform="translate(2,2)">\n                      <rect height="120" width="30" stroke-width="1" stroke="1" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 30 0 A 15 20 0 0 0 15 20 L 15 50 A 15 10 0 0 1 0 60 A 15 10 0 0 1 15 70 L 15 100 A 15 20 0 0 0 30 120"/>\n                  </g>'},height:120,width:40,constraints:j.Default|j.Rotate};case"CurlyClose":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:i.content,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect height="120" width="30" stroke-width="1" stroke="1" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 0 0 A 15 20 0 0 1 15 20 L 15 50 A 15 10 0 0 0 30 60 A 15 10 0 0 0 15 70 L 15 100 A 15 20 0 0 1 0 120" />\n                  </g>'},height:120,width:40};case"DottedGroup":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:[{content:i}],shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                          <rect x = "0" y = "0" vector-effect="non-scaling-stroke" height="90" width="170" stroke="black" stroke-dasharray="8 4" stroke-width="1" fill="Transparent"/>\n                          <rect x="30" y="15" width="100" height="50" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                          <rect x="40" y="25" height="50" width="100"  fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1"/>\n                          <foreignObject class="symbol-text-container" x="21.25" width="127.5" height="90" visibility="hidden">\n                          <div style="height: 90px" class="flex-container">\n                              <div width="127.5" class="symbol-text-element">\n                                  ${i}\n                              </div>\n                          </div>\n                          </foreignObject>\n                      </g>`},ports:yr,height:80,width:160};case"DomainTop":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:i.content,shape:{type:"Native",content:`<g transform="translate(2, 2)">\n                          <g>\n                              <rect height="50" width="200" fill="transparent" stroke-width="0" />\n                              <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="Transparent" d="M 0 0 L 0 50 L 200 50 L 200 0"/>\n                              <foreignObject class="symbol-text-container" x="25" width="150" height="50" visibility="hidden">\n                              <div style="height: 50px" class="flex-container">\n                                  <div width="150" class="symbol-text-element">\n                                      ${i.content}\n                                  </div>\n                              </div>\n                              </foreignObject>\n                          </g>\n                      </g>`},style:{fontSize:10},height:50,width:200};case"DomainBottom":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:i.content,shape:{type:"Native",content:`<g transform="translate(2, 2)">\n                          <g>\n                              <rect height="50" width="200" fill="transparent" stroke-width="0" />\n                              <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="Transparent" d="M 0 50 L 0 0 L 200 0 L 200 50"/>\n                              <foreignObject class="symbol-text-container" x="25" width="150" height="50" visibility="hidden">\n                              <div style="height: 50px" class="flex-container">\n                                  <div width="150" class="symbol-text-element">\n                                      ${i.content}\n                                  </div>\n                              </div>\n                              </foreignObject>\n                          </g>\n                      </g>`},style:{fontSize:10},height:50,width:200};case"DomainRight":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:i.content,shape:{type:"Native",content:`<g transform="translate(2, 2)">\n                          <g>\n                              <rect height="200" width="50" fill="transparent" stroke-width="0" />\n                              <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="Transparent" d="M 50 0 L 0 0 L 0 200 L 50 200"/>\n                              <foreignObject class="symbol-text-container" x="0" width="50" height="200" visibility="hidden">\n                              <div style="height: 200px" class="flex-container">\n                                  <div width="50" class="symbol-text-element">\n                                      ${i.content}\n                                  </div>\n                              </div>\n                              </foreignObject>\n                          </g>\n                      </g>`},style:{fontSize:10},height:200,width:50};case"DomainLeft":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:i.content,shape:{type:"Native",content:`<g transform="translate(2, 2)">\n                          <g>\n                              <rect height="200" width="50" fill="transparent" stroke-width="0" />\n                              <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="Transparent" d="M 0 0 L 50 0 L 50 200 L 0 200"/>\n                              <foreignObject class="symbol-text-container" x="0" width="50" height="200" visibility="hidden">\n                              <div style="height: 200px" class="flex-container">\n                                  <div width="50" class="symbol-text-element">\n                                      ${i.content}\n                                  </div>\n                              </div>\n                              </foreignObject>\n                          </g>\n                      </g>`},style:{fontSize:10},height:200,width:50};case"Direction":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)"><rect height="35" width="70" fill="transparent" stroke-width="0"/><Path vector-effect="non-scaling-stroke" stroke="black" fill="url(#Pattern3)" stroke-width="1" d="M 0 30 L 5 35 L 70 0 L 65 0 L 0 30"></g>'},width:500,height:200};case"LifeBox":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                          <rect vector-effect="non-scaling-stroke" x="0" y="0" height="600" width="300" fill="transparent" stroke="black" stroke-width="2" />\n                          <rect vector-effect="non-scaling-stroke" x="25" y="25" height="250" width="250" fill="transparent" stroke="black" stroke-width="1" />\n                          <rect vector-effect="non-scaling-stroke" x="25" y="325" height="250" width="250" fill="transparent" stroke="black" stroke-width="1" />\n                          <foreignObject class="symbol-text-container" x="37.5" y="50"width="225" height="100" visibility="hidden">\n                              <div style="height: 100px" class="flex-container">\n                                  <div width="262.5" class="symbol-text-element">\n                                      ${i[0]}\n                                  </div>\n                              </div>\n                          </foreignObject>\n                          <foreignObject class="symbol-text-container" x="37.5" y="375"width="225" height="100" visibility="hidden">\n                              <div style="height: 100px" class="flex-container">\n                                  <div width="225" class="symbol-text-element">\n                                      ${i[1]}\n                                  </div>\n                              </div>\n                          </foreignObject>\n                      </g>`},annotations:[{content:i[0],offset:{x:.5,y:.25}},{content:i[1],offset:{x:.5,y:.75}},{content:i[2],offset:{x:.5,y:1},margin:{top:20}}],height:400,width:200};case"LifeCircle":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                          <rect height="600" width="600" stroke-width="0" fill="transparent" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="2" fill="transparent" cx="300" cy="300" r="300"/>\n                          <ellipse vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="147.5" cy="300" rx="112.5" ry="220"/>\n                          <ellipse vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="447.5" cy="300" rx="112.5" ry="220"/>\n                          <foreignObject class="symbol-text-container" x="90" width="150" height="600" visibility="hidden">\n                          <div style="height: 600px" class="flex-container">\n                              <div width="150" class="symbol-text-element">\n                                  ${i[0]}\n                              </div>\n                          </div>\n                          </foreignObject>\n                          <foreignObject class="symbol-text-container" x="390" width="150" height="600" visibility="hidden">\n                          <div style="height: 600px" class="flex-container">\n                              <div width="150" class="symbol-text-element">\n                                  ${i[1]}\n                              </div>\n                          </div>\n                          </foreignObject>\n                      </g>`},annotations:[{content:i[0],offset:{x:.25,y:.5}},{content:i[1],offset:{x:.75,y:.5}},{content:i[2],offset:{x:.5,y:1},margin:{top:20}}],height:400,width:400};case"Natural":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                          <rect vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" height="150" width="100"/>\n                          <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d = "M 20 30 L 50 80 L 72 30 M 50 80 L 50 130 M 85 40 A 10 10 0 1 0 50 25"/>\n                          <polygon vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="black" points="45,25 55,25 50,35"/>\n                      </g>'},ports:yr,height:150,width:100};case"Reference":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                          <rect height="710" width="900" stroke-width="0" fill="transparent" />\n                          <ellipse vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="355" ry="355" rx="450"/>\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="125" cy="355" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="350" cy="355" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="560" cy="370" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="775" cy="355" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="130" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="245" cy="170" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="580" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="245" cy="540" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="655" cy="180" r="100" />\n                          <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="675" cy="540" r="100" />\n                      </g>'},annotations:[{content:"Education Theory",offset:{x:.14,y:.5},width:75},{content:"Power Theory",offset:{x:.39,y:.5},width:75},{content:"Marketing Theory",offset:{x:.625,y:.52},width:75},{content:"Exchange System Theory",offset:{x:.865,y:.5},width:75},{content:"Communicaiton Theory",offset:{x:.268,y:.25},width:75},{content:"Information Theory",offset:{x:.5,y:.185},width:75},{content:"Instrumentation Theory",offset:{x:.725,y:.255},width:75},{content:"Gamming Theory",offset:{x:.268,y:.75},width:75},{content:"Work Theory",offset:{x:.51,y:.815},width:75},{content:"Reproduction Theory",offset:{x:.75,y:.76},width:75},{content:"The Given Reference",offset:{x:.5,y:1},margin:{top:20}}],height:355,width:450};case"Reference1":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n                      <rect height="710" width="900" stroke-width="0" fill="transparent" />\n                      <ellipse vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="355" ry="355" rx="450"/>\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="125" cy="355" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="350" cy="355" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="560" cy="370" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="775" cy="355" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="130" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="245" cy="170" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="450" cy="580" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="245" cy="540" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="655" cy="180" r="100" />\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" cx="675" cy="540" r="100" />\n                  </g>'},annotations:[{template:'<div style="margin-top:170px; margin-left:55px;">E<sub>T</sub></div>'},{template:'<div style="margin-top:170px; margin-left:170px;">P<sub>T</sub></div>'},{template:'<div style="margin-top:180px; margin-left:275px;">M<sub>T</sub></div>'},{template:'<div style="margin-top:170px; margin-left:380px;">Es<sub>T</sub></div>'},{template:'<div style="margin-top:75px; margin-left:115px;">K<sub>T</sub></div>'},{template:'<div style="margin-top:55px; margin-left:220px;">i<sub>T</sub></div>'},{template:'<div style="margin-top:80px; margin-left:320px;">I<sub>T</sub></div>'},{template:'<div style="margin-top:260px; margin-left:115px;">G<sub>T</sub></div>'},{template:'<div style="margin-top:280px; margin-left:220px;">W<sub>T</sub></div>'},{template:'<div style="margin-top:260px; margin-left:330px;">X<sub>T</sub></div>'},{content:"R",offset:{x:.85,y:1}}],height:355,width:450};case"StrokeRect":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,annotations:[{content:i}],shape:{type:"Native",content:`<g  transform="translate(2, 2)">\n                      <rect x = "0" y = "0" vector-effect="non-scaling-stroke" height="80" width="160" stroke="black" stroke-dasharray="8 4" stroke-width="1" fill="transparent"/>\n                      <rect x="30" y="20" width="100" height="40" fill="transparent" vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" />\n                      <foreignObject class="symbol-text-container" x="20" width="120" height="80" visibility="hidden">\n                      <div style="height: 80px" class="flex-container">\n                          <div width="120" class="symbol-text-element">\n                              ${i}\n                          </div>\n                      </div>\n                      </foreignObject>\n                      </g>`},ports:yr,height:80,width:160};case"LeftLabel":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transfrom="translate(2, 2)">\n                      <rect height="50" width="200" stroke-width="0" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d = "M 30 50 L 200 50 M 30 50 L 30 15"/>\n                      <polygon vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" points="25,15 35,15 30,10"/>\n                      <foreignObject class="symbol-text-container" x="25" y="25" width="150" height="25" visibility="hidden">\n                      <div style="height: 25px" class="flex-container">\n                          <div width="150" class="symbol-text-element">\n                              label\n                          </div>\n                      </div>\n                      </foreignObject>\n                  </g>'},annotations:[{content:"label",offset:{x:.5,y:1},margin:{top:10}}],height:50,width:200};case"RightLabel":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g>\n                      <rect height="50" width="200" stroke-width="0" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 30 50 L 200 50 L 200 15"/>\n                      <polygon vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" points="195,15 205,15 200 ,10" />\n                      <foreignObject class="symbol-text-container" x="25" y="25" width="150" height="25" visibility="hidden">\n                      <div style="height: 25px" class="flex-container">\n                          <div width="150" class="symbol-text-element">\n                              label\n                          </div>\n                      </div>\n                      </foreignObject>\n                  </g>'},annotations:[{content:"label",offset:{x:.5,y:1},margin:{top:10}}],height:50,width:200};case"PushUpRight":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect height="100" width="100" stroke-width="0" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 50 100 L 100 100 L 100 0"/>\n                      <polygon vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" points="95,5 105,5 100,0"/>\n                      <foreignObject class="symbol-text-container" x="40" y="25" width="75" height="75" visibility="hidden">\n                      <div style="height: 75px" class="flex-container">\n                          <div width="75" class="symbol-text-element">\n                              push up\n                          </div>\n                      </div>\n                      </foreignObject>\n                  </g>'},annotations:[{content:"push up",offset:{x:1,y:.5},margin:{left:30}}],height:100,width:100};case"PushUpLeft":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect height="100" width="100" stroke-width="0" fill="transparent"/>\n                      <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 55 100 L 5 100 L 5 0"/>\n                      <polygon vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" points=" 0,5 10,5 5,0"/>\n                      <foreignObject class="symbol-text-container" x="2" y="25" width="75" height="75" visibility="hidden">\n                      <div style="height: 75px" class="flex-container">\n                          <div width="75" class="symbol-text-element">\n                              push up\n                          </div>\n                      </div>\n                      </foreignObject>\n                  </g>'},annotations:[{content:"push up",offset:{x:0,y:.5},margin:{right:30}}],height:100,width:100};case"TheoryScale":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g tranform="translate(2,2)">\n                      <rect height="50" width="600" fill="transparent" stroke-width="0"/>\n                      <path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 0 25 L 600 25 M 270 10 L 270 40 M 290 10 L 290 40 M 310 10 L 310 40 M 330 10 L 330 40"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="5" cy="15" r="3"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="25" cy="15" r="3"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="45" cy="15" r="3"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="595" cy="15" r="3"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="575" cy="15" r="3"/>\n                      <circle vector-effect="non-scaling-stroke" fill="black" stroke="black" stroke-width="1" cx="555" cy="15" r="3"/>\n                  </g>'},annotations:[{content:"-2",offset:{x:.45,y:1}},{content:"-1",offset:{x:.4833,y:1}},{content:"1",offset:{x:.5167,y:1}},{content:"2",offset:{x:.55,y:1}}],height:50,width:600};case"VerticalContinuity":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g>\n                      <rect vector-effect="non-scaling-stroke" height="60" width="120" stroke-width="1" fill="none" stroke="black"/>\n                      <circle vector-effect="non-scaling-stroke" stroke-width="1" fill="black" stroke="black" cx="60" cy="15" r="3.5"/>\n                      <circle vector-effect="non-scaling-stroke" stroke-width="1" fill="black" stroke="black" cx="60" cy="30" r="3.5"/>\n                      <circle vector-effect="non-scaling-stroke" stroke-width="1" fill="black" stroke="black" cx="60" cy="45" r="3.5"/>\n                  </g>'},ports:yr,height:50,width:100};case"redcross":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="10" width="10" stroke="none" fill="none"/>\n                      <path vector-effect="non-scaling-stroke" stroke="red" stroke-width="1" fill="none" d="M 0 0 L 10 10 M 0 10 L 10 0"/>\n                  </g>'},height:50,width:50};case"linkednode":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="12" width="10" stroke="none" fill="none"/>\n                      <circle vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="none" cx="5" cy="5" r="5"/>\n                      <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="none" d="M 2 11 L 8 11 M 2 12 L 8 12"/>\n                  </g>'},annotations:[{content:"1",offset:{x:.5,y:.45}}],height:60,width:50};case"emptycontainer":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transfrom="translate(2,2)">\n                  <rect vector-effect="non-scaling-stroke" height="150" width="700" fill="none" stroke="black" stroke-width="1"/>\n                  </g>'},annotations:[{content:"Empty Container"}],height:150,width:700};case"squareemptycontainer":return{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:'<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="200" width="200" fill="none" stroke="black" stroke-width="1"/>\n                  </g>'},annotations:[{content:i,offset:{x:.5,y:0},margin:{bottom:10}}],height:200,width:200};case"RawAnnotationContent":let Ce,de=void 0!==i.height?i.height:80,Me=void 0!==i.width?i.width:80,Ve=void 0!==i.content?i.content[0].content:i;return Ce=1===String(Ve).length?.15*Me:String(Ve).length>1&&String(Ve).length<5?.3*Me:String(Ve).length<=20&&String(Ve).length>=5?.65*Me:.85*Me,{id:t,constraints:j.Default|j.Rotate,addInfo:e,shape:{type:"Native",content:`<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="${de}" width="${Me}" stroke="black" stroke-width="1" fill="transparent" />\n                      <foreignObject class="symbol-text-container" x="${.25*Me/2}" width="${.75*Me}" height="${de}" visibility="hidden">\n                          <div style="height: ${de}px" class="flex-container">\n                              <div width="${.75*Me}" class="symbol-text-element">\n                                  ${Ve}\n                              </div>\n                          </div>\n                      </foreignObject>`},annotations:void 0!==i.content?i.content:[{content:i}],width:Me,height:de,ports:void 0!==i.ports?i.ports:yr,style:{...i.style,fill:"white",fontSize:20}};case"ConnectorArrow":let ze,Ie;switch(i.decoration){case"up":ze={x:0,y:0},Ie={x:0,y:1};break;case"down":ze={x:0,y:0},Ie={x:0,y:-1};break;case"left":default:ze={x:0,y:0},Ie={x:1,y:0};break;case"right":ze={x:0,y:0},Ie={x:-1,y:0};break;case"upLeft":ze={x:0,y:0},Ie={x:1,y:1};break;case"downLeft":ze={x:0,y:0},Ie={x:1,y:-1};break;case"upRight":ze={x:0,y:0},Ie={x:-1,y:1};break;case"downRight":ze={x:0,y:0},Ie={x:-1,y:-1}}return{id:t,constraints:j.Default|j.Rotate,addInfo:e,type:i.type||"Straight",annotations:i.content,sourceDecorator:{shape:i.source||"None",style:i.sourceStyle||null},targetDecorator:{shape:i.target||"Arrow",style:i.targetStyle||null},style:i.style||null,sourcePointC:ze,targetPointC:Ie};case"ConnectorBezier":let pe,Pe;switch(i.decoration){case"up":pe={x:0,y:0},Pe={x:0,y:1};break;case"down":pe={x:0,y:0},Pe={x:0,y:-1};break;case"left":default:pe={x:0,y:0},Pe={x:1,y:0};break;case"right":pe={x:0,y:0},Pe={x:-1,y:0};break;case"upLeft":pe={x:0,y:0},Pe={x:1,y:1};break;case"downLeft":pe={x:0,y:0},Pe={x:1,y:-1};break;case"upRight":pe={x:0,y:0},Pe={x:-1,y:1};break;case"downRight":pe={x:0,y:0},Pe={x:-1,y:-1}}return{id:t,addInfo:e,type:i.type||"Bezier",annotations:i.content,sourceDecorator:{shape:i.source||"Arrow",style:i.sourceStyle||null},targetDecorator:{shape:i.target||"Arrow",style:i.targetStyle||null},style:i.style||null,sourcePointB:pe,targetPointB:Pe,constraints:j.Default|j.Rotate};case"EquationWithBorder":let ut,Qe=void 0!==i?.height?i.height:80,Oe=void 0!==i?.width?i.width:150,Ye=void 0!==i?.content?i?.content[0]?.content:i;return ut=1===String(Ye).length?.15*Oe:String(Ye).length>1&&String(Ye).length<5?.3*Oe:String(Ye).length<=20&&String(Ye).length>=5?.65*Oe:.85*Oe,{id:t,addInfo:e,shape:{type:"Native",content:`<g transform="translate(2,2)">\n                      <rect vector-effect="non-scaling-stroke" height="${Qe}" width="${Oe}" stroke="black" stroke-width="1" fill="transparent" />\n                      </g>`},annotations:[{template:i}],width:Oe,height:Qe,ports:yr,style:{fill:"white",fontSize:10},constraints:j.Default|j.Rotate};case"EquationWithNoBorder":return{id:t,shape:{type:"Native",content:'<g  transform="translate(2, 2)">\n            <rect height="30" width="100" fill="transparent" stroke-width="0"/>\n            <foreignObject class="symbol-text-container" x="0" y="25" width="100" height="30" visibility="hidden">\n            </foreignObject>\n          </g>'},addInfo:e,annotations:[{template:i}],height:30,width:100,constraints:j.Default|j.Rotate};default:let Pi,Xt=void 0!==i?.height?i.height:80,ni=void 0!==i?.width?i.width:150,ui=void 0!==i?.content?i?.content[0]?.content:i;return Pi=1===String(ui).length?.15*ni:String(ui).length>1&&String(ui).length<5?.3*ni:String(ui).length<=20&&String(ui).length>=5?.65*ni:.85*ni,{id:t,addInfo:e,shape:{type:"Native",content:`<g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="${Xt}" width="${ni}" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="${.25*ni/2}" width="${.75*ni}" height="${Xt}" visibility="hidden">\n                        <div style="height: ${Xt}px" class="flex-container">\n                            <div width="${.75*ni}" class="symbol-text-element">\n                                ${ui}\n                            </div>\n                        </div>\n                    </foreignObject>`},annotations:void 0!==i?.content?i?.content:[{content:i}],width:ni,height:Xt,ports:void 0!==i?.ports?i?.ports:yr,constraints:j.Default|j.Rotate,style:{...i?.style,fill:"white",fontSize:10}}}}let dk=(()=>{class r{constructor(){this._model=new Ho({COMMUNICATION:[],THEORY:[]}),this._diagram=new Ho(null),this._action=new Ho(null)}setModel(e){this._model.next(e)}getModel(){return this._model.asObservable()}setDiagram(e){this._diagram.next(e)}getDiagram(){return this._diagram.asObservable()}regiterAction(e){this._action.next(e)}getAction(){return this._action.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ry=function(r){return r.COMMUNICATION="COMMUNICATION",r.THEORY="THEORY",r}(Ry||{}),X4=function(r){return r.COPY="COPY",r.PARSE="PARSE",r}(X4||{}),zy=function(r){return r.COMM_MAIN_PROJECT_MODEL="COMM_MAIN_PROJECT_MODEL",r.COMM_PROBLEM_STATEMENT="COMM_PROBLEM_STATEMENT",r.THEORY_MAIN_APPLICATION_MODEL="THEORY_MAIN_APPLICATION_MODEL",r.SYSTEM_APPLY_THEORY_MODEL="SYSTEM_APPLY_THEORY_MODEL",r}(zy||{});let Qw=(()=>{class r{constructor(){this._domain=new Ho(Ry.COMMUNICATION),this._model=new Ho({COMMUNICATION:[zy.COMM_MAIN_PROJECT_MODEL],THEORY:[zy.THEORY_MAIN_APPLICATION_MODEL]}),this._currentModel=new Ho(zy.COMM_MAIN_PROJECT_MODEL)}getCurrentModel(){return this._currentModel.asObservable()}setCurrentModel(e){this._currentModel.next(e)}setModel(e){this._model.next(e)}getModel(){return this._model.asObservable()}getDomain(){return this._domain.asObservable()}setDomain(e){this._domain.next(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function SQ(r,t,e,i,n,s,o){try{var a=r[s](o),l=a.value}catch(h){return void e(h)}a.done?t(l):Promise.resolve(l).then(i,n)}function $w(r){return function(){var t=this,e=arguments;return new Promise(function(i,n){var s=r.apply(t,e);function o(l){SQ(s,i,n,o,a,"next",l)}function a(l){SQ(s,i,n,o,a,"throw",l)}o(void 0)})}}var Hbe=sn(217),Q4=sn.n(Hbe);const Ube={groupButtonIcon:{items:[{iconCss:"e-icons e-align-left"},{iconCss:"e-icons e-align-center"},{iconCss:"e-icons e-align-right"},{iconCss:"e-icons e-justify"}]},pasteSettings:{iconCss:"icon icon-paste",content:"Paste",cssClass:"min-w-70"},cutButton:{iconCss:"icon icon-cut",content:"Cut",cssClass:"min-w-70"},deleteButton:{iconCss:"icon icon-delete",content:"Delete",cssClass:"min-w-70"},exportButton:{iconCss:"icon icon-clipBoard",content:"Export",cssClass:"min-w-70"},undoButton:{iconCss:"icon icon-undo1",content:"Undo",cssClass:"min-w-70"},copyButton:{iconCss:"icon icon-copy",content:"Copy",cssClass:"min-w-70"},formatButton:{iconCss:"e-icons e-format-painter",content:"Format Painter"},boldButton:{iconCss:"e-icons e-bold",content:"Bold",isToggle:!0},alignLeftButton:{iconCss:"e-icons e-align-left",content:""},alginCenterButton:{iconCss:"e-icons e-align-center",content:""},alignRightButton:{iconCss:"e-icons e-align-right",content:""},italicButton:{iconCss:"e-icons e-italic",content:"Italic",isToggle:!0},underlineButton:{iconCss:"e-icons e-underline",content:"Underline",isToggle:!0},strikethroughButton:{iconCss:"e-icons e-strikethrough",content:"Strikethrough",isToggle:!0},changecaseButton:{iconCss:"e-icons e-change-case",content:"Change Case"},fillButton:{iconCss:"icon icon-fill-menu",content:"Fill"},lineButton:{iconCss:"icon icon-lineMenu",content:"Line"},textButton:{iconCss:"icon icon-text-menu",content:"Text"},startButton:{iconCss:"icon icon-start-menu",content:"Start"},endButton:{iconCss:"icon icon-end-menu",content:"End"},pointerButton:{iconCss:"icon icon-point-menu",content:"Pointer"},text2Button:{iconCss:"icon icon-text-menu2",content:"Text"},line2Button:{iconCss:"icon icon-line-menu",content:"Line"},rectangularButton:{iconCss:"icon-small icon-minus",content:""},curvedLineButton:{iconCss:"icon-small icon-ease",content:""},ellipseButton:{iconCss:"icon-small icon-ellipse",content:""},ascendantButton:{iconCss:"icon-small icon-line-chart",content:""},autoConnectorButton:{iconCss:"icon icon-autoconnector",content:"Auto Connector",cssClass:"min-w-90"},nodeSplitButton:{iconCss:"icon icon-node-menu",content:"Node",cssClass:"min-w-70",items:[{text:"Add Note at Node"},{text:"List of Note at Node"}]},chartButton:{iconCss:"e-icons e-chart",content:"Chart"},printButton:{iconCss:"e-icons e-print-layout",content:"Print Layout"},webButton:{iconCss:"e-icons e-web-layout",content:"Web Layout"},fontstyleSettings:{dataSource:["Segoe UI","Times New Roman","Arial","Time New Roman","Tahoma","Helvetica"],index:0,width:"100px",allowFiltering:!0},fontsizeSettings:{dataSource:["1pt","2pt","3pt","4pt","5pt"],index:0,width:"62px",allowFiltering:!0,cssClass:"border-1"},colorSettings:{value:"#123456"},ruler:{label:"Ruler",checked:!1},grid:{label:"Gridlines",checked:!1},navigation:{label:"Navigation Pane",checked:!1},fileSettings:{menuItems:[{text:"New Project",id:"new"},{text:"Open Project",id:"open"},{text:"Save Project",id:"save"},{text:"Export Project Model",id:"export",items:[{text:"Portable Network Graphics (PNG)",id:"network"},{text:"File Interchange Format (JPG)",id:"file"},{text:"Windows Bitmap (BMP)",id:"window"},{text:"Scalable Vector Graphics (SVG)",id:"scalable"},{text:"Portable Document Format (PDF)",id:"document"}]}],visible:!0},containerSettings:{iconCss:"icon icon-container-menu-insert",content:"Container ",target:"#container-dropdown",createPopupOnClick:!0},containerDropdownData:[{id:"containerPlain",text:"Plain",img:"/assets/images/plainsubmenucontainerinsert.png"},{id:"containerClassic",text:"Classic",img:"/assets/images/classicsubmenucontainerinsert.png"},{id:"containerCorners",text:"Corners",img:"/assets/images/cornerssubmenucontainerinsert.png"},{id:"containerAlternating",text:"Alternating",img:"/assets/images/alternatingsubmenucontainerinsert.png"},{id:"containerBanner",text:"Banner",img:"/assets/images/bannersubmenucontainerinsert.png"}],listSettings:{iconCss:"icon icon-list-menu-insert",content:"List",target:"#list-dropdown",createPopupOnClick:!0},listDropdownData:[{group:"Vertical",items:[{id:"listVerticalPlan",text:"Plain",img:"/assets/images/plainsubmenucontainerinsert.png",group:"Vertical"},{id:"listVerticalClassic",text:"Classic",img:"/assets/images/classicsubmenucontainerinsert.png",group:"Vertical"},{id:"listVerticalCorners",text:"Corners",img:"/assets/images/cornerssubmenucontainerinsert.png",group:"Vertical"},{id:"listVerticalAlternating",text:"Alternating",img:"/assets/images/alternatingsubmenucontainerinsert.png",group:"Vertical"},{id:"listVerticalBanner",text:"Banner",img:"/assets/images/bannersubmenucontainerinsert.png",group:"Vertical"}]},{group:"Horizontal",items:[{id:"listHorizontalPlan",text:"Plain",img:"/assets/images/plainsubmenucontainerinsert.png",group:"Horizontal"},{id:"listHorizontalClassic",text:"Classic",img:"/assets/images/classicsubmenucontainerinsert.png",group:"VertHorizontalical"},{id:"listHorizontalCorners",text:"Corners",img:"/assets/images/cornerssubmenucontainerinsert.png",group:"Horizontal"},{id:"listHorizontalAlternating",text:"Alternating",img:"/assets/images/alternatingsubmenucontainerinsert.png",group:"Horizontal"},{id:"listHorizontalBanner",text:"Banner",img:"/assets/images/bannersubmenucontainerinsert.png",group:"Horizontal"}]}],pictureButton:{iconCss:"icon icon-picture-menu-insert",content:"Picture",cssClass:""},fromClipboardButton:{iconCss:"icon icon-copy",content:"From Clipboard",cssClass:"min-w-90"},funcButton:{iconCss:"icon icon-copy",content:"Function",cssClass:""},applicationSettings:{iconCss:"icon icon-paste",content:"Application",cssClass:""},resultButton:{iconCss:"icon icon-paste",content:"Result",cssClass:""},collectionButton:{iconCss:"icon icon-copy",content:"Collection",cssClass:""},dictionaryButton:{iconCss:"icon icon-paste",content:"Dictionary",cssClass:""},areaButton:{iconCss:"icon icon-paste",content:"Main Area",cssClass:""},funcDropdown:{iconCss:"icon icon-Function_Icon1",content:"Function",target:"#function-dropdown",createPopupOnClick:!0},functionDropdownData:[{id:"function_1",img:"/assets/images/function_1.png"},{id:"function_2",img:"/assets/images/function_2.png"},{id:"function_3",img:"/assets/images/function_3.png"},{id:"function_4",img:"/assets/images/function_4.png"},{id:"function_5",img:"/assets/images/function_5.png"},{id:"function_6",img:"/assets/images/function_6.png"},{id:"function_7",img:"/assets/images/function_7.png"},{id:"function_8",img:"/assets/images/function_8.png"},{id:"function_9",img:"/assets/images/function_9.png"},{id:"function_10",img:"/assets/images/function_10.png"},{id:"function_11",img:"/assets/images/function_11.png"},{id:"function_12",img:"/assets/images/function_12.png"},{id:"function_13",img:"/assets/images/function_13.png"},{id:"function_14",img:"/assets/images/function_14.png"}],wordDropdown:{iconCss:"icon icon-Word_Icon1",content:"Word",target:"#word-dropdown",createPopupOnClick:!0},wordDropdownData:[{id:"word_1",img:"/assets/images/word_1.png"},{id:"word_2",img:"/assets/images/word_2.png"},{id:"word_3",img:"/assets/images/word_3.png"},{id:"word_4",img:"/assets/images/word_4.png"},{id:"word_5",img:"/assets/images/word_5.png"},{id:"word_6",img:"/assets/images/word_6.png"},{id:"word_7",img:"/assets/images/word_7.png"},{id:"word_8",img:"/assets/images/word_8.png"},{id:"word_9",img:"/assets/images/word_9.png"},{id:"word_10",img:"/assets/images/word_10.png"},{id:"word_11",img:"/assets/images/word_11.png"},{id:"word_12",img:"/assets/images/word_12.png"},{id:"word_13",img:"/assets/images/word_13.png"}],applicationDropdown:{iconCss:"icon icon-Application_Icon1",content:"Application",target:"#application-dropdown",createPopupOnClick:!0},applicationDropdownData:[{id:"Application_1",img:"/assets/images/Application_1.png"},{id:"Application_2",img:"/assets/images/Application_2.png"},{id:"Application_3",img:"/assets/images/Application_3.png"},{id:"Application_4",img:"/assets/images/Application_4.png"},{id:"Application_5",img:"/assets/images/Application_5.png"},{id:"Application_6",img:"/assets/images/Application_6.png"}],relationshipDropdown:{iconCss:"icon icon-Relationship_Icon1",content:"Relationship",target:"#relationship-dropdown",createPopupOnClick:!0},relationshipDropdownData:[{id:"Relationship_1",img:"/assets/images/Relationship_1.png"},{id:"Relationship_2",img:"/assets/images/Relationship_2.png"},{id:"Relationship_3",img:"/assets/images/Relationship_3.png"},{id:"Relationship_4",img:"/assets/images/Relationship_4.png"},{id:"Relationship_5",img:"/assets/images/Relationship_5.png"},{id:"Relationship_6",img:"/assets/images/Relationship_6.png"},{id:"Relationship_7",img:"/assets/images/Relationship_7.png"},{id:"Relationship_8",img:"/assets/images/Relationship_8.png"},{id:"Relationship_9",img:"/assets/images/Relationship_9.png"},{id:"Relationship_10",img:"/assets/images/Relationship_10.png"}],bracketDropdown:{iconCss:"icon-medium icon-brackets",cssClass:"min-w-70",content:"Bracket",target:"#bracket-dropdown",createPopupOnClick:!0},bracketDropdownData:[{id:"AngleBar",img:"/assets/images/brackets/AngleBar.png"},{id:"BarAngle",img:"/assets/images/brackets/BarAngle.png"},{id:"BottomCurlyBracket",img:"/assets/images/brackets/BottomCurlyBracket.png"},{id:"BottomSquareBracket",img:"/assets/images/brackets/BottomSquareBracket.png"},{id:"Ceiling",img:"/assets/images/brackets/Ceiling.png"},{id:"CurlyBracket",img:"/assets/images/brackets/CurlyBracket.png"},{id:"DoubleArrowBarBracket",img:"/assets/images/brackets/DoubleArrowBarBracket.png"},{id:"DoubleBar",img:"/assets/images/brackets/DoubleBar.png"},{id:"Floor",img:"/assets/images/brackets/Floor.png"},{id:"LeftAngle",img:"/assets/images/brackets/LeftAngle.png"},{id:"LeftBar",img:"/assets/images/brackets/LeftBar.png"},{id:"LeftCurlyBracket",img:"/assets/images/brackets/LeftCurlyBracket.png"},{id:"LeftDoubleBar",img:"/assets/images/brackets/LeftDoubleBar.png"},{id:"LeftLeftSquareBracket",img:"/assets/images/brackets/LeftLeftSquareBracket.png"},{id:"LeftParenthesis",img:"/assets/images/brackets/LeftParenthesis.png"},{id:"LeftSquareBar",img:"/assets/images/brackets/LeftSquareBar.png"},{id:"LeftSquareBracket",img:"/assets/images/brackets/LeftSquareBracket.png"},{id:"Parentheses",img:"/assets/images/brackets/Parentheses.png"},{id:"ParenthesisSquare",img:"/assets/images/brackets/ParenthesisSquare.png"},{id:"PointingAngles",img:"/assets/images/brackets/PointingAngles.png"},{id:"RightAngle",img:"/assets/images/brackets/RightAngle.png"},{id:"RightBar",img:"/assets/images/brackets/RightBar.png"},{id:"RightCurlyBracket",img:"/assets/images/brackets/RightCurlyBracket.png"},{id:"RightDoubleBar",img:"/assets/images/brackets/RightDoubleBar.png"},{id:"RightLeftSquareBracket",img:"/assets/images/brackets/RightLeftSquareBracket.png"},{id:"RightParenthesis",img:"/assets/images/brackets/RightParenthesis.png"},{id:"RightRightSquareBracket",img:"/assets/images/brackets/RightRightSquareBracket.png"},{id:"RightSquareBar",img:"/assets/images/brackets/RightSquareBar.png"},{id:"RightSquareBracket",img:"/assets/images/brackets/RightSquareBracket.png"},{id:"SingleBar",img:"/assets/images/brackets/SingleBar.png"},{id:"SquareBar",img:"/assets/images/brackets/SquareBar.png"},{id:"SquareBracket",img:"/assets/images/brackets/SquareBracket.png"},{id:"SquareParenthesesBracket",img:"/assets/images/brackets/SquareParenthesesBracket.png"},{id:"SquareParenthesis",img:"/assets/images/brackets/SquareParenthesis.png"},{id:"TopCurlyBracket",img:"/assets/images/brackets/TopCurlyBracket.png"},{id:"TopSquareBracket",img:"/assets/images/brackets/TopSquareBracket.png"}],decoratorDropdown:{iconCss:"icon-medium icon-decoratedEquation",content:"Decorator",cssClass:"min-w-70",target:"#decorator-dropdown",createPopupOnClick:!0},decoratorDropdownData:[{id:"bottomBar",img:"/assets/images/equation/bottomBar.png"},{id:"bottomDoubleArrow",img:"/assets/images/equation/bottomDoubleArrow.png"},{id:"bottomDoubleBar",img:"/assets/images/equation/bottomDoubleBar.png"},{id:"bottomLeftArrow",img:"/assets/images/equation/bottomLeftArrow.png"},{id:"bottomLeftHalfArrow",img:"/assets/images/equation/bottomLeftHalfArrow.png"},{id:"bottomRightArrow",img:"/assets/images/equation/bottomRightArrow.png"},{id:"bottomRightHalfArrow",img:"/assets/images/equation/bottomRightHalfArrow.png"},{id:"cross",img:"/assets/images/equation/cross.png"},{id:"hat",img:"/assets/images/equation/hat.png"},{id:"leftCross",img:"/assets/images/equation/leftCross.png"},{id:"parenthesis",img:"/assets/images/equation/parenthesis.png"},{id:"rightCross",img:"/assets/images/equation/rightCross.png"},{id:"strikeThrough",img:"/assets/images/equation/strikeThrough.png"},{id:"tilde",img:"/assets/images/equation/tilde.png"},{id:"topBar",img:"/assets/images/equation/topBar.png"},{id:"topDoubleArrow",img:"/assets/images/equation/topDoubleArrow.png"},{id:"topDoubleBar",img:"/assets/images/equation/topDoubleBar.png"},{id:"topLeftArrow",img:"/assets/images/equation/topLeftArrow.png"},{id:"topLeftHalfArrow",img:"/assets/images/equation/topLeftHalfArrow.png"},{id:"topRightArrow",img:"/assets/images/equation/topRightArrow.png"},{id:"topRightHalfArrow",img:"/assets/images/equation/topRightHalfArrow.png"},{id:"tortoise",img:"/assets/images/equation/tortoise.png"}],sumProductDropdown:{iconCss:"icon-medium icon-sumproduct",content:"Sum & Products",cssClass:"min-w-120",target:"#sum-dropdown",createPopupOnClick:!0},sumDropdownData:[{id:"coProduct",img:"/assets/images/sumsProducts/coProduct.png"},{id:"coProductBottom",img:"/assets/images/sumsProducts/coProductBottom.png"},{id:"coProductBottomTop",img:"/assets/images/sumsProducts/coProductBottomTop.png"},{id:"coProductSub",img:"/assets/images/sumsProducts/coProductSub.png"},{id:"coProductSubSuper",img:"/assets/images/sumsProducts/coProductSubSuper.png"},{id:"intersection",img:"/assets/images/sumsProducts/intersection.png"},{id:"intersectionBottom",img:"/assets/images/sumsProducts/intersectionBottom.png"},{id:"intersectionBottomTop",img:"/assets/images/sumsProducts/intersectionBottomTop.png"},{id:"intersectionSub",img:"/assets/images/sumsProducts/intersectionSub.png"},{id:"intersectionSubSuper",img:"/assets/images/sumsProducts/intersectionSubSuper.png"},{id:"product",img:"/assets/images/sumsProducts/product.png"},{id:"productBottom",img:"/assets/images/sumsProducts/productBottom.png"},{id:"ProductBottomTop",img:"/assets/images/sumsProducts/ProductBottomTop.png"},{id:"productSub",img:"/assets/images/sumsProducts/productSub.png"},{id:"productSubSuper",img:"/assets/images/sumsProducts/productSubSuper.png"},{id:"sum",img:"/assets/images/sumsProducts/sum.png"},{id:"sumBottom",img:"/assets/images/sumsProducts/sumBottom.png"},{id:"sumBottomTop",img:"/assets/images/sumsProducts/sumBottomTop.png"},{id:"sumSub",img:"/assets/images/sumsProducts/sumSub.png"},{id:"sumSubSuper",img:"/assets/images/sumsProducts/sumSubSuper.png"},{id:"union",img:"/assets/images/sumsProducts/union.png"},{id:"unionBottom",img:"/assets/images/sumsProducts/unionBottom.png"},{id:"unionBottomTop",img:"/assets/images/sumsProducts/unionBottomTop.png"},{id:"unionSub",img:"/assets/images/sumsProducts/unionSub.png"},{id:"unionSubSuper",img:"/assets/images/sumsProducts/unionSubSuper.png"}],integralDropdown:{iconCss:"icon-medium icon-integrals",content:"Integral",cssClass:"min-w-70",target:"#integral-dropdown",createPopupOnClick:!0},integralDropdownData:[{id:"SingleBottom",img:"/assets/images/integrals/Single/Bottom.png"},{id:"SingleBottomTop",img:"/assets/images/integrals/Single/BottomTop.png"},{id:"SingleSimple",img:"/assets/images/integrals/Single/Simple.png"},{id:"SingleSub",img:"/assets/images/integrals/Single/Sub.png"},{id:"SingleSubSuper",img:"/assets/images/integrals/Single/SubSuper.png"},{id:"DoubleBottom",img:"/assets/images/integrals/Double/Bottom.png"},{id:"DoubleBottomTop",img:"/assets/images/integrals/Double/BottomTop.png"},{id:"DoubleSimple",img:"/assets/images/integrals/Double/Simple.png"},{id:"DoubleSub",img:"/assets/images/integrals/Double/Sub.png"},{id:"DoubleSubSuper",img:"/assets/images/integrals/Double/SubSuper.png"},{id:"TripleBottom",img:"/assets/images/integrals/Triple/Bottom.png"},{id:"TripleBottomTop",img:"/assets/images/integrals/Triple/BottomTop.png"},{id:"TripleSimple",img:"/assets/images/integrals/Triple/Simple.png"},{id:"TripleSub",img:"/assets/images/integrals/Triple/Sub.png"},{id:"TripleSubSuper",img:"/assets/images/integrals/Triple/SubSuper.png"},{id:"ClockBottom",img:"/assets/images/integrals/Clock/Bottom.png"},{id:"ClockBottomTop",img:"/assets/images/integrals/Clock/BottomTop.png"},{id:"ClockSimple",img:"/assets/images/integrals/Clock/Simple.png"},{id:"ClockSub",img:"/assets/images/integrals/Clock/Sub.png"},{id:"ClockSubSuper",img:"/assets/images/integrals/Clock/SubSuper.png"},{id:"SurfaceBottom",img:"/assets/images/integrals/Surface/Bottom.png"},{id:"SurfaceBottomTop",img:"/assets/images/integrals/Surface/BottomTop.png"},{id:"SurfaceSimple",img:"/assets/images/integrals/Surface/Simple.png"},{id:"SurfaceSub",img:"/assets/images/integrals/Surface/Sub.png"},{id:"SurfaceSubSuper",img:"/assets/images/integrals/Surface/SubSuper.png"},{id:"VolumeBottom",img:"/assets/images/integrals/volume/Bottom.png"},{id:"VolumeBottomTop",img:"/assets/images/integrals/volume/BottomTop.png"},{id:"VolumeSimple",img:"/assets/images/integrals/volume/Simple.png"},{id:"VolumeSub",img:"/assets/images/integrals/volume/Sub.png"},{id:"VolumeSubSuper",img:"/assets/images/integrals/volume/SubSuper.png"}],scriptDropdown:{iconCss:"icon-medium icon-script",content:"Script",cssClass:"min-w-70",target:"#script-dropdown",createPopupOnClick:!0},scriptDropdownData:[{id:"Sub",img:"/assets/images/Sub.png"},{id:"SubLeft",img:"/assets/images/SubLeft.png"},{id:"SubSuper",img:"/assets/images/SubSuper.png"},{id:"SubSuperLeft",img:"/assets/images/SubSuperLeft.png"},{id:"Super",img:"/assets/images/Super.png"},{id:"SuperLeft",img:"/assets/images/SuperLeft.png"}],factionRadicalDropdown:{iconCss:"icon-medium icon-divroot",content:"Fraction & Radical",cssClass:"min-w-120",target:"#frac-dropdown",createPopupOnClick:!0},fracDropdownData:[{id:"Div",img:"/assets/images/Div.png"},{id:"DivDoubleBar",img:"/assets/images/DivDoubleBar.png"},{id:"DivHoriz",img:"/assets/images/DivHoriz.png"},{id:"DivMath",img:"/assets/images/DivMath.png"},{id:"DivMathInverted",img:"/assets/images/DivMathInverted.png"},{id:"DivMathInvertedWithBottom",img:"/assets/images/DivMathInvertedWithBottom.png"},{id:"DivMathWithTop",img:"/assets/images/DivMathWithTop.png"},{id:"DivSlant",img:"/assets/images/DivSlant.png"},{id:"DivTriangleExpanding",img:"/assets/images/DivTriangleExpanding.png"},{id:"DivTriangleFixed",img:"/assets/images/DivTriangleFixed.png"},{id:"DivTripleBar",img:"/assets/images/DivTripleBar.png"},{id:"nRoot",img:"/assets/images/nRoot.png"},{id:"SmallDiv",img:"/assets/images/SmallDiv.png"},{id:"SmallDivHoriz",img:"/assets/images/SmallDivHoriz.png"},{id:"SmallDivSlant",img:"/assets/images/SmallDivSlant.png"},{id:"SqRoot",img:"/assets/images/SqRoot.png"}],labeledArrowDropdown:{iconCss:"icon-medium icon-arrowEquation",content:"Labeled Arrow",cssClass:"min-w-100",target:"#arrow-dropdown"},arrowDropdownData:[{id:"ArrowDoubleBottom",img:"/assets/images/arrow/DoubleBottom.png"},{id:"ArrowDoubleBottomTop",img:"/assets/images/arrow/DoubleBottomTop.png"},{id:"ArrowDoubleTop",img:"/assets/images/arrow/DoubleTop.png"},{id:"LeftBottom",img:"/assets/images/arrow/LeftBottom.png"},{id:"LeftBottomTop",img:"/assets/images/arrow/LeftBottomTop.png"},{id:"LeftTop",img:"/assets/images/arrow/LeftTop.png"},{id:"RightBottom",img:"/assets/images/arrow/RightBottom.png"},{id:"RightBottomTop",img:"/assets/images/arrow/RightBottomTop.png"},{id:"RightLeftBottom",img:"/assets/images/arrow/RightLeftBottom.png"},{id:"RightLeftBottomTop",img:"/assets/images/arrow/RightLeftBottomTop.png"},{id:"RightLeftHarpBottom",img:"/assets/images/arrow/RightLeftHarpBottom.png"},{id:"RightLeftHarpBottomTop",img:"/assets/images/arrow/RightLeftHarpBottomTop.png"},{id:"RightLeftHarpTop",img:"/assets/images/arrow/RightLeftHarpTop.png"},{id:"RightLeftTop",img:"/assets/images/arrow/RightLeftTop.png"},{id:"RightSmallLeftBottom",img:"/assets/images/arrow/RightSmallLeftBottom.png"},{id:"RightSmallLeftBottomTop",img:"/assets/images/arrow/RightSmallLeftBottomTop.png"},{id:"RightSmallLeftHarpBottom",img:"/assets/images/arrow/RightSmallLeftHarpBottom.png"},{id:"RightSmallLeftHarpBottomTop",img:"/assets/images/arrow/RightSmallLeftHarpBottomTop.png"},{id:"RightSmallLeftHarpTop",img:"/assets/images/arrow/RightSmallLeftHarpTop.png"},{id:"RightSmallLeftTop",img:"/assets/images/arrow/RightSmallLeftTop.png"},{id:"RightTop",img:"/assets/images/arrow/RightTop.png"},{id:"SmallRightLeftBottom",img:"/assets/images/arrow/SmallRightLeftBottom.png"},{id:"SmallRightLeftHarpBottom",img:"/assets/images/arrow/SmallRightLeftHarpBottom.png"},{id:"SmallRightLeftHarpBottomTop",img:"/assets/images/arrow/SmallRightLeftHarpBottomTop.png"},{id:"SmallRightLeftHarpTop",img:"/assets/images/arrow/SmallRightLeftHarpTop.png"},{id:"SmallRightLeftTop",img:"/assets/images/arrow/SmallRightLeftTop.png"}],underbarOverbarDropdown:{iconCss:"icon-medium icon-underbar",content:"Underbar & Overbar",cssClass:"min-w-120",target:"#bar-dropdown",createPopupOnClick:!0},barDropdownData:[{id:"BigBottom",img:"/assets/images/BigBottom.png"},{id:"BigBottomTop",img:"/assets/images/BigBottomTop.png"},{id:"BigSub",img:"assets/images/BigSub.png"},{id:"BigSubSuper",img:"/assets/images/BigSubSuper.png"},{id:"BigSuper",img:"/assets/images/BigSuper.png"},{id:"BigTop",img:"/assets/images/BigTop.png"},{id:"CompositeBottom",img:"/assets/images/CompositeBottom.png"},{id:"CompositeBottomTop",img:"/assets/images/CompositeBottomTop.png"},{id:"CompositeTop",img:"/assets/images/CompositeTop.png"}],accentPrimeDropdown:{iconCss:"icon-medium icon-decoratedCharacter",content:"Accent & Prime",cssClass:"min-w-120",target:"#accent-dropdown",createPopupOnClick:!0},accentDropdownData:[{id:"CharacterAcuteAccent",img:"/assets/images/character/AcuteAccent.png"},{id:"CharacterBottomBar",img:"/assets/images/character/BottomBar.png"},{id:"CharacterBottomBreve",img:"/assets/images/character/BottomBreve.png"},{id:"CharacterBottomDDot",img:"/assets/images/character/BottomDDot.png"},{id:"CharacterBottomDot",img:"/assets/images/character/BottomDot.png"},{id:"CharacterBottomDoubleArrow",img:"/assets/images/character/BottomDoubleArrow.png"},{id:"CharacterBottomFourDot",img:"/assets/images/character/BottomFourDot.png"},{id:"CharacterBottomInvertedBreve",img:"/assets/images/character/BottomInvertedBreve.png"},{id:"CharacterBottomLeftArrow",img:"/assets/images/character/BottomLeftArrow.png"},{id:"CharacterBottomLeftHarpoon",img:"/assets/images/character/BottomLeftHarpoon.png"},{id:"CharacterBottomRightArrow",img:"/assets/images/character/BottomRightArrow.png"},{id:"CharacterBottomRightHarpoon",img:"/assets/images/character/BottomRightHarpoon.png"},{id:"CharacterBottomTilde",img:"/assets/images/character/BottomTDot.png"},{id:"CharacterBottomTilde",img:"/assets/images/character/BottomTilde.png"},{id:"CharacterCross",img:"/assets/images/character/Cross.png"},{id:"CharacterDoublePrime",img:"/assets/images/character/DoublePrime.png"},{id:"CharacterDoubleStrikeThrough",img:"/assets/images/character/DoubleStrikeThrough.png"},{id:"CharacterGraveAccent",img:"/assets/images/character/GraveAccent.png"},{id:"CharacterLeftCross",img:"/assets/images/character/LeftCross.png"},{id:"CharacterLeftUprightCross",img:"/assets/images/character/LeftUprightCross.png"},{id:"CharacterNone",img:"/assets/images/character/None.png"},{id:"CharacterPrime",img:"/assets/images/character/Prime.png"},{id:"CharacterReverseDoublePrime",img:"/assets/images/character/ReverseDoublePrime.png"},{id:"CharacterReversePrime",img:"/assets/images/character/ReversePrime.png"},{id:"CharacterRightCross",img:"/assets/images/character/RightCross.png"},{id:"CharacterRightUprightCross",img:"/assets/images/character/RightUprightCross.png"},{id:"CharacterStrikeThrough",img:"/assets/images/character/StrikeThrough.png"},{id:"CharacterTopBar",img:"/assets/images/character/TopBar.png"},{id:"CharacterTopBreve",img:"/assets/images/character/TopBreve.png"},{id:"CharacterTopCaron",img:"/assets/images/character/TopCaron.png"},{id:"CharacterTopCircumflex",img:"/assets/images/character/TopCircumflex.png"},{id:"CharacterTopDDot",img:"/assets/images/character/TopDDot.png"},{id:"CharacterTopDot",img:"/assets/images/character/TopDot.png"},{id:"CharacterTopDoubleArrow",img:"/assets/images/character/TopDoubleArrow.png"},{id:"CharacterTopFourDot",img:"/assets/images/character/TopFourDot.png"},{id:"CharacterTopInvertedBreve",img:"/assets/images/character/TopInvertedBreve.png"},{id:"CharacterTopLeftArrow",img:"/assets/images/character/TopLeftArrow.png"},{id:"CharacterTopLeftHarpoon",img:"/assets/images/character/TopLeftHarpoon.png"},{id:"CharacterTopRightArrow",img:"/assets/images/character/TopRightArrow.png"},{id:"CharacterTopRightHarpoon",img:"/assets/images/character/TopRightHarpoon.png"},{id:"CharacterTopRightRing",img:"/assets/images/character/TopRightRing.png"},{id:"CharacterTopRing",img:"/assets/images/character/TopRing.png"},{id:"CharacterTopTDot",img:"/assets/images/character/TopTDot.png"},{id:"CharacterTopTilde",img:"/assets/images/character/TopTilde.png"},{id:"CharacterTriplePrime",img:"/assets/images/character/TriplePrime.png"},{id:"CharacterVDoubleStrikeThrough",img:"/assets/images/character/VDoubleStrikeThrough.png"},{id:"CharacterVStrikeThrough",img:"/assets/images/character/VStrikeThrough.png"}],matrixDropdown:{iconCss:"icon-medium icon-matrix",content:"Matrix",cssClass:"min-w-100",target:"#matrix-dropdown",createPopupOnClick:!0},matrixDropdownData:[{id:"2cellColumn",img:"/assets/images/2cellColumn.png"},{id:"2cellRow",img:"/assets/images/2cellRow.png"},{id:"2Square",img:"assets/images/2Square.png"},{id:"3cellColumn",img:"/assets/images/3cellColumn.png"},{id:"3cellRow",img:"/assets/images/3cellRow.png"},{id:"3Square",img:"/assets/images/3Square.png"},{id:"column",img:"/assets/images/column.png"},{id:"custom",img:"/assets/images/custom.png"},{id:"row",img:"/assets/images/row.png"}],boxesDropdown:{iconCss:"icon-medium icon-boxes",content:"Boxes",cssClass:"min-w-100",target:"#boxes-dropdown",createPopupOnClick:!0},boxesDropdownData:[{id:"BoxAll",img:"/assets/images/all.png"},{id:"BoxLeftBottom",img:"/assets/images/leftBottom.png"},{id:"BoxLeftTop",img:"assets/images/leftTop.png"},{id:"BoxRightBottom",img:"/assets/images/rightBottom.png"},{id:"BoxRightTop",img:"/assets/images/rightTop.png"}],operatorDropdown:{iconCss:"icon-medium icon-symbols",content:"Operator",cssClass:"min-w-120",target:"#operator-dropdown",createPopupOnClick:!0},operatorDropdownData:["\xd7","-","\u2013","\u2012","\u2014","\xb7","\xf7","\xb1","\xbd","\xbc","\xbe","\u2200","\u2202","\u2203","\u2204","\u2205","\u2208","\u2209","\u220b","\u220c","\u220f","\u2210","\u2211","\u2217","\u221a","\u221d","\u221e","\u2227","\u2228","\u2229","\u222a","\u2234","\u2235","\u2237","\u2238","\u2264","\u2265","\u226e","\u226f","\u25b3","\u25b7","\u25bd","\u25c8","\u25c9","\u25ce","\u25e0","\u25e1","\u25ec","\u211d","\u2124","\u2102","\u{1d546}","\u2115"].map((r,t)=>({id:r.toString(),text:r,type:"normal"})),greekCapitalDropdown:{iconCss:"icon-medium icon-greekcapital",content:"Greek Capital",cssClass:"min-w-120",target:"#greek-capital-dropdown",createPopupOnClick:!0},greekCapitalDropdownData:["\u0391","\u0392","\u0393","\u0394","\u0395","\u0396","\u0397","\u0398","\u0399","\u039a","\u039b","\u039c","\u039d","\u039e","\u039f","\u03a0","\u03a1","\u03a3","\u03a4","\u03a5","\u03a6","\u03a7","\u03a8","\u03a9"].map((r,t)=>({id:r.toString(),text:r,type:"large"})),greekSmallDropdown:{iconCss:"icon-medium icon-greeksmall",content:"Greek Small",cssClass:"min-w-120",target:"#greek-small-dropdown",createPopupOnClick:!0},greekSmallDropdownData:["\u03b1","\u03b2","\u03b3","\u03b4","\u03b5","\u03b6","\u03b7","\u03b8","\u03b9","\u03ba","\u03bb","\u03bc","\u03bd","\u03be","\u03bf","\u03c0","\u03c1","\u03c2","\u03c3","\u03c4","\u03c5","\u03c6","\u03c7","\u03c8","\u03c9"].map((r,t)=>({id:r.toString(),text:r,type:"large"})),arrowDropdown:{iconCss:"icon-medium icon-arrows",cssClass:"min-w-120",content:"Arrow",target:"#arrow-code-dropdown",createPopupOnClick:!0},arrowCodeDropdownData:["\u2190","\u2191","\u2192","\u2193","\u2194","\u2195","\u2196","\u2197","\u2198","\u2199","\u219a","\u219b","\u219c","\u219d","\u219e","\u219f","\u21a0","\u21a1","\u21a2","\u21a3","\u21a4","\u21a5","\u21a6","\u21a7","\u21a8","\u21a9","\u21aa","\u21ab","\u21ac","\u21ad","\u21ae","\u21af","\u21b0","\u21b1","\u21b2","\u21b3","\u21b4","\u21b5","\u21b6","\u21b7","\u21b8","\u21b9","\u21ba","\u21bb","\u21bc","\u21bd","\u21be","\u21bf","\u21c0","\u21c1","\u21c2","\u21c3","\u21c4","\u21c5","\u21c6","\u21c7","\u21c8","\u21c9","\u21ca","\u21cb","\u21cc","\u21cd","\u21ce","\u21cf","\u21d0","\u21d1","\u21d2","\u21d3","\u21d4","\u21d5","\u21d6","\u21d7","\u21d8","\u21d8","\u21d9","\u21da","\u21db","\u21dc"].map((r,t)=>({id:r.toString(),text:r,type:"large"})),selectedEntityButton:{iconCss:"icon icon-selectedentityedit",content:"Selected Entity",cssClass:"min-w-120"},undoLastActionButton:{iconCss:"icon icon-undolastactionedit",content:"Undo Last Action",cssClass:"min-w-120"},communicationButton:{iconCss:"icon icon-communicationdomain",content:"Communication",cssClass:"min-w-120",clicked:void 0},theoryButton:{iconCss:"icon icon-theorydomain",content:"Theory",cssClass:"min-w-90",clicked:void 0},startProjectButton:{iconCss:"icon icon-startproject1",content:"Start Project",cssClass:"min-w-100"},configureWarningMsgButton:{iconCss:"icon icon-error",content:"Configure Warning Message",cssClass:"min-w-120"},applicationSettingButton:{iconCss:"icon icon-optionmix1",content:"Application Setting",cssClass:"min-w-100"},captureImgButton:{iconCss:"icon icon-captureimageproject",content:"Capture Image",cssClass:"min-w-90"},editImgButton:{iconCss:"icon icon-editimageproject",content:"Edit Image",cssClass:"min-w-90"},recordVideoButton:{iconCss:"icon icon-reconrdvideoproject1",content:"Record Video",cssClass:"min-w-90"},editVideoButton:{iconCss:"icon icon-editvideoproject",content:"Edit Video",cssClass:"min-w-90"},recordAudioButton:{iconCss:"icon icon-recordaudioproject1",content:"Record Audio",cssClass:"min-w-90"},settingsButton:{iconCss:"icon icon-settingproject1",content:"Settings",cssClass:"min-w-90"},simulateButton:{iconCss:"icon icon-simulationproject",content:"Simulate",cssClass:"min-w-70"},debugButton:{iconCss:"icon icon-simulationproject",content:"Debug",cssClass:"min-w-70"},stepIntoButton:{iconCss:"icon icon-simulationproject",content:"Step Into",cssClass:"min-w-70"},abortButton:{iconCss:"icon icon-simulationproject",content:"Abort",cssClass:"min-w-70"},stopButton:{iconCss:"icon icon-simulationproject",content:"Stop",cssClass:"min-w-70"},simulationSettingButton:{iconCss:"icon icon-settingproject1",content:"Simulation Setting",cssClass:"min-w-70"},closeProjectButton:{iconCss:"icon icon-closeproject",content:"Close project",cssClass:"min-w-120"},openProjectButton:{iconCss:"e-icons",content:"Open Project",cssClass:"min-w-120"},subFuncButton:{iconCss:"icon icon-subfunction",content:"Sub Function",cssClass:"min-w-100"},subApplicationButton:{iconCss:"icon icon-subapplication",content:"Sub Application",cssClass:"min-w-120"},subResultButton:{iconCss:"icon icon-subresult",content:"Sub Result",cssClass:"min-w-90"},fitWindowButton:{iconCss:"",content:"Fit To Window",cssClass:"min-w-120 justify-left"},pageWidthButton:{iconCss:"",content:"Page width",cssClass:"min-w-120 justify-left"},showTooltipButton:{iconCss:"",content:"Show Tooltip",cssClass:"min-w-120 justify-left"},allowCrossButton:{iconCss:"",content:"Allow Cross",cssClass:"min-w-120 justify-left"},imgWidthFrameButton:{iconCss:"",content:"Image With Frame",cssClass:"min-w-120 justify-left"},rulerButton:{iconCss:"",content:"Ruler",cssClass:"min-w-120 justify-left"},gridButton:{iconCss:"",content:"Grid",cssClass:"min-w-120 justify-left"},pageBreakButton:{iconCss:"",content:"Page Breaks",cssClass:"min-w-120 justify-left"},entityLibraryButton:{iconCss:"icon icon-entityview",content:"Entity Library",cssClass:"min-w-100"},panZoomButton:{iconCss:"icon icon-panzoomview",content:"Pan & Zoom",cssClass:"min-w-100"},modelViewButton:{iconCss:"icon icon-modelview",content:"Model View",cssClass:"min-w-100"},viewListButton:{iconCss:"icon icon-tasklistview",content:"View List",cssClass:"min-w-100"},showHideModelButton:{iconCss:"icon icon-showhidemodelsview",content:"Show & Hide Models",cssClass:"min-w-120"},showHideConnectionPointButton:{iconCss:"icon icon-simulationproject",content:"Show & Hide Connection Points",cssClass:"min-w-200"},panToolButton:{iconCss:"icon icon-point",content:"Pan tool",cssClass:"min-w-100"},arrowLeftButton:{iconCss:"icon-small icon-left-arrow",content:"",cssClass:"min-w-40"},arrowRightButton:{iconCss:"icon-small icon-right-arrow",content:"",cssClass:"min-w-40"},arrowUpButton:{iconCss:"icon-small icon-up-arrow",content:"",cssClass:"min-w-40"},arrowDownButton:{iconCss:"icon-small icon-down-arrow",content:"",cssClass:"min-w-40"},align1Button:{iconCss:"icon-small icon-align-right",content:"",cssClass:"min-w-40"},align2Button:{iconCss:"icon-small icon-sort-down",content:"",cssClass:"min-w-40"},align3Button:{iconCss:"icon-small icon-align-center",content:"",cssClass:"min-w-40"},align4Button:{iconCss:"icon-small icon-align",content:"",cssClass:"min-w-40"},align5Button:{iconCss:"icon-small icon-align-left",content:"",cssClass:"min-w-40"},align6Button:{iconCss:"icon-small icon-top-align",content:"",cssClass:"min-w-40"},equalHorizonButton:{iconCss:"icon-small icon-width",content:"",cssClass:"min-w-40"},equalVerticalButton:{iconCss:"icon-small icon-height",content:"",cssClass:"min-w-40"},increaseHorizonButton:{iconCss:"icon-small icon-width",content:"",cssClass:"min-w-40"},increaseVerticalButton:{iconCss:"icon-small icon-height",content:"",cssClass:"min-w-40"},decreaseHorizonButton:{iconCss:"icon-small icon-width",content:"",cssClass:"min-w-40"},decreaseVerticalButton:{iconCss:"icon-small icon-height",content:"",cssClass:"min-w-40"},sameWidthButton:{iconCss:"icon-small icon-width",content:"Same Width",cssClass:"min-w-100"},sameHeightButton:{iconCss:"icon-small icon-height",content:"Same Height",cssClass:"min-w-100"},sameSizeButton:{iconCss:"icon-small icon-size-square",content:"Same Size ",cssClass:"min-w-100 flex-row-center"},snapGridButton:{iconCss:"icon-small icon-grid",content:"",cssClass:"min-w-70"},snapRulerButton:{iconCss:"icon-small icon-axis",content:"",cssClass:"min-w-70"},snapGuideLineButton:{iconCss:"icon-small icon-length",content:"",cssClass:"min-w-70 length-setting"},modelHorizonButton:{iconCss:"icon icon-left-alignment",content:"Model Horizon",cssClass:"min-w-100"},modelVerticalButton:{iconCss:"icon icon-top-align",content:"Model Vertical",cssClass:"min-w-100"},sizeToWindowPointButton:{iconCss:"icon icon-program",content:"Size To Window",cssClass:"min-w-100"},theory1Dropdown:{iconCss:"icon icon-theory1",content:"Theory",target:"#theory1-dropdown",createPopupOnClick:!0},theory1DropdownData:[{id:"Theory_1",img:"/assets/images/speaklogic/Theory/Theory_1.png"},{id:"Theory_2",img:"/assets/images/speaklogic/Theory/Theory_2.png"},{id:"Theory_3",img:"/assets/images/speaklogic/Theory/Theory_3.png"},{id:"Theory_4",img:"/assets/images/speaklogic/Theory/Theory_4.png"},{id:"Theory_5",img:"/assets/images/speaklogic/Theory/Theory_5.png"},{id:"Theory_6",img:"/assets/images/speaklogic/Theory/Theory_6.png"},{id:"Theory_7",img:"/assets/images/speaklogic/Theory/Theory_7.png"},{id:"Theory_8",img:"/assets/images/speaklogic/Theory/Theory_8.png"},{id:"Theory_9",img:"/assets/images/speaklogic/Theory/Theory_9.png"},{id:"Theory_10",img:"/assets/images/speaklogic/Theory/Theory_10.png"},{id:"Theory_11",img:"/assets/images/speaklogic/Theory/Theory_11.png"}],theory2Dropdown:{iconCss:"icon icon-theory2",content:"Theory",target:"#theory2-dropdown",createPopupOnClick:!0},theory2DropdownData:[{id:"Theory_Dropdown_1",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_1.png"},{id:"Theory_Dropdown_2",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_2.png"},{id:"Theory_Dropdown_3",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_3.png"},{id:"Theory_Dropdown_4",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_4.png"},{id:"Theory_Dropdown_5",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_5.png"},{id:"Theory_Dropdown_6",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_6.png"},{id:"Theory_Dropdown_7",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_7.png"},{id:"Theory_Dropdown_8",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_8.png"},{id:"Theory_Dropdown_9",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_9.png"},{id:"Theory_Dropdown_10",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_10.png"},{id:"Theory_Dropdown_11",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_11.png"},{id:"Theory_Dropdown_12",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_12.png"},{id:"Theory_Dropdown_13",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_13.png"},{id:"Theory_Dropdown_14",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_14.png"},{id:"Theory_Dropdown_15",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_15.png"},{id:"Theory_Dropdown_16",img:"/assets/images/speaklogic/Theory2/Theory_Dropdown_16.png"}],fundamentalDropdown:{iconCss:"icon icon-fundamental1",content:"Fundamental",target:"#fundamental1-dropdown",createPopupOnClick:!0},fundamentalDropdownData:[{id:"Fundamental_1",img:"/assets/images/speaklogic/Fundamental/Fundamental_1.png"},{id:"Fundamental_2",img:"/assets/images/speaklogic/Fundamental/Fundamental_2.png"},{id:"Fundamental_3",img:"/assets/images/speaklogic/Fundamental/Fundamental_3.png"},{id:"Fundamental_4",img:"/assets/images/speaklogic/Fundamental/Fundamental_4.png"},{id:"Fundamental_5",img:"/assets/images/speaklogic/Fundamental/Fundamental_5.png"},{id:"Fundamental_6",img:"/assets/images/speaklogic/Fundamental/Fundamental_6.png"},{id:"Fundamental_7",img:"/assets/images/speaklogic/Fundamental/Fundamental_7.png"},{id:"Fundamental_8",img:"/assets/images/speaklogic/Fundamental/Fundamental_8.png"},{id:"Fundamental_9",img:"/assets/images/speaklogic/Fundamental/Fundamental_9.png"},{id:"Fundamental_10",img:"/assets/images/speaklogic/Fundamental/Fundamental_10.png"},{id:"Fundamental_11",img:"/assets/images/speaklogic/Fundamental/Fundamental_11.png"}],fundamental2Dropdown:{iconCss:"icon icon-fundamental2",content:"Fundamental",target:"#fundamental2-dropdown",createPopupOnClick:!0},fundamental2DropdownData:[{id:"Fundamental_Dropdown_1",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_1.png"},{id:"Fundamental_Dropdown_2",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_2.png"},{id:"Fundamental_Dropdown_3",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_3.png"},{id:"Fundamental_Dropdown_4",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_4.png"},{id:"Fundamental_Dropdown_5",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_5.png"},{id:"Fundamental_Dropdown_6",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_6.png"},{id:"Fundamental_Dropdown_7",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_7.png"},{id:"Fundamental_Dropdown_8",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_8.png"},{id:"Fundamental_Dropdown_9",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_9.png"},{id:"Fundamental_Dropdown_10",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_10.png"},{id:"Fundamental_Dropdown_11",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_11.png"},{id:"Fundamental_Dropdown_12",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_12.png"},{id:"Fundamental_Dropdown_13",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_13.png"},{id:"Fundamental_Dropdown_14",img:"/assets/images/speaklogic/DropdownFundamental/Fundamental_Dropdown_14.png"}],theoryFunctionDropdown:{iconCss:"icon icon-function2",content:"Function",target:"#function2-dropdown",createPopupOnClick:!0},theoryFunctionDropdownData:[{id:"Dropdown_Function_1",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_1.png"},{id:"Dropdown_Function_2",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_2.png"},{id:"Dropdown_Function_3",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_3.png"},{id:"Dropdown_Function_4",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_4.png"},{id:"Dropdown_Function_5",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_5.png"},{id:"Dropdown_Function_6",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_6.png"},{id:"Dropdown_Function_7",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_7.png"},{id:"Dropdown_Function_8",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_8.png"},{id:"Dropdown_Function_9",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_9.png"},{id:"Dropdown_Function_10",img:"/assets/images/speaklogic/DropdownFunctions/Dropdown_Function_10.png"}],timeDropdown:{iconCss:"icon icon-time",content:"Time",target:"#time-dropdown",createPopupOnClick:!0},timeDropdownData:[{id:"Dropdown_Time_1",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_1.png"},{id:"Dropdown_Time_2",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_2.png"},{id:"Dropdown_Time_3",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_3.png"},{id:"Dropdown_Time_4",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_4.png"},{id:"Dropdown_Time_5",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_5.png"},{id:"Dropdown_Time_6",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_6.png"},{id:"Dropdown_Time_7",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_7.png"},{id:"Dropdown_Time_8",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_8.png"},{id:"Dropdown_Time_9",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_9.png"},{id:"Dropdown_Time_10",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_10.png"},{id:"Dropdown_Time_11",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_11.png"},{id:"Dropdown_Time_12",img:"/assets/images/speaklogic/DropdownTimes/Dropdown_Time_12.png"}],derivativeDropdown:{iconCss:"icon icon-derivative",content:"Derivative",target:"#derivative-dropdown",createPopupOnClick:!0},derivativeDropdownData:[{id:"Derivative_1",img:"/assets/images/speaklogic/Derivatives/Derivative_1.png"},{id:"Derivative_2",img:"/assets/images/speaklogic/Derivatives/Derivative_2.png"},{id:"Derivative_3",img:"/assets/images/speaklogic/Derivatives/Derivative_3.png"},{id:"Derivative_4",img:"/assets/images/speaklogic/Derivatives/Derivative_4.png"},{id:"Derivative_5",img:"/assets/images/speaklogic/Derivatives/Derivative_5.png"}],instrumentDropdown:{iconCss:"icon icon-instrusment",content:"Instrusment",target:"#instrusment-dropdown",createPopupOnClick:!0},instrumentDropdownData:[{id:"Instrument_1",img:"/assets/images/speaklogic/Instruments/Instrument_1.png"},{id:"Instrument_2",img:"/assets/images/speaklogic/Instruments/Instrument_2.png"},{id:"Instrument_3",img:"/assets/images/speaklogic/Instruments/Instrument_3.png"},{id:"Instrument_4",img:"/assets/images/speaklogic/Instruments/Instrument_4.png"},{id:"Instrument_5",img:"/assets/images/speaklogic/Instruments/Instrument_5.png"},{id:"Instrument_6",img:"/assets/images/speaklogic/Instruments/Instrument_6.png"},{id:"Instrument_7",img:"/assets/images/speaklogic/Instruments/Instrument_7.png"},{id:"Instrument_8",img:"/assets/images/speaklogic/Instruments/Instrument_8.png"}],stabilityDropdown:{iconCss:"icon icon-stability",content:"Stability",target:"#stability-dropdown",createPopupOnClick:!0},stabilityDropdownData:[{id:"Stability_1",img:"/assets/images/speaklogic/Stability/Stability_1.png"},{id:"Stability_2",img:"/assets/images/speaklogic/Stability/Stability_2.png"},{id:"Stability_3",img:"/assets/images/speaklogic/Stability/Stability_3.png"},{id:"Stability_4",img:"/assets/images/speaklogic/Stability/Stability_4.png"},{id:"Stability_5",img:"/assets/images/speaklogic/Stability/Stability_5.png"},{id:"Stability_6",img:"/assets/images/speaklogic/Stability/Stability_6.png"},{id:"Stability_7",img:"/assets/images/speaklogic/Stability/Stability_7.png"},{id:"Stability_8",img:"/assets/images/speaklogic/Stability/Stability_8.png"},{id:"Stability_9",img:"/assets/images/speaklogic/Stability/Stability_9.png"},{id:"Stability_10",img:"/assets/images/speaklogic/Stability/Stability_10.png"},{id:"Stability_11",img:"/assets/images/speaklogic/Stability/Stability_11.png"},{id:"Stability_12",img:"/assets/images/speaklogic/Stability/Stability_12.png"},{id:"Stability_13",img:"/assets/images/speaklogic/Stability/Stability_13.png"},{id:"Stability_14",img:"/assets/images/speaklogic/Stability/Stability_14.png"},{id:"Stability_15",img:"/assets/images/speaklogic/Stability/Stability_15.png"},{id:"Stability_16",img:"/assets/images/speaklogic/Stability/Stability_16.png"},{id:"Stability_17",img:"/assets/images/speaklogic/Stability/Stability_17.png"},{id:"Stability_18",img:"/assets/images/speaklogic/Stability/Stability_18.png"},{id:"Stability_19",img:"/assets/images/speaklogic/Stability/Stability_19.png"},{id:"Stability_21",img:"/assets/images/speaklogic/Stability/Stability_21.png"},{id:"Stability_22",img:"/assets/images/speaklogic/Stability/Stability_22.png"},{id:"Stability_23",img:"/assets/images/speaklogic/Stability/Stability_23.png"},{id:"Stability_24",img:"/assets/images/speaklogic/Stability/Stability_24.png"},{id:"Stability_25",img:"/assets/images/speaklogic/Stability/Stability_25.png"},{id:"Stability_26",img:"/assets/images/speaklogic/Stability/Stability_26.png"},{id:"Stability_26",img:"/assets/images/speaklogic/Stability/Stability_26.png"},{id:"Stability_27",img:"/assets/images/speaklogic/Stability/Stability_27.png"},{id:"Stability_28",img:"/assets/images/speaklogic/Stability/Stability_28.png"},{id:"Stability_29",img:"/assets/images/speaklogic/Stability/Stability_29.png"},{id:"Stability_30",img:"/assets/images/speaklogic/Stability/Stability_30.png"},{id:"Stability_31",img:"/assets/images/speaklogic/Stability/Stability_31.png"}],theoremDropdown:{iconCss:"icon icon-theorem",content:"Theorem",target:"#theorem-dropdown",createPopupOnClick:!0},theoremDropdownData:[{id:"Theorem_Dropdown_1",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_1.png"},{id:"Theorem_Dropdown_2",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_2.png"},{id:"Theorem_Dropdown_3",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_3.png"},{id:"Theorem_Dropdown_4",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_4.png"},{id:"Theorem_Dropdown_5",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_5.png"},{id:"Theorem_Dropdown_6",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_6.png"},{id:"Theorem_Dropdown_7",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_7.png"},{id:"Theorem_Dropdown_8",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_8.png"},{id:"Theorem_Dropdown_9",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_9.png"},{id:"Theorem_Dropdown_10",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_10.png"},{id:"Theorem_Dropdown_11",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_11.png"},{id:"Theorem_Dropdown_12",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_12.png"},{id:"Theorem_Dropdown_13",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_13.png"},{id:"Theorem_Dropdown_14",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_14.png"},{id:"Theorem_Dropdown_15",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_15.png"},{id:"Theorem_Dropdown_16",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_16.png"},{id:"Theorem_Dropdown_17",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_17.png"},{id:"Theorem_Dropdown_18",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_18.png"},{id:"Theorem_Dropdown_19",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_19.png"},{id:"Theorem_Dropdown_20",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_20.png"},{id:"Theorem_Dropdown_21",img:"/assets/images/speaklogic/Theorems/Theorem_Dropdown_21.png"}]};function wQ(){return $4.apply(this,arguments)}function $4(){return $4=$w(function*(r=!0,t=!0){const e={};return r&&(e.audio=r),t&&(e.video={mediaSource:"screen"}),"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?yield navigator.mediaDevices.getDisplayMedia(e):null}),$4.apply(this,arguments)}function q4(){return q4=$w(function*(r){const t=r.getVideoTracks()[0],i=yield new window.ImageCapture(t).grabFrame(),n=document.createElement("canvas");n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0);const s=n.toDataURL("image/png");r.getTracks().forEach(o=>o.stop()),function Wbe(r){var t=function Ybe(r){for(var t=atob(r.split(",")[1]),e=r.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),n=new Uint8Array(i),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return new Blob([i],{type:e})}(r);Q4().saveAs(t,"screen-capture.png")}(s)}),q4.apply(this,arguments)}let IQ=(()=>{class r{constructor(e,i){this.coreService=e,this.diagramSerivce=i,this._ribbon={groupButtonIcon:{},pasteSettings:{},cutButton:{},deleteButton:{},exportButton:{},undoButton:{},copyButton:{},formatButton:{},boldButton:{},alignLeftButton:{},alginCenterButton:{},alignRightButton:{},italicButton:{},underlineButton:{},strikethroughButton:{},changecaseButton:{},fillButton:{},lineButton:{},textButton:{},startButton:{},endButton:{},pointerButton:{},text2Button:{},line2Button:{},rectangularButton:{},curvedLineButton:{},ellipseButton:{},ascendantButton:{},autoConnectorButton:{},nodeSplitButton:{},chartButton:{},printButton:{},webButton:{},fontstyleSettings:{},fontsizeSettings:{},colorSettings:{},ruler:{},grid:{},navigation:{},fileSettings:{},containerSettings:{},containerDropdownData:[],listSettings:{},listDropdownData:[],pictureButton:{},fromClipboardButton:{},funcButton:{},applicationSettings:{},resultButton:{},collectionButton:{},dictionaryButton:{},areaButton:{},funcDropdown:{},functionDropdownData:[],wordDropdown:{},wordDropdownData:[],applicationDropdown:{},applicationDropdownData:[],relationshipDropdown:{},relationshipDropdownData:[],bracketDropdown:{},bracketDropdownData:[],decoratorDropdown:{},decoratorDropdownData:[],sumProductDropdown:{},sumDropdownData:[],integralDropdown:{},integralDropdownData:[],scriptDropdown:{},scriptDropdownData:[],factionRadicalDropdown:{},fracDropdownData:[],labeledArrowDropdown:{},arrowDropdownData:[],underbarOverbarDropdown:{},barDropdownData:[],accentPrimeDropdown:{},accentDropdownData:[],matrixDropdown:{},matrixDropdownData:[],boxesDropdown:{},boxesDropdownData:[],operatorDropdown:{},operatorDropdownData:[],greekCapitalDropdown:{},greekCapitalDropdownData:[],greekSmallDropdownData:[],arrowCodeDropdownData:[],undoLastActionButton:{},communicationButton:{},theoryButton:{},startProjectButton:{},configureWarningMsgButton:{},applicationSettingButton:{},captureImgButton:{},editImgButton:{},recordVideoButton:{},editVideoButton:{},recordAudioButton:{},settingsButton:{},simulateButton:{},debugButton:{},stepIntoButton:{},abortButton:{},stopButton:{},simulationSettingButton:{},closeProjectButton:{},openProjectButton:{},subFuncButton:{},subApplicationButton:{},subResultButton:{},fitWindowButton:{},pageWidthButton:{},showTooltipButton:{},allowCrossButton:{},imgWidthFrameButton:{},rulerButton:{},gridButton:{},pageBreakButton:{},entityLibraryButton:{},panZoomButton:{},modelViewButton:{},viewListButton:{},showHideModelButton:{},showHideConnectionPointButton:{},panToolButton:{},arrowLeftButton:{},arrowRightButton:{},arrowUpButton:{},arrowDownButton:{},align1Button:{},align2Button:{},align3Button:{},align4Button:{},align5Button:{},align6Button:{},equalHorizonButton:{},equalVerticalButton:{},increaseHorizonButton:{},increaseVerticalButton:{},decreaseHorizonButton:{},decreaseVerticalButton:{},sameWidthButton:{},sameHeightButton:{},sameSizeButton:{},snapGridButton:{},snapRulerButton:{},snapGuideLineButton:{},modelHorizonButton:{},modelVerticalButton:{},sizeToWindowPointButton:{},greekSmallDropdown:{},arrowDropdown:{},selectedEntityButton:{},theory1Dropdown:{},theory1DropdownData:[],theory2Dropdown:{},theory2DropdownData:[],fundamentalDropdown:{},fundamentalDropdownData:[],fundamental2Dropdown:{},fundamental2DropdownData:[],theoryFunctionDropdown:{},theoryFunctionDropdownData:[],theoremDropdown:{},theoremDropdownData:[],timeDropdown:{},timeDropdownData:[],derivativeDropdown:{},derivativeDropdownData:[],instrumentDropdown:{},instrumentDropdownData:[],stabilityDropdown:{},stabilityDropdownData:[]},this._insertAnnotationContent$=new Yt,this._triggerDialog$=new Yt,this.injectFunctionToRibbon(Ube)}get ribbon(){return this._ribbon}getInsertAnnotationContentBS(){return this._insertAnnotationContent$.asObservable()}setInsertAnnotationContent(e){this._insertAnnotationContent$.next(e)}injectFunctionToRibbon(e){e.communicationButton.clicked=()=>this.setDomain(Ry.COMMUNICATION),e.theoryButton.clicked=()=>this.setDomain(Ry.THEORY),e.copyButton.clicked=()=>this.diagramHandler(X4.COPY),e.pasteSettings.clicked=()=>this.diagramHandler(X4.PARSE),e.captureImgButton.clicked=()=>{this.setTriggerDialog(!0)},e.editImgButton.clicked=()=>{this.setTriggerDialog(!0)},e.recordVideoButton.clicked=()=>{this.setTriggerDialog(!0)},e.recordAudioButton.clicked=()=>{this.setTriggerDialog(!0)},e.settingsButton.clicked=()=>{this.setTriggerDialog(!0)},this._ribbon=e}setDomain(e){this.coreService.setDomain(e)}diagramHandler(e){this.diagramSerivce.regiterAction(e)}getTriggerDialog(){return this._triggerDialog$.asObservable()}setTriggerDialog(e){this._triggerDialog$.next(e)}captureImage(){return $w(function*(){let e=yield wQ(!0,!1);e?yield function Vbe(r){return q4.apply(this,arguments)}(e):alert("Browser not supported! Please use a different browser.")})()}recordVideo(){return $w(function*(){let e=yield wQ(!0,!1);e?function Gbe(r){let e=[];const i=new MediaRecorder(r);return i.ondataavailable=function(n){n.data.size>0&&e.push(n.data)},i.onstop=function(){(function Xbe(r){const t=new Blob(r,{type:"video/webm"});Q4().saveAs(t,"screen-record.webm")})(e),e=[],r.getTracks().forEach(n=>n.stop())},i.start(200),i}(e):alert("Browser not supported! Please use a different browser.")})()}recordVoice(){return $w(function*(){let e;try{let i=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1});if(i){e=new MediaRecorder(i),e.start();let n=[];e.ondataavailable=s=>{n.push(s.data)},e.onerror=s=>{alert(s.error)},e.onstop=s=>{let o=new Blob(n);Q4().saveAs(o,"audio-record.mp3"),i.getTracks().forEach(a=>a.stop())}}}catch(i){console.error(i)}})()}static#e=this.\u0275fac=function(i){return new(i||r)(vn(Qw),vn(dk))};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Qbe(r,t){return{type:7,name:r,definitions:t,options:{}}}function MQ(r,t=null){return{type:4,styles:t,timings:r}}function Z4(r){return{type:6,styles:r,offset:null}}function J4(r,t,e){return{type:0,name:r,styles:t,options:e}}function xQ(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}const DQ=["toast-component",""];function $be(r,t){if(1&r){const e=zs();nt(0,"button",5),Zn("click",function(){return ns(e),Wr(an().remove())}),nt(1,"span",6),ta(2,"\xd7"),pt()()}}function qbe(r,t){if(1&r&&(Ss(0),ta(1),ws()),2&r){const e=an(2);Fe(1),_c("[",e.duplicatesCount+1,"]")}}function Zbe(r,t){if(1&r&&(nt(0,"div"),ta(1),Ai(2,qbe,2,1,"ng-container",4),pt()),2&r){const e=an();Jg(e.options.titleClass),ru("aria-label",e.title),Fe(1),_c(" ",e.title," "),Fe(1),He("ngIf",e.duplicatesCount)}}function Jbe(r,t){if(1&r&&jt(0,"div",7),2&r){const e=an();Jg(e.options.messageClass),He("innerHTML",e.message,lS)}}function Kbe(r,t){if(1&r&&(nt(0,"div",8),ta(1),pt()),2&r){const e=an();Jg(e.options.messageClass),ru("aria-label",e.message),Fe(1),_c(" ",e.message," ")}}function eCe(r,t){if(1&r&&(nt(0,"div"),jt(1,"div",9),pt()),2&r){const e=an();Fe(1),LS("width",e.width+"%")}}class aCe{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class lCe{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class hCe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Yt;_activate=new Yt;_manualClose=new Yt;_resetTimeout=new Yt;_countDuplicate=new Yt;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class pk{toastId;config;message;title;toastType;toastRef;_onTap=new Yt;_onAction=new Yt;constructor(t,e,i,n,s,o){this.toastId=t,this.config=e,this.message=i,this.title=n,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const EQ=new _n("ToastConfig");class cCe extends lCe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let n;return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let uCe=(()=>{class r{_document=cn(tc);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class dCe{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let pCe=(()=>{class r{_overlayContainer=cn(uCe);_componentFactoryResolver=cn(Er);_appRef=cn(ty);_document=cn(tc);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),i?i.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new cCe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new dCe(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),K4=(()=>{class r{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,n,s,o){this.overlay=i,this._injector=n,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,n={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(n))}success(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(n))}error(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(n))}info(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(n))}warning(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(n))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",i="",n,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===e)&&a.message===i)return a.toastRef.onDuplicate(n,s),a;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,n,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,n,s)):this._buildNotification(e,i,n,s)}_buildNotification(e,i,n,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(n,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let h=i;i&&s.enableHtml&&(h=this.sanitizer.sanitize(Nc.HTML,i));const c=new hCe(l),u=new pk(this.index,s,h,n,e,c),p=ma.create({providers:[{provide:pk,useValue:u}],parent:this._injector}),f=new aCe(s.toastComponent,p),m=l.attach(f,s.newestOnTop);c.componentInstance=m.instance;const M={toastId:this.index,title:n||"",message:i||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:m};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{M.toastRef.activate()})),this.toasts.push(M),M}static \u0275fac=function(i){return new(i||r)(vn(EQ),vn(pCe),vn(ma),vn(uV),vn(Po))};static \u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const fCe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class r{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.ngZone=n,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||r)(zt(K4),zt(pk),zt(Po))};static \u0275cmp=Rs({type:r,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,n){1&i&&Zn("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),2&i&&(zP("@flyInOut",n.state),Jg(n.toastClasses),LS("display",n.displayStyle))},standalone:!0,features:[ec],attrs:DQ,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,n){1&i&&(Ai(0,$be,3,0,"button",0),Ai(1,Zbe,3,5,"div",1),Ai(2,Jbe,1,3,"div",2),Ai(3,Kbe,2,4,"div",3),Ai(4,eCe,2,2,"div",4)),2&i&&(He("ngIf",n.options.closeButton),Fe(1),He("ngIf",n.title),Fe(1),He("ngIf",n.message&&n.options.enableHtml),Fe(1),He("ngIf",n.message&&!n.options.enableHtml),Fe(1),He("ngIf",n.options.progressBar))},dependencies:[g1],encapsulation:2,data:{animation:[Qbe("flyInOut",[J4("inactive",Z4({opacity:0})),J4("active",Z4({opacity:1})),J4("removed",Z4({opacity:0})),xQ("inactive => active",MQ("{{ easeTime }}ms {{ easing }}")),xQ("active => removed",MQ("{{ easeTime }}ms {{ easing }}"))])]}})}return r})()},gCe=(r={})=>function AM(r){return{\u0275providers:r}}([{provide:EQ,useValue:{default:fCe,config:r}}]);let vCe=(()=>{class r{static forRoot(e={}){return{ngModule:r,providers:[gCe(e)]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=da({type:r});static \u0275inj=Ko({})}return r})();const mCe=["diagram"];let yCe=(()=>{class r{constructor(e,i,n,s){this.diagramService=e,this.coreService=i,this.ribbonService=n,this.toastrService=s,this._destroyed=new Yt,this.contextMenuSettings=yQ,this.rulerSettings=bQ,this.tooltipSettings=CQ}ngOnInit(){this.ribbonService.getInsertAnnotationContentBS().pipe(ob(this._destroyed)).subscribe(e=>{e&&this.handleInsertEquation(e)}),this.coreService.getDomain().pipe(yl(e=>this.diagramService.getModel().pipe(yl(i=>this.coreService.getCurrentModel().pipe(ct(n=>i[e]?.find(s=>s.LABEL===n)))))),ob(this._destroyed)).subscribe(e=>{this.renderComponent(e?.DATA)})}renderComponent(e){}destroyComponent(e){}dropped(e){}selectChange(e){this.selectedNode=e?.newValue?.length?e?.newValue?.[0]:null}handleInsertEquation(e=null){if(this.selectedNode){if(e?.id&&this.selectedNode){let s;s=e.type?e?.text:jbe[e?.id]}}else this.toastrService.error("No node is currently selected")}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(zt(dk),zt(Qw),zt(IQ),zt(K4))};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-diagram"]],viewQuery:function(i,n){if(1&i&&_S(mCe,5),2&i){let s;wr(s=Ir())&&(n.diagram=s.first)}},standalone:!0,features:[ec],decls:2,vars:3,consts:[["id","diagram","width","100%","height","100%",3,"contextMenuSettings","rulerSettings","tooltip","drop","selectionChange"],["diagram",""]],template:function(i,n){1&i&&(nt(0,"ejs-diagram",0,1),Zn("drop",function(o){return n.dropped(o)})("selectionChange",function(o){return n.selectChange(o)}),pt()),2&i&&He("contextMenuSettings",n.contextMenuSettings)("rulerSettings",n.rulerSettings)("tooltip",n.tooltipSettings)},dependencies:[Aa,Dbe,gQ,mQ],styles:[".input-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]})}return r})();var bCe=sn(990);let CCe=(()=>{class r{constructor(e,i,n,s){this.diagramService=e,this.coreService=i,this.vcf=n,this.resolver=s,this._destroyed=new Yt}ngOnInit(){this.diagramService.getModel().pipe(Th(bCe.isEqual),yl(e=>this.coreService.getModel().pipe(yl(i=>this.coreService.getDomain().pipe(ct(n=>({diagramModel:e,diagramProject:i,domain:n}))))))).subscribe(({diagramModel:e,diagramProject:i})=>{const n=this.resolver.resolveComponentFactory(gQ),s=this.vcf.createComponent(n);s.instance.width="100%",s.instance.height="100%",s.instance.contextMenuSettings=yQ,s.instance.rulerSettings=bQ,s.instance.tooltip=CQ;const o={...e};for(const a of Object.keys(i))for(const l of i[a])o[a].find(c=>c.LABEL===l)||(o[a]=[...o[a],{LABEL:l,DATA:s}]);this.vcf.clear(),this.diagramService.setModel(o)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(zt(dk),zt(Qw),zt(Is),zt(Er))};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-content-detail"]],standalone:!0,features:[ec],decls:1,vars:0,template:function(i,n){1&i&&jt(0,"sync-diagram")},dependencies:[Aa,yCe]})}return r})();function AQ(){return[{id:"equationWithBorder",addInfo:{title:"Equation with border",tooltip:"Equation with border"},shape:{type:"Native",content:'\n            <g transform="translate(2,2)">\n              <rect vector-effect="non-scaling-stroke" height="80" width="150" stroke="black" stroke-width="1" fill="transparent" />\n            </g>'},width:150,height:80,ports:yr,annotations:[{template:'\n            <div class="input-wrapper">\n                <math-field style=";border: unset;background: transparent;" id="mathquill-mathquill-input-border"></math-field>\n            </div>\n          '}],constraints:j.Default|j.Tooltip|j.AllowDrop},{id:"equationWithNoBorder",addInfo:{title:"Equation with no border",tooltip:"Equation with no border"},shape:{type:"Native",content:'\n            <g transform="translate(2,2)">\n              <rect vector-effect="non-scaling-stroke" height="80" width="150" fill="transparent" />\n            </g>'},width:150,height:80,annotations:[{template:'\n            <div class="input-wrapper">\n                <math-field style=";border: unset;background: transparent;" id="mathquill-mathquill-input-border"></math-field>\n            </div>\n          '}],constraints:j.Default|j.Tooltip|j.AllowDrop}]}const zCe=[{id:"functionSystem",title:"Functional System",annotation:{radius:150,fill:"Transparent",content:[{content:"Functional System",offset:{x:.5,y:1},margin:{top:20}}]},menuId:"functionSystem",toolTip:"Represents Life",type:"Circle"},{id:"life",title:"Life",annotation:["Existing Function Area","Added Function Area","Life"],toolTip:"Represent The Functional System",menuId:"life",type:"LifeCircle"},{id:"functionalSystem1",title:"Functional System",annotation:{content:[{content:"Functional System"}],style:{strokeWidth:2},height:400,width:200},menuId:"functionSystem",toolTip:"Represents Life"},{id:"lifeBox",title:"Life",annotation:["Existing Functions","Added Functions","Life"],menuId:"life",toolTip:"Represent The Functional System",type:"LifeBox"},{id:"existingFunction",title:"Existing Function",annotation:"Existing Function",menuId:"addedFunction",toolTip:"Identify An Existing Funciton"},{id:"addedFunction",title:"Added Function",annotation:"Added Function",menuId:"addedFunction",toolTip:"Identify An Added Function"},{id:"existingFunction1",title:"Existing Function",annotation:"Existing Function",toolTip:"Identify An Existing Function",menuId:"addedFunction",type:"Ellipse"},{id:"addedFunction1",title:"Added Function",annotation:"Added Function",menuId:"addedFunction",toolTip:"Identify An Added Function",type:"Ellipse"},{id:"existingFunction2",title:"Existing Function",annotation:{fill:"white",radius:35,content:[{content:"Existing Function"}]},menuId:"addedFunction",toolTip:"Identify An Existing Function",type:"Circle"},{id:"addedFunction2",title:"Added Function",annotation:{content:[{content:"Added Function"}],radius:35,fill:"White"},menuId:"addedFunction",toolTip:"Identify an Added Function",type:"Circle"},{id:"existingFunction3",title:"Existing Function",annotation:{content:[{content:"h(x)"}],radius:35,fill:"White"},menuId:"addedFunction",toolTip:"Identify An Existing Function",type:"Circle"},{id:"addedFunction3",title:"Added Function",annotation:{content:[{content:"u(x)"}],radius:35,fill:"White"},menuId:"addedFunction",toolTip:"Identify An Added Function",type:"Circle"},{id:"addedFunction4",title:"Added Function",annotation:{content:[{content:"function"}],radius:35,fill:"White"},menuId:"addedFunction",toolTip:"Multi Inputs Added Function",type:"Circle"},{id:"addedFunction5",title:"Added Function",annotation:{content:[{content:"u(x)"}],radius:35,fill:"White"},menuId:"addedFunction",toolTip:"Multi Input Added Function",type:"Circle"},{id:"externalFunction",title:"External Function",annotation:"External Function",menuId:"addedFunction",toolTip:"Identify An External Function"},{id:"stopFunction",title:"Stop Function",annotation:"Stop Function",menuId:"addedFunction",toolTip:"Identify a Stop Function"},{id:"functionContainer",title:"Function Container",annotation:{height:200,width:100,content:[{content:""}],style:{strokeWidth:3},ports:[]},menuId:"addedFunction",toolTip:"Identify A Function Container"},{id:"eFunction",title:"eFunction",annotation:"eFunction",toolTip:"Identify An Existing Function",menuId:"empty",type:"Text"},{id:"aFunction",title:"aFunction",annotation:"aFunction",toolTip:"Identify An Added Function",menuId:"empty",type:"Text"},{id:"groupFunctionTheory",title:"Group",annotation:{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50},menuId:"empty",toolTip:"Use to Group or Add Entities"},{id:"continuityFunction",title:"Continuity",annotation:{strokeWidth:0,fill:"transparent",ports:[]},menuId:"empty",toolTip:"Show Continuity of Entity",type:"Continuity"},{id:"linkednodefunciton",title:"Linked Node",toolTip:"Linked Node",menuId:"linkedNode",type:"linkednode"},{id:"h(t)Function",title:"h(t)",annotation:"h(t)",menuId:"addedFunction",toolTip:"Identidy an Existing Function"},{id:"u(t)function",title:"u(t)",annotation:"u(t)",menuId:"addedFunction",toolTip:"Identify an Added Function"},{id:"h(t)",title:"h(t)",annotation:"h(t)",toolTip:"Identify an Existing Function",menuId:"empty",type:"text"},{id:"u(t)",title:"u(t)",annotation:"u(t)",toolTip:"Identify an Added Function",menuId:"empty",type:"text"},{id:"life1",title:"Life",annotation:{radius:70,content:[{content:"Life"}],fill:"White"},toolTip:"Life as a Function of Time",menuId:"life",type:"Circle"},{id:"life2",title:"Life",annotation:"Life",toolTip:"Life as a Function",menuId:"empty",type:"Text"},{id:"L(t)",title:"L(t)",annotation:{content:[{content:"L(t)"}],radius:70,fill:"White"},menuId:"l(t)",toolTip:"Life as a Function of Time",type:"Circle"},{id:"L(t)1",title:"L(t)",annotation:"L(t)",toolTip:"Life as a Function of Time",menuId:"empty",type:"Text"}],FCe=[{id:"instrument",title:"Instrument",annotation:"Instrument",menuId:"instrument",toolTip:"Identify an Instrument"},{id:"method",title:"Method",annotation:"Method",menuId:"method",toolTip:"Identify a Method"},{id:"inputElement",title:"Input Element",annotation:"Input Element",menuId:"inputElement",toolTip:"Identify an Input Element"},{id:"instrumentDerivative",title:"Instrument Derivative",annotation:"Instrument Derrivative",menuId:"derrivative",toolTip:"Identify Derrivative of Method"},{id:"methodDerivative",title:"Method Derivative",annotation:"Method Derivative",menuId:"derrivative",toolTip:"Identify Derivative of Method"},{id:"derrivative",title:"Derrivative",annotation:"Derrivative",menuId:"derrivative",toolTip:"Identify a Derivative"},{id:"naturalElement",title:"Natural Element",annotation:"Natural Element",menuId:"naturalElement",toolTip:"Identify a Natural Element"},{id:"exchangeableElement",title:"Exchangeable Element",annotation:"Exchangeable Element",menuId:"exchangableElement",toolTip:"Identify an Exchangeable Element"},{id:"instrumentDerivativeFunction",title:"Instrument Derivative Function",annotation:"Instrument Derivative Function",menuId:"derrivative",toolTip:"Identify Derivative Function of Instrument"},{id:"methodDerivativeFunction",title:"Method Derivative Function",annotation:"Method Derivative Function",menuId:"derrivative",toolTip:"Identify Derivative Funciton of Method"},{id:"methodFunction",title:"Method Function",annotation:"Method Function",menuId:"methodFunction",toolTip:"Identify Function of Method"},{id:"instrumentFunction",title:"Instrument Function",annotation:"Instrument Function",menuId:"methodFunction",toolTip:"Identify Instrument Function"},{id:"instrumentServiceFunction",title:"Instrument Service Function",annotation:"Instrument Service Function",menuId:"methodFunction",toolTip:"Identify Instrument Service Function"},{id:"serviceFunciton",title:"Service Function",annotation:"Service Function",menuId:"methodFunction",toolTip:"Identify Service Function"},{id:"methodExecutedFunction",title:"Method Executed Funciton",annotation:"Method Executed Function",menuId:"methodFunction",toolTip:"Identify Method Executed Function"},{id:"functionToInstrument",title:"Function To Instrument",annotation:"Function To Instrument",menuId:"methodFunction",toolTip:"Identify Function to Instrument"},{id:"functionToMethod",title:"Function To Method",annotation:"Function To Method",menuId:"methodFunction",toolTip:"Identify Function to Method"},{id:"naturalElement1",title:"Natural Element",annotation:"New Shape please",toolTip:"Identify an Input Element",menuId:"naturalElement",type:"Natural"},{id:"inputElements",title:"Input Elements",annotation:"Input Elements",toolTip:"Identify Group Exchange Elements",menuId:"inputElement",type:"Overlap"},{id:"exchangeElements",title:"Exchange Elements",annotation:"Exchange Elements",toolTip:"Identify Group Exchange Elements",menuId:"exchangableElement",type:"Overlap"},{id:"emptycontainerinsturment",title:"Empty Container",annotation:"Empty Container",toolTip:"A Container to Add Part To",menuId:"emptyContainer",type:"squareemptycontainer"},{id:"linkednodeinstrument",title:"Linked Node",toolTip:"Linked Node",menuId:"linkedNode",type:"linkednode"},{id:"ne",title:"NE",annotation:"NE",menuId:"naturalElement",toolTip:"Identify Natural Element"},{id:"ie",title:"IE",annotation:"IE",menuId:"inputElement",toolTip:"Identify Input Element"},{id:"dl/dT",title:"dI/dT",annotation:"dI/dT",menuId:"empty",toolTip:"Identify Instrument Derivative"}],HCe=[{id:"rightInterface",title:"Right Interface",annotation:{content:[{content:"Right Interface",alignment:"Before"}],decoration:"right"},menuId:"edit",toolTip:"Interface To The Right",type:"ConnectorArrow"},{id:"leftInterface",title:"Left Interface",annotation:{content:[{content:"Left Interface",alignment:"Before"}],decoration:"left"},menuId:"edit",toolTip:"Interface To The Left",type:"ConnectorArrow"},{id:"upInterface",title:"Up Interface",annotation:{content:[{content:"Up Interface",alignment:"Before"}],decoration:"up"},menuId:"edit",toolTip:"Interface To The Top",type:"ConnectorArrow"},{id:"downInterface",title:"Down Interface",annotation:{content:[{content:"Down Interface",alignment:"Before"}],decoration:"down"},menuId:"edit",toolTip:"Interface Down",type:"ConnectorArrow"},{id:"dependencyInterface",title:"Dependency Interface",annotation:{content:[{content:"Depend",alignment:"Before"}]},menuId:"edit",toolTip:"Identify Dependency Interface",type:"ConnectorArrow"},{id:"giveRiseInterface",title:"Give Rise Interface",annotation:{content:[{content:"Give Rise To",alignment:"Before"}]},menuId:"edit",toolTip:"Identify Give Rise Interface",type:"ConnectorArrow"},{id:"pointToInterface",title:"Point to Interface",annotation:{content:[{content:"Point To",alignment:"Before"}]},menuId:"edit",toolTip:"Identify Point to Interface",type:"ConnectorArrow"},{id:"apply",title:"Apply",annotation:{content:[{content:"Apply",alignment:"Before"}]},menuId:"edit",toolTip:"Apply Interface",type:"ConnectorArrow"},{id:"execute",title:"Execute",annotation:{content:[{content:"Execute",alignment:"Before"}]},menuId:"edit",toolTip:"Execute Interface",type:"ConnectorArrow"},{id:"contributeTo",title:"Contribute To",annotation:{content:[{content:"contribute to",alignment:"Before"}]},menuId:"edit",toolTip:"Use to Show Contribution Interface",type:"ConnectorArrow"},{id:"associate",title:"Associate",annotation:{content:[{content:"associate",alignment:"Before"}]},menuId:"edit",toolTip:"System Associates with Theory",type:"ConnectorArrow"},{id:"enable",title:"Enable",annotation:{content:[{content:"Enable",alignment:"Before"}]},menuId:"edit",toolTip:"Use For Enable Relationship",type:"ConnectorArrow"},{id:"related",title:"Related",annotation:{content:[{content:"Related",alignment:"Before"}]},menuId:"edit",toolTip:"System Related To Theory",type:"ConnectorArrow"},{id:"derrive",title:"Derrive",annotation:{content:[{content:"Derrive",alignment:"Before"}]},menuId:"edit",toolTip:"Instrument Derive From Theory",type:"ConnectorArrow"},{id:"leftRightInteraction",title:"Left-Right Interaction",annotation:{content:[{content:"Interact"}],decoration:"up"},menuId:"edit",toolTip:"Use For System Interaction",type:"ConnectorBezier"},{id:"rightLeftInteraction",title:"Right-Left Interaction",annotation:{content:[{content:"Interact",alignment:"Before"}],shape:{},style:{}},menuId:"edit",toolTip:"Use For System Interaction",decoration:"up",type:"Arrow"},{id:"related",title:"Related",annotation:{content:[{content:"Related"}],radius:35,fill:"White"},menuId:"edit",toolTip:"Use For Related Entities",type:"Circle"},{id:"similarity",title:"Similarity",annotation:{content:[{content:"Similarity"}],radius:35,fill:"White"},menuId:"edit",toolTip:"Use For Similariry Entities",type:"Circle"},{id:"relationship",title:"Relationship",annotation:{content:[{content:"Alpha"}],radius:35,fill:"White"},menuId:"edit",toolTip:"Use For Related Entities",type:"Circle"},{id:"realtionshipBiArrow",title:"Relationship",annotation:"",menuId:"edit",toolTip:"Left And Right Relationship",type:"BiWideArrow"},{id:"realtionshipRightArrow",title:"Relationship",annotation:{direction:"Right",content:""},menuId:"edit",toolTip:"Left to Right Relationship",type:"WideArrow"},{id:"realtionshipLeftArrow",title:"Relationship",annotation:{direction:"left",content:""},menuId:"edit",toolTip:"Right to Left Relationship",type:"WideArrow"},{id:"linkednodeinterface",title:"Linked Node",toolTip:"Linked Node",menuId:"linkedNode",type:"linkednode"}];let VCe=[{id:"fundamentalTheory",title:"Fundamental Theory",annotation:"Fundamental Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Theory"},{id:"fundamentalCommunication",title:"Fundamental Commmunication",annotation:"Fundamental Communication",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Communication Theory"},{id:"fundamentalInformationTheory",title:"Fundamental Information Theory",annotation:"Fundamental Information Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Information Theory"},{id:"fundamentalInstrumentationTheory",title:"Fundamental Instrumentation Theory",annotation:"Fundamental Instrumentation Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Instrumentation Theory"},{id:"fundamentalEducation",title:"Fundamental Education Theory",annotation:"Fundamental Education Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Education Theory"},{id:"fundamentalPower",title:"Fundamental Power Theorem",annotation:"Fundamental Power Theorem",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of The Power Theorem"},{id:"fundamentalMarketingTheory",title:"Fundamental Marketing Theory",annotation:"Fundamental Marketing Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamanetal of Theory of Marketing"},{id:"fundamentalExchangeSystemTheory",title:"Fundamental Exchange System Theory",annotation:"Fundamental Exchange System Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Exchange System Theory"},{id:"fundamentalGammingTheory",title:"Fundamental Gamming Theory",annotation:"Fundamental Gamming Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of The Gamming Theory"},{id:"fundamentalWorkTheory",title:"Fundamental Work Theory",annotation:"Fundamental Work Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Work Theory"},{id:"fundamentalReproductionTheory",title:"Fundamental Reproduction Theory",annotation:"Fundamental Reproduction Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental Reporoduction Theory"},{id:"fundamentalUtilizationTheoryFirst",title:"Fundamental Utilization Theory",annotation:"Fundamental Utilization Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Our Utilization Theory"},{id:"fundamentalPresentedTheory",title:"Fundamental Presented Theory",annotation:"Fundamental Presented Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of a Presented Theory"},{id:"fundamentalInterpretedTheory",title:"Fundamental Interpreted Theory",annotation:"Fundamental Interpreted Theory",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of a Interpreted Theory"},{id:"groupFundamental",title:"Group",annotation:{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50},menuId:"commMix",toolTip:"Use to Group or Add Entities"},{id:"linkednodefundamental",title:"Linked Node",toolTip:"Linked Node",menuId:"linkedNode",type:"linkednode"},{id:"fundamentalTheory1",title:"Fundamental Theory",annotation:"fT",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental Theory"},{id:"fundamentalCommunicationTheory1",title:"Fundamental Communication Theory",annotation:"fKT",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Communication Theory"},{id:"fundamentalUtilizationTheory1",title:"Fundamental Utilization Theory",annotation:"fUT",menuId:"fundamentalTheory",toolTip:"Identify The Fundamental of Our Utilization Theory"}],YCe=[{id:"theory",title:"Theory",annotation:"Theory",menuId:"thoery",toolTip:"Identify a Theory"},{id:"theorem",title:"Theorem",annotation:"Theorem",menuId:"theorem",toolTip:"Identify a Theorem"},{id:"applyTheory",title:"Apply Theory",annotation:"Apply",menuId:"theory",toolTip:"Theory Application Theory"},{id:"communicationTheory",title:"Communication Theory",annotation:"Communication Theory",menuId:"theory",toolTip:"Identify The Communication Theory"},{id:"informationTheory",title:"Information Theory",annotation:"Information Theory",menuId:"theory",toolTip:"Identify a Information Theory"},{id:"instrumentationTheory",title:"Instrumentation Theory",annotation:"Instrumentation Theory",menuId:"theory",toolTip:"Identify the Instrumentation Theory"},{id:"educationTheory",title:"Education Theory",annotation:"Education Theory",menuId:"theory",toolTip:"Identify The Education Theory"},{id:"powerTheorem",title:"Power Theorem",annotation:"Power Theorem",menuId:"theory",toolTip:"Identify The Power Theorem"},{id:"marketingTheory",title:"Marketing Theory",annotation:"Marketing Theory",menuId:"theory",toolTip:"Identify The Marketing Theory"},{id:"exchangeSystemTheory",title:"Exchange System Theory",annotation:"Exchange System Theory",menuId:"theory",toolTip:"Identify The Exchange System Theory"},{id:"gammingTheory",title:"Gamming Theory",annotation:"Gamming Theory",menuId:"theory",toolTip:"Identify Gamming Theory"},{id:"workTheory",title:"Work Theory",annotation:"Work Theory",menuId:"theory",toolTip:"Identify The Work Theory"},{id:"reproductionTheory",title:"Reproduction Theory",annotation:"Reproduction Theory",menuId:"theory",toolTip:"Identify The Reproduction Theory"},{id:"utilizationTheory",title:"Utilization Theory",annotation:"Utilizatin Theory",menuId:"theory",toolTip:"Identify Our Utilization Theory"},{id:"theorem#",title:"Theorem #",annotation:"Theorem #",menuId:"theorem",toolTip:"Identify a Theorem"},{id:"communicationTheory1",title:"Communication Theory",annotation:"Kt",menuId:"theory",toolTip:"Identify The Communication Theory"},{id:"interpretationFunction",title:"Interpretation Function",annotation:"Interpret",menuId:"empty",toolTip:"Identify The Interpretation Function"},{id:"interpretationFunction1",title:"Interpretation Funciton",annotation:"Int{ }",menuId:"empty",toolTip:"Identify The Interpretation Function"},{id:"applyTheory1",title:"Apply Theory",annotation:"Tr{ }",menuId:"theory",toolTip:"Theory Application Function"},{id:"presentedTheory",title:"Presented Theory",annotation:"Presented Theory",menuId:"theory",toolTip:"Identify a Presented Theory"},{id:"interpretedTheory",title:"Interpreted Theory",annotation:"Interpreted Theory",menuId:"theory",toolTip:"Identify an Interpreted Thoery"},{id:"presentedTheory1",title:"Presented Theory",annotation:"A'",menuId:"theory",toolTip:"Identify a Presented Theory"},{id:"interpretedTheory1",title:"Interpreted Theory",annotation:"A",menuId:"theory",toolTip:"Identify an Intepreted Thoery"},{id:"reference",title:"Reference",annotation:"Need new Shape",menuId:"reference",toolTip:"Identify The Given Reference",type:"Reference"},{id:"reference1",title:"Reference",annotation:"Need new Shape",menuId:"reference",toolTip:"Identify The Given Reference",type:"Reference1"},{id:"characteristicsTh",title:"Characteristics",annotation:"Theory Characteristics",menuId:"theoryCharacteristic",toolTip:"Characteristic of Theory"},{id:"groupTheoryVertical",title:"Group",annotation:{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50},menuId:"commMix",toolTip:"Use to Group or Add Entities"},{id:"continuity1",title:"Continuity",annotation:{strokeWidth:"0",fill:"transparent",ports:[]},toolTip:"Show Continuity of Entity",menuId:"empty",type:"Continuity"},{id:"linkednodeTH",title:"Linked Node",toolTip:"Linked Node",menuId:"linkedNode",type:"linkednode"},{id:"t",title:"T",menuId:"theory",annotation:"T",toolTip:"Identify a Theory"},{id:"th[n]",title:"Th[n]",annotation:"Thn",menuId:"theorem",toolTip:"Identify a Theorem"},{id:"uT",title:"UT",annotation:"UT",menuId:"theory",toolTip:"Identify Our Utilization Theory"}];const XCe=[{id:"quickEntities",expanded:!1,symbols:function SCe(){return[{id:"quickperson",addInfo:{title:"Person",tooltip:"Person"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)"><rect vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" x="0" y="0" height="27" width="12"/><circle vector-effect="non-scaling-stroke" cx="6" cy="6" r="5" fill="transparent" stroke="black" stroke-width="1" /><circle vector-effect="non-scaling-stroke" cx="4.0" cy="4.5" r="1" fill="black" /><circle vector-effect="non-scaling-stroke" cx="8.0" cy="4.5" r="1.0" fill="black" /><ellipse vector-effect="non-scaling-stroke" cx="6.0" cy="9.0" rx="2.0" ry="0.75" fill="transparent" stroke="black" stroke-width="1"/><path vector-effect="non-scaling-stroke" fill="transparent" stroke="black" stroke-width="1" d="M 6 11 L 6 16 L 1 26 M 6 16 L 11 26 M 1 13.5 L 11 13.5"/></g>'},width:50,height:80,ports:[{id:"LeftCenter",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"LeftTop",offset:{x:0,y:.25},visibility:1,shape:"X",width:4,height:4},{id:"LeftBottom",offset:{x:0,y:.75},visibility:1,shape:"X",width:4,height:4},{id:"Bottom",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4},{id:"RightCenter",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"RightTop",offset:{x:1,y:.25},visibility:1,shape:"X",width:4,height:4},{id:"RightBottom",offset:{x:1,y:.75},visibility:1,shape:"X",width:4,height:4},{id:"Top",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Person Name",offset:{x:.5,y:1},margin:{top:15},style:{textWrapping:"NoWrap"}},{content:"No Title",offset:{x:.5,y:1},margin:{top:30},style:{textWrapping:"NoWrap"}}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person Without Title",position:"TopRight"},style:{fontSize:10}},{id:"quickperson1",addInfo:{title:"Person",tooltip:"Person"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n        <rect vector-effect="non-scaling-stroke" fill="transparent" stroke="transparent" stroke-width="1" x="0" y="0" height="87" width="47"/>\n        <path vector-effect="non-scaling-stroke" d="M7.05, 21.75A15.98 16.4333333333333 0 0 1 39.95, 21.75A15.98 16.4333333333333 0 0 1 7.05, 21.75z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path vector-effect="non-scaling-stroke" d="M23.5, 37.41L23.5, 56.55z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path vector-effect="non-scaling-stroke" d="M23.5, 56.55L39.95, 82.65z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path vector-effect="non-scaling-stroke" d="M23.5, 56.55L7.05, 82.65z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path vector-effect="non-scaling-stroke" d="M4.7, 52.2L42.3, 52.2z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path vector-effect="non-scaling-stroke" d="M17.86, 30.45A6 3 0 0 1 29.14, 30.45A6 3 0 0 1 17.86, 30.45z" fill="transparent" stroke="#000000" stroke-width="1px" />\n        <path d="M14.1, 16.53A2 2 0 0 1 18.8, 16.53A2 2 0 0 1 14.1, 16.53z" fill="#000000" stroke="#000000" stroke-width="1px" />\n        <path d="M28.2, 16.53A2 2 0 0 1 32.9, 16.53A2 2 0 0 1 28.2, 16.53z" fill="#000000" stroke="#000000" stroke-width="1px" />\n      </g>'},width:50,height:90,ports:[{id:"LeftCenter",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"LeftTop",offset:{x:0,y:.25},visibility:1,shape:"X",width:4,height:4},{id:"LeftBottom",offset:{x:0,y:.75},visibility:1,shape:"X",width:4,height:4},{id:"Bottom",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4},{id:"RightCenter",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"RightTop",offset:{x:1,y:.25},visibility:1,shape:"X",width:4,height:4},{id:"RightBottom",offset:{x:1,y:.75},visibility:1,shape:"X",width:4,height:4},{id:"Top",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Person Name",offset:{x:.5,y:1},margin:{top:15},style:{textWrapping:"NoWrap"}},{content:"No Title",offset:{x:.5,y:1},margin:{top:30},style:{textWrapping:"NoWrap"}}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person Without Title",position:"TopRight"},style:{fontSize:10}},{id:"quickcommunicationEntity",addInfo:{title:"Communication Entity",tooltip:"Communication Entity"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="100" width="210" stroke="black" stroke-width="1" fill="white"/>\n                    <foreignObject class="symbol-text-container" x="26.25" width="157.5" height="100" visibility="hidden">\n                        <div style="height: 100px" class="flex-container">\n                            <div width="157.5" class="symbol-text-element">\n                                Communication\n                            </div>\n                        </div>\n                    </foreignObject></g>'},width:210,height:100,ports:[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Communication"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Communication",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickCommtext",addInfo:{title:"Communication",tooltip:"Communication"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n          <rect height="30" width="100" fill="transparent" stroke-width="0"/>\n          <foreignObject class="symbol-text-container" x="0" y="25" width="100" height="30" visibility="hidden">\n          <div style="height: 30px" class="flex-container">\n            <div width="100" class="symbol-text-element">\n              Communication\n            </div>\n          </div>\n          </foreignObject>\n        </g>'},width:100,height:30,annotations:[{content:"Communication",style:{bold:!0,fontSize:15,italic:!0}}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Communication",position:"TopRight"}},{id:"quickApplication",addInfo:{title:"Application",tooltip:"Application"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="80" width="150" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="18.75" width="112.5" height="80" visibility="hidden">\n                        <div style="height: 80px" class="flex-container">\n                            <div width="112.5" class="symbol-text-element">\n                              Application\n                            </div>\n                        </div>\n                    </foreignObject>'},width:150,height:80,ports:[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Application"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Application",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickcommunicationFunction",addInfo:{title:"Communication Function",tooltip:"Communication Function"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="80" width="150" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="18.75" width="112.5" height="80" visibility="hidden">\n                        <div style="height: 80px" class="flex-container">\n                            <div width="112.5" class="symbol-text-element">\n                              Communication Function\n                            </div>\n                        </div>\n                    </foreignObject>'},width:150,height:80,ports:[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Communication Function"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Function of Out Communication",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickCommunicationResult",addInfo:{title:"Communication Result",tooltip:"Communication Result"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="80" width="150" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="18.75" width="112.5" height="80" visibility="hidden">\n                        <div style="height: 80px" class="flex-container">\n                            <div width="112.5" class="symbol-text-element">\n                              Communication Result\n                            </div>\n                        </div>\n                    </foreignObject>'},width:150,height:80,ports:[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Communication Result"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Result of an Application",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickcommunicationFunction1",addInfo:{title:"Communication Function",tooltip:"Communication Function"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="80" width="150" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="18.75" width="112.5" height="80" visibility="hidden">\n                        <div style="height: 80px" class="flex-container">\n                            <div width="112.5" class="symbol-text-element">\n                              Communication Function\n                            </div>\n                        </div>\n                    </foreignObject>'},width:150,height:80,ports:[{id:"LeftMiddle",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"TopCenter",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"RightMidlle",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"BottomCenter",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],annotations:[{content:"Communication Function"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Communication Function",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickCommAppMixture",addInfo:{title:"Communication App Mixture",tooltip:"Communication App Mixture"},shape:{type:"Native",content:'\n        <g  class="point-circle" transform="translate(2, 2)">\n                        <rect height="70" width="70" fill="transparent" stroke-width="0" />\n                        <circle vector-effect="non-scaling-stroke" cx="35" cy="35" r="35" fill="white" stroke="black" stroke-width="1"/>\n                        <foreignObject class="symbol-text-container" x="8.75" width="52.5" height="70" visibility="hidden">\n                        <div style="height: 70px" class="flex-container">\n                            <div width="52.5" class="symbol-text-element">\n                              Comm & App Mixture\n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},width:70,height:70,ports:yr,annotations:[{content:"Comm & App Mixture"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Application Mixture",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickcommAppMixture1",addInfo:{title:"Communication App Mixture",tooltip:"Communication App Mixture"},shape:{type:"Native",content:'\n        <g  class="point-circle" transform="translate(2, 2)">\n                        <rect height="70" width="70" fill="transparent" stroke-width="0" />\n                        <circle vector-effect="non-scaling-stroke" cx="35" cy="35" r="35" fill="white" stroke="black" stroke-width="1"/>\n                        <foreignObject class="symbol-text-container" x="8.75" width="52.5" height="70" visibility="hidden">\n                        <div style="height: 70px" class="flex-container">\n                            <div width="52.5" class="symbol-text-element">\n                              x\n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},width:70,height:70,ports:yr,annotations:[{content:"x"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Application Mixture",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"quickCommAppMixture2",addInfo:{title:"Communication App Mixture",tooltip:"Communication App Mixture"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="75" width="50" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="6.25" width="37.5" height="75" visibility="hidden">\n                        <div style="height: 75px" class="flex-container">\n                            <div width="37.5" class="symbol-text-element">\n                              Comm App Mixture\n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},width:50,height:75,ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],annotations:[{content:"Comm & App Mixture"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Multi Inputs Comm & App",position:"TopRight"},style:{fill:"white",fontSize:10}}]}(),title:"Quick Entities",iconCss:"e-ddb-icons e-flow"},{id:"person",expanded:!1,symbols:function ICe(){return[{...Re("Person","person",{title:"Person",tooltip:"Person"},["Person Name","No Title"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person Without Title",position:"TopRight"}},{...Re("PersonNoFrame","personNoframe",{title:"Person",tooltip:"Person"},["Person Name","No Title"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Sketched Without Frame",position:"TopRight"}},{...Re("Person","employee",{title:"Employee",tooltip:"Employee"},["Person Name","Employee"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Employee",position:"TopRight"}},{...Re("Person","manager",{title:"Manager",tooltip:"Manager"},["Person Name","Manager"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Manager",position:"TopRight"}},{...Re("Person","teamLead",{title:"Team Lead",tooltip:"Team Lead"},["Person Name","Team Lead"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Team Lead",position:"TopRight"}},{...Re("Person","customer",{title:"Customer",tooltip:"Customer"},["Person Name","Customer"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Customer",position:"TopRight"}},{...Re("Person","client",{title:"Client",tooltip:"Client"},["Person Name","Client"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Client",position:"TopRight"}},{...Re("Person","contractor",{title:"Contractor",tooltip:"Contractor"},["Person Name","Contractor"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Contractor",position:"TopRight"}},{...Re("Person","salePerson",{title:"Sale Person",tooltip:"Sale Person"},["Person Name","Sale Person"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Sale Rep",position:"TopRight"}},{...Re("Person","servicePerson",{title:"Service Person",tooltip:"Service Person"},["Person Name","Service Person"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Service Rep",position:"TopRight"}},{...Re("Person","supportPerson",{title:"Support Person",tooltip:"Support Person"},["Person Name","Support Person"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Service Rep",position:"TopRight"}},{...Re("Person","inspector",{title:"Inspector",tooltip:"Inspector"},["Person Name","Inspector"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Inspector",position:"TopRight"}},{...Re("Person","agent",{title:"Test Person",tooltip:"Test Person"},["Person Name","Agent"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as Agent",position:"TopRight"}},{...Re("Person","user",{title:"User",tooltip:"User"},["Person Name","User"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Person as User",position:"TopRight"}},{...Re("Person","other",{title:"Other",tooltip:"Other"},["Person Name","Other"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Other Person Not Listed",position:"TopRight"}},{...Re("PersonGroup","groupOfPeople",{title:"Group of People",tooltip:"Group of People"},"Group of People"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Group of People",position:"TopRight"}},{...Re(null,"communicationHolder",{title:"Communication Holder",tooltip:"Communication Holder"},"Communication Holder"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Hold Person Communication",position:"TopRight"}},{...Re(null,"externalCommunicationHolder",{title:"External Communication Holder",tooltip:"External Communication Holder"},"External Communication Holder"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Hold Person Communication",position:"TopRight"}},{...Re("NaturalObserver","communicationNaturalObserver",{title:"Natural Observer",tooltip:"Natural Observer"},""),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Show Entity is Naturally Identified",position:"TopRight"}},{...Re(null,"communicationMixturePerson1",{title:"Communication Mixture",tooltip:"Communication Mixture"},{content:[{content:"Comm Mix"}],ports:[{id:"top-port",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right-port",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"bottom-port",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Two Input Communication",position:"TopRight"}},{...Re(null,"communicationMixturePerson2",{title:"Communication Mixture",tooltip:"Communication Mixture"},{content:[{content:"Comm Mix"}],ports:[{id:"top-port",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right-port",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"bottom-port",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Multi Input Communication",position:"TopRight"}},{...Re(null,"personAspect",{title:"Person Aspect",tooltip:"Person Aspect"},{content:[{content:"Person Aspect"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify Aspect of a Person",position:"TopRight"}},{...Re(null,"groupPerson1",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group or Add Entities",position:"TopRight"}},{...Re("Overlap","commHolderGroup",{title:"Comm Holder Group",tooltip:"Comm Holder Group"},"Communication Holder"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Group of Communication Holder",position:"TopRight"}},{...Re("Overlap","externalCommHolderGroup",{title:"External Comm Holder Group",tooltip:"External Comm Holder Group"},"External Communication Holder"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Group of External Communication Holder",position:"TopRight"}},{...Re("cover","coverPerson",{title:"Cover",tooltip:"Cover"},""),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Cover a Person",position:"TopRight"}},{...Re("mobility","mobilityPerson",{title:"Mobility",tooltip:"Mobility"},""),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Movement of a Person",position:"TopRight"}},{...Re("Continuity","continuityPerson",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:0,strokeDashArray:"",fill:"transparent",ports:[]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Show Continuity of Entity",position:"TopRight"}},{...Re("PersonNoFrame","personWithNumber",{title:"P[n]",tooltip:"P[n]"},["Pn"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Denote Person With Number",position:"TopRight"}},{...Re("Person","PersonWithNumberAndFrame123",{title:"x[n]",tooltip:"x[n]"},["x[n]"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Denote Person With Number",position:"TopRight"}}]}(),title:"Person",iconCss:"e-ddb-icons e-basic"},{id:"communication",expanded:!1,symbols:function xCe(){return[{...Re("","communicationEntity",{title:"Communication Entity",tooltip:"Communication Entity"},"Communication Entity"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Communication",position:"TopRight"}},{...Re("Text","commText",{title:"Communication",tooltip:"Communication"},"Communication"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Communication",position:"TopRight"}},{...Re("","word",{title:"Word",tooltip:"Word"},"Word"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Word",position:"TopRight"}},{...Re("","sentence",{title:"Sentence",tooltip:"Sentence"},"Sentence"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Sentence",position:"TopRight"}},{...Re("","paragraph",{title:"Paragraph",tooltip:"Paragraph"},"Paragraph"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Paragraph",position:"TopRight"}},{...Re("","communicationElement",{title:"Communication Element",tooltip:"Communication Element"},"Communication Element"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Communication Element",position:"TopRight"}},{...Re("","communicationProcess",{title:"Communication Process",tooltip:"Communication Process"},"Communication Process"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Process of Communication",position:"TopRight"}},{...Re("","information",{title:"Information",tooltip:"Information"},"Information"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an actual Information",position:"TopRight"}},{...Re("","entity",{title:"Entity",tooltip:"Entity"},"Entity"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Entity",position:"TopRight"}},{...Re("","question",{title:"Question",tooltip:"Question"},"Question"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Question",position:"TopRight"}},{...Re("","answer",{title:"Answer",tooltip:"Answer"},"Answer"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Sentence",position:"TopRight"}},{...Re("","unkownEntity",{title:"Unknown Entity",tooltip:"Unknown Entity"},"Unknown Entity"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Unknown Entity",position:"TopRight"}},{...Re("","blankEntity",{title:"Blank Entity",tooltip:"Blank Entity"},"?"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Existed Whether or Not",position:"TopRight"}},{...Re("","function",{title:"Function",tooltip:"Function"},"Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Entity as Function",position:"TopRight"}},{...Re("","aspect",{title:"Aspect",tooltip:"Aspect"},"Aspect"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Entity as Aspect",position:"TopRight"}},{...Re("","test",{title:"Test",tooltip:"Test"},"Test"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Entity as Test",position:"TopRight"}},{...Re("","functionStatus",{title:"Function Status",tooltip:"Function Status"},"Function Status"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Entity as Function Status",position:"TopRight"}},{...Re("","entityUsage",{title:"Entity Usage",tooltip:"Entity Usage"},"Entity Usage"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Entity as Entity Usage",position:"TopRight"}},{...Re("","picture",{title:"Picture",tooltip:"Picture"},"Picture"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an actual Picture",position:"TopRight"}},{...Re("","video",{title:"Video",tooltip:"Video"},"Video"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Video",position:"TopRight"}},{...Re("","audio",{title:"Audio",tooltip:"Audio"},"Audio"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an actual Audio",position:"TopRight"}},{...Re("Circle","dictionary",{title:"Dictionary",tooltip:"Dictionary"},{radius:50,fill:"none",content:[{offset:{x:.5,y:1},margin:{top:8},content:"Dictionary"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Dictionary of Words",position:"TopRight"}},{...Re("Circle","wordCommunication",{title:"Word",tooltip:"Word"},{fill:"none",radius:25,content:[{content:"Word"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Word",position:"TopRight"}},{...Re("Circle","collection",{title:"Collection",tooltip:"Collection"},{radius:50,fill:"none",content:[{offset:{x:.5,y:1},margin:{top:8},content:"Collection"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Collection of Entity",position:"TopRight"}},{...Re("Circle","entityCommunication",{title:"Entity",tooltip:"Entity"},{fill:"none",radius:25,content:[{content:"Entity"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Entity",position:"TopRight"}},{...Re("Circle","relationship123",{title:"Relationship",tooltip:"Relationship"},{content:[{content:"Relates"}],fill:"white",radius:35,ports:yr}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Show a Relationship",position:"TopRight"}},{...Re("Circle","comparison",{title:"Comparison",tooltip:"Comparison"},{content:[{content:"Compare"}],fill:"white",radius:35,ports:yr}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Show a Comparison",position:"TopRight"}},{...Re("","communicationMixtureCommunication1",{title:"Communication Mixture",tooltip:"Communication Mixture"},{content:[{content:"Comm Mix"}],ports:[{id:"top-port",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right-port",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"bottom-port",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Two Input Communication",position:"TopRight"}},{...Re("","communicationMixtureCommunication2",{title:"Communication Mixture",tooltip:"Communication Mixture"},{content:[{content:"Comm Mix"}],ports:[{id:"top-port",offset:{x:.5,y:0},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right-port",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"bottom-port",offset:{x:.5,y:1},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Multi Input Communication",position:"TopRight"}},{...Re("","groupCommunication",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group or Add Entities",position:"TopRight"}},{...Re("Continuity","continuityComm",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:"1",strokeDashArray:"10 5"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Show Continuity of Entity",position:"TopRight"}},{...Re("Overlap","entities",{title:"Entities",tooltip:"Entities"},"Entities"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Group of Entity",position:"TopRight"}},{...Re("Overlap","communicationElements",{title:"Communication Elements",tooltip:"Communication Elements"},"Communication Elements"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Group of Communication Element",position:"TopRight"}},{...Re("Overlap","questions",{title:"Questions",tooltip:"Questions"},"Questions"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Group of Question",position:"TopRight"}},{...Re("Overlap","answers",{title:"Answers",tooltip:"Answers"},"Answers"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Group of Answer",position:"TopRight"}},{...Re("","x",{title:"x",tooltip:"x"},"x"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Communication",position:"TopRight"}},{...Re("Text","x1",{title:"x",tooltip:"x"},"x"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Communication",position:"TopRight"}}]}(),title:"Communication",iconCss:"e-ddb-icons e-connector"},{id:"application",expanded:!1,symbols:function DCe(){return[{...Re(null,"application",{title:"Application",tooltip:"Application"},"Application"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Application",position:"TopRight"}},{...Re(null,"communicationFunction",{title:"Communication Function",tooltip:"Communication Function"},"Communication Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Function",position:"TopRight"}},{...Re(null,"communicationResult",{title:"Communication Result",tooltip:"Communication Result"},"Communication Result"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Result of an Application",position:"TopRight"}},{...Re("Text","communicationFunction1",{title:"Communication Function",tooltip:"Communication Function"},"Communication Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Communication Function",position:"TopRight"}},{...Re("Circle","commAppMixture",{title:"Comm App Mixture",tooltip:"Comm App Mixture"},{fill:"white",radius:35,content:[{content:"Comm & App Mixture"}],ports:yr}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Application Mixture",position:"TopRight"}},{...Re("","commAppMixture1",{title:"Comm App Mixture",tooltip:"Comm App Mixture"},{content:[{content:"Communication Application Mixture"}],height:80,width:80}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Multi Inputs Comm & App Mixture",position:"TopRight"}},{...Re("CommunicationGrouped","communicationFunctionGrouped",{title:"Communication Function",tooltip:"Communication Function"},["Communication Function","Communication Function","Communication Function"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"What We Do as Entity",position:"TopRight"}},{...Re("WhatWeDo","whatWeDo",{title:"What We Do",tooltip:"What We Do"},["Communication","Application","What We Do"]),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"What We Do as Entity",position:"TopRight"}},{...Re("DualBox","DualBox",{title:"What We Do",tooltip:"What We Do"},"What We Do"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Things That We Do",position:"TopRight"}},{...Re("","action",{title:"Action",tooltip:"Action"},"Action"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"An Action That We Take",position:"TopRight"}},{...Re("","reason",{title:"Reason",tooltip:"Reason"},"Reason"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Reason For an Action",position:"TopRight"}},{...Re("","work1234",{title:"Work",tooltip:"Work"},"Work"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Work That we Do",position:"TopRight"}},{...Re("Text","application1",{title:"Application",tooltip:"Application"},"Application"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Application",position:"TopRight"}},{...Re("emptycontainer","emptycontainer",{title:"Empty Container",tooltip:"Empty Container"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"A Container to Add Part to",position:"TopRight"}},{...Re("Circle","work",{title:"Work",tooltip:"Work"},{fill:"white",radius:40,content:[{content:"Work"}],ports:yr}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"People Work Together",position:"TopRight"}},{...Re("Sub","subFunction",{title:"Sub Function",tooltip:"Sub Function"},"Sub Communication Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Function Inside Function",position:"TopRight"}},{...Re("Sub","subApplication",{title:"Sub Application",tooltip:"Sub Application"},"Sub Application"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Application Inside Application",position:"TopRight"}},{...Re("Sub","subResult",{title:"Sub Result",tooltip:"Sub Result"},"Sub Result"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Result Inside Result",position:"TopRight"}},{...Re("Group","groupFunction",{title:"Group Function",tooltip:"Group Function"},"Group Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Group Function",position:"TopRight"}},{...Re("Group","groupApplication",{title:"Group Application",tooltip:"Group Application"},"Group Application"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Denote Group of Application",position:"TopRight"}},{...Re("Group","groupResult",{title:"Group Result",tooltip:"Group Result"},"Group Communication Result"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Group Communication Result",position:"TopRight"}},{...Re("","group1",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group or Add Entities",position:"TopRight"}},{...Re("Continuity","continuityApplication",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:1,strokeDashArray:"10 5"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Show Continuity of Entity",position:"TopRight"}},{...Re("","a",{title:"A",tooltip:"A"},"A"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Application",position:"TopRight"}},{...Re("Text","a1",{title:"A",tooltip:"A"},"A"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents Application",position:"TopRight"}},{...Re("","functionx",{title:"f(x)",tooltip:"f(x)"},"f(x)"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Function of Our Communication",position:"TopRight"}},{...Re("Text","functionx1",{title:"f(x)",tooltip:"f(x)"},"f(x)"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Communication Function",position:"TopRight"}},{...Re("","function0",{title:"f()",tooltip:"f()"},"f()"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Function of Our Communication",position:"TopRight"}},{...Re("Text","communicationFunction12",{title:"Communication Function",tooltip:"Communication Function"},"communication function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Communication Function",position:"TopRight"}}]}(),title:"Application",iconCss:"e-ddb-icons e-basic"},{id:"communicationLink",expanded:!1,symbols:function TCe(){return[{id:"communicationLink",addInfo:{title:"Communication Link",tooltip:"Communication Link"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:-1e3,y:40},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},sourceDecorator:{shape:"None"},annotations:[{content:"Communicate",alignment:"Before",margin:{top:2,bottom:2,left:2,right:2}}],tooltip:{content:"Right Communication Flow",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{...Re("Arrow","communicationLinkLeft",{title:"Communication Link",tooltip:"Communication Link"},{content:[{content:"Communicate",alignment:"Before",margin:{top:2,bottom:2,left:2,right:2}}],shape:{target:"Arrow"},style:{fill:"black",strokeColor:"black",strokeWidth:1}}),constraints:$e.Tooltip|$e.Default|$e.AllowDrop,tooltip:{content:"Left Communication Flow",position:"TopRight"},sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40}},{...Re("Arrow","bidirectionalCommunicationLink",{title:"Bidirectional Communication Link",tooltip:"Bidirectional Communication Link"},{content:[{content:"Communicate",alignment:"Before",margin:{top:2,bottom:2,left:2,right:2}}],shape:{target:"Arrow",source:"Arrow"},style:{fill:"black",strokeColor:"black",strokeWidth:1}}),constraints:$e.Tooltip|$e.Default|$e.AllowDrop,tooltip:{content:"Left &  Right Communication Flow",position:"TopRight"},sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40}},{...Re("WideArrow","rightCommunicationLink",{title:"Right Communication Link",tooltip:"Right Communication Link"},{content:"Information"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Link With Information",position:"TopRight"}},{...Re("WideArrow","leftCommunicationLink",{title:"Left Communication Link",tooltip:"Left Communication Link"},{content:"Information",direction:"left"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Link With Information",position:"TopRight"}},{...Re("BiWideArrow","biDirectionalArrow",{title:"Bidirectional Arrow",tooltip:"Bidirectional Arrow"},"Information"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Link With Information",position:"TopRight"}},{...Re("CylinderArrow","communicationLink1",{title:"Communication Link",tooltip:"Communication Link"},"Information"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Communication Link With Information",position:"TopRight"}}]}(),title:"Communication Link",iconCss:"e-ddb-icons e-basic"},{id:"analysis",expanded:!1,symbols:function ECe(){return[{...Re("","principle",{title:"Principle",tooltip:"Principle"},"Principle"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Actual Principle",position:"TopRight"}},{...Re("","parentPrinciple",{title:"Parent Principle",tooltip:"Parent Principle"},"Principle"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Parent Principle",position:"TopRight"}},{...Re("","referencerect",{title:"Reference",tooltip:"Reference"},"Reference"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Reference",position:"TopRight"}},{...Re("","sentenceAnalysis",{title:"Sentence Analysis",tooltip:"Sentence Analysis"},"Sentence Analysis"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Sentence Analysis",position:"TopRight"}},{...Re("","analysis",{title:"Analysis",tooltip:"Analysis"},"Analysis"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent Actual Analysis",position:"TopRight"}},{...Re("","feedback",{title:"Feedback",tooltip:"Feedback"},"Feedback"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Feedback",position:"TopRight"}},{...Re("","operatingPrinciple",{title:"Operating Principle",tooltip:"Operating Principle"},"Principle"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Principle",position:"TopRight"}},{...Re("","error",{title:"Error",tooltip:"Error"},"Error"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Error",position:"TopRight"}},{...Re("","compensator",{title:"Compensator",tooltip:"Compensator"},"Compensator"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Compensator",position:"TopRight"}},{...Re("","problem",{title:"Problem",tooltip:"Problem"},"Problem"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Problem",position:"TopRight"}},{...Re("","problemStatement",{title:"Problem Statement",tooltip:"Problem Statement"},"Problem Statement"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Problem Statement as Entity",position:"TopRight"}},{...Re("","principle1",{title:"Principle",tooltip:"Principle"},"Main Set of Principles"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Main Set   of Principles",position:"TopRight"}},{...Re("","principle2",{title:"Principle",tooltip:"Principle"},"Sub Set of Principles"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Subset of Principles",position:"TopRight"}},{...Re("","analysisWindow",{title:"Analysis Window",tooltip:"Analysis Window"},"Analysis Window"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents an Actual Analysis",position:"TopRight"}},{...Re("ECF","edfDiamond",{title:"Error Correction Function",tooltip:"Error Correction Function"},"Error Correction Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Error Correction Function",position:"TopRight"}},{...Re("","ecfRect",{title:"Error Correction Function",tooltip:"Error Correction Function"},"Error Correction Function"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Enable Error Correction",position:"TopRight"}},{...Re("Circle","problemDevelopment",{title:"Problem Development",tooltip:"Problem Development"},{content:[{content:"Problem Name Development",offset:{x:.5,y:1},margin:{top:30}}],radius:150,fill:"White"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Problem Development From Error",position:"TopRight"}},{...Re("","principleAspect",{title:"Principle Aspect",tooltip:"Principle Aspect"},"Principle Aspect"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Problem Development From Error  ",position:"TopRight"}},{...Re("redcross","redcrossanalysis",{title:"Red Cross",tooltip:"Red Cross"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Cross Out Entity",position:"TopRight"}},{...Re("","solutionanalysis",{title:"Solution",tooltip:"Solution"},"Analysis"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent an Actual Solution",position:"TopRight"}},{...Re("","group4",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:1,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:1,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4}],height:75,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group or Add Entities",position:"TopRight"}},{...Re("Continuity","continuity4",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:1,strokeDashArray:"10 5"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Show Continuity of Entity",position:"TopRight"}},{...Re("Overlap","analyses",{title:"Analyses",tooltip:"Analyses"},"Analyses"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Analysis",position:"TopRight"}},{...Re("Overlap","errors",{title:"Errors",tooltip:"Errors"},"Errors"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Error",position:"TopRight"}},{...Re("Overlap","problems",{title:"Problems",tooltip:"Problems"},"Problems"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Problem",position:"TopRight"}},{...Re("Overlap","feedbacks",{title:"Feedbacks",tooltip:"Feedbacks"},"Feedbacks"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Feedback",position:"TopRight"}},{...Re("Overlap","compensators",{title:"Compensators",tooltip:"Compensators"},"Compensators"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Feedback",position:"TopRight"}},{...Re("Overlap","solutionsanalysis",{title:"Solutions",tooltip:"Solutions"},"Solutions"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represent a Group of Solutions",position:"TopRight"}}]}(),title:"Analysis",iconCss:"e-ddb-icons e-basic"},{id:"communicationSignal",expanded:!1,symbols:function ACe(){return[{...Re("Circle","greenCommSignal",{title:"Green Comm Signal",tooltip:"Green Comm Signal"},{fill:"LimeGreen",radius:12.5,isPoint:!0}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Represents a Comm Without Error",position:"TopRight"}},{...Re("Circle","redCommSignal",{title:"Red Comm Signal",tooltip:"Red Comm Signal"},{fill:"Red",radius:12.5,isPoint:!0}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Represents a Comm Without Error",position:"TopRight"}},{...Re("Circle","blueCommSignal",{title:"Blue Comm Signal",tooltip:"Blue Comm Signal"},{fill:"Blue",radius:12.5,isPoint:!0}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Represents a Comm as Feedback",position:"TopRight"}},{...Re("Arrow","greenSignalPath",{title:"Green Signal Path",tooltip:"Green Signal Path"},{shape:{target:"Arrow"},style:{fill:"LimeGreen",strokeColor:"LimeGreen",strokeWidth:1}}),sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40},constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Show Green Communication Flow",position:"TopRight"}},{...Re("Arrow","redSignalPath",{title:"Red Signal Path",tooltip:"Red Signal Path"},{shape:{target:"Arrow"},style:{fill:"red",strokeColor:"Red",strokeWidth:1}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Show Red Communication Flow",position:"TopRight"},sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40}},{...Re("Arrow","blueSignalPath",{title:"Blue Signal Path",tooltip:"Blue Signal Path"},{shape:{target:"Arrow"},style:{fill:"Blue",strokeColor:"Blue",strokeWidth:1}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Show Blue Communication Flow",position:"TopRight"},sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40}}]}(),title:"Communication Signal",iconCss:"e-ddb-icons e-basic"},{id:"areAndLocation",expanded:!1,symbols:function LCe(){return[{...Re("","locationOfOperation",{title:"Location of Operation",tooltip:"Location of Operation"},"Location"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify Operation Location",position:"TopRight"}},{...Re("","siteOfOperationRect",{title:"Site of Operation",tooltip:"Site of Operation"},"Site"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify Operation Site",position:"TopRight"}},{...Re("","mainArea",{title:"Main Area",tooltip:"Main Area"},{content:[{content:"Main Area",offset:{x:.5,y:0},margin:{bottom:20}}],ports:[],style:{strokeWidth:4},height:200,width:200}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify The Main Area",position:"TopRight"}},{...Re("House","siteOfOperation",{title:"Site of Operation",tooltip:"Site of Operation"},"Site"),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify a Site",position:"TopRight"}},{...Re("Circle","workingareaAL",{title:"Working Area",tooltip:"Working Area"},{fill:"none",radius:75,content:[{content:"Working Area"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify a Working Area",position:"TopRight"}},{...Re("Circle","locationAL",{title:"Location",tooltip:"Location"},{fill:"none",radius:30,content:[{content:"Location"}]}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Identify a Location",position:"TopRight"}},{...Re("mobility","mobilityAL",{title:"Mobility",tooltip:"Mobility"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Movement of a Person",position:"TopRight"}}]}(),title:"Area and Location",iconCss:"e-ddb-icons e-basic"},{id:"otherCommunicationElement",expanded:!1,symbols:function kCe(){return[{id:"separationLineComm",addInfo:{title:"Separation Line",tooltip:"Separation Line"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="5" height="10" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="10 5" d="M 2.5 0 L 2.5 10"/>\n                    </g>\n                </g>'},width:30,height:400,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use to Show Separation",position:"TopRight"}},{id:"time",addInfo:{title:"Time",tooltip:"Time"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40},sourceDecorator:{shape:"Arrow"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Time",alignment:"Before"}],constraints:$e.Tooltip|$e.Default|$e.AllowDrop,tooltip:{content:"Identify a Time",position:"TopRight"}},{id:"progress",addInfo:{title:"Progress",tooltip:"Progress"},shape:{type:"Native",content:'\n        <g transform="translate(2,2)">\n                    <rect vector-effect="non-scaling-stroke" height="20" width="400" stroke="black" stroke-width="1" fill="transparent" />\n                    <foreignObject class="symbol-text-container" x="50" width="300" height="20" visibility="hidden">\n                        <div style="height: 20px" class="flex-container">\n                            <div width="300" class="symbol-text-element">\n                              % Completed\n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},width:400,height:20,ports:yr,annotations:[{content:"% Completed"}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Show Progress",position:"TopRight"},style:{fill:"white",fontSize:10}},{id:"timeLine",addInfo:{title:"Time Line",tooltip:"Time Line"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="10" height="5" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 0 2.5 L 10 2.5"/>\n                    </g>\n                </g>'},width:600,height:30,annotations:[{content:"Time",offset:{x:1,y:.5},margin:{left:20}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use For Graph or Chart",position:"TopRight"}},{id:"dateLine",addInfo:{title:"Date Line",tooltip:"Date Line"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="5" height="10" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 2.5 0 L 2.5 10"/>\n                    </g>\n                </g>'},width:30,height:600,annotations:[{content:"Date",offset:{x:0,y:1},margin:{top:20,left:10}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Insert a Date Line",position:"TopRight"}},{id:"principleLineOthers",addInfo:{title:"PrincipleLine",tooltip:"PrincipleLine"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="10" height="5" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 0 2.5 L 10 2.5"/>\n                    </g>                    \n                </g>'},width:30,height:600,ports:[{id:"Center",offset:{x:.5,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"Left",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"Right",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Principle of Operation Line",position:"TopRight"}},{id:"note",addInfo:{title:"Note",tooltip:"Note"},shape:{type:"Native",content:'\n        <g transfrom="translate(2,2)">\n                    <rect height="120" width="120" stroke-width="0" fill="transparent" />\n                    <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="white" d = "M 0 0 L 0 120 L 120 120 L 120 20 L 100 0 L 0 0"/>\n                    <polygon vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="white" points="100,0 100,20 120,20"/>\n                    <foreignObject class="symbol-text-container" x="15" width="90" height="120" visibility="hidden">\n                        <div style="height: 120px" class="flex-container">\n                            <div width="90" class="symbol-text-element">\n                                My Note\n                            </div>\n                        </div>\n                    </foreignObject>\n                </g>'},width:120,height:120,annotations:[{content:"My Note"}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Represent a Note",position:"TopRight"}},{id:"nodeOthers",addInfo:{title:"Node",tooltip:"Node"},shape:{type:"Native",content:'\n        <g   transform="translate(2, 2)">\n                        <rect height="30" width="30" fill="transparent" stroke-width="0" /> \n                        <circle vector-effect="non-scaling-stroke" cx="15" cy="15" r="15" fill="White" stroke="black" stroke-width="1"/>\n                        <foreignObject class="symbol-text-container" x="3.75" width="22.5" height="30" visibility="hidden">\n                        <div style="height: 30px" class="flex-container">\n                            <div width="22.5" class="symbol-text-element">\n                                1\n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},width:30,height:30,annotations:[{content:"1"}],ports:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Represent a Node",position:"TopRight"},style:{fill:"none",fontSize:10}},{id:"callOut",addInfo:{title:"Callout",tooltip:"Callout"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <rect height="250" width="350" fill="transparent" stroke-width="0"/> \n                    <path fill="white" stroke="black" stroke-width="1" vector-effect="non-scaling-stroke" d="M 0 0 L 350 0 L 350 200 L 120 200 L 100 250 L 100 200 L 0 200 L 0 0"/>\n                    <foreignObject class="symbol-text-container" x="43.75" width="262.5" height="250" visibility="hidden">\n                    <div style="height: 250px" class="flex-container">\n                        <div width="262.5" class="symbol-text-element">\n                            My Text\n                        </div>\n                    </div>\n                </foreignObject>        \n                </g>'},width:350,height:250,annotations:[{content:"My Text",offset:{x:.5,y:.4}}],ports:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Represent a Callout",position:"TopRight"}},{id:"nodeTableComm",addInfo:{title:"Node Table",tooltip:"Node Table"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                            <rect height="100" width="200" fill="transparent" stroke-width="0"/>\n                            undefined<g transform="translate(0)">\n            <rect vector-effect="non-scaling-stroke" fill="white" stroke-width="1" stroke="black" height="100" width="100"/>\n            <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text> \n            </g><g transform="translate(100)">\n            <rect vector-effect="non-scaling-stroke" fill="white" stroke-width="1" stroke="black" height="100" width="100"/>\n            <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text> \n            </g>\n                        </g>'},width:200,height:100,annotations:[{content:"Node Number",width:100,offset:{x:.25,y:.25}},{content:"Information",width:100,offset:{x:.25,y:.75}},{content:"1",width:100,offset:{x:.75,y:.25}},{content:"",width:100,offset:{x:.75,y:.75}}],ports:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Represents a Table of Node",position:"TopRight"}},{id:"statement",addInfo:{title:"Statement",tooltip:"Statement"},shape:{type:"Native",content:'\n        <g>\n                    <rect height="30" width="100" fill="transparent" stroke-width="0"/>\n                    <foreignObject class="symbol-text-container" x="0" y="25" width="100" height="30" visibility="hidden">\n                    <div style="height: 30px" class="flex-container">\n                        <div width="100" class="symbol-text-element">\n                            Statement\n                        </div>\n                    </div>\n                    </foreignObject>     \n                </g>'},width:100,height:30,annotations:[{content:"Statement",style:{bold:!0,fontSize:15,italic:!0}}],ports:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Represents a Table of Node",position:"TopRight"}},{id:"numberIdentification",addInfo:{title:"Number Identification",tooltip:"Number Identification"},shape:{type:"Native",content:'\n        <g>\n                    <rect height="30" width="100" fill="transparent" stroke-width="0"/>\n                    <foreignObject class="symbol-text-container" x="0" y="25" width="100" height="30" visibility="hidden">\n                    <div style="height: 30px" class="flex-container">\n                        <div width="100" class="symbol-text-element">\n                            #1\n                        </div>\n                    </div>\n                    </foreignObject>     \n                </g>'},width:100,height:30,annotations:[{content:"#1",style:{bold:!0,fontSize:15,italic:!0}}],ports:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use to Identify Entity",position:"TopRight"}},{id:"entityInclusionLineHorizontal",addInfo:{title:"Entity Inclusion Line Horizontal",tooltip:"Entity Inclusion Line Horizontal"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="10" height="5" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 0 2.5 L 10 2.5"/>\n                    </g>                    \n                </g>'},width:600,height:30,ports:[{id:"Center",offset:{x:.5,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"Left",offset:{x:0,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"Right",offset:{x:1,y:.5},visibility:1,shape:"X",width:4,height:4}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Entity has Entities",position:"TopRight"}},{id:"entityInclusionLineVertical",addInfo:{title:"Entity Inclusion Line Vertical",tooltip:"Entity Inclusion Line Vertical"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="5" height="10" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 2.5 0 L 2.5 10"/> \n                    </g>                    \n                </g>'},width:30,height:600,ports:[{id:"Center",offset:{x:.5,y:.5},visibility:1,shape:"X",width:4,height:4},{id:"Top",offset:{x:.5,y:0},visibility:1,shape:"X",width:4,height:4},{id:"Right",offset:{x:.5,y:1},visibility:1,shape:"X",width:4,height:4}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Entity has Entities",position:"TopRight"}},{id:"changeofApplication",addInfo:{title:"Change of Application",tooltip:"Change of Application"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                            <rect height="100" width="300" fill="transparent" stroke-width="0"/>\n                            undefined<g transform="translate(0)">\n            <rect vector-effect="non-scaling-stroke" fill="white" stroke-width="1" stroke="black" height="100" width="100"/>\n            <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text> \n            </g><g transform="translate(100)">\n            <rect vector-effect="non-scaling-stroke" fill="white" stroke-width="1" stroke="black" height="100" width="100"/>\n            <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text> \n            </g><g transform="translate(200)">\n            <rect vector-effect="non-scaling-stroke" fill="white" stroke-width="1" stroke="black" height="100" width="100"/>\n            <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" d="M 0 50 L 100 50"/>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="30">Title</tspan></text>\n            <text class="symbol-text-container" visibility="hidden" lengthAdjust="spacingAndGlyphs" font-size="10px" font-weight="bold"><tspan x="20" y="80">Value</tspan></text> \n            </g>\n                        </g>'},width:300,height:100,annotations:[{content:"Communication",width:100,offset:{x:.16666666666666666,y:.25}},{content:"",width:100,offset:{x:.16666666666666666,y:.75}},{content:"Application Value",width:100,offset:{x:.5,y:.25}},{content:"",width:100,offset:{x:.5,y:.75}},{content:"Communication Function",width:100,offset:{x:.8333333333333333,y:.25}},{content:"",width:100,offset:{x:.8333333333333333,y:.75}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Communication change Application Tabulated Form",position:"TopRight"}},{id:"changeofApplication1",addInfo:{title:"Change of Application",tooltip:"Change of Application"},shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                        <rect width="10" height="10" fill="transparent" stroke-width="0" />\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1.5" fill="transparent" d="M 0.5 10 L 0.5 0 M 0 9.5 L 10 9.5" />\n                    </g>'},width:600,height:600,annotations:[{content:"Communication",offset:{x:.5,y:1},margin:{top:10}},{content:"Application",offset:{x:0,y:.5},margin:{right:10}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Communication Change Application Graphical Form",position:"TopRight"}},{id:"graphLine",addInfo:{title:"Graph Line",tooltip:"Graph Line"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"None",style:null},tooltip:{content:"Use to Draw Graph",position:"RightCenter"},style:null,constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"graphPoint",addInfo:[{title:"Graph Point",toolTip:"Use to Draw Graph"}],shape:{type:"Native",content:'\n        <g  class="point-circle" transform="translate(2, 2)">\n                        <rect height="10" width="10" fill="transparent" stroke-width="0" /> \n                        <circle vector-effect="non-scaling-stroke" cx="5" cy="5" r="5" fill="black" stroke="black" stroke-width="1"/>\n                        <foreignObject class="symbol-text-container" x="1.25" width="7.5" height="10" visibility="hidden">\n                        <div style="height: 10px" class="flex-container">\n                            <div width="7.5" class="symbol-text-element">\n                                \n                            </div>\n                        </div>\n                    </foreignObject>\n                    </g>'},ports:null,height:10,width:10,annotations:null,constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use to Draw Graph",position:"TopRight"}},{id:"graphLineAndPoint",addInfo:{title:"Graph Line and Point",tooltip:"Graph Line and Point"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:50,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Circle",style:null},tooltip:{content:"Use to Draw Graph",position:"RightCenter"},style:null,constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"xAxis",addInfo:[{title:"X-Axis",toolTip:"X-Axis"}],shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="10" height="5" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 0 2.5 L 10 2.5"/>\n                    </g>                    \n                </g>'},ports:null,height:30,width:600,annotations:[{content:"X-Axis",offset:{x:.5,y:1},margin:{top:15}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use to Graph",position:"TopRight"}},{id:"yAxis",addInfo:[{title:"Y-Axis",toolTip:"Y-Axis"}],shape:{type:"Native",content:'\n        <g  transform="translate(2, 2)">\n                    <g>\n                        <rect width="5" height="10" fill="transparent" stroke-width="0"/>\n                        <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" stroke-dasharray="" d="M 2.5 0 L 2.5 10"/> \n                    </g>                    \n                </g>'},ports:null,height:600,width:30,annotations:[{content:"Y-Axis",offset:{x:0,y:.5},margin:{right:15}}],constraints:j.Default|j.Tooltip|j.AllowDrop|j.ResizeNorth,tooltip:{content:"Use to Graph",position:"TopRight"}}]}(),title:"Other Communication Element",iconCss:"e-ddb-icons e-basic"},{id:"label",expanded:!1,symbols:function NCe(){return[{id:"informationlabel",addInfo:{title:"Information Label",tooltip:"Information Label"},type:"Bezier",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Label",alignment:"Before"}],tooltip:{content:"Show More Entity Info",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"communication12",addInfo:{title:"Communication",tooltip:"Communication"},type:"Bezier",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Communicate",alignment:"Before"}],tooltip:{content:"Communication Work Related",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"toDO",addInfo:{title:"To Do",tooltip:"To Do"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"To Do",alignment:"Before"}],tooltip:{content:"Use With Other Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"pointTo",addInfo:{title:"Point To",tooltip:"Point To"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Point To",alignment:"Before"}],tooltip:{content:"Word Point To Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"giveRiseTo",addInfo:{title:"Give Rise To",tooltip:"Give Rise To"},type:"Straight",sourcePoint:{x:-5,y:800},targetPoint:{x:-5,y:-80},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Give Rise To",alignment:"Before"}],tooltip:{content:"Entity Give Rise to Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"errorToProblem",addInfo:{title:"Error to Problem",tooltip:"Error to Problem"},type:"Straight",sourcePoint:{x:-5,y:800},targetPoint:{x:-5,y:-80},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"giveRiseTo",alignment:"Before"}],tooltip:{content:"Comm Error Rise to Problem",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"relatedTo",addInfo:{title:"Related To",tooltip:"Related To"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Related To",alignment:"Before"}],tooltip:{content:"Entity Related to Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"by",addInfo:{title:"by",tooltip:"by"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Related To",alignment:"Before"}],tooltip:{content:"Entity Related to Entity By Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"depend",addInfo:{title:"Depend",tooltip:"by"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Depend",alignment:"Before"}],tooltip:{content:"Entity Depend on Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"agree",addInfo:{title:"Agree",tooltip:"Agree"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Agree",alignment:"Before"}],tooltip:{content:"Entity Agree With Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"match",addInfo:{title:"Match",tooltip:"Match"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Match",alignment:"Before"}],tooltip:{content:"Entity Match With Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"have",addInfo:{title:"Have",tooltip:"Have"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Have",alignment:"Before"}],tooltip:{content:"Entity Have Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"Interact",addInfo:{title:"Interact",tooltip:"Interact"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Have",alignment:"Before"}],tooltip:{content:"Entity Interact Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"Use",addInfo:{title:"Use",tooltip:"Use"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Use",alignment:"Before"}],tooltip:{content:"Entity Use Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"compare",addInfo:{title:"Compare",tooltip:"Compare"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Compare",alignment:"Before"}],tooltip:{content:"Entity Compare Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"attach",addInfo:{title:"Attach",tooltip:"Attach"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Attach",alignment:"Before"}],tooltip:{content:"Entity Attach To Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"identify",addInfo:{title:"Identify",tooltip:"Identify"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Identify",alignment:"Before"}],tooltip:{content:"Entity Identify To Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"define",addInfo:{title:"Define",tooltip:"Define"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Define",alignment:"Before"}],tooltip:{content:"Entity Define To Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"visuallyIdentify",addInfo:{title:"Usually Identify",tooltip:"Usually Identify"},type:"Straight",sourcePoint:{x:30,y:40},targetPoint:{x:100,y:40},sourceDecorator:{shape:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black",strokeColor:"black"}},annotations:[{content:"Usually Identify",alignment:"Before"}],tooltip:{content:"Entity Usually Identify to Entity",position:"RightCenter"},style:{fill:"black",strokeColor:"black",strokeWidth:1},constraints:$e.Tooltip|$e.Default|$e.AllowDrop},{id:"curlBracesLeft1",addInfo:{title:"Curl Braces",tooltip:"Curl Braces"},shape:{type:"Native",content:'<g  transform="translate(2,2)">\n                    <rect height="120" width="30" stroke-width="1" stroke="1" fill="transparent"/>\n                    <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 30 0 A 15 20 0 0 0 15 20 L 15 50 A 15 10 0 0 1 0 60 A 15 10 0 0 1 15 70 L 15 100 A 15 20 0 0 0 30 120"/>\n                </g>'},width:40,height:120,annotations:[{content:"Text",offset:{x:0,y:.5},margin:{right:15}}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Left Braces",position:"TopRight"}},{id:"curlBracesRight2",addInfo:{title:"Curl Braces",tooltip:"Curl Braces"},shape:{type:"Native",content:'<g transform="translate(2,2)">\n                    <rect height="120" width="30" stroke-width="1" stroke="1" fill="transparent"/>\n                    <path vector-effect="non-scaling-stroke" stroke="black" stroke-width="1" fill="transparent" d="M 0 0 A 15 20 0 0 1 15 20 L 15 50 A 15 10 0 0 0 30 60 A 15 10 0 0 0 15 70 L 15 100 A 15 20 0 0 1 0 120" />\n                </g>'},width:40,height:120,annotations:[{content:"Text",offset:{x:1,y:.5},margin:{left:15}}],constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Right Braces",position:"TopRight"}}]}(),title:"Label",iconCss:"e-ddb-icons e-basic"},{id:"equation",expanded:!1,symbols:AQ(),title:"Equations",iconCss:"e-ddb-icons e-basic"}],QCe=[{id:"quickEntities",expanded:!1,symbols:function wCe(){return[{...Re("Person","quickPhysicalSystem",{title:"Physical System",tooltip:"Physical System"},["System"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("PersonNoFrame","quickPhysicalSystem1",{title:"Physical System",tooltip:"Physical System"},["System"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("","quickTheory",{title:"Theory",tooltip:"Theory"},"Theory"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("","quickTheorem",{title:"Theorem",tooltip:"Theorem"},"Theorem"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Theorem",position:"TopRight"}},{...Re("","quickApplyTheory",{title:"Apply Theory",tooltip:"Apply Theory"},"Apply"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Apply Application Theory",position:"TopRight"}},{...Re("","quickApplyTheory",{title:"Apply Theory",tooltip:"Apply Theory"},"Apply"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Apply Application Theory",position:"TopRight"}},{...Re("","quickInstrument",{title:"Instrument",tooltip:"Instrument"},"Instrument"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Instrument",position:"TopRight"}},{...Re("","quickMethod",{title:"Method",tooltip:"Method"},"Method"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Method",position:"TopRight"}},{...Re("","quickInputElement",{title:"Input Element",tooltip:"Input Element"},[{content:"Input Element",offset:{x:.5,y:1},margin:{top:20}}]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify an Input Element",position:"TopRight"}},{...Re("","quickAddedFunction",{title:"Added Function",tooltip:"Added Function"},"Added Function"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify An Added Function",position:"TopRight"}}]}(),title:"Quick Entities",iconCss:"e-ddb-icons e-flow"},{id:"system",expanded:!1,symbols:function MCe(){return[{...Re("Person","physicalSystem",{title:"Physical System",tooltip:"Physical System"},["System"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("PersonNoFrame","physicalSystem1",{title:"Physical System",tooltip:"Physical System"},["System"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("","physicalSystem2",{title:"Physical System",tooltip:"Physical System"},["System"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("PersonGroup","groupPhysicalSystem",{title:"Group Physical System",tooltip:"Group Physical System"},"Change Shape"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify Group of Person",position:"TopRight"}},{...Re("Overlap","groupPhysicalSystem1",{title:"Group Physical System",tooltip:"Group Physical System"},"Systems"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify Group of Person",position:"TopRight"}},{...Re("DottedGroup","groupPhysicalSyste2",{title:"Group Physical System",tooltip:"Group Physical System"},"Change Shape"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify Group of Person",position:"TopRight"}},{...Re("","constantCharacteristics",{title:"Constant Characteristics",tooltip:"Constant Characteristics"},"Constant Characteristics"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Physical System Constant Characteristics  ",position:"TopRight"}},{...Re("mobility","mobilitySystem",{title:"Mobility",tooltip:"Mobility"},"Identify Our Mobility"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify Group of Person",position:"TopRight"}},{...Re("","groupSystem",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:75,width:50}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Use to Group or Add Entities",position:"TopRight"}},{...Re("Continuity","continuity",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:0,strokeDashArray:"",fill:"transparent",ports:[]}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Show Continuity of Entity",position:"TopRight"}},{...Re("linkednode","linkedNodeSystem",{title:"Linked Node",tooltip:"Linked Node"},""),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Linked Node",position:"TopRight"}},{...Re("","sn2",{title:"S[n]",tooltip:"S[n]"},"Sn"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Represents The Physical System",position:"TopRight"}},{...Re("Text","sn3",{title:"S[n]",tooltip:"S[n]"},"Sn"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Represents The Physical System",position:"TopRight"}},{...Re("Person","sn",{title:"S[n]",tooltip:"S[n]"},["Sn"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("PersonNoFrame","sn1",{title:"S[n]",tooltip:"S[n]"},["Sn"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("Person","xn",{title:"x[n]",tooltip:"x[n]"},["Xn"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("PersonNoFrame","xn1",{title:"x[n]",tooltip:"x[n]"},["Xn"]),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("StrokeRect","s",{title:"S",tooltip:"S"},"S"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}},{...Re("DottedOverlap","S",{title:"S",tooltip:"S"},"S"),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Identify a Person",position:"TopRight"}}]}(),title:"System",iconCss:"e-ddb-icons e-flow"},{id:"theory",expanded:!1,symbols:function GCe(){return YCe.map(r=>({...Re(r.type,r.id,{title:r.title,tooltip:r.toolTip},r.annotation)}))}(),title:"Theory",iconCss:"e-ddb-icons e-flow"},{id:"fundamental",expanded:!1,symbols:function WCe(){return VCe.map(r=>({...Re(r.type,r.id,{title:r.title,tooltip:r.toolTip},r.annotation)}))}(),title:"Fundamental",iconCss:"e-ddb-icons e-flow"},{id:"interface",expanded:!1,symbols:function UCe(){return HCe.map(r=>({...Re(r.type,r.id,{title:r.title,tooltip:r.toolTip},r.annotation)}))}(),title:"Interface",iconCss:"e-ddb-icons e-flow"},{id:"signal",expanded:!1,symbols:function OCe(){return[{...Re("Circle","greenSignal",{title:"Green Signal",tooltip:"Green Signal"},{fill:"LimeGreen",radius:10,isPoint:!0}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Denote Positive Flow",position:"TopRight"}},{...Re("Circle","redSignal",{title:"Red Signal",tooltip:"Red Signal"},{fill:"Red",radius:10,isPoint:!0}),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Denote Negative Flow",position:"TopRight"}},{...Re("Arrow","greenSignalPath",{title:"Green Signal Path",tooltip:"Green Signal Path"},{style:{fill:"LimeGreen",strokeColor:"LimeGreen"},shape:{target:"Arrow"}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Denote Positive Flow Direction",position:"TopRight"}},{...Re("Arrow","redSignalPath",{title:"Red Signal Path",tooltip:"Red Signal Path"},{style:{fill:"Red",strokeColor:"Red"},shape:{target:"Arrow"}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Denote Negative Flow Direction",position:"TopRight"}},{...Re("linkednode","linkednodesignal",{title:"Linked Node",tooltip:"Linked Node"},null),constraints:j.Default|j.Tooltip|j.AllowDrop|j.Rotate,tooltip:{content:"Linked Node",position:"TopRight"}}]}(),title:"Signal",iconCss:"e-ddb-icons e-flow"},{id:"instrument",expanded:!1,symbols:function jCe(){return FCe.map(r=>({...Re(r.type,r.id,{title:r.title,tooltip:r.toolTip},r.annotation)}))}(),title:"Instrument",iconCss:"e-ddb-icons e-flow"},{id:"function",expanded:!1,symbols:function BCe(){return zCe.map(r=>({...Re(r.type,r.id,{title:r.title,tooltip:r.toolTip},r.annotation)}))}(),title:"Function",iconCss:"e-ddb-icons e-flow"},{id:"stability",expanded:!1,symbols:function RCe(){return[{...Re("HorizontalLine","basis",{title:"Basis",tooltip:"Basis"},{content:[{content:"k",offset:{x:0,y:.5},margin:{right:10}}],length:400,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Basis",position:"TopRight"}},{...Re("Basis","basis1",{title:"Basis",tooltip:"Basis"},"k"),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Basis",position:"TopRight"}},{...Re("HorizontalLine","stabilityLine",{title:"Stability Line",tooltip:"Stability Line"},{style:{strokeDashArray:"10 5"},length:400}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Stability Line",position:"TopRight"}},{...Re("HorizontalLine","stabilityLine1",{title:"Stability Line",tooltip:"Stability Line"},{length:600,style:{}}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Stability Line With Connector",position:"TopRight"}},{...Re("","k",{title:"k",tooltip:"k"},{height:50,width:50,content:[{content:"k",style:{italic:!0,bold:!0,fontSize:"12"}}]}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Basis",position:"TopRight"}},{...Re("Text","k1",{title:"k",tooltip:"k"},{style:{strokeDashArray:"10 5"},length:400}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Out Stability",position:"TopRight"}},{...Re("House1","destination",{title:"Destination",tooltip:"Destination"},"k"),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Destination",position:"TopRight"}},{...Re("Direction","direction",{title:"Destination",tooltip:"Destination"},null),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Destination",position:"TopRight"}},{...Re("Direction","direction",{title:"Destination",tooltip:"Destination"},null),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Destination",position:"TopRight"}},{...Re("mobility","mobilitystability",{title:"Mobility",tooltip:"Mobility"},null),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Our Mobility",position:"TopRight"}},{...Re("VerticalLine","roadMark",{title:"Road Mark",tooltip:"Road Mark"},{content:[{content:"Mark #",offset:{x:.5,y:1},margin:{top:20}}],length:150,style:{}}),constraints:j.Default|j.AllowDrop|j.Rotate|j.Tooltip,tooltip:{content:"Identify Specific Location",position:"TopRight"}},{...Re("Arrow","distance",{title:"Distance",tooltip:"Distance"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"distance",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Specific Distance",position:"TopRight"}},{...Re("Arrow","route",{title:"Route",tooltip:"Route"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"Route",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Specific Route",position:"TopRight"}},{...Re("Arrow","interroute",{title:"Inter-Route",tooltip:"Inter-Route"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"Inter-Route",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Specific Route",position:"TopRight"}},{...Re("TheoryScale","theoryScale",{title:"Theory Scale",tooltip:"Theory Scale"},"Hello"),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify The Theory Scale Distance",position:"TopRight"}},{...Re("VerticalLine","scaleMark",{title:"Scale Mark",tooltip:"Scale Mark"},{content:[{content:"#",offset:{x:.5,y:1},margin:{top:10}}],length:50,style:{}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Use to Put Mark On Scale",position:"TopRight"}},{...Re("Arrow","upHill",{title:"Uphill",tooltip:"Uphill"},{type:"Bezier",style:{},shape:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify The Uphill Path",position:"TopRight"}},{...Re("Arrow","downHill",{title:"Downhill",tooltip:"Downhill"},{type:"Bezier",style:{},shape:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify The DownHill Path",position:"TopRight"}},{...Re("VerticalLine","timeMark",{title:"Time Mark",tooltip:"Time Mark"},{length:150,content:[{content:"time #",offset:{x:.5,y:1},margin:{top:20}}],style:{}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify a Time Mark",position:"TopRight"}},{...Re("Arrow","progressTime",{title:"Progress Time",tooltip:"Progress Time"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"progress Time",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Progress Time",position:"TopRight"}},{...Re("Arrow","declineTime",{title:"Decline Time",tooltip:"Decline Time"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"decline time",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Decline Time",position:"TopRight"}},{...Re("HorizontalLine","lostLine",{title:"Lost Line",tooltip:"Lost Line"},{length:400,style:{strokeDashArray:"10 5"},content:[{content:"Lost #",offset:{x:1,y:.5},margin:{left:20}}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Point of Lost",position:"TopRight"}},{...Re("HorizontalLine","gainLine",{title:"Gain Line",tooltip:"Gain Line"},{length:400,style:{strokeDashArray:"10 5"},content:[{content:"Gain #",offset:{x:1,y:.5},margin:{left:20}}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Point of Gain",position:"TopRight"}},{...Re("Arrow","lost",{title:"Lost",tooltip:"Lost"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"Lost",alignment:"After"}]}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Specific Lost",position:"TopRight"}},{...Re("Arrow","Gain",{title:"Gain",tooltip:"Gain"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"Gain",alignment:"After"}]}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Specific Gain",position:"TopRight"}},{...Re("Circle","stabilityPoint",{title:"Stability Point",tooltip:"Stability Point"},{radius:10,fill:"black",isPoint:!0}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify a Point Of Stability",position:"TopRight"}},{...Re("Arrow","functionExecution",{title:"Function Execution",tooltip:"Function Execution"},{type:"Straight",shape:{source:"Circle"},style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Function Execute At Specific Time",position:"TopRight"}},{...Re("DomainLeft","domainLeft",{title:"Domain Left",tooltip:"Domain Left"},{orientation:"Left",content:[{content:"Domain Name"}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Domain To The Left",position:"TopRight"}},{...Re("DomainRight","domainRight",{title:"Domain Right",tooltip:"Domain Right"},{orientation:"Right",content:[{content:"Domain Name"}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Domain To The Right",position:"TopRight"}},{...Re("DomainTop","domainTop",{title:"Domain Top",tooltip:"Domain Top"},{orientation:"Top",content:[{content:"Domain Name"}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Domain Above",position:"TopRight"}},{...Re("DomainBottom","domainBottom",{title:"Domain Bottom",tooltip:"Domain Bottom"},{orientation:"Bottom",content:[{content:"Domain Name"}]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Domain Bottom",position:"TopRight"}},{...Re("Arrow","inline",{title:"Inline",tooltip:"Inline"},{shape:{target:"Arrow",source:"Arrow"},content:{content:"Inline",alignment:"Before"}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Inline to Each Other",position:"TopRight"}},{...Re("Text","ontop",{title:"On Top",tooltip:"On Top"},"On Top"),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify an Entity On Top",position:"TopRight"}},{...Re("Text","below",{title:"Below",tooltip:"Below"},"Below"),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify an Entity On Below",position:"TopRight"}},{...Re("Graph","graphAxis",{title:"Graph Axis",tooltip:"Graph Axis"},["Label Name","Label Name"]),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Use for Data Representation",position:"TopRight"}},{...Re("Ellipse","philosophy",{title:"Philosophy",tooltip:"Philosophy"},"Philosophy"),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Philosophy",position:"TopRight"}},{...Re("Circle","changeOfPhilosophy",{title:"Change Of Philosophy",tooltip:"Change Of Philosophy"},{content:[{content:"\u0394x"}],radius:35,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Represent Change Of Philosophy",position:"TopRight"}},{...Re("Circle","changeOfPhilosophy1",{title:"Change Of Philosophy",tooltip:"Change Of Philosophy"},{content:[{content:"\u0394Ph"}],radius:35,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Represent Change Of Philosophy",position:"TopRight"}},{...Re("Circle","philosophy1",{title:"Philosophy",tooltip:"Philosophy"},{content:[{content:"yn"}],radius:15,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Philosophy",position:"TopRight"}},{...Re("Circle","philosophy2",{title:"Philosophy",tooltip:"Philosophy"},{content:[{content:"Phn"}],radius:15,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Philosophy",position:"TopRight"}},{...Re("Circle","deltaPhilosophy",{title:"Delta Philosophy",tooltip:"Delta Philosophy"},{content:[{content:"Delta Philosophy"}],radius:35,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify Change of Philosophy",position:"TopRight"}},{...Re("Arrow","inheritArrow",{title:"Inherit Arrow",tooltip:"Inherit Arrow"},{shape:{source:"Arrow"},content:[{content:"Inherited",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Show Inherited Philosophy",position:"TopRight"}},{...Re("Arrow","passThroughArrow",{title:"Pass Through Arrow",tooltip:"Pass Through Arrow"},{shape:{source:"Arrow"},content:[{content:"Pass Through",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Show Pass Through Philosophy",position:"TopRight"}},{...Re("Arrow","directionArrow",{title:"Direction Arrow",tooltip:"Direction Arrow"},{shape:{target:"Arrow"},style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Show A Direction",position:"TopRight"}},{...Re("Arrow","deltaT",{title:"Delta T",tooltip:"Delta T"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"\u0394t"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Change Of Time",position:"TopRight"}},{...Re("Arrow","deltaL",{title:"Delta L",tooltip:"Delta L"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"\u0394L"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Change of Loss",position:"TopRight"}},{...Re("Arrow","deltaG",{title:"Delta G",tooltip:"Delta G"},{shape:{target:"Arrow",source:"Arrow"},content:[{content:"\u0394G"}],style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Change of Gain",position:"TopRight"}},{...Re("Arrow","generationTime",{title:"Generation Time",tooltip:"Generation Time"},{content:[{content:"generation time",alignment:"Before"}],shape:{target:"Arrow",source:"Arrow"},style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Our Generation Time",position:"TopRight"}},{...Re("Arrow","qTime",{title:"Q Time",tooltip:"Q Time"},{content:[{content:"Q time",alignment:"Before"}],shape:{target:"Arrow",source:"Arrow"},style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Our Generation Time",position:"TopRight"}},{...Re("Arrow","Q",{title:"Q",tooltip:"Q"},{content:[{content:"Q",alignment:"Before"}],shape:{target:"Arrow",source:"Arrow"},style:{}}),constraints:$e.Default|$e.AllowDrop|$e.Tooltip,tooltip:{content:"Identify Our Generation Time",position:"TopRight"}},{...Re("Continuity","continuityStability",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:"0",fill:"transparent",ports:[]}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Show Continuity Of Entity",position:"TopRight"}},{...Re("linkednode","linkednodestablility",{title:"Linked Node",tooltip:"Linked Node"},null),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Linked Node",position:"TopRight"}},{...Re("VerticalLine","initialTimeplus",{title:"Time 0 plus",tooltip:"Time 0 plus"},{content:[{content:"t0+",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Time After Initial Time",position:"TopRight"}},{...Re("VerticalLine","initialTimeplusplus",{title:"Time 0 plus plus",tooltip:"Time 0 plus plus"},{content:[{content:"t0++",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"More time after initial time",position:"TopRight"}},{...Re("VerticalLine","firstTime",{title:"Time 1",tooltip:"Time 1"},{content:[{content:"t1",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"First Time",position:"TopRight"}},{...Re("VerticalLine","firstTimePlus",{title:"Time 1 plus number",tooltip:"Time 1 plus number"},{content:[{content:"t1 + n",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Time After Time 1",position:"TopRight"}},{...Re("VerticalLine","secondTime",{title:"Time 2",tooltip:"Time 2"},{content:[{content:"t2",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Second Time",position:"TopRight"}},{...Re("VerticalLine","secondTimePlus",{title:"Time 2 plus number",tooltip:"Time 2 plus number"},{content:[{content:"t2 + n",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Time After Second Time",position:"TopRight"}},{...Re("VerticalLine","thirdTime",{title:"Time 3",tooltip:"Time 3"},{content:[{content:"t3",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Third Time",position:"TopRight"}},{...Re("VerticalLine","thirdTimePlus",{title:"Time 3 plus number",tooltip:"Time 3 plus number"},{content:[{content:"t3 + n",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Time After Third Time",position:"TopRight"}},{...Re("VerticalLine","fourthTime",{title:"Fourth Time",tooltip:"Fourth Time"},{content:[{content:"t4",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Identify The Fourth Time",position:"TopRight"}},{...Re("VerticalLine","fourthTimePlus",{title:"Time 4 plus number",tooltip:"Time 4 plus number"},{content:[{content:"t4 + n",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Time After Fourth Time",position:"TopRight"}},{...Re("VerticalLine","timePrime",{title:"Time Prime",tooltip:"Time Prime"},{content:[{content:"time prime",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The Time Prime",position:"TopRight"}},{...Re("VerticalLine","t[0]",{title:"t[0]",tooltip:"t[0]"},{content:[{content:"t0",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote An Initial Time",position:"TopRight"}},{...Re("VerticalLine","t[1]",{title:"t[1]",tooltip:"t[1]"},{content:[{content:"t1",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The First Time",position:"TopRight"}},{...Re("VerticalLine","t[2]",{title:"t[2]",tooltip:"t[2]"},{content:[{content:"t2",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The Second Time",position:"TopRight"}},{...Re("VerticalLine","t[3]",{title:"t[3]",tooltip:"t[3]"},{content:[{content:"t3",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The Third Time",position:"TopRight"}},{...Re("VerticalLine","t[4]",{title:"t[4]",tooltip:"t[4]"},{content:[{content:"t4",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The Fourth Time",position:"TopRight"}},{...Re("VerticalLine","t",{title:"t",tooltip:"t"},{content:[{content:"t4",offset:{x:.5,y:1},margin:{top:20}}],length:250,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.AllowDrop|j.Tooltip,tooltip:{content:"Denote The Time Time",position:"TopRight"}}]}(),title:"Stability",iconCss:"e-ddb-icons e-flow"},{id:"label",expanded:!1,symbols:function PCe(){return[{...Re("Arrow","label",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"After"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","label1",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"After"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","label2",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","label3",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","label4",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","label5",{title:"Label",tooltip:"Label"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"After"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","expandTo",{title:"Expand To",tooltip:"Expand To"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"Before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","expandTo1",{title:"Expand To",tooltip:"Expand To"},{type:"Bezier",shape:{target:"Arrow"},content:[{content:"label",alignment:"After"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Information Label",position:"TopRight"}},{...Re("Arrow","allocate",{title:"Allocate",tooltip:"Allocate"},{shape:{source:"Arrow"},content:[],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Allocate Theorem in Theory",position:"TopRight"}},{...Re("Arrow","allocate1",{title:"Allocate",tooltip:"Allocate"},{shape:{source:"Arrow"},content:[],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Allocate Theorem in Theory",position:"TopRight"}},{...Re("LeftLabel","label123",{title:"Label",tooltip:"Label"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Symbol Identification Label",position:"TopRight"}},{...Re("RightLabel","label",{title:"Label",tooltip:"Label"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Symbol Identification Label",position:"TopRight"}},{...Re("Arrow","directionLeft",{title:"DirectionLeft",tooltip:"DirectionLeft"},{shape:{source:"Arrow"},content:[],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Identify Left Direction",position:"TopRight"}},{...Re("Arrow","directionRight",{title:"Direction Right",tooltip:"Direction Right"},{shape:{source:"Arrow"},content:[],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Identify Right Direction",position:"TopRight"}},{...Re("redcross","crossoutlabel",{title:"Cross Out",tooltip:"Cross Out"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"To Cross Out an Entity",position:"TopRight"}},{...Re("Curly","leftCurlBrace",{title:"Left Curl Brace",tooltip:"Left Curl Brace"},{content:[{content:"Text",offset:{x:0,y:.5},margin:{right:15}}],orientation:"left"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group Theorem",position:"TopRight"}},{...Re("CurlyClose","rightCurlBraces",{title:"Right Curl Braces",tooltip:"Right Curl Braces"},{content:[{content:"Text",offset:{x:1,y:.5},margin:{left:15}}],orientation:"right"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Group Theorem",position:"TopRight"}},{...Re("Text","#",{title:"#",tooltip:"#"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use for Identification",position:"TopRight"}},{...Re("Circle","node",{title:"Node",tooltip:"Node"},{content:[{content:"1"}],radius:15,fill:"White"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use for Identification",position:"TopRight"}},{...Re("Table","nodeTable",{title:"Node Table",tooltip:"Node Table"},{content:["Node Number","Information",""],columnNo:2}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Represents a Table of Node",position:"TopRight"}},{...Re("VerticalLine","separationLine",{title:"Separation Line",tooltip:"Separation Line"},{length:400,style:{strokeDashArray:"10 5"}}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Use to Show Separation",position:"TopRight"}},{...Re("PushUpRight","pushUp",{title:"Push Up",tooltip:"Push Up"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Push Up",position:"TopRight"}},{...Re("PushUpLeft","pushUp1",{title:"Push Up",tooltip:"Push Up"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Selected to Apply",position:"TopRight"}},{...Re("Arrow","up",{title:"Up",tooltip:"Up"},{shape:{source:"Arrow"},content:[{content:"up",alignment:"before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Position Up",position:"TopRight"}},{...Re("Arrow","down",{title:"Down",tooltip:"Down"},{shape:{target:"Arrow"},content:[{content:"down",alignment:"before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Position Down",position:"TopRight"}},{...Re("Arrow","up1",{title:"Up",tooltip:"Up"},{shape:{target:"Arrow"},content:[{content:"up",alignment:"before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Position up",position:"TopRight"}},{...Re("Arrow","down1",{title:"Down",tooltip:"Down"},{shape:{target:"Arrow"},content:[{content:"down",alignment:"before"}],style:{}}),constraints:$e.Default|$e.Tooltip|$e.AllowDrop,tooltip:{content:"Position down",position:"TopRight"}},{...Re("VerticalContinuity","continuityLabel",{title:"Continuity",tooltip:"Continuity"},{strokeWidth:"0"}),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Denote a Continuity",position:"TopRight"}},{...Re("linkednode","linkednodeLabel",{title:"Linked Node",tooltip:"Linked Node"},null),constraints:j.Default|j.Tooltip|j.AllowDrop,tooltip:{content:"Linked Node",position:"TopRight"}}]}(),title:"Label",iconCss:"e-ddb-icons e-flow"},{id:"operator",expanded:!1,symbols:function _Ce(){return[{...Re("","operatorTheoryGroup",{title:"Group",tooltip:"Group"},{content:[{content:"Group"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryComMix",{title:"Com Mix",tooltip:"Com Mix"},{content:[{content:"Com Mix"}],ports:[{id:"left-1",offset:{x:0,y:.25},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"left-2",offset:{x:0,y:.75},visibility:zi.Visible,shape:"X",width:4,height:4},{id:"right",offset:{x:1,y:.5},visibility:zi.Visible,shape:"X",width:4,height:4}],height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("Circle","operatorTheoryComAppMix",{title:"Com App Mix",tooltip:"Com App Mix"},{content:[{content:"ComAppMix"}],radius:35,fill:"White",ports:yr}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("Circle","operatorTheorySimilar",{title:"Similar",tooltip:"Similar"},{content:[{content:"Similar"}],radius:35,fill:"White",ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("Circle","operatorTheorySimilar1",{title:"Similar",tooltip:"Similar"},{content:[{content:"\u223c",style:{fontSize:20}}],radius:35,fill:"White",ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryGreater",{title:"Greater",tooltip:"Greater"},{content:[{content:">",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryLess",{title:"Less",tooltip:"Less"},{content:[{content:"<",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryLessOrEqual",{title:"Less Or Equal",tooltip:"Less Or Equal"},{content:[{content:"\u2264",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryGreaterOrEqual",{title:"Greater Or Equal",tooltip:"Greater Or Equal"},{content:[{content:"\u2265",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryNotEqual",{title:"Not Equal",tooltip:"Not Equal"},{content:[{content:"\u2260",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryNotEqual",{title:"Not Equal",tooltip:"Not Equal"},{content:[{content:"\u2260",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryAdd",{title:"Add",tooltip:"Add"},{content:[{content:"+",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryDivide",{title:"Divide",tooltip:"Divide"},{content:[{content:"\u232f",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryMultiply",{title:"Multiply",tooltip:"Multiply"},{content:[{content:"x",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheorySubtract",{title:"Subtract",tooltip:"Subtract"},{content:[{content:"-",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryEqual",{title:"Equal",tooltip:"Equal"},{content:[{content:"=",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheorySum",{title:"Sum",tooltip:"Sum"},{content:[{content:"+",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("Circle","operatorTheoryRelationship",{title:"Relationship",tooltip:"Relationship"},{content:[{content:"Relationship"}],radius:35,fill:"White",ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryProportional",{title:"Proportional",tooltip:"Proportional"},{content:[{content:"\u221d",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("RawAnnotationContent","operatorTheoryInstrumentDerivative",{title:"Instrument Derivative",tooltip:"Instrument Derivative"},{content:[{type:"Custom",content:'<div style="border-bottom:solid black 1px; display:inline-block; float:left;">dI</div>\n                          <div style="display:inline-block; clear:left; float:left; margin-top: 1px">dT</div>',template:'<div style="width: 30px; margin: auto; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)">\n                              <input style="border: none; background-color: transparent; height: 23px; width: 30px; text-align:center; display:inline-block; margin-top: 3px; border-bottom:solid black 1px"  value="dI">\n                              <input style="border: none; background-color: transparent; height: 23px; width: 30px; text-align:center; display:inline-block; margin-top: 1px; clear:left" value="dT">\n                          </div>',style:{fontSize:20,position:"relative"}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("","operatorTheoryMethodDerivative",{title:"Method Derivative",tooltip:"Method Derivative"},{content:[{content:'<div style="border-bottom:solid black 1px; display:inline-block; float:left;">dI</div>\n                      <div style="display:inline-block; clear:left; float:left; margin-top: 1px">dT</div>',template:'<div style="width: 30px; margin: auto; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)">\n                          <input style="border: none; background-color: transparent; height: 23px; width: 30px; text-align:center; display:inline-block; margin-top: 3px; border-bottom:solid black 1px"  value="dI">\n                          <input style="border: none; background-color: transparent; height: 23px; width: 30px; text-align:center; display:inline-block; margin-top: 1px; clear:left" value="dT">\n                      </div>',style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate},{...Re("linkednode","operatorTheoryLinkedNode",{title:"Linked Node",tooltip:"Linked Node"},{content:[{content:"1",style:{fontSize:20}}],ports:yr,height:50,width:50}),constraints:j.Default|j.AllowDrop|j.Rotate}]}(),title:"Operator",iconCss:"e-ddb-icons e-flow"},{id:"equation",expanded:!1,symbols:AQ(),title:"Equations",iconCss:"e-ddb-icons e-basic"}];let $Ce=(()=>{class r{constructor(e){this.coreService=e,this._destroyed=new Yt,this.symbolPreview=[{height:80,width:150}],this.height=80,this.width=250,this.symbolMargin={left:15,right:15,top:15,bottom:15},this.coreService.getDomain().pipe(ct(i=>i===Ry.COMMUNICATION?XCe:QCe),ob(this._destroyed)).subscribe(i=>this.palettes=i)}ngOnInit(){this.expandMode="Single"}getSymbolInfo(e){return{fill:"white",fontSize:10,description:{text:e?.addInfo?.tooltip}}}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Qw))};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-symbol-palette"]],standalone:!0,features:[ec],decls:1,vars:8,consts:[["id","symbolpalette","width","100%","height","100%",3,"enableSearch","expandMode","palettes","symbolPreview","symbolMargin","symbolHeight","symbolWidth","getSymbolInfo"]],template:function(i,n){1&i&&jt(0,"ejs-symbolpalette",0),2&i&&He("enableSearch",!0)("expandMode",n.expandMode)("palettes",n.palettes)("symbolPreview",n.symbolPreview)("symbolMargin",n.symbolMargin)("symbolHeight",n.height)("symbolWidth",n.width)("getSymbolInfo",n.getSymbolInfo)},dependencies:[Aa,mQ,Nbe],styles:["#symbolpalette #symbolpalette_container .e-remove-palette{display:flex;flex-direction:column}\n"],encapsulation:2})}return r})(),qCe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-content-left"]],standalone:!0,features:[ec],decls:1,vars:0,template:function(i,n){1&i&&jt(0,"sync-symbol-palette")},dependencies:[Aa,$Ce]})}return r})();const ZCe=["nodeTemplate"],JCe=["actionFailure","created","dataBound","dataSourceChanged","destroyed","drawNode","keyPress","nodeChecked","nodeChecking","nodeClicked","nodeCollapsed","nodeCollapsing","nodeDragStart","nodeDragStop","nodeDragging","nodeDropped","nodeEdited","nodeEditing","nodeExpanded","nodeExpanding","nodeSelected","nodeSelecting"],KCe=[""];let eSe=(()=>{let r=class extends oY{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(JCe),this.addTwoWay.call(this,KCe),Oa("currentInstance",this,this.viewContainerRef),this.context=new fh}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["ejs-treeview"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,ZCe,5),2&e){let s;wr(s=Ir())&&(i.nodeTemplate=s.first)}},inputs:{allowDragAndDrop:"allowDragAndDrop",allowEditing:"allowEditing",allowMultiSelection:"allowMultiSelection",allowTextWrap:"allowTextWrap",animation:"animation",autoCheck:"autoCheck",checkedNodes:"checkedNodes",cssClass:"cssClass",disabled:"disabled",dragArea:"dragArea",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",expandOn:"expandOn",expandedNodes:"expandedNodes",fields:"fields",fullRowNavigable:"fullRowNavigable",fullRowSelect:"fullRowSelect",loadOnDemand:"loadOnDemand",locale:"locale",nodeTemplate:"nodeTemplate",selectedNodes:"selectedNodes",showCheckBox:"showCheckBox",sortOrder:"sortOrder"},outputs:{actionFailure:"actionFailure",created:"created",dataBound:"dataBound",dataSourceChanged:"dataSourceChanged",destroyed:"destroyed",drawNode:"drawNode",keyPress:"keyPress",nodeChecked:"nodeChecked",nodeChecking:"nodeChecking",nodeClicked:"nodeClicked",nodeCollapsed:"nodeCollapsed",nodeCollapsing:"nodeCollapsing",nodeDragStart:"nodeDragStart",nodeDragStop:"nodeDragStop",nodeDragging:"nodeDragging",nodeDropped:"nodeDropped",nodeEdited:"nodeEdited",nodeEditing:"nodeEditing",nodeExpanded:"nodeExpanded",nodeExpanding:"nodeExpanding",nodeSelected:"nodeSelected",nodeSelecting:"nodeSelecting"},features:[En],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),_e([cv()],r.prototype,"nodeTemplate",void 0),r=_e([hv([fh])],r),r})(),OQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})(),tSe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({providers:[],imports:[[Aa,OQ],OQ]}),r})();function iSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",5),pt()())}function nSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",6),pt()())}function rSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",7),pt()())}function sSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",8),pt()())}function oSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",9),pt()())}function aSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",10),pt()())}function lSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",11),pt()())}function hSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",12),pt()())}function cSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",13),pt()())}function uSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",14),pt()())}function dSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",15),pt()())}function pSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",16),pt()())}function fSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",17),pt()())}function gSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",18),pt()())}function vSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",19),pt()())}function mSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",20),pt()())}function ySe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",21),pt()())}function bSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",22),pt()())}function CSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",23),pt()())}function SSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",24),pt()())}function wSe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",25),pt()())}function ISe(r,t){1&r&&(nt(0,"div",3),ko(),nt(1,"svg",4),jt(2,"use",26),pt()())}function MSe(r,t){1&r&&(nt(0,"div"),ta(1,"'icon'"),pt())}let xSe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-icon-href"]],inputs:{iconName:"iconName"},standalone:!0,features:[ec],decls:24,vars:23,consts:[[3,"ngSwitch"],["class","icon-wrapper",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"icon-wrapper"],[1,"list-icon"],[0,"xlink","href","#files"],[0,"xlink","href","#flow-diagram"],[0,"xlink","href","#diagram-icon"],[0,"xlink","href","#flow-chart"],[0,"xlink","href","#structure"],[0,"xlink","href","#diagram-3"],[0,"xlink","href","#uml"],[0,"xlink","href","#diagram-5"],[0,"xlink","href","#people"],[0,"xlink","href","#flow-chart-1"],[0,"xlink","href","#monitoring"],[0,"xlink","href","#diagram-4"],[0,"xlink","href","#timetable"],[0,"xlink","href","#performance"],[0,"xlink","href","#diagram-1"],[0,"xlink","href","#symbol"],[0,"xlink","href","#the-sum-of"],[0,"xlink","href","#note-123"],[0,"xlink","href","#checklist"],[0,"xlink","href","#planning"],[0,"xlink","href","#report"],[0,"xlink","href","#house"]],template:function(i,n){1&i&&(nt(0,"div",0),Ai(1,iSe,3,0,"div",1),Ai(2,nSe,3,0,"div",1),Ai(3,rSe,3,0,"div",1),Ai(4,sSe,3,0,"div",1),Ai(5,oSe,3,0,"div",1),Ai(6,aSe,3,0,"div",1),Ai(7,lSe,3,0,"div",1),Ai(8,hSe,3,0,"div",1),Ai(9,cSe,3,0,"div",1),Ai(10,uSe,3,0,"div",1),Ai(11,dSe,3,0,"div",1),Ai(12,pSe,3,0,"div",1),Ai(13,fSe,3,0,"div",1),Ai(14,gSe,3,0,"div",1),Ai(15,vSe,3,0,"div",1),Ai(16,mSe,3,0,"div",1),Ai(17,ySe,3,0,"div",1),Ai(18,bSe,3,0,"div",1),Ai(19,CSe,3,0,"div",1),Ai(20,SSe,3,0,"div",1),Ai(21,wSe,3,0,"div",1),Ai(22,ISe,3,0,"div",1),Ai(23,MSe,2,0,"div",2),pt()),2&i&&(He("ngSwitch",n.iconName),Fe(1),He("ngSwitchCase","files"),Fe(1),He("ngSwitchCase","flow-diagram"),Fe(1),He("ngSwitchCase","diagram-icon"),Fe(1),He("ngSwitchCase","flow-chart"),Fe(1),He("ngSwitchCase","structure"),Fe(1),He("ngSwitchCase","diagram-3"),Fe(1),He("ngSwitchCase","uml"),Fe(1),He("ngSwitchCase","diagram-5"),Fe(1),He("ngSwitchCase","people"),Fe(1),He("ngSwitchCase","flow-chart-1"),Fe(1),He("ngSwitchCase","monitoring"),Fe(1),He("ngSwitchCase","diagram-4"),Fe(1),He("ngSwitchCase","timetable"),Fe(1),He("ngSwitchCase","performance"),Fe(1),He("ngSwitchCase","diagram-1"),Fe(1),He("ngSwitchCase","symbol"),Fe(1),He("ngSwitchCase","the-sum-of"),Fe(1),He("ngSwitchCase","note-123"),Fe(1),He("ngSwitchCase","checklist"),Fe(1),He("ngSwitchCase","planning"),Fe(1),He("ngSwitchCase","report"),Fe(1),He("ngSwitchCase","house"))},dependencies:[Aa,YE,zU,BU],styles:["[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .list-icon[_ngcontent-%COMP%]{height:25px;width:25px;margin:0 5px}"]})}return r})();function DSe(r,t){if(1&r){const e=zs();nt(0,"div",2),Zn("click",function(){const s=ns(e).$implicit;return Wr(an().handleClickTreeItem(s))}),jt(1,"sync-icon-href",3),nt(2,"div",4),ta(3),pt()()}if(2&r){const e=t.$implicit;Fe(1),He("iconName",e.iconName),Fe(2),kS(e.name)}}let TSe=(()=>{class r{constructor(){this.clickTreeItem=new No}ngOnChanges(e){e.dataSource?.currentValue&&(this.field={dataSource:this.dataSource,id:"id",parentID:"pid",text:"name",hasChildren:"hasChild"})}handleClickTreeItem(e){this.clickTreeItem.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-tree-view"]],inputs:{dataSource:"dataSource"},outputs:{clickTreeItem:"clickTreeItem"},standalone:!0,features:[ah,ec],decls:3,vars:1,consts:[["id","tree",3,"fields"],["nodeTemplate",""],[1,"tree-node",3,"click"],[3,"iconName"],[1,"ename"]],template:function(i,n){1&i&&(nt(0,"ejs-treeview",0),Ai(1,DSe,4,2,"ng-template",null,1,eb),pt()),2&i&&He("fields",n.field)},dependencies:[Aa,tSe,eSe,xSe],styles:["[_nghost-%COMP%]   .tree-node[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:5px;height:40px;min-width:max-content;-webkit-user-select:none;user-select:none;gap:5px}[_nghost-%COMP%]   .tree-node[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}[_nghost-%COMP%]   .e-treeview[_ngcontent-%COMP%]   .e-fullrow[_ngcontent-%COMP%]{height:40px!important}[_nghost-%COMP%]   .e-treeview[_ngcontent-%COMP%] > .e-ul[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden}"]})}return r})();const ESe=[{id:1,name:"Project Name",iconName:"files",hasChild:!0,expanded:!0},{id:2,pid:1,name:"Main Project Model",iconName:"flow-diagram",hasChild:!1,enums:zy.COMM_MAIN_PROJECT_MODEL},{id:3,pid:1,name:"Problem Statement",iconName:"diagram-icon",hasChild:!1,enums:zy.COMM_PROBLEM_STATEMENT},{id:5,pid:1,name:"People Work Together",iconName:"flow-chart",hasChild:!1},{id:6,pid:1,name:"Operating Principle",iconName:"structure",hasChild:!1},{id:7,pid:1,name:"What We Do Model",iconName:"diagram-3",hasChild:!1},{id:8,pid:1,name:"Error Give Rise To Problem",iconName:"uml",hasChild:!1},{id:9,pid:1,name:"Other Model",iconName:"structure",hasChild:!1},{id:10,pid:1,name:"Group People & Group Function",iconName:"diagram-5",hasChild:!0},{id:11,pid:10,name:"Group of People Defined",iconName:"people",hasChild:!1},{id:12,pid:10,name:"Group of People Function",iconName:"flow-chart-1",hasChild:!1},{id:13,pid:1,name:"Change Of Application",iconName:"diagram-3",hasChild:!0},{id:30,pid:13,name:"Graphical Change",iconName:"monitoring",hasChild:!1},{id:15,pid:13,name:"Tabulated Change",iconName:"diagram-4",hasChild:!1},{id:16,pid:1,name:"Timeline & Schedule",iconName:"timetable",hasChild:!0},{id:17,pid:16,name:"Project Timeline",iconName:"performance",hasChild:!1},{id:18,pid:16,name:"Project Schedule",iconName:"timetable",hasChild:!1},{id:19,pid:16,name:"People Schedule",iconName:"people",hasChild:!1},{id:20,pid:16,name:"Graphical Project Status",iconName:"diagram-3",hasChild:!1},{id:21,pid:1,name:"Support Models",iconName:"structure",hasChild:!0},{id:22,pid:21,name:"Entity Support Model",iconName:"diagram-1",hasChild:!1},{id:23,pid:21,name:"Error Accumulator",iconName:"symbol",hasChild:!1},{id:24,pid:21,name:"Sum of Compensator",iconName:"the-sum-of",hasChild:!1},{id:25,pid:21,name:"List of Analysis",iconName:"note-123",hasChild:!1},{id:26,pid:21,name:"Total Timeline",iconName:"monitoring",hasChild:!1},{id:27,pid:21,name:"Problem Report",iconName:"checklist",hasChild:!1},{id:28,pid:21,name:"Entity Produced and Function",iconName:"planning",hasChild:!1},{id:29,pid:21,name:"Function Status",iconName:"report",hasChild:!1},{id:30,pid:21,name:"List of Test Result ",iconName:"flow-chart-1",hasChild:!1},{id:31,pid:1,name:"Entity Usage & Function",iconName:"diagram-1",hasChild:!0},{id:32,pid:31,name:"List of Entity Usage ",iconName:"flow-chart-1",hasChild:!1},{id:33,pid:31,name:"Actual Entity Used by People ",iconName:"flow-chart-1",hasChild:!1},{id:34,pid:31,name:"Function of Entity Used",iconName:"flow-chart-1",hasChild:!1},{id:35,pid:1,name:"Area & Site Of Operation",iconName:"house",hasChild:!0},{id:36,pid:35,name:"Area of Operation",iconName:"house",hasChild:!1},{id:37,pid:35,name:"Site of Operation",iconName:"diagram-4",hasChild:!1}],ASe=[{id:1,name:"Project Name",iconName:"flow-chart-1",hasChild:!0,expanded:!0},{id:2,pid:1,name:"Main Theory Application Model",iconName:"flow-chart-1",hasChild:!1,enums:zy.THEORY_MAIN_APPLICATION_MODEL},{id:3,pid:1,name:"System Apply Theory Circular",iconName:"flow-chart-1",hasChild:!1,enums:zy.SYSTEM_APPLY_THEORY_MODEL},{id:5,pid:1,name:"Function In Functional System",iconName:"flow-chart-1",hasChild:!1},{id:6,pid:1,name:"Other Theory Model",iconName:"flow-chart-1",hasChild:!1},{id:7,pid:1,name:"Support Model",iconName:"flow-chart-1",hasChild:!0},{id:8,pid:1,name:"Stability",iconName:"flow-chart-1",hasChild:!0},{id:9,pid:7,name:"Parts of Function to Function",iconName:"flow-chart-1",hasChild:!1},{id:10,pid:7,name:"Part of Instrument to Instrument",iconName:"flow-chart-1",hasChild:!1},{id:11,pid:7,name:"Natural or Input Element Usage",iconName:"flow-chart-1",hasChild:!1},{id:12,pid:7,name:"List of Identified Theorems",iconName:"flow-chart-1",hasChild:!1},{id:13,pid:7,name:"List of Applied Theorems",iconName:"flow-chart-1",hasChild:!1},{id:30,pid:7,name:"Instrument or Method Produced",iconName:"flow-chart-1",hasChild:!1},{id:15,pid:7,name:"Function Produced from Theory Application",iconName:"flow-chart-1",hasChild:!1},{id:16,pid:7,name:"Other Support Model",iconName:"flow-chart-1",hasChild:!1},{id:17,pid:8,name:"System Understanding Theory",iconName:"flow-chart-1",hasChild:!1},{id:18,pid:8,name:"Function on Theory Scale",iconName:"flow-chart-1",hasChild:!1},{id:19,pid:8,name:"Functional Stability",iconName:"flow-chart-1",hasChild:!1},{id:20,pid:8,name:"Graphical Project Status",iconName:"flow-chart-1",hasChild:!1},{id:21,pid:8,name:"Project Direction and Destination",iconName:"flow-chart-1",hasChild:!1},{id:22,pid:8,name:"Problem Development and Identification",iconName:"flow-chart-1",hasChild:!1},{id:23,pid:8,name:"Philosophy Inheritance Chart",iconName:"flow-chart-1",hasChild:!1},{id:24,pid:8,name:"Other Stability Model",iconName:"flow-chart-1",hasChild:!1}];let OSe=(()=>{class r{constructor(e){this.coreService=e,this._destroyed=new Yt,this.treeViewData=[],this.coreService.getDomain().pipe(ct(i=>(this._domain=i,i===Ry.COMMUNICATION?ESe:ASe)),ob(this._destroyed)).subscribe(i=>this.treeViewData=i),this.coreService.getModel().pipe(ob(this._destroyed)).subscribe(i=>this._diagramProject=i)}handleClickTreeItem(e){const i=this._diagramProject[this._domain];e?.enums&&!i?.includes(e.enums)&&i?.push(e.enums),this.coreService.setModel({...this._diagramProject,[this._domain]:i}),this.coreService.setCurrentModel(e.enums)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Qw))};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-content-right"]],standalone:!0,features:[ec],decls:15,vars:1,consts:[[1,"content-right-wrapper"],[1,"section-one-wrapper"],[1,"section-header"],[1,"section-content"],[3,"dataSource","clickTreeItem"],[1,"section-two-wrapper"],[1,"section-options"],[1,"option"]],template:function(i,n){1&i&&(nt(0,"div",0)(1,"div",1)(2,"div",2),ta(3," Models "),pt(),nt(4,"div",3)(5,"sync-tree-view",4),Zn("clickTreeItem",function(o){return n.handleClickTreeItem(o)}),pt()()(),nt(6,"div",5)(7,"div",2),ta(8," Task List "),pt(),nt(9,"div",3)(10,"div",6)(11,"div",7),ta(12,"Task Name"),pt(),nt(13,"div",7),ta(14,"Priority"),pt()()()()()),2&i&&(Fe(5),He("dataSource",n.treeViewData))},dependencies:[Aa,TSe],styles:["[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-one-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid darkgrey;height:50%;margin-bottom:5px}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-one-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{border-bottom:1px solid darkgrey;height:25px;display:flex;align-items:center;padding-left:5px;font-size:14px}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-two-wrapper[_ngcontent-%COMP%]{height:50%;border:1px solid darkgrey}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-two-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;font-size:16px;padding-left:5px;border-bottom:1px solid darkgrey}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-two-wrapper[_ngcontent-%COMP%]   .section-options[_ngcontent-%COMP%]{min-height:-moz-fit-content;min-height:fit-content;text-align:center;margin-top:15px}[_nghost-%COMP%]   .content-right-wrapper[_ngcontent-%COMP%]   .section-two-wrapper[_ngcontent-%COMP%]   .section-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:inline-block;min-width:max-content;width:100px;margin:0;font-size:14px;border:1px solid black}"]})}return r})();var _Q,ID=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Es=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vu="e-toast",qw="e-toast-container",LQ="e-toast-title",kQ="e-toast-full-width",NQ="e-toast-content",fk="e-toast-message",gk="e-toast-progress",e5="e-toast-close-icon",t5="e-rtl",PSe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ID(t,r),Es([O("Left")],t.prototype,"X",void 0),Es([O("Top")],t.prototype,"Y",void 0),t}(ii),_Se=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ID(t,r),Es([O(null)],t.prototype,"model",void 0),Es([O(null)],t.prototype,"click",void 0),t}(ii),PQ=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ID(t,r),Es([O("FadeIn")],t.prototype,"effect",void 0),Es([O(600)],t.prototype,"duration",void 0),Es([O("ease")],t.prototype,"easing",void 0),t}(ii),RSe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ID(t,r),Es([Lt({effect:"FadeIn",duration:600,easing:"ease"},PQ)],t.prototype,"show",void 0),Es([Lt({effect:"FadeOut",duration:600,easing:"ease"},PQ)],t.prototype,"hide",void 0),t}(ii),zSe=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.toastCollection=[],n.needsID=!0,n}return ID(t,r),t.prototype.getModuleName=function(){return"toast"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.hide("All"),this.element.classList.remove(qw),$i(this.element,{position:"","z-index":""}),!v(this.refElement)&&!v(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.element,this.refElement),Ot(this.refElement),this.refElement=void 0),this.isBlazorServer()||r.prototype.destroy.call(this)},t.prototype.preRender=function(){this.isDevice=Ue.isDevice,"300px"===this.width&&(this.width=this.isDevice&&screen.width<768?"100%":"300px"),v(this.target)&&(this.target=document.body),this.enableRtl&&!this.isBlazorServer()&&this.element.classList.add(t5)},t.prototype.render=function(){this.progressObj=[],this.intervalId=[],this.contentTemplate=null,this.toastTemplate=null,this.renderComplete(),this.initRenderClass=this.element.className},t.prototype.show=function(e){var i;if(v(e)||(this.templateChanges(e),i=JSON.parse(JSON.stringify(e)),Ii(this,this,e)),v(this.toastContainer)){this.toastContainer=this.getContainer();var n="string"==typeof this.target?document.querySelector(this.target):"object"==typeof this.target?this.target:document.body;if(v(n))return;"BODY"===n.tagName?this.toastContainer.style.position="fixed":(this.toastContainer.style.position="absolute",n.style.position="relative"),this.setPositioning(this.position),n.appendChild(this.toastContainer)}this.isBlazorServer()&&this.element.classList.contains("e-control")?this.isToastModel(e):(this.toastEle=this.createElement("div",{className:vu,id:Or("toast")}),this.setWidthHeight(),this.setCSSClass(this.cssClass),v(this.template)||""===this.template?this.personalizeToast():this.templateRendering(),this.setProgress(),this.setCloseButton(),this.setAria(),this.appendToTarget(e),this.isDevice&&screen.width<768&&new ph(this.toastEle,{swipe:this.swipeHandler.bind(this)}),v(i)||(Ii(i,{element:[this.toastEle]},!0),this.toastCollection.push(i)),this.isReact&&this.renderReactTemplates())},t.prototype.showToast=function(e,i){this.toastEle=this.element.querySelector("#"+e),this.show(i)},t.prototype.isToastModel=function(e){this.toastContainer=this.element,this.setPositioning(this.position),v(this.element.lastElementChild)||this.setProgress(),this.setAria(),this.appendToTarget(e)},t.prototype.swipeHandler=function(e){var i=Je(e.originalEvent.target,"."+vu+":not(."+qw+")"),n=this.animation.hide.effect;v(i)||("Right"===e.swipeDirection?(this.animation.hide.effect="SlideRightOut",this.hideToast("swipe",i)):"Left"===e.swipeDirection&&(this.animation.hide.effect="SlideLeftOut",this.hideToast("swipe",i)),this.animation.hide.effect=n)},t.prototype.templateChanges=function(e){!Cn(e.content)&&!v(this.contentTemplate)&&this.content!==e.content&&this.clearContentTemplate(),!Cn(e.template)&&!v(this.toastTemplate)&&this.template!==e.template&&this.clearToastTemplate()},t.prototype.setCSSClass=function(e){if(e){var i=-1!==e.indexOf(",")?",":" ";dl(this.toastEle,e.split(i),[]),this.toastContainer&&dl(this.toastContainer,e.split(i),[])}},t.prototype.setWidthHeight=function(){"300px"===this.width?this.toastEle.style.width=si(this.width):"100%"===this.width?this.toastContainer.classList.add(kQ):(this.toastEle.style.width=si(this.width),this.toastContainer.classList.remove(kQ)),this.toastEle.style.height=si(this.height)},t.prototype.templateRendering=function(){this.fetchEle(this.toastEle,this.template,"template")},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Ms.beforeSanitize();Ii(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!v(i.helper)?e=i.helper(e):i.cancel||(e=Ms.serializeValue(i,e))}return e},t.prototype.hide=function(e){this.hideToast("",e)},t.prototype.hideToast=function(e,i){if(!v(this.toastContainer)&&0!==this.toastContainer.childElementCount){if("string"==typeof i&&"All"===i){for(var n=0;n<this.toastContainer.childElementCount;n++)this.destroyToast(this.toastContainer.children[n],e);return}v(i)&&(i=this.newestOnTop?this.toastContainer.lastElementChild:this.toastContainer.firstElementChild),this.destroyToast(i,e)}},t.prototype.fetchEle=function(e,i,n){var s,o,a,l;if(i="string"==typeof i?this.sanitizeHelper(i):i,l=e.classList.contains(LQ)?this.element.id+"title":e.classList.contains(NQ)?this.element.id+"content":this.element.id+"template",!v(o="content"===n?this.contentTemplate:this.toastTemplate))return e.appendChild(o.cloneNode(!0)),e;try{if("function"!=typeof i&&document.querySelectorAll(i).length>0){var h=null;"title"!==n&&(h=document.querySelector(i),e.appendChild(h),h.style.display="");var c=v(h)?o:h.cloneNode(!0);"content"===n?this.contentTemplate=c:this.toastTemplate=c}else s=wn(i)}catch{s=wn(i)}return v(s)||(a=this.isBlazorServer()?s({},this,n,l,!0):s({},this,n,null,!0)),v(a)||!(a.length>0)||v(a[0].tagName)&&1===a.length?"function"!=typeof i&&0===e.childElementCount&&(e.innerHTML=i):[].slice.call(a).forEach(function(d){v(d.tagName)||(d.style.display=""),e.appendChild(d)}),e},t.prototype.clearProgress=function(e){v(this.intervalId[e])||(clearInterval(this.intervalId[e]),delete this.intervalId[e]),v(this.progressObj[e])||(clearInterval(this.progressObj[e].intervalId),delete this.progressObj[e])},t.prototype.removeToastContainer=function(e){e&&this.toastContainer.classList.contains("e-toast-util")&&Ot(this.toastContainer)},t.prototype.clearContainerPos=function(e){var i=this;this.isBlazorServer()?this.toastContainer=null:(this.customPosition?($i(this.toastContainer,{left:"",top:""}),this.removeToastContainer(e),this.toastContainer=null,this.customPosition=!1):([vu+"-top-left",vu+"-top-right",vu+"-bottom-left",vu+"-bottom-right",vu+"-bottom-center",vu+"-top-center",vu+"-full-width"].forEach(function(n){!v(i.toastContainer)&&i.toastContainer.classList.contains(n)&&i.toastContainer.classList.remove(n)}),this.removeToastContainer(e),this.toastContainer=null),v(this.contentTemplate)||this.clearContentTemplate(),v(this.toastTemplate)||this.clearToastTemplate())},t.prototype.clearContentTemplate=function(){this.contentTemplate.style.display="none",document.body.appendChild(this.contentTemplate),this.contentTemplate=null},t.prototype.clearToastTemplate=function(){this.toastTemplate.style.display="none",document.body.appendChild(this.toastTemplate),this.toastTemplate=null},t.prototype.isBlazorServer=function(){return ge()&&this.isServerRendered},t.prototype.destroyToast=function(e,i){for(var s,n=this,o=0;o<this.toastCollection.length;o++)this.toastCollection[o].element[0]===e&&(s=this.toastCollection[o],this.toastCollection.splice(o,1));var a={options:this,cancel:!1,type:i,element:e,toastContainer:this.toastContainer},l=this.animation.hide,h={duration:l.duration,name:l.effect,timingFunction:l.easing},c=parseInt(e.id.split("toast_")[1],10),u=this.isBlazorServer()?{options:s,toastContainer:this.toastContainer}:{options:s,toastContainer:this.toastContainer,toastObj:this};this.trigger("beforeClose",a,function(d){d.cancel||(!v(n.progressObj[c])&&!v(e.querySelector("."+gk))&&(n.progressObj[c].progressEle.style.width="0%"),h.end=function(){n.clearProgress(c),(!n.isBlazorServer()||v(s))&&Ot(e),n.trigger("close",u),0===n.toastContainer.childElementCount&&n.clearContainerPos(!0),l=null,h=null},new Ro(h).animate(e))})},t.prototype.personalizeToast=function(){this.setIcon(),this.setTitle(),this.setContent(),this.actionButtons()},t.prototype.setAria=function(){wi(this.toastEle,{role:"alert"})},t.prototype.setPositioning=function(e){this.isBlazorServer()||(isNaN(parseFloat(e.X))&&isNaN(parseFloat(e.Y))?this.toastContainer.classList.add(vu+"-"+e.Y.toString().toLowerCase()+"-"+e.X.toString().toLowerCase()):(this.customPosition=!0,$i(this.toastContainer,{left:si(e.X),top:si(e.Y)})))},t.prototype.setCloseButton=function(){if(this.showCloseButton){this.l10n=new Go("toast",{close:"Close"},this.locale),this.l10n.setLocale(this.locale);var i=this.l10n.getConstant("close"),n=this.createElement("div",{className:e5+" e-icons ",attrs:{tabindex:"0","aria-label":i,role:"button"}});this.toastEle.classList.add("e-toast-header-close-icon"),this.toastEle.appendChild(n)}},t.prototype.setProgress=function(){if(this.timeOut>0){var e=parseInt(this.toastEle.id.split("toast_")[1],10);this.intervalId[e]=window.setTimeout(this.destroyToast.bind(this,this.toastEle),this.timeOut),this.progressObj[e]={hideEta:null,intervalId:null,maxHideTime:null,element:null,timeOutId:null,progressEle:null},this.progressObj[e].maxHideTime=parseFloat(this.timeOut+""),this.progressObj[e].hideEta=(new Date).getTime()+this.progressObj[e].maxHideTime,this.progressObj[e].element=this.toastEle,this.extendedTimeout>0&&($.add(this.toastEle,"mouseover",this.toastHoverAction.bind(this,e)),$.add(this.toastEle,"mouseleave",this.delayedToastProgress.bind(this,e)),this.progressObj[e].timeOutId=this.intervalId[e]),this.showProgressBar&&(this.progressBarEle=this.createElement("div",{className:gk}),this.toastEle.insertBefore(this.progressBarEle,this.toastEle.children[0]),this.progressObj[e].intervalId=setInterval(this.updateProgressBar.bind(this,this.progressObj[e]),10),this.progressObj[e].progressEle=this.progressBarEle)}},t.prototype.toastHoverAction=function(e){clearTimeout(this.progressObj[e].timeOutId),clearInterval(this.progressObj[e].intervalId),this.progressObj[e].hideEta=0,v(this.progressObj[e].element.querySelector("."+gk))||(this.progressObj[e].progressEle.style.width="0%")},t.prototype.delayedToastProgress=function(e){var i=this.progressObj[e],n=i.element;i.timeOutId=window.setTimeout(this.destroyToast.bind(this,n),this.extendedTimeout),i.maxHideTime=parseFloat(this.extendedTimeout+""),i.hideEta=(new Date).getTime()+i.maxHideTime,v(n.querySelector("."+gk))||(i.intervalId=setInterval(this.updateProgressBar.bind(this,i),10))},t.prototype.updateProgressBar=function(e){var i=(e.hideEta-(new Date).getTime())/e.maxHideTime*100;e.progressEle.style.width=(i="Ltr"===this.progressDirection?100-i:i)+"%"},t.prototype.setIcon=function(){if(!v(this.icon)&&0!==this.icon.length){var e=this.createElement("div",{className:"e-toast-icon e-icons "+this.icon});this.toastEle.classList.add("e-toast-header-icon"),this.toastEle.appendChild(e)}},t.prototype.setTitle=function(){if(!v(this.title)){var e=this.createElement("div",{className:LQ});e=this.fetchEle(e,this.title,"title");var i=this.createElement("div",{className:fk});i.appendChild(e),this.toastEle.appendChild(i)}},t.prototype.setContent=function(){var e=this.createElement("div",{className:NQ}),i=this.element;if(v(this.content)||""===this.content){var n=""!==this.element.innerHTML.replace(/\s/g,"");if((i.children.length>0||n)&&(!i.firstElementChild||!i.firstElementChild.classList.contains(vu))){this.innerEle=document.createDocumentFragment();for(var s=this.createElement("div");0!==i.childNodes.length;)this.innerEle.appendChild(this.element.childNodes[0]);e.appendChild(this.innerEle),[].slice.call(e.children).forEach(function(o){s.appendChild(o.cloneNode(!0))}),this.content=s,this.appendMessageContainer(e)}}else"object"!=typeof this.content||v(this.content.tagName)?(e=this.fetchEle(e,this.content,"content"),this.appendMessageContainer(e)):(e.appendChild(this.content),this.content=this.content.cloneNode(!0),this.appendMessageContainer(e))},t.prototype.appendMessageContainer=function(e){if(this.toastEle.querySelectorAll("."+fk).length>0)this.toastEle.querySelector("."+fk).appendChild(e);else{var i=this.createElement("div",{className:fk});i.appendChild(e),this.toastEle.appendChild(i)}},t.prototype.actionButtons=function(){var e=this,i=this.createElement("div",{className:"e-toast-actions"});[].slice.call(this.buttons).forEach(function(n){if(!v(n.model)){var s=e.createElement("button");s.setAttribute("type","button"),(v(n.model.cssClass)||0===n.model.cssClass.length)&&(n.model.cssClass="e-primary "+e.cssClass),s.classList.add("e-small"),new Io(n.model,s),!v(n.click)&&"function"==typeof n.click&&$.add(s,"click",n.click),i.appendChild(s)}}),i.childElementCount>0&&this.appendMessageContainer(i)},t.prototype.appendToTarget=function(e){var i=this,n=this.isBlazorServer()?{options:e,element:this.toastEle,cancel:!1}:{options:e,toastObj:this,element:this.toastEle,cancel:!1};this.trigger("beforeOpen",n,function(s){if(s.cancel){if(i.isBlazorServer()){var o=parseInt(i.toastEle.id.split("toast_")[1],10);i.clearProgress(o),Ot(i.toastEle),0===i.toastContainer.childElementCount&&i.clearContainerPos()}}else i.isBlazorServer()||(i.toastEle.style.display="none"),i.newestOnTop&&0!==i.toastContainer.childElementCount?i.toastContainer.insertBefore(i.toastEle,i.toastContainer.children[0]):i.isBlazorServer()||i.toastContainer.appendChild(i.toastEle),Ae([i.toastEle],"e-blazor-toast-hidden"),$.add(i.toastEle,"click",i.clickHandler,i),$.add(i.toastEle,"keydown",i.keyDownHandler,i),i.toastContainer.style.zIndex=zf(i.toastContainer)+"",i.displayToast(i.toastEle,e)})},t.prototype.clickHandler=function(e){var i=this;this.isBlazorServer()||e.stopPropagation();var n=e.target,s=Je(n,"."+vu),o=this.isBlazorServer()?{element:s,cancel:!1,clickToClose:!1,originalEvent:e}:{element:s,cancel:!1,clickToClose:!1,originalEvent:e,toastObj:this},a=n.classList.contains(e5);this.trigger("click",o,function(l){(a&&!l.cancel||l.clickToClose)&&i.destroyToast(s,"click")})},t.prototype.keyDownHandler=function(e){if(e.target.classList.contains(e5)&&(13===e.keyCode||32===e.keyCode)){var n=Je(e.target,"."+vu);this.destroyToast(n,"key")}},t.prototype.displayToast=function(e,i){var n=this,s=this.animation.show,o={duration:s.duration,name:s.effect,timingFunction:s.easing},a=this.isBlazorServer()?{options:i,element:this.toastEle}:{options:i,toastObj:this,element:this.toastEle};o.begin=function(){e.style.display=""},o.end=function(){n.trigger("open",a)},new Ro(o).animate(e)},t.prototype.getContainer=function(){return this.element.classList.add(qw),this.element},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element,s=0,o=Object.keys(e);s<o.length;s++)"enableRtl"===o[s]&&(e.enableRtl?n.classList.add(t5):n.classList.remove(t5))},Es([O("300px")],t.prototype,"width",void 0),Es([O("auto")],t.prototype,"height",void 0),Es([O(null)],t.prototype,"title",void 0),Es([O(null)],t.prototype,"content",void 0),Es([O(!0)],t.prototype,"enableHtmlSanitizer",void 0),Es([O(null)],t.prototype,"icon",void 0),Es([O(null)],t.prototype,"cssClass",void 0),Es([O(null)],t.prototype,"template",void 0),Es([O(!0)],t.prototype,"newestOnTop",void 0),Es([O(!1)],t.prototype,"showCloseButton",void 0),Es([O(!1)],t.prototype,"showProgressBar",void 0),Es([O(5e3)],t.prototype,"timeOut",void 0),Es([O("Rtl")],t.prototype,"progressDirection",void 0),Es([O(1e3)],t.prototype,"extendedTimeout",void 0),Es([Lt({},RSe)],t.prototype,"animation",void 0),Es([Lt({},PSe)],t.prototype,"position",void 0),Es([Qn([{}],_Se)],t.prototype,"buttons",void 0),Es([O(null)],t.prototype,"target",void 0),Es([Se()],t.prototype,"created",void 0),Es([Se()],t.prototype,"beforeSanitizeHtml",void 0),Es([Se()],t.prototype,"destroyed",void 0),Es([Se()],t.prototype,"open",void 0),Es([Se()],t.prototype,"beforeOpen",void 0),Es([Se()],t.prototype,"beforeClose",void 0),Es([Se()],t.prototype,"close",void 0),Es([Se()],t.prototype,"click",void 0),Es([Jn],t)}(Xr);!function(r){r.show=function t(e,i,n){var s,o;if(document.querySelector("."+qw)?s=document.querySelector("."+qw):(s=Lr("div",{className:vu+" "+qw+" e-toast-util"}),document.body.appendChild(s)),"string"==typeof e){var a=void 0,l=void 0;if(v(i))a="",l="";else switch(i){case"Warning":a="e-toast-warning",l="e-toast-warning-icon";break;case"Success":a="e-toast-success",l="e-toast-success-icon";break;case"Error":a="e-toast-danger",l="e-toast-error-icon";break;case"Information":a="e-toast-info",l="e-toast-info-icon"}o={content:e,cssClass:a,icon:l,timeOut:v(n)?5e3:n}}else o=e;var h=new zSe(o);return h.appendTo(s),h.show(),h}}(_Q||(_Q={}));var VSe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),By=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},h5={TEXTSHAPE:"e-skeleton-text",CIRCLESHAPE:"e-skeleton-circle",SQUARESHAPE:"e-skeleton-square",RECTANGLESHAPE:"e-skeleton-rectangle",WAVEEFFECT:"e-shimmer-wave",PULSEEFFECT:"e-shimmer-pulse",FADEEFFECT:"e-shimmer-fade",VISIBLENONE:"e-visible-none"},GSe=function(r){function t(e,i){return r.call(this,e,i)||this}return VSe(t,r),t.prototype.getModuleName=function(){return"skeleton"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){this.element.id||(this.element.id=Or("e-"+this.getModuleName())),this.updateCssClass(),wi(this.element,{role:"alert","aria-busy":"true","aria-live":"polite","aria-label":this.label})},t.prototype.render=function(){this.initialize()},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"width":case"height":this.updateDimension();break;case"shape":this.updateShape();break;case"shimmerEffect":this.updateEffect();break;case"visible":this.updateVisibility();break;case"label":this.element.setAttribute("aria-label",this.label);break;case"cssClass":i.cssClass&&Ae([this.element],i.cssClass.split(" ")),this.updateCssClass()}},t.prototype.destroy=function(){r.prototype.destroy.call(this);var e=["role","aria-live","aria-busy","aria-label"],i=[];this.cssClass&&(i=i.concat(this.cssClass.split(" ")));for(var n=0;n<e.length;n++)this.element.removeAttribute(e[parseInt(n.toString(),10)]);i=(i=i.concat(this.element.classList.value.match(/(e-skeleton-[^\s]+)/g))).concat(this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)),Ae([this.element],i)},t.prototype.initialize=function(){this.updateShape(),this.updateEffect(),this.updateVisibility()},t.prototype.updateShape=function(){var e=h5[this.shape.toUpperCase()+"SHAPE"],i=this.element.classList.value.match(/(e-skeleton-[^\s]+)/g);this.updateDimension(),i&&Ae([this.element],i),be([this.element],[e])},t.prototype.updateDimension=function(){var e=!this.width&&["Text","Rectangle"].indexOf(this.shape)>-1?"100%":si(this.width),i=["Circle","Square"].indexOf(this.shape)>-1?e:si(this.height);this.element.style.width=e,this.element.style.height=i},t.prototype.updateEffect=function(){var e=this.element.classList.value.match(/(e-shimmer-[^\s]+)/g);e&&Ae([this.element],e),be([this.element],[h5[this.shimmerEffect.toUpperCase()+"EFFECT"]])},t.prototype.updateVisibility=function(){this.element.classList[this.visible?"remove":"add"](h5.VISIBLENONE)},t.prototype.updateCssClass=function(){this.cssClass&&be([this.element],this.cssClass.split(" "))},By([O("")],t.prototype,"width",void 0),By([O("")],t.prototype,"height",void 0),By([O(!0)],t.prototype,"visible",void 0),By([O("Text")],t.prototype,"shape",void 0),By([O("Wave")],t.prototype,"shimmerEffect",void 0),By([O("Loading...")],t.prototype,"label",void 0),By([O("")],t.prototype,"cssClass",void 0),By([Jn],t)}(Xr),qf="",c5="",jv=[],yk="";function Ub(r,t,e,i,n,s,o){var a=t;i=i??!0;var l={item:null,index:null};if(r&&r.length){var h=r.length,c=i?r.toLocaleLowerCase():r;c=function $Se(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(c);for(var u=function(m,M){var U,T=M[m],P=void 0;if(t&&n){var Y=T,X=s.text.split(".");n.filter(function(Q){Array.prototype.slice.call(X).forEach(function(oe){("object"===o&&!Q.isHeader&&-1!==Y.textContent.toString().indexOf(Q[oe])&&Y.getAttribute("data-value")===Q[s.value].toString()||"string"===o&&-1!==Y.textContent.toString().indexOf(Q))&&(U="object"===o?Q[oe]:Q)})})}if(P=n&&U?(i?U.toLocaleLowerCase():U).replace(/^\s+|\s+$/g,""):(i?T.textContent.toLocaleLowerCase():T.textContent).replace(/^\s+|\s+$/g,""),"Equal"===e&&P===c||"StartsWith"===e&&P.substr(0,h)===c||"EndsWith"===e&&P.substr(P.length-c.length)===c||"Contains"===e&&new RegExp(c,"g").test(P))return l.item=T,l.index=m,{value:{item:T,index:m}}},d=0,p=a;d<p.length;d++){var f=u(d,p);if("object"==typeof f)return f.value}return l}return l}var FQ=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ha=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},MD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return FQ(t,r),ha([O()],t.prototype,"text",void 0),ha([O()],t.prototype,"value",void 0),ha([O()],t.prototype,"iconCss",void 0),ha([O()],t.prototype,"groupBy",void 0),ha([O()],t.prototype,"htmlAttributes",void 0),t}(ii),Bt_root="e-dropdownbase",Bt_li="e-list-item",Bt_group="e-list-group-item",bk=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.preventChange=!1,n.isAngular=!1,n.isPreventChange=!1,n.isDynamicDataChange=!1,n.addedNewItem=!1,n.isAddNewItemTemplate=!1,n.isRequesting=!1,n.isVirtualizationEnabled=!1,n.isAllowFiltering=!1,n.virtualizedItemsCount=0,n.totalItemCount=0,n.dataCount=0,n}return FQ(t,r),t.prototype.getPropObject=function(e,i,n){var s=new Object,o=new Object;s[e]=i[e],o[e]=n[e];var l=new Object;return l.newProperty=s,l.oldProperty=o,l},t.prototype.getValueByText=function(e,i,n){var s=null;return v(this.listData)||(s=this.checkValueCase(e,!!i,n)),s},t.prototype.checkValueCase=function(e,i,n,s){var o=this,a=null;s&&(a=e);var l=this.listData,h=this.fields,c=this.typeOfData(l).typeof;if("string"===c||"number"===c||"boolean"===c)for(var u=0,d=l;u<d.length;u++){var p=d[u];v(p)||(n?a=this.checkingAccent(String(p),e,i):i?this.checkIgnoreCase(String(p),e)&&(a=this.getItemValue(String(p),e,i)):this.checkNonIgnoreCase(String(p),e)&&(a=this.getItemValue(String(p),e,i,s)))}else if(i)l.filter(function(m){!v(Xe(h.value,m))&&o.checkIgnoreCase(Xe(h.text,m).toString(),e)&&(a=Xe(h.value,m))});else if(s){var f=null;f=a,l.filter(function(m){var M=Xe(h.value,m);!v(M)&&!v(a)&&M.toString()===f.toString()&&(a=Xe(h.text,m))})}else l.filter(function(m){o.checkNonIgnoreCase(Xe(h.text,m),e)&&(a=Xe(h.value,m))});return a},t.prototype.checkingAccent=function(e,i,n){var s=$t.ignoreDiacritics(String(e)),o=$t.ignoreDiacritics(i.toString()),a=null;return n?this.checkIgnoreCase(s,o)&&(a=this.getItemValue(String(e),i,n)):this.checkNonIgnoreCase(String(e),i)&&(a=this.getItemValue(String(e),i,n)),a},t.prototype.checkIgnoreCase=function(e,i){return String(e).toLowerCase()===i.toString().toLowerCase()},t.prototype.checkNonIgnoreCase=function(e,i){return String(e)===i.toString()},t.prototype.getItemValue=function(e,i,n,s){var l=this.typeOfData(this.listData).typeof;return s?e.toString():n?"string"===l?String(e):this.getFormattedValue(String(e)):"string"===l?i:this.getFormattedValue(i)},t.prototype.templateCompiler=function(e){var i=!1;if("function"!=typeof e&&e)try{i=!!bi(e,document).length}catch{i=!1}return i},t.prototype.l10nUpdate=function(e){var i="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){var n=e?this.actionFailureTemplate:this.noRecordsTemplate,s=void 0,o=e?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="";var a=this.templateCompiler(n);s=wn("function"!=typeof n&&a?Ge(n,document).innerHTML.trim():n);var l=e?"actionFailureTemplate":"noRecordsTemplate",h=void 0;if((h=this.isReact&&"function"==typeof n?s({},this,l,o,this.isStringTemplate,null):s({},this,l,o,this.isStringTemplate,null,i))&&h.length>0)for(var c=0;c<h.length;c++)"listbox"===this.getModuleName()&&"noRecordsTemplate"===l?"#text"===h[c].nodeName?((u=this.createElement("li")).textContent=h[c].textContent,u.classList.add("e-list-nrt"),u.setAttribute("role","option"),i.appendChild(u)):(h[c].classList.add("e-list-nr-template"),i.appendChild(h[c])):i.appendChild(h[c]);this.renderReactTemplates()}else{var p=new Go(this.getLocaleName(),{},this.locale);this.l10n=""!==p.getConstant("actionFailureTemplate")||""!==p.getConstant("noRecordsTemplate")?p:new Go("listbox"===this.getModuleName()?"listbox":"mention"===this.getModuleName()?"mention":"dropdowns",{noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},this.locale);var u,f=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate");"listbox"===this.getModuleName()?((u=this.createElement("li")).textContent=f,i.appendChild(u),u.classList.add("e-list-nrt"),u.setAttribute("role","option")):v(i)||(i.innerHTML=f)}},t.prototype.getLocaleName=function(){return"drop-down-base"},t.prototype.getTextByValue=function(e){return this.checkValueCase(e,!1,!1,!0)},t.prototype.getFormattedValue=function(e){if(this.listData&&this.listData.length){var i;if(i=this.typeOfData(this.properties.allowCustomValue&&this.properties.value&&this.properties.value instanceof Array&&this.properties.value.length>0?this.properties.value:this.listData),"number"==typeof Xe(this.fields.value?this.fields.value:"value",i.item)||"number"===i.typeof)return parseFloat(e);if("boolean"==typeof Xe(this.fields.value?this.fields.value:"value",i.item)||"boolean"===i.typeof)return"true"===e||""+e=="true"}return e},t.prototype.setEnableRtl=function(){v(this.enableRtlElements)||(this.list&&this.enableRtlElements.push(this.list),this.enableRtl?be(this.enableRtlElements,"e-rtl"):Ae(this.enableRtlElements,"e-rtl"))},t.prototype.initialize=function(e){if(this.bindEvent=!0,this.actionFailureTemplateId=this.element.id+"ActionFailureTemplate","UL"===this.element.tagName){var i=$n.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(i,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!v(this.dataSource))?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query,e)},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.updateDataAttribute=function(e){for(var i=["class","style","id","type","aria-expanded","aria-autocomplete","aria-readonly"],n={},s=0;s<this.element.attributes.length;s++)-1===i.indexOf(this.element.attributes[s].name)&&("dropdownlist"!==this.getModuleName()||"readonly"!==this.element.attributes[s].name)&&(n[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));Ii(n,e,n),this.setProperties({htmlAttributes:n},!0)},t.prototype.renderItemsBySelect=function(){var e=this.element,i={value:"value",text:"text"},n=[],s=e.querySelectorAll("select>optgroup"),o=e.querySelectorAll("select>option");if(this.getJSONfromOption(n,o,i),s.length){for(var a=0;a<s.length;a++){var l=s[a],h={};h[i.text]=l.label,h.isHeader=!0;var c=l.querySelectorAll("option");n.push(h),this.getJSONfromOption(n,c,i)}e.querySelectorAll("select>option")}this.updateFields(i.text,i.value,this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss),this.resetList(n,i)},t.prototype.updateFields=function(e,i,n,s,o){var a={fields:{text:e,value:i,groupBy:v(n)?this.fields&&this.fields.groupBy:n,htmlAttributes:v(s)?this.fields&&this.fields.htmlAttributes:s,iconCss:v(o)?this.fields&&this.fields.iconCss:o}};this.setProperties(a,!0)},t.prototype.getJSONfromOption=function(e,i,n){for(var s=0,o=i;s<o.length;s++){var a=o[s],l={};l[n.text]=a.innerText,l[n.value]=v(a.getAttribute(n.value))?a.innerText:a.getAttribute(n.value),e.push(l)}},t.prototype.preRender=function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=this.element.id+"ItemTemplate",this.displayTemplateId=this.element.id+"DisplayTemplate",this.spinnerTemplateId=this.element.id+"SpinnerTemplate",this.valueTemplateId=this.element.id+"ValueTemplate",this.groupTemplateId=this.element.id+"GroupTemplate",this.headerTemplateId=this.element.id+"HeaderTemplate",this.footerTemplateId=this.element.id+"FooterTemplate",this.noRecordsTemplateId=this.element.id+"NoRecordsTemplate"},t.prototype.setListData=function(e,i,n,s){var a,o=this;i=i||this.fields,this.isActive=!0;var l={cancel:!1,data:e,query:n};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.isRequesting||this.trigger("actionBegin",l,function(h){if(!h.cancel)if(o.isRequesting=!0,o.showSpinner(),e instanceof Ri){if(o.isRequested=!0,o.isDataFetched)return void o.emptyDataRequest(i);h.data.executeQuery(o.getQuery(h.query)).then(function(p){o.isPreventChange=!(!o.isAngular||!o.preventChange)||o.isPreventChange,o.trigger("actionComplete",p,function(f){if(!f.cancel){var m=f.result;0===m.length&&(o.isDataFetched=!0),o.dataCount=f.count,o.totalItemCount=f.count,a=o.renderItems(m,i),o.onActionComplete(a,m,f),o.groupTemplate&&o.renderGroupTemplate(a),o.isRequested=!1,o.bindChildItems(m,a,i,f)}o.isRequesting=!1})}).catch(function(p){o.isRequested=!1,o.isRequesting=!1,o.onActionFailure(p),o.hideSpinner()})}else{o.isRequesting=!1;var c=new Ri(h.data),u=o.getQuery(h.query).executeLocal(c);o.dataCount=u.count,o.totalItemCount=u.count;var d={cancel:!1,result:u=o.isVirtualizationEnabled?u.result:u};o.isPreventChange=!(!o.isAngular||!o.preventChange)||o.isPreventChange,o.trigger("actionComplete",d,function(p){p.cancel||(a=o.renderItems(p.result,i),o.onActionComplete(a,p.result,s),o.groupTemplate&&o.renderGroupTemplate(a),o.bindChildItems(p.result,a,i),setTimeout(function(){"multiselect"===o.getModuleName()&&null!=o.itemTemplate&&a.childElementCount>0&&(a.children[0].childElementCount>0||o.fields.groupBy&&a.children[1]&&a.children[1].childElementCount>0)&&o.updateDataList()}))})}})},t.prototype.bindChildItems=function(e,i,n,s){var o=this;e.length>=100&&"autocomplete"===this.getModuleName()?setTimeout(function(){Yi(o.remainingItems(o.sortedData,n),i),o.liCollections=o.list.querySelectorAll("."+Bt_li),o.updateListValues(),o.raiseDataBound(e,s)},0):this.raiseDataBound(e,s)},t.prototype.updateListValues=function(){},t.prototype.findListElement=function(e,i,n,s){var o=null;if(e)for(var a=[].slice.call(e.querySelectorAll(i)),l=0;l<a.length;l++)if(a[l].getAttribute(n)===s+""){o=a[l];break}return o},t.prototype.raiseDataBound=function(e,i){this.hideSpinner(),this.trigger("dataBound",{items:e,e:i})},t.prototype.remainingItems=function(e,i){var n=new Ri(e).executeLocal((new Vn).skip(100));if(this.itemTemplate){var s=this.templateListItem(n,i);return[].slice.call(s.childNodes)}var o=this.typeOfData(n).typeof;return"string"===o||"number"===o||"boolean"===o?$n.createListItemFromArray(this.createElement,n,!0,this.listOption(n,i),this):$n.createListItemFromJson(this.createElement,n,this.listOption(n,i),1,!0,this)},t.prototype.emptyDataRequest=function(e){var i=[];this.onActionComplete(this.renderItems(i,e),i),this.isRequested=!1,this.hideSpinner()},t.prototype.showSpinner=function(){},t.prototype.hideSpinner=function(){},t.prototype.onActionFailure=function(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),v(this.list)||be([this.list],"e-nodata")},t.prototype.onActionComplete=function(e,i,n){if(this.listData=i,this.isVirtualizationEnabled&&this.notify("setGeneratedData",{module:"VirtualScroll"}),"listbox"!==this.getModuleName()&&e.setAttribute("tabindex","0"),this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.fixedHeaderElement=v(this.fixedHeaderElement)?this.fixedHeaderElement:null,"multiselect"===this.getModuleName()&&this.properties.allowCustomValue&&this.fields.groupBy)for(var s=0;s<e.childElementCount;s++)e.children[s].classList.contains("e-list-group-item")&&(v(e.children[s].innerHTML)||""==e.children[s].innerHTML)&&be([e.children[s]],"e-hide-group-header");v(this.list)||this.isVirtualizationEnabled||(this.list.innerHTML="",this.list.appendChild(e),this.liCollections=this.list.querySelectorAll("."+Bt_li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent))},t.prototype.postRender=function(e,i,n){var s=e.querySelector("."+Bt_li),o=e.querySelector(".e-active");s&&!o&&s.classList.add("e-item-focus"),i.length<=0?(this.l10nUpdate(),be([e],"e-nodata")):e.classList.remove("e-nodata")},t.prototype.getQuery=function(e){return e||(this.query?this.query:new Vn)},t.prototype.updateVirtualizationProperties=function(e,i){this.isVirtualizationEnabled=!0,this.virtualizedItemsCount=e,this.isAllowFiltering=i},t.prototype.renderGroupTemplate=function(e){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector("."+Bt_group)){var i=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},s=e.querySelectorAll("."+Bt_group),o=this.templateCompiler(this.groupTemplate);if("function"!=typeof this.groupTemplate&&o){var a=Ge(this.groupTemplate,document).innerHTML.trim(),l=$n.renderGroupTemplate(a,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]})}else if(l=$n.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,s,n,this),this.isGroupChecking)for(h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]});this.renderReactTemplates()}},t.prototype.createListItems=function(e,i){e&&i.groupBy||this.element.querySelector("optgroup")?(i.groupBy&&("None"!==this.sortOrder&&(e=this.getSortedDataSource(e)),e=$n.groupDataSource(e,i.properties,this.sortOrder)),be([this.list],"e-dd-group")):e=this.getSortedDataSource(e);var n=this.listOption(e,i),s=e.length>100?new Ri(e).executeLocal((new Vn).take(100)):e;return this.sortedData=e,$n.createList(this.createElement,"autocomplete"===this.getModuleName()?s:e,n,!0,this)},t.prototype.listOption=function(e,i){var n=!v(i.iconCss),s=v(i.properties)?i:i.properties;return Ii({},null!==i.text||null!==i.value?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},i,!0)},t.prototype.setFloatingHeader=function(e){!v(this.list)&&!this.list.classList.contains("e-nodata")&&(v(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),!v(this.list)&&!this.list.querySelector("li").classList.contains(Bt_group)&&(this.fixedHeaderElement.style.display="none"),!v(this.fixedHeaderElement)&&!v(this.list)&&tl([this.fixedHeaderElement],this.list),this.setFixedHeader()),!v(this.fixedHeaderElement)&&"0"===this.fixedHeaderElement.style.zIndex&&this.setFixedHeader(),this.scrollStop(e))},t.prototype.scrollStop=function(e){for(var i=v(e)?this.list:e.target,n=parseInt(getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),10),s=Math.round(i.scrollTop/n),o=this.list.querySelectorAll("li:not(.e-hide-listitem)"),a=s;a>-1;a--){if(!v(o[a])&&o[a].classList.contains(Bt_group)){this.fixedHeaderElement.innerHTML=o[a].innerHTML,this.fixedHeaderElement.style.top=i.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},t.prototype.getValidLi=function(){return this.liCollections[0]},t.prototype.renderItems=function(e,i){var n;if(this.itemTemplate&&e){var s=e;s&&i.groupBy?("None"!==this.sortOrder&&(s=this.getSortedDataSource(s)),s=$n.groupDataSource(s,i.properties,this.sortOrder)):s=this.getSortedDataSource(s),this.sortedData=s;var o=s.length>100?new Ri(s).executeLocal((new Vn).take(100)):s;if(n=this.templateListItem("autocomplete"===this.getModuleName()?o:s,i),this.isVirtualizationEnabled){var a=this.list.querySelector(".e-list-parent"),l=this.list.querySelector(".e-virtual-ddl-content");e.length>=this.virtualizedItemsCount&&a&&l||a&&l&&this.isAllowFiltering||a&&l&&"autocomplete"===this.getModuleName()?(l.replaceChild(n,a),this.liCollections=this.list.querySelectorAll("."+Bt_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):l||(this.list.innerHTML="",this.list.appendChild(n),this.liCollections=this.list.querySelectorAll("."+Bt_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent))}}else n=this.createListItems(e,i),this.isVirtualizationEnabled&&(a=this.list.querySelector(".e-list-parent"),l=this.list.querySelector(".e-virtual-ddl-content"),e.length>=this.virtualizedItemsCount&&a&&l||a&&l&&this.isAllowFiltering||a&&l&&"autocomplete"===this.getModuleName()?(l.replaceChild(n,a),this.liCollections=this.list.querySelectorAll("."+Bt_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):l||(this.list.innerHTML="",this.list.appendChild(n),this.liCollections=this.list.querySelectorAll("."+Bt_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)));return n},t.prototype.templateListItem=function(e,i){var n=this.listOption(e,i);n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate;var s=this.templateCompiler(this.itemTemplate);if("function"!=typeof this.itemTemplate&&s){var o=Ge(this.itemTemplate,document).innerHTML.trim();return $n.renderContentTemplate(this.createElement,o,e,i.properties,n,this)}return $n.renderContentTemplate(this.createElement,this.itemTemplate,e,i.properties,n,this)},t.prototype.typeOfData=function(e){for(var n=0;!v(e)&&n<e.length;n++)if(!v(e[n])&&!v("string"==typeof e[n]||"number"==typeof e[n]||"boolean"==typeof e[n]?e[n]:Xe(this.fields.value?this.fields.value:"value",e[n])))return{typeof:typeof e[n],item:e[n]};return{typeof:null,item:null}},t.prototype.setFixedHeader=function(){v(this.list)||(this.list.parentElement.style.display="block");var e=0;if(this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(e))&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10)),!v(this.liCollections)){var a=this.getValidLi().offsetWidth-e;this.fixedHeaderElement.style.width=a.toString()+"px"}$i(this.fixedHeaderElement,{zIndex:10});var l=this.ulElement.querySelector("."+Bt_group+":not(.e-hide-listitem)");this.fixedHeaderElement.innerHTML=l.innerHTML},t.prototype.getSortedDataSource=function(e){if(e&&"None"!==this.sortOrder){var i=this.fields.text?this.fields.text:"text";("string"===this.typeOfData(e).typeof||"number"===this.typeOfData(e).typeof||"boolean"===this.typeOfData(e).typeof)&&(i=""),e=$n.getDataSource(e,$n.addSorting(this.sortOrder,i))}return e},t.prototype.getIndexByValue=function(e){for(var i,n=this.getItems(),s=0;s<n.length;s++)if(!v(e)&&n[s].getAttribute("data-value")===e.toString()){i=s;break}return i},t.prototype.dispatchEvent=function(e,i){var n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),e&&e.dispatchEvent(n)},t.prototype.setFields=function(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&this.updateFields("text","text")},t.prototype.resetList=function(e,i,n,s){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(e instanceof Array?e.length>0:!v(e))&&this.selectData&&this.selectData.length>0&&(e=this.selectData),e="combobox"===this.getModuleName()&&this.selectData&&e instanceof Array&&e.length<this.selectData.length&&this.addedNewItem?this.selectData:e,this.addedNewItem=!1,this.setListData(e,i,n,s))},t.prototype.updateSelectElementData=function(e){(e||this.isVirtualizationEnabled)&&v(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)},t.prototype.updateSelection=function(){},t.prototype.renderList=function(){this.render()},t.prototype.updateDataSource=function(e){this.resetList(this.dataSource),this.totalItemCount=this.dataSource instanceof Ri?this.dataSource.dataSource.json.length:0},t.prototype.setUpdateInitial=function(e,i){this.isDataFetched=!1;for(var n={},s=0;e.length>s;s++)i[e[s]]&&"fields"===e[s]?(this.setFields(),n[e[s]]=i[e[s]]):i[e[s]]&&(n[e[s]]=i[e[s]]);Object.keys(n).length>0&&(-1===Object.keys(n).indexOf("dataSource")&&(n.dataSource=this.dataSource),this.updateDataSource(n))},t.prototype.onPropertyChanged=function(e,i){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var a=this.ulElement.querySelector("."+Bt_group);this.fixedHeaderElement.innerHTML=a.innerHTML}break;case"locale":this.list&&!v(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex()}},t.prototype.render=function(e,i){this.list="listbox"===this.getModuleName()?this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}):this.createElement("div",{className:"e-content"}),this.list.classList.add(Bt_root),this.setFields(),this.rippleFun=dh(this.list,{duration:300,selector:"."+Bt_li});var s=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!v(s))&&!this.isGroupChecking&&$.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),Ae([this.element],Bt_root),this.element.style.display="none";var o=this.createElement("div");this.element.parentElement.insertBefore(o,this.element),o.appendChild(this.element),o.appendChild(this.list)}this.setEnableRtl(),i||this.initialize(e)},t.prototype.getModuleName=function(){return"dropdownbase"},t.prototype.getItems=function(){return this.ulElement.querySelectorAll("."+Bt_li)},t.prototype.addItem=function(e,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&v(i)){var n=[].slice.call(this.listData);n.push(e),n=this.getSortedDataSource(n),this.fields.groupBy&&(n=$n.groupDataSource(n,this.fields.properties,this.sortOrder)),i=n.indexOf(e)}var a,s=this.getItems().length,o=this.list.querySelector(".e-active");e=e instanceof Array?e:[e],a=v(i)||i<0||i>s-1?s:i;var l=this.fields;e&&l.groupBy&&(e=$n.groupDataSource(e,l.properties));for(var h=[],c=0;c<e.length;c++){var u=e[c],d=u.isHeader,p=this.createElement("li",{className:d?Bt_group:Bt_li,id:"option-add-"+c}),f=u instanceof Object?Xe(l.text,u):u;if(d&&(p.innerText=f),this.itemTemplate&&!d){var m=this.templateCompiler(this.itemTemplate),T=wn("function"!=typeof this.itemTemplate&&m?Ge(this.itemTemplate,document).innerHTML.trim():this.itemTemplate)(u,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,p);T&&Yi(T,p)}else d||p.appendChild(document.createTextNode(f));p.setAttribute("data-value",u instanceof Object?Xe(l.value,u):u),p.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:p}),h.push(p),this.listData.push(u),"None"===this.sortOrder&&v(i)&&0===a&&(a=null),this.updateActionCompleteData(p,u,a),this.trigger("beforeItemRender",{element:p,item:u})}if(0===s&&v(this.list.querySelector("ul")))v(this.list)||(this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.isAddNewItemTemplate=!0,v(this.ulElement)||this.list.appendChild(this.ulElement)),this.liCollections=h,!v(h)&&!v(this.ulElement)&&Yi(h,this.ulElement),this.updateAddItemList(this.list,s);else{"listbox"===this.getModuleName()&&0===s&&(this.ulElement.innerHTML="");var P=[];for(c=0;c<e.length;c++){for(var U=this.ulElement.querySelectorAll(".e-list-group-item"),Y=0;Y<U.length;Y++)P[Y]=U[Y].innerText;if(P.indexOf(h[c].innerText)>-1&&l.groupBy){for(Y=0;Y<U.length;Y++)if(P[Y]===h[c].innerText){this.ulElement.insertBefore(h[c+1],"None"===this.sortOrder?U[Y+1]:this.ulElement.childNodes[i]),c+=1;break}}else this.liCollections[a]?this.liCollections[a].parentNode.insertBefore(h[c],this.liCollections[a]):this.ulElement.appendChild(h[c]);var X=[].slice.call(this.liCollections);X.splice(a,0,h[c]),this.liCollections=X,a+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}"listbox"===this.getModuleName()&&this.isReact&&this.renderReactTemplates(),(o||0===i)&&this.updateSelection(),this.addedNewItem=!0},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],o=0;o<s.length;o++)if(e.getAttribute(s[o])){var a=e.getAttribute(s[o]);i.setAttribute(s[o],a),e.removeAttribute(s[o])}},t.prototype.setZIndex=function(){},t.prototype.updateActionCompleteData=function(e,i,n){},t.prototype.updateAddItemList=function(e,i){},t.prototype.updateDataList=function(){},t.prototype.getDataByValue=function(e){if(!v(this.listData)){var i=this.typeOfData(this.listData).typeof;if("string"===i||"number"===i||"boolean"===i){for(var n=0,s=this.listData;n<s.length;n++)if(!v(o=s[n])&&o===e)return o}else for(var a=0,l=this.listData;a<l.length;a++){var o;if(!v(o=l[a])&&Xe(this.fields.value?this.fields.value:"value",o)===e)return o}}return null},t.prototype.destroy=function(){document.body.contains(this.list)&&($.remove(this.list,"scroll",this.setFloatingHeader),v(this.rippleFun)||this.rippleFun(),Ot(this.list)),this.liCollections=null,this.ulElement=null,this.list=null,this.enableRtlElements=null,this.rippleFun=null,r.prototype.destroy.call(this)},ha([Lt({text:null,value:null,iconCss:null,groupBy:null},MD)],t.prototype,"fields",void 0),ha([O(null)],t.prototype,"itemTemplate",void 0),ha([O(null)],t.prototype,"groupTemplate",void 0),ha([O("No records found")],t.prototype,"noRecordsTemplate",void 0),ha([O("Request failed")],t.prototype,"actionFailureTemplate",void 0),ha([O("None")],t.prototype,"sortOrder",void 0),ha([O([])],t.prototype,"dataSource",void 0),ha([O(null)],t.prototype,"query",void 0),ha([O("StartsWith")],t.prototype,"filterType",void 0),ha([O(!0)],t.prototype,"ignoreCase",void 0),ha([O(1e3)],t.prototype,"zIndex",void 0),ha([O(!1)],t.prototype,"ignoreAccent",void 0),ha([O()],t.prototype,"locale",void 0),ha([Se()],t.prototype,"actionBegin",void 0),ha([Se()],t.prototype,"actionComplete",void 0),ha([Se()],t.prototype,"actionFailure",void 0),ha([Se()],t.prototype,"select",void 0),ha([Se()],t.prototype,"dataBound",void 0),ha([Se()],t.prototype,"created",void 0),ha([Se()],t.prototype,"destroyed",void 0),ha([Jn],t)}(Xr),hwe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),To=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Sn={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:Bt_li,disable:"e-disabled",base:Bt_root,focus:"e-item-focus",content:"e-content",input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden",virtualList:"e-list-item e-virtual-list"},cwe={container:null,buttons:[]},uwe=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.skeletonCount=32,n.isListSearched=!1,n.preventChange=!1,n.isAngular=!1,n.itemCount=10,n.virtualListHeight=0,n.isVirtualScrolling=!1,n.isPreventScrollAction=!1,n.scrollPreStartIndex=0,n.isScrollActionTriggered=!1,n.previousStartIndex=0,n.isMouseScrollAction=!1,n.isKeyBoardAction=!1,n.isUpwardScrolling=!1,n.startIndex=0,n.currentPageNumber=0,n.pageCount=0,n.isPreventKeyAction=!1,n.generatedDataObject={},n.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.selectedValueInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},n}return hwe(t,r),t.prototype.preRender=function(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),r.prototype.preRender.call(this),this.activeIndex=this.index,this.queryString=""},t.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.requiredModules=function(){var e=[];return this.enableVirtualization&&e.push({args:[this],member:"VirtualScroll"}),e},t.prototype.renderList=function(e,i){r.prototype.render.call(this,e,i),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.unWireListEvents(),this.wireListEvents()},t.prototype.floatLabelChange=function(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){var e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?dl(e,["e-label-top"],["e-label-bottom"]):dl(e,["e-label-bottom"],["e-label-top"])}},t.prototype.resetHandler=function(e){e.preventDefault(),this.clearAll(e),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=0)},t.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!v(this.ulElement)){var e=this.ulElement.querySelector("."+Sn.li);this.enableVirtualization&&(e=this.liCollections[this.skeletonCount]),e&&e.classList.add(Sn.focus)}},t.prototype.clearAll=function(e,i){this.previousItemData=v(this.itemData)?null:this.itemData,(v(i)||!v(i)&&(v(i.dataSource)||!(i.dataSource instanceof Ri)&&0===i.dataSource.length))&&(this.isActive=!0,this.resetSelection(i));var n=this.getItemData();this.previousValue!==n.value&&(this.onChangeEvent(e),this.checkAndResetCache(),this.enableVirtualization&&this.updateInitialData())},t.prototype.resetSelection=function(e){this.list&&(v(e)||!v(e.dataSource)&&(e.dataSource instanceof Ri||0!==e.dataSource.length)?(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!v(this.actionCompleteData.ulElement)&&!v(this.actionCompleteData.list)&&this.actionCompleteData.list.length>0&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement()):(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource))),v(this.hiddenElement)||(this.hiddenElement.innerHTML=""),v(this.inputElement)||(this.inputElement.value=""),this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(Ot(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},t.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if("class"===n){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==s&&be([this.inputWrapper.container],s.split(" "))}else if("disabled"===n&&"disabled"===this.htmlAttributes[""+n])this.enabled=!1,this.setEnable();else if("readonly"!==n||v(this.htmlAttributes[""+n]))if("style"===n)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[""+n]);else if("aria-label"===n)"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&this.inputWrapper.container.setAttribute("aria-label",this.htmlAttributes[""+n]):this.inputElement.setAttribute("aria-label",this.htmlAttributes[""+n]);else{var o=["title","id","placeholder","role","autocomplete","autocapitalize","spellcheck","minlength","maxlength"];("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&o.push("tabindex"),["name","required"].indexOf(n)>-1||0===n.indexOf("data")?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):o.indexOf(n)>-1?"placeholder"===n?vi.setPlaceholder(this.htmlAttributes[""+n],this.inputElement):this.inputElement.setAttribute(n,this.htmlAttributes[""+n]):this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}else this.readonly=!0,this.dataBind()}("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&this.inputWrapper.container.removeAttribute("tabindex")},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},t.prototype.setEnableRtl=function(){vi.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){vi.setEnabled(this.enabled,this.inputElement),this.enabled?(Ae([this.inputWrapper.container],Sn.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),be([this.inputWrapper.container],Sn.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"drop-down-list"},t.prototype.preventTabIndex=function(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)},t.prototype.targetElement=function(){return v(this.inputWrapper)?null:this.inputWrapper.container},t.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},t.prototype.getElementByText=function(e){return this.getElementByValue(this.getValueByText(e))},t.prototype.getElementByValue=function(e){for(var i,s=0,o=this.getItems();s<o.length;s++){var a=o[s];if(this.getFormattedValue(a.getAttribute("data-value"))===e){i=a;break}}return i},t.prototype.initValue=function(){this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.renderList(),this.dataSource instanceof Ri?this.initRemoteRender=!0:this.updateValues()},t.prototype.updateValues=function(){if(this.selectedValueInfo=this.viewPortInfo,v(this.value))if(this.text&&v(this.value)){var e=this.getElementByText(this.text);if(v(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onBlurHandler=function(e){if(this.enabled){var i=e.relatedTarget,n=e.target,s=this.isPreventBlur;if(this.isPreventBlur=!1,s&&!this.isDocumentClick&&this.isPopupOpen&&(!v(n)||!this.isFilterLayout()&&v(i)))return void("dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus());if(this.isDocumentClick||!v(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(Sn.mobileFilter))return void(this.beforePopupOpen||(this.isDocumentClick=!1));("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&i!==this.inputElement&&(document.activeElement!==i||document.activeElement===i&&n.classList.contains(Sn.inputFocus))||v(i)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&n!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(i)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1)}},t.prototype.focusOutAction=function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()},t.prototype.onFocusOut=function(){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&be([this.inputWrapper.clearButton],Sn.clearIconHide),this.trigger("blur"))},t.prototype.onFocus=function(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()},t.prototype.resetValueHandler=function(e){var i=Je(this.inputElement,"form");if(i&&e.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=n}},t.prototype.wireEvent=function(){$.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),$.add(this.inputWrapper.container,"focus",this.focusIn,this),$.add(this.inputWrapper.container,"keypress",this.onSearch,this),$.add(window,"resize",this.windowResize,this),this.bindCommonEvent()},t.prototype.bindCommonEvent=function(){$.add(this.targetElement(),"blur",this.onBlurHandler,this);var e=Je(this.inputElement,"form");e&&$.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new Fa(this.targetElement(),Ue.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},t.prototype.windowResize=function(){this.isPopupOpen&&this.popupObj.refreshPosition(this.inputWrapper.container)},t.prototype.bindClearEvent=function(){this.showClearButton&&$.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.unBindCommonEvent=function(){!v(this.inputWrapper)&&this.targetElement()&&$.remove(this.targetElement(),"blur",this.onBlurHandler);var e=this.inputElement&&Je(this.inputElement,"form");e&&$.remove(e,"reset",this.resetValueHandler),Ue.isDevice||this.keyboardModule.destroy(),this.showClearButton&&$.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},t.prototype.updateIconState=function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?be([this.inputWrapper.clearButton],Sn.clearIconHide):Ae([this.inputWrapper.clearButton],Sn.clearIconHide))},t.prototype.wireListEvents=function(){v(this.list)||($.add(this.list,"click",this.onMouseClick,this),$.add(this.list,"mouseover",this.onMouseOver,this),$.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.onSearch=function(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))},t.prototype.onServerIncrementalSearch=function(e){!this.isRequested&&!v(this.list)&&!v(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(e)},t.prototype.onMouseClick=function(e){var i=e.target;this.keyboardEvent=null;var n=Je(i,"."+Bt_li);this.isValidLI(n)&&(this.setSelection(n,e),Ue.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100,e))},t.prototype.onMouseOver=function(e){var i=Je(e.target,"."+Bt_li);this.setHover(i)},t.prototype.setHover=function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),be([e],"e-hover"))},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.removeHover=function(){if(this.list){var e=this.list.querySelectorAll(".e-hover");e&&e.length&&Ae(e,"e-hover")}},t.prototype.isValidLI=function(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")},t.prototype.incrementalSearch=function(e){if(this.liCollections.length>0){var i=function QSe(r,t,e,i,n){var s;if(qf+=String.fromCharCode(r),setTimeout(function(){qf=""},1e3),qf=i?qf.toLowerCase():qf,yk===n&&c5===qf){for(var o=0;o<jv.length;o++)if(jv[o].classList.contains("e-active")){s=o;break}return jv[s+=1]?jv[s]:jv[0]}var a=t,l=qf.length,c=void 0;o=e=e?e+1:0,jv=[];do{o===a.length&&(o=-1),c=a[s=-1===o?0:o],(i?c.innerText.toLowerCase():c.innerText).substr(0,l)===qf&&jv.push(a[s]),o++}while(o!==e);return c5=qf,yk=n,jv[0]}(e.charCode,this.liCollections,this.activeIndex,!0,this.element.id);v(i)||(this.setSelection(i,e),this.setScrollPosition())}},t.prototype.hideSpinner=function(){v(this.spinnerElement)||(Hc(this.spinnerElement),Ae([this.spinnerElement],Sn.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.showSpinner=function(){v(this.spinnerElement)&&(this.spinnerElement=Ue.isDevice&&!v(this.filterInputObj)&&this.filterInputObj.buttons[1]||!v(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],be([this.spinnerElement],Sn.disableIcon),Np({target:this.spinnerElement,width:Ue.isDevice?"16px":"14px"},this.createElement),Xu(this.spinnerElement))},t.prototype.keyActionHandler=function(e){if(this.enabled){this.keyboardEvent=e,this.isPreventKeyAction&&this.enableVirtualization&&e.preventDefault();var i="pageUp"===e.action||"pageDown"===e.action,n="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;var s="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||i||n)||this.isPopupOpen)&&!this.readonly){var o="tab"===e.action||"close"===e.action;if(v(this.list)&&!this.isRequested&&!o&&"escape"!==e.action&&(this.searchKeyEvent=e,this.renderList(e)),v(this.list)||!v(this.liCollections)&&s&&0===this.liCollections.length||this.isRequested)return;switch((o&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!s&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup(e);break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}},t.prototype.updateUpDownAction=function(e,i){var n=this.list.querySelector("."+Sn.focus);if(this.isSelectFocusItem(n)&&!i)this.setSelection(n,e),this.enableVirtualization&&(this.list.scrollTop=(this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop)-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight);else if(!v(this.liCollections)){var a="down"===e.action?this.activeIndex+1:this.activeIndex-1;a=i?this.activeIndex:a;var l=0;"autocomplete"===this.getModuleName()&&(l="down"===e.action&&v(this.activeIndex)?0:this.liCollections.length-1,a=a<0?this.liCollections.length-1:a===this.liCollections.length?0:a);var h=void 0;("autocomplete"!==this.getModuleName()||"autocomplete"===this.getModuleName()&&this.isPopupOpen)&&(this.enableVirtualization?i?h="autocomplete"===this.getModuleName()?this.getElementByValue(this.selectedLI.dataset.value):this.getElementByValue(this.getItemData().value):(h=v(this.activeIndex)?this.liCollections[this.skeletonCount]:this.liCollections[a],h=v(h)||h.classList.contains("e-virtual-list")?null:h):h=v(this.activeIndex)?this.liCollections[l]:this.liCollections[a]),v(h)||this.setSelection(h,e)}e.preventDefault()},t.prototype.updateHomeEndAction=function(e,i){if("dropdownlist"===this.getModuleName()){var n=0;if("home"===e.action?(n=0,this.enableVirtualization&&(n=this.skeletonCount)):n=this.getItems().length-1,e.preventDefault(),this.activeIndex===n)return void(i&&this.setSelection(this.liCollections[n],e));this.setSelection(this.liCollections[n],e)}},t.prototype.selectCurrentValueOnTab=function(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))},t.prototype.mobileKeyActionHandler=function(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0===this.list&&!this.isRequested&&(this.searchKeyEvent=e,this.renderList()),v(this.list)||!v(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}},t.prototype.handleVirtualKeyboardActions=function(e,i){switch(e.action){case"down":case"up":(null!=this.itemData||"autocomplete"===this.getModuleName())&&this.updateUpDownAction(e,!0);break;case"pageUp":this.activeIndex=Math.round(2*i-4),this.pageUpSelection(this.activeIndex-this.getPageCount(),e,!0),e.preventDefault();break;case"pageDown":this.activeIndex=1,this.pageDownSelection(this.activeIndex+this.getPageCount(),e,!0),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e,!0)}this.keyboardEvent=null},t.prototype.selectCurrentItem=function(e){if(this.isPopupOpen){var i=this.list.querySelector("."+Sn.focus);i&&(this.setSelection(i,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(e),this.focusDropDown(e)}else this.showPopup()},t.prototype.isSelectFocusItem=function(e){return!v(e)},t.prototype.getPageCount=function(e){var i=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height"),n=Math.round(this.list.getBoundingClientRect().height/parseInt(i,10));return e?n:Math.round(n)},t.prototype.pageUpSelection=function(e,i,n){var s=e>=0?this.liCollections[e+1]:this.liCollections[0];(this.enableVirtualization&&null==this.activeIndex||n)&&(s=e>=0?this.liCollections[e+this.skeletonCount+1]:this.liCollections[0]),!v(s)&&s.classList.contains("e-virtual-list")&&(s=this.liCollections[this.skeletonCount]),this.PageUpDownSelection(s,i)},t.prototype.PageUpDownSelection=function(e,i){this.enableVirtualization?!v(e)&&("autocomplete"!==this.getModuleName()&&!e.classList.contains("e-active")||"autocomplete"===this.getModuleName()&&!e.classList.contains("e-item-focus"))&&this.setSelection(e,i):this.setSelection(e,i)},t.prototype.pageDownSelection=function(e,i,n){var s=this.getItems(),o=e<=s.length?this.liCollections[e-1]:this.liCollections[s.length-1];(this.enableVirtualization&&null==this.activeIndex||n)&&(o=e<=s.length?this.liCollections[e+this.skeletonCount-1]:this.liCollections[s.length-1]),this.PageUpDownSelection(o,i)},t.prototype.unWireEvent=function(){v(this.inputWrapper)||($.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),$.remove(this.inputWrapper.container,"keypress",this.onSearch),$.remove(this.inputWrapper.container,"focus",this.focusIn),$.remove(window,"resize",this.windowResize)),this.unBindCommonEvent()},t.prototype.unWireListEvents=function(){this.list&&($.remove(this.list,"click",this.onMouseClick),$.remove(this.list,"mouseover",this.onMouseOver),$.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.checkSelector=function(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},t.prototype.onDocumentClick=function(e){var i=e.target;if(!v(this.popupObj)&&Je(i,this.checkSelector(this.popupObj.element.id))||v(this.inputWrapper)||this.inputWrapper.container.contains(e.target))i!==this.inputElement&&(!this.allowFiltering||i!==this.filterInput)&&("combobox"!==this.getModuleName()||this.allowFiltering||!Ue.isDevice||i!==this.inputWrapper.buttons[0])&&(this.isPreventBlur=(Ue.isIE||"edge"===Ue.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(Sn.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var n=this.isRequested;this.isInteracted=!1,this.hidePopup(e),n||(this.onFocusOut(),this.inputWrapper.container.classList.remove(Sn.inputFocus))}},t.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(Sn.inputFocus))},t.prototype.focusDropDown=function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)},t.prototype.dropDownClick=function(e){if(3!==e.which&&2!==e.button&&(this.keyboardEvent=null,!this.targetElement().classList.contains(Sn.disable)&&this.inputWrapper.clearButton!==e.target)){var i=e.target;if(i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&"combobox"!==this.getModuleName()&&e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(e),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup(e));var n=this,s=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(function(){n.cloneElements(),n.isSecondClick=!0},s)}}},t.prototype.cloneElements=function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}},t.prototype.updateSelectedItem=function(e,i,n,s){var o=this;this.removeSelection(),e.classList.add("e-active"),this.removeHover();var a="null"!==e.getAttribute("data-value")?this.getFormattedValue(e.getAttribute("data-value")):null,l=this.getDataByValue(a);if(this.initial||n||v(i))this.selectEventCallback(e,i,n,l,a),s&&this.setSelectOptions(e,i);else{var h=this.detachChanges(l);this.isSelected=!0,this.trigger("select",{e:i,item:e,itemData:h,isInteracted:!!i,cancel:!1},function(u){u.cancel?e.classList.remove("e-active"):(o.selectEventCallback(e,i,n,l,a),s&&o.setSelectOptions(e,i))})}},t.prototype.selectEventCallback=function(e,i,n,s,o){this.previousItemData=v(this.itemData)?null:this.itemData,this.itemData!=s&&(this.previousValue=v(this.itemData)?null:"object"==typeof this.itemData?this.checkFieldValue(this.itemData,this.fields.value.split(".")):this.itemData),this.item=e,this.itemData=s;var a=this.list.querySelector(".e-item-focus");a&&Ae([a],"e-item-focus"),e.setAttribute("aria-selected","true"),v(o)&&(o="null"),this.activeIndex=this.getIndexByValue(o)},t.prototype.activeItem=function(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))},t.prototype.setValue=function(e){var i=this.getItemData();vi.setValue(null===i.value?null:i.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&null!==this.itemData?this.setValueTemplate():!v(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(Ot(this.valueTempElement),this.inputElement.style.display="block");var n=Sn.clearIcon,o=this.isFiltering()&&this.filterInput&&"combobox"===this.getModuleName()&&this.filterInput.parentElement.querySelector("."+n);return this.isFiltering()&&o&&o.style.removeProperty("visibility"),this.previousValue===i.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)},t.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active")))this.updateSelectedItem(e,i,!1,!0);else if(this.setSelectOptions(e,i),this.enableVirtualization){var n=this.fields.value?this.fields.value:"",s=new Ri(this.dataSource).executeLocal((new Vn).where(new ja(n,"equal",this.value)));s&&s.length>0&&(this.itemData=s[0],this.setProperties({text:s[0].text,value:s[0].value},!0))}},t.prototype.setSelectOptions=function(e,i){this.list&&this.removeHover(),this.previousSelectedLI=v(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,!this.setValue(i)&&((!this.isPopupOpen&&!v(e)||this.isPopupOpen&&!v(i)&&("keydown"!==i.type||"keydown"===i.type&&"enter"===i.action))&&(this.isSelectCustom=!1,this.onChangeEvent(i)),this.isPopupOpen&&!v(this.selectedLI)&&null!==this.itemData&&(!i||"click"!==i.type)&&this.setScrollPosition(i),"mozilla"!==Ue.info.name&&this.targetElement()&&(wi(this.targetElement(),{"aria-describedby":""!==this.inputElement.id?this.inputElement.id:this.element.id}),this.targetElement().removeAttribute("aria-live")),!this.isPopupOpen||v(this.ulElement)||v(this.ulElement.getElementsByClassName("e-item-focus")[0])?this.isPopupOpen&&!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-active")[0])&&wi(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}):wi(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}))},t.prototype.dropdownCompiler=function(e){var i=!1;if("function"!=typeof e&&e)try{i=!!document.querySelectorAll(e).length}catch{i=!1}return i},t.prototype.setValueTemplate=function(){this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(Ot(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:Sn.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML="");var i=this.dropdownCompiler(this.valueTemplate),n=wn("function"!=typeof this.valueTemplate&&i?document.querySelector(this.valueTemplate).innerHTML.trim():this.valueTemplate)(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);n&&n.length>0&&Yi(n,this.valueTempElement),this.renderReactTemplates()},t.prototype.removeSelection=function(){if(this.list){var e=this.list.querySelectorAll(".e-active");e.length&&(Ae(e,"e-active"),e[0].removeAttribute("aria-selected"))}},t.prototype.getItemData=function(){var i,n,s,e=this.fields;return v(i=this.itemData)||(n=Xe(e.value,i),s=Xe(e.text,i)),{value:v(i)||Cn(n)?i:n,text:v(i)||Cn(n)?i:s}},t.prototype.onChangeEvent=function(e){var i=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:i.text,value:i.value},!0),this.detachChangeEvent(e)},t.prototype.detachChanges=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e},t.prototype.detachChangeEvent=function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=v(this.text)?"":this.text,!this.initial){var n,i=this.detachChanges(this.itemData);n="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();var s={e,item:this.item,itemData:i,previousItem:this.previousSelectedLI,previousItemData:n,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s)}(v(this.value)||""===this.value)&&"Always"!==this.floatLabelType&&Ae([this.inputWrapper.container],"e-valid-input")},t.prototype.setHiddenValue=function(){if(v(this.value))this.hiddenElement.innerHTML="";else if(this.hiddenElement.querySelector("option"))(e=this.hiddenElement.querySelector("option")).textContent=this.text,e.setAttribute("value",this.value.toString());else if(!v(this.hiddenElement)){var e;this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",(e=this.hiddenElement.querySelector("option")).setAttribute("value",this.value.toString())}},t.prototype.onFilterUp=function(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,"autocomplete"===this.getModuleName()&&!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])&&wi(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}),e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"dropdownlist"!==this.getModuleName()&&(this.preventAutoFill=!0,this.searchLists(e),"autocomplete"===this.getModuleName()&&this.hidePopup())),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e),this.enableVirtualization&&this.getFilteringSkeletonCount()}},t.prototype.getFilteringSkeletonCount=function(){var e=this.dataCount-this.viewPortInfo.endIndex,i=this.skeletonCount;this.getSkeletonCount(!0),this.skeletonCount=this.dataCount>2*this.itemCount||e>this.skeletonCount?this.skeletonCount:e>0?e:0,this.list.classList.contains("e-nodata")||(i!==this.skeletonCount?this.UpdateSkeleton(!0,Math.abs(i-this.skeletonCount)):this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight(),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())},t.prototype.getSkeletonCount=function(e){this.virtualListHeight=null!=this.listHeight?parseInt(this.listHeight,10):this.virtualListHeight;var i=this.virtualListHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;this.skeletonCount=2*i<this.itemCount?this.itemCount:2*i,this.itemCount=e?this.itemCount:this.skeletonCount,this.skeletonCount=Math.floor(this.skeletonCount/2)+2},t.prototype.onFilterDown=function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}},t.prototype.removeFillSelection=function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}},t.prototype.getQuery=function(e){var i;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){i=e?e.clone():this.query?this.query.clone():new Vn;var n=""===this.typedString?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;i.where((this.dataSource instanceof Ri||"string"!==s)&&"number"!==s&&this.fields.text?this.fields.text:"",n,this.typedString,this.ignoreCase,this.ignoreAccent)}else i=e?e.clone():this.query?this.query.clone():new Vn;if(this.enableVirtualization&&0!=this.viewPortInfo.endIndex){var a=this.getTakeValue();this.allowFiltering&&i.skip(this.virtualItemStartIndex),i.take(a),i.requiresCount()}return i},t.prototype.getSelectionPoints=function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.searchLists=function(e){var i=this;if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+Sn.clearIcon)&&(this.filterInput.parentElement.querySelector("."+Sn.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering()){this.checkAndResetCache();var s={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(o,a,l){s.cancel||(i.isCustomFilter=!0,i.filteringAction(o,a,l))},baseEventArgs:e,cancel:!1};this.trigger("filtering",s,function(o){!o.cancel&&!i.isCustomFilter&&!o.preventDefaultAction&&i.filteringAction(i.dataSource,null,i.fields)})}},t.prototype.filter=function(e,i,n){this.isCustomFilter=!0,this.filteringAction(e,i,n)},t.prototype.filteringAction=function(e,i,n){if(!v(this.filterInput)){this.beforePopupOpen=!(!this.isPopupOpen&&"combobox"===this.getModuleName()&&""===this.filterInput.value);var s=this.list.classList.contains("e-nodata");if(""!==this.filterInput.value.trim()||this.itemTemplate)this.isNotSearchList=!1,i=""===this.filterInput.value.trim()?null:i,this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(e,n,i),this.enableVirtualization&&s&&!this.list.classList.contains("e-nodata")&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl"))&&(o=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()}),document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(o));else{if(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!v(this.actionCompleteData.ulElement)&&!v(this.actionCompleteData.list)){if(this.enableVirtualization&&(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(e,n,i),s&&!this.list.classList.contains("e-nodata")&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl")))){var o=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(o)}this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list)}this.isTyped=!0,!v(this.itemData)&&"dropdownlist"===this.getModuleName()&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0}this.enableVirtualization&&this.getFilteringSkeletonCount(),this.renderReactTemplates()}},t.prototype.setSearchBox=function(e){if(this.isFiltering()){var i=e.querySelector("."+Sn.filterParent)?e.querySelector("."+Sn.filterParent):this.createElement("span",{className:Sn.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:Sn.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var n=!1;return Ue.isDevice&&(n=!0),this.filterInputObj=vi.createInput({element:this.filterInput,buttons:n?[Sn.backIcon,Sn.filterBarClearIcon]:[Sn.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),v(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?be([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&be([this.filterInputObj.container],"e-filled")),Yi([this.filterInputObj.container],i),tl([i],e),wi(this.filterInput,{"aria-disabled":"false",role:"combobox",autocomplete:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+Sn.clearIcon),!Ue.isDevice&&this.clearIconElement&&($.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new Fa(this.filterInput,Ue.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),$.add(this.filterInput,"input",this.onInput,this),$.add(this.filterInput,"keyup",this.onFilterUp,this),$.add(this.filterInput,"keydown",this.onFilterDown,this),$.add(this.filterInput,"blur",this.onBlurHandler,this),$.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return cwe},t.prototype.onInput=function(e){this.isValidKey=!0,"combobox"===this.getModuleName()&&this.updateIconState(),Ue.isDevice&&"mozilla"===Ue.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))},t.prototype.pasteHandler=function(e){var i=this;setTimeout(function(){i.typedString=i.filterInput.value,i.searchLists(e)})},t.prototype.onActionFailure=function(e){r.prototype.onActionFailure.call(this,e),this.beforePopupOpen&&this.renderPopup()},t.prototype.UpdateSkeleton=function(e,i){var n=this.list.querySelector(".e-virtual-ddl-content"),s=this.list.querySelector(".e-virtual-list");if(n&&(!s||e)&&this.enableVirtualization)for(var o=e?i:this.skeletonCount,a=0;a<o;a++){var l=this.createElement("li",{className:Sn.virtualList,styles:"overflow: inherit"});this.enableVirtualization&&this.itemTemplate&&(l.style.height=this.listItemHeight+"px");var h=new GSe({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text"});h.appendTo(this.createElement("div")),l.appendChild(h.element),n.firstChild.insertBefore(l,n.firstChild.children[0])}},t.prototype.getTakeValue=function(){return this.allowFiltering&&"dropdownlist"===this.getModuleName()&&Ue.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},t.prototype.onActionComplete=function(e,i,n,s){var o=this;if(this.dataSource instanceof Ri&&!v(n)&&(this.totalItemCount=n.count),!this.isNotSearchList||this.enableVirtualization){var a=this.itemCount;if(this.isActive||!v(e)){var l=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(r.prototype.onActionComplete.call(this,e,i,n),this.skeletonCount=0!=this.totalItemCount&&this.totalItemCount<2*this.itemCount?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering),this.isRequested&&!v(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!v(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.enableVirtualization||(this.list.scrollTop=0),v(e)||wi(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender){if(this.initial=!0,this.activeIndex=this.index,this.initRemoteRender=!1,this.value&&this.dataSource instanceof Ri){var h=v(this.fields.value)?this.fields.text:this.fields.value,c=this.fields.value.split(".");i.some(function(f){return v(f[h])&&c.length>1?o.checkFieldValue(f,c)===o.value:f[h]===o.value})?this.updateValues():this.dataSource.executeQuery(this.getQuery(this.query).where(new ja(h,"equal",this.value))).then(function(f){f.result.length>0&&o.addItem(f.result,i.length),o.updateValues()})}else this.updateValues();this.initial=!1}else"autocomplete"===this.getModuleName()&&this.value&&this.setInputValue();if("autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped)(!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||v(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof Ri||!v(this.dataSource)&&!v(this.dataSource.length)&&0!==this.dataSource.length))&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(function(){o.updateActionCompleteDataValues(e,i)},0):this.updateActionCompleteDataValues(e,i)),this.enableVirtualization||this.addNewItem(i,l),(!v(this.itemData)||v(this.itemData)&&this.enableVirtualization)&&this.focusIndexItem(),this.enableVirtualization&&this.updateActionCompleteDataValues(e,i);else if(this.enableVirtualization&&"autocomplete"!==this.getModuleName()&&!this.isFiltering()){var d=this.getItemData().value;this.activeIndex=this.getIndexByValue(d);var p=this.findListElement(this.list,"li","data-value",d);this.selectedLI=p}else this.enableVirtualization&&"autocomplete"===this.getModuleName()&&(this.activeIndex=this.skeletonCount);this.beforePopupOpen&&(this.renderPopup(n),this.enableVirtualization&&(this.list.querySelector(".e-virtual-list")||(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"))),this.enableVirtualization&&a!=this.itemCount&&this.resetList(this.dataSource,this.fields))}}else this.isNotSearchList=!1},t.prototype.checkFieldValue=function(e,i){var n=e;return i.forEach(function(s){n=n[s]}),n},t.prototype.updateActionCompleteDataValues=function(e,i){this.actionCompleteData={ulElement:e.cloneNode(!0),list:i,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)},t.prototype.addNewItem=function(e,i){var n=this;if(!v(this.itemData)&&!v(i)){var s=this.getItemData().value;e.some(function(a){return("string"==typeof a||"number"==typeof a)&&a===s||Xe(n.fields.value,a)===s})||this.addItem(this.itemData)}},t.prototype.updateActionCompleteData=function(e,i,n){var s=this;"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(function(){s.actionCompleteDataUpdate(e,i,n)},0):this.actionCompleteDataUpdate(e,i,n))},t.prototype.actionCompleteDataUpdate=function(e,i,n){null!==n?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[n]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(i)<0&&this.actionCompleteData.list.push(i)},t.prototype.focusIndexItem=function(){var e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);var i=this.findListElement(this.list,"li","data-value",e);this.selectedLI=i,this.activeItem(i),this.enableVirtualization&&v(i)||this.removeFocus()},t.prototype.updateSelection=function(){var e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+Bt_li).classList.add(Sn.focus))},t.prototype.updateSelectionList=function(){if(!(this.list&&this.list.querySelector(".e-active")||v(this.value))){var i=this.findListElement(this.list,"li","data-value",this.value);i&&i.classList.add("e-active")}},t.prototype.checkAndResetCache=function(){this.enableVirtualization&&(this.generatedDataObject={},this.virtualItemStartIndex=this.virtualItemEndIndex=0,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.selectedValueInfo=null)},t.prototype.removeFocus=function(){var e=this.list.querySelectorAll("."+Sn.focus);e&&e.length&&Ae(e,Sn.focus)},t.prototype.getTransformValues=function(){var e=this.viewPortInfo.startIndex*this.listItemHeight;return e-=this.skeletonCount*this.listItemHeight,"transform: translate(0px, "+(e=0===this.viewPortInfo.startIndex&&this.listData&&0===this.listData.length?0:e)+"px);"},t.prototype.GetVirtualTrackHeight=function(){return"height: "+((this.totalItemCount===this.viewPortInfo.endIndex?this.totalItemCount*this.listItemHeight-this.itemCount*this.listItemHeight:this.totalItemCount*this.listItemHeight)-this.itemCount*this.listItemHeight)+"px;"},t.prototype.renderPopup=function(e){var i=this;this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},function(s){if(s.cancel)i.beforePopupOpen=!1;else{var o=i.createElement("div",{id:i.element.id+"_popup",className:"e-ddl e-popup "+(null!==i.cssClass?i.cssClass:"")}),a=i.setSearchBox(o);if(i.listHeight=si(i.popupHeight),i.headerTemplate&&i.setHeaderTemplate(o),Yi([i.list],o),i.footerTemplate&&i.setFooterTemplate(o),document.body.appendChild(o),i.enableVirtualization&&i.itemTemplate){var l=o.querySelectorAll("li.e-list-item:not(.e-virtual-list)");i.listItemHeight=l.length>0?Math.ceil(l[0].getBoundingClientRect().height):0}if(i.enableVirtualization&&!i.list.classList.contains("e-nodata"))if(i.list.querySelector(".e-virtual-ddl-content")?i.list.getElementsByClassName("e-virtual-ddl-content")[0].style=i.getTransformValues():i.list.appendChild(i.createElement("div",{className:"e-virtual-ddl-content",styles:i.getTransformValues()})).appendChild(i.list.querySelector(".e-list-parent")),i.UpdateSkeleton(),i.liCollections=i.list.querySelectorAll("."+Bt_li),i.virtualItemCount=i.itemCount,i.list.querySelector(".e-virtual-ddl"))i.list.getElementsByClassName("e-virtual-ddl")[0].style=i.GetVirtualTrackHeight();else{var h=i.createElement("div",{id:i.element.id+"_popup",className:"e-virtual-ddl",styles:i.GetVirtualTrackHeight()});o.querySelector(".e-dropdownbase").appendChild(h)}if(o.style.visibility="hidden","auto"!==i.popupHeight){if(i.searchBoxHeight=0,!v(a.container)&&"combobox"!==i.getModuleName()&&"autocomplete"!==i.getModuleName()&&(i.searchBoxHeight=a.container.parentElement.getBoundingClientRect().height,i.listHeight=(parseInt(i.listHeight,10)-i.searchBoxHeight).toString()+"px"),i.headerTemplate){i.header=i.header?i.header:o.querySelector(".e-ddl-header");var c=Math.round(i.header.getBoundingClientRect().height);i.listHeight=(parseInt(i.listHeight,10)-(c+i.searchBoxHeight)).toString()+"px"}i.footerTemplate&&(i.footer=i.footer?i.footer:o.querySelector(".e-ddl-footer"),c=Math.round(i.footer.getBoundingClientRect().height),i.listHeight=(parseInt(i.listHeight,10)-(c+i.searchBoxHeight)).toString()+"px"),i.list.style.maxHeight=(parseInt(i.listHeight,10)-2).toString()+"px",o.style.maxHeight=si(i.popupHeight)}else o.style.height="auto";var u=0,d=void 0;if(i.isPreventScrollAction=!0,!v(i.selectedLI)&&!v(i.activeIndex)&&i.activeIndex>=0||i.enableVirtualization?i.setScrollPosition():i.list.scrollTop=0,Ue.isDevice&&!i.allowFiltering&&("dropdownlist"===i.getModuleName()||i.isDropDownClick&&"combobox"===i.getModuleName())){u=i.getOffsetValue(o);var p=i.isEmptyList()?i.list:i.liCollections[0];v(i.inputElement)||(d=-(parseInt(getComputedStyle(p).textIndent,10)-parseInt(getComputedStyle(i.inputElement).paddingLeft,10)+parseInt(getComputedStyle(i.inputElement.parentElement).borderLeftWidth,10)))}i.getFocusElement(),i.createPopup(o,u,d),i.popupContentElement=i.popupObj.element.querySelector(".e-content"),i.checkCollision(o),Ue.isDevice&&(i.popupObj.element.classList.add(Sn.device),("dropdownlist"===i.getModuleName()||"combobox"===i.getModuleName()&&!i.allowFiltering&&i.isDropDownClick)&&(i.popupObj.collision={X:"fit",Y:"fit"}),i.isFilterLayout()&&(i.popupObj.element.classList.add(Sn.mobileFilter),i.popupObj.position={X:0,Y:0},i.popupObj.dataBind(),wi(i.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),be([document.body,i.popupObj.element],Sn.popupFullScreen),i.setSearchBoxPosition(),i.backIconElement=a.container.querySelector(".e-back-icon"),i.clearIconElement=a.container.querySelector("."+Sn.clearIcon),$.add(i.backIconElement,"click",i.clickOnBackIcon,i),$.add(i.clearIconElement,"click",i.clearText,i))),o.style.visibility="visible",be([o],"e-popup-close");for(var m=0,M=i.popupObj.getScrollableParent(i.inputWrapper.container);m<M.length;m++)$.add(M[m],"scroll",i.scrollHandler,i);v(i.list)||(i.unWireListEvents(),i.wireListEvents()),i.selectedElementID=i.selectedLI?i.selectedLI.id:null,i.enableVirtualization&&(i.notify("bindScrollEvent",{module:"VirtualScroll",component:i.getModuleName(),enable:i.enableVirtualization}),setTimeout(function(){i.value&&(i.updateSelectionList(),i.selectedValueInfo&&i.viewPortInfo&&i.viewPortInfo.offsets.top?i.list.scrollTop=i.viewPortInfo.offsets.top:i.scrollBottom(!0,!0))},5)),wi(i.targetElement(),{"aria-expanded":"true","aria-owns":i.element.id+"_options"}),i.inputElement.setAttribute("aria-expanded","true"),be([i.isFiltering()?i.filterInput.parentElement:i.inputWrapper.container],[Sn.inputFocus]),i.beforePopupOpen=!0,i.trigger("open",{popup:i.popupObj,event:e,cancel:!1,animation:{name:"FadeIn",duration:100}},function(Q){Q.cancel?(i.beforePopupOpen=!1,i.destroyPopup()):(v(i.inputWrapper)||be([i.inputWrapper.container],[Sn.iconAnimation]),i.renderReactTemplates(),v(i.popupObj)||i.popupObj.show(new Ro(Q.animation),1e3===i.zIndex?i.element:null))})}})},t.prototype.checkCollision=function(e){(!Ue.isDevice||Ue.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(Rf(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())},t.prototype.getOffsetValue=function(e){var i=getComputedStyle(e),n=parseInt(i.borderTopWidth,10),s=parseInt(i.borderBottomWidth,10);return this.setPopupPosition(n+s)},t.prototype.createPopup=function(e,i,n){var s=this;this.popupObj=new Yu(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.enableRtl,offsetX:n,position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){s.isDocumentClick||s.focusDropDown(),s.isReact&&s.clearTemplate(["headerTemplate","footerTemplate"]),s.isNotSearchList=!1,s.isDocumentClick=!1,s.destroyPopup(),s.isFiltering()&&s.actionCompleteData.list&&s.actionCompleteData.list[0]&&(s.isActive=!0,s.onActionComplete(s.actionCompleteData.ulElement,s.actionCompleteData.list,null,!0))},open:function(){$.add(document,"mousedown",s.onDocumentClick,s),s.isPopupOpen=!0;var o=s.actionCompleteData&&s.actionCompleteData.ulElement&&s.actionCompleteData.ulElement.querySelector("li"),a=s.list.querySelector("ul li");v(s.ulElement)||v(s.ulElement.getElementsByClassName("e-item-focus")[0])?!v(s.ulElement)&&!v(s.ulElement.getElementsByClassName("e-active")[0])&&wi(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-active")[0].id}):wi(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-item-focus")[0].id}),s.isFiltering()&&s.itemTemplate&&s.element.tagName===s.getNgDirective()&&o&&a&&o.textContent!==a.textContent&&"EJS-COMBOBOX"!==s.element.tagName&&s.cloneElements(),s.isFilterLayout()&&(Ae([s.inputWrapper.container],[Sn.inputFocus]),s.isFilterFocus=!0,s.filterInput.focus(),s.inputWrapper.clearButton&&be([s.inputWrapper.clearButton],Sn.clearIconHide)),s.activeStateChange()},targetExitViewport:function(){Ue.isDevice||s.hidePopup()}})},t.prototype.isEmptyList=function(){return!v(this.liCollections)&&0===this.liCollections.length},t.prototype.getFocusElement=function(){},t.prototype.isFilterLayout=function(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering},t.prototype.scrollHandler=function(){Ue.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()},t.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var i=this.filterInput.parentElement.querySelector("."+Sn.clearIcon);Ot(this.filterInput),i.parentElement.insertBefore(this.filterInput,i)},t.prototype.setPopupPosition=function(e){var i,n=e,s=this.list.querySelector("."+Sn.focus)||this.selectedLI,o=this.isEmptyList()?this.list:this.liCollections[0],a=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=o.getBoundingClientRect().height;this.listItemHeight=l;var h=this.list.offsetHeight/2,c=v(s)?o.offsetTop:s.offsetTop;if(a.offsetTop-h<c&&!v(this.liCollections)&&this.liCollections.length>0&&!v(s)){var d=this.list.offsetHeight/l,p=parseInt(getComputedStyle(this.list).paddingBottom,10);i=(d-(this.liCollections.length-this.activeIndex))*l-n+p,this.list.scrollTop=s.offsetTop}else c>h&&!this.enableVirtualization?(i=h-l/2,this.list.scrollTop=c-h+l/2):i=c;return-(i=i+l+n-(l-this.inputWrapper.container.offsetHeight)/2)},t.prototype.setWidth=function(){var e=si(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),Ue.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){var n=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(n).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.scrollBottom=function(e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=null),v(this.selectedLI)&&this.enableVirtualization&&(this.selectedLI=this.list.querySelector("."+Bt_li),!v(this.selectedLI)&&this.selectedLI.classList.contains("e-virtual-list")&&(this.selectedLI=this.liCollections[this.skeletonCount])),!v(this.selectedLI)){this.isUpwardScrolling=!1;var s=this.list.querySelectorAll(".e-virtual-list").length,o=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,a=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,l=this.list.offsetHeight,h=a-s*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,c=this.list.scrollTop+h-l,u=!1;c=e?c+2*parseInt(getComputedStyle(this.list).paddingTop,10):c+parseInt(getComputedStyle(this.list).paddingTop,10);var d=a-s*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop;if(d=this.fields.groupBy&&!v(this.fixedHeaderElement)?d-this.fixedHeaderElement.offsetHeight:d,0!==this.activeIndex||this.enableVirtualization){if(h>l||!(d>0&&this.list.offsetHeight>d)){var p=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,f="pageDown"==n?this.getPageCount()-2:1;!this.enableVirtualization||this.isKeyBoardAction||i?this.isKeyBoardAction&&this.enableVirtualization&&o&&p===o&&"end"!=n&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.list.scrollTop+=this.enableVirtualization&&this.itemTemplate?c:this.selectedLI.offsetHeight*f,this.isPreventKeyAction=!this.IsScrollerAtEnd()&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"end"==n?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):("pageDown"==n&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,c+=this.selectedLI.offsetHeight*f),this.list.scrollTop=c):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight:0,u=this.isKeyBoardAction}}else this.list.scrollTop=0,u=this.isKeyBoardAction;this.isKeyBoardAction=u}},t.prototype.scrollTop=function(e){if(void 0===e&&(e=null),!v(this.selectedLI)){var i=this.list.querySelectorAll(".e-virtual-list").length,n=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,s=n-i*this.selectedLI.offsetHeight-this.list.scrollTop,o=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;s=this.fields.groupBy&&!v(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s;var a=n-i*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,l=this.enableVirtualization&&"autocomplete"===this.getModuleName()&&s<=0;if(0!==this.activeIndex||this.enableVirtualization)if(s<0||l){var h=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,c="pageUp"==e?this.getPageCount()-2:1;this.enableVirtualization&&this.isKeyBoardAction&&o&&h===o&&"home"!=e&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.list.scrollTop-=this.selectedLI.offsetHeight*c,this.isPreventKeyAction=0!=this.list.scrollTop&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"home"==e?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):("pageUp"==e&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,s-=this.selectedLI.offsetHeight*c),this.list.scrollTop=this.list.scrollTop+s)}else a>0&&this.list.offsetHeight>a||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!v(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0));else this.list.scrollTop=0}},t.prototype.isEditTextBox=function(){return!1},t.prototype.isFiltering=function(){return this.allowFiltering},t.prototype.isPopupButton=function(){return!0},t.prototype.setScrollPosition=function(e){if(this.isPreventScrollAction=!0,v(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,e.action);break;default:this.isKeyBoardAction="up"==e.action||"pageUp"==e.action||"open"==e.action,this.scrollTop(e.action)}this.isKeyBoardAction=!1},t.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null),this.enableVirtualization&&(this.list.scrollTop=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()))},t.prototype.setEleWidth=function(e){v(e)||("number"==typeof e?this.inputWrapper.container.style.width=si(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:si(e)))},t.prototype.closePopup=function(e,i){var n=this,s=!v(this.filterInput)&&!v(this.filterInput.value)&&""!==this.filterInput.value;if(this.getModuleName(),this.isTyped=!1,this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen){this.keyboardEvent=null,$.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var l=0,h=this.popupObj.getScrollableParent(this.inputWrapper.container);l<h.length;l++)$.remove(h[l],"scroll",this.scrollHandler);Ue.isDevice&&this.isFilterLayout()&&Ae([document.body,this.popupObj.element],Sn.popupFullScreen),this.isFilterLayout()&&(Ue.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&$.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&($.remove(this.backIconElement,"click",this.clickOnBackIcon),$.remove(this.clearIconElement,"click",this.clearText)),v(this.filterInput)||($.remove(this.filterInput,"input",this.onInput),$.remove(this.filterInput,"keyup",this.onFilterUp),$.remove(this.filterInput,"keydown",this.onFilterDown),$.remove(this.filterInput,"blur",this.onBlurHandler),$.remove(this.filterInput,"paste",this.pasteHandler)),this.filterInput=null),wi(this.targetElement(),{"aria-expanded":"false"}),this.inputElement.setAttribute("aria-expanded","false"),this.targetElement().removeAttribute("aria-owns"),this.targetElement().removeAttribute("aria-activedescendant"),this.inputWrapper.container.classList.remove(Sn.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.enableVirtualization&&(null==this.value||this.isTyped?(this.viewPortInfo.endIndex=this.viewPortInfo&&this.viewPortInfo.endIndex>0?this.viewPortInfo.endIndex:this.itemCount,("autocomplete"===this.getModuleName()||"dropdownlist"===this.getModuleName()&&!v(this.typedString)&&""!=this.typedString||"combobox"===this.getModuleName()&&this.allowFiltering&&!v(this.typedString)&&""!=this.typedString)&&this.checkAndResetCache()):"autocomplete"===this.getModuleName()&&this.checkAndResetCache(),("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName())&&0!=this.skeletonCount&&this.getSkeletonCount(!0)),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0},event:i||null},function(m){if(!v(n.popupObj)&&!v(n.popupObj.element.querySelector(".e-fixed-head"))){var M=n.popupObj.element.querySelector(".e-fixed-head");M.parentNode.removeChild(M),n.fixedHeaderElement=null}m.cancel||("autocomplete"===n.getModuleName()&&n.rippleFun(),n.isPopupOpen?n.popupObj.hide(new Ro(m.animation)):n.destroyPopup())}),this.isReact&&this.isFiltering()&&null!=this.itemTemplate&&(this.actionCompleteData.ulElement=this.ulElement.cloneNode(!0));var f=this.dataSource&&this.dataSource.length?this.dataSource.length:0;this.enableVirtualization&&this.isFiltering()&&null!=this.value&&s&&this.totalItemCount!==f&&(this.updateInitialData(),this.checkAndResetCache())}},t.prototype.updateInitialData=function(){var e=this.selectData,i=this.renderItems(e,this.fields);this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},"combobox"===this.getModuleName()&&(this.typedString=""),this.previousStartIndex=0,this.previousEndIndex=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.listData=e,this.updateActionCompleteDataValues(i,e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())},t.prototype.destroyPopup=function(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj&&(this.popupObj.destroy(),Ot(this.popupObj.element))},t.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},t.prototype.render=function(){"INPUT"===this.element.tagName?(this.inputElement=this.element,v(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","combobox"),v(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text"),this.inputElement.setAttribute("aria-expanded","false")):(this.inputElement=this.createElement("input",{attrs:{role:"combobox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;!v(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),!v(Je(this.element,"fieldset"))&&Je(this.element,"fieldset").disabled&&(this.enabled=!1),this.inputWrapper=vi.createInput({element:this.inputElement,buttons:this.isPopupButton()?[Sn.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true","aria-label":this.getModuleName(),tabindex:"-1",class:Sn.hiddenElement}}),tl([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=si(this.width),this.inputWrapper.container.classList.add("e-ddl"),"Auto"===this.floatLabelType&&vi.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var i=this.element.getAttribute("id")?this.element.getAttribute("id"):Or("ej2_dropdownlist");if(this.element.id=i,this.hiddenElement.id=i+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&wi(this.targetElement(),{"aria-label":this.getModuleName()}):this.inputElement.setAttribute("aria-label",this.getModuleName()),wi(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),this.targetElement()===this.inputElement&&this.inputElement.removeAttribute("aria-labelledby"),null!==this.value||null!==this.activeIndex||null!==this.text)this.enableVirtualization&&(this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.updateVirtualizationProperties(this.itemCount,this.allowFiltering)),this.initValue(),this.selectedValueInfo=this.viewPortInfo,this.enableVirtualization&&(this.activeIndex=this.activeIndex+this.skeletonCount);else if("SELECT"===this.element.tagName&&this.element.options[0]){var n=this.element;this.value=n.options[n.selectedIndex].value,this.text=v(this.value)?null:n.options[n.selectedIndex].textContent,this.initValue()}this.setEnabled(),this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(o){o.stopImmediatePropagation()},this.inputElement.onchange=function(o){o.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),v(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false");var s=this.inputWrapper.container.getElementsByClassName("e-float-text")[0];!v(this.element.id)&&""!==this.element.id&&!v(s)&&(s.id="label_"+this.element.id.replace(/ /g,"_"),wi(this.inputElement,{"aria-labelledby":s.id})),this.renderComplete(),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount},t.prototype.getListHeight=function(){var e=this.createElement("div",{className:"e-dropdownbase"}),i=this.createElement("li",{className:"e-list-item"}),n=si(this.popupHeight);e.style.height=parseInt(n,10).toString()+"px",e.appendChild(i),document.body.appendChild(e),this.virtualListHeight=e.getBoundingClientRect().height;var s=Math.ceil(i.getBoundingClientRect().height);return e.remove(),s},t.prototype.setFooterTemplate=function(e){this.footer?this.isReact&&"function"==typeof this.footerTemplate?this.clearTemplate(["footerTemplate"]):this.footer.innerHTML="":(this.footer=this.createElement("div"),be([this.footer],Sn.footer));var n=this.dropdownCompiler(this.footerTemplate),s=wn("function"!=typeof this.footerTemplate&&n?Ge(this.footerTemplate,document).innerHTML.trim():this.footerTemplate)({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);s&&s.length>0&&Yi(s,this.footer),Yi([this.footer],e)},t.prototype.setHeaderTemplate=function(e){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),be([this.header],Sn.header));var n=this.dropdownCompiler(this.headerTemplate),s=wn("function"!=typeof this.headerTemplate&&n?Ge(this.headerTemplate,document).innerHTML.trim():this.headerTemplate)({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);s&&s.length&&Yi(s,this.header);var o=e.querySelector("div.e-content");e.insertBefore(this.header,o)},t.prototype.setEnabled=function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")},t.prototype.setOldText=function(e){this.text=e},t.prototype.setOldValue=function(e){this.value=e},t.prototype.refreshPopup=function(){!v(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&(!Ue.isDevice||!this.isFilterLayout())||"autocomplete"===this.getModuleName())&&(Ae([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},t.prototype.checkData=function(e){e.dataSource&&!v(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&e.dataSource instanceof Ri)&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var i=-1!==Object.keys(e).indexOf("value")&&v(e.value),n=-1!==Object.keys(e).indexOf("text")&&v(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(i||n)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!v(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData,this.itemData=null):this.allowFiltering&&e.query&&!v(Object.keys(e.query))&&(this.actionCompleteData="combobox"===this.getModuleName()?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)},t.prototype.updateDataSource=function(e){(""!==this.inputElement.value||!v(e)&&(v(e.dataSource)||!(e.dataSource instanceof Ri)&&0===e.dataSource.length))&&this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&this.list&&($.remove(this.list,"scroll",this.setFloatingHeader),$.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!v(e)&&(v(e.dataSource)||!(e.dataSource instanceof Ri)&&0===e.dataSource.length))||e.dataSource!==[])&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.setProperties({text:e.text,value:e.value})},t.prototype.updateInputFields=function(){"dropdownlist"===this.getModuleName()&&vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onPropertyChanged=function(e,i){var n=this;"dropdownlist"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(var s=function(c){switch(c){case"query":case"dataSource":o.getSkeletonCount(),o.checkAndResetCache();break;case"htmlAttributes":o.setHTMLAttributes();break;case"width":o.setEleWidth(e.width),vi.calculateWidth(o.inputElement,o.inputWrapper.container);break;case"placeholder":vi.setPlaceholder(e.placeholder,o.inputElement);break;case"filterBarPlaceholder":o.filterInput&&vi.setPlaceholder(e.filterBarPlaceholder,o.filterInput);break;case"readonly":"dropdownlist"!==o.getModuleName()&&vi.setReadonly(e.readonly,o.inputElement),o.setReadOnly();break;case"cssClass":o.setCssClass(e.cssClass,i.cssClass),vi.calculateWidth(o.inputElement,o.inputWrapper.container);break;case"enableRtl":o.setEnableRtl();break;case"enabled":o.setEnable();break;case"text":if(null===e.text){o.clearAll();break}if(o.list||(o.dataSource instanceof Ri&&(o.initRemoteRender=!0),o.renderList()),!o.initRemoteRender){var u=o.getElementByText(e.text);if(!o.checkValidLi(u))if(o.liCollections&&100===o.liCollections.length&&"autocomplete"===o.getModuleName()&&o.listData.length>100)o.setSelectionData(e.text,i.text,"text");else if(e.text&&o.dataSource instanceof Ri){var d=o.getItems().length,p=v(o.fields.text)?o.fields.value:o.fields.text;o.typedString="",o.dataSource.executeQuery(o.getQuery(o.query).where(new ja(p,"equal",e.text))).then(function(P){P.result.length>0?(n.addItem(P.result,d),n.updateValues()):n.setOldText(i.text)})}else"autocomplete"===o.getModuleName()?o.setInputValue(e,i):o.setOldText(i.text);o.updateInputFields()}break;case"value":if(null===e.value){o.clearAll();break}if(o.notify("beforeValueChange",{newProp:e}),o.list||(o.dataSource instanceof Ri&&(o.initRemoteRender=!0),o.renderList()),!o.initRemoteRender){var f=o.getElementByValue(e.value);if(!o.checkValidLi(f))if(o.liCollections&&100===o.liCollections.length&&"autocomplete"===o.getModuleName()&&o.listData.length>100)o.setSelectionData(e.value,i.value,"value");else if(e.value&&o.dataSource instanceof Ri){var m=o.getItems().length;p=v(o.fields.value)?o.fields.text:o.fields.value,o.typedString="",o.dataSource.executeQuery(o.getQuery(o.query).where(new ja(p,"equal",e.value))).then(function(U){U.result.length>0?(n.addItem(U.result,m),n.updateValues()):n.setOldValue(i.value)})}else"autocomplete"===o.getModuleName()?o.setInputValue(e,i):o.setOldValue(i.value);o.updateInputFields(),o.preventChange=o.isAngular&&o.preventChange?!o.preventChange:o.preventChange}break;case"index":if(null===e.index){o.clearAll();break}o.list||(o.dataSource instanceof Ri&&(o.initRemoteRender=!0),o.renderList()),!o.initRemoteRender&&o.liCollections&&(o.checkValidLi(o.liCollections[e.index])||(o.liCollections&&100===o.liCollections.length&&"autocomplete"===o.getModuleName()&&o.listData.length>100?o.setSelectionData(e.index,i.index,"index"):o.index=i.index),o.updateInputFields());break;case"footerTemplate":o.popupObj&&o.setFooterTemplate(o.popupObj.element);break;case"headerTemplate":o.popupObj&&o.setHeaderTemplate(o.popupObj.element);break;case"valueTemplate":!v(o.itemData)&&null!==o.valueTemplate&&o.setValueTemplate();break;case"allowFiltering":o.allowFiltering&&(o.actionCompleteData={ulElement:o.ulElement,list:o.listData,isUpdated:!0},o.actionData=o.actionCompleteData,o.updateSelectElementData(o.allowFiltering));break;case"floatLabelType":vi.removeFloating(o.inputWrapper),vi.addFloating(o.inputElement,e.floatLabelType,o.placeholder,o.createElement),!v(o.inputWrapper.buttons[0])&&o.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0]&&"Never"!==o.floatLabelType&&o.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"showClearButton":o.inputWrapper.clearButton||(vi.setClearButton(e.showClearButton,o.inputElement,o.inputWrapper,null,o.createElement),o.bindClearEvent());break;default:var T=o.getPropObject(c,e,i);r.prototype.onPropertyChanged.call(o,T.newProperty,T.oldProperty)}},o=this,a=0,l=Object.keys(e);a<l.length;a++)s(l[a])},t.prototype.checkValidLi=function(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)},t.prototype.setSelectionData=function(e,i,n){var o,s=this;this.updateListValues=function(){"text"===n?(o=s.getElementByText(e),s.checkValidLi(o)||s.setOldText(i)):"value"===n?(o=s.getElementByValue(e),s.checkValidLi(o)||s.setOldValue(i)):"index"===n&&(s.checkValidLi(o=s.liCollections[e])||(s.index=i))}},t.prototype.setReadOnly=function(){this.readonly?be([this.inputWrapper.container],["e-readonly"]):Ae([this.inputWrapper.container],["e-readonly"])},t.prototype.setInputValue=function(e,i){},t.prototype.setCssClass=function(e,i){v(i)||(i=i.replace(/\s+/g," ").trim()),v(e)||(e=e.replace(/\s+/g," ").trim()),vi.setCssClass(e,[this.inputWrapper.container],i),this.popupObj&&vi.setCssClass(e,[this.popupObj.element],i)},t.prototype.getModuleName=function(){return"dropdownlist"},t.prototype.showPopup=function(e){if(this.enabled){if(this.isReact&&"combobox"===this.getModuleName()&&this.itemTemplate&&this.isCustomFilter&&this.isAddNewItemTemplate&&(this.renderList(),this.isAddNewItemTemplate=!1),this.isFiltering()&&this.dataSource instanceof Ri&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(v(this.list)||!Cn(this.list)&&(this.list.classList.contains("e-nodata")||this.list.querySelectorAll("."+Bt_li).length<=0))&&this.renderList(e),this.enableVirtualization&&this.listData&&this.listData.length&&(!v(this.value)&&("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName())&&this.removeHover(),this.beforePopupOpen||this.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),this.invokeRenderPopup(e),this.enableVirtualization&&!this.allowFiltering&&null!=this.selectedValueInfo&&this.selectedValueInfo.startIndex>0&&null!=this.value&&this.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0})}},t.prototype.invokeRenderPopup=function(e){if(Ue.isDevice&&this.isFilterLayout()){var i=this;window.onpopstate=function(){i.hidePopup()},history.pushState({},"")}!v(this.list)&&(!v(this.list.children[0])||this.list.classList.contains("e-nodata"))&&this.renderPopup(e)},t.prototype.renderHightSearch=function(){},t.prototype.hidePopup=function(e){if(this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(v(this.inputElement)||vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,v(this.index))this.resetSelection();else{var i=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||i,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup(0,e);var n=this.getItemData(),s=!v(this.selectedLI);this.inputElement&&""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||s&&this.inputElement.value!==n.text)&&(this.isSelectCustom=!1,this.clearAll(e))},t.prototype.focusIn=function(e){if(this.enabled&&!this.targetElement().classList.contains(Sn.disable)){var i=!1;this.preventFocus&&Ue.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,i=!0),i||this.targetElement().focus(),be([this.inputWrapper.container],[Sn.inputFocus]),this.onFocus(e),"Auto"===this.floatLabelType&&vi.calculateWidth(this.inputElement,this.inputWrapper.container)}},t.prototype.focusOut=function(e){this.enabled&&(!this.enableVirtualization&&"combobox"===this.getModuleName()&&(this.isTyped=!0),this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),Ae([this.inputWrapper.container],[Sn.inputFocus]),"Auto"===this.floatLabelType&&""===this.inputElement.value&&vi.calculateWidth(this.inputElement,this.inputWrapper.container))},t.prototype.destroy=function(){if(this.isActive=!1,function qSe(r){yk===r&&(yk="",c5="",qf="",jv=[])}(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.unWireEvent(),this.list&&this.unWireListEvents(),!this.element||this.element.classList.contains("e-"+this.getModuleName())){if(this.inputElement){for(var e=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],i=0;i<e.length;i++)this.inputElement.removeAttribute(e[i]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),vi.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),Ot(this.inputWrapper.container),this.hiddenElement=null,this.inputWrapper=null,this.keyboardModule=null,this.ulElement=null,this.list=null,this.popupObj=null,this.popupContentElement=null,this.rippleFun=null,this.selectedLI=null,this.liCollections=null,this.item=null,this.inputWrapper=null,this.footer=null,this.header=null,this.previousSelectedLI=null,this.valueTempElement=null,this.actionData.ulElement=null,this.inputElement&&!v(this.inputElement.onchange)&&(this.inputElement.onchange=null),this.isAngular&&(this.inputElement=null),r.prototype.destroy.call(this)}},t.prototype.getItems=function(){return this.list||(this.dataSource instanceof Ri&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?r.prototype.getItems.call(this):[]},t.prototype.getDataByValue=function(e){return r.prototype.getDataByValue.call(this,e)},t.prototype.clear=function(){this.value=null},To([O(null)],t.prototype,"cssClass",void 0),To([O("100%")],t.prototype,"width",void 0),To([O(!0)],t.prototype,"enabled",void 0),To([O(!1)],t.prototype,"enablePersistence",void 0),To([O("300px")],t.prototype,"popupHeight",void 0),To([O("100%")],t.prototype,"popupWidth",void 0),To([O(null)],t.prototype,"placeholder",void 0),To([O(null)],t.prototype,"filterBarPlaceholder",void 0),To([O({})],t.prototype,"htmlAttributes",void 0),To([O(null)],t.prototype,"query",void 0),To([O(null)],t.prototype,"valueTemplate",void 0),To([O(null)],t.prototype,"headerTemplate",void 0),To([O(null)],t.prototype,"footerTemplate",void 0),To([O(!1)],t.prototype,"allowFiltering",void 0),To([O(!1)],t.prototype,"readonly",void 0),To([O(!1)],t.prototype,"enableVirtualization",void 0),To([O(null)],t.prototype,"text",void 0),To([O(null)],t.prototype,"value",void 0),To([O(null)],t.prototype,"index",void 0),To([O("Never")],t.prototype,"floatLabelType",void 0),To([O(!1)],t.prototype,"showClearButton",void 0),To([Se()],t.prototype,"filtering",void 0),To([Se()],t.prototype,"change",void 0),To([Se()],t.prototype,"beforeOpen",void 0),To([Se()],t.prototype,"open",void 0),To([Se()],t.prototype,"close",void 0),To([Se()],t.prototype,"blur",void 0),To([Se()],t.prototype,"focus",void 0),To([Jn],t)}(bk),Awe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_a=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},e$="e-atc-spinner-icon";Sn.root="e-combobox";var Owe={container:null,buttons:[]},eI=function(r){function t(e,i){return r.call(this,e,i)||this}return Awe(t,r),t.prototype.preRender=function(){r.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"combo-box"},t.prototype.wireEvent=function(){"combobox"===this.getModuleName()&&($.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),$.add(this.inputWrapper.container,"blur",this.onBlurHandler,this)),v(this.inputWrapper.buttons[0])||$.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),$.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||($.add(this.inputElement,"input",this.onInput,this),$.add(this.inputElement,"keyup",this.onFilterUp,this),$.add(this.inputElement,"keydown",this.onFilterDown,this),$.add(this.inputElement,"paste",this.pasteHandler,this),$.add(window,"resize",this.windowResize,this)),this.bindCommonEvent()},t.prototype.preventBlur=function(e){(!this.allowFiltering&&document.activeElement!==this.inputElement&&!document.activeElement.classList.contains(Sn.input)&&Ue.isDevice||!Ue.isDevice)&&e.preventDefault()},t.prototype.onBlurHandler=function(e){var i=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;!v(this.listData)&&!v(i)&&i!==this.text&&this.customValue(e),r.prototype.onBlurHandler.call(this,e)},t.prototype.targetElement=function(){return this.inputElement},t.prototype.setOldText=function(e){vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()},t.prototype.setOldValue=function(e){this.valueMuteChange(this.allowCustom?this.value:null),this.removeSelection(),this.setHiddenValue()},t.prototype.valueMuteChange=function(e){var i=v(e)?null:e.toString();vi.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;var n=this.fields,s={};s[n.text]=v(e)?null:e.toString(),s[n.value]=v(e)?null:e.toString(),this.itemData=s,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)},t.prototype.updateValues=function(){if(v(this.value))if(this.text&&v(this.value)){var e;(e=this.getElementByText(this.text))?this.setSelection(e,null):(vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else(e=this.getElementByValue(this.value))?this.setSelection(e,null):this.valueMuteChange(this.allowCustom?this.value:null);this.setHiddenValue(),vi.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.updateIconState=function(){this.showClearButton&&(this.inputElement&&""!==this.inputElement.value&&!this.readonly?Ae([this.inputWrapper.clearButton],Sn.clearIconHide):be([this.inputWrapper.clearButton],Sn.clearIconHide))},t.prototype.getAriaAttributes=function(){return{role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocapitalize:"off",spellcheck:"false"}},t.prototype.searchLists=function(e){this.isTyped=!0,this.isFiltering()?(r.prototype.searchLists.call(this,e),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+Sn.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+Sn.li)),this.incrementalSearch(e))},t.prototype.getNgDirective=function(){return"EJS-COMBOBOX"},t.prototype.setSearchBox=function(){return this.filterInput=this.inputElement,this.isFiltering()||this.isReact&&"combobox"===this.getModuleName()?this.inputWrapper:Owe},t.prototype.onActionComplete=function(e,i,n,s){var o=this;r.prototype.onActionComplete.call(this,e,i,n),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&setTimeout(function(){o.inlineSearch()})},t.prototype.getFocusElement=function(){var e=this.isSelectCustom?{text:""}:this.getItemData(),i=v(this.list)?this.list:this.list.querySelector("."+Sn.selected);if(e.text===this.inputElement.value&&!v(i))return i;if((Ue.isDevice&&!this.isDropDownClick||!Ue.isDevice)&&!v(this.liCollections)&&this.liCollections.length>0){var s=this.inputElement.value,o=this.sortedData,a=this.typeOfData(o).typeof,h=Ub(s,this.liCollections,this.filterType,!0,o,this.fields,a).item;if(v(h))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.enableVirtualization||(this.list.scrollTop=0));else{var c=this.getIndexByValue(h.getAttribute("data-value"))-1,u=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);isNaN(u)||"autocomplete"===this.getModuleName()||(this.removeFocus(),this.enableVirtualization||(this.list.scrollTop=c*u+(this.fields.groupBy?this.liCollections[0].offsetHeight:0)),be([h],Sn.focus))}return h}return null},t.prototype.setValue=function(e){return e&&"keydown"===e.type&&"enter"===e.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&e&&"keydown"===e.type&&"enter"!==e.action?(this.preventAutoFill=!1,this.inlineSearch(e),!1):r.prototype.setValue.call(this,e)},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.allowCustom&&v(e.value)&&v(e.text)||this.setProperties({value:e.value},!this.allowCustom)},t.prototype.showSpinner=function(){v(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||vi.appendSpan("e-input-group-icon "+e$,this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,be([this.spinnerElement],Sn.disableIcon),Np({target:this.spinnerElement,width:Ue.isDevice?"16px":"14px"},this.createElement),Xu(this.spinnerElement))},t.prototype.hideSpinner=function(){v(this.spinnerElement)||(Hc(this.spinnerElement),Ae([this.spinnerElement],Sn.disableIcon),this.spinnerElement.classList.contains(e$)?Ot(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.setAutoFill=function(e,i){if(i||this.setHoverList(e),this.autofill&&!this.preventAutoFill){var n=this.getTextByValue(e.getAttribute("data-value")).toString(),s=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===s?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(n)||this.setAutoFillSelection(n,i)}},t.prototype.isAndroidAutoFill=function(e){if(Ue.isAndroid){var i=this.getSelectionPoints(),n=this.prevSelectPoints.end,s=i.end,o=this.prevSelectPoints.start,a=i.start;return 0!==n&&(n===e.length&&o===e.length||o>a&&n>s||n===s&&o===a)}return!1},t.prototype.clearAll=function(e,i){(v(i)||!v(i)&&v(i.dataSource))&&r.prototype.clearAll.call(this,e),this.isFiltering()&&!v(e)&&e.target===this.inputWrapper.clearButton&&this.searchLists(e)},t.prototype.isSelectFocusItem=function(e){return!v(e)},t.prototype.inlineSearch=function(e){var i=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),n=i?this.liCollections[this.activeIndex]:this.getFocusElement();if(v(n))if(""===this.inputElement.value){if(this.activeIndex=null,!v(this.list)){this.enableVirtualization||(this.list.scrollTop=0);var o=this.list.querySelector("."+Sn.li);this.setHoverList(o)}}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length>0&&!this.isCustomFilter&&this.removeFocus();else{if(!i){var s=this.getFormattedValue(n.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(s),this.activeIndex=v(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(n,i)}},t.prototype.incrementalSearch=function(e){this.showPopup(e),v(this.listData)||(this.inlineSearch(e),e.preventDefault())},t.prototype.setAutoFillSelection=function(e,i){void 0===i&&(i=!1);var n=this.getSelectionPoints(),s=this.inputElement.value.substr(0,n.start);if(s&&s.toLowerCase()===e.substr(0,n.start).toLowerCase()){var o=s+e.substr(s.length,e.length);vi.setValue(o,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(n.start,this.inputElement.value.length)}else i&&(vi.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length))},t.prototype.getValueByText=function(e){return r.prototype.getValueByText.call(this,e,!0,this.ignoreAccent)},t.prototype.unWireEvent=function(){"combobox"===this.getModuleName()&&($.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),$.remove(this.inputWrapper.container,"blur",this.onBlurHandler)),v(this.inputWrapper.buttons[0])||$.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),this.inputElement&&($.remove(this.inputElement,"focus",this.targetFocus),this.readonly||($.remove(this.inputElement,"input",this.onInput),$.remove(this.inputElement,"keyup",this.onFilterUp),$.remove(this.inputElement,"keydown",this.onFilterDown),$.remove(this.inputElement,"paste",this.pasteHandler),$.remove(window,"resize",this.windowResize))),this.unBindCommonEvent()},t.prototype.setSelection=function(e,i){r.prototype.setSelection.call(this,e,i),!v(e)&&!this.autofill&&!this.isDropDownClick&&this.removeFocus()},t.prototype.selectCurrentItem=function(e){var i;this.isPopupOpen&&((i=this.list.querySelector(this.isSelected?"."+Sn.selected:"."+Sn.focus))&&(this.setSelection(i,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&v(i)&&this.customValue(e),this.hidePopup(e)},t.prototype.setHoverList=function(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(Sn.selected)&&(this.removeFocus(),e.classList.add(Sn.focus))},t.prototype.targetFocus=function(e){Ue.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e),vi.calculateWidth(this.inputElement,this.inputWrapper.container)},t.prototype.dropDownClick=function(e){e.preventDefault(),Ue.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),r.prototype.dropDownClick.call(this,e)},t.prototype.customValue=function(e){var i=this,n=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){var a=this.value;if(v(n)){var l=""===this.inputElement.value?null:this.inputElement.value,h={text:l,item:{}};this.initial?this.updateCustomValueCallback(l,h,a):this.trigger("customValueSpecifier",h,function(c){i.updateCustomValueCallback(l,c,a,e)})}else this.isSelectCustom=!1,this.setProperties({value:n}),a!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{var s=this.previousValue,o=this.value;this.setProperties({value:n}),v(this.value)&&vi.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&s===this.value&&o!==this.value&&this.onChangeEvent(null)}},t.prototype.updateCustomValueCallback=function(e,i,n,s){var o=this.fields,a=i.item,l={};a&&Xe(o.text,a)&&Xe(o.value,a)?l=a:(zn(o.text,e,l),zn(o.value,e,l)),this.itemData=l;var h={text:Xe(o.text,this.itemData),value:Xe(o.value,this.itemData),index:null};this.setProperties(h,!0),this.setSelection(null,null),this.isSelectCustom=!0,n!==this.value&&this.onChangeEvent(s)},t.prototype.onPropertyChanged=function(e,i){"combobox"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(var n=0,s=Object.keys(e);n<s.length;n++){var o=s[n];switch(o){case"readonly":vi.setReadonly(this.readonly,this.inputElement),this.readonly?($.remove(this.inputElement,"input",this.onInput),$.remove(this.inputElement,"keyup",this.onFilterUp),$.remove(this.inputElement,"keydown",this.onFilterDown)):($.add(this.inputElement,"input",this.onInput,this),$.add(this.inputElement,"keyup",this.onFilterUp,this),$.add(this.inputElement,"keydown",this.onFilterDown,this)),this.setReadOnly();break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&v(this.list)&&r.prototype.renderList.call(this);break;case"allowCustom":break;default:var a=this.getPropObject(o,e,i);r.prototype.onPropertyChanged.call(this,a.newProperty,a.oldProperty),this.isFiltering()&&"dataSource"===o&&v(this.list)&&this.itemTemplate&&"combobox"===this.getModuleName()&&r.prototype.renderList.call(this)}}},t.prototype.render=function(){r.prototype.render.call(this),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&v(this.list)&&r.prototype.renderList.call(this),this.renderComplete()},t.prototype.getModuleName=function(){return"combobox"},t.prototype.addItem=function(e,i){r.prototype.addItem.call(this,e,i)},t.prototype.filter=function(e,i,n){r.prototype.filter.call(this,e,i,n)},t.prototype.showPopup=function(e){r.prototype.showPopup.call(this,e)},t.prototype.hidePopup=function(e){var i=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;if(!v(this.listData)){var n=this.isEscapeKey;this.isEscapeKey&&(vi.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();var s=this.isSelectCustom?{text:""}:this.getItemData(),o=v(this.list)?null:this.list.querySelector("."+Sn.selected);if(this.inputElement&&s.text===this.inputElement.value&&!v(o))return this.isSelected&&(this.onChangeEvent(e),this.isSelectCustom=!1),void r.prototype.hidePopup.call(this,e);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){var a=this.sortedData,l=this.typeOfData(a).typeof,h=Ub(this.inputElement.value,this.liCollections,"Equal",!0,a,this.fields,l);this.selectedLI=h.item,v(h.index)&&(h.index=Ub(this.inputElement.value,this.liCollections,"StartsWith",!0,a,this.fields,l).index),this.activeIndex=h.index,v(this.selectedLI)?n&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}!this.isEscapeKey&&this.isTyped&&!this.isInteracted&&this.customValue(e)}v(this.listData)&&this.allowCustom&&!v(i)&&i!==this.value&&this.customValue(),r.prototype.hidePopup.call(this,e)},t.prototype.focusIn=function(){this.enabled&&(Ue.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),r.prototype.focusIn.call(this))},t.prototype.clear=function(){this.value=null},t.prototype.focusOut=function(e){r.prototype.focusOut.call(this,e)},t.prototype.getItems=function(){return r.prototype.getItems.call(this)},t.prototype.getDataByValue=function(e){return r.prototype.getDataByValue.call(this,e)},t.prototype.renderHightSearch=function(){},_a([O(!1)],t.prototype,"autofill",void 0),_a([O(!0)],t.prototype,"allowCustom",void 0),_a([O({})],t.prototype,"htmlAttributes",void 0),_a([O(!1)],t.prototype,"allowFiltering",void 0),_a([O(null)],t.prototype,"query",void 0),_a([O(null)],t.prototype,"index",void 0),_a([O(!0)],t.prototype,"showClearButton",void 0),_a([O(!1)],t.prototype,"enableRtl",void 0),_a([Se()],t.prototype,"customValueSpecifier",void 0),_a([Se()],t.prototype,"filtering",void 0),_a([O(null)],t.prototype,"valueTemplate",void 0),_a([O("Never")],t.prototype,"floatLabelType",void 0),_a([O(null)],t.prototype,"filterBarPlaceholder",void 0),_a([O(null)],t.prototype,"cssClass",void 0),_a([O(null)],t.prototype,"headerTemplate",void 0),_a([O(null)],t.prototype,"footerTemplate",void 0),_a([O(null)],t.prototype,"placeholder",void 0),_a([O("100%")],t.prototype,"width",void 0),_a([O("300px")],t.prototype,"popupHeight",void 0),_a([O("100%")],t.prototype,"popupWidth",void 0),_a([O(!1)],t.prototype,"readonly",void 0),_a([O(null)],t.prototype,"text",void 0),_a([O(null)],t.prototype,"value",void 0),_a([Jn],t)}(uwe);Sn.root="e-autocomplete",Sn.icon="e-input-group-icon e-ddl-icon e-search-icon";var wa=function(r){return r.Classic="Classic",r.Simplified="Simplified",r}(wa||{}),rI=function(r){return r.Row="Row",r.Column="Column",r}(rI||{}),Hi=function(r){return r[r.Large=4]="Large",r[r.Medium=2]="Medium",r[r.Small=1]="Small",r}(Hi||{}),Wn=function(r){return r[r.Classic=4]="Classic",r[r.Simplified=2]="Simplified",r[r.Overflow=1]="Overflow",r[r.Auto=7]="Auto",r}(Wn||{}),Ur=function(r){return r.Button="Button",r.CheckBox="CheckBox",r.ColorPicker="ColorPicker",r.ComboBox="ComboBox",r.DropDown="DropDown",r.SplitButton="SplitButton",r.GroupButton="GroupButton",r.Template="Template",r}(Ur||{}),jy=function(r){return r.Single="Single",r.Multiple="Multiple",r}(jy||{}),cIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$b=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},uIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},$b([O("")],t.prototype,"content",void 0),$b([O("")],t.prototype,"cssClass",void 0),$b([O("")],t.prototype,"iconCss",void 0),$b([O(!1)],t.prototype,"isToggle",void 0),$b([O(!1)],t.prototype,"isPrimary",void 0),$b([Se()],t.prototype,"created",void 0),$b([Se()],t.prototype,"clicked",void 0),t}(ii),dIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sI=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},pIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},sI([O(!1)],t.prototype,"checked",void 0),sI([O("")],t.prototype,"cssClass",void 0),sI([O("")],t.prototype,"label",void 0),sI([O("After")],t.prototype,"labelPosition",void 0),sI([Se()],t.prototype,"created",void 0),sI([Se()],t.prototype,"change",void 0),t}(ii),fIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dc=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},gIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return fIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},dc([O(10)],t.prototype,"columns",void 0),dc([O("")],t.prototype,"cssClass",void 0),dc([O(!0)],t.prototype,"enableOpacity",void 0),dc([O("Picker")],t.prototype,"mode",void 0),dc([O(!0)],t.prototype,"modeSwitcher",void 0),dc([O(!1)],t.prototype,"noColor",void 0),dc([O(null)],t.prototype,"presetColors",void 0),dc([O(!0)],t.prototype,"showButtons",void 0),dc([O("#008000ff")],t.prototype,"value",void 0),dc([Se()],t.prototype,"beforeClose",void 0),dc([Se()],t.prototype,"beforeOpen",void 0),dc([Se()],t.prototype,"beforeTileRender",void 0),dc([Se()],t.prototype,"created",void 0),dc([Se()],t.prototype,"change",void 0),dc([Se()],t.prototype,"open",void 0),dc([Se()],t.prototype,"select",void 0),t}(ii),vIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zo=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return vIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},Zo([O(!1)],t.prototype,"allowFiltering",void 0),Zo([O(!0)],t.prototype,"autofill",void 0),Zo([O("")],t.prototype,"cssClass",void 0),Zo([O([])],t.prototype,"dataSource",void 0),Zo([Lt({text:null,value:null,iconCss:null,groupBy:null},MD)],t.prototype,"fields",void 0),Zo([O("Contains")],t.prototype,"filterType",void 0),Zo([O(null)],t.prototype,"footerTemplate",void 0),Zo([O(null)],t.prototype,"groupTemplate",void 0),Zo([O(null)],t.prototype,"headerTemplate",void 0),Zo([O(null)],t.prototype,"index",void 0),Zo([O(null)],t.prototype,"itemTemplate",void 0),Zo([O("No records found")],t.prototype,"noRecordsTemplate",void 0),Zo([O(null)],t.prototype,"placeholder",void 0),Zo([O("300px")],t.prototype,"popupHeight",void 0),Zo([O("100%")],t.prototype,"popupWidth",void 0),Zo([O(!0)],t.prototype,"showClearButton",void 0),Zo([O("None")],t.prototype,"sortOrder",void 0),Zo([O(null)],t.prototype,"text",void 0),Zo([O(null)],t.prototype,"value",void 0),Zo([O("150px")],t.prototype,"width",void 0),Zo([Se()],t.prototype,"beforeOpen",void 0),Zo([Se()],t.prototype,"change",void 0),Zo([Se()],t.prototype,"close",void 0),Zo([Se()],t.prototype,"created",void 0),Zo([Se()],t.prototype,"filtering",void 0),Zo([Se()],t.prototype,"open",void 0),Zo([Se()],t.prototype,"select",void 0),t}(ii),yIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mu=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},bIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return yIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},mu([O("")],t.prototype,"closeActionEvents",void 0),mu([O("")],t.prototype,"content",void 0),mu([O("")],t.prototype,"cssClass",void 0),mu([O("")],t.prototype,"iconCss",void 0),mu([Qn([],lx)],t.prototype,"items",void 0),mu([O("")],t.prototype,"target",void 0),mu([O(!1)],t.prototype,"createPopupOnClick",void 0),mu([Se()],t.prototype,"beforeClose",void 0),mu([Se()],t.prototype,"beforeItemRender",void 0),mu([Se()],t.prototype,"beforeOpen",void 0),mu([Se()],t.prototype,"close",void 0),mu([Se()],t.prototype,"created",void 0),mu([Se()],t.prototype,"open",void 0),mu([Se()],t.prototype,"select",void 0),t}(ii),CIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yu=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},SIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return CIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},yu([O("")],t.prototype,"closeActionEvents",void 0),yu([O("")],t.prototype,"content",void 0),yu([O("")],t.prototype,"cssClass",void 0),yu([O("")],t.prototype,"iconCss",void 0),yu([Qn([],lx)],t.prototype,"items",void 0),yu([O("")],t.prototype,"target",void 0),yu([Se()],t.prototype,"beforeClose",void 0),yu([Se()],t.prototype,"beforeItemRender",void 0),yu([Se()],t.prototype,"beforeOpen",void 0),yu([Se()],t.prototype,"close",void 0),yu([Se()],t.prototype,"click",void 0),yu([Se()],t.prototype,"created",void 0),yu([Se()],t.prototype,"open",void 0),yu([Se()],t.prototype,"select",void 0),t}(ii),wIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),AD=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Tk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wIe(t,r),AD([O("")],t.prototype,"cssClass",void 0),AD([O("")],t.prototype,"id",void 0),AD([O("")],t.prototype,"title",void 0),AD([O("")],t.prototype,"content",void 0),AD([O("")],t.prototype,"iconCss",void 0),t}(ii),IIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oI=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},MIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return IIe(t,r),oI([O("")],t.prototype,"content",void 0),oI([O("")],t.prototype,"iconCss",void 0),oI([Lt({},Tk)],t.prototype,"ribbonTooltipSettings",void 0),oI([O(!1)],t.prototype,"selected",void 0),oI([Se()],t.prototype,"beforeClick",void 0),oI([Se()],t.prototype,"click",void 0),t}(ii),xIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),m$=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},DIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return xIe(t,r),m$([O("Single")],t.prototype,"selection",void 0),m$([Qn([],MIe)],t.prototype,"items",void 0),t}(ii),TIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pc=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},EIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return TIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},pc([O(Hi.Medium)],t.prototype,"activeSize",void 0),pc([O(Hi.Small|Hi.Medium|Hi.Large)],t.prototype,"allowedSizes",void 0),pc([O("")],t.prototype,"id",void 0),pc([O("")],t.prototype,"cssClass",void 0),pc([O(!1)],t.prototype,"disabled",void 0),pc([O("")],t.prototype,"itemTemplate",void 0),pc([O("Button")],t.prototype,"type",void 0),pc([O(Wn.Auto)],t.prototype,"displayOptions",void 0),pc([Lt({},Tk)],t.prototype,"ribbonTooltipSettings",void 0),pc([Lt({},uIe)],t.prototype,"buttonSettings",void 0),pc([Lt({},bIe)],t.prototype,"dropDownSettings",void 0),pc([Lt({},pIe)],t.prototype,"checkBoxSettings",void 0),pc([Lt({},gIe)],t.prototype,"colorPickerSettings",void 0),pc([Lt({},mIe)],t.prototype,"comboBoxSettings",void 0),pc([Lt({},SIe)],t.prototype,"splitButtonSettings",void 0),pc([Lt({},DIe)],t.prototype,"groupButtonSettings",void 0),t}(ii),AIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),D5=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},OIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return AIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},D5([O("")],t.prototype,"id",void 0),D5([O("")],t.prototype,"cssClass",void 0),D5([Qn([],EIe)],t.prototype,"items",void 0),t}(ii),LIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tf=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},kIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return LIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},tf([Qn([],OIe)],t.prototype,"collections",void 0),tf([O("")],t.prototype,"cssClass",void 0),tf([O("")],t.prototype,"id",void 0),tf([O(!1)],t.prototype,"isCollapsed",void 0),tf([O(!0)],t.prototype,"isCollapsible",void 0),tf([O(!1)],t.prototype,"enableGroupOverflow",void 0),tf([O("")],t.prototype,"groupIconCss",void 0),tf([O("")],t.prototype,"header",void 0),tf([O("Column")],t.prototype,"orientation",void 0),tf([O(0)],t.prototype,"priority",void 0),tf([O(!1)],t.prototype,"showLauncherIcon",void 0),t}(ii),NIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ek=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},PIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return NIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},Ek([O("")],t.prototype,"id",void 0),Ek([O("")],t.prototype,"cssClass",void 0),Ek([Qn([],kIe)],t.prototype,"groups",void 0),Ek([O("")],t.prototype,"header",void 0),t}(ii),_Ie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bu=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},RIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _Ie(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},bu([O("File")],t.prototype,"text",void 0),bu([O(!1)],t.prototype,"visible",void 0),bu([Qn([],Mx)],t.prototype,"menuItems",void 0),bu([O(!1)],t.prototype,"showItemOnClick",void 0),bu([Lt({},S8)],t.prototype,"animationSettings",void 0),bu([O("")],t.prototype,"itemTemplate",void 0),bu([O("")],t.prototype,"popupTemplate",void 0),bu([Lt({},Tk)],t.prototype,"ribbonTooltipSettings",void 0),bu([Se()],t.prototype,"beforeClose",void 0),bu([Se()],t.prototype,"beforeOpen",void 0),bu([Se()],t.prototype,"beforeItemRender",void 0),bu([Se()],t.prototype,"close",void 0),bu([Se()],t.prototype,"open",void 0),bu([Se()],t.prototype,"select",void 0),t}(ii),zIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),T5=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},BIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zIe(t,r),T5([O("")],t.prototype,"text",void 0),T5([O("")],t.prototype,"iconCss",void 0),T5([O(!0)],t.prototype,"visible",void 0),t}(ii),FIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qb=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},jIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return FIe(t,r),qb([O("")],t.prototype,"text",void 0),qb([O("")],t.prototype,"id",void 0),qb([O("")],t.prototype,"content",void 0),qb([O("")],t.prototype,"iconCss",void 0),qb([O(!1)],t.prototype,"separator",void 0),qb([O(!1)],t.prototype,"isFooter",void 0),qb([Se()],t.prototype,"backStageItemClick",void 0),t}(ii),HIe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hv=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},UIe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return HIe(t,r),t.prototype.setProperties=function(e,i){r.prototype.setProperties.call(this,e,i)},Hv([O("File")],t.prototype,"text",void 0),Hv([O(!1)],t.prototype,"visible",void 0),Hv([O("auto")],t.prototype,"height",void 0),Hv([O("auto")],t.prototype,"width",void 0),Hv([O(null)],t.prototype,"target",void 0),Hv([Lt({},BIe)],t.prototype,"backButton",void 0),Hv([Qn([],jIe)],t.prototype,"items",void 0),Hv([O("")],t.prototype,"template",void 0),Hv([Lt({},Tk)],t.prototype,"ribbonTooltipSettings",void 0),t}(ii),aI="e-ribbon-vertical-center",Uv="e-vertical",Ak="e-disabled",Ok="e-rtl",Lk="e-ribbon-hover",Qd="e-ribbon-control",Cu="e-ribbon-popup-control",Hy="e-ribbon-open",Yn=" ",kk="e-ribbon-hide",Nk="e-ribbon-active",y$="e-ribbon-collapse-btn",b$="e-ribbon-expand-btn",E5="e-ribbon-collapsible",A5="e-ribbon-overflow",OD="e-content",Pk="e-ribbon-minimize",_k="e-ribbon-group",Rk="e-ribbon-single-selection",zk="e-ribbon-multiple-selection",Bk="e-ribbon-group-button-overflow-popup",LD="e-ribbon-group-container",O5="e-ribbon-group-content",C$="e-ribbon-group-header",S$="e-ribbon-group-overflow-ddb",w$="e-ribbon-launcher",I$="e-ribbon-launcher-icon",M$="e-icons e-launcher",Vv="e-ribbon-item",Uy="e-ribbon-row",Zb="e-ribbon-column",kD="e-ribbon-large-item",Fk="e-ribbon-medium-item",jk="e-ribbon-small-item",Wv="e-ribbon-content-height",x$="e-ribbon-template",D$="e-ribbon-tooltip",Vy="e-ribbon-tooltip-target",T$="e-ribbon-tooltip-container",L5="e-ribbon-simplified-mode",Hk="e-ribbon-backstage-open",E$="e-ribbon-backstage-menu",k5="_tab",Yc="_sim_grp_overflow",Wy="_header",Uk="_launcher",ed="_content",Br="_container",eh="_overflow",Zf="_dropdown",A$="_backstage",On="_grpbtn",Yy="--fileMenuWidth",Vk="--helpTemplateWidth",O$=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonButton"},r.prototype.destroy=function(){this.parent=null},r.prototype.createButton=function(t,e){var i=this,n=this.parent.createElement("button",{id:t.id});e.appendChild(n);var s=t.buttonSettings;new Io({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,iconPosition:t.activeSize===Hi.Large?"Top":"Left",iconCss:s.iconCss,disabled:t.disabled,cssClass:(aI+Yn+Qd+Yn+(s.cssClass?s.cssClass:"")).trim(),content:t.activeSize===Hi.Small?"":s.content,isPrimary:s.isPrimary,isToggle:s.isToggle,created:s.created},n),n.onclick=function(o){s.clicked&&s.clicked.call(i,o)},n.setAttribute("aria-label",s.content)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var o=ln(s,Io);o.setProperties({cssClass:o.cssClass+Yn+Cu}),s.onclick=function(a){t.buttonSettings.clicked&&t.buttonSettings.clicked.call(n,a),i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,n=e.querySelector("#"+t.id),s=ln(n,Io),o=s.cssClass.split(Yn);o=o.filter(function(a){return a!==Cu}),s.setProperties({cssClass:o.join(Yn)}),n.onclick=function(a){t.buttonSettings.clicked&&t.buttonSettings.clicked.call(i,a)}},r.prototype.click=function(t){var e=fc(this.parent,t);e&&ln(e,Io).click()},r.prototype.updateButton=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.buttonSettings,t);var n=fc(this.parent,e,i);if(n){var s=ln(n,Io);t.isToggle&&n.classList.add("e-active"),t.cssClass&&(t.cssClass=(aI+Yn+Qd+Yn+t.cssClass).trim()),t.content&&(t.content=i.item.activeSize===Hi.Small?"":t.content,n.setAttribute("aria-label",t.content)),delete t.clicked,s.setProperties(t)}}},r.prototype.updateButtonSize=function(t,e){ln(t,Io).setProperties({iconPosition:e.activeSize===Hi.Large?"Top":"Left",content:e.activeSize===Hi.Small?"":e.buttonSettings.content})},r}(),L$=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonCheckBox"},r.prototype.destroy=function(){this.parent=null},r.prototype.createCheckBox=function(t,e){var i=this,n=this.parent.createElement("input",{id:t.id});e.appendChild(n);var s=t.checkBoxSettings;new ub({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,checked:s.checked,cssClass:(Qd+Yn+(s.cssClass?s.cssClass:"")).trim(),label:s.label,labelPosition:s.labelPosition,disabled:t.disabled,created:s.created,change:function(o){s.change&&s.change.call(i,o)}},n)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var o=ln(s,ub);o.cssClass=o.cssClass+Yn+Cu,o.dataBind(),o.change=function(a){t.checkBoxSettings.change&&t.checkBoxSettings.change.call(n,a),i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),ub),o=s.cssClass.split(Yn);o=o.filter(function(a){return a!==Cu}),s.cssClass=o.join(Yn),s.dataBind(),s.change=function(a){t.checkBoxSettings.change&&t.checkBoxSettings.change.call(i,a)}},r.prototype.click=function(t){var e=fc(this.parent,t);e&&ln(e,ub).click()},r.prototype.updateCheckBox=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.checkBoxSettings,t);var n=fc(this.parent,e,i);n&&(t.cssClass&&(t.cssClass=(Qd+Yn+t.cssClass).trim()),delete t.change,ln(n,ub).setProperties(t))}},r}(),EMe=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonColorPicker"},r.prototype.destroy=function(){this.parent=null},r.prototype.createColorPicker=function(t,e){var i=this,n=this.parent.createElement("input",{id:t.id});e.appendChild(n);var s=t.colorPickerSettings,o=new yw({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,columns:s.columns,cssClass:(Qd+Yn+(s.cssClass?s.cssClass:"")).trim(),disabled:t.disabled,enableOpacity:s.enableOpacity,mode:s.mode,modeSwitcher:s.modeSwitcher,noColor:s.noColor,presetColors:s.presetColors,showButtons:s.showButtons,value:s.value,beforeClose:function(){o.element.parentElement.classList.remove(Hy),s.beforeClose&&s.beforeClose.call(i)},beforeOpen:s.beforeOpen,beforeTileRender:s.beforeTileRender,created:s.created,change:s.change,open:function(){o.element.parentElement.classList.add(Hy),s.open&&s.open.call(i)},select:s.select},n),a=o.element.parentElement;$.add(a,"mouseenter",this.toggleWrapperHover.bind(this,a,!0),this),$.add(a,"mouseleave",this.toggleWrapperHover.bind(this,a,!1),this)},r.prototype.toggleWrapperHover=function(t,e){e?t.classList.add(Lk):t.classList.remove(Lk)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var o=ln(s,yw);o.setProperties({cssClass:o.cssClass+Yn+Cu});var l,a=o.splitBtn;o.beforeClose=function(h){l=h.event?h.event.target:null,o.element.parentElement.classList.remove(Hy),t.colorPickerSettings.beforeClose&&t.colorPickerSettings.beforeClose.call(n)},a.close=function(){l&&!l.closest(".e-ribbon-group-overflow-ddb")&&i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),yw),o=s.cssClass.split(Yn);o=o.filter(function(l){return l!==Cu}),s.setProperties({cssClass:o.join(Yn)}),s.splitBtn.close=null,s.beforeClose=function(){s.element.parentElement.classList.remove(Hy),t.colorPickerSettings.beforeClose&&t.colorPickerSettings.beforeClose.call(i)}},r.prototype.getColorPickerObj=function(t){var e=fc(this.parent,t);return e?ln(e,yw):null},r.prototype.getValue=function(t,e,i){var n=this.getColorPickerObj(t);return n?n.getValue(e,i):""},r.prototype.toggle=function(t){var e=this.getColorPickerObj(t);e&&e.toggle()},r.prototype.updateColorPicker=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.checkBoxSettings,t);var n=fc(this.parent,e,i);n&&(t.cssClass&&(t.cssClass=(Qd+Yn+t.cssClass).trim()),delete t.beforeClose,delete t.open,ln(n,yw).setProperties(t))}},r.prototype.unwireColorPickerEvents=function(t){var i=ln(t,yw).element.parentElement;$.remove(i,"mouseenter",this.toggleWrapperHover),$.remove(i,"mouseleave",this.toggleWrapperHover)},r}(),k$=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonComboBox"},r.prototype.destroy=function(){this.parent=null},r.prototype.createComboBox=function(t,e){var i=this,n=this.parent.createElement("input",{id:t.id});e.appendChild(n);var s=t.comboBoxSettings;new eI({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,allowCustom:!1,floatLabelType:"Never",ignoreAccent:!0,ignoreCase:!0,allowFiltering:s.allowFiltering,autofill:s.autofill,cssClass:(Qd+Yn+(s.cssClass?s.cssClass:"")).trim(),dataSource:s.dataSource,enabled:!t.disabled,fields:s.fields,filterType:s.filterType,footerTemplate:s.footerTemplate,groupTemplate:s.groupTemplate,headerTemplate:s.headerTemplate,index:s.index,itemTemplate:s.itemTemplate,noRecordsTemplate:s.noRecordsTemplate,placeholder:s.placeholder,popupHeight:s.popupHeight,popupWidth:s.popupWidth,showClearButton:s.showClearButton,sortOrder:s.sortOrder,text:s.text,value:s.value,width:s.width,beforeOpen:s.beforeOpen,open:s.open,close:function(o){s.close&&s.close.call(i,o)},filtering:s.filtering,change:s.change,select:s.select,created:s.created},n)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var o=ln(s,eI);o.setProperties({cssClass:o.cssClass+Yn+Cu}),o.close=function(a){var l=a.event?a.event.target:null;t.comboBoxSettings.close&&t.comboBoxSettings.close.call(n,a),l&&!l.closest(".e-ribbon-group-overflow-ddb")&&i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),eI),o=s.cssClass.split(Yn);o=o.filter(function(a){return a!==Cu}),s.setProperties({cssClass:o.join(Yn)}),s.close=function(a){t.comboBoxSettings.close&&t.comboBoxSettings.close.call(i,a)}},r.prototype.getComboBoxObj=function(t){var e=fc(this.parent,t);return e?ln(e,eI):null},r.prototype.filter=function(t,e,i,n){this.getComboBoxObj(t).filter(e,i,n)},r.prototype.hidePopup=function(t){var e=this.getComboBoxObj(t);e&&e.hidePopup()},r.prototype.showPopup=function(t){var e=this.getComboBoxObj(t);e&&e.showPopup()},r.prototype.updateComboBox=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.comboBoxSettings,t);var n=fc(this.parent,e,i);n&&(t.cssClass&&(t.cssClass=(Qd+Yn+t.cssClass).trim()),delete t.close,ln(n,eI).setProperties(t))}},r}(),N$=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonDropDown"},r.prototype.destroy=function(){this.parent=null},r.prototype.createDropDown=function(t,e){var i=this,n=this.parent.createElement("button",{id:t.id});e.appendChild(n);var s=t.dropDownSettings,o=(aI+Yn+Qd+Yn+(s.cssClass?s.cssClass:"")).trim();new Jr({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,iconPosition:t.activeSize===Hi.Large?"Top":"Left",closeActionEvents:s.closeActionEvents,content:t.activeSize===Hi.Small?"":s.content,cssClass:o+(t.activeSize===Hi.Large?Yn+Uv:""),disabled:t.disabled,iconCss:s.iconCss,items:s.items,target:s.target,createPopupOnClick:s.createPopupOnClick,beforeClose:function(a){s.beforeClose&&s.beforeClose.call(i,a)},beforeItemRender:s.beforeItemRender,beforeOpen:s.beforeOpen,close:function(a){s.close&&s.close.call(i,a)},created:s.created,open:s.open,select:s.select}).appendTo(n)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var a,o=ln(s,Jr);o.cssClass=o.cssClass+Yn+Cu,o.dataBind(),o.beforeClose=function(l){t.dropDownSettings.beforeClose&&t.dropDownSettings.beforeClose.call(n,l),a=l.event?l.event.target:null},o.close=function(l){t.dropDownSettings.close&&t.dropDownSettings.close.call(n,l),a&&!a.closest(".e-ribbon-group-overflow-ddb")&&i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),Jr),o=s.cssClass.split(Yn);o=o.filter(function(a){return a!==Cu}),s.cssClass=o.join(Yn),s.dataBind(),s.close=function(a){t.dropDownSettings.close&&t.dropDownSettings.close.call(i,a)},s.beforeClose=function(a){t.dropDownSettings.beforeClose&&t.dropDownSettings.beforeClose.call(i,a)}},r.prototype.createOverFlowDropDown=function(t,e,i,n,s,o){var a=this;this.enableRtl=o;var l=this.parent.createElement("button",{id:t+eh+Zf});n.setAttribute("tabindex","0"),s.appendChild(l);var h=new Jr({iconCss:i,target:n,locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,cssClass:Uv+Yn+S$,iconPosition:"Top",content:e,beforeClose:function(c){c.cancel=!v(c.event&&Je(c.event.target,"."+Cu))}},l);return _D(n,this.parent),l.onclick=l.onkeydown=function(){a.itemIndex=0},n.onkeydown=function(c){a.keyActionHandler(c,n)},h},r.prototype.keyActionHandler=function(t,e){var s,i=e.querySelectorAll(".e-control"),n=e.querySelectorAll(".e-combobox");if(n)for(var o=0;o<n.length;o++)n[parseInt(o.toString(),10)].closest(".e-input-focus")&&(s=n[parseInt(o.toString(),10)]);if(s)for(o=0;o<i.length;o++)i[parseInt(o.toString(),10)].classList.contains("e-combobox")&&i[parseInt(o.toString(),10)].closest(".e-input-focus")&&(this.itemIndex=o);(t.target.classList.contains("e-control")||t.target.classList.contains("e-ribbon-launcher-icon")||t.target.classList.contains("e-ribbon-last-item")||t.target.classList.contains("e-ribbon-first-item"))&&(("ArrowRight"===t.key||!t.shiftKey&&"Tab"===t.key)&&this.handleNavigation(t,!this.enableRtl,i),("ArrowLeft"===t.key||t.shiftKey&&"Tab"===t.key)&&this.handleNavigation(t,this.enableRtl,i))},r.prototype.handleNavigation=function(t,e,i){i[0].classList.contains("e-ribbon-first-item")||i[0].classList.add("e-ribbon-first-item"),i[i.length-1].classList.contains("e-ribbon-last-item")||i[i.length-1].classList.add("e-ribbon-last-item"),e?(0===this.itemIndex&&i[parseInt(this.itemIndex.toString(),10)].classList.contains("e-ribbon-first-item")&&this.updateItemIndex(t,i,!0),!t.target.classList.contains("e-combobox")&&!t.target.classList.contains("e-ribbon-last-item")&&!t.target.classList.contains("e-ribbon-group-container")&&(t.target.classList.contains("e-ribbon-first-item")||0!==this.itemIndex)&&t.target.classList.contains("e-control")&&(this.itemIndex++,this.updateItemIndex(t,i,!0)),t.target.classList.contains("e-ribbon-last-item")&&(this.focusLauncherIcon(t,i)||(this.itemIndex=0,this.updateItemIndex(t,i,!0))),t.target.classList.contains("e-ribbon-launcher-icon")&&(this.itemIndex=0,this.updateItemIndex(t,i,!0))):(!t.target.classList.contains("e-combobox")&&0!==this.itemIndex&&(this.itemIndex--,this.updateItemIndex(t,i,!1)),t.target.classList.contains("e-ribbon-first-item")&&(this.focusLauncherIcon(t,i)||(this.itemIndex=i.length-1,this.updateItemIndex(t,i,!1))),t.target.classList.contains("e-ribbon-launcher-icon")&&(this.itemIndex=i.length-1,this.updateItemIndex(t,i,!1))),t.target.classList.contains("e-combobox")&&"Tab"===t.key&&(e?this.itemIndex<i.length-1&&this.itemIndex++:this.itemIndex>0&&this.itemIndex--)},r.prototype.focusLauncherIcon=function(t,e){var n,i=e[parseInt(this.itemIndex.toString(),10)].closest(".e-ribbon-group-container");return i&&(n=i.querySelector(".e-ribbon-launcher-icon")),!!n&&("Tab"===t.key&&t.preventDefault(),i.querySelector(".e-ribbon-launcher-icon").focus(),!0)},r.prototype.updateItemIndex=function(t,e,i){for(var n=e[this.itemIndex].closest(".e-ribbon-item");n&&n.classList.contains("e-disabled");){if(i)if(this.itemIndex<e.length-1)this.itemIndex++;else{if(this.focusLauncherIcon(t,e))break;this.itemIndex=0}else if(this.itemIndex>0)this.itemIndex--;else{if(this.focusLauncherIcon(t,e))break;this.itemIndex=e.length-1}n=e[this.itemIndex].closest(".e-ribbon-item")}"Tab"===t.key&&t.preventDefault(),e[parseInt(this.itemIndex.toString(),10)].focus()},r.prototype.removeOverFlowDropDown=function(t){var e=ln(t,Jr);ln(e.target,Gu).destroy(),t.parentElement.parentElement.insertBefore(e.target,t.parentElement),e.destroy(),bn(t)},r.prototype.getDDBItemElement=function(t,e){return ln(t,Jr).dropDown.element.querySelector("#"+e)},r.prototype.getOverflowDropDownPopup=function(t,e){return ln(e.querySelector("#"+this.parent.tabs[t.tabIndex].groups[t.groupIndex].id+eh+Zf),Jr).dropDown.element},r.prototype.getDropDownObj=function(t){var e=fc(this.parent,t);return e?ln(e,Jr):null},r.prototype.addItems=function(t,e,i){this.getDropDownObj(t).addItems(e,i)},r.prototype.removeItems=function(t,e,i){this.getDropDownObj(t).removeItems(e,i)},r.prototype.toggle=function(t){this.getDropDownObj(t).toggle()},r.prototype.updateDropDown=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.dropDownSettings,t);var n=fc(this.parent,e,i);if(n){var s=ln(n,Jr);t.cssClass&&(t.cssClass=(Qd+Yn+aI+Yn+t.cssClass).trim(),t.cssClass=i.item.activeSize===Hi.Large?(Uv+Yn+t.cssClass).trim():t.cssClass,s.cssClass=t.cssClass),delete t.close,delete t.beforeClose,t.content&&(t.content=i.item.activeSize===Hi.Small?"":t.content),s.setProperties(t)}}},r.prototype.updateDropDownSize=function(t,e){var i=ln(t,Jr),n=i.cssClass.split(Yn);e.activeSize===Hi.Large?n.push(Uv):n=n.filter(function(s){return s!==Uv}),i.cssClass=n.join(Yn),i.setProperties({iconPosition:e.activeSize===Hi.Large?"Top":"Left"}),i.setProperties({content:e.activeSize===Hi.Small?"":e.dropDownSettings.content})},r}(),P$=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonSplitButton"},r.prototype.destroy=function(){this.parent=null},r.prototype.createSplitButton=function(t,e){var i=this,n=this.parent.createElement("button",{id:t.id});e.appendChild(n);var s=t.splitButtonSettings,o=(aI+Yn+Qd+Yn+(s.cssClass?s.cssClass:"")).trim(),a=new dy({locale:this.parent.locale,enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,iconPosition:t.activeSize===Hi.Large?"Top":"Left",closeActionEvents:s.closeActionEvents,cssClass:o+(t.activeSize===Hi.Large?Yn+Uv:""),disabled:t.disabled,iconCss:s.iconCss,items:s.items,target:s.target,beforeClose:function(c){s.beforeClose&&s.beforeClose.call(i,c)},beforeItemRender:s.beforeItemRender,beforeOpen:s.beforeOpen,close:function(){a.wrapper.classList.remove(Hy),s.close&&s.close.call(i)},created:s.created,open:function(){a.wrapper.classList.add(Hy),s.open&&s.open.call(i)},select:s.select,click:function(c){s.click&&s.click.call(i,c)}},n),l=n.parentElement.querySelector(".e-dropdown-btn");l.onkeydown=function(c){"Enter"===c.key&&(c.stopImmediatePropagation(),l.click())},this.setContent(t,a);var h=a.wrapper;$.add(h,"mouseenter",function(){h.classList.add(Lk)},this),$.add(h,"mouseleave",function(){h.classList.remove(Lk)},this)},r.prototype.addOverFlowEvents=function(t,e,i){var n=this,s=e.querySelector("#"+t.id);s.setAttribute("data-control",t.type.toString());var o=ln(s,dy);o.cssClass=o.cssClass+Yn+Cu,o.dataBind();var c,a=s.parentElement.querySelector(".e-dropdown-btn"),l=a.getAttribute("id"),h=document.querySelector("#"+l+"-popup");a.onkeydown=function(u){"Enter"===u.key&&(u.stopImmediatePropagation(),a.click())},h.onkeydown=function(u){"Enter"===u.key&&(u.preventDefault(),o.wrapper.classList.remove("e-ribbon-open"),h.querySelector(".e-focused").click())},o.beforeClose=function(u){t.splitButtonSettings.beforeClose&&t.splitButtonSettings.beforeClose.call(n,u),c=u.event?u.event.target:null},o.click=function(u){t.splitButtonSettings.click&&t.splitButtonSettings.click.call(n,u),i.toggle()},o.close=function(u){t.splitButtonSettings.close&&t.splitButtonSettings.close.call(n,u),o.wrapper.classList.remove(Hy),c&&!c.closest(".e-ribbon-group-overflow-ddb")&&i.toggle()}},r.prototype.removeOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),dy),o=s.cssClass.split(Yn);o=o.filter(function(a){return a!==Cu}),s.cssClass=o.join(Yn),s.dataBind(),s.beforeClose=function(a){t.splitButtonSettings.beforeClose&&t.splitButtonSettings.beforeClose.call(i,a)},s.click=function(a){t.splitButtonSettings.click&&t.splitButtonSettings.click.call(i,a)},s.close=function(a){t.splitButtonSettings.close&&t.splitButtonSettings.close.call(i,a),s.wrapper.classList.remove(Hy)}},r.prototype.setContent=function(t,e){e.primaryBtnObj.setProperties({content:t.activeSize===Hi.Medium?t.splitButtonSettings.content:""}),e.secondaryBtnObj.setProperties({content:t.activeSize===Hi.Large?t.splitButtonSettings.content:""})},r.prototype.getSplitButtonObj=function(t){return ln(fc(this.parent,t),dy)},r.prototype.addItems=function(t,e,i){this.getSplitButtonObj(t).addItems(e,i)},r.prototype.removeItems=function(t,e,i){this.getSplitButtonObj(t).removeItems(e,i)},r.prototype.toggle=function(t){this.getSplitButtonObj(t).toggle()},r.prototype.updateSplitButton=function(t,e){var i=nf(this.parent.tabs,e);if(i){ya(i.item.splitButtonSettings,t);var n=fc(this.parent,e,i);if(n){var s=ln(n,dy);t.cssClass&&(t.cssClass=(Qd+Yn+aI+Yn+t.cssClass).trim(),t.cssClass=i.item.activeSize===Hi.Large?(Uv+Yn+t.cssClass).trim():t.cssClass,s.cssClass=t.cssClass),delete t.open,delete t.click,delete t.close,delete t.beforeClose,s.setProperties(t),t.content&&this.setContent(i.item,s)}}},r.prototype.updateSplitButtonSize=function(t,e){var i=ln(t,dy),n=i.cssClass.split(Yn);e.activeSize===Hi.Large?n.push(Uv):n=n.filter(function(s){return s!==Uv}),i.cssClass=n.join(Yn),i.setProperties({iconPosition:e.activeSize===Hi.Large?"Top":"Left"}),this.setContent(e,i)},r}();function jl(r,t){for(var e=0;e<r.length;e++)if(t(r[parseInt(e.toString(),10)],e))return e;return-1}function Wk(r){if("string"==typeof r){var t="";try{var e=Ge(r);t=e?"SCRIPT"===e.tagName?e.innerHTML:e.outerHTML:r}catch{t=r}return wn(t)}return wn(r)}function nf(r,t){for(var e=0;e<r.length;e++)for(var i=r[parseInt(e.toString(),10)],n=0;n<i.groups.length;n++)for(var s=i.groups[parseInt(n.toString(),10)],o=0;o<s.collections.length;o++)for(var a=s.collections[parseInt(o.toString(),10)],l=0;l<a.items.length;l++){var h=a.items[parseInt(l.toString(),10)];if(h.id===t)return{item:h,collection:a,group:s,tabIndex:e,groupIndex:n,collectionIndex:o,itemIndex:l}}return null}function N5(r,t){for(var e=0;e<r.length;e++)for(var i=r[parseInt(e.toString(),10)],n=0;n<i.groups.length;n++)for(var s=i.groups[parseInt(n.toString(),10)],o=0;o<s.collections.length;o++){var a=s.collections[parseInt(o.toString(),10)];if(a.id===t)return{collection:a,group:s,tabIndex:e,groupIndex:n,collectionIndex:o}}return null}function ND(r,t){for(var e=0;e<r.length;e++)for(var i=r[parseInt(e.toString(),10)],n=0;n<i.groups.length;n++){var s=i.groups[parseInt(n.toString(),10)];if(s.id===t)return{group:s,tabIndex:e,groupIndex:n}}return null}function _$(r,t){ln(r,t).destroy()}function Yk(r,t,e){ln(r,t).setProperties(e)}function Gk(r,t,e){ln(r,t).setProperties("combobox"===t?{enabled:!e}:{disabled:e})}function fc(r,t,e){if(!e&&!(e=nf(r.tabs,t)))return null;var i=r.tabObj.items[e.tabIndex].content;if(""===i.innerHTML)return null;if(r.activeLayout===wa.Classic)return e.item.displayOptions&Wn.Classic?(i=e.group.isCollapsed?r.ribbonDropDownModule.getOverflowDropDownPopup(e,i):i).querySelector("#"+t):null;var n=e.item.displayOptions&Wn.Simplified?i.querySelector("#"+e.item.id):null;return n||(n=(e.group.enableGroupOverflow?ln(i.querySelector("#"+e.group.id+Yc),Jr):r.overflowDDB).target.querySelector("#"+e.item.id)),n}function PD(r){return!!(r.content||r.iconCss||r.title||r.id||r.cssClass)}function _D(r,t){var e=new Gu({target:"."+Vy,beforeRender:function i(n){!function AMe(r,t,e){var i=r.target.getAttribute("id"),s=e.filter(function(u){return u.id===i})[0].data,o=t.createElement("div",{id:s.id?T$+"_"+s.id:T$});if(t.element.append(o),s.title){var a=t.createElement("div",{innerHTML:s.title,className:"e-ribbon-tooltip-title"});o.appendChild(a)}var l=t.createElement("div",{className:"e-ribbon-text-container"});if(o.appendChild(l),s.iconCss){var h=t.createElement("div",{className:s.iconCss+" e-ribbon-tooltip-icon"});l.appendChild(h)}if(s.content){var c=t.createElement("div",{innerHTML:s.content,className:"e-ribbon-tooltip-content"});l.appendChild(c)}t.setProperties({content:o,cssClass:s.cssClass?s.cssClass+" "+D$:D$})}(n,e,t.tooltipData)}.bind(this),windowCollision:!0});e.appendTo(r)}function R$(r){ln(r,Gu).destroy()}function OMe(r,t){ln(r,Gu).setProperties(t)}var z$=function(){function r(t){this.parent=t,this.isSelected=!1}return r.prototype.getModuleName=function(){return"ribbonGroupButton"},r.prototype.destroy=function(){this.parent=null},r.prototype.createGroupButton=function(t,e){var i=this,n=t.groupButtonSettings;this.count=0;var s=this.parent.createElement("div",{id:t.id+On,className:"e-btn-group"});e.appendChild(s);for(var o=0;o<n.items.length;o++)if(n.items[parseInt(o.toString(),10)].iconCss){var a=this.parent.createElement("button",{id:t.id+On+o,className:"e-ribbon-group-button"});s.appendChild(a),new Io({iconCss:n.items[parseInt(o.toString(),10)].iconCss,disabled:t.disabled,enableRtl:this.parent.enableRtl,content:t.activeSize===Hi.Small?"":n.items[parseInt(o.toString(),10)].content,iconPosition:t.activeSize===Hi.Large?"Top":"Left"},a);var l=e.querySelector("#"+t.id+On+o);s.classList.add(n.selection===jy.Single?Rk:zk),n.items[parseInt(o.toString(),10)].selected&&(n.selection===jy.Multiple?l.classList.add("e-active"):this.count<1&&(l.classList.add("e-active"),this.count++)),n.items[parseInt(o.toString(),10)].ribbonTooltipSettings&&PD(n.items[parseInt(o.toString(),10)].ribbonTooltipSettings)&&(a.classList.add(Vy),this.parent.tooltipData.push({id:a.id,data:n.items[parseInt(o.toString(),10)].ribbonTooltipSettings})),$.add(l,"click",this.groupButtonClicked.bind(this,o,t,n),this)}if("Simplified"===this.parent.activeLayout){var h=void 0,c=0,u=0;for(l=this.parent.createElement("button",{id:t.id}),e.appendChild(l),o=0;o<n.items.length;o++)t.groupButtonSettings.items[parseInt(o.toString(),10)].selected&&!this.isSelected&&n.selection===jy.Single?(h=t.groupButtonSettings.items[parseInt(o.toString(),10)].iconCss,this.isSelected=!0):t.groupButtonSettings.items[parseInt(o.toString(),10)].selected&&n.selection===jy.Multiple&&(h=1==++c?t.groupButtonSettings.items[parseInt(o.toString(),10)].iconCss:null);for(;u<t.groupButtonSettings.items.length&&!this.isSelected&&!h;)t.groupButtonSettings.items[parseInt(u.toString(),10)].iconCss&&(h=t.groupButtonSettings.items[parseInt(u.toString(),10)].iconCss,this.isSelected=!0),u++;new Jr({iconCss:h,target:s,enableRtl:this.parent.enableRtl,cssClass:"e-ribbon-dropdown-group-button",disabled:t.disabled},l),l.onclick=l.onkeydown=function(){e.querySelector("#"+t.id).classList.contains("e-active")&&(document.querySelector("#"+t.id+On+0).focus(),i.grpBtnIndex=0)},s.onkeydown=function(p){"Simplified"===i.parent.activeLayout&&i.handleGroupButtonNavigation(p,t)},_D(s,this.parent),this.isSelected=!1}},r.prototype.groupButtonClicked=function(t,e,i){for(var l,n=[],s=[],o=[],h=0;h<i.items.length;h++)document.querySelector("#"+e.id+On+h)&&document.querySelector("#"+e.id+On+h).classList.contains("e-active")&&n.push(i.items[parseInt(h.toString(),10)]);document.querySelector("#"+e.id+On+t).classList.contains("e-active")||s.push(i.items[parseInt(t.toString(),10)]);var c={cancel:!1,previousItems:n,selectingItems:s};if(i.items[parseInt(t.toString(),10)].beforeClick&&i.items[parseInt(t.toString(),10)].beforeClick.call(this,c),!c.cancel){if(i.selection===jy.Single){for(document.querySelector("#"+e.id+On).classList.contains(zk)&&(document.querySelector("#"+e.id+On).classList.remove(zk),document.querySelector("#"+e.id+On).classList.add(Rk)),h=0;h<i.items.length;h++)document.querySelector("#"+e.id+On+h)&&document.querySelector("#"+e.id+On+h).classList.contains("e-active")&&document.querySelector("#"+e.id+On+h).classList.remove("e-active");document.querySelector("#"+e.id+On+t).classList.toggle("e-active"),document.querySelector("#"+e.id+On+t).classList.contains("e-active")&&"Simplified"===this.parent.activeLayout&&(this.grpBtnIndex=t,(l=ln(document.querySelector("#"+e.id),Jr)).setProperties({iconCss:i.items[parseInt(t.toString(),10)].iconCss}))}else{document.querySelector("#"+e.id+On).classList.contains(Rk)&&(document.querySelector("#"+e.id+On).classList.remove(Rk),document.querySelector("#"+e.id+On).classList.add(zk)),document.querySelector("#"+e.id+On+t).classList.toggle("e-active");for(var u=0,d=0;d<i.items.length;d++)document.querySelector("#"+e.id+On+d)&&document.querySelector("#"+e.id+On+d).classList.contains("e-active")&&"Simplified"===this.parent.activeLayout&&d!==t&&(this.isSelected=!0,u++);if("Simplified"===this.parent.activeLayout){var p=null,f=0;if(l=ln(document.querySelector("#"+e.id),Jr),this.isSelected){if(1===u&&!document.querySelector("#"+e.id+On+t).classList.contains("e-active"))for(d=0;d<i.items.length;d++)document.querySelector("#"+e.id+On+d)&&document.querySelector("#"+e.id+On+d).classList.contains("e-active")&&(p=i.items[parseInt(d.toString(),10)].iconCss)}else document.querySelector("#"+e.id+On+t).classList.contains("e-active")&&(p=i.items[parseInt(t.toString(),10)].iconCss);for(;f<i.items.length&&!p;)i.items[parseInt(f.toString(),10)].iconCss&&(p=i.items[parseInt(f.toString(),10)].iconCss),f++;l.setProperties({iconCss:p}),this.grpBtnIndex=t}this.isSelected=!1}document.querySelector("#"+e.id+On+t).classList.contains("e-active")&&o.push(i.items[parseInt(t.toString(),10)]);var m={previousItems:n,selectedItems:o};i.items[parseInt(t.toString(),10)].click&&i.items[parseInt(t.toString(),10)].click.call(this,m)}},r.prototype.switchGroupButton=function(t,e){var i=this,n=t.groupButtonSettings,s=null,o=0,a=0;if("Simplified"===this.parent.activeLayout){var l=e.querySelector("#"+t.id+On),h=this.parent.createElement("button",{id:t.id});e.appendChild(h);for(var c=0;c<n.items.length;c++)document.querySelector("#"+t.id+On+c)&&(document.querySelector("#"+t.id+On+c).classList.contains("e-active")&&n.selection===jy.Single?s=n.items[parseInt(c.toString(),10)].iconCss:document.querySelector("#"+t.id+On+c).classList.contains("e-active")&&n.selection===jy.Multiple&&(1==++o?s=n.items[parseInt(c.toString(),10)].iconCss:o>1&&(s=null)));for(;a<n.items.length&&!s;)n.items[parseInt(a.toString(),10)].iconCss&&(s=n.items[parseInt(a.toString(),10)].iconCss),a++;new Jr({iconCss:s,target:l,enableRtl:this.parent.enableRtl,cssClass:"e-ribbon-dropdown-group-button",disabled:t.disabled},h),h.onclick=h.onkeydown=function(){e.querySelector("#"+t.id).classList.contains("e-active")&&(document.querySelector("#"+t.id+On+0).focus(),i.grpBtnIndex=0)},l.onkeydown=function(p){"Simplified"===i.parent.activeLayout&&i.handleGroupButtonNavigation(p,t)},_D(l,this.parent)}else{var u=e.querySelector("#"+t.id),d=ln(u,Jr);e.appendChild(d.target),u&&(d.destroy(),bn(u))}},r.prototype.handleGroupButtonNavigation=function(t,e){var n=ln(document.querySelector("#"+e.id),Jr),o=!1;"Simplified"===this.parent.activeLayout&&n.target.closest(".e-ribbon-dropdown-group-button").classList.contains(Bk)&&(o=!0),"Tab"===t.key&&t.preventDefault();var a=e.groupButtonSettings;"ArrowRight"===t.key&&!o||"ArrowDown"===t.key&&o?!this.parent.enableRtl||"ArrowDown"===t.key&&o?(this.grpBtnIndex++,this.grpBtnIndex<a.items.length||(this.grpBtnIndex=0),document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()):0===this.grpBtnIndex?(this.grpBtnIndex=a.items.length-1,document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()):(this.grpBtnIndex--,document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()):("ArrowLeft"===t.key&&!o||"ArrowUp"===t.key&&o)&&(!this.parent.enableRtl||"ArrowUp"===t.key&&o?0===this.grpBtnIndex?(this.grpBtnIndex=a.items.length-1,document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()):(this.grpBtnIndex--,document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()):(this.grpBtnIndex++,this.grpBtnIndex<a.items.length||(this.grpBtnIndex=0),document.querySelector("#"+e.id+On+this.grpBtnIndex).focus()))},r.prototype.addOverFlowEvents=function(t,e){var i=this,s=ln(e.querySelector("#"+t.id),Jr);s.setProperties({cssClass:s.cssClass+Yn+Bk});var o=s.target;o.onclick=function(){"Simplified"===i.parent.activeLayout&&o.closest(".e-ribbon-dropdown-group-button").classList.contains(Bk)&&(s.element.focus(),s.toggle())}},r.prototype.removeOverFlowEvents=function(t,e){var i=e.querySelector("#"+t.id);if(i){var n=ln(i,Jr),s=n.cssClass.split(Yn);s=s.filter(function(o){return o!==Bk}),n.setProperties({cssClass:s.join(Yn)})}},r.prototype.destroyDropDown=function(t){var e=document.querySelector("#"+t.id);if(e){var i=ln(e,Jr);ln(i.target,Gu).destroy(),i.destroy(),bn(e)}},r.prototype.updateGroupButtonSize=function(t,e){for(var n,i=e.groupButtonSettings,s=0;s<i.items.length;s++)(n="Classic"===this.parent.activeLayout?t.querySelector("#"+e.id+On+s):document.querySelector("#"+e.id+On+s))&&ln(n,Io).setProperties({iconPosition:e.activeSize===Hi.Large?"Top":"Left",content:e.activeSize===Hi.Small?"":i.items[parseInt(s.toString(),10)].content})},r}(),LMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hl=function(r,t,e,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(t,e,s):o(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},kMe=function(r){function t(i,n){return e.Inject(O$,L$,N$,P$,k$,z$),r.call(this,i,n)||this}var e;return LMe(t,r),e=t,t.prototype.render=function(){this.initialize()},t.prototype.preRender=function(){this.idIndex=0,this.tooltipData=[],this.isAddRemove=!1,this.keyConfigs={leftarrow:"leftarrow",rightarrow:"rightarrow",tab:"tab",shiftTab:"shift+tab"}},t.prototype.getPersistData=function(){return this.addOnPersist(["activeLayout"])},t.prototype.getModuleName=function(){return"ribbon"},t.prototype.requiredModules=function(){var i=[];return i.push({member:"ribbonButton",args:[this]},{member:"ribbonDropDown",args:[this]},{member:"ribbonSplitButton",args:[this]},{member:"ribbonCheckBox",args:[this]},{member:"ribbonColorPicker",args:[this]},{member:"ribbonComboBox",args:[this]},{member:"ribbonGroupButton",args:[this]},{member:"ribbonFileMenu",args:[this]},{member:"ribbonBackstage",args:[this]}),i},t.prototype.initialize=function(){this.element.id=this.element.id||Or("e-"+this.getModuleName()),be([this.element],["e-rbn"].concat(this.cssClass?this.cssClass.split(Yn):[])),this.enableRtl&&this.element.classList.add(Ok),this.element.style.width=si(this.width),this.renderTabs(),this.ribbonFileMenuModule&&this.ribbonFileMenuModule.createFileMenu(this.fileMenu),this.ribbonBackstageModule&&this.ribbonBackstageModule.createBackStage(this.backStageMenu),this.createHelpPaneTemplate(),this.tabObj.tbObj.refreshOverflow(),_D(this.element,this),this.wireEvents(),this.wireKeyboardEvent(),this.currentControlIndex=0},t.prototype.wireEvents=function(){$.add(window,"resize",this.resizeHandler,this)},t.prototype.wireKeyboardEvent=function(){this.keyboardModuleRibbon=new Fa(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.keyActionHandler=function(i){"Tab"===i.key&&!i.target.classList.contains("e-tab-wrap")&&!i.target.classList.contains("e-combobox")&&i.preventDefault();var a,n=this.tabObj.element.querySelector("#"+this.tabs[this.selectedTab].id+ed),s=n.querySelectorAll(".e-control"),o=n.querySelectorAll(".e-combobox");if(o)for(var l=0;l<o.length;l++)o[parseInt(l.toString(),10)].closest(".e-input-focus")&&(a=o[parseInt(l.toString(),10)]);if(a)for(l=0;l<s.length;l++)s[parseInt(l.toString(),10)].classList.contains("e-combobox")&&s[parseInt(l.toString(),10)].closest(".e-input-focus")&&(this.currentControlIndex=l);if(0===this.currentControlIndex)for(var h=s[this.currentControlIndex].closest(".e-ribbon-item");h&&h.classList.contains("e-disabled");)this.currentControlIndex++,h=s[this.currentControlIndex].closest(".e-ribbon-item");if(i.target.classList.contains("e-control")||i.target.classList.contains("e-ribbon-launcher-icon")||i.target.classList.contains("e-ribbon-collapse-btn")||i.target.classList.contains("e-ribbon-last-item")||i.target.classList.contains("e-ribbon-first-item")||i.target.classList.contains("e-ribbon-group-of-btn")||i.target.classList.contains("e-ribbon-overall-of-btn"))switch(i.action){case"rightarrow":this.handleNavigation(i,!this.enableRtl,s);break;case"leftarrow":this.handleNavigation(i,this.enableRtl,s);break;case"tab":i.target.classList.contains("e-combobox")&&this.currentControlIndex<s.length-1&&this.currentControlIndex++;break;case"shiftTab":i.target.classList.contains("e-combobox")?this.currentControlIndex>0&&this.currentControlIndex--:(this.tabObj.element.querySelector(".e-toolbar-item.e-active").querySelector(".e-tab-wrap").focus(),this.currentControlIndex=0)}},t.prototype.handleNavigation=function(i,n,s){var o,a;if(n?this.currentControlIndex<s.length-1&&s[this.currentControlIndex+1].classList.contains("e-colorpicker")&&this.currentControlIndex++:this.currentControlIndex>0&&s[this.currentControlIndex-1].classList.contains("e-colorpicker")&&this.currentControlIndex--,!n&&this.currentControlIndex>0||n&&this.currentControlIndex<s.length-1){if(!i.target.classList.contains("e-combobox")&&i.target.classList.contains("e-control")&&!i.target.classList.contains("e-ribbon-last-item")){if(n)this.currentControlIndex++;else{var l=s[parseInt(this.currentControlIndex.toString(),10)].closest("."+LD);l&&(a=l.getAttribute("id")),this.currentControlIndex--}for(var h=s[this.currentControlIndex].closest(".e-ribbon-item");h&&h.classList.contains("e-disabled");){if((n&&this.currentControlIndex===s.length-1||!n&&0===this.currentControlIndex)&&s[this.currentControlIndex].closest(".e-ribbon-item").classList.contains("e-disabled")){this.tabObj.element.querySelector(".e-ribbon-collapse-btn").focus();break}n?this.currentControlIndex++:this.currentControlIndex--,h=s[this.currentControlIndex].closest(".e-ribbon-item")}if(s[parseInt(this.currentControlIndex.toString(),10)].focus(),"Classic"===this.activeLayout)if(o=s[parseInt(this.currentControlIndex.toString(),10)].closest("."+LD),n){var c=void 0;if(o&&(c=o.querySelector(".e-ribbon-launcher-icon")),c){var u=o.querySelectorAll(".e-ribbon-item");u[u.length-1].querySelector(".e-control").classList.add("e-ribbon-last-item")}}else o&&a!==o.getAttribute("id")&&(c=o.querySelector(".e-ribbon-launcher-icon"))&&s[parseInt((this.currentControlIndex+1).toString(),10)].classList.add("e-ribbon-first-item");else s[parseInt(this.currentControlIndex.toString(),10)].classList.contains("e-ribbon-first-item")?s[parseInt(this.currentControlIndex.toString(),10)].classList.remove("e-ribbon-first-item"):s[parseInt(this.currentControlIndex.toString(),10)].classList.contains("e-ribbon-last-item")&&s[parseInt(this.currentControlIndex.toString(),10)].classList.remove("e-ribbon-last-item")}}else if("Classic"===this.activeLayout&&this.tabObj.element.querySelector(".e-ribbon-collapse-btn").focus(),"Simplified"===this.activeLayout){var p=this.tabObj.element.querySelector(".e-ribbon-overall-of-btn");n&&p&&!p.classList.contains("e-ribbon-hide")?p.focus():this.tabObj.element.querySelector(".e-ribbon-collapse-btn").focus()}if(i.target.classList.contains("e-ribbon-last-item")&&(n?(o=s[parseInt(this.currentControlIndex.toString(),10)].closest("."+LD)).querySelector(".e-ribbon-launcher-icon").focus():(this.currentControlIndex--,s[parseInt(this.currentControlIndex.toString(),10)].focus())),!n&&i.target.classList.contains("e-ribbon-first-item")&&(c=(o=s[parseInt((this.currentControlIndex-1).toString(),10)].closest("."+LD)).querySelector(".e-ribbon-launcher-icon"))&&o.querySelector(".e-ribbon-launcher-icon").focus(),i.target.classList.contains("e-ribbon-launcher-icon")&&(n?(this.currentControlIndex++,s[parseInt(this.currentControlIndex.toString(),10)].focus(),s[parseInt((this.currentControlIndex-1).toString(),10)].classList.contains("e-ribbon-last-item")&&s[parseInt((this.currentControlIndex-1).toString(),10)].classList.remove("e-ribbon-last-item")):s[parseInt(this.currentControlIndex.toString(),10)].focus()),i.target.classList.contains("e-ribbon-collapse-btn"))if(n){this.currentControlIndex=0;for(var f=s[this.currentControlIndex].closest(".e-ribbon-item");f&&f.classList.contains("e-disabled");)this.currentControlIndex++,f=s[this.currentControlIndex].closest(".e-ribbon-item");s[parseInt(this.currentControlIndex.toString(),10)].focus()}else if((p=this.tabObj.element.querySelector(".e-ribbon-overall-of-btn"))&&!p.classList.contains("e-ribbon-hide"))p.focus();else{for(this.currentControlIndex=s.length-1,f=s[this.currentControlIndex].closest(".e-ribbon-item");f&&f.classList.contains("e-disabled");)this.currentControlIndex--,f=s[this.currentControlIndex].closest(".e-ribbon-item");s[parseInt(this.currentControlIndex.toString(),10)].focus()}"Simplified"===this.activeLayout&&i.target.classList.contains("e-ribbon-overall-of-btn")&&(n?this.tabObj.element.querySelector(".e-ribbon-collapse-btn").focus():(this.currentControlIndex=s.length-1,s[parseInt(this.currentControlIndex.toString(),10)].focus()))},t.prototype.resizeHandler=function(){var i=this.tabObj.element.querySelector("#"+this.tabs[this.selectedTab].id+ed);if(this.checkOverflow(this.selectedTab,i),this.scrollModule){var n=this.tabObj.element.querySelector(".e-hscroll-bar");this.scrollModule.scrollStep=n.offsetWidth}},t.prototype.renderTabs=function(){this.tabsInternal=this.tabs.slice(),this.tabsInternal=this.checkID(this.tabsInternal,"tab",this.element.id),this.setProperties({tabs:this.tabsInternal},!0);var i=this.createElement("div",{id:this.element.id+k5});this.element.appendChild(i),this.validateItemSize();var n=this.createTabItems(this.tabs);this.tabObj=new Rpe({cssClass:"e-ribbon-tab",selectedItem:this.selectedTab,overflowMode:"Popup",width:this.width,items:n,enableRtl:this.enableRtl,created:this.tabCreated.bind(this),selected:this.ribbonTabSelected.bind(this),selecting:this.ribbonTabSelecting.bind(this)}),this.tabObj.appendTo(i),this.element.style.setProperty(Yy,"0px"),this.element.style.setProperty(Vk,"0px"),ln(i.querySelector(".e-toolbar"),N8).setProperties({width:"calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))"}),this.element.classList[this.isMinimized?"add":"remove"](Pk)},t.prototype.minimize=function(i){var n=this;i!==this.isMinimized&&this.trigger(i?"ribbonCollapsing":"ribbonExpanding",{cancel:!1},function(o){o.cancel||(n.setProperties({isMinimized:i},!0),n.element.classList.toggle(Pk,n.isMinimized),n.tabObj.element.querySelector(".e-content").style.display=i?"none":"block",i||n.refreshLayout())})},t.prototype.toggleLayout=function(){this.setProperties({activeLayout:"Simplified"===this.activeLayout?"Classic":"Simplified"},!0),this.switchLayout()},t.prototype.tabCreated=function(){this.hideLayoutSwitcher||this.addExpandCollapse(),this.renderInitialTab(this.selectedTab)},t.prototype.ribbonTabSelected=function(i){this.isAddRemove=!1;var n=i.selectedItem.getAttribute("data-id"),s=jl(this.tabs,function(c){return c.id===n}),o={previousIndex:this.selectedTab,selectedIndex:s=-1===s?this.selectedTab:s};if(this.setProperties({selectedTab:s},!0),this.checkOverflow(s,i.selectedContent.firstChild),"Simplified"===this.activeLayout&&this.overflowDDB){var a=this.overflowDDB.target,l=a.querySelector("."+Nk);l&&l.classList.remove(Nk);var h=a.querySelector("#"+n+eh);h?(h.classList.add(Nk),this.overflowDDB.element.classList.remove(kk)):this.overflowDDB.element.classList.add(kk)}this.trigger("tabSelected",o)},t.prototype.checkOverflow=function(i,n){var s=n.closest("."+OD),o=s.offsetWidth<n.offsetWidth;if(o&&!this.scrollModule){if("Classic"===this.activeLayout){var a=!1;!(a=this.checkGroupShrinking(i,s,n,!0))&&s.offsetWidth<n.offsetWidth&&(a=this.checkGroupShrinking(i,s,n,!1)),s.offsetWidth<n.offsetWidth&&this.createOverflowDropdown(i,s,n)}else this.checkSimplifiedItemShrinking(i,s,n),s.offsetWidth<n.offsetWidth&&this.createSimplfiedOverflow(s,n,i);s.offsetWidth<n.offsetWidth&&!this.scrollModule&&(this.scrollModule=new Sx({enableRtl:this.enableRtl},this.tabObj.element.querySelector("."+OD)))}else o||(this.destroyScroll(),"Classic"===this.activeLayout?(a=!1,!(a=this.removeOverflowDropdown(s,n,!1,i))&&s.offsetWidth>n.offsetWidth&&(a=this.checkGroupExpanding(i,s,n,!0)),!a&&s.offsetWidth>n.offsetWidth&&(a=this.checkGroupExpanding(i,s,n,!1))):(this.removeSimplfiedOverflow(s,n,i),s.offsetWidth>n.offsetWidth&&this.checkSimplifiedItemExpanding(i,s,n)))},t.prototype.checkSimplifiedItemShrinking=function(i,n,s){for(var o=this.tabs[parseInt(i.toString(),10)],a=o.groups.length-1;a>=0;a--)for(var l=o.groups[parseInt(a.toString(),10)],h=n.querySelector("#"+l.id+Br),c=0;c<l.collections.length&&n.offsetWidth<s.offsetWidth;c++)for(var u=l.collections[parseInt(c.toString(),10)],d=u.items.length;d>=1&&n.offsetWidth<s.offsetWidth;d--){var p=u.items[d-1];if(p.allowedSizes&Hi.Small&&p.allowedSizes&Hi.Medium&&p.activeSize===Hi.Medium&&p.displayOptions&Wn.Simplified){var f=h.querySelector("#"+p.id+Br);if(f){var m=f.querySelector("#"+p.id);f.setAttribute("data-medium-width",s.offsetWidth.toString()),p.setProperties({activeSize:Hi.Small},!0),this.setItemSize(m,p)}}}},t.prototype.checkSimplifiedItemExpanding=function(i,n,s){for(var o=this.tabs[parseInt(i.toString(),10)],a=o.groups.length-1;a>=0;a--)for(var l=o.groups[parseInt(a.toString(),10)],h=n.querySelector("#"+l.id+Br),c=0;c<l.collections.length&&n.offsetWidth>s.offsetWidth;c++)for(var u=l.collections[parseInt(c.toString(),10)],d=u.items.length;d>=1&&n.offsetWidth>s.offsetWidth;d--){var p=u.items[d-1];if(p.allowedSizes&Hi.Small&&p.allowedSizes&Hi.Medium&&p.activeSize===Hi.Small&&p.displayOptions&Wn.Simplified){var f=h.querySelector("#"+p.id+Br);if(f){var m=f.getAttribute("data-medium-width"),M=m?parseInt(m,10):null;if(M&&n.offsetWidth>M){f.removeAttribute("data-medium-width");var T=f.querySelector("#"+p.id);p.setProperties({activeSize:Hi.Medium},!0),this.setItemSize(T,p)}}}}},t.prototype.createSimplfiedOverflow=function(i,n,s){for(var o=this.getGroupResizeOrder(!0,s),a=0;a<o.length&&i.offsetWidth<n.offsetWidth;a++){for(var l=o[parseInt(a.toString(),10)],h=i.querySelector("#"+l.id),c=h.querySelector("#"+l.id+Br),u=l.collections.length;u>=1&&i.offsetWidth<n.offsetWidth;u--)for(var d=l.collections[parseInt((u-1).toString(),10)],p=h.querySelector("#"+d.id),f=d.items.length;f>=1&&i.offsetWidth<n.offsetWidth;f--){var m=d.items[f-1],M=p.querySelector("#"+m.id+Br);if((m.displayOptions===Wn.Auto||m.displayOptions===(Wn.Simplified|Wn.Overflow))&&!v(M)){if(M.setAttribute("data-simplified-width",n.offsetWidth.toString()),this.createOverflowPopup(m,s,l.enableGroupOverflow,l.id,l.header,M,c,!0),m.activeSize===Hi.Small){var T=M.querySelector("#"+m.id);m.setProperties({activeSize:Hi.Medium},!0),this.setItemSize(T,m)}(m.type===Ur.DropDown||m.type===Ur.SplitButton||m.type===Ur.GroupButton)&&this.updatePopupItems(m,M,l.enableGroupOverflow,!0)}}l.enableGroupOverflow||h.querySelector("."+Vv)||h.classList.add("e-ribbon-emptyCollection")}},t.prototype.updatePopupItems=function(i,n,s,o){var a=ln(n.querySelector("#"+i.id),i.type===Ur.DropDown||i.type===Ur.GroupButton?Jr:dy),l=a.dropDown,h=(s&&o)===this.enableRtl;l.setProperties({position:{X:h?"left":"right",Y:o?"top":"bottom"}},!0),o?a.beforeOpen=function(){h&&(l.element.style.setProperty("visibility","hidden"),l.element.style.setProperty("display","block"),l.setProperties({offsetX:-1*l.element.offsetWidth}),l.element.style.removeProperty("display"),l.element.style.removeProperty("visibility"))}:(l.setProperties({offsetX:0},!0),a.beforeOpen=null)},t.prototype.removeSimplfiedOverflow=function(i,n,s,o){void 0===o&&(o=!1);for(var a=this.getGroupResizeOrder(!1,s),l=!0,h=0;h<a.length&&l;h++){var c=a[parseInt(h.toString(),10)],u=void 0,d=void 0;if(c.enableGroupOverflow){var p=i.querySelector("#"+c.id+Yc);p&&(d=(u=_o(p,Jr)).target)}else u=this.overflowDDB,d=this.overflowDDB?this.overflowDDB.target:null;for(var f=0;f<c.collections.length&&l;f++)for(var m=c.collections[parseInt(f.toString(),10)],M=0;M<m.items.length&&l&&!o&&i.offsetWidth>n.offsetWidth;M++){var T=m.items[parseInt(M.toString(),10)],P=void 0;if(d&&(P=d.querySelector("#"+T.id+Br)),(T.displayOptions===Wn.Auto||T.displayOptions===(Wn.Simplified|Wn.Overflow))&&!v(P)){var U=parseInt(P.getAttribute("data-simplified-width"),10);if(!o&&i.offsetWidth<U){l=!1;break}var Y=i.querySelector("#"+m.id);(T.type===Ur.DropDown||T.type===Ur.SplitButton||T.type===Ur.GroupButton)&&this.updatePopupItems(T,P,c.enableGroupOverflow,!1),Y.append(P),this.removeOverflowEvent(T,P),T.allowedSizes&Hi.Small&&(T.setProperties({activeSize:Hi.Small},!0),this.setItemSize(P.querySelector("#"+T.id),T))}}var X=i.querySelector("#"+c.id),Q=X.querySelector("."+Vv);if(X.classList.contains("e-ribbon-emptyCollection")&&null!==Q&&X.classList.remove("e-ribbon-emptyCollection"),u)if(c.enableGroupOverflow)0===d.childElementCount&&this.removeOverflowButton(u);else{var oe=d.querySelector("#"+c.id+Br);oe&&1===oe.childElementCount&&oe.remove();var de=d.querySelector("#"+this.tabs[parseInt(s.toString(),10)].id+eh);de&&0===de.childElementCount&&(de.remove(),this.overflowDDB.element.classList.add(kk))}}this.overflowDDB&&0===this.overflowDDB.target.childElementCount&&(this.removeOverflowButton(this.overflowDDB),this.overflowDDB=null)},t.prototype.createOverflowPopup=function(i,n,s,o,a,l,h,c){var u,p=this.tabObj.items[parseInt(n.toString(),10)].content.querySelector("#"+o);if(s){var f=h.querySelector("#"+o+Yc);f?u=_o(f,Jr):((u=this.addOverflowButton(o+Yc)).element.classList.add("e-ribbon-group-of-btn"),h.appendChild(u.element));var m=u.target;p&&p.classList.contains("e-disabled")&&m.classList.add("e-disabled"),c?m.insertBefore(l,m.querySelector("."+Vv)):m.append(l)}else{if(this.overflowDDB){this.overflowDDB.element.classList.remove(kk);var M=this.overflowDDB.target,T=M.querySelector("#"+this.tabs[parseInt(n.toString(),10)].id+eh);if(T){var P=M.querySelector("#"+o+Br);P||(P=this.createGroupContainer(o,a),p&&p.classList.contains("e-disabled")&&P.classList.add("e-disabled"),T.append(P)),c?P.insertBefore(l,P.querySelector("."+Vv)):P.append(l)}else this.createOfTabContainer(o,a,l,n)}else this.overflowDDB=this.addOverflowButton(this.tabObj.element.id+"_sim_ovrl_overflow"),this.tabObj.element.insertBefore(this.overflowDDB.element,this.collapseButton),this.overflowDDB.element.classList.add("e-ribbon-overall-of-btn"),this.createOfTabContainer(o,a,l,n);u=this.overflowDDB}null!==l&&this.addOverflowEvents(i,l,u)},t.prototype.addOverflowEvents=function(i,n,s){switch(i.type){case"Button":this.ribbonButtonModule.addOverFlowEvents(i,n,s);break;case"DropDown":this.ribbonDropDownModule.addOverFlowEvents(i,n,s);break;case"SplitButton":this.ribbonSplitButtonModule.addOverFlowEvents(i,n,s);break;case"CheckBox":this.ribbonCheckBoxModule.addOverFlowEvents(i,n,s);break;case"ColorPicker":this.ribbonColorPickerModule.addOverFlowEvents(i,n,s);break;case"ComboBox":this.ribbonComboBoxModule.addOverFlowEvents(i,n,s);break;case"GroupButton":if("Simplified"===this.activeLayout){this.ribbonGroupButtonModule.addOverFlowEvents(i,n);break}}},t.prototype.createOfTabContainer=function(i,n,s,o){var a=this.createElement("div",{id:this.tabs[parseInt(o.toString(),10)].id+eh,className:"e-ribbon-of-tab"});this.overflowDDB.target.append(a);var h=this.createGroupContainer(i,n);h.append(s),a.append(h),o===this.selectedTab&&a.classList.add(Nk)},t.prototype.checkGroupShrinking=function(i,n,s,o){for(var a=!0,l=!1,h=this.tabs[parseInt(i.toString(),10)],c=h.groups.length-1;a&&c>=0;c--)a=!(l=o?this.checkLargeToMedium(i,h,c,n,s):this.checkMediumToSmall(i,h,c,n,s))&&n.offsetWidth<s.offsetWidth;return l},t.prototype.checkValidCollectionLength=function(i){for(var n=0,s=0;s<i.length;s++){for(var o=i[parseInt(s.toString(),10)].items,a=0;a<o.length;a++)if(o[parseInt(a.toString(),10)].displayOptions&Wn.Classic){n++;break}if(n>1)return!1}return 1===n},t.prototype.checkClassicCollection=function(i,n,s){for(var o=i[parseInt(n.toString(),10)].items,a=0;a<o.length;a++)if(o[parseInt(a.toString(),10)].displayOptions&Wn.Classic)return n;return n=s?n+1:n-1,s?n===i.length?n:this.checkClassicCollection(i,n,s):n<0?n:this.checkClassicCollection(i,n,s)},t.prototype.checkClassicItem=function(i,n,s){return i[parseInt(n.toString(),10)].displayOptions&Wn.Classic?n:(n=s?n+1:n-1,s?n===i.length?n:this.checkClassicItem(i,n,s):n<0?n:this.checkClassicItem(i,n,s))},t.prototype.checkLargeToMedium=function(i,n,s,o,a,l){var h=this;void 0===l&&(l=!1);var c=n.groups[parseInt(s.toString(),10)];if(c.isCollapsed&&!l)return!1;var u=function(X){return 1===X.items.length&&d(X.items[0])},d=function(X){return X.allowedSizes&Hi.Medium&&X.activeSize===Hi.Large},p=function(X,Q,oe,de){var Me=h.createElement("div",{className:"e-ribbon-shrink "+Uy,id:X+"_shrink_container"+oe,attrs:{"data-start":oe.toString(),"data-end":de.toString()}});return Q.parentElement.insertBefore(Me,Q),l||Me.setAttribute("data-large-width",a.offsetWidth.toString()),Me},f=function(X,Q){for(var oe=h.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections[0],de=a.querySelector("#"+oe.items[parseInt(X.toString(),10)].id+Br),Me=l?a.querySelector("#"+oe.id+"_shrink_container"+X):p(oe.id,de,X,Q),Ve=X;Ve<=Q;Ve++){var Ce=oe.items[parseInt(Ve.toString(),10)];if(Ce.displayOptions&Wn.Classic){var ze=a.querySelector("#"+Ce.id+Br);Me.appendChild(ze),Ce.setProperties({activeSize:Hi.Medium},!0),h.setItemSize(ze.querySelector(Ce.type===Ur.GroupButton&&"Classic"===h.activeLayout?"#"+Ce.id+On:"#"+Ce.id),Ce)}}},m=function(X,Q){for(var oe=h.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)],de=a.querySelector("#"+oe.collections[parseInt(X.toString(),10)].id),Me=l?a.querySelector("#"+oe.id+"_shrink_container"+X):p(oe.id,de,X,Q),Ve=X;Ve<=Q;Ve++){var Ce=oe.collections[parseInt(Ve.toString(),10)],ze=a.querySelector("#"+Ce.id);Me.appendChild(ze),Ce.items[0].setProperties({activeSize:Hi.Medium},!0),h.setItemSize(ze.querySelector(Ce.items[0].type===Ur.GroupButton&&"Classic"===h.activeLayout?"#"+Ce.items[0].id+On:"#"+Ce.items[0].id),Ce.items[0])}};if(c.orientation===rI.Column){for(var T=c.collections.length-1;T>0;T--)if((P=(T=this.checkClassicCollection(c.collections,T,!1))-1)>=0&&u(c.collections[parseInt(T.toString(),10)]))if((P=this.checkClassicCollection(c.collections,P,!1))>=0&&u(c.collections[parseInt(P.toString(),10)])){if((U=P-1)>=0&&(U=this.checkClassicCollection(c.collections,U,!1)),U>=0&&u(c.collections[parseInt(U.toString(),10)])?m(U,T):m(P,T),T=U,!l&&o.offsetWidth>a.offsetWidth)return!0}else T=P}else if(this.checkValidCollectionLength(c.collections)){var Y=c.collections[0];for(T=Y.items.length-1;T>0;T--){var P;if((P=(T=this.checkClassicItem(Y.items,T,!1))-1)>=0&&d(Y.items[parseInt(T.toString(),10)]))if((P=this.checkClassicItem(Y.items,P,!1))>=0&&d(Y.items[parseInt(P.toString(),10)])){var U;if((U=P-1)>=0&&(U=this.checkClassicItem(Y.items,U,!1)),U>=0&&d(Y.items[parseInt(U.toString(),10)])?f(U,T):f(P,T),T=U,!l&&o.offsetWidth>a.offsetWidth)return!0}else T=P}}return!1},t.prototype.checkMediumToSmall=function(i,n,s,o,a,l){var h=this;void 0===l&&(l=!1);var c=n.groups[parseInt(s.toString(),10)];if(c.isCollapsed&&!l)return!1;var u=c.orientation,p=a.querySelector("#"+c.id).querySelectorAll(".e-ribbon-shrink"),f=function(Ce){return Ce.allowedSizes&Hi.Small&&Ce.activeSize===Hi.Medium},m=function(Ce,ze,Ie,pe){void 0===pe&&(pe=null);var Pe=h.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections[parseInt(Ce.toString(),10)],Qe=function(Oe){var Ye=Pe.items[parseInt(Oe.toString(),10)];if(Ye.displayOptions&Wn.Classic){var ut=a.querySelector("#"+Ye.id);Ye.setProperties({activeSize:Hi.Small},!0),Ye.type===Ur.GroupButton&&(ut=a.querySelector("#"+Ye.id+"_grpbtn")),h.setItemSize(ut,Ye)}};Qe(ze),pe&&Qe(pe),Qe(Ie)},M=function(Ce,ze,Ie,pe){void 0===pe&&(pe=null);var Pe=h.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)];l||p[parseInt(Ce.toString(),10)].setAttribute("data-medium-width",a.offsetWidth.toString());var Qe=function(Oe){var Ye=Pe.collections[parseInt(Oe.toString(),10)];if(Ye.items[0].displayOptions&Wn.Classic){var ut=a.querySelector("#"+Ye.items[0].id);Ye.items[0].setProperties({activeSize:Hi.Small},!0),Ye.items[0].type===Ur.GroupButton&&(ut=a.querySelector("#"+Ye.items[0].id+On)),h.setItemSize(ut,Ye.items[0])}};Qe(ze),pe&&Qe(pe),Qe(Ie)},T=function(Ce){l||a.querySelector("#"+Ce).setAttribute("data-medium-width",a.offsetWidth.toString())};if(u===rI.Column){if(p.length>0)for(var P=p.length-1;P>=0;P--){var U=parseInt(p[parseInt(P.toString(),10)].getAttribute("data-start"),10),Y=parseInt(p[parseInt(P.toString(),10)].getAttribute("data-end"),10),X=this.checkClassicCollection(c.collections,U+1,!1);if(f(c.collections[parseInt(U.toString(),10)].items[0])&&f(c.collections[parseInt(X.toString(),10)].items[0])&&(Y===X?M(P,U,Y):f(c.collections[parseInt(Y.toString(),10)].items[0])&&M(P,U,Y,X),!l&&o.offsetWidth>a.offsetWidth))return!0}for(P=c.collections.length-1;P>=0;P--){for(var Q=c.collections[parseInt(P.toString(),10)],oe=[],de=0;de<Q.items.length;de++)Q.items[parseInt(de.toString(),10)].displayOptions&Wn.Classic&&oe.push(de);if(oe.length>1&&f(Q.items[oe[0]])&&f(Q.items[oe[1]])&&(2===oe.length?(T(Q.id),m(P,oe[0],oe[1])):f(Q.items[oe[2]])&&(T(Q.id),m(P,oe[0],oe[2],oe[1])),!l&&o.offsetWidth>a.offsetWidth))return!0}}else if(this.checkValidCollectionLength(c.collections)){if(p.length>0)for(P=p.length-1;P>=0;P--){var Me=p[parseInt(P.toString(),10)];if(U=parseInt(Me.getAttribute("data-start"),10),Y=parseInt(Me.getAttribute("data-end"),10),X=this.checkClassicItem((Q=c.collections[0]).items,U+1,!1),f(c.collections[0].items[parseInt(U.toString(),10)])&&f(c.collections[0].items[parseInt(X.toString(),10)])&&(Y===X?(T(Me.id),m(0,U,Y)):f(c.collections[0].items[parseInt(Y.toString(),10)])&&(T(Me.id),m(0,U,Y,X)),!l&&o.offsetWidth>a.offsetWidth))return!0}}else for(P=c.collections.length-1;P>=0;P--)for(X=(Q=c.collections[parseInt(P.toString(),10)]).items.length-1;X>=0;X--)if(!((X=this.checkClassicItem(Q.items,X,!1))<0)){var Ve=Q.items[parseInt(X.toString(),10)];if(f(Ve)&&(T(Ve.type!==Ur.GroupButton?Ve.id:Ve.id+On),m(P,X,X),!l&&o.offsetWidth>a.offsetWidth))return!0}return!1},t.prototype.checkGroupExpanding=function(i,n,s,o){for(var a=!1,l=this.tabs[parseInt(i.toString(),10)],h=0;!a&&h<l.groups.length;h++)a=o?this.checkSmallToMedium(i,l,h,n,s,!1,!0):this.checkMediumToLarge(i,l,h,n,s,!1,!0);return a},t.prototype.checkSmallToMedium=function(i,n,s,o,a,l,h){var Pe,c=this,u=n.groups[parseInt(s.toString(),10)],d=u.orientation,f=a.querySelector("#"+u.id).querySelectorAll(".e-ribbon-shrink"),M=function(Pe,Qe,Oe){var ut=c.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections[parseInt(Pe.toString(),10)].items[parseInt(Qe.toString(),10)];if(ut.displayOptions&Wn.Classic){var Xt=Oe.id===ut.id?Oe:Oe.querySelector("#"+ut.id);ut.setProperties({activeSize:Hi.Medium},!0),ut.type===Ur.GroupButton&&(Xt=document.querySelector("#"+ut.id+On)),c.setItemSize(Xt,ut)}},T=function(Pe){var Qe=c.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections,Oe=Qe[parseInt(Pe.toString(),10)].items[0];if(Oe.displayOptions&Wn.Classic){var Ye=a.querySelector("#"+Qe[parseInt(Pe.toString(),10)].items[0].id);Qe[parseInt(Pe.toString(),10)].items[0].setProperties({activeSize:Hi.Medium},!0),Oe.type===Ur.GroupButton&&(Ye=a.querySelector("#"+Qe[parseInt(Pe.toString(),10)].items[0].id+On)),c.setItemSize(Ye,Qe[parseInt(Pe.toString(),10)].items[0])}};if(d===rI.Row){if(!this.checkValidCollectionLength(u.collections))for(var P=0;P<u.collections.length;P++)for(var U=u.collections[parseInt(P.toString(),10)],Y=0;Y<U.items.length;Y++)if((Y=this.checkClassicItem(U.items,Y,!0))!==U.items.length){var X=U.items[parseInt(Y.toString(),10)];if((Pe=X).allowedSizes&Hi.Medium&&Pe.activeSize===Hi.Small){var Q=a.querySelector("#"+X.id);if("GroupButton"===X.type&&(Q=a.querySelector("#"+X.id+On)),(de=(oe=Q.getAttribute("data-medium-width"))?parseInt(oe,10):null)&&(l||o.offsetWidth>de))M(P,Y,Q),(!l||h)&&Q.removeAttribute("data-medium-width");else if(de)return!0}}}else for(P=0;P<u.collections.length;P++)if(u.collections[parseInt(P.toString(),10)].items.length>1){U=u.collections[parseInt(P.toString(),10)];for(var de=(oe=(Q=a.querySelector("#"+U.id)).getAttribute("data-medium-width"))?parseInt(oe,10):null,Me=[],Ve=0;Ve<U.items.length;Ve++)U.items[parseInt(Ve.toString(),10)].displayOptions&Wn.Classic&&Me.push(Ve);if(Me.length>1&&de&&(l||o.offsetWidth>de))M(P,Me[0],Q),M(P,Me[1],Q),3===Me.length&&M(P,Me[2],Q),(!l||h)&&Q.removeAttribute("data-medium-width");else if(de)return!0}if(f.length>0)for(P=0;P<f.length;P++){var oe,Ce=f[parseInt(P.toString(),10)];if((de=(oe=Ce.getAttribute("data-medium-width"))?parseInt(oe,10):null)&&(l||o.offsetWidth>de)){var ze=parseInt(Ce.getAttribute("data-start"),10),Ie=parseInt(Ce.getAttribute("data-end"),10);if(d===rI.Row)Y=this.checkClassicItem((U=u.collections[0]).items,ze+1,!0),M(0,ze,Ce),M(0,Y,Ce),Y!==Ie&&M(0,Ie,Ce);else{var pe=this.checkClassicCollection(u.collections,ze+1,!0);T(ze),T(pe),pe!==Ie&&T(Ie)}(!l||h)&&Ce.removeAttribute("data-medium-width")}else if(de)return!0}return!1},t.prototype.checkMediumToLarge=function(i,n,s,o,a,l,h){var c=this,u=n.groups[parseInt(s.toString(),10)],d=u.orientation,f=a.querySelector("#"+u.id).querySelectorAll(".e-ribbon-shrink");if(0===f.length)return!1;for(var m=function(Ve,Ce,ze,Ie){var pe=c.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections[0].items,Pe=function(Qe){var Oe=pe[parseInt(Qe.toString(),10)];if(Oe.displayOptions&Wn.Classic){var Ye=ze.querySelector("#"+Oe.id+Br),ut=Ye.querySelector("#"+Oe.id);Oe.setProperties({activeSize:Hi.Large},!0),Oe.type===Ur.GroupButton&&(ut=Ye.querySelector("#"+Oe.id+On)),c.setItemSize(ut,Oe),ze.insertAdjacentElement("beforebegin",Ye)}};Pe(Ve),Ie&&Pe(Ie),Pe(Ce),(!l||h)&&bn(ze)},M=function(Ve,Ce,ze,Ie){var pe=c.tabs[parseInt(i.toString(),10)].groups[parseInt(s.toString(),10)].collections,Pe=function(Qe){var Oe=pe[parseInt(Qe.toString(),10)];if(Oe.items[0].displayOptions&Wn.Classic){var Ye=ze.querySelector("#"+Oe.id),ut=Ye.querySelector("#"+Oe.items[0].id);Oe.items[0].setProperties({activeSize:Hi.Large},!0),Oe.items[0].type===Ur.GroupButton&&(ut=Ye.querySelector("#"+Oe.items[0].id+On)),c.setItemSize(ut,Oe.items[0]),ze.insertAdjacentElement("beforebegin",Ye)}};Pe(Ve),Ie&&Pe(Ie),Pe(Ce),(!l||h)&&bn(ze)},T=0;T<f.length;T++){var P=f[parseInt(T.toString(),10)],U=P.getAttribute("data-large-width"),Y=U?parseInt(U,10):null;if(Y&&(l||o.offsetWidth>Y)){var X=parseInt(P.getAttribute("data-start"),10),Q=parseInt(P.getAttribute("data-end"),10);if(d===rI.Row){var de=this.checkClassicItem(u.collections[0].items,X+1,!0);de===Q?m(X,Q,P):m(X,Q,P,de)}else{var Me=this.checkClassicCollection(u.collections,X+1,!0);Me===Q?M(X,Q,P):M(X,Q,P,Me)}(!l||h)&&P.removeAttribute("data-large-width")}else if(Y)return!0}return!1},t.prototype.handleContentSize=function(i,n){var s=i.closest("."+O5);n?s.classList.add(Wv):s.classList.remove(Wv)},t.prototype.setItemSize=function(i,n){var s=i.closest("."+Vv);n.type===Ur.Button?this.ribbonButtonModule.updateButtonSize(i,n):n.type===Ur.DropDown?this.ribbonDropDownModule.updateDropDownSize(i,n):n.type===Ur.SplitButton?this.ribbonSplitButtonModule.updateSplitButtonSize(i,n):n.type===Ur.Template?(bn(i),this.createTemplateContent(n,s)):n.type===Ur.GroupButton&&this.ribbonGroupButtonModule.updateGroupButtonSize(i,n),s.classList.remove(Wv,kD,Fk,jk),n.activeSize===Hi.Large?s.classList.add(kD,Wv):s.classList.add(n.activeSize===Hi.Medium?Fk:jk)},t.prototype.createOverflowDropdown=function(i,n,s){var o=this.getGroupResizeOrder(!0,i);if(0!==o.length)for(var a=function(c){var u=o[parseInt(c.toString(),10)],d=l.tabObj.element.querySelector("#"+u.id);d.setAttribute("data-expanded-width",s.offsetWidth.toString());var p=d.querySelector("#"+u.id+Br),f=l.createElement("div",{className:"e-ribbon-group-overflow "+kD,id:u.id+eh+Br});d.insertBefore(f,p);var m=jl(l.tabs[parseInt(i.toString(),10)].groups,function(de){return de.id===u.id}),M=l.tabs[parseInt(i.toString(),10)];l.checkSmallToMedium(i,M,m,n,s,!0,!1),l.checkMediumToLarge(i,M,m,n,s,!0,!1);var T=l.ribbonDropDownModule.createOverFlowDropDown(u.id,u.header,u.groupIconCss,p,f,l.enableRtl);l.tabs[parseInt(i.toString(),10)].groups[parseInt(m.toString(),10)].setProperties({isCollapsed:!0},!0);for(var P=0;P<u.collections.length;P++)for(var U=u.collections[parseInt(P.toString(),10)],Y=p.querySelector("#"+U.id),X=0;X<U.items.length;X++){var Q=U.items[parseInt(X.toString(),10)],oe=Y.querySelector("#"+Q.id+Br);null!==oe&&(l.handleContentSize(oe),l.addOverflowEvents(Q,oe,T))}},l=this,h=0;h<o.length&&n.offsetWidth<s.offsetWidth;h++)a(h)},t.prototype.removeOverflowDropdown=function(i,n,s,o){void 0===s&&(s=!1);var a=this.getGroupResizeOrder(!1,o);if(0===a.length)return!1;for(var l=function(d){var p=a[parseInt(d.toString(),10)],f=h.tabObj.element.querySelector("#"+p.id);if(!f)return"break";var m=parseInt(f.getAttribute("data-expanded-width"),10);if(!s&&i.offsetWidth<m)return{value:!0};h.removeDropdown(p.id);var M=jl(h.tabs[parseInt(o.toString(),10)].groups,function(de){return de.id===p.id});h.tabs[parseInt(o.toString(),10)].groups[parseInt(M.toString(),10)].setProperties({isCollapsed:!1},!0);var T=h.tabs[parseInt(o.toString(),10)];h.checkLargeToMedium(o,T,M,i,n,!0),h.checkMediumToSmall(o,T,M,i,n,!0);for(var P=0;P<p.collections.length;P++)for(var U=p.collections[parseInt(P.toString(),10)],Y=f.querySelector("#"+U.id),X=0;X<U.items.length;X++){var Q=U.items[parseInt(X.toString(),10)],oe=Y.querySelector("#"+Q.id+Br);null!==oe&&(h.handleContentSize(oe,!0),h.removeOverflowEvent(Q,oe))}},h=this,c=0;c<a.length;c++){var u=l(c);if("object"==typeof u)return u.value;if("break"===u)break}return!1},t.prototype.removeDropdown=function(i){var n=this.tabObj.element.querySelector("#"+i+eh+Zf);if(n){var s=n.parentElement;this.ribbonDropDownModule.removeOverFlowDropDown(n),bn(s)}},t.prototype.getGroupResizeOrder=function(i,n){var s=this,o=this.tabs[parseInt(n.toString(),10)].groups;return(o=o.filter(function(a){return"Classic"!==s.activeLayout||(Cn(a.isCollapsible)||a.isCollapsible)&&(i&&Cn(a.isCollapsed)||!Cn(a.isCollapsed)&&i!==a.isCollapsed)})).sort(function(a,l){return a.priority-l.priority}),i?o.reverse():o},t.prototype.destroyScroll=function(){this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.clearOverflowDropDown=function(i){var n=this.tabObj.element.querySelector("#"+this.tabs[parseInt(i.toString(),10)].id+ed);if(n){var s=n.closest("."+OD);"Simplified"===this.activeLayout?this.removeSimplfiedOverflow(n,s,i,!0):this.removeOverflowDropdown(n,s,!0,i)}},t.prototype.ribbonTabSelecting=function(i){var n=this;this.currentControlIndex=0;var s=i.selectingItem.getAttribute("data-id"),o=i.previousItem.getAttribute("data-id"),a=jl(this.tabs,function(c){return c.id===s}),l=jl(this.tabs,function(c){return c.id===o});this.trigger("tabSelecting",{cancel:i.cancel,isInteracted:i.isInteracted,previousIndex:l,selectedIndex:a=-1===a?this.selectedTab:a},function(c){if(!c.cancel){n.destroyScroll(),!n.isAddRemove&&-1!==l&&n.clearOverflowDropDown(l);var u=n.tabObj.items[parseInt(a.toString(),10)].content;u.querySelector("."+_k)||0===n.tabs[parseInt(a.toString(),10)].groups.length||Yi(n.createGroups(n.tabs[parseInt(a.toString(),10)].groups,a),u)}})},t.prototype.createTabItems=function(i){for(var n=this,s=[],o=0;o<i.length;o++){var a=i[parseInt(o.toString(),10)],l=this.createElement("span",{innerHTML:a.header,id:a.id+Wy});l.onclick=function(){n.minimize(!1)},l.ondblclick=function(){n.minimize(!0)};var h={header:{text:l},id:a.id,cssClass:a.cssClass},c=this.createElement("div",{className:h.cssClass,id:a.id+ed});c.classList.add("e-ribbon-tab-item"),h.content=c,s.push(h)}return s},t.prototype.renderInitialTab=function(i){Yi(this.createGroups(this.tabs[parseInt(i.toString(),10)].groups,i),this.tabObj.items[parseInt(i.toString(),10)].content),"Simplified"===this.activeLayout&&this.element.classList.add(L5);var o=this.tabObj.element.querySelector("#"+this.tabs[this.selectedTab].id+ed);this.checkOverflow(this.selectedTab,o)},t.prototype.addOverflowButton=function(i){var l,n=this,s=this.createElement("button",{id:i}),o=this.createElement("div",{className:"e-ribbon-overflow-target",attrs:{tabindex:"0"}}),a=new Jr({iconCss:"e-icons e-more-horizontal-1",cssClass:"e-caret-hide "+S$,target:o,locale:this.locale,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence,beforeClose:function(h){h.event&&Je(h.event.target,"."+Cu)&&(h.cancel=!0)}},s);return this.element.classList.add(A5),_D(o,this),s.onkeydown=s.onclick=function(){n.itemIndex=-1,l=!s.classList.contains("e-ribbon-overall-of-btn")},o.onkeydown=function(h){return n.upDownKeyHandler(h,o,l),n},a},t.prototype.upDownKeyHandler=function(i,n,s){var o,h,l=(o=s?n.getElementsByClassName("e-ribbon-item"):n.querySelector(".e-ribbon-of-tab.e-ribbon-active").getElementsByClassName("e-ribbon-item"))[!this.itemIndex||this.itemIndex<0?0:this.itemIndex].querySelector(".e-control").classList.contains("e-combobox")?o[!this.itemIndex||this.itemIndex<0?0:this.itemIndex].querySelector(".e-combobox"):null;(null===l||"Tab"===i.key||this.itemIndex<0)&&("ArrowDown"===i.key||!i.shiftKey&&"Tab"===i.key?!this.itemIndex&&0!==this.itemIndex||this.itemIndex<0||this.itemIndex===o.length-1?(this.itemIndex=0,h=o[this.itemIndex].closest(".e-ribbon-item"),this.findDisabledItem(h,o,!0),l&&"Tab"===i.key&&(i.preventDefault(),o[this.itemIndex].querySelector(".e-control").focus())):this.itemIndex<o.length-1&&this.itemIndex>=0&&(this.itemIndex++,h=o[this.itemIndex].closest(".e-ribbon-item"),this.findDisabledItem(h,o,!0)):("ArrowUp"===i.key||i.shiftKey&&"Tab"===i.key)&&(null===l||"Tab"===i.key)&&(this.itemIndex&&-1!==this.itemIndex?this.itemIndex<=o.length-1&&this.itemIndex>0&&(this.itemIndex--,h=o[this.itemIndex].closest(".e-ribbon-item"),this.findDisabledItem(h,o,!1)):(this.itemIndex=o.length-1,h=o[this.itemIndex].closest(".e-ribbon-item"),this.findDisabledItem(h,o,!1),l&&i.shiftKey&&"Tab"===i.key&&(i.preventDefault(),o[this.itemIndex].querySelector(".e-control").focus()))),n.setAttribute("index",this.itemIndex.toString()));var c=parseInt(n.getAttribute("index"),10),u=o[parseInt(c.toString(),10)]?o[parseInt(c.toString(),10)].querySelector(".e-control").getAttribute("data-control"):null;if(("ArrowDown"===i.key||"ArrowUp"===i.key||" "===i.key||"Tab"===i.key)&&("ColorPicker"===u?("Tab"===i.key&&i.preventDefault(),o[parseInt(c.toString(),10)].querySelector(".e-split-colorpicker").focus()):("Tab"===i.key&&i.preventDefault(),o[parseInt(c.toString(),10)].querySelector(".e-control").focus())," "===i.key&&"CheckBox"===u)){var p=ln(o[parseInt(c.toString(),10)].querySelector(".e-control"),ub);this.itemIndex=-1,p.click()}"SplitButton"===u&&("ArrowRight"===i.key||"ArrowLeft"===i.key)&&("ArrowRight"===i.key&&(this.enableRtl?o[parseInt(c.toString(),10)].querySelector(".e-control").focus():o[parseInt(c.toString(),10)].querySelector(".e-dropdown-btn").focus()),"ArrowLeft"===i.key&&(this.enableRtl?o[parseInt(c.toString(),10)].querySelector(".e-dropdown-btn").focus():o[parseInt(c.toString(),10)].querySelector(".e-control").focus())),"Enter"===i.key&&(this.itemIndex=-1)},t.prototype.findDisabledItem=function(i,n,s){for(;i&&i.classList.contains("e-disabled");)s?this.itemIndex===n.length-1&&n[this.itemIndex].closest(".e-ribbon-item").classList.contains("e-disabled")&&(this.itemIndex=-1):0===this.itemIndex&&n[this.itemIndex].closest(".e-ribbon-item").classList.contains("e-disabled")&&(this.itemIndex=n.length),s?this.itemIndex++:this.itemIndex--,i=n[this.itemIndex].closest(".e-ribbon-item")},t.prototype.removeOverflowButton=function(i){if(i){var n=i.element;R$(i.target),i.destroy(),n.remove()}},t.prototype.removeOverflowEvent=function(i,n){switch(i.type){case"Button":this.ribbonButtonModule.removeOverFlowEvents(i,n);break;case"DropDown":this.ribbonDropDownModule.removeOverFlowEvents(i,n);break;case"SplitButton":this.ribbonSplitButtonModule.removeOverFlowEvents(i,n);break;case"CheckBox":this.ribbonCheckBoxModule.removeOverFlowEvents(i,n);break;case"ColorPicker":this.ribbonColorPickerModule.removeOverFlowEvents(i,n);break;case"ComboBox":this.ribbonComboBoxModule.removeOverFlowEvents(i,n);break;case"GroupButton":this.ribbonGroupButtonModule.removeOverFlowEvents(i,n)}},t.prototype.createGroupContainer=function(i,n){var s=this.createElement("div",{className:"e-ribbon-of-group-container",id:i+Br}),o=this.createElement("div",{className:"e-ribbon-overflow-header",id:i+Wy,innerHTML:n});return s.append(o),s},t.prototype.addExpandCollapse=function(){var i=this;this.collapseButton=this.createElement("span",{className:y$+Yn+"e-icons e-drop-icon",id:this.tabObj.element.id+"_collapsebutton",attrs:{tabindex:"0",type:"button","aria-label":"Layout Switcher",role:"button"}}),this.collapseButton.onclick=function(){i.toggleLayout()},this.collapseButton.onkeydown=function(n){"Enter"===n.key&&i.toggleLayout()},this.element.classList.add(E5),"Simplified"===this.activeLayout&&this.collapseButton.classList.add(b$),this.tabObj.element.appendChild(this.collapseButton)},t.prototype.removeExpandCollapse=function(){var i=this,n=jl(this.tooltipData,function(s){return s.id===i.collapseButton.id});-1!==n&&this.tooltipData.splice(n,1),this.element.classList.remove(E5),bn(this.tabObj.element.querySelector("."+y$)),this.collapseButton=null},t.prototype.reRenderTabs=function(i){for(var n in this.destroyScroll(),this.checkID(this.tabs,"tab",this.element.id),i){for(var s=parseInt(n,10),o=i[parseInt(s.toString(),10)],a=!1,l=0;l<this.tabObj.items.length;l++)if(this.tabs[parseInt(s.toString(),10)].id===this.tabObj.items[parseInt(l.toString(),10)].id){a=!0;break}if(!a){this.destroyTabItems(this.tabsInternal),this.tabsInternal=this.tabs.slice(),this.validateItemSize();var h=this.createTabItems(this.tabs);this.selectedTab>=this.tabs.length&&(this.selectedTab=this.tabs.length-1),this.tabObj.setProperties({items:h,selectedItem:this.selectedTab});break}var c=this.tabs[parseInt(s.toString(),10)].groups,u=this.tabObj.element,d=this.tabs[parseInt(s.toString(),10)];d.setProperties(o,!0),this.setProperties({groups:this.checkID(d.groups,"group",d.id)},!0),this.validateItemSize();var p=this.tabObj.items[parseInt(s.toString(),10)].content;if(c&&(o.header&&(this.tabObj.items[parseInt(s.toString(),10)].header.text.innerText=d.header),o.cssClass&&(this.tabObj.items[parseInt(s.toString(),10)].cssClass&&(p.classList.remove(this.tabObj.items[parseInt(s.toString(),10)].cssClass),u.querySelector(".e-active").classList.remove(this.tabObj.items[parseInt(s.toString(),10)].cssClass)),p.classList.add(d.cssClass),u.querySelector(".e-active").classList.add(d.cssClass)),o.groups)){for(var f=0,m=c;f<m.length;f++){for(var M=m[f],T=M.isCollapsed?p.querySelector("#"+M.id+eh+Zf):null,P=0,U=M.collections;P<U.length;P++)for(var X=0,Q=U[P].items;X<Q.length;X++){var oe=Q[X],de=T?this.ribbonDropDownModule.getDDBItemElement(T,oe.id):p.querySelector("#"+oe.id);de&&this.destroyFunction(oe,de)}T&&this.ribbonDropDownModule.removeOverFlowDropDown(T)}p.querySelectorAll(".e-ribbon-group").forEach(function(Ce){Ce.remove()}),Yi(this.createGroups(d.groups,s),p)}}},t.prototype.switchLayout=function(){this.currentControlIndex=0,this.destroyScroll(),this.collapseButton.classList.toggle(b$,"Simplified"===this.activeLayout),this.element.classList.toggle(L5,"Simplified"===this.activeLayout);for(var i=0;i<=this.tabs.length-1;i++){var n=i;if(""!==this.tabObj.items[parseInt(n.toString(),10)].content.innerHTML){var o=this.tabs[parseInt(n.toString(),10)],a=this.tabs[parseInt(n.toString(),10)].groups,l=this.tabObj.element.querySelector("#"+this.tabs[parseInt(n.toString(),10)].id+ed),h=l.closest("."+OD);if("Simplified"===this.activeLayout)for(var c=0;c<a.length;c++){var u=a[parseInt(c.toString(),10)],d=a[parseInt(c.toString(),10)].orientation;u.isCollapsed?(u.setProperties({isCollapsed:!1},!0),this.removeDropdown(u.id)):(this.checkSmallToMedium(n,o,c,h,l,!0,!1),this.checkMediumToLarge(n,o,c,h,l,!0,!1));for(var p=h.querySelector("#"+u.id),m=(f=p.querySelector("#"+u.id+Br)).querySelectorAll(".e-ribbon-shrink"),M=0;M<m.length;M++)m[parseInt(M.toString(),10)].remove();(T=f.querySelector("#"+u.id+Wy)).remove(),(P=f.querySelector("#"+u.id+ed)).classList.replace(Uy,Zb),P.classList.remove(Wv);for(var U=0;U<u.collections.length;U++){var Y=u.collections[parseInt(U.toString(),10)];(X=f.querySelector("#"+Y.id)).classList.replace(Uy,Zb);for(var Q=0;Q<Y.items.length;Q++){for(var oe=Y.items,de=Y.items[parseInt(Q.toString(),10)],Me=!0;Me&&de.displayOptions===Wn.Classic;){Q++;var Ve=f.querySelector("#"+de.id+Br),Ce=Ve.querySelector("#"+de.id);this.destroyFunction(de,Ce),Ve.remove(),Q<oe.length?de=oe[parseInt(Q.toString(),10)]:Me=!1}if(!Me)break;var ze=de.allowedSizes===Hi.Large||de.allowedSizes&Hi.Medium?Hi.Medium:Hi.Small;ze=!(de.displayOptions&Wn.Simplified)&&de.displayOptions&Wn.Overflow?Hi.Medium:ze;var Ie=void 0;de.displayOptions&Wn.Classic?(Ie=f.querySelector("#"+de.id+Br),de.displayOptions===(Wn.Classic|Wn.Overflow)&&(this.createOverflowPopup(de,n,u.enableGroupOverflow,u.id,u.header,Ie,f),(de.type===Ur.DropDown||de.type===Ur.SplitButton||de.type===Ur.GroupButton)&&this.updatePopupItems(de,Ie,u.enableGroupOverflow,!0)),de.type===Ur.GroupButton&&this.ribbonGroupButtonModule.switchGroupButton(de,Ie),de.setProperties({activeSize:ze},!0),Ce=Ie.querySelector("#"+de.id),this.setItemSize(Ce,de)):(Ie=this.createItems([de],d,u.id,u.header,u.enableGroupOverflow,n,f)[0],de.displayOptions&Wn.Simplified&&X.append(Ie))}}u.enableGroupOverflow||p.querySelector("."+Vv)||p.classList.add("e-ribbon-emptyCollection")}else{this.element.classList.remove(A5);for(var pe=0;pe<a.length;pe++){u=a[parseInt(pe.toString(),10)],d=a[parseInt(pe.toString(),10)].orientation;var f,P=(f=h.querySelector("#"+u.id+Br)).querySelector("#"+u.id+ed),T=this.createElement("div",{className:C$,id:u.id+Wy,innerHTML:u.header});for(f.appendChild(T),"Row"===d&&P.classList.replace(Zb,Uy),P.classList.add(Wv),U=0;U<u.collections.length;U++){var Pe=void 0,Qe=void 0;if(u.enableGroupOverflow){var Oe=f.querySelector("#"+u.id+Yc);Oe&&(Qe=(Pe=_o(Oe,Jr)).target)}else(Pe=this.overflowDDB)&&(Qe=this.overflowDDB.target);Y=u.collections[parseInt(U.toString(),10)];var X=f.querySelector("#"+Y.id);for("Column"===d&&X.classList.replace(Zb,Uy),Q=0;Q<Y.items.length;Q++){for(oe=Y.items,de=Y.items[parseInt(Q.toString(),10)],Me=!0;Me&&!(de.displayOptions&Wn.Classic);){if(Q++,Ie=void 0,(de.displayOptions&Wn.Simplified||de.displayOptions&Wn.Overflow)&&null!==(Ie=de.displayOptions&Wn.Simplified?f.querySelector("#"+de.id+Br):Qe.querySelector("#"+de.id+Br))){var Ye=Ie.querySelector("#"+de.id);this.destroyFunction(de,Ye),Ie.remove()}Q<oe.length?de=oe[parseInt(Q.toString(),10)]:Me=!1}if(!Me)break;de.displayOptions&(Wn.Simplified|Wn.Overflow)?((Ie=f.querySelector("#"+de.id+Br))||(Ie=Qe.querySelector("#"+de.id+Br),(de.type===Ur.DropDown||de.type===Ur.SplitButton||de.type===Ur.GroupButton)&&this.updatePopupItems(de,Ie,u.enableGroupOverflow,!1),this.removeOverflowEvent(de,Ie)),de.type===Ur.GroupButton&&this.ribbonGroupButtonModule.switchGroupButton(de,Ie),X.append(Ie)):(Ie=this.createItems([de],d,u.id,u.header,u.enableGroupOverflow,n)[0],X.append(Ie)),Ce=f.querySelector("#"+de.id),de.type===Ur.GroupButton&&(Ce=f.querySelector("#"+de.id+On)),de.setProperties({activeSize:de.allowedSizes&Hi.Large?Hi.Large:de.allowedSizes&Hi.Medium?Hi.Medium:Hi.Small},!0),this.setItemSize(Ce,de)}u.enableGroupOverflow&&Pe&&0===Qe.childElementCount&&this.removeOverflowButton(Pe)}}}this.selectedTab===n&&this.checkOverflow(n,l)}}"Classic"===this.activeLayout&&(this.removeOverflowButton(this.overflowDDB),this.overflowDDB=null)},t.prototype.createLauncherIcon=function(i,n){var s=this,o=this.createElement("div",{className:I$+" "+(this.launcherIconCss?this.launcherIconCss:M$),id:i+Uk,attrs:{tabindex:"0",type:"button","aria-label":"Launcher Icon",role:"button"}});n.appendChild(o),n.classList.add(w$),$.add(o,"click",this.launcherIconClicked.bind(this,i),this),$.add(o,"keydown",function(a){"Enter"===a.key&&s.launcherIconClicked(i)},this)},t.prototype.launcherIconClicked=function(i){this.trigger("launcherIconClick",{groupId:i})},t.prototype.createGroups=function(i,n){for(var s=[],o=0;o<i.length;o++){var a=i[parseInt(o.toString(),10)],l=a.orientation,h=this.createElement("div",{className:a.cssClass,id:a.id});h.classList.add(_k),s.push(h);var c=this.createElement("div",{className:a.cssClass,id:a.id+Br});c.classList.add(LD),h.appendChild(c);var u=this.createElement("div",{className:"Simplified"===this.activeLayout?O5:O5+Yn+Wv,id:a.id+ed});if(u.classList.add("Column"===l||"Simplified"===this.activeLayout?Zb:Uy),c.appendChild(u),"Classic"===this.activeLayout){var d=this.createElement("div",{className:C$,id:a.id+Wy,innerHTML:a.header});c.appendChild(d)}a.showLauncherIcon&&this.createLauncherIcon(a.id,c),Yi(this.createCollection(a.collections,a.orientation,a.id,a.header,a.enableGroupOverflow,n,c),u),"Simplified"===this.activeLayout&&!a.enableGroupOverflow&&!h.querySelector("."+Vv)&&h.classList.add("e-ribbon-emptyCollection")}return s},t.prototype.validateItemSize=function(){for(var i=0;i<this.tabs.length;i++)for(var n=this.tabs[parseInt(i.toString(),10)].groups,s=0;s<n.length;s++)for(var o=n[parseInt(s.toString(),10)].collections,a=n[parseInt(s.toString(),10)].orientation,l=0;l<o.length;l++)for(var h=o[parseInt(l.toString(),10)].items,c=0;c<h.length;c++){var u=h[parseInt(c.toString(),10)];if((!u.allowedSizes||0===u.allowedSizes)&&u.setProperties({allowedSizes:Hi.Small|Hi.Medium|Hi.Large},!0),"ColorPicker"===u.type&&u.allowedSizes!==Hi.Small)u.setProperties({allowedSizes:Hi.Small},!0);else if("ComboBox"!==u.type&&"CheckBox"!==u.type||u.allowedSizes===Hi.Medium){if(("Column"===a&&h.length>1||"Row"===a&&o.length>1)&&u.allowedSizes&Hi.Large){var d=u.allowedSizes&(Hi.Small|Hi.Medium);u.setProperties({allowedSizes:d=d||Hi.Medium},!0)}}else u.setProperties({allowedSizes:Hi.Medium},!0);u.setProperties({activeSize:u.allowedSizes&Hi.Large?Hi.Large:u.allowedSizes&Hi.Medium?Hi.Medium:Hi.Small},!0)}},t.prototype.createCollection=function(i,n,s,o,a,l,h){for(var c=[],u=0;u<i.length;u++){var d=i[parseInt(u.toString(),10)],p=this.createElement("div",{className:d.cssClass,id:d.id});if(p.classList.add("e-ribbon-collection"),p.classList.add("Column"!==n||"Simplified"===this.activeLayout?Zb:Uy),c.push(p),Yi(this.createItems(d.items,n,s,o,a,l,h),p),"Row"===n&&2===u)break}return c},t.prototype.createRibbonItem=function(i,n){switch(i.type){case"Button":this.ribbonButtonModule.createButton(i,n);break;case"DropDown":this.ribbonDropDownModule.createDropDown(i,n);break;case"SplitButton":this.ribbonSplitButtonModule.createSplitButton(i,n);break;case"CheckBox":this.ribbonCheckBoxModule.createCheckBox(i,n);break;case"ColorPicker":this.ribbonColorPickerModule.createColorPicker(i,n);break;case"ComboBox":this.ribbonComboBoxModule.createComboBox(i,n);break;case"Template":this.createTemplateContent(i,n);break;case"GroupButton":this.ribbonGroupButtonModule.createGroupButton(i,n)}},t.prototype.createItems=function(i,n,s,o,a,l,h){for(var c,u=[],d=0;d<i.length;d++){for(var p=i[parseInt(d.toString(),10)],f=!0;f&&("Simplified"===this.activeLayout&&!(p.displayOptions&(Wn.Simplified|Wn.Overflow))||"Classic"===this.activeLayout&&!(p.displayOptions&Wn.Classic));)++d<i.length?p=i[parseInt(d.toString(),10)]:f=!1;if(!f)break;var m=this.createElement("div",{className:p.cssClass,id:p.id+Br});(c=m.classList).add.apply(c,[Vv].concat(p.disabled?[Ak]:[])),p.ribbonTooltipSettings&&PD(p.ribbonTooltipSettings)&&(m.classList.add(Vy),this.tooltipData.push({id:m.id,data:p.ribbonTooltipSettings}));var M=p.activeSize;if("Simplified"===this.activeLayout&&p.setProperties({activeSize:M=p.allowedSizes===Hi.Large||p.allowedSizes&Hi.Medium||p.displayOptions===Wn.Overflow?Hi.Medium:Hi.Small},!0),M&Hi.Large?m.classList.add(kD,Wv):m.classList.add(M&Hi.Medium?Fk:jk),this.createRibbonItem(p,m),"Simplified"!==this.activeLayout||p.displayOptions!==Wn.Overflow&&p.displayOptions!==(Wn.Classic|Wn.Overflow)?u.push(m):(this.createOverflowPopup(p,l,a,s,o,m,h),(p.type===Ur.DropDown||p.type===Ur.SplitButton||p.type===Ur.GroupButton)&&this.updatePopupItems(p,m,a,!0)),"Column"===n&&2===d)break}return u},t.prototype.createHelpPaneTemplate=function(){if(this.helpPaneTemplate){var i="helpPaneTemplate";this.clearTemplate([i]),this.ribbonTempEle=this.createElement("div",{className:"e-ribbon-help-template",id:this.element.id+"_helppanetemplate"}),Yi(Wk(this.helpPaneTemplate)({},this,i,"helpPaneTemplate",this.isStringTemplate),this.ribbonTempEle);var s=this.tabObj.element;s.querySelector(".e-toolbar").after(this.ribbonTempEle),s.style.setProperty(Vk,this.ribbonTempEle.offsetWidth+"px"),this.renderReactTemplates()}},t.prototype.createTemplateContent=function(i,n){var s=this.createElement("div",{className:i.cssClass?x$+Yn+i.cssClass:x$,id:i.id});i.disabled&&(s.classList.add(Ak),s.setAttribute("disabled","")),n.appendChild(s),this.renderItemTemplate(i,s)},t.prototype.renderItemTemplate=function(i,n){var s="ribbon"+i.id+"itemTemplate";this.clearTemplate([s]),Yi(Wk(i.itemTemplate)({activeSize:Hi[i.activeSize]},this,s,i.id+"itemTemplate",this.isStringTemplate),n),this.renderReactTemplates()},t.prototype.checkID=function(i,n,s){for(var o="tab"===n?k5:"group"===n?"_group":"collection"===n?"_collection":"_item",a=0;a<i.length;a++){var l=i[parseInt(a.toString(),10)];switch(l.id||l.setProperties({id:s+o+this.idIndex++},!0),n){case"tab":l.setProperties({groups:this.checkID(l.groups,"group",l.id)},!0);break;case"group":l.setProperties({collections:this.checkID(l.collections,"collection",l.id)},!0);break;case"collection":l.setProperties({items:this.checkID(l.items,"item",l.id)},!0)}}return i},t.prototype.updateCommonProperty=function(i){this.tabObj.setProperties(i),this.ribbonFileMenuModule&&this.ribbonFileMenuModule.setCommonProperties(i),this.ribbonBackstageModule&&this.ribbonBackstageModule.setCommonProperties(i);for(var n=0;n<this.tabs.length;n++){var s=this.tabs[parseInt(n.toString(),10)],o=this.tabObj.items[parseInt(n.toString(),10)].content;if(o.querySelector("."+_k))for(var a=0,l=s.groups;a<l.length;a++){var h=l[a],c=void 0,u=void 0;this.activeLayout===wa.Classic?c=h.isCollapsed?o.querySelector("#"+h.id+eh+Zf):null:(u=(c=h.enableGroupOverflow?o.querySelector("#"+h.id+Yc):null)?ln(c,Jr):this.overflowDDB)&&(OMe(u.target,i),u.setProperties(i));for(var d=0,p=h.collections;d<p.length;d++)for(var m=0,M=p[d].items;m<M.length;m++){var T=M[m],P=null;if(this.activeLayout===wa.Classic?T.displayOptions&Wn.Classic&&(P=c?this.ribbonDropDownModule.getDDBItemElement(c,T.id):o.querySelector(T.type===Ur.GroupButton?"#"+T.id+On:"#"+T.id)):(P=T.displayOptions&Wn.Simplified?o.querySelector("#"+T.id):null)||(P=u.target.querySelector("#"+T.id),"DropDown"===T.type&&this.updatePopupItems(T,u.target,h.enableGroupOverflow,!0)),P){var U=this.getItemModuleName(T);if("template"!==U)if("group-btn"===U&&"Classic"===this.activeLayout)for(var Y=0;Y<T.groupButtonSettings.items.length;Y++)Yk(P.querySelector("#"+T.id+On+Y),"btn",i);else if("group-btn"===U&&"Simplified"===this.activeLayout){Yk(P,"dropdown-btn",i);for(var Q=0;Q<T.groupButtonSettings.items.length;Q++)Yk(document.querySelector("#"+T.id+On+Q),"btn",i)}else Yk(P,U,i);else v(i.enableRtl)||P.classList.toggle(Ok,i.enableRtl)}}}}},t.prototype.removeLauncherIcon=function(i,n,s){var o=i+Br,a=n?this.ribbonDropDownModule.getDDBItemElement(n,o):s.querySelector("#"+o);a&&(a.classList.remove(w$),bn(a.querySelector("#"+i+Uk)))},t.prototype.destroyTabItems=function(i){for(var n=0;n<i.length;n++)for(var s=i[parseInt(n.toString(),10)],o=this.tabObj.items[parseInt(n.toString(),10)].content,a=0,l=s.groups;a<l.length;a++){var h=l[a],c=void 0,u=void 0;this.activeLayout===wa.Classic?(c=h.isCollapsed?o.querySelector("#"+h.id+eh+Zf):null,h.showLauncherIcon&&this.removeLauncherIcon(h.id,c,o)):u=(c=h.enableGroupOverflow?o.querySelector("#"+h.id+Yc):null)?ln(c,Jr):this.overflowDDB;for(var d=0,p=h.collections;d<p.length;d++)for(var m=0,M=p[d].items;m<M.length;m++){var T=M[m],P=void 0;this.activeLayout===wa.Classic?T.displayOptions&Wn.Classic&&(P=c?this.ribbonDropDownModule.getDDBItemElement(c,T.id):o.querySelector("#"+T.id),T.type===Ur.GroupButton&&(P=c?this.ribbonDropDownModule.getDDBItemElement(c,T.id+On):o.querySelector("#"+T.id+On))):(P=T.displayOptions&Wn.Simplified?o.querySelector("#"+T.id):null)||(P=u?u.target.querySelector("#"+T.id):null),P&&this.destroyFunction(T,P)}this.activeLayout===wa.Classic&&c?this.ribbonDropDownModule.removeOverFlowDropDown(c):this.activeLayout===wa.Simplified&&h.enableGroupOverflow&&c&&this.removeOverflowButton(u)}this.overflowDDB&&(this.removeOverflowButton(this.overflowDDB),this.overflowDDB=null)},t.prototype.destroyFunction=function(i,n){var s=this.getItemModuleName(i);if("colorpicker"===s)this.ribbonColorPickerModule.unwireColorPickerEvents(n);else if("group-btn"===s){if("Classic"===this.activeLayout)for(var o=0;o<i.groupButtonSettings.items.length;o++){var a=n.querySelector("#"+i.id+On+o);a&&_$(a,"btn")}else this.ribbonGroupButtonModule.destroyDropDown(i);var l=function(u){if(i.groupButtonSettings.items[parseInt(u.toString(),10)].ribbonTooltipSettings){var d=i.id+On+u,p=jl(h.tooltipData,function(f){return f.id===d});-1!==p&&h.tooltipData.splice(p,1)}},h=this;for(o=0;o<i.groupButtonSettings.items.length;o++)l(o)}else"template"!==s&&_$(n,s);if(i.ribbonTooltipSettings){var c=jl(this.tooltipData,function(u){return u.id===i.id+Br});-1!==c&&this.tooltipData.splice(c,1)}"GroupButton"===i.type&&this.ribbonGroupButtonModule.destroyDropDown(i)},t.prototype.getItemModuleName=function(i){switch(i.type){case"Button":return"btn";case"DropDown":return"dropdown-btn";case"SplitButton":return"split-btn";case"CheckBox":return"checkbox";case"ColorPicker":return"colorpicker";case"ComboBox":return"combobox";case"GroupButton":return"group-btn";default:return"template"}},t.prototype.clearOverflowResize=function(){this.destroyScroll(),this.clearOverflowDropDown(this.selectedTab);for(var i=this.tabs[this.selectedTab],n=this.tabObj.element.querySelector("#"+this.tabs[this.selectedTab].id+ed),s=n.closest("."+OD),o=0;o<i.groups.length;o++)this.checkSmallToMedium(this.selectedTab,i,o,s,n,!0,!0),this.checkMediumToLarge(this.selectedTab,i,o,s,n,!0,!0)},t.prototype.refreshLayout=function(){this.resizeHandler()},t.prototype.selectTab=function(i){var n=jl(this.tabs,function(s){return s.id===i});this.setProperties({selectedTab:n})},t.prototype.showTab=function(i){this.showHideTab(i,!1)},t.prototype.hideTab=function(i){this.showHideTab(i,!0)},t.prototype.showHideTab=function(i,n){var s=jl(this.tabs,function(o){return o.id===i});-1!==s&&this.tabObj.hideTab(s,n)},t.prototype.enableTab=function(i){this.enableDisableTab(i,!0)},t.prototype.disableTab=function(i){this.enableDisableTab(i,!1)},t.prototype.enableDisableTab=function(i,n){var s=jl(this.tabs,function(o){return o.id===i});-1!==s&&this.tabObj.enableTab(s,n)},t.prototype.addTab=function(i,n,s){var o=n?jl(this.tabs,function(l){return l.id===n}):-1;o=-1===o?this.tabs.length:o+(s?1:0),this.tabsInternal=this.tabs.slice(),this.tabsInternal.splice(o,0,i),this.setProperties({tabs:this.tabsInternal},!0),this.checkID([this.tabs[parseInt(o.toString(),10)]],"tab",this.element.id),this.tabsInternal=this.tabs.slice(),this.validateItemSize();var a=this.createTabItems([i]);this.tabObj.addTab(a,o)},t.prototype.removeTab=function(i){var n=jl(this.tabs,function(P){return P.id===i});if(-1!==n){var s=this.tabObj.items[parseInt(n.toString(),10)].content,o=this.tabs[parseInt(n.toString(),10)].groups;if(o&&""!==s.innerHTML)for(var a=0,l=o;a<l.length;a++){for(var h=l[a],c=h.isCollapsed?s.querySelector("#"+h.id+eh+Zf):null,u=0,d=h.collections;u<d.length;u++)for(var f=0,m=d[u].items;f<m.length;f++){var M=m[f],T=c?this.ribbonDropDownModule.getDDBItemElement(c,M.id):s.querySelector("#"+M.id);M.type===Ur.GroupButton&&"Classic"===this.activeLayout&&(T=c?this.ribbonDropDownModule.getDDBItemElement(c,M.id+On):s.querySelector("#"+M.id+On)),T&&this.destroyFunction(M,T)}c&&this.ribbonDropDownModule.removeOverFlowDropDown(c)}n===this.selectedTab&&(this.isAddRemove=!0),this.tabsInternal=this.tabs.slice(),this.tabsInternal.splice(n,1),this.setProperties({tabs:this.tabsInternal},!0),this.tabObj.removeTab(n)}},t.prototype.addGroup=function(i,n,s,o){var a=jl(this.tabs,function(f){return f.id===i});if(-1!==a){this.selectedTab===a&&this.clearOverflowResize();var l=this.tabs[parseInt(a.toString(),10)],h=l.groups.slice(),c=s?jl(h,function(f){return f.id===s}):-1;h.splice(c=-1===c?h.length:c+(o?1:0),0,n),l.setProperties({groups:h},!0),this.checkID([l.groups[parseInt(c.toString(),10)]],"group",i),this.validateItemSize();var u=this.tabObj.items[parseInt(a.toString(),10)].content;if(""!==u.innerHTML){var d=this.createGroups([l.groups[parseInt(c.toString(),10)]],a)[0],p=s?u.querySelector("#"+s):null;p?p.insertAdjacentElement(o?"afterend":"beforebegin",d):u.append(d)}this.selectedTab===a&&this.refreshLayout()}},t.prototype.removeGroup=function(i){var n=ND(this.tabs,i);if(n){this.selectedTab===n.tabIndex&&this.clearOverflowResize();var s=this.tabObj.items[n.tabIndex].content;if(""!==s.innerHTML){var o=void 0,a=void 0;n.group.showLauncherIcon&&this.removeLauncherIcon(n.group.id,null,s),this.activeLayout===wa.Simplified&&(a=(o=n.group.enableGroupOverflow?s.querySelector("#"+n.group.id+Yc):null)?ln(o,Jr):this.overflowDDB);for(var l=0,h=n.group.collections;l<h.length;l++)for(var u=0,d=h[l].items;u<d.length;u++)this.removeItemElement(s,d[u],a);if(this.activeLayout===wa.Simplified)if(n.group.enableGroupOverflow)0===a.target.childElementCount&&this.removeOverflowButton(a);else{var f=a.target.querySelector("#"+n.group.id+Br);f&&1===f.childElementCount&&f.remove();var m=a.target.querySelector("#"+this.tabs[parseInt(n.tabIndex.toString(),10)].id+eh);m&&0===m.childElementCount&&m.remove()}var M=s.querySelector("#"+i);M&&M.remove()}var T=this.tabs[n.tabIndex].groups.slice();T.splice(n.groupIndex,1),this.tabs[n.tabIndex].setProperties({groups:T},!0),this.selectedTab===n.tabIndex&&this.refreshLayout()}},t.prototype.hideGroup=function(i){this.showHideGroup(i,!0)},t.prototype.showGroup=function(i){this.showHideGroup(i,!1)},t.prototype.showHideGroup=function(i,n){var o,a=ND(this.tabs,i);if(a){var l=this.tabObj.items[a.tabIndex].content,h=l.querySelector("#"+i);if(n?h.classList.add("e-hidden"):h.classList.remove("e-hidden"),this.overflowDDB){var u=this.overflowDDB.target.querySelector("#"+this.tabs[parseInt(a.tabIndex.toString(),10)].id+eh);if(a.group.enableGroupOverflow){var d=l.querySelector("#"+i+Yc);d&&(o=_o(d,Jr).target),o&&(n?o.classList.add("e-hidden"):o.classList.remove("e-hidden"))}else if(u){var p=u.querySelector("#"+i+Br);p&&(n?p.classList.add("e-hidden"):p.classList.remove("e-hidden"))}}this.refreshLayout()}},t.prototype.disableGroup=function(i){this.enableDisableGroup(i,!0)},t.prototype.enableGroup=function(i){this.enableDisableGroup(i,!1)},t.prototype.enableDisableGroup=function(i,n){var o,a=ND(this.tabs,i);if(a){var l=this.tabObj.items[a.tabIndex].content,h=l.querySelector("#"+i);if(n?h.classList.add("e-disabled"):h.classList.remove("e-disabled"),this.overflowDDB){var u=this.overflowDDB.target.querySelector("#"+this.tabs[parseInt(a.tabIndex.toString(),10)].id+eh);if(a.group.enableGroupOverflow){var d=l.querySelector("#"+i+Yc);d&&(o=_o(d,Jr).target),o&&(n?o.classList.add("e-disabled"):o.classList.remove("e-disabled"))}else if(u){var p=u.querySelector("#"+i+Br);p&&(n?p.classList.add("e-disabled"):p.classList.remove("e-disabled"))}}}},t.prototype.addCollection=function(i,n,s,o){var a=ND(this.tabs,i);if(a&&("Row"!==a.group.orientation||3!==a.group.collections.length)){this.selectedTab===a.tabIndex&&this.clearOverflowResize();var l=a.group.collections.slice(),h=s?jl(l,function(f){return f.id===s}):-1;l.splice(h=-1===h?l.length:h+(o?1:0),0,n),a.group.setProperties({collections:l},!0),this.checkID([a.group.collections[parseInt(h.toString(),10)]],"collection",i),this.validateItemSize();var c=this.tabObj.items[a.tabIndex].content;if(""!==c.innerHTML){var u=a.group.collections[parseInt(h.toString(),10)],d=this.createCollection([u],a.group.orientation,a.group.id,a.group.header,a.group.enableGroupOverflow,a.tabIndex)[0];a.group.isCollapsed&&(c=this.ribbonDropDownModule.getOverflowDropDownPopup(a,c));var p=s?c.querySelector("#"+s):null;p?p.insertAdjacentElement(o?"afterend":"beforebegin",d):c.querySelector("#"+i+ed).append(d)}this.selectedTab===a.tabIndex&&this.refreshLayout()}},t.prototype.removeCollection=function(i){var n=N5(this.tabs,i);if(n){this.selectedTab===n.tabIndex&&this.clearOverflowResize();var s=this.tabObj.items[n.tabIndex].content;if(""!==s.innerHTML){var o=void 0,a=void 0;this.activeLayout===wa.Simplified&&(a=(o=n.group.enableGroupOverflow?s.querySelector("#"+n.group.id+Yc):null)?ln(o,Jr):this.overflowDDB);for(var l=0,h=n.collection.items;l<h.length;l++)this.removeItemElement(s,h[l],a);var u=s.querySelector("#"+i);u&&u.remove()}var d=n.group,p=d.collections.slice();p.splice(n.collectionIndex,1),d.setProperties({collections:p},!0),this.selectedTab===n.tabIndex&&this.refreshLayout()}},t.prototype.addItem=function(i,n,s,o){var a=N5(this.tabs,i);if(a&&("Column"!==a.group.orientation||3!==a.collection.items.length)){this.selectedTab===a.tabIndex&&this.clearOverflowResize();var l=a.collection.items.slice(),h=s?jl(l,function(m){return m.id===s}):-1;l.splice(h=-1===h?l.length:h+(o?1:0),0,n),a.collection.setProperties({items:l},!0),this.checkID([a.collection.items[parseInt(h.toString(),10)]],"item",i),this.validateItemSize();var c=this.tabObj.items[a.tabIndex].content,u=c.querySelector("#"+a.group.id+Br);if(""!==c.innerHTML){var d=a.collection.items[parseInt(h.toString(),10)],p=this.createItems([d],a.group.orientation,a.group.id,a.group.header,a.group.enableGroupOverflow,a.tabIndex,u)[0];a.group.isCollapsed&&(c=this.ribbonDropDownModule.getOverflowDropDownPopup(a,c));var f=s?c.querySelector("#"+s):null;f?f.closest("."+Vv).insertAdjacentElement(o?"afterend":"beforebegin",p):p&&c.querySelector("#"+i).append(p)}this.selectedTab===a.tabIndex&&this.refreshLayout()}},t.prototype.removeItem=function(i){var n=nf(this.tabs,i);if(n){this.selectedTab===n.tabIndex&&this.clearOverflowResize();var s=this.tabObj.items[n.tabIndex].content;if(""!==s.innerHTML){var o=void 0,a=void 0;this.activeLayout===wa.Simplified&&(a=(o=n.group.enableGroupOverflow?s.querySelector("#"+n.group.id+Yc):null)?ln(o,Jr):this.overflowDDB),this.removeItemElement(s,n.item,a)}var h=n.collection,c=h.items;c.splice(n.itemIndex,1),h.setProperties({items:c},!0),this.selectedTab===n.tabIndex&&this.refreshLayout()}},t.prototype.hideItem=function(i){this.showHideItem(i,!0)},t.prototype.showItem=function(i){this.showHideItem(i,!1)},t.prototype.showHideItem=function(i,n){var o,s=nf(this.tabs,i);if(s&&(o=fc(this,"GroupButton"===s.item.type?i+On:i,s))){var a=Je(o,".e-ribbon-item");n?a.classList.add("e-hidden"):a.classList.remove("e-hidden")}},t.prototype.updateTab=function(i){var n=i.id,s=jl(this.tabs,function(oe){return oe.id===n});if(-1!==s){var o=this.tabObj.items[parseInt(s.toString(),10)].content,a=this.tabs[parseInt(s.toString(),10)].groups,l=this.tabObj.element;if(a&&""!==o.innerHTML&&(i.cssClass&&this.tabs[parseInt(s.toString(),10)].cssClass&&(o.classList.remove(this.tabs[parseInt(s.toString(),10)].cssClass),l.querySelector(".e-active").classList.remove(this.tabs[parseInt(s.toString(),10)].cssClass)),i.groups)){for(var h=0,c=a;h<c.length;h++){for(var u=c[h],d=u.isCollapsed?o.querySelector("#"+u.id+eh+Zf):null,p=0,f=u.collections;p<f.length;p++)for(var M=0,T=f[p].items;M<T.length;M++){var P=T[M],U=d?this.ribbonDropDownModule.getDDBItemElement(d,P.id):o.querySelector("#"+P.id);P.type===Ur.GroupButton&&"Classic"===this.activeLayout&&(U=d?this.ribbonDropDownModule.getDDBItemElement(d,P.id+On):o.querySelector("#"+P.id+On)),U&&this.destroyFunction(P,U)}d&&this.ribbonDropDownModule.removeOverFlowDropDown(d)}o.querySelectorAll(".e-ribbon-group").forEach(function(oe){oe.remove()})}s===this.selectedTab&&(this.isAddRemove=!0);var X=this.tabs[parseInt(s.toString(),10)];X.setProperties(i,!0),this.setProperties({groups:this.checkID(X.groups,"group",X.id)},!0),this.validateItemSize(),""===o.innerHTML&&(i.groups&&Yi(this.createGroups(X.groups,s),o),this.selectedTab===s&&this.refreshLayout(),i.cssClass&&(o.classList.add(X.cssClass),l.querySelector(".e-active").classList.add(X.cssClass)),i.header&&(l.querySelector("#"+n+Wy).innerText=X.header))}},t.prototype.updateGroup=function(i){var n=i.id,s=ND(this.tabs,n);if(s){this.selectedTab===s.tabIndex&&this.clearOverflowResize();var h,c,o=this.tabObj.items[s.tabIndex].content,a=o.querySelector("#"+n),l=a.querySelector("#"+i.id+Br);if(""!==o.innerHTML){if(s.group.showLauncherIcon&&this.removeLauncherIcon(s.group.id,null,o),this.activeLayout===wa.Simplified&&(c=(h=s.group.enableGroupOverflow?o.querySelector("#"+s.group.id+Yc):null)?ln(h,Jr):this.overflowDDB),i.cssClass&&s.group.cssClass&&(a.classList.remove(s.group.cssClass),l&&l.classList.remove(s.group.cssClass)),(i.collections||i.orientation)&&(s.group.collections||s.group.orientation)){for(var u=0,d=s.group.collections;u<d.length;u++)for(var f=0,m=d[u].items;f<m.length;f++)this.removeItemElement(o,m[f],c);if(a.querySelectorAll(".e-ribbon-collection").forEach(function(Ce){Ce.remove()}),i.orientation){var U=(P=l.querySelector(".e-ribbon-group-content")).classList.value.match(/(e-ribbon-[column|row]+)/g);U&&Ae([P],U)}}if(this.activeLayout===wa.Simplified)if(s.group.enableGroupOverflow)0===c.target.childElementCount&&this.removeOverflowButton(c);else{var Y=c.target.querySelector("#"+s.group.id+Br);Y&&1===Y.childElementCount&&Y.remove();var X=c.target.querySelector("#"+this.tabs[parseInt(s.tabIndex.toString(),10)].id+eh);X&&0===X.childElementCount&&X.remove()}}var P,Q=s.group;if(Q.setProperties(i,!0),Q.setProperties({collections:this.checkID(Q.collections,"collection",Q.id)},!0),this.validateItemSize(),""!==o.innerHTML)if(i.showLauncherIcon&&this.createLauncherIcon(Q.id,l),(i.collections||i.orientation)&&((P=l.querySelector(".e-ribbon-group-content")).classList.add("Column"===Q.orientation||"Simplified"===this.activeLayout?Zb:Uy),Yi(this.createCollection(Q.collections,Q.orientation,Q.id,Q.header,Q.enableGroupOverflow,s.tabIndex,l),P)),this.selectedTab===s.tabIndex&&this.refreshLayout(),i.cssClass&&(a.classList.add(Q.cssClass),l&&l.classList.add(Q.cssClass)),i.header)if(this.activeLayout!==wa.Simplified||i.enableGroupOverflow)if(this.activeLayout!==wa.Classic||Q.isCollapsed){if(this.activeLayout===wa.Classic&&Q.isCollapsed){var de;(de=_o(a.querySelector("#"+Q.id+eh+Zf),Jr).target.querySelector("#"+i.id+Wy))&&(de.innerText=Q.header)}}else a.querySelector(".e-ribbon-group-header").innerText=Q.header;else(de=c.target.querySelector("#"+i.id+Wy))&&(de.innerText=Q.header)}},t.prototype.updateCollection=function(i){var n=i.id,s=N5(this.tabs,n);if(s){this.selectedTab===s.tabIndex&&this.clearOverflowResize();var o=this.tabObj.items[s.tabIndex].content,a=o.querySelector("#"+n);if(""!==o.innerHTML){var l=void 0,h=void 0;if(this.activeLayout===wa.Simplified&&(h=(l=s.group.enableGroupOverflow?o.querySelector("#"+s.group.id+Yc):null)?ln(l,Jr):this.overflowDDB),i.cssClass&&s.collection.cssClass&&a.classList.remove(s.collection.cssClass),i.items&&s.collection.items)for(var c=0,u=s.collection.items;c<u.length;c++)this.removeItemElement(o,u[c],h)}var p=s.collection;if(p.setProperties(i,!0),p.setProperties({items:this.checkID(p.items,"item",p.id)},!0),this.validateItemSize(),""!==o.innerHTML&&i.items){var f=o.querySelector("#"+s.group.id+Br);Yi(this.createItems(p.items,s.group.orientation,s.group.id,s.group.header,s.group.enableGroupOverflow,s.tabIndex,f),a)}this.selectedTab===s.tabIndex&&this.refreshLayout(),i.cssClass&&a.classList.add(p.cssClass)}},t.prototype.updateItem=function(i){var n=i.id,s=nf(this.tabs,n);if(s){this.selectedTab===s.tabIndex&&this.clearOverflowResize();var u,d,o=this.tabObj.items[s.tabIndex].content,l=o.querySelector("#"+s.group.id).querySelector("#"+s.group.id+Br),h=null,c=null;if(""!==o.innerHTML){if(this.activeLayout===wa.Simplified&&(d=(u=s.group.enableGroupOverflow?o.querySelector("#"+s.group.id+Yc):null)?ln(u,Jr):this.overflowDDB),this.activeLayout===wa.Simplified&&s.item.displayOptions===Wn.Overflow){if(h=d.target.querySelector("#"+n+Br),c=d.target.querySelector("#"+n),i.displayOptions&&i.displayOptions!==Wn.Overflow){var p=l.querySelector("#"+s.collection.id);p&&p.appendChild(h)}}else h=l.querySelector("#"+n+Br),c=o.querySelector("#"+n),"GroupButton"===s.item.type&&this.activeLayout===wa.Classic&&(c=o.querySelector("#"+n+On)),this.activeLayout===wa.Simplified&&i.displayOptions===Wn.Overflow&&(this.createOverflowPopup(s.item,s.tabIndex,s.group.enableGroupOverflow,s.group.id,s.group.header,h,l),(s.item.type===Ur.DropDown||s.item.type===Ur.SplitButton||i.type===Ur.GroupButton)&&this.updatePopupItems(s.item,h,s.group.enableGroupOverflow,!0));i.cssClass&&s.item.cssClass&&h.classList.remove(s.item.cssClass),this.destroyFunction(s.item,c),c.remove();var f=h.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);f&&Ae([h],f)}var m=s.item;if(m.setProperties(i,!0),this.validateItemSize(),""!==o.innerHTML){h=this.activeLayout===wa.Simplified&&m.displayOptions===Wn.Overflow?d.target.querySelector("#"+n+Br):l.querySelector("#"+n+Br),m.ribbonTooltipSettings&&PD(m.ribbonTooltipSettings)&&(h.classList.add(Vy),this.tooltipData.push({id:h.id,data:m.ribbonTooltipSettings}));var M=m.activeSize;"Simplified"===this.activeLayout&&m.setProperties({activeSize:M=m.allowedSizes===Hi.Large||m.allowedSizes&Hi.Medium||m.displayOptions===Wn.Overflow?Hi.Medium:Hi.Small},!0),M&Hi.Large?h.classList.add(kD,Wv):h.classList.add(M&Hi.Medium?Fk:jk),this.createRibbonItem(m,h),"Simplified"===this.activeLayout&&s.group.enableGroupOverflow&&0===d.target.childElementCount&&this.removeOverflowButton(d),this.selectedTab===s.tabIndex&&this.refreshLayout(),i.cssClass&&h.classList.add(m.cssClass),this.enableDisableItem(m.id,m.disabled)}}},t.prototype.removeItemElement=function(i,n,s){var o=null;this.activeLayout===wa.Classic?(o=n.displayOptions&Wn.Classic?i.querySelector("#"+n.id):null,"GroupButton"===n.type&&(o=n.displayOptions&Wn.Classic?i.querySelector("#"+n.id+On):null)):(o=n.displayOptions&Wn.Simplified?i.querySelector("#"+n.id):null)||(o=s.target.querySelector("#"+n.id)),o&&(this.destroyFunction(n,o),"GroupButton"===n.type&&this.activeLayout===wa.Simplified?document.getElementById(n.id+Br).remove():o.closest("#"+n.id+Br).remove())},t.prototype.enableItem=function(i){this.enableDisableItem(i,!1)},t.prototype.disableItem=function(i){this.enableDisableItem(i,!0)},t.prototype.enableDisableItem=function(i,n){var o,s=nf(this.tabs,i);if(s&&(s.item.setProperties({disabled:n},!0),o=fc(this,"GroupButton"===s.item.type?i+On:i,s))){Je(o,".e-ribbon-item").classList.toggle(Ak,s.item.disabled);var l=this.getItemModuleName(s.item);if("template"!==l)if("group-btn"===l&&"Simplified"===this.activeLayout){Gk(o,"dropdown-btn",n);for(var h=0;h<s.item.groupButtonSettings.items.length;h++)Gk(document.querySelector("#"+i+On+h),"btn",n)}else if("group-btn"===l&&"Classic"===this.activeLayout)for(h=0;h<s.item.groupButtonSettings.items.length;h++)Gk(o.querySelector("#"+i+On+h),"btn",n);else Gk(o,l,n);else o.classList.toggle(Ak,n),o.toggleAttribute("disabled",n)}},t.prototype.unwireEvents=function(){$.remove(window,"resize",this.resizeHandler)},t.prototype.destroy=function(){this.keyboardModuleRibbon.destroy(),this.keyboardModuleRibbon=null,R$(this.element),this.destroyTabItems(this.tabs),this.hideLayoutSwitcher||this.removeExpandCollapse(),this.collapseButton=void 0,this.scrollModule&&this.scrollModule.destroy(),this.ribbonTempEle&&(bn(this.ribbonTempEle),this.ribbonTempEle=null),r.prototype.destroy.call(this),this.tabObj.destroy(),this.tabObj=void 0,bn(this.element.querySelector("#"+this.element.id+k5)),this.element.style.removeProperty(Yy),this.element.style.removeProperty(Vk),this.element.style.removeProperty("width"),this.cssClass&&Ae([this.element],this.cssClass.split(Yn)),this.element.classList.remove(Ok,L5,A5,E5,Pk,"e-rbn"),this.unwireEvents()},t.prototype.onPropertyChanged=function(i,n){for(var s,o,a=0,l=Object.keys(i);a<l.length;a++)switch(l[a]){case"activeLayout":this.switchLayout();break;case"cssClass":n.cssClass&&(s=this.element.classList).remove.apply(s,n.cssClass.split(Yn)),i.cssClass&&(o=this.element.classList).add.apply(o,i.cssClass.split(Yn));break;case"isMinimized":this.element.classList.toggle(Pk,this.isMinimized),this.tabObj.element.querySelector(".e-content").style.display=this.isMinimized?"none":"block",this.isMinimized||this.refreshLayout();break;case"locale":this.updateCommonProperty({locale:this.locale});break;case"enablePersistence":this.updateCommonProperty({enablePersistence:this.enablePersistence});break;case"enableRtl":this.element.classList.toggle(Ok,this.enableRtl),this.updateCommonProperty({enableRtl:i.enableRtl}),this.scrollModule&&this.scrollModule.setProperties({enableRtl:i.enableRtl});break;case"launcherIconCss":for(var c=0;c<this.tabs.length;c++){var u=this.tabObj.items[parseInt(c.toString(),10)].content,d=this.tabs[parseInt(c.toString(),10)];if(u.querySelector("."+_k))for(var p=0,f=d.groups;p<f.length;p++){var m=f[p];if(m.showLauncherIcon){var M=I$+" "+(this.launcherIconCss||M$);m.isCollapsed?ln(u.querySelector("#"+m.id+eh+Zf),Jr).target.querySelector("#"+m.id+Uk).className=M:u.querySelector("#"+m.id+Uk).className=M}}}break;case"selectedTab":this.tabObj.setProperties({selectedItem:i.selectedTab});break;case"tabAnimation":this.tabObj.setProperties({animation:i.tabAnimation});break;case"tabs":this.reRenderTabs(i.tabs);break;case"width":this.element.style.width=si(i.width),this.refreshLayout();break;case"fileMenu":this.ribbonFileMenuModule&&this.ribbonFileMenuModule.updateFileMenu(this.fileMenu),this.tabObj.tbObj.refreshOverflow();break;case"backStageMenu":this.ribbonBackstageModule&&this.ribbonBackstageModule.updateBackStageMenu(this.backStageMenu),this.tabObj.tbObj.refreshOverflow();break;case"helpPaneTemplate":this.ribbonTempEle&&(bn(this.ribbonTempEle),this.ribbonTempEle=null,this.tabObj.element.style.setProperty(Vk,"0px")),this.helpPaneTemplate&&this.createHelpPaneTemplate(),this.tabObj.tbObj.refreshOverflow();break;case"hideLayoutSwitcher":this.hideLayoutSwitcher?this.removeExpandCollapse():this.addExpandCollapse()}},Hl([O("Classic")],t.prototype,"activeLayout",void 0),Hl([O("")],t.prototype,"cssClass",void 0),Hl([Lt({},RIe)],t.prototype,"fileMenu",void 0),Hl([Lt({},UIe)],t.prototype,"backStageMenu",void 0),Hl([O("")],t.prototype,"launcherIconCss",void 0),Hl([O(!1)],t.prototype,"isMinimized",void 0),Hl([O("en-us")],t.prototype,"locale",void 0),Hl([O(0)],t.prototype,"selectedTab",void 0),Hl([Lt({},X8)],t.prototype,"tabAnimation",void 0),Hl([Qn([],PIe)],t.prototype,"tabs",void 0),Hl([O("100%")],t.prototype,"width",void 0),Hl([O("")],t.prototype,"helpPaneTemplate",void 0),Hl([O(!1)],t.prototype,"hideLayoutSwitcher",void 0),Hl([Se()],t.prototype,"tabSelecting",void 0),Hl([Se()],t.prototype,"tabSelected",void 0),Hl([Se()],t.prototype,"ribbonExpanding",void 0),Hl([Se()],t.prototype,"ribbonCollapsing",void 0),Hl([Se()],t.prototype,"launcherIconClick",void 0),Hl([Se()],t.prototype,"created",void 0),e=Hl([Jn],t)}(Xr),NMe=function(){function r(t){this.parent=t}return r.prototype.getModuleName=function(){return"ribbonFileMenu"},r.prototype.destroy=function(){this.fileMenuDDB&&this.destroyDDB(),this.parent=null},r.prototype.createFileMenu=function(t){var e=this;if(t.visible){this.ddbElement=this.parent.createElement("button",{id:this.parent.element.id+"_filemenu"});var i=this.parent.tabObj.element,n=i.querySelector(".e-toolbar");i.insertBefore(this.ddbElement,n),this.fileMenuDDB=new Jr({content:t.text,enableRtl:this.parent.enableRtl,cssClass:"e-ribbon-file-menu e-caret-hide",created:function(){i.style.setProperty(Yy,e.ddbElement.offsetWidth+"px")},beforeClose:this.ddbBeforeEvent.bind(this,!1),beforeOpen:this.ddbBeforeEvent.bind(this,!0),close:this.ddbAfterEvent.bind(this,!1),open:this.ddbAfterEvent.bind(this,!0)},this.ddbElement),this.parent.fileMenu.popupTemplate?this.fileMenuDDB.setProperties({target:this.parent.fileMenu.popupTemplate}):this.createRibbonMenu(t),this.parent.tabObj.refreshActiveTabBorder(),this.addFileMenuTooltip(t)}},r.prototype.addFileMenuTooltip=function(t){PD(t.ribbonTooltipSettings)&&(this.ddbElement.classList.add(Vy),this.parent.tooltipData.push({id:this.ddbElement.id,data:t.ribbonTooltipSettings}))},r.prototype.ddbBeforeEvent=function(t,e){!t&&e.event&&e.event.target.closest(".e-ribbon-menu")&&(e.cancel=!0);var i=t?this.parent.fileMenu.beforeOpen:this.parent.fileMenu.beforeClose;if(i){var n={cancel:e.cancel,element:e.element,event:e.event};i.call(this,n),e.cancel=n.cancel}},r.prototype.ddbAfterEvent=function(t,e){(t?this.fileMenuDDB.target:this.fileMenuDDB.element).focus();var n=t?this.parent.fileMenu.open:this.parent.fileMenu.close;n&&n.call(this,{element:e.element})},r.prototype.cloneMenuItem=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];e.push({iconCss:n.iconCss,id:n.id,separator:n.separator,text:n.text,url:n.url,items:this.cloneMenuItem(n.items)})}return e},r.prototype.createRibbonMenu=function(t){var e=this,i=this.parent.createElement("ul",{id:this.parent.element.id+"_filemenulist"});this.fileMenuDDB.setProperties({target:i}),this.menuctrl=new Hz({orientation:"Vertical",enableRtl:this.parent.enableRtl,cssClass:"e-ribbon-menu",animationSettings:t.animationSettings,items:this.cloneMenuItem(t.menuItems),showItemOnClick:t.showItemOnClick,template:t.itemTemplate,beforeClose:this.menuBeforeEvent.bind(this,!1),beforeOpen:this.menuBeforeEvent.bind(this,!0),beforeItemRender:this.beforeItemRender.bind(this),onClose:this.menuAfterEvent.bind(this,!1),onOpen:this.menuAfterEvent.bind(this,!0),select:this.menuSelect.bind(this)},i),$.add(i,"keydown",function(n){"Tab"===n.key&&e.fileMenuDDB.toggle()},this)},r.prototype.menuBeforeEvent=function(t,e){var i=t?this.parent.fileMenu.beforeOpen:this.parent.fileMenu.beforeClose;if(i){var n={cancel:e.cancel,element:e.element,event:e.event,items:e.items,parentItem:e.parentItem};i.call(this,n),e.cancel=n.cancel}},r.prototype.menuAfterEvent=function(t,e){var i=t?this.parent.fileMenu.open:this.parent.fileMenu.close;i&&i.call(this,{element:e.element,items:e.items,parentItem:e.parentItem})},r.prototype.beforeItemRender=function(t){var e=this.parent.fileMenu.beforeItemRender;e&&e.call(this,{element:t.element,item:t.item})},r.prototype.menuSelect=function(t){var e=this.parent.fileMenu.select;e&&(e.call(this,{element:t.element,item:t.item,event:t.event}),t.element.classList.contains("e-menu-caret-icon")||this.fileMenuDDB.toggle())},r.prototype.setCommonProperties=function(t){this.fileMenuDDB&&(this.fileMenuDDB.setProperties(t),this.menuctrl&&this.menuctrl.setProperties(t))},r.prototype.updateFileMenu=function(t){t.visible?this.fileMenuDDB?(t.text&&(this.fileMenuDDB.setProperties({content:t.text}),this.parent.tabObj.element.style.setProperty(Yy,this.ddbElement.offsetWidth+"px")),t.popupTemplate?(this.menuctrl&&this.destroyMenu(),this.fileMenuDDB.setProperties({target:t.popupTemplate})):this.menuctrl?this.menuctrl.setProperties({animationSettings:t.animationSettings,items:this.cloneMenuItem(t.menuItems),showItemOnClick:t.showItemOnClick,template:t.itemTemplate}):this.createRibbonMenu(t),this.removeFileMenuTooltip(),this.addFileMenuTooltip(t)):this.createFileMenu(t):this.fileMenuDDB&&this.destroyDDB(),this.parent.tabObj.refreshActiveTabBorder()},r.prototype.destroyMenu=function(){this.menuctrl&&(this.menuctrl.destroy(),this.menuctrl=null)},r.prototype.destroyDDB=function(){this.removeFileMenuTooltip(),this.parent.tabObj.element.style.removeProperty(Yy),this.destroyMenu(),this.fileMenuDDB.destroy(),this.fileMenuDDB=null,bn(this.ddbElement),this.ddbElement=null},r.prototype.removeFileMenuTooltip=function(){var t=this,e=jl(this.parent.tooltipData,function(i){return i.id===t.ddbElement.id});-1!==e&&(this.ddbElement.classList.remove(Vy),this.parent.tooltipData.splice(e,1))},r.prototype.addItems=function(t,e,i,n){i?this.menuctrl.insertAfter(t,e,n):this.menuctrl.insertBefore(t,e,n),this.parent.fileMenu.setProperties({menuItems:this.menuctrl.items},!0)},r.prototype.removeItems=function(t,e){this.menuctrl.removeItems(t,e),this.parent.fileMenu.setProperties({menuItems:this.menuctrl.items},!0)},r.prototype.enableItems=function(t,e){this.menuctrl.enableItems(t,!0,e),this.parent.fileMenu.setProperties({menuItems:this.menuctrl.items},!0)},r.prototype.disableItems=function(t,e){this.menuctrl.enableItems(t,!1,e),this.parent.fileMenu.setProperties({menuItems:this.menuctrl.items},!0)},r.prototype.setItem=function(t,e,i){this.menuctrl.setItem(t,e,i),this.menuctrl.refresh(),this.parent.fileMenu.setProperties({menuItems:this.menuctrl.items},!0)},r}(),PMe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_Me=function(r){function t(e){var i=r.call(this)||this;return i.parent=e,i}return PMe(t,r),t.prototype.render=function(){},t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return""},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"ribbonBackstage"},t.prototype.destroy=function(){this.backstageButton&&this.destroyDDB(),this.parent=null},t.prototype.createBackStage=function(e){var i=this;if(e.visible){this.backstageButtonEle=this.parent.createElement("button",{id:this.parent.element.id+A$});var n=this.parent.tabObj.element,s=n.querySelector(".e-toolbar");if(n.insertBefore(this.backstageButtonEle,s),this.backstageButton=new Io({content:e.text,enableRtl:this.parent.enableRtl,cssClass:"e-ribbon-backstage",created:function(){n.style.setProperty(Yy,i.backstageButtonEle.offsetWidth+"px")}},this.backstageButtonEle),this.createBackStagePopup(e),this.parent.backStageMenu.template)this.createBackStageTemplate(this.parent.backStageMenu.template);else{for(var o=0,a=0,l=0;l<e.items.length;l++)e.items[parseInt(l.toString(),10)].isFooter?o++:a++;a>0&&this.createBackstageMenu(e,!1),o>0&&this.createBackstageMenu(e,!0),this.menuCtrl&&this.checkMenuItems(this.menuCtrl.items),this.footerMenuCtrl&&this.checkMenuItems(this.footerMenuCtrl.items)}this.backstageButtonEle.onclick=function(c){c.stopPropagation(),i.showBackstage(),i.popupHTMLElement.classList.add(Hk);var u=i.menuWrapper.querySelector(".e-menu-item.e-selected");u&&u.classList.remove("e-selected");for(var d=0;d<e.items.length;d++){var p=e.items[parseInt(d.toString(),10)];if(!p.isFooter&&i.menuCtrl.items[0].text===p.text){var f=i.popupHTMLElement.querySelector("#"+i.menuCtrl.items[0].id);f&&(f.classList.add("e-selected"),f.focus()),i.createBackStageContent(i.menuCtrl.items[0].id,p.content);break}}},this.parent.tabObj.refreshActiveTabBorder(),this.addBackStageMenuTooltip(e),$.add(document,"click",this.onClickEvent,this)}},t.prototype.onClickEvent=function(e){this.popupHTMLElement.contains(e.target)||this.hideBackstage()},t.prototype.addBackStageMenuTooltip=function(e){PD(e.ribbonTooltipSettings)&&(this.backstageButtonEle.classList.add(Vy),this.parent.tooltipData.push({id:this.backstageButtonEle.id,data:e.ribbonTooltipSettings}))},t.prototype.checkMenuItems=function(e){for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];n.iconCss||this.popupHTMLElement.querySelector("#"+n.id).classList.add("e-blankicon")}},t.prototype.createBackStagePopup=function(e){var i=this;this.popupHTMLElement=this.parent.createElement("div",{id:this.parent.element.id+"_backstagepopup",className:"e-ribbon-backstage-popup"}),e.target?(e.target instanceof HTMLElement?e.target:document.querySelector(e.target)).appendChild(this.popupHTMLElement):this.parent.element.appendChild(this.popupHTMLElement),this.popupEle=new Yu(this.popupHTMLElement,{height:e.height,width:e.width,relateTo:e.target||this.parent.element,enableRtl:this.parent.enableRtl}),this.parent.enableRtl&&this.updatePopupPositionOnRtl(this.parent.enableRtl),this.popupHTMLElement.onkeydown=function(s){"Escape"===s.code&&i.hideBackstage()},this.hideBackstage()},t.prototype.updatePopupPositionOnRtl=function(e){var i=this.popupHTMLElement.style;e?(i.right=i.left,i.left="unset"):(i.left=i.right,i.right="unset")},t.prototype.createBackstageMenu=function(e,i){var l,n=this;if(this.popupHTMLElement.querySelector("#"+this.parent.element.id+"_wrapper")||(this.menuWrapper=this.parent.createElement("div",{id:this.parent.element.id+"_wrapper",className:"e-ribbon-backstage-wrapper"}),this.popupHTMLElement.appendChild(this.menuWrapper)),e.backButton.visible&&!i){var o=this.parent.createElement("button",{id:this.parent.element.id+"_close",className:"e-ribbon-close-btn"});this.closeBtn=new Io({content:e.backButton.text,iconCss:e.backButton.iconCss?e.backButton.iconCss:"e-icons e-arrow-left",enableRtl:this.parent.enableRtl},o),this.menuWrapper.append(o),o.onclick=function(){n.popupHTMLElement.classList.remove(Hk),n.hideBackstage(),n.isBackButtonClicked=!0}}this.popupHTMLElement.querySelector("#"+this.parent.element.id+"_itemswrapper")||(this.itemsWrapperEle=this.parent.createElement("div",{id:this.parent.element.id+"_itemswrapper",className:"e-ribbon-backstage-items-wrapper"}),this.menuWrapper.append(this.itemsWrapperEle)),i?(l=this.parent.createElement("ul",{id:this.parent.element.id+"_footermenulist"}),this.itemsWrapperEle.appendChild(l)):(this.ulMenuElem=this.parent.createElement("ul",{id:this.parent.element.id+"_menulist"}),this.itemsWrapperEle.appendChild(this.ulMenuElem)),i?this.footerMenuCtrl=new Hz({orientation:"Vertical",enableRtl:this.parent.enableRtl,cssClass:E$,items:this.cloneFooterMenuItem(e.items),select:this.menuSelect.bind(this,e)},l):this.menuCtrl=new Hz({orientation:"Vertical",enableRtl:this.parent.enableRtl,cssClass:E$,items:this.cloneMenuItem(e.items),select:this.menuSelect.bind(this,e)},this.ulMenuElem)},t.prototype.cloneMenuItem=function(e){for(var i=[],n=0;n<e.length;n++){var s=e[parseInt(n.toString(),10)];s.isFooter||i.push({id:s.id,iconCss:s.iconCss,separator:s.separator,text:s.text})}return i},t.prototype.cloneFooterMenuItem=function(e){for(var i=[],n=0;n<e.length;n++){var s=e[parseInt(n.toString(),10)];s.isFooter&&i.push({id:s.id,iconCss:s.iconCss,separator:s.separator,text:s.text})}return i},t.prototype.createBackStageContent=function(e,i){var n="backstageContent";this.clearTemplate([n]),this.backstageContentEle?(this.backstageContentEle.innerHTML="",this.backstageContentEle.id=e+ed):this.backstageContentEle=this.parent.createElement("div",{id:e+ed,className:"e-ribbon-backstage-content"});var s=Wk(i);return Yi(s({},this,n,"backstageContent",this.parent.isStringTemplate),this.backstageContentEle),i&&this.popupHTMLElement.append(this.backstageContentEle),this.renderReactTemplates(),s},t.prototype.createBackStageTemplate=function(e){var i="backstageTemplate";this.clearTemplate([i]),this.backstageTempEle=this.parent.createElement("div",{id:this.parent.element.id+A$+"_template",className:"e-ribbon-backstage-template"});var n=Wk(e);return Yi(n({},this,i,"backstageTemplate",this.parent.isStringTemplate),this.backstageTempEle),this.popupHTMLElement.append(this.backstageTempEle),this.renderReactTemplates(),n},t.prototype.menuSelect=function(e,i){for(var n=0;n<e.items.length;n++){var s=e.items[parseInt(n.toString(),10)];if(s.text===i.item.text){this.contentItem=s;break}}this.createBackStageContent(i.item.id,this.contentItem.content),this.contentItem.backStageItemClick&&this.contentItem.backStageItemClick.call(this,{cancel:!1,target:i.element,item:this.contentItem,isBackButton:this.isBackButtonClicked})},t.prototype.setCommonProperties=function(e){this.backstageButton&&(this.backstageButton.setProperties(e),this.popupEle&&(this.popupEle.setProperties(e),this.popupHTMLElement&&this.updatePopupPositionOnRtl(e.enableRtl),this.menuCtrl&&(this.menuCtrl.setProperties(e),this.closeBtn&&this.closeBtn.setProperties(e))))},t.prototype.updateBackStageMenu=function(e){if(e.visible)if(this.backstageButton){if(e.text&&(this.backstageButton.setProperties({content:e.text}),this.parent.tabObj.element.style.setProperty(Yy,this.backstageButtonEle.offsetWidth+"px")),this.popupEle&&this.popupEle.setProperties({height:e.height,width:e.width,target:e.target||this.parent.element}),e.template)this.backstageTempEle&&(bn(this.backstageTempEle),this.backstageTempEle=null),this.createBackStageTemplate(e.template);else if(this.menuCtrl&&this.menuCtrl.setProperties({items:this.cloneMenuItem(e.items)}),this.footerMenuCtrl)this.footerMenuCtrl.setProperties({items:this.cloneFooterMenuItem(e.items)});else{for(var i=0,n=0,s=0;s<e.items.length;s++)e.items[parseInt(s.toString(),10)].isFooter?i++:n++;n>0&&this.createBackstageMenu(e,!1),i>0&&this.createBackstageMenu(e,!0)}this.removeBackstageMenuTooltip(),this.addBackStageMenuTooltip(e)}else this.createBackStage(e);else this.backstageButton&&this.destroyDDB();this.parent.tabObj.refreshActiveTabBorder()},t.prototype.destroyMenu=function(){this.menuCtrl&&(this.menuCtrl.destroy(),this.menuCtrl=null)},t.prototype.destroyDDB=function(){this.removeBackstageMenuTooltip(),this.parent.tabObj.element.style.removeProperty(Yy),this.destroyMenu(),this.backstageButton.destroy(),this.backstageButton=null,bn(this.backstageButtonEle),this.backstageButtonEle=null,$.remove(document,"click",this.onClickEvent)},t.prototype.removeBackstageMenuTooltip=function(){var e=this,i=jl(this.parent.tooltipData,function(n){return n.id===e.backstageButtonEle.id});-1!==i&&(this.backstageButtonEle.classList.remove(Vy),this.parent.tooltipData.splice(i,1))},t.prototype.addBackstageItems=function(e,i,n,s){for(var o=0;o<e.length;o++)(a=e[parseInt(o.toString(),10)]).isFooter?n?this.footerMenuCtrl.insertAfter(e,i,s):this.footerMenuCtrl.insertBefore(e,i,s):n?this.menuCtrl.insertAfter(e,i,s):this.menuCtrl.insertBefore(e,i,s);var l=[].concat(this.menuCtrl.items,this.footerMenuCtrl.items),h=this.parent.backStageMenu;for(o=0;o<h.items.length;o++)for(var a=h.items[parseInt(o.toString(),10)],c=0;c<l.length;c++){var u=l[parseInt(c.toString(),10)];if(a.text===u.text){u.content=a.content;break}}this.parent.backStageMenu.setProperties({items:l},!0)},t.prototype.removeBackstageItems=function(e,i){this.menuCtrl.removeItems(e,i),this.footerMenuCtrl.removeItems(e,i);var n=[].concat(this.menuCtrl.items,this.footerMenuCtrl.items);this.parent.backStageMenu.setProperties({items:n},!0)},t.prototype.showBackstage=function(){this.popupEle.show()},t.prototype.hideBackstage=function(){this.popupEle.element.classList.contains(Hk)&&this.popupEle.element.classList.remove(Hk),this.popupEle.hide()},t}(Xr);const RMe=["itemTemplate"],zMe=["helpPaneTemplate"],BMe=[[["div"]]],FMe=["div"];let jMe=["activeSize","allowedSizes","buttonSettings","checkBoxSettings","colorPickerSettings","comboBoxSettings","cssClass","disabled","displayOptions","dropDownSettings","groupButtonSettings","id","itemTemplate","ribbonTooltipSettings","splitButtonSettings","type"],HMe=[],B$=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(HMe),this.directivePropList=jMe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-item"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,RMe,5),2&e){let s;wr(s=Ir())&&(i.itemTemplate=s.first)}},inputs:{activeSize:"activeSize",allowedSizes:"allowedSizes",buttonSettings:"buttonSettings",checkBoxSettings:"checkBoxSettings",colorPickerSettings:"colorPickerSettings",comboBoxSettings:"comboBoxSettings",cssClass:"cssClass",disabled:"disabled",displayOptions:"displayOptions",dropDownSettings:"dropDownSettings",groupButtonSettings:"groupButtonSettings",id:"id",itemTemplate:"itemTemplate",ribbonTooltipSettings:"ribbonTooltipSettings",splitButtonSettings:"splitButtonSettings",type:"type"},features:[En]}),_e([cv()],r.prototype,"itemTemplate",void 0),r})(),F$=(()=>{class r extends jc{constructor(){super("items")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-items"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,B$,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),UMe=["cssClass","id","items"],VMe=[],j$=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,this.tags=["items"],Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(VMe),this.directivePropList=UMe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-collection"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,F$,5),2&e){let s;wr(s=Ir())&&(i.childItems=s.first)}},inputs:{cssClass:"cssClass",id:"id",items:"items"},features:[En]}),r})(),H$=(()=>{class r extends jc{constructor(){super("collections")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-collections"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,j$,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),WMe=["collections","cssClass","enableGroupOverflow","groupIconCss","header","id","isCollapsed","isCollapsible","orientation","priority","showLauncherIcon"],YMe=[],U$=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,this.tags=["collections"],Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(YMe),this.directivePropList=WMe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-group"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,H$,5),2&e){let s;wr(s=Ir())&&(i.childCollections=s.first)}},inputs:{collections:"collections",cssClass:"cssClass",enableGroupOverflow:"enableGroupOverflow",groupIconCss:"groupIconCss",header:"header",id:"id",isCollapsed:"isCollapsed",isCollapsible:"isCollapsible",orientation:"orientation",priority:"priority",showLauncherIcon:"showLauncherIcon"},features:[En]}),r})(),V$=(()=>{class r extends jc{constructor(){super("groups")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-groups"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,U$,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})(),GMe=["cssClass","groups","header","id"],XMe=[],W$=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,this.tags=["groups"],Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(XMe),this.directivePropList=GMe}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-tab"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,V$,5),2&e){let s;wr(s=Ir())&&(i.childGroups=s.first)}},inputs:{cssClass:"cssClass",groups:"groups",header:"header",id:"id"},features:[En]}),r})(),Y$=(()=>{class r extends jc{constructor(){super("tabs")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-ribbon-tabs"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,W$,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})();const QMe=["created","launcherIconClick","ribbonCollapsing","ribbonExpanding","tabSelected","tabSelecting"],$Me=[""];let qMe=(()=>{let r=class extends kMe{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["tabs"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("RibbonRibbonButton");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonDropDown");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonSplitButton");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonCheckBox");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonColorPicker");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonComboBox");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonGroupButton");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonFileMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}try{let o=this.injector.get("RibbonRibbonBackstage");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch{}this.registerEvents(QMe),this.addTwoWay.call(this,$Me),Oa("currentInstance",this,this.viewContainerRef),this.containerContext=new fh}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childTabs,this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["ejs-ribbon"]],contentQueries:function(e,i,n){if(1&e&&(Gr(n,zMe,5),Gr(n,Y$,5)),2&e){let s;wr(s=Ir())&&(i.helpPaneTemplate=s.first),wr(s=Ir())&&(i.childTabs=s.first)}},inputs:{activeLayout:"activeLayout",backStageMenu:"backStageMenu",cssClass:"cssClass",enablePersistence:"enablePersistence",enableRtl:"enableRtl",fileMenu:"fileMenu",helpPaneTemplate:"helpPaneTemplate",hideLayoutSwitcher:"hideLayoutSwitcher",isMinimized:"isMinimized",launcherIconCss:"launcherIconCss",locale:"locale",selectedTab:"selectedTab",tabAnimation:"tabAnimation",tabs:"tabs",width:"width"},outputs:{created:"created",launcherIconClick:"launcherIconClick",ribbonCollapsing:"ribbonCollapsing",ribbonExpanding:"ribbonExpanding",tabSelected:"tabSelected",tabSelecting:"tabSelecting"},features:[En],ngContentSelectors:FMe,decls:1,vars:0,template:function(e,i){1&e&&(e1(BMe),t1(0))},encapsulation:2,changeDetection:0}),_e([cv()],r.prototype,"helpPaneTemplate",void 0),r=_e([hv([fh])],r),r})(),G$=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();const ZMe={provide:"RibbonRibbonButton",useValue:O$},JMe={provide:"RibbonRibbonDropDown",useValue:N$},KMe={provide:"RibbonRibbonSplitButton",useValue:P$},e1e={provide:"RibbonRibbonCheckBox",useValue:L$},t1e={provide:"RibbonRibbonColorPicker",useValue:EMe},i1e={provide:"RibbonRibbonComboBox",useValue:k$},n1e={provide:"RibbonRibbonGroupButton",useValue:z$},r1e={provide:"RibbonRibbonFileMenu",useValue:NMe},s1e={provide:"RibbonRibbonBackstage",useValue:_Me};let o1e=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({providers:[ZMe,JMe,KMe,e1e,t1e,i1e,n1e,r1e,s1e],imports:[[Aa,G$],G$]}),r})(),X$=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();const a1e={provide:"ListsVirtualization",useValue:Bue};let l1e=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({providers:[a1e],imports:[[Aa,X$],X$]}),r})();const h1e=["footerTemplate"],c1e=["header"],u1e=["content"],d1e=["*"];let p1e=["buttonModel","isFlat","type"],f1e=["click"],g1e=(()=>{class r extends Fc{constructor(e){super(),this.viewContainerRef=e,Oa("currentInstance",this,this.viewContainerRef),this.registerEvents(f1e),this.directivePropList=p1e}}return r.\u0275fac=function(e){return new(e||r)(zt(Is))},r.\u0275dir=nn({type:r,selectors:[["e-dialogbutton"]],inputs:{buttonModel:"buttonModel",isFlat:"isFlat",type:"type"},outputs:{click:"click"},features:[En]}),r})(),v1e=(()=>{class r extends jc{constructor(){super("buttons")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=nn({type:r,selectors:[["e-buttons"]],contentQueries:function(e,i,n){if(1&e&&Gr(n,g1e,4),2&e){let s;wr(s=Ir())&&(i.children=s)}},features:[En]}),r})();const m1e=["beforeClose","beforeOpen","beforeSanitizeHtml","close","created","destroyed","drag","dragStart","dragStop","open","overlayClick","resizeStart","resizeStop","resizing","visibleChange"],y1e=["visible"];let b1e=(()=>{let r=class extends C9{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["buttons"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(m1e),this.addTwoWay.call(this,y1e),Oa("currentInstance",this,this.viewContainerRef),this.containerContext=new fh}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childButtons,this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["ejs-dialog"]],contentQueries:function(e,i,n){if(1&e&&(Gr(n,h1e,5),Gr(n,c1e,5),Gr(n,u1e,5),Gr(n,v1e,5)),2&e){let s;wr(s=Ir())&&(i.footerTemplate=s.first),wr(s=Ir())&&(i.header=s.first),wr(s=Ir())&&(i.content=s.first),wr(s=Ir())&&(i.childButtons=s.first)}},inputs:{allowDragging:"allowDragging",animationSettings:"animationSettings",buttons:"buttons",closeOnEscape:"closeOnEscape",content:"content",cssClass:"cssClass",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableResize:"enableResize",enableRtl:"enableRtl",footerTemplate:"footerTemplate",header:"header",height:"height",isModal:"isModal",locale:"locale",minHeight:"minHeight",position:"position",resizeHandles:"resizeHandles",showCloseIcon:"showCloseIcon",target:"target",visible:"visible",width:"width",zIndex:"zIndex"},outputs:{beforeClose:"beforeClose",beforeOpen:"beforeOpen",beforeSanitizeHtml:"beforeSanitizeHtml",close:"close",created:"created",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",dragStop:"dragStop",open:"open",overlayClick:"overlayClick",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",visibleChange:"visibleChange"},features:[En],ngContentSelectors:d1e,decls:1,vars:0,template:function(e,i){1&e&&(e1(),t1(0))},encapsulation:2,changeDetection:0}),_e([cv()],r.prototype,"footerTemplate",void 0),_e([cv()],r.prototype,"header",void 0),_e([cv()],r.prototype,"content",void 0),r=_e([hv([fh])],r),r})(),C1e=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();const td=new _n("NgValueAccessor"),Cxe=["ejs-button",""],Sxe=["*"],wxe=["created"],Ixe=[];let Mxe=(()=>{let r=class extends Io{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(wxe),this.addTwoWay.call(this,Ixe),Oa("currentInstance",this,this.viewContainerRef),this.containerContext=new fh}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(zt(rs),zt(yo),zt(Is),zt(ma))},r.\u0275cmp=Rs({type:r,selectors:[["","ejs-button",""]],inputs:{content:"content",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",iconCss:"iconCss",iconPosition:"iconPosition",isPrimary:"isPrimary",isToggle:"isToggle",locale:"locale"},outputs:{created:"created"},features:[En],attrs:Cxe,ngContentSelectors:Sxe,decls:1,vars:0,template:function(e,i){1&e&&(e1(),t1(0))},encapsulation:2,changeDetection:0}),r=_e([hv([fh])],r),r})(),xxe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=da({type:r}),r.\u0275inj=Ko({imports:[[Aa]]}),r})();var tF;const Dxe=["focus","blur","change","created","checkedChange","indeterminateChange"],Txe=["checked","indeterminate"];let hI=tF=class extends ub{constructor(t,e,i,n,s){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.cdr=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Dxe),this.addTwoWay.call(this,Txe),Oa("currentInstance",this,this.viewContainerRef),this.formContext=new sw,this.formCompContext=new fh}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var iF;hI.\u0275fac=function(t){return new(t||hI)(zt(rs),zt(yo),zt(Is),zt(ma),zt(tb))},hI.\u0275cmp=Rs({type:hI,selectors:[["ejs-checkbox"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",indeterminate:"indeterminate",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange",indeterminateChange:"indeterminateChange"},features:[Uo([{provide:td,useExisting:as(()=>tF),multi:!0}]),En],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),hI=tF=_e([hv([fh,sw])],hI);const Exe=["focus","blur","change","created","valueChange"],Axe=["value"];let cI=iF=class extends Ghe{constructor(t,e,i,n,s){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.cdr=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Exe),this.addTwoWay.call(this,Axe),Oa("currentInstance",this,this.viewContainerRef),this.formContext=new sw,this.formCompContext=new fh}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var nF;cI.\u0275fac=function(t){return new(t||cI)(zt(rs),zt(yo),zt(Is),zt(ma),zt(tb))},cI.\u0275cmp=Rs({type:cI,selectors:[["ejs-radiobutton"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",valueChange:"valueChange"},features:[Uo([{provide:td,useExisting:as(()=>iF),multi:!0}]),En],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),cI=iF=_e([hv([fh,sw])],cI);const Oxe=["focus","blur","change","created","checkedChange"],Lxe=["checked"];let uI=nF=class extends $he{constructor(t,e,i,n,s){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.cdr=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Oxe),this.addTwoWay.call(this,Lxe),Oa("currentInstance",this,this.viewContainerRef),this.formContext=new sw,this.formCompContext=new fh}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};uI.\u0275fac=function(t){return new(t||uI)(zt(rs),zt(yo),zt(Is),zt(ma),zt(tb))},uI.\u0275cmp=Rs({type:uI,selectors:[["ejs-switch"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",locale:"locale",name:"name",offLabel:"offLabel",onLabel:"onLabel",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange"},features:[Uo([{provide:td,useExisting:as(()=>nF),multi:!0}]),En],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),uI=nF=_e([hv([fh,sw])],uI);const kxe=["ejDialog"],Nxe=["container"];function Pxe(r,t){1&r&&mE(0)}function _xe(r,t){if(1&r&&Ai(0,Pxe,1,0,"ng-container",9),2&r){const e=an(),i=OP(9);He("ngTemplateOutlet",e.headerTpl||i)}}function Rxe(r,t){1&r&&t1(0)}function zxe(r,t){1&r&&mE(0)}function Bxe(r,t){if(1&r&&Ai(0,zxe,1,0,"ng-container",9),2&r){const e=an(),i=OP(11);He("ngTemplateOutlet",e.footerTpl||i)}}function Fxe(r,t){if(1&r&&(nt(0,"div",10),ta(1),pt()),2&r){const e=an();Fe(1),_c(" ",e.title," ")}}function jxe(r,t){1&r&&(nt(0,"div")(1,"button",12),ta(2,"Success"),pt(),nt(3,"button",13),ta(4,"Danger"),pt()())}function Hxe(r,t){1&r&&Ai(0,jxe,5,0,"div",11),2&r&&He("ngIf",an().isShowFooter)}const Uxe=["*"];var $y=function(r){return r.SMALL="SMALL",r.MEDIUM="MEDIUM",r.LARGE="LARGE",r.FULL="FULL",r}($y||{});let Zq=(()=>{class r{constructor(){this.title="",this.visible=!1,this.visibleChange=new No,this.isShowFooter=!0,this.dialogSize=$y.SMALL,this.DIALOG_SIZE={[$y.SMALL]:"300px",[$y.MEDIUM]:"600px",[$y.LARGE]:"900px",[$y.FULL]:"90%"},this.initilaizeTarget=()=>{this.targetElement=this.container.nativeElement.parentElement},this.hideDialog=()=>{this.ejDialog.hide()},this.onOpenDialog=e=>{this.ejDialog.show()},this.onOverlayClick=()=>{this.ejDialog.hide(),this.visibleChange.emit(!1)},this.buttons=[{click:this.hideDialog.bind(this),buttonModel:{content:"OK",isPrimary:!0}},{click:this.hideDialog.bind(this),buttonModel:{content:"Cancel"}}]}ngOnInit(){this.initilaizeTarget()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-dialog"]],viewQuery:function(i,n){if(1&i&&(_S(kxe,5),_S(Nxe,7,rs)),2&i){let s;wr(s=Ir())&&(n.ejDialog=s.first),wr(s=Ir())&&(n.container=s.first)}},inputs:{title:"title",visible:"visible",headerTpl:"headerTpl",footerTpl:"footerTpl",isShowFooter:"isShowFooter",dialogSize:"dialogSize"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[ec],ngContentSelectors:Uxe,decls:14,vars:4,consts:[["id","dialog","isModal","true","showCloseIcon","true",3,"width","target","buttons","visible","close","overlayClick"],["ejDialog",""],["header",""],["content",""],["footerTemplate",""],["defaultHeaderTpl",""],["defaultFooterTpl",""],[1,"root-container"],["container",""],[4,"ngTemplateOutlet"],[1,"sync-header"],[4,"ngIf"],["ejs-button","","cssClass","e-success"],["ejs-button","","cssClass","e-danger"]],template:function(i,n){1&i&&(e1(),nt(0,"ejs-dialog",0,1),Zn("close",function(){return n.visibleChange.emit(!1)})("overlayClick",function(){return n.onOverlayClick()}),Ai(2,_xe,1,1,"ng-template",null,2,eb),Ai(4,Rxe,1,0,"ng-template",null,3,eb),Ai(6,Bxe,1,1,"ng-template",null,4,eb),pt(),Ai(8,Fxe,2,1,"ng-template",null,5,eb),Ai(10,Hxe,1,1,"ng-template",null,6,eb),jt(12,"div",7,8)),2&i&&He("width",n.DIALOG_SIZE[n.dialogSize])("target",n.targetElement)("buttons",n.buttons)("visible",n.visible)},dependencies:[Aa,g1,jU,C1e,b1e,xxe,Mxe],styles:["[_nghost-%COMP%]   .sync-header[_ngcontent-%COMP%]{color:var(--gray-700);font-size:1.8rem;line-height:2.8rem;font-weight:600}[_nghost-%COMP%]   .e-dialog[_ngcontent-%COMP%]{border-radius:8px}[_nghost-%COMP%]   .e-dialog[_ngcontent-%COMP%]   .e-dlg-header-content[_ngcontent-%COMP%]{border-top-right-radius:8px;border-top-left-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-direction:row-reverse}[_nghost-%COMP%]   .e-dialog[_ngcontent-%COMP%]   .e-footer-content[_ngcontent-%COMP%]{padding:18px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}"]})}return r})();var Vxe=sn(204),Wxe=sn.n(Vxe);const Yxe=["tuiRef"];let Gxe=(()=>{class r{constructor(){this.visible=!1,this.closeModal=new No,this.EDialogSize=$y}ngOnChanges(e){e.imageFileData?.currentValue&&(console.log("on changes"),this._tuiRef&&this._tuiImageEditor.loadImageFromFile(this.imageFileData.url,this.imageFileData.fileName))}ngAfterViewInit(){this._createImageEditor()}_createImageEditor(){this._tuiRef&&(this._tuiImageEditor=new(Wxe())(this._tuiRef.nativeElement,{includeUI:{initMenu:"filter",menuBarPosition:"bottom"},cssMaxWidth:700,cssMaxHeight:500,selectionStyle:{cornerSize:20,rotatingPointOffset:70}}))}handleVisibleChange(e){this.closeModal.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["image-editor-modal"]],viewQuery:function(i,n){if(1&i&&_S(Yxe,5),2&i){let s;wr(s=Ir())&&(n._tuiRef=s.first)}},inputs:{visible:"visible",imageFileData:"imageFileData"},outputs:{closeModal:"closeModal"},standalone:!0,features:[ah,ec],decls:4,vars:3,consts:[[3,"visible","isShowFooter","dialogSize","visibleChange"],[2,"height","800px"],["tuiRef",""]],template:function(i,n){1&i&&(nt(0,"sync-dialog",0),Zn("visibleChange",function(o){return n.handleVisibleChange(o)}),nt(1,"div",1,2),jt(3,"canvas"),pt()()),2&i&&He("visible",n.visible)("isShowFooter",!1)("dialogSize",n.EDialogSize.FULL)},dependencies:[Aa,Zq],styles:[".tui-image-editor-container{height:80vh!important}"]})}return r})(),Xxe=(()=>{class r{constructor(){}actionHandler(e,i){console.log(e,i)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=Pn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Qxe=["fileRef"];function $xe(r,t){if(1&r&&(nt(0,"div",85),jt(1,"img",86),nt(2,"span"),ta(3),pt()()),2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs),Fe(2),kS(e.text)}}function qxe(r,t){if(1&r&&(Ss(0),Ai(1,$xe,4,2,"div",84),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.containerDropdownData)}}function Zxe(r,t){if(1&r&&(nt(0,"div",93),jt(1,"img",86),nt(2,"span"),ta(3),pt()()),2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs),Fe(2),kS(e.text)}}function Jxe(r,t){if(1&r&&(nt(0,"div",89)(1,"div",90),ta(2),pt(),nt(3,"div",91),Ai(4,Zxe,4,2,"div",92),pt()()),2&r){const e=t.$implicit;Fe(2),_c(" ",e.group," "),Fe(2),He("ngForOf",e.items)}}function Kxe(r,t){if(1&r&&(Ss(0),nt(1,"div",87),Ai(2,Jxe,5,2,"div",88),pt(),ws()),2&r){const e=an();Fe(2),He("ngForOf",e.ribbon.listDropdownData)}}function eDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function tDe(r,t){if(1&r&&(Ss(0),Ai(1,eDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.functionDropdownData)}}function iDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function nDe(r,t){if(1&r&&(Ss(0),Ai(1,iDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.wordDropdownData)}}function rDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function sDe(r,t){if(1&r&&(Ss(0),Ai(1,rDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.applicationDropdownData)}}function oDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function aDe(r,t){if(1&r&&(Ss(0),Ai(1,oDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.relationshipDropdownData)}}function lDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function hDe(r,t){if(1&r&&(Ss(0),Ai(1,lDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.boxesDropdownData)}}function cDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),ta(1),pt()}if(2&r){const e=t.$implicit;Fe(1),_c(" ",e.text," ")}}function uDe(r,t){if(1&r&&(Ss(0),Ai(1,cDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.greekCapitalDropdownData)}}function dDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),ta(1),pt()}if(2&r){const e=t.$implicit;Fe(1),_c(" ",e.text," ")}}function pDe(r,t){if(1&r&&(Ss(0),Ai(1,dDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.greekSmallDropdownData)}}function fDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),ta(1),pt()}if(2&r){const e=t.$implicit;Fe(1),_c(" ",e.text," ")}}function gDe(r,t){if(1&r&&(Ss(0),Ai(1,fDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.arrowCodeDropdownData)}}function vDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),ta(1),pt()}if(2&r){const e=t.$implicit;Fe(1),_c(" ",e.text," ")}}function mDe(r,t){if(1&r&&(Ss(0),Ai(1,vDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.operatorDropdownData)}}function yDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function bDe(r,t){if(1&r&&(Ss(0),Ai(1,yDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.scriptDropdownData)}}function CDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function SDe(r,t){if(1&r&&(Ss(0),Ai(1,CDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.matrixDropdownData)}}function wDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function IDe(r,t){if(1&r&&(Ss(0),Ai(1,wDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.barDropdownData)}}function MDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function xDe(r,t){if(1&r&&(Ss(0),Ai(1,MDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.fracDropdownData)}}function DDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function TDe(r,t){if(1&r&&(Ss(0),Ai(1,DDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.arrowDropdownData)}}function EDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function ADe(r,t){if(1&r&&(Ss(0),Ai(1,EDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.decoratorDropdownData)}}function ODe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function LDe(r,t){if(1&r&&(Ss(0),Ai(1,ODe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.sumDropdownData)}}function kDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function NDe(r,t){if(1&r&&(Ss(0),Ai(1,kDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.bracketDropdownData)}}function PDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function _De(r,t){if(1&r&&(Ss(0),Ai(1,PDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.integralDropdownData)}}function RDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function zDe(r,t){if(1&r&&(Ss(0),Ai(1,RDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.accentDropdownData)}}function BDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function FDe(r,t){if(1&r&&(Ss(0),Ai(1,BDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.theory1DropdownData)}}function jDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function HDe(r,t){if(1&r&&(Ss(0),Ai(1,jDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.theory2DropdownData)}}function UDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function VDe(r,t){if(1&r&&(Ss(0),Ai(1,UDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.fundamentalDropdownData)}}function WDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function YDe(r,t){if(1&r&&(Ss(0),Ai(1,WDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.fundamental2DropdownData)}}function GDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function XDe(r,t){if(1&r&&(Ss(0),Ai(1,GDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.theoryFunctionDropdownData)}}function QDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function $De(r,t){if(1&r&&(Ss(0),Ai(1,QDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.timeDropdownData)}}function qDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function ZDe(r,t){if(1&r&&(Ss(0),Ai(1,qDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.derivativeDropdownData)}}function JDe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function KDe(r,t){if(1&r&&(Ss(0),Ai(1,JDe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.instrumentDropdownData)}}function eTe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function tTe(r,t){if(1&r&&(Ss(0),Ai(1,eTe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.stabilityDropdownData)}}function iTe(r,t){if(1&r){const e=zs();nt(0,"div",95),Zn("click",function(){const s=ns(e).$implicit;return Wr(an(2).handleInsert(s))}),jt(1,"img",86),pt()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs)}}function nTe(r,t){if(1&r&&(Ss(0),Ai(1,iTe,2,1,"div",94),ws()),2&r){const e=an();Fe(1),He("ngForOf",e.ribbon.theoremDropdownData)}}function rTe(r,t){if(1&r){const e=zs();nt(0,"div",96),Zn("click",function(){const s=ns(e).$implicit;return Wr(an().handleClickAction(s))}),jt(1,"img",86),nt(2,"span"),ta(3),pt()()}if(2&r){const e=t.$implicit;Fe(1),He("src",e.img,Zs),Fe(2),kS(e.text)}}let sTe=(()=>{class r{constructor(e,i,n,s){this.coreService=e,this.ribbonService=i,this.diagramService=n,this.diagramActionService=s,this._destroyed=new Yt,this.selectedTabIndex=0,this.ribbon=this.ribbonService.ribbon,this.EDomain=Ry,this.largeSize=Hi.Large,this.smallSize=Hi.Small,this.Simplified=Wn.Simplified,this.Overflow=Wn.Overflow,this.hiddenSpeakLogicCommunication=!1,this.isShowProjectFileActionModal=!1,this.isShowImageEditorModal=!1,this.fakeData=[{text:"Image",img:"/assets/images/captureimageproject.png"},{text:"Video",img:"/assets/images/reconrdvideoproject1.png"},{text:"Audio",img:"/assets/images/recordaudioproject1.png"},{text:"Edit Image",img:"/assets/images/editimageproject.png"},{text:"Edit Video",img:"/assets/images/editvideoproject.png"},{text:"Settings",img:"/assets/images/settingproject1.png"}],this.EDialogSize=$y}ngOnInit(){this.handleRegister(),this.coreService.getDomain().subscribe(e=>{e===Ry.COMMUNICATION?(this.hiddenSpeakLogicCommunication=!0,this.ribbon.theory1Dropdown={iconCss:"icon icon-Function_Icon1",content:"Function",target:"#function-dropdown",createPopupOnClick:!0},this.ribbon.theory2Dropdown={iconCss:"icon icon-Word_Icon1",content:"Word",target:"#word-dropdown",createPopupOnClick:!0},this.ribbon.fundamentalDropdown={iconCss:"icon icon-Application_Icon1",content:"Application",target:"#application-dropdown",createPopupOnClick:!0},this.ribbon.theoryFunctionDropdown={iconCss:"icon icon-Relationship_Icon1",content:"Relationship",target:"#relationship-dropdown",createPopupOnClick:!0}):(this.hiddenSpeakLogicCommunication=!1,this.ribbon.theory1Dropdown={iconCss:"icon icon-theory1",content:"Theory",target:"#theory1-dropdown",createPopupOnClick:!0},this.ribbon.theory2Dropdown={iconCss:"icon icon-theory2",content:"Theory",target:"#theory2-dropdown",createPopupOnClick:!0},this.ribbon.fundamentalDropdown={iconCss:"icon icon-fundamental1",content:"Fundamental",target:"#fundamental1-dropdown",createPopupOnClick:!0},this.ribbon.theoryFunctionDropdown={iconCss:"icon icon-function2",content:"Function",target:"#function2-dropdown",createPopupOnClick:!0})}),this.ribbonService.getTriggerDialog().subscribe(e=>{this.isShowProjectFileActionModal=!!e})}get domain$(){return this.coreService.getDomain()}handleRegister(){this.diagramService.getAction().pipe(Dp(e=>!!e),yl(e=>this.diagramService.getDiagram().pipe(Dp(i=>!!i),ct(i=>({action:e,diagram:i})))),Dp(({action:e,diagram:i})=>!!e&&!!i),ob(this._destroyed)).subscribe(({action:e,diagram:i})=>{this.diagramActionService.actionHandler(e,i)})}tabSelected(e){this.selectedTabIndex=e?.selectedIndex}created(e){}handleInsert(e){this.ribbonService.setInsertAnnotationContent(e)}handleClickAction(e){var i=this;return $w(function*(){switch(e.text){case"Image":i.ribbonService.captureImage();break;case"Video":i.ribbonService.recordVideo();break;case"Audio":i.ribbonService.recordVoice();break;case"Edit Image":i.fileRef&&i.fileRef.nativeElement.click()}})()}chooseFile(e){const i=e.target.files[0];let n=i.name;const s=n.lastIndexOf(".")+1,o=n.substr(s,n.length).toLowerCase();"jpg"==o||"jpeg"==o||"png"==o?(n=n.split(".").slice(0,-1).join("."),this.uploadedFile={fileName:n,url:i},this.isShowImageEditorModal=!0,this.isShowProjectFileActionModal=!1):alert("Only jpg/jpeg and png files are allowed!")}handleImageEditorModal(e){this.isShowProjectFileActionModal=!0,this.isShowImageEditorModal=!1}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(zt(Qw),zt(IQ),zt(dk),zt(Xxe))};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-ribbon"]],viewQuery:function(i,n){if(1&i&&_S(Qxe,5),2&i){let s;wr(s=Ir())&&(n.fileRef=s.first)}},standalone:!0,features:[ec],decls:491,vars:282,consts:[["id","default",3,"fileMenu","created","tabSelected"],["header","Home"],["header","Clipboard","id","clipboard","groupIconCss","e-icons e-paste",3,"showLauncherIcon"],["type","Button",3,"buttonSettings"],["type","Button",3,"allowedSizes","buttonSettings"],["header","Undo Action"],["header","Format","orientation","Column","groupIconCss","e-icons e-bold","cssClass","font-group",3,"enableGroupOverflow","isCollapsible"],["type","ComboBox",3,"comboBoxSettings"],["header","Style","groupIconCss","e-icons e-edit",3,"isCollapsible"],["header","Annotation","groupIconCss","e-icons e-edit",3,"isCollapsible"],["header","Communication Link"],["header","Node Item"],["type","SplitButton",3,"splitButtonSettings"],["header","Insert"],["header","Diagram Parts",3,"isCollapsible"],["type","DropDown",3,"allowedSizes","dropDownSettings"],[3,"allowedSizes","buttonSettings"],["header","","id","illustration","orientation","Row",3,"enableGroupOverflow"],["header","Container",3,"isCollapsible"],["header","Speak Logic"],[3,"type","allowedSizes","dropDownSettings"],["header","Equations"],["header",""],["header","Edit"],["header","Entity"],["header","Project"],["header","Start"],["header","Video & Image"],["header","Simulation"],["header","Finish"],["header","View"],["header","Open","orientation","Row","groupIconCss","e-icons e-print"],["header","Zoom","orientation","Column",3,"isCollapsible"],["header","Show","orientation","Column",3,"isCollapsible"],["header","Show Entities","orientation","Row",3,"isCollapsible"],["header","",3,"isCollapsible"],["header","Layout"],["header","Nudge and Pan"],["header","Align","orientation","Column"],["header","Size","orientation","Column"],["header","","orientation","Column"],["header","Snap","orientation","Column"],["header","Center","orientation","Row"],["header","Domain"],["header","Identification"],["type","Button",3,"buttonSettings","disabled"],["id","container-dropdown"],[4,"ngIf"],["id","list-dropdown"],["id","function-dropdown"],["id","word-dropdown"],["id","application-dropdown"],["id","relationship-dropdown"],["id","boxes-dropdown"],["id","greek-capital-dropdown"],["id","greek-small-dropdown"],["id","arrow-code-dropdown"],["id","operator-dropdown"],["id","script-dropdown"],["id","matrix-dropdown"],["id","bar-dropdown"],["id","frac-dropdown"],["id","arrow-dropdown"],["id","decorator-dropdown"],["id","sum-dropdown"],["id","bracket-dropdown"],["id","integral-dropdown"],["id","accent-dropdown"],["id","theory1-dropdown"],["id","theory2-dropdown"],["id","fundamental1-dropdown"],["id","fundamental2-dropdown"],["id","function2-dropdown"],["id","time-dropdown"],["id","derivative-dropdown"],["id","instrusment-dropdown"],["id","stability-dropdown"],["id","theorem-dropdown"],[3,"visible","isShowFooter","dialogSize","visibleChange"],[1,"editing-wrapper"],["class","editing-item",3,"click",4,"ngFor","ngForOf"],["type","file","id","fileUploadToEditor","name","fileUploadToEditor","accept","image/png, image/gif, image/jpeg",2,"display","none",3,"change"],["fileRef",""],[3,"visible","imageFileData","closeModal"],["class","container-dropdown-item",4,"ngFor","ngForOf"],[1,"container-dropdown-item"],["alt","img",3,"src"],[1,"list-wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"group-title"],[1,"group-content"],["class","group-content-item",4,"ngFor","ngForOf"],[1,"group-content-item"],["class","function-dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"function-dropdown-item",3,"click"],[1,"editing-item",3,"click"]],template:function(i,n){1&i&&(nt(0,"ejs-ribbon",0),Zn("created",function(o){return n.created(o)})("tabSelected",function(o){return n.tabSelected(o)}),nt(1,"e-ribbon-tabs")(2,"e-ribbon-tab",1)(3,"e-ribbon-groups")(4,"e-ribbon-group",2)(5,"e-ribbon-collections")(6,"e-ribbon-collection")(7,"e-ribbon-items"),jt(8,"e-ribbon-item",3),pt()(),nt(9,"e-ribbon-collection")(10,"e-ribbon-items"),jt(11,"e-ribbon-item",4),pt()(),nt(12,"e-ribbon-collection")(13,"e-ribbon-items"),jt(14,"e-ribbon-item",3),pt()(),nt(15,"e-ribbon-collection")(16,"e-ribbon-items"),jt(17,"e-ribbon-item",3),pt()(),nt(18,"e-ribbon-collection")(19,"e-ribbon-items"),jt(20,"e-ribbon-item",3),pt()()()(),nt(21,"e-ribbon-group",5)(22,"e-ribbon-collections")(23,"e-ribbon-collection")(24,"e-ribbon-items"),jt(25,"e-ribbon-item",3),pt()()()(),nt(26,"e-ribbon-group",6)(27,"e-ribbon-collections")(28,"e-ribbon-collection")(29,"e-ribbon-items"),jt(30,"e-ribbon-item",4)(31,"e-ribbon-item",4),pt()(),nt(32,"e-ribbon-collection")(33,"e-ribbon-items"),jt(34,"e-ribbon-item",4)(35,"e-ribbon-item",4),pt()(),nt(36,"e-ribbon-collection")(37,"e-ribbon-items"),jt(38,"e-ribbon-item",4)(39,"e-ribbon-item",4),pt()(),nt(40,"e-ribbon-collection")(41,"e-ribbon-items"),jt(42,"e-ribbon-item",7),pt()(),nt(43,"e-ribbon-collection")(44,"e-ribbon-items"),jt(45,"e-ribbon-item",7),pt()()()(),nt(46,"e-ribbon-group",8)(47,"e-ribbon-collections")(48,"e-ribbon-collection")(49,"e-ribbon-items"),jt(50,"e-ribbon-item",4),pt()(),nt(51,"e-ribbon-collection")(52,"e-ribbon-items"),jt(53,"e-ribbon-item",4),pt()(),nt(54,"e-ribbon-collection")(55,"e-ribbon-items"),jt(56,"e-ribbon-item",4),pt()(),nt(57,"e-ribbon-collection")(58,"e-ribbon-items"),jt(59,"e-ribbon-item",4),pt()(),nt(60,"e-ribbon-collection")(61,"e-ribbon-items"),jt(62,"e-ribbon-item",4),pt()()()(),nt(63,"e-ribbon-group",9)(64,"e-ribbon-collections")(65,"e-ribbon-collection")(66,"e-ribbon-items"),jt(67,"e-ribbon-item",4),pt()(),nt(68,"e-ribbon-collection")(69,"e-ribbon-items"),jt(70,"e-ribbon-item",4),pt()(),nt(71,"e-ribbon-collection")(72,"e-ribbon-items"),jt(73,"e-ribbon-item",4),pt()(),nt(74,"e-ribbon-collection")(75,"e-ribbon-items"),jt(76,"e-ribbon-item",4)(77,"e-ribbon-item",4),pt()(),nt(78,"e-ribbon-collection")(79,"e-ribbon-items"),jt(80,"e-ribbon-item",4)(81,"e-ribbon-item",4),pt()()()(),nt(82,"e-ribbon-group",10)(83,"e-ribbon-collections")(84,"e-ribbon-collection")(85,"e-ribbon-items"),jt(86,"e-ribbon-item",3),pt()()()(),nt(87,"e-ribbon-group",11)(88,"e-ribbon-collections")(89,"e-ribbon-collection")(90,"e-ribbon-items"),jt(91,"e-ribbon-item",12),pt()()()()()(),nt(92,"e-ribbon-tab",13)(93,"e-ribbon-groups")(94,"e-ribbon-group",14)(95,"e-ribbon-collections")(96,"e-ribbon-collection")(97,"e-ribbon-items"),jt(98,"e-ribbon-item",15),pt()(),nt(99,"e-ribbon-collection")(100,"e-ribbon-items"),jt(101,"e-ribbon-item",15),pt()(),nt(102,"e-ribbon-collection")(103,"e-ribbon-items"),jt(104,"e-ribbon-item",16),pt()()()(),nt(105,"e-ribbon-group",17)(106,"e-ribbon-collections")(107,"e-ribbon-collection")(108,"e-ribbon-items"),jt(109,"e-ribbon-item",16),pt()()()(),nt(110,"e-ribbon-group",18)(111,"e-ribbon-collections")(112,"e-ribbon-collection")(113,"e-ribbon-items"),jt(114,"e-ribbon-item",3),pt()(),nt(115,"e-ribbon-collection")(116,"e-ribbon-items"),jt(117,"e-ribbon-item",3),pt()(),nt(118,"e-ribbon-collection")(119,"e-ribbon-items"),jt(120,"e-ribbon-item",3),pt()(),nt(121,"e-ribbon-collection")(122,"e-ribbon-items"),jt(123,"e-ribbon-item",3),pt()(),nt(124,"e-ribbon-collection")(125,"e-ribbon-items"),jt(126,"e-ribbon-item",3),pt()(),nt(127,"e-ribbon-collection")(128,"e-ribbon-items"),jt(129,"e-ribbon-item",3),pt()()()(),nt(130,"e-ribbon-group",19)(131,"e-ribbon-collections")(132,"e-ribbon-collection")(133,"e-ribbon-items"),jt(134,"e-ribbon-item",15),pt()(),nt(135,"e-ribbon-collection")(136,"e-ribbon-items"),jt(137,"e-ribbon-item",15),pt()(),nt(138,"e-ribbon-collection")(139,"e-ribbon-items"),jt(140,"e-ribbon-item",15),pt()(),nt(141,"e-ribbon-collection")(142,"e-ribbon-items"),jt(143,"e-ribbon-item",15),pt()(),nt(144,"e-ribbon-collection")(145,"e-ribbon-items"),jt(146,"e-ribbon-item",15),pt()(),nt(147,"e-ribbon-collection")(148,"e-ribbon-items"),jt(149,"e-ribbon-item",20),pt()(),nt(150,"e-ribbon-collection")(151,"e-ribbon-items"),jt(152,"e-ribbon-item",20),pt()(),nt(153,"e-ribbon-collection")(154,"e-ribbon-items"),jt(155,"e-ribbon-item",20),pt()(),nt(156,"e-ribbon-collection")(157,"e-ribbon-items"),jt(158,"e-ribbon-item",20),pt()(),nt(159,"e-ribbon-collection")(160,"e-ribbon-items"),jt(161,"e-ribbon-item",20),pt()()()()()(),nt(162,"e-ribbon-tab",21)(163,"e-ribbon-groups")(164,"e-ribbon-group",22)(165,"e-ribbon-collections")(166,"e-ribbon-collection")(167,"e-ribbon-items"),jt(168,"e-ribbon-item",15),pt()(),nt(169,"e-ribbon-collection")(170,"e-ribbon-items"),jt(171,"e-ribbon-item",15),pt()(),nt(172,"e-ribbon-collection")(173,"e-ribbon-items"),jt(174,"e-ribbon-item",15),pt()(),nt(175,"e-ribbon-collection")(176,"e-ribbon-items"),jt(177,"e-ribbon-item",15),pt()(),nt(178,"e-ribbon-collection")(179,"e-ribbon-items"),jt(180,"e-ribbon-item",15),pt()(),nt(181,"e-ribbon-collection")(182,"e-ribbon-items"),jt(183,"e-ribbon-item",15),pt()(),nt(184,"e-ribbon-collection")(185,"e-ribbon-items"),jt(186,"e-ribbon-item",15),pt()(),nt(187,"e-ribbon-collection")(188,"e-ribbon-items"),jt(189,"e-ribbon-item",15),pt()(),nt(190,"e-ribbon-collection")(191,"e-ribbon-items"),jt(192,"e-ribbon-item",15),pt()(),nt(193,"e-ribbon-collection")(194,"e-ribbon-items"),jt(195,"e-ribbon-item",15),pt()(),nt(196,"e-ribbon-collection")(197,"e-ribbon-items"),jt(198,"e-ribbon-item",15),pt()(),nt(199,"e-ribbon-collection")(200,"e-ribbon-items"),jt(201,"e-ribbon-item",15),pt()(),nt(202,"e-ribbon-collection")(203,"e-ribbon-items"),jt(204,"e-ribbon-item",15),pt()(),nt(205,"e-ribbon-collection")(206,"e-ribbon-items"),jt(207,"e-ribbon-item",15),pt()(),nt(208,"e-ribbon-collection")(209,"e-ribbon-items"),jt(210,"e-ribbon-item",15),pt()()()()()(),nt(211,"e-ribbon-tab",23)(212,"e-ribbon-groups")(213,"e-ribbon-group",24)(214,"e-ribbon-collections")(215,"e-ribbon-collection")(216,"e-ribbon-items"),jt(217,"e-ribbon-item",3),pt()()()(),nt(218,"e-ribbon-group",5)(219,"e-ribbon-collections")(220,"e-ribbon-collection")(221,"e-ribbon-items"),jt(222,"e-ribbon-item",3),pt()()()()()(),nt(223,"e-ribbon-tab",25)(224,"e-ribbon-groups")(225,"e-ribbon-group",26)(226,"e-ribbon-collections")(227,"e-ribbon-collection")(228,"e-ribbon-items"),jt(229,"e-ribbon-item",3),pt()(),nt(230,"e-ribbon-collection")(231,"e-ribbon-items"),jt(232,"e-ribbon-item",3),pt()(),nt(233,"e-ribbon-collection")(234,"e-ribbon-items"),jt(235,"e-ribbon-item",3),pt()()()(),nt(236,"e-ribbon-group",27)(237,"e-ribbon-collections")(238,"e-ribbon-collection")(239,"e-ribbon-items"),jt(240,"e-ribbon-item",3),pt()(),nt(241,"e-ribbon-collection")(242,"e-ribbon-items"),jt(243,"e-ribbon-item",3),pt()(),nt(244,"e-ribbon-collection")(245,"e-ribbon-items"),jt(246,"e-ribbon-item",3),pt()(),nt(247,"e-ribbon-collection")(248,"e-ribbon-items"),jt(249,"e-ribbon-item",3),pt()(),nt(250,"e-ribbon-collection")(251,"e-ribbon-items"),jt(252,"e-ribbon-item",3),pt()(),nt(253,"e-ribbon-collection")(254,"e-ribbon-items"),jt(255,"e-ribbon-item",3),pt()()()(),nt(256,"e-ribbon-group",28)(257,"e-ribbon-collections")(258,"e-ribbon-collection")(259,"e-ribbon-items"),jt(260,"e-ribbon-item",3),pt()(),nt(261,"e-ribbon-collection")(262,"e-ribbon-items"),jt(263,"e-ribbon-item",3),pt()(),nt(264,"e-ribbon-collection")(265,"e-ribbon-items"),jt(266,"e-ribbon-item",3),pt()(),nt(267,"e-ribbon-collection")(268,"e-ribbon-items"),jt(269,"e-ribbon-item",3),pt()(),nt(270,"e-ribbon-collection")(271,"e-ribbon-items"),jt(272,"e-ribbon-item",3),pt()(),nt(273,"e-ribbon-collection")(274,"e-ribbon-items"),jt(275,"e-ribbon-item",3),pt()()()(),nt(276,"e-ribbon-group",29)(277,"e-ribbon-collections")(278,"e-ribbon-collection")(279,"e-ribbon-items"),jt(280,"e-ribbon-item",3),pt()(),nt(281,"e-ribbon-collection")(282,"e-ribbon-items"),jt(283,"e-ribbon-item",3),pt()()()()()(),nt(284,"e-ribbon-tab",30)(285,"e-ribbon-groups")(286,"e-ribbon-group",31)(287,"e-ribbon-collections")(288,"e-ribbon-collection")(289,"e-ribbon-items"),jt(290,"e-ribbon-item",4)(291,"e-ribbon-item",4)(292,"e-ribbon-item",4),pt()()()(),nt(293,"e-ribbon-group",32)(294,"e-ribbon-collections")(295,"e-ribbon-collection")(296,"e-ribbon-items"),jt(297,"e-ribbon-item",4)(298,"e-ribbon-item",4),pt()()()(),nt(299,"e-ribbon-group",33)(300,"e-ribbon-collections")(301,"e-ribbon-collection")(302,"e-ribbon-items"),jt(303,"e-ribbon-item",4)(304,"e-ribbon-item",4)(305,"e-ribbon-item",4),pt()(),nt(306,"e-ribbon-collection")(307,"e-ribbon-items"),jt(308,"e-ribbon-item",4)(309,"e-ribbon-item",4)(310,"e-ribbon-item",4),pt()()()(),nt(311,"e-ribbon-group",34)(312,"e-ribbon-collections")(313,"e-ribbon-collection")(314,"e-ribbon-items"),jt(315,"e-ribbon-item",4)(316,"e-ribbon-item",4)(317,"e-ribbon-item",4)(318,"e-ribbon-item",4),pt()()()(),nt(319,"e-ribbon-group",35)(320,"e-ribbon-collections")(321,"e-ribbon-collection")(322,"e-ribbon-items"),jt(323,"e-ribbon-item",4),pt()()()(),nt(324,"e-ribbon-group",35)(325,"e-ribbon-collections")(326,"e-ribbon-collection")(327,"e-ribbon-items"),jt(328,"e-ribbon-item",4),pt()()()()()(),nt(329,"e-ribbon-tab",36)(330,"e-ribbon-groups")(331,"e-ribbon-group",37)(332,"e-ribbon-collections")(333,"e-ribbon-collection")(334,"e-ribbon-items"),jt(335,"e-ribbon-item",3),pt()(),nt(336,"e-ribbon-collection")(337,"e-ribbon-items"),jt(338,"e-ribbon-item",3)(339,"e-ribbon-item",3),pt()(),nt(340,"e-ribbon-collection")(341,"e-ribbon-items"),jt(342,"e-ribbon-item",3)(343,"e-ribbon-item",3),pt()()()(),nt(344,"e-ribbon-group",38)(345,"e-ribbon-collections")(346,"e-ribbon-collection")(347,"e-ribbon-items"),jt(348,"e-ribbon-item",3)(349,"e-ribbon-item",3),pt()(),nt(350,"e-ribbon-collection")(351,"e-ribbon-items"),jt(352,"e-ribbon-item",3)(353,"e-ribbon-item",3),pt()(),nt(354,"e-ribbon-collection")(355,"e-ribbon-items"),jt(356,"e-ribbon-item",3)(357,"e-ribbon-item",3),pt()()()(),nt(358,"e-ribbon-group",39)(359,"e-ribbon-collections")(360,"e-ribbon-collection")(361,"e-ribbon-items"),jt(362,"e-ribbon-item",3)(363,"e-ribbon-item",3),pt()(),nt(364,"e-ribbon-collection")(365,"e-ribbon-items"),jt(366,"e-ribbon-item",3)(367,"e-ribbon-item",3),pt()(),nt(368,"e-ribbon-collection")(369,"e-ribbon-items"),jt(370,"e-ribbon-item",3)(371,"e-ribbon-item",3),pt()()()(),nt(372,"e-ribbon-group",40)(373,"e-ribbon-collections")(374,"e-ribbon-collection")(375,"e-ribbon-items"),jt(376,"e-ribbon-item",3)(377,"e-ribbon-item",3),pt()(),nt(378,"e-ribbon-collection")(379,"e-ribbon-items"),jt(380,"e-ribbon-item",3),pt()()()(),nt(381,"e-ribbon-group",41)(382,"e-ribbon-collections")(383,"e-ribbon-collection")(384,"e-ribbon-items"),jt(385,"e-ribbon-item",3)(386,"e-ribbon-item",3),pt()(),nt(387,"e-ribbon-collection")(388,"e-ribbon-items"),jt(389,"e-ribbon-item",3),pt()()()(),nt(390,"e-ribbon-group",42)(391,"e-ribbon-collections")(392,"e-ribbon-collection")(393,"e-ribbon-items"),jt(394,"e-ribbon-item",3)(395,"e-ribbon-item",3)(396,"e-ribbon-item",3),pt()()()()()(),nt(397,"e-ribbon-tab",43)(398,"e-ribbon-groups")(399,"e-ribbon-group",44)(400,"e-ribbon-collections")(401,"e-ribbon-collection")(402,"e-ribbon-items"),jt(403,"e-ribbon-item",45),Nh(404,"async"),pt()(),nt(405,"e-ribbon-collection")(406,"e-ribbon-items"),jt(407,"e-ribbon-item",45),Nh(408,"async"),pt()()()()()()()(),nt(409,"div",46),Ai(410,qxe,2,1,"ng-container",47),pt(),nt(411,"div",48),Ai(412,Kxe,3,1,"ng-container",47),pt(),nt(413,"div",49),Ai(414,tDe,2,1,"ng-container",47),Nh(415,"async"),pt(),nt(416,"div",50),Ai(417,nDe,2,1,"ng-container",47),Nh(418,"async"),pt(),nt(419,"div",51),Ai(420,sDe,2,1,"ng-container",47),Nh(421,"async"),pt(),nt(422,"div",52),Ai(423,aDe,2,1,"ng-container",47),Nh(424,"async"),pt(),nt(425,"div",53),Ai(426,hDe,2,1,"ng-container",47),pt(),nt(427,"div",54),Ai(428,uDe,2,1,"ng-container",47),pt(),nt(429,"div",55),Ai(430,pDe,2,1,"ng-container",47),pt(),nt(431,"div",56),Ai(432,gDe,2,1,"ng-container",47),pt(),nt(433,"div",57),Ai(434,mDe,2,1,"ng-container",47),pt(),nt(435,"div",58),Ai(436,bDe,2,1,"ng-container",47),pt(),nt(437,"div",59),Ai(438,SDe,2,1,"ng-container",47),pt(),nt(439,"div",60),Ai(440,IDe,2,1,"ng-container",47),pt(),nt(441,"div",61),Ai(442,xDe,2,1,"ng-container",47),pt(),nt(443,"div",62),Ai(444,TDe,2,1,"ng-container",47),pt(),nt(445,"div",63),Ai(446,ADe,2,1,"ng-container",47),pt(),nt(447,"div",64),Ai(448,LDe,2,1,"ng-container",47),pt(),nt(449,"div",65),Ai(450,NDe,2,1,"ng-container",47),pt(),nt(451,"div",66),Ai(452,_De,2,1,"ng-container",47),pt(),nt(453,"div",67),Ai(454,zDe,2,1,"ng-container",47),pt(),nt(455,"div",68),Ai(456,FDe,2,1,"ng-container",47),Nh(457,"async"),pt(),nt(458,"div",69),Ai(459,HDe,2,1,"ng-container",47),Nh(460,"async"),pt(),nt(461,"div",70),Ai(462,VDe,2,1,"ng-container",47),Nh(463,"async"),pt(),nt(464,"div",71),Ai(465,YDe,2,1,"ng-container",47),Nh(466,"async"),pt(),nt(467,"div",72),Ai(468,XDe,2,1,"ng-container",47),Nh(469,"async"),pt(),nt(470,"div",73),Ai(471,$De,2,1,"ng-container",47),Nh(472,"async"),pt(),nt(473,"div",74),Ai(474,ZDe,2,1,"ng-container",47),Nh(475,"async"),pt(),nt(476,"div",75),Ai(477,KDe,2,1,"ng-container",47),Nh(478,"async"),pt(),nt(479,"div",76),Ai(480,tTe,2,1,"ng-container",47),Nh(481,"async"),pt(),nt(482,"div",77),Ai(483,nTe,2,1,"ng-container",47),Nh(484,"async"),pt(),nt(485,"sync-dialog",78),Zn("visibleChange",function(){return n.isShowProjectFileActionModal=!n.isShowProjectFileActionModal}),nt(486,"div",79),Ai(487,rTe,4,2,"div",80),nt(488,"input",81,82),Zn("change",function(o){return n.chooseFile(o)}),pt()()(),nt(490,"image-editor-modal",83),Zn("closeModal",function(o){return n.handleImageEditorModal(o)}),pt()),2&i&&(He("fileMenu",n.ribbon.fileSettings),Fe(4),He("showLauncherIcon",!1),Fe(4),He("buttonSettings",n.ribbon.copyButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.pasteSettings),Fe(3),He("buttonSettings",n.ribbon.cutButton),Fe(3),He("buttonSettings",n.ribbon.deleteButton),Fe(3),He("buttonSettings",n.ribbon.exportButton),Fe(5),He("buttonSettings",n.ribbon.undoButton),Fe(1),He("enableGroupOverflow",!0)("isCollapsible",!1),Fe(4),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.alignLeftButton),Fe(1),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.boldButton),Fe(3),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.alginCenterButton),Fe(1),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.italicButton),Fe(3),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.alignRightButton),Fe(1),He("allowedSizes",n.smallSize)("buttonSettings",n.ribbon.underlineButton),Fe(3),He("comboBoxSettings",n.ribbon.fontstyleSettings),Fe(3),He("comboBoxSettings",n.ribbon.fontsizeSettings),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.fillButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.lineButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.textButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.startButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.endButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.pointerButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.text2Button),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.line2Button),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.rectangularButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.curvedLineButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.ellipseButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.ascendantButton),Fe(5),He("buttonSettings",n.ribbon.autoConnectorButton),Fe(5),He("splitButtonSettings",n.ribbon.nodeSplitButton),Fe(3),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.containerSettings),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.listSettings),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.pictureButton),Fe(1),He("enableGroupOverflow",!0),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.fromClipboardButton),Fe(1),He("isCollapsible",!1),Fe(4),He("buttonSettings",n.ribbon.funcButton),Fe(3),He("buttonSettings",n.ribbon.applicationSettings),Fe(3),He("buttonSettings",n.ribbon.resultButton),Fe(3),He("buttonSettings",n.ribbon.collectionButton),Fe(3),He("buttonSettings",n.ribbon.dictionaryButton),Fe(3),He("buttonSettings",n.ribbon.areaButton),Fe(5),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.theory1Dropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.theory2Dropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.fundamentalDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.fundamental2Dropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.theoryFunctionDropdown),Fe(3),He("type",n.hiddenSpeakLogicCommunication?"None":"DropDown")("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.timeDropdown),Fe(3),He("type",n.hiddenSpeakLogicCommunication?"None":"DropDown")("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.derivativeDropdown),Fe(3),He("type",n.hiddenSpeakLogicCommunication?"None":"DropDown")("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.instrumentDropdown),Fe(3),He("type",n.hiddenSpeakLogicCommunication?"None":"DropDown")("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.stabilityDropdown),Fe(3),He("type",n.hiddenSpeakLogicCommunication?"None":"DropDown")("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.theoremDropdown),Fe(7),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.bracketDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.decoratorDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.sumProductDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.integralDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.scriptDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.factionRadicalDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.labeledArrowDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.underbarOverbarDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.accentPrimeDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.matrixDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.boxesDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.operatorDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.greekCapitalDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.greekSmallDropdown),Fe(3),He("allowedSizes",n.largeSize)("dropDownSettings",n.ribbon.arrowDropdown),Fe(7),He("buttonSettings",n.ribbon.selectedEntityButton),Fe(5),He("buttonSettings",n.ribbon.undoLastActionButton),Fe(7),He("buttonSettings",n.ribbon.startProjectButton),Fe(3),He("buttonSettings",n.ribbon.configureWarningMsgButton),Fe(3),He("buttonSettings",n.ribbon.applicationSettingButton),Fe(5),He("buttonSettings",n.ribbon.captureImgButton),Fe(3),He("buttonSettings",n.ribbon.editImgButton),Fe(3),He("buttonSettings",n.ribbon.recordVideoButton),Fe(3),He("buttonSettings",n.ribbon.editVideoButton),Fe(3),He("buttonSettings",n.ribbon.recordAudioButton),Fe(3),He("buttonSettings",n.ribbon.settingsButton),Fe(5),He("buttonSettings",n.ribbon.simulateButton),Fe(3),He("buttonSettings",n.ribbon.debugButton),Fe(3),He("buttonSettings",n.ribbon.stepIntoButton),Fe(3),He("buttonSettings",n.ribbon.abortButton),Fe(3),He("buttonSettings",n.ribbon.stopButton),Fe(3),He("buttonSettings",n.ribbon.simulationSettingButton),Fe(5),He("buttonSettings",n.ribbon.closeProjectButton),Fe(3),He("buttonSettings",n.ribbon.openProjectButton),Fe(7),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.subFuncButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.subApplicationButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.subResultButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.fitWindowButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.pageWidthButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.showTooltipButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.allowCrossButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.imgWidthFrameButton),Fe(3),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.rulerButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.gridButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.pageBreakButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.entityLibraryButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.panZoomButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.modelViewButton),Fe(1),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.viewListButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.showHideModelButton),Fe(1),He("isCollapsible",!1),Fe(4),He("allowedSizes",n.largeSize)("buttonSettings",n.ribbon.showHideConnectionPointButton),Fe(7),He("buttonSettings",n.ribbon.panToolButton),Fe(3),He("buttonSettings",n.ribbon.arrowLeftButton),Fe(1),He("buttonSettings",n.ribbon.arrowUpButton),Fe(3),He("buttonSettings",n.ribbon.arrowRightButton),Fe(1),He("buttonSettings",n.ribbon.arrowDownButton),Fe(5),He("buttonSettings",n.ribbon.align1Button),Fe(1),He("buttonSettings",n.ribbon.align2Button),Fe(3),He("buttonSettings",n.ribbon.align3Button),Fe(1),He("buttonSettings",n.ribbon.align4Button),Fe(3),He("buttonSettings",n.ribbon.align5Button),Fe(1),He("buttonSettings",n.ribbon.align6Button),Fe(5),He("buttonSettings",n.ribbon.equalHorizonButton),Fe(1),He("buttonSettings",n.ribbon.equalVerticalButton),Fe(3),He("buttonSettings",n.ribbon.increaseHorizonButton),Fe(1),He("buttonSettings",n.ribbon.increaseVerticalButton),Fe(3),He("buttonSettings",n.ribbon.decreaseHorizonButton),Fe(1),He("buttonSettings",n.ribbon.decreaseVerticalButton),Fe(5),He("buttonSettings",n.ribbon.sameWidthButton),Fe(1),He("buttonSettings",n.ribbon.sameHeightButton),Fe(3),He("buttonSettings",n.ribbon.sameSizeButton),Fe(5),He("buttonSettings",n.ribbon.snapGridButton),Fe(1),He("buttonSettings",n.ribbon.snapRulerButton),Fe(3),He("buttonSettings",n.ribbon.snapGuideLineButton),Fe(5),He("buttonSettings",n.ribbon.modelHorizonButton),Fe(1),He("buttonSettings",n.ribbon.modelVerticalButton),Fe(1),He("buttonSettings",n.ribbon.sizeToWindowPointButton),Fe(7),He("buttonSettings",n.ribbon.communicationButton)("disabled",Ph(404,250,n.domain$)===n.EDomain.COMMUNICATION),Fe(4),He("buttonSettings",n.ribbon.theoryButton)("disabled",Ph(408,252,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex),Fe(2),He("ngIf",1===n.selectedTabIndex),Fe(2),He("ngIf",1===n.selectedTabIndex&&Ph(415,254,n.domain$)===n.EDomain.COMMUNICATION),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(418,256,n.domain$)===n.EDomain.COMMUNICATION),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(421,258,n.domain$)===n.EDomain.COMMUNICATION),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(424,260,n.domain$)===n.EDomain.COMMUNICATION),Fe(3),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",2===n.selectedTabIndex),Fe(2),He("ngIf",1===n.selectedTabIndex&&Ph(457,262,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(460,264,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(463,266,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(466,268,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(469,270,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(472,272,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(475,274,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(478,276,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(481,278,n.domain$)===n.EDomain.THEORY),Fe(3),He("ngIf",1===n.selectedTabIndex&&Ph(484,280,n.domain$)===n.EDomain.THEORY),Fe(2),He("visible",n.isShowProjectFileActionModal)("isShowFooter",!1)("dialogSize",n.EDialogSize.MEDIUM),Fe(2),He("ngForOf",n.fakeData),Fe(3),He("visible",n.isShowImageEditorModal)("imageFileData",n.uploadedFile))},dependencies:[Aa,PU,g1,HU,o1e,qMe,B$,F$,j$,H$,U$,V$,W$,Y$,l1e,Zq,Gxe],styles:["[_nghost-%COMP%]     #default{height:158px}[_nghost-%COMP%]     #default #default_filemenu{background-color:var(--green-600);color:var(--white)}[_nghost-%COMP%]     #default #default_filemenu:hover{color:var(--white)}[_nghost-%COMP%]     #default .e-content{height:114px!important}[_nghost-%COMP%]     #default .e-content .e-item{height:100%!important}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item{height:100%!important}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container{height:100%!important}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content{height:78%!important}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon{background-size:contain;background-position:center center;background-repeat:no-repeat;width:40px;height:40px}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-small, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-small{background-size:contain;background-position:center center;background-repeat:no-repeat;width:14px;height:14px}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-large, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-large{background-size:contain;background-position:center center;background-repeat:no-repeat;width:120px;height:120px}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-medium, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-medium{background-size:contain;background-position:center center;background-repeat:no-repeat;width:70px;height:70px}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-copy, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-copy{background-image:url(/assets/images/clipboardcopy.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-paste, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-paste{background-image:url(/assets/images/icon-paste1.jpg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-cut, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-cut{background-image:url(/assets/images/ClipboardCut.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-delete, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-delete{background-image:url(/assets/images/clipboardelete.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-clipBoard, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-clipBoard{background-image:url(/assets/icons/copy-to-clipboard.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-undo1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-undo1{background-image:url(/assets/images/undo1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fill-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fill-menu{background-image:url(/assets/images/fill-menu.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-lineMenu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-lineMenu{background-image:url(/assets/icons/linemenu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-text-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-text-menu{background-image:url(/assets/icons/text-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-start-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-start-menu{background-image:url(/assets/icons/start-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-end-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-end-menu{background-image:url(/assets/icons/end-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-point-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-point-menu{background-image:url(/assets/icons/point-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-text-menu2, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-text-menu2{background-image:url(/assets/icons/text-menu2.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-line-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-line-menu{background-image:url(/assets/icons/line-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-autoconnector, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-autoconnector{background-image:url(/assets/icons/autoconnector.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-node-menu, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-node-menu{background-image:url(/assets/icons/node-menu.svg)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-selectedentityedit, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-selectedentityedit{background-image:url(/assets/images/selectedentityedit.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-undolastactionedit, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-undolastactionedit{background-image:url(/assets/images/undolastactionedit.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-theorydomain, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-theorydomain{background-image:url(/assets/images/theorydomain.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-communicationdomain, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-communicationdomain{background-image:url(/assets/images/communicationdomain.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-error, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-error{background-image:url(/assets/images/error.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-optionmix1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-optionmix1{background-image:url(/assets/images/optionmix1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-captureimageproject, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-captureimageproject{background-image:url(/assets/images/captureimageproject.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-editimageproject, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-editimageproject{background-image:url(/assets/images/editimageproject.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-editvideoproject, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-editvideoproject{background-image:url(/assets/images/editvideoproject.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-recordaudioproject1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-recordaudioproject1{background-image:url(/assets/images/recordaudioproject1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-settingproject1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-settingproject1{background-image:url(/assets/images/settingproject1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-startproject1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-startproject1{background-image:url(/assets/images/startproject1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-simulationproject, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-simulationproject{background-image:url(/assets/images/simulationproject.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-closeproject, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-closeproject{background-image:url(/assets/images/closeproject.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-subfunction, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-subfunction{background-image:url(/assets/images/subfunction.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-subapplication, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-subapplication{background-image:url(/assets/images/subapplication.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-subresult, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-subresult{background-image:url(/assets/images/subresult.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-entityview, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-entityview{background-image:url(/assets/images/entityview.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-panzoomview, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-panzoomview{background-image:url(/assets/images/panzoomview.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-modelview, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-modelview{background-image:url(/assets/images/modelview.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-tasklistview, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-tasklistview{background-image:url(/assets/images/tasklistview.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-showhidemodelsview, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-showhidemodelsview{background-image:url(/assets/images/showhidemodelsview.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-brackets, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-brackets{background-image:url(/assets/images/brackets.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-decoratedEquation, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-decoratedEquation{background-image:url(/assets/images/decoratedEquation.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-sumproduct, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-sumproduct{background-image:url(/assets/images/sumproduct.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-integrals, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-integrals{background-image:url(/assets/images/integrals.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-script, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-script{background-image:url(/assets/images/script.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-divroot, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-divroot{background-image:url(/assets/images/divroot.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-arrowEquation, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-arrowEquation{background-image:url(/assets/images/arrowEquation.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-underbar, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-underbar{background-image:url(/assets/images/underbar.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-decoratedCharacter, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-decoratedCharacter{background-image:url(/assets/images/decoratedCharacter.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-matrix, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-matrix{background-image:url(/assets/images/matrix.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-boxes, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-boxes{background-image:url(/assets/images/boxes.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-symbols, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-symbols{background-image:url(/assets/images/symbols.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-greekcapital, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-greekcapital{background-image:url(/assets/images/greekcapital.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-greeksmall, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-greeksmall{background-image:url(/assets/images/greeksmall.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-arrows, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-arrows{background-image:url(/assets/images/arrows.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-container-menu-insert, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-container-menu-insert{background-image:url(/assets/images/container-menu-insert.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-list-menu-insert, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-list-menu-insert{background-image:url(/assets/images/list-menu-insert.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-picture-menu-insert, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-picture-menu-insert{background-image:url(/assets/images/picture-menu-insert.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-Function_Icon1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-Function_Icon1{background-image:url(/assets/images/Function_Icon1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-Word_Icon1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-Word_Icon1{background-image:url(/assets/images/Word_Icon1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-Application_Icon1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-Application_Icon1{background-image:url(/assets/images/Application_Icon1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-Relationship_Icon1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-Relationship_Icon1{background-image:url(/assets/images/Relationship_Icon1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-point, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-point{background-image:url(/assets/images/point.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-left-arrow, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-left-arrow{background-image:url(/assets/images/left-arrow.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-right-arrow, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-right-arrow{background-image:url(/assets/images/right-arrow.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-up-arrow, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-up-arrow{background-image:url(/assets/images/up-arrow.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-down-arrow, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-down-arrow{background-image:url(/assets/images/down-arrow.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-align-left, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-align-left{background-image:url(/assets/images/align-left.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-align-right, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-align-right{background-image:url(/assets/images/align-right.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-align-center, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-align-center{background-image:url(/assets/images/align-center.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-sort-down, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-sort-down{background-image:url(/assets/images/sort-down.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-top-align, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-top-align{background-image:url(/assets/images/top-align.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-align, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-align{background-image:url(/assets/images/align.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-width, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-width{background-image:url(/assets/images/width.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-height, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-height{background-image:url(/assets/images/height.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-size-square, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-size-square{background-image:url(/assets/images/size-square.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-grid, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-grid{background-image:url(/assets/images/grid.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-axis, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-axis{background-image:url(/assets/images/axis.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-length, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-length{background-image:url(/assets/images/length.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-left-alignment, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-left-alignment{background-image:url(/assets/images/left-alignment.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-program, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-program{background-image:url(/assets/images/program.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-reconrdvideoproject1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-reconrdvideoproject1{background-image:url(/assets/images/reconrdvideoproject1.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-minus, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-minus{background-image:url(/assets/images/minus.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-ease, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-ease{background-image:url(/assets/images/ease.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-ellipse, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-ellipse{transform:rotate(90deg);background-image:url(/assets/images/ellipse.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-line-chart, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-line-chart{background-image:url(/assets/images/line-chart.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-theory1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-theory1{background-image:url(/assets/images/speaklogic/Theory1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-theory2, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-theory2{background-image:url(/assets/images/speaklogic/Theory2_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental2, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental2{background-image:url(/assets/images/speaklogic/Fundamental2_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-function2, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-function2{background-image:url(/assets/images/speaklogic/Function2_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-time, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-time{background-image:url(/assets/images/speaklogic/Time_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-derivative, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-derivative{background-image:url(/assets/images/speaklogic/Derivative_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-instrusment, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-instrusment{background-image:url(/assets/images/speaklogic/Instrusment_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-stability, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-stability{background-image:url(/assets/images/speaklogic/Stability_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-theorem, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-theorem{background-image:url(/assets/images/speaklogic/Theorem_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-ribbon-item .icon-fundamental1, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-ribbon-item .icon-fundamental1{background-image:url(/assets/images/speaklogic/Fundamental1_Icon.png)}[_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group .e-ribbon-group-content .e-input-group, [_nghost-%COMP%]     #default .e-content .e-item .e-ribbon-tab-item .e-ribbon-group-container .e-ribbon-group-content .e-input-group{border-width:1px;border-color:var(--gray-300)}.min-w-40[_ngcontent-%COMP%]{min-width:40px!important}.min-w-70[_ngcontent-%COMP%]{min-width:70px!important}.min-w-90[_ngcontent-%COMP%]{min-width:90px!important}.min-w-100[_ngcontent-%COMP%]{min-width:100px!important}.min-w-120[_ngcontent-%COMP%]{min-width:120px!important}.min-w-200[_ngcontent-%COMP%]{min-width:200px!important}.justify-left[_ngcontent-%COMP%]{justify-content:left}.border-1[_ngcontent-%COMP%]{border:1px solid black}.flex-row-center[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;flex-direction:row!important}.length-setting[_ngcontent-%COMP%]{padding:7px!important}  ejs-listview .e-list-parent{display:flex;align-items:center}  ejs-listview .e-list-parent .e-list-item{height:100%!important}#function-dropdown[_ngcontent-%COMP%], #word-dropdown[_ngcontent-%COMP%], #application-dropdown[_ngcontent-%COMP%], #relationship-dropdown[_ngcontent-%COMP%], #boxes-dropdown[_ngcontent-%COMP%], #greek-capital-dropdown[_ngcontent-%COMP%], #greek-small-dropdown[_ngcontent-%COMP%], #script-dropdown[_ngcontent-%COMP%], #matrix-dropdown[_ngcontent-%COMP%], #bar-dropdown[_ngcontent-%COMP%], #frac-dropdown[_ngcontent-%COMP%], #arrow-dropdown[_ngcontent-%COMP%], #decorator-dropdown[_ngcontent-%COMP%], #sum-dropdown[_ngcontent-%COMP%], #bracket-dropdown[_ngcontent-%COMP%], #integral-dropdown[_ngcontent-%COMP%], #accent-dropdown[_ngcontent-%COMP%], #arrow-code-dropdown[_ngcontent-%COMP%], #operator-dropdown[_ngcontent-%COMP%], #container-dropdown[_ngcontent-%COMP%], #theory1-dropdown[_ngcontent-%COMP%], #theory2-dropdown[_ngcontent-%COMP%], #fundamental1-dropdown[_ngcontent-%COMP%], #fundamental2-dropdown[_ngcontent-%COMP%], #function2-dropdown[_ngcontent-%COMP%], #time-dropdown[_ngcontent-%COMP%], #derivative-dropdown[_ngcontent-%COMP%], #instrusment-dropdown[_ngcontent-%COMP%], #stability-dropdown[_ngcontent-%COMP%], #theorem-dropdown[_ngcontent-%COMP%]{padding:12px;display:grid;grid-template-columns:auto auto auto auto auto;max-height:700px;overflow-y:auto}#function-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #word-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #application-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #relationship-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #boxes-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #greek-capital-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #greek-small-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #script-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #matrix-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #bar-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #frac-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #arrow-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #decorator-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #sum-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #bracket-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #integral-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #accent-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #arrow-code-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #operator-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #container-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #theory1-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #theory2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #fundamental1-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #fundamental2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #function2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #time-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #derivative-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #instrusment-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #stability-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%], #theorem-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]{padding:18px}#function-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #word-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #application-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #relationship-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #boxes-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #greek-capital-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #greek-small-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #script-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #matrix-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #bar-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #frac-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #arrow-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #decorator-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #sum-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #bracket-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #integral-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #accent-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #arrow-code-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #operator-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #container-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #theory1-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #theory2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #fundamental1-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #fundamental2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #function2-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #time-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #derivative-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #instrusment-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #stability-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover, #theorem-dropdown[_ngcontent-%COMP%]   .function-dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer;background:var(--blue-400)}#function-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #word-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #application-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #relationship-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #boxes-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #greek-capital-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #greek-small-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #script-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #matrix-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #bar-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #frac-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #arrow-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #decorator-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #sum-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #bracket-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #integral-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #accent-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #arrow-code-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #operator-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #container-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #theory1-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #theory2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #fundamental1-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #fundamental2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #function2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #time-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #derivative-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #instrusment-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #stability-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%], #theorem-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]{padding:18px;display:flex;align-items:center;gap:12px}#function-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #word-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #application-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #relationship-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #boxes-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #greek-capital-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #greek-small-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #script-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #matrix-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #bar-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #frac-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #arrow-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #decorator-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #sum-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #bracket-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #integral-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #accent-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #arrow-code-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #operator-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #container-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #theory1-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #theory2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #fundamental1-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #fundamental2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #function2-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #time-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #derivative-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #instrusment-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #stability-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover, #theorem-dropdown[_ngcontent-%COMP%]   .container-dropdown-item[_ngcontent-%COMP%]:hover{background:var(--blue-400);cursor:pointer}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--gray-300)}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:column}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{background:var(--blue-100);padding:8px;margin:12px 0}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .group-content-item[_ngcontent-%COMP%]{padding:18px;display:flex;align-items:center;gap:12px}#list-dropdown[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .group-content-item[_ngcontent-%COMP%]:hover{background:var(--blue-400);cursor:pointer}  .e-ribbon-item>button:hover{background-color:#f0f0f0!important}  .e-split-btn-wrapper>button:hover{background-color:#f0f0f0!important}.editing-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.editing-wrapper[_ngcontent-%COMP%]   .editing-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px;gap:10px;border:none;background-color:#f0f0f0}.editing-wrapper[_ngcontent-%COMP%]   .editing-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.editing-wrapper[_ngcontent-%COMP%]   .editing-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#86cbea}"]})}return r})(),oTe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["sync-header"]],standalone:!0,features:[ec],decls:1,vars:0,template:function(i,n){1&i&&jt(0,"sync-ribbon")},dependencies:[Aa,sTe]})}return r})();const aTe=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:(()=>{class r{constructor(){this.visible=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["app-sync-main"]],standalone:!0,features:[ec],decls:10,vars:0,consts:[[1,"sync-container"],[1,"sync-header-wrapper"],[1,"sync-content-wrapper"],[1,"sync-content-left-wrapper"],[1,"sync-content-center-wrapper"],[1,"sync-content-right-wrapper"]],template:function(i,n){1&i&&(nt(0,"div",0)(1,"div",1),jt(2,"sync-header"),pt(),nt(3,"div",2)(4,"div",3),jt(5,"sync-content-left"),pt(),nt(6,"div",4),jt(7,"sync-content-detail"),pt(),nt(8,"div",5),jt(9,"sync-content-right"),pt()()())},dependencies:[Aa,CCe,oTe,qCe,OSe],styles:["[_nghost-%COMP%]{--header-height: 158px}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;gap:10px;overflow:hidden}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]   .sync-header-wrapper[_ngcontent-%COMP%]{width:100%;height:var(--header-height)}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]   .sync-content-wrapper[_ngcontent-%COMP%]{height:calc(100vh - var(--header-height));width:100%;display:flex;padding:0 5px}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]   .sync-content-wrapper[_ngcontent-%COMP%]   .sync-content-left-wrapper[_ngcontent-%COMP%]{height:100%;margin-right:5px;min-width:300px;overflow-y:auto}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]   .sync-content-wrapper[_ngcontent-%COMP%]   .sync-content-center-wrapper[_ngcontent-%COMP%]{height:100%;flex-grow:1}[_nghost-%COMP%]   .sync-container[_ngcontent-%COMP%]   .sync-content-wrapper[_ngcontent-%COMP%]   .sync-content-right-wrapper[_ngcontent-%COMP%]{height:100%;margin-left:5px;min-width:300px}"]})}return r})()}];let lTe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=da({type:r});static#i=this.\u0275inj=Ko({imports:[SW.forRoot(aTe),SW]})}return r})(),hTe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=Rs({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){1&i&&jt(0,"router-outlet")},dependencies:[u_]})}return r})(),cTe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=da({type:r,bootstrap:[hTe]});static#i=this.\u0275inj=Ko({imports:[Sse,lTe,vCe.forRoot({timeOut:3e3,preventDuplicates:!0})]})}return r})();ZW("Ngo9BigBOggjHTQxAR8/V1NHaF5cXmVCf1FpRmJGdld5fUVHYVZUTXxaS00DNHVRdkdgWH9cc3VVRWNfVkRyWkc="),bse().bootstrapModule(cTe).catch(r=>console.error(r))},217:function(th,ai){var sn,me;void 0!==(me="function"==typeof(sn=function(){"use strict";function Ke(re,te,he){var ce=new XMLHttpRequest;ce.open("GET",re),ce.responseType="blob",ce.onload=function(){_(ce.response,te,he)},ce.onerror=function(){console.error("could not download file")},ce.send()}function Ht(re){var te=new XMLHttpRequest;te.open("HEAD",re,!1);try{te.send()}catch{}return 200<=te.status&&299>=te.status}function q(re){try{re.dispatchEvent(new MouseEvent("click"))}catch{var te=document.createEvent("MouseEvents");te.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),re.dispatchEvent(te)}}var le="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,B=le.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=le.saveAs||("object"!=typeof window||window!==le?function(){}:"download"in HTMLAnchorElement.prototype&&!B?function(re,te,he){var ce=le.URL||le.webkitURL,ye=document.createElement("a");ye.download=te=te||re.name||"download",ye.rel="noopener","string"==typeof re?(ye.href=re,ye.origin===location.origin?q(ye):Ht(ye.href)?Ke(re,te,he):q(ye,ye.target="_blank")):(ye.href=ce.createObjectURL(re),setTimeout(function(){ce.revokeObjectURL(ye.href)},4e4),setTimeout(function(){q(ye)},0))}:"msSaveOrOpenBlob"in navigator?function(re,te,he){if(te=te||re.name||"download","string"!=typeof re)navigator.msSaveOrOpenBlob(function _t(re,te){return typeof te>"u"?te={autoBom:!1}:"object"!=typeof te&&(console.warn("Deprecated: Expected third argument to be a object"),te={autoBom:!te}),te.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(re.type)?new Blob(["\ufeff",re],{type:re.type}):re}(re,he),te);else if(Ht(re))Ke(re,te,he);else{var ce=document.createElement("a");ce.href=re,ce.target="_blank",setTimeout(function(){q(ce)})}}:function(re,te,he,ce){if((ce=ce||open("","_blank"))&&(ce.document.title=ce.document.body.innerText="downloading..."),"string"==typeof re)return Ke(re,te,he);var ye="application/octet-stream"===re.type,F=/constructor/i.test(le.HTMLElement)||le.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||ye&&F||B)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var b=N.result;b=I?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),ce?ce.location.href=b:location=b,ce=null},N.readAsDataURL(re)}else{var k=le.URL||le.webkitURL,y=k.createObjectURL(re);ce?ce.location=y:location.href=y,ce=null,setTimeout(function(){k.revokeObjectURL(y)},4e4)}});le.saveAs=_.saveAs=_,th.exports=_})?sn.apply(ai,[]):sn)&&(th.exports=me)},990:function(th,ai,sn){var tt;th=sn.nmd(th),function(){var me,q="Expected a function",B="__lodash_hash_undefined__",re="__lodash_placeholder__",C=32,z=128,Ne=1/0,bt=9007199254740991,ot=4294967295,Gi=[["ary",z],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",C],["partialRight",64],["rearg",256]],Ft="[object Arguments]",Li="[object Array]",ct="[object Boolean]",et="[object Date]",Mt="[object Error]",Ee="[object Function]",_e="[object GeneratorFunction]",We="[object Map]",Ze="[object Number]",Tt="[object Object]",Jt="[object Promise]",Zt="[object RegExp]",ft="[object Set]",it="[object String]",dt="[object Symbol]",xt="[object WeakMap]",fi="[object ArrayBuffer]",Zi="[object DataView]",Vi="[object Float32Array]",Qt="[object Float64Array]",en="[object Int8Array]",mn="[object Int16Array]",qn="[object Int32Array]",Us="[object Uint8Array]",is="[object Uint8ClampedArray]",ps="[object Uint16Array]",gr="[object Uint32Array]",As=/\b__p \+= '';/g,Eo=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ci=/&(?:amp|lt|gt|quot|#39);/g,di=/[&<>"']/g,Ui=RegExp(ci.source),Ji=RegExp(di.source),fn=/<%-([\s\S]+?)%>/g,Oi=/<%([\s\S]+?)%>/g,co=/<%=([\s\S]+?)%>/g,jo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gn=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ys=/[\\^$.*+?()[\]{}|]/g,$r=RegExp(ys.source),qr=/^\s+/,no=/\s/,vl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bo=/\{\n\/\* \[wrapped with (.+)\] \*/,yc=/,? & /,Os=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eg=/[()=,{}\[\]\/\s]/,Yv=/\\(\\)?/g,Gv=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ih=/\w*$/,Xv=/^[-+]0x[0-9a-f]+$/i,uo=/^0b[01]+$/i,Vh=/^\[object .+?Constructor\]$/,$a=/^0o[0-7]+$/i,Dh=/^(?:0|[1-9]\d*)$/,tg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$d=/($^)/,qe=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",cr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",In="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",Jo="A-Z\\xc0-\\xd6\\xd8-\\xde",bs="\\ufe0e\\ufe0f",rf="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nr="["+li+"]",qd="["+rf+"]",sf="["+cr+"]",yl="\\d+",Th="["+In+"]",ig="["+ar+"]",_s="[^"+li+rf+yl+In+ar+Jo+"]",af="\\ud83c[\\udffb-\\udfff]",id="[^"+li+"]",qy="(?:\\ud83c[\\udde6-\\uddff]){2}",as="[\\ud800-\\udbff][\\udc00-\\udfff]",Gn="["+Jo+"]",ng="(?:"+ig+"|"+_s+")",eC="(?:"+Gn+"|"+_s+")",Zy="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ei="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",rg="(?:"+sf+"|"+af+")?",ur="["+bs+"]?",Jy=ur+rg+"(?:\\u200d(?:"+[id,qy,as].join("|")+")"+ur+rg+")*",Ky="(?:"+[Th,qy,as].join("|")+")"+Jy,bl="(?:"+[id+sf+"?",sf,qy,as,nr].join("|")+")",pI=RegExp("['\u2019]","g"),tC=RegExp(sf,"g"),iC=RegExp(af+"(?="+af+")|"+bl+Jy,"g"),Zd=RegExp([Gn+"?"+ig+"+"+Zy+"(?="+[qd,Gn,"$"].join("|")+")",eC+"+"+Ei+"(?="+[qd,Gn+ng,"$"].join("|")+")",Gn+"?"+ng+"+"+Zy,Gn+"+"+Ei,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yl,Ky].join("|"),"g"),fI=RegExp("[\\u200d"+li+cr+bs+"]"),UD=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,VD=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ao=-1,fo={};fo[Vi]=fo[Qt]=fo[en]=fo[mn]=fo[qn]=fo[Us]=fo[is]=fo[ps]=fo[gr]=!0,fo[Ft]=fo[Li]=fo[fi]=fo[ct]=fo[Zi]=fo[et]=fo[Mt]=fo[Ee]=fo[We]=fo[Ze]=fo[Tt]=fo[Zt]=fo[ft]=fo[it]=fo[xt]=!1;var Co={};Co[Ft]=Co[Li]=Co[fi]=Co[Zi]=Co[ct]=Co[et]=Co[Vi]=Co[Qt]=Co[en]=Co[mn]=Co[qn]=Co[We]=Co[Ze]=Co[Tt]=Co[Zt]=Co[ft]=Co[it]=Co[dt]=Co[Us]=Co[is]=Co[ps]=Co[gr]=!0,Co[Mt]=Co[Ee]=Co[xt]=!1;var lr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},WD=parseFloat,Su=parseInt,vI="object"==typeof global&&global&&global.Object===Object&&global,Pn="object"==typeof self&&self&&self.Object===Object&&self,Cl=vI||Pn||Function("return this")(),Ko=ai&&!ai.nodeType&&ai,nd=Ko&&th&&!th.nodeType&&th,nC=nd&&nd.exports===Ko,oi=nC&&vI.process,Yh=function(){try{return nd&&nd.require&&nd.require("util").types||oi&&oi.binding&&oi.binding("util")}catch{}}(),hf=Yh&&Yh.isArrayBuffer,Kd=Yh&&Yh.isDate,ls=Yh&&Yh.isMap,e0=Yh&&Yh.isRegExp,sg=Yh&&Yh.isSet,yn=Yh&&Yh.isTypedArray;function pr(At,hi,qt){switch(qt.length){case 0:return At.call(hi);case 1:return At.call(hi,qt[0]);case 2:return At.call(hi,qt[0],qt[1]);case 3:return At.call(hi,qt[0],qt[1],qt[2])}return At.apply(hi,qt)}function t0(At,hi,qt,tn){for(var vr=-1,Cs=null==At?0:At.length;++vr<Cs;){var Ma=At[vr];hi(tn,Ma,qt(Ma),At)}return tn}function Wi(At,hi){for(var qt=-1,tn=null==At?0:At.length;++qt<tn&&!1!==hi(At[qt],qt,At););return At}function rC(At,hi){for(var qt=null==At?0:At.length;qt--&&!1!==hi(At[qt],qt,At););return At}function og(At,hi){for(var qt=-1,tn=null==At?0:At.length;++qt<tn;)if(!hi(At[qt],qt,At))return!1;return!0}function fs(At,hi){for(var qt=-1,tn=null==At?0:At.length,vr=0,Cs=[];++qt<tn;){var Ma=At[qt];hi(Ma,qt,At)&&(Cs[vr++]=Ma)}return Cs}function n0(At,hi){return!(null==At||!At.length)&&ag(At,hi,0)>-1}function sC(At,hi,qt){for(var tn=-1,vr=null==At?0:At.length;++tn<vr;)if(qt(hi,At[tn]))return!0;return!1}function ro(At,hi){for(var qt=-1,tn=null==At?0:At.length,vr=Array(tn);++qt<tn;)vr[qt]=hi(At[qt],qt,At);return vr}function rl(At,hi){for(var qt=-1,tn=hi.length,vr=At.length;++qt<tn;)At[vr+qt]=hi[qt];return At}function Qv(At,hi,qt,tn){var vr=-1,Cs=null==At?0:At.length;for(tn&&Cs&&(qt=At[++vr]);++vr<Cs;)qt=hi(qt,At[vr],vr,At);return qt}function $v(At,hi,qt,tn){var vr=null==At?0:At.length;for(tn&&vr&&(qt=At[--vr]);vr--;)qt=hi(qt,At[vr],vr,At);return qt}function nh(At,hi){for(var qt=-1,tn=null==At?0:At.length;++qt<tn;)if(hi(At[qt],qt,At))return!0;return!1}var qv=s0("length");function mI(At,hi,qt){var tn;return qt(At,function(vr,Cs,Ma){if(hi(vr,Cs,Ma))return tn=Cs,!1}),tn}function r0(At,hi,qt,tn){for(var vr=At.length,Cs=qt+(tn?1:-1);tn?Cs--:++Cs<vr;)if(hi(At[Cs],Cs,At))return Cs;return-1}function ag(At,hi,qt){return hi==hi?function xu(At,hi,qt){for(var tn=qt-1,vr=At.length;++tn<vr;)if(At[tn]===hi)return tn;return-1}(At,hi,qt):r0(At,Zv,qt)}function lg(At,hi,qt,tn){for(var vr=qt-1,Cs=At.length;++vr<Cs;)if(tn(At[vr],hi))return vr;return-1}function Zv(At){return At!=At}function hg(At,hi){var qt=null==At?0:At.length;return qt?rd(At,hi)/qt:NaN}function s0(At){return function(hi){return null==hi?me:hi[At]}}function o0(At){return function(hi){return null==At?me:At[hi]}}function oC(At,hi,qt,tn,vr){return vr(At,function(Cs,Ma,so){qt=tn?(tn=!1,Cs):hi(qt,Cs,Ma,so)}),qt}function rd(At,hi){for(var qt,tn=-1,vr=At.length;++tn<vr;){var Cs=hi(At[tn]);Cs!==me&&(qt=qt===me?Cs:qt+Cs)}return qt}function a0(At,hi){for(var qt=-1,tn=Array(At);++qt<At;)tn[qt]=hi(qt);return tn}function lC(At){return At&&At.slice(0,em(At)+1).replace(qr,"")}function vn(At){return function(hi){return At(hi)}}function Jv(At,hi){return ro(hi,function(qt){return At[qt]})}function cn(At,hi){return At.has(hi)}function cg(At,hi){for(var qt=-1,tn=At.length;++qt<tn&&ag(hi,At[qt],0)>-1;);return qt}function Kv(At,hi){for(var qt=At.length;qt--&&ag(hi,At[qt],0)>-1;);return qt}var yI=o0({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),bI=o0({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function CI(At){return"\\"+lr[At]}function Mu(At){return fI.test(At)}function hs(At){var hi=-1,qt=Array(At.size);return At.forEach(function(tn,vr){qt[++hi]=[vr,tn]}),qt}function dg(At,hi){return function(qt){return At(hi(qt))}}function Qc(At,hi){for(var qt=-1,tn=At.length,vr=0,Cs=[];++qt<tn;){var Ma=At[qt];(Ma===hi||Ma===re)&&(At[qt]=re,Cs[vr++]=qt)}return Cs}function cf(At){var hi=-1,qt=Array(At.size);return At.forEach(function(tn){qt[++hi]=tn}),qt}function ep(At){return Mu(At)?function uC(At){for(var hi=iC.lastIndex=0;iC.test(At);)++hi;return hi}(At):qv(At)}function Gh(At){return Mu(At)?function fg(At){return At.match(iC)||[]}(At):function wu(At){return At.split("")}(At)}function em(At){for(var hi=At.length;hi--&&no.test(At.charAt(hi)););return hi}var cC=o0({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tm=function At(hi){var g,qt=(hi=null==hi?Cl:tm.defaults(Cl.Object(),hi,tm.pick(Cl,VD))).Array,tn=hi.Date,vr=hi.Error,Cs=hi.Function,Ma=hi.Math,so=hi.Object,l0=hi.RegExp,SI=hi.String,rh=hi.TypeError,im=qt.prototype,uf=so.prototype,Rs=hi["__core-js_shared__"],gg=Cs.prototype.toString,Vs=uf.hasOwnProperty,wI=0,da=(g=/[^.]+$/.exec(Rs&&Rs.keys&&Rs.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",nm=uf.toString,gC=gg.call(so),nn=Cl._,sh=l0("^"+gg.call(Vs).replace(ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vr=nC?hi.Buffer:me,Oo=hi.Symbol,qa=hi.Uint8Array,od=Vr?Vr.allocUnsafe:me,sl=dg(so.getPrototypeOf,so),h0=so.create,c0=uf.propertyIsEnumerable,tp=im.splice,vC=Oo?Oo.isConcatSpreadable:me,vg=Oo?Oo.iterator:me,$s=Oo?Oo.toStringTag:me,rn=function(){try{var g=Dc(so,"defineProperty");return g({},"",{}),g}catch{}}(),mr=hi.clearTimeout!==Cl.clearTimeout&&hi.clearTimeout,qs=tn&&tn.now!==Cl.Date.now&&tn.now,Ul=hi.setTimeout!==Cl.setTimeout&&hi.setTimeout,Du=Ma.ceil,Ra=Ma.floor,ad=so.getOwnPropertySymbols,go=Vr?Vr.isBuffer:me,$c=hi.isFinite,df=im.join,fr=dg(so.keys,so),Lo=Ma.max,ol=Ma.min,Tu=tn.now,pa=hi.parseInt,al=Ma.random,pf=im.reverse,Xh=Dc(hi,"DataView"),Eu=Dc(hi,"Map"),rm=Dc(hi,"Promise"),Eh=Dc(hi,"Set"),Ah=Dc(hi,"WeakMap"),Au=Dc(so,"create"),ld=Ah&&new Ah,br={},GD=Bu(Xh),u0=Bu(Eu),mC=Bu(rm),qc=Bu(Eh),mg=Bu(Ah),Cc=Oo?Oo.prototype:me,Ou=Cc?Cc.valueOf:me,fa=Cc?Cc.toString:me;function Te(g){if(va(g)&&!Sr(g)&&!(g instanceof Cr)){if(g instanceof oh)return g;if(Vs.call(g,"__wrapped__"))return gp(g)}return new oh(g)}var za=function(){function g(){}return function(L){if(!ea(L))return{};if(h0)return h0(L);g.prototype=L;var V=new g;return g.prototype=me,V}}();function Za(){}function oh(g,L){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=me}function Cr(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function ip(g){var L=-1,V=null==g?0:g.length;for(this.clear();++L<V;){var ie=g[L];this.set(ie[0],ie[1])}}function hd(g){var L=-1,V=null==g?0:g.length;for(this.clear();++L<V;){var ie=g[L];this.set(ie[0],ie[1])}}function Lu(g){var L=-1,V=null==g?0:g.length;for(this.clear();++L<V;){var ie=g[L];this.set(ie[0],ie[1])}}function cd(g){var L=-1,V=null==g?0:g.length;for(this.__data__=new Lu;++L<V;)this.add(g[L])}function Zc(g){var L=this.__data__=new hd(g);this.size=L.size}function yg(g,L){var V=Sr(g),ie=!V&&Vg(g),ve=!V&&!ie&&Df(g),ke=!V&&!ie&&!ve&&Gm(g),at=V||ie||ve||ke,mt=at?a0(g.length,SI):[],Pt=mt.length;for(var Ci in g)(L||Vs.call(g,Ci))&&(!at||!("length"==Ci||ve&&("offset"==Ci||"parent"==Ci)||ke&&("buffer"==Ci||"byteLength"==Ci||"byteOffset"==Ci)||tu(Ci,Pt)))&&mt.push(Ci);return mt}function Oh(g){var L=g.length;return L?g[mm(0,L-1)]:me}function bC(g,L){return md(Ml(g),dd(L,0,g.length))}function CC(g){return md(Ml(g))}function om(g,L,V){(V!==me&&!ju(g[L],V)||V===me&&!(L in g))&&Jc(g,L,V)}function ff(g,L,V){var ie=g[L];(!Vs.call(g,L)||!ju(ie,V)||V===me&&!(L in g))&&Jc(g,L,V)}function gf(g,L){for(var V=g.length;V--;)if(ju(g[V][0],L))return V;return-1}function SC(g,L,V,ie){return op(g,function(ve,ke,at){L(ie,ve,V(ve),at)}),ie}function am(g,L){return g&&Mc(L,Tl(L),g)}function Jc(g,L,V){"__proto__"==L&&rn?rn(g,L,{configurable:!0,enumerable:!0,value:V,writable:!0}):g[L]=V}function lm(g,L){for(var V=-1,ie=L.length,ve=qt(ie),ke=null==g;++V<ie;)ve[V]=ke?me:wM(g,L[V]);return ve}function dd(g,L,V){return g==g&&(V!==me&&(g=g<=V?g:V),L!==me&&(g=g>=L?g:L)),g}function Vl(g,L,V,ie,ve,ke){var at,mt=1&L,Pt=2&L,Ci=4&L;if(V&&(at=ve?V(g,ie,ve,ke):V(g)),at!==me)return at;if(!ea(g))return g;var Si=Sr(g);if(Si){if(at=function BC(g){var L=g.length,V=new g.constructor(L);return L&&"string"==typeof g[0]&&Vs.call(g,"index")&&(V.index=g.index,V.input=g.input),V}(g),!mt)return Ml(g,at)}else{var Ni=xa(g),un=Ni==Ee||Ni==_e;if(Df(g))return Il(g,mt);if(Ni==Tt||Ni==Ft||un&&!ve){if(at=Pt||un?{}:Tc(g),!mt)return Pt?function FI(g,L){return Mc(g,kg(g),L)}(g,function p0(g,L){return g&&Mc(L,Gl(L),g)}(at,g)):function M0(g,L){return Mc(g,Sf(g),L)}(g,am(at,g))}else{if(!Co[Ni])return ve?g:{};at=function lT(g,L,V){var ie=g.constructor;switch(L){case fi:return Ic(g);case ct:case et:return new ie(+g);case Zi:return function NC(g,L){var V=L?Ic(g.buffer):g.buffer;return new g.constructor(V,g.byteOffset,g.byteLength)}(g,V);case Vi:case Qt:case en:case mn:case qn:case Us:case is:case ps:case gr:return I0(g,V);case We:return new ie;case Ze:case it:return new ie(g);case Zt:return function yf(g){var L=new g.constructor(g.source,ih.exec(g));return L.lastIndex=g.lastIndex,L}(g);case ft:return new ie;case dt:return function _u(g){return Ou?so(Ou.call(g)):{}}(g)}}(g,Ni,mt)}}ke||(ke=new Zc);var Rn=ke.get(g);if(Rn)return Rn;ke.set(g,at),yM(g)?g.forEach(function(hr){at.add(Vl(hr,L,V,hr,g,ke))}):tS(g)&&g.forEach(function(hr,Er){at.set(Er,Vl(hr,L,V,Er,g,ke))});var Yr=Si?me:(Ci?Pt?Og:HI:Pt?Gl:Tl)(g);return Wi(Yr||g,function(hr,Er){Yr&&(hr=g[Er=hr]),ff(at,Er,Vl(hr,L,V,Er,g,ke))}),at}function rp(g,L,V){var ie=V.length;if(null==g)return!ie;for(g=so(g);ie--;){var ve=V[ie],at=g[ve];if(at===me&&!(ve in g)||!(0,L[ve])(at))return!1}return!0}function f0(g,L,V){if("function"!=typeof g)throw new rh(q);return vd(function(){g.apply(me,V)},L)}function sp(g,L,V,ie){var ve=-1,ke=n0,at=!0,mt=g.length,Pt=[],Ci=L.length;if(!mt)return Pt;V&&(L=ro(L,vn(V))),ie?(ke=sC,at=!1):L.length>=200&&(ke=cn,at=!1,L=new cd(L));e:for(;++ve<mt;){var Si=g[ve],Ni=null==V?Si:V(Si);if(Si=ie||0!==Si?Si:0,at&&Ni==Ni){for(var un=Ci;un--;)if(L[un]===Ni)continue e;Pt.push(Si)}else ke(L,Ni,ie)||Pt.push(Si)}return Pt}Te.templateSettings={escape:fn,evaluate:Oi,interpolate:co,variable:"",imports:{_:Te}},(Te.prototype=Za.prototype).constructor=Te,(oh.prototype=za(Za.prototype)).constructor=oh,(Cr.prototype=za(Za.prototype)).constructor=Cr,ip.prototype.clear=function II(){this.__data__=Au?Au(null):{},this.size=0},ip.prototype.delete=function XD(g){var L=this.has(g)&&delete this.__data__[g];return this.size-=L?1:0,L},ip.prototype.get=function MI(g){var L=this.__data__;if(Au){var V=L[g];return V===B?me:V}return Vs.call(L,g)?L[g]:me},ip.prototype.has=function xI(g){var L=this.__data__;return Au?L[g]!==me:Vs.call(L,g)},ip.prototype.set=function QD(g,L){var V=this.__data__;return this.size+=this.has(g)?0:1,V[g]=Au&&L===me?B:L,this},hd.prototype.clear=function $D(){this.__data__=[],this.size=0},hd.prototype.delete=function qD(g){var L=this.__data__,V=gf(L,g);return!(V<0||(V==L.length-1?L.pop():tp.call(L,V,1),--this.size,0))},hd.prototype.get=function ZD(g){var L=this.__data__,V=gf(L,g);return V<0?me:L[V][1]},hd.prototype.has=function JD(g){return gf(this.__data__,g)>-1},hd.prototype.set=function KD(g,L){var V=this.__data__,ie=gf(V,g);return ie<0?(++this.size,V.push([g,L])):V[ie][1]=L,this},Lu.prototype.clear=function eT(){this.size=0,this.__data__={hash:new ip,map:new(Eu||hd),string:new ip}},Lu.prototype.delete=function tT(g){var L=k0(this,g).delete(g);return this.size-=L?1:0,L},Lu.prototype.get=function DI(g){return k0(this,g).get(g)},Lu.prototype.has=function iT(g){return k0(this,g).has(g)},Lu.prototype.set=function yC(g,L){var V=k0(this,g),ie=V.size;return V.set(g,L),this.size+=V.size==ie?0:1,this},cd.prototype.add=cd.prototype.push=function nT(g){return this.__data__.set(g,B),this},cd.prototype.has=function rT(g){return this.__data__.has(g)},Zc.prototype.clear=function np(){this.__data__=new hd,this.size=0},Zc.prototype.delete=function ud(g){var L=this.__data__,V=L.delete(g);return this.size=L.size,V},Zc.prototype.get=function sT(g){return this.__data__.get(g)},Zc.prototype.has=function oT(g){return this.__data__.has(g)},Zc.prototype.set=function ll(g,L){var V=this.__data__;if(V instanceof hd){var ie=V.__data__;if(!Eu||ie.length<199)return ie.push([g,L]),this.size=++V.size,this;V=this.__data__=new Lu(ie)}return V.set(g,L),this.size=V.size,this};var op=x0(ku),TI=x0(hm,!0);function EI(g,L){var V=!0;return op(g,function(ie,ve,ke){return V=!!L(ie,ve,ke)}),V}function Qh(g,L,V){for(var ie=-1,ve=g.length;++ie<ve;){var ke=g[ie],at=L(ke);if(null!=at&&(mt===me?at==at&&!Lc(at):V(at,mt)))var mt=at,Pt=ke}return Pt}function Cg(g,L){var V=[];return op(g,function(ie,ve,ke){L(ie,ve,ke)&&V.push(ie)}),V}function Ba(g,L,V,ie,ve){var ke=-1,at=g.length;for(V||(V=Om),ve||(ve=[]);++ke<at;){var mt=g[ke];L>0&&V(mt)?L>1?Ba(mt,L-1,V,ie,ve):rl(ve,mt):ie||(ve[ve.length]=mt)}return ve}var ap=D0(),lp=D0(!0);function ku(g,L){return g&&ap(g,L,Tl)}function hm(g,L){return g&&lp(g,L,Tl)}function cm(g,L){return fs(L,function(V){return iu(g[V])})}function pd(g,L){for(var V=0,ie=(L=eu(L,g)).length;null!=g&&V<ie;)g=g[lh(L[V++])];return V&&V==ie?g:me}function g0(g,L,V){var ie=L(g);return Sr(g)?ie:rl(ie,V(g))}function Sl(g){return null==g?g===me?"[object Undefined]":"[object Null]":$s&&$s in so(g)?function VI(g){var L=Vs.call(g,$s),V=g[$s];try{g[$s]=me;var ie=!0}catch{}var ve=nm.call(g);return ie&&(L?g[$s]=V:delete g[$s]),ve}(g):function P0(g){return nm.call(g)}(g)}function v0(g,L){return g>L}function OI(g,L){return null!=g&&Vs.call(g,L)}function m0(g,L){return null!=g&&L in so(g)}function um(g,L,V){for(var ie=V?sC:n0,ve=g[0].length,ke=g.length,at=ke,mt=qt(ke),Pt=1/0,Ci=[];at--;){var Si=g[at];at&&L&&(Si=ro(Si,vn(L))),Pt=ol(Si.length,Pt),mt[at]=!V&&(L||ve>=120&&Si.length>=120)?new cd(at&&Si):me}Si=g[0];var Ni=-1,un=mt[0];e:for(;++Ni<ve&&Ci.length<Pt;){var Rn=Si[Ni],sr=L?L(Rn):Rn;if(Rn=V||0!==Rn?Rn:0,!(un?cn(un,sr):ie(Ci,sr,V))){for(at=ke;--at;){var Yr=mt[at];if(!(Yr?cn(Yr,sr):ie(g[at],sr,V)))continue e}un&&un.push(sr),Ci.push(Rn)}}return Ci}function dm(g,L,V){var ie=null==(g=XI(g,L=eu(L,g)))?g:g[lh(lt(L))];return null==ie?me:pr(ie,g,V)}function wC(g){return va(g)&&Sl(g)==Ft}function Sg(g,L,V,ie,ve){return g===L||(null==g||null==L||!va(g)&&!va(L)?g!=g&&L!=L:function IC(g,L,V,ie,ve,ke){var at=Sr(g),mt=Sr(L),Pt=at?Li:xa(g),Ci=mt?Li:xa(L),Si=(Pt=Pt==Ft?Tt:Pt)==Tt,Ni=(Ci=Ci==Ft?Tt:Ci)==Tt,un=Pt==Ci;if(un&&Df(g)){if(!Df(L))return!1;at=!0,Si=!1}if(un&&!Si)return ke||(ke=new Zc),at||Gm(g)?Tm(g,L,V,ie,ve,ke):function Cf(g,L,V,ie,ve,ke,at){switch(V){case Zi:if(g.byteLength!=L.byteLength||g.byteOffset!=L.byteOffset)return!1;g=g.buffer,L=L.buffer;case fi:return!(g.byteLength!=L.byteLength||!ke(new qa(g),new qa(L)));case ct:case et:case Ze:return ju(+g,+L);case Mt:return g.name==L.name&&g.message==L.message;case Zt:case it:return g==L+"";case We:var mt=hs;case ft:if(mt||(mt=cf),g.size!=L.size&&!(1&ie))return!1;var Ci=at.get(g);if(Ci)return Ci==L;ie|=2,at.set(g,L);var Si=Tm(mt(g),mt(L),ie,ve,ke,at);return at.delete(g),Si;case dt:if(Ou)return Ou.call(g)==Ou.call(L)}return!1}(g,L,Pt,V,ie,ve,ke);if(!(1&V)){var Rn=Si&&Vs.call(g,"__wrapped__"),sr=Ni&&Vs.call(L,"__wrapped__");if(Rn||sr){var Yr=Rn?g.value():g,hr=sr?L.value():L;return ke||(ke=new Zc),ve(Yr,hr,V,ie,ke)}}return!!un&&(ke||(ke=new Zc),function Ag(g,L,V,ie,ve,ke){var at=1&V,mt=HI(g),Pt=mt.length;if(Pt!=HI(L).length&&!at)return!1;for(var Ni=Pt;Ni--;){var un=mt[Ni];if(!(at?un in L:Vs.call(L,un)))return!1}var Rn=ke.get(g),sr=ke.get(L);if(Rn&&sr)return Rn==L&&sr==g;var Yr=!0;ke.set(g,L),ke.set(L,g);for(var hr=at;++Ni<Pt;){var Er=g[un=mt[Ni]],vs=L[un];if(ie)var El=at?ie(vs,Er,un,L,g,ke):ie(Er,vs,un,g,L,ke);if(!(El===me?Er===vs||ve(Er,vs,V,ie,ke):El)){Yr=!1;break}hr||(hr="constructor"==un)}if(Yr&&!hr){var rs=g.constructor,Pc=L.constructor;rs!=Pc&&"constructor"in g&&"constructor"in L&&!("function"==typeof rs&&rs instanceof rs&&"function"==typeof Pc&&Pc instanceof Pc)&&(Yr=!1)}return ke.delete(g),ke.delete(L),Yr}(g,L,V,ie,ve,ke))}(g,L,V,ie,Sg,ve))}function pm(g,L,V,ie){var ve=V.length,ke=ve,at=!ie;if(null==g)return!ke;for(g=so(g);ve--;){var mt=V[ve];if(at&&mt[2]?mt[1]!==g[mt[0]]:!(mt[0]in g))return!1}for(;++ve<ke;){var Pt=(mt=V[ve])[0],Ci=g[Pt],Si=mt[1];if(at&&mt[2]){if(Ci===me&&!(Pt in g))return!1}else{var Ni=new Zc;if(ie)var un=ie(Ci,Si,Pt,g,L,Ni);if(!(un===me?Sg(Si,Ci,3,ie,Ni):un))return!1}}return!0}function b0(g){return!(!ea(g)||function WI(g){return!!da&&da in g}(g))&&(iu(g)?sh:Vh).test(Bu(g))}function fm(g){return"function"==typeof g?g:null==g?uh:"object"==typeof g?Sr(g)?vm(g[0],g[1]):wl(g):KN(g)}function gm(g){if(!pp(g))return fr(g);var L=[];for(var V in so(g))Vs.call(g,V)&&"constructor"!=V&&L.push(V);return L}function wg(g,L){return g<L}function hp(g,L){var V=-1,ie=ch(g)?qt(g.length):[];return op(g,function(ve,ke,at){ie[++V]=L(ve,ke,at)}),ie}function wl(g){var L=Am(g);return 1==L.length&&L[0][2]?Pg(L[0][0],L[0][1]):function(V){return V===g||pm(V,g,L)}}function vm(g,L){return Lm(g)&&jC(L)?Pg(lh(g),L):function(V){var ie=wM(V,g);return ie===me&&ie===L?oS(V,g):Sg(L,ie,3)}}function cp(g,L,V,ie,ve){g!==L&&ap(L,function(ke,at){if(ve||(ve=new Zc),ea(ke))!function Nu(g,L,V,ie,ve,ke,at){var mt=_0(g,V),Pt=_0(L,V),Ci=at.get(Pt);if(Ci)om(g,V,Ci);else{var Si=ke?ke(mt,Pt,V+"",g,L,at):me,Ni=Si===me;if(Ni){var un=Sr(Pt),Rn=!un&&Df(Pt),sr=!un&&!Rn&&Gm(Pt);Si=Pt,un||Rn||sr?Sr(mt)?Si=mt:ga(mt)?Si=Ml(mt):Rn?(Ni=!1,Si=Il(Pt,!0)):sr?(Ni=!1,Si=I0(Pt,!0)):Si=[]:Yg(Pt)||Vg(Pt)?(Si=mt,Vg(mt)?Si=BT(mt):(!ea(mt)||iu(mt))&&(Si=Tc(Pt))):Ni=!1}Ni&&(at.set(Pt,Si),ve(Si,Pt,ie,ke,at),at.delete(Pt)),om(g,V,Si)}}(g,L,at,V,cp,ie,ve);else{var mt=ie?ie(_0(g,at),ke,at+"",g,L,ve):me;mt===me&&(mt=ke),om(g,at,mt)}},Gl)}function Wl(g,L){var V=g.length;if(V)return tu(L+=L<0?V:0,V)?g[L]:me}function xC(g,L,V){L=L.length?ro(L,function(ke){return Sr(ke)?function(at){return pd(at,1===ke.length?ke[0]:ke)}:ke}):[uh];var ie=-1;return L=ro(L,vn(er())),function aC(At,hi){var qt=At.length;for(At.sort(hi);qt--;)At[qt]=At[qt].value;return At}(hp(g,function(ke,at,mt){return{criteria:ro(L,function(Ci){return Ci(ke)}),index:++ie,value:ke}}),function(ke,at){return function BI(g,L,V){for(var ie=-1,ve=g.criteria,ke=L.criteria,at=ve.length,mt=V.length;++ie<at;){var Pt=Sm(ve[ie],ke[ie]);if(Pt)return ie>=mt?Pt:Pt*("desc"==V[ie]?-1:1)}return g.index-L.index}(ke,at,V)})}function DC(g,L,V){for(var ie=-1,ve=L.length,ke={};++ie<ve;){var at=L[ie],mt=pd(g,at);V(mt,at)&&wc(ke,eu(at,g),mt)}return ke}function Ig(g,L,V,ie){var ve=ie?lg:ag,ke=-1,at=L.length,mt=g;for(g===L&&(L=Ml(L)),V&&(mt=ro(g,vn(V)));++ke<at;)for(var Pt=0,Ci=L[ke],Si=V?V(Ci):Ci;(Pt=ve(mt,Si,Pt,ie))>-1;)mt!==g&&tp.call(mt,Pt,1),tp.call(g,Pt,1);return g}function TC(g,L){for(var V=g?L.length:0,ie=V-1;V--;){var ve=L[V];if(V==ie||ve!==ke){var ke=ve;tu(ve)?tp.call(g,ve,1):Zr(g,ve)}}return g}function mm(g,L){return g+Ra(al()*(L-g+1))}function ym(g,L){var V="";if(!g||L<1||L>bt)return V;do{L%2&&(V+=g),(L=Ra(L/2))&&(g+=g)}while(L);return V}function Tr(g,L){return R0(If(g,L,uh),g+"")}function rr(g){return Oh(Qg(g))}function AC(g,L){var V=Qg(g);return md(V,dd(L,0,V.length))}function wc(g,L,V,ie){if(!ea(g))return g;for(var ve=-1,ke=(L=eu(L,g)).length,at=ke-1,mt=g;null!=mt&&++ve<ke;){var Pt=lh(L[ve]),Ci=V;if("__proto__"===Pt||"constructor"===Pt||"prototype"===Pt)return g;if(ve!=at){var Si=mt[Pt];(Ci=ie?ie(Si,Pt,mt):me)===me&&(Ci=ea(Si)?Si:tu(L[ve+1])?[]:{})}ff(mt,Pt,Ci),mt=mt[Pt]}return g}var OC=ld?function(g,L){return ld.set(g,L),g}:uh,_I=rn?function(g,L){return rn(g,"toString",{configurable:!0,enumerable:!1,value:G0(L),writable:!0})}:uh;function RI(g){return md(Qg(g))}function Lh(g,L,V){var ie=-1,ve=g.length;L<0&&(L=-L>ve?0:ve+L),(V=V>ve?ve:V)<0&&(V+=ve),ve=L>V?0:V-L>>>0,L>>>=0;for(var ke=qt(ve);++ie<ve;)ke[ie]=g[ie+L];return ke}function vf(g,L){var V;return op(g,function(ie,ve,ke){return!(V=L(ie,ve,ke))}),!!V}function bm(g,L,V){var ie=0,ve=null==g?ie:g.length;if("number"==typeof L&&L==L&&ve<=2147483647){for(;ie<ve;){var ke=ie+ve>>>1,at=g[ke];null!==at&&!Lc(at)&&(V?at<=L:at<L)?ie=ke+1:ve=ke}return ve}return S0(g,L,uh,V)}function S0(g,L,V,ie){var ve=0,ke=null==g?0:g.length;if(0===ke)return 0;for(var at=(L=V(L))!=L,mt=null===L,Pt=Lc(L),Ci=L===me;ve<ke;){var Si=Ra((ve+ke)/2),Ni=V(g[Si]),un=Ni!==me,Rn=null===Ni,sr=Ni==Ni,Yr=Lc(Ni);if(at)var hr=ie||sr;else hr=Ci?sr&&(ie||un):mt?sr&&un&&(ie||!Rn):Pt?sr&&un&&!Rn&&(ie||!Yr):!Rn&&!Yr&&(ie?Ni<=L:Ni<L);hr?ve=Si+1:ke=Si}return ol(ke,4294967294)}function LC(g,L){for(var V=-1,ie=g.length,ve=0,ke=[];++V<ie;){var at=g[V],mt=L?L(at):at;if(!V||!ju(mt,Pt)){var Pt=mt;ke[ve++]=0===at?0:at}}return ke}function kC(g){return"number"==typeof g?g:Lc(g)?NaN:+g}function kh(g){if("string"==typeof g)return g;if(Sr(g))return ro(g,kh)+"";if(Lc(g))return fa?fa.call(g):"";var L=g+"";return"0"==L&&1/g==-Ne?"-0":L}function yi(g,L,V){var ie=-1,ve=n0,ke=g.length,at=!0,mt=[],Pt=mt;if(V)at=!1,ve=sC;else if(ke>=200){var Ci=L?null:xm(g);if(Ci)return cf(Ci);at=!1,ve=cn,Pt=new cd}else Pt=L?[]:mt;e:for(;++ie<ke;){var Si=g[ie],Ni=L?L(Si):Si;if(Si=V||0!==Si?Si:0,at&&Ni==Ni){for(var un=Pt.length;un--;)if(Pt[un]===Ni)continue e;L&&Pt.push(Ni),mt.push(Si)}else ve(Pt,Ni,V)||(Pt!==mt&&Pt.push(Ni),mt.push(Si))}return mt}function Zr(g,L){return null==(g=XI(g,L=eu(L,g)))||delete g[lh(lt(L))]}function ns(g,L,V,ie){return wc(g,L,V(pd(g,L)),ie)}function Wr(g,L,V,ie){for(var ve=g.length,ke=ie?ve:-1;(ie?ke--:++ke<ve)&&L(g[ke],ke,g););return V?Lh(g,ie?0:ke,ie?ke+1:ve):Lh(g,ie?ke+1:0,ie?ve:ke)}function Ja(g,L){var V=g;return V instanceof Cr&&(V=V.value()),Qv(L,function(ie,ve){return ve.func.apply(ve.thisArg,rl([ie],ve.args))},V)}function Cm(g,L,V){var ie=g.length;if(ie<2)return ie?yi(g[0]):[];for(var ve=-1,ke=qt(ie);++ve<ie;)for(var at=g[ve],mt=-1;++mt<ie;)mt!=ve&&(ke[ve]=sp(ke[ve]||at,g[mt],L,V));return yi(Ba(ke,1),L,V)}function mf(g,L,V){for(var ie=-1,ve=g.length,ke=L.length,at={};++ie<ve;)V(at,g[ie],ie<ke?L[ie]:me);return at}function $h(g){return ga(g)?g:[]}function Mg(g){return"function"==typeof g?g:uh}function eu(g,L){return Sr(g)?g:Lm(g,L)?[g]:fp(ks(g))}var zI=Tr;function up(g,L,V){var ie=g.length;return V=V===me?ie:V,!L&&V>=ie?g:Lh(g,L,V)}var w0=mr||function(g){return Cl.clearTimeout(g)};function Il(g,L){if(L)return g.slice();var V=g.length,ie=od?od(V):new g.constructor(V);return g.copy(ie),ie}function Ic(g){var L=new g.constructor(g.byteLength);return new qa(L).set(new qa(g)),L}function I0(g,L){var V=L?Ic(g.buffer):g.buffer;return new g.constructor(V,g.byteOffset,g.length)}function Sm(g,L){if(g!==L){var V=g!==me,ie=null===g,ve=g==g,ke=Lc(g),at=L!==me,mt=null===L,Pt=L==L,Ci=Lc(L);if(!mt&&!Ci&&!ke&&g>L||ke&&at&&Pt&&!mt&&!Ci||ie&&at&&Pt||!V&&Pt||!ve)return 1;if(!ie&&!ke&&!Ci&&g<L||Ci&&V&&ve&&!ie&&!ke||mt&&V&&ve||!at&&ve||!Pt)return-1}return 0}function wm(g,L,V,ie){for(var ve=-1,ke=g.length,at=V.length,mt=-1,Pt=L.length,Ci=Lo(ke-at,0),Si=qt(Pt+Ci),Ni=!ie;++mt<Pt;)Si[mt]=L[mt];for(;++ve<at;)(Ni||ve<ke)&&(Si[V[ve]]=g[ve]);for(;Ci--;)Si[mt++]=g[ve++];return Si}function bf(g,L,V,ie){for(var ve=-1,ke=g.length,at=-1,mt=V.length,Pt=-1,Ci=L.length,Si=Lo(ke-mt,0),Ni=qt(Si+Ci),un=!ie;++ve<Si;)Ni[ve]=g[ve];for(var Rn=ve;++Pt<Ci;)Ni[Rn+Pt]=L[Pt];for(;++at<mt;)(un||ve<ke)&&(Ni[Rn+V[at]]=g[ve++]);return Ni}function Ml(g,L){var V=-1,ie=g.length;for(L||(L=qt(ie));++V<ie;)L[V]=g[V];return L}function Mc(g,L,V,ie){var ve=!V;V||(V={});for(var ke=-1,at=L.length;++ke<at;){var mt=L[ke],Pt=ie?ie(V[mt],g[mt],mt,V,g):me;Pt===me&&(Pt=g[mt]),ve?Jc(V,mt,Pt):ff(V,mt,Pt)}return V}function xg(g,L){return function(V,ie){var ve=Sr(V)?t0:SC,ke=L?L():{};return ve(V,g,er(ie,2),ke)}}function fd(g){return Tr(function(L,V){var ie=-1,ve=V.length,ke=ve>1?V[ve-1]:me,at=ve>2?V[2]:me;for(ke=g.length>3&&"function"==typeof ke?(ve--,ke):me,at&&Ka(V[0],V[1],at)&&(ke=ve<3?me:ke,ve=1),L=so(L);++ie<ve;){var mt=V[ie];mt&&g(L,mt,ie,ke)}return L})}function x0(g,L){return function(V,ie){if(null==V)return V;if(!ch(V))return g(V,ie);for(var ve=V.length,ke=L?ve:-1,at=so(V);(L?ke--:++ke<ve)&&!1!==ie(at[ke],ke,at););return V}}function D0(g){return function(L,V,ie){for(var ve=-1,ke=so(L),at=ie(L),mt=at.length;mt--;){var Pt=at[g?mt:++ve];if(!1===V(ke[Pt],Pt,ke))break}return L}}function T0(g){return function(L){var V=Mu(L=ks(L))?Gh(L):me,ie=V?V[0]:L.charAt(0),ve=V?up(V,1).join(""):L.slice(1);return ie[g]()+ve}}function xc(g){return function(L){return Qv(Tf(VT(L).replace(pI,"")),g,"")}}function Dg(g){return function(){var L=arguments;switch(L.length){case 0:return new g;case 1:return new g(L[0]);case 2:return new g(L[0],L[1]);case 3:return new g(L[0],L[1],L[2]);case 4:return new g(L[0],L[1],L[2],L[3]);case 5:return new g(L[0],L[1],L[2],L[3],L[4]);case 6:return new g(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new g(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var V=za(g.prototype),ie=g.apply(V,L);return ea(ie)?ie:V}}function hl(g){return function(L,V,ie){var ve=so(L);if(!ch(L)){var ke=er(V,3);L=Tl(L),V=function(mt){return ke(ve[mt],mt,ve)}}var at=g(L,V,ie);return at>-1?ve[ke?L[at]:at]:me}}function gd(g){return zu(function(L){var V=L.length,ie=V,ve=oh.prototype.thru;for(g&&L.reverse();ie--;){var ke=L[ie];if("function"!=typeof ke)throw new rh(q);if(ve&&!at&&"wrapper"==Em(ke))var at=new oh([],!0)}for(ie=at?ie:V;++ie<V;){var mt=Em(ke=L[ie]),Pt="wrapper"==mt?UI(ke):me;at=Pt&&km(Pt[0])&&424==Pt[1]&&!Pt[4].length&&1==Pt[9]?at[Em(Pt[0])].apply(at,Pt[3]):1==ke.length&&km(ke)?at[mt]():at.thru(ke)}return function(){var Ci=arguments,Si=Ci[0];if(at&&1==Ci.length&&Sr(Si))return at.plant(Si).value();for(var Ni=0,un=V?L[Ni].apply(this,Ci):Si;++Ni<V;)un=L[Ni].call(this,un);return un}})}function mo(g,L,V,ie,ve,ke,at,mt,Pt,Ci){var Si=L&z,Ni=1&L,un=2&L,Rn=24&L,sr=512&L,Yr=un?me:Dg(g);return function hr(){for(var Er=arguments.length,vs=qt(Er),El=Er;El--;)vs[El]=arguments[El];if(Rn)var rs=Lg(hr),Pc=function ug(At,hi){for(var qt=At.length,tn=0;qt--;)At[qt]===hi&&++tn;return tn}(vs,rs);if(ie&&(vs=wm(vs,ie,ve,Rn)),ke&&(vs=bf(vs,ke,at,Rn)),Er-=Pc,Rn&&Er<Ci){var Ea=Qc(vs,rs);return Ru(g,L,mo,hr.placeholder,V,vs,Ea,mt,Pt,Ci-Er)}var yo=Ni?V:this,Sp=un?yo[g]:g;return Er=vs.length,mt?vs=function xl(g,L){for(var V=g.length,ie=ol(L.length,V),ve=Ml(g);ie--;){var ke=L[ie];g[ie]=tu(ke,V)?ve[ke]:me}return g}(vs,mt):sr&&Er>1&&vs.reverse(),Si&&Pt<Er&&(vs.length=Pt),this&&this!==Cl&&this instanceof hr&&(Sp=Yr||Dg(Sp)),Sp.apply(yo,vs)}}function ko(g,L){return function(V,ie){return function kI(g,L,V,ie){return ku(g,function(ve,ke,at){L(ie,V(ve),ke,at)}),ie}(V,g,L(ie),{})}}function Im(g,L){return function(V,ie){var ve;if(V===me&&ie===me)return L;if(V!==me&&(ve=V),ie!==me){if(ve===me)return ie;"string"==typeof V||"string"==typeof ie?(V=kh(V),ie=kh(ie)):(V=kC(V),ie=kC(ie)),ve=g(V,ie)}return ve}}function E0(g){return zu(function(L){return L=ro(L,vn(er())),Tr(function(V){var ie=this;return g(L,function(ve){return pr(ve,ie,V)})})})}function Mm(g,L){var V=(L=L===me?" ":kh(L)).length;if(V<2)return V?ym(L,g):L;var ie=ym(L,Du(g/ep(L)));return Mu(L)?up(Gh(ie),0,g).join(""):ie.slice(0,g)}function O0(g){return function(L,V,ie){return ie&&"number"!=typeof ie&&Ka(L,V,ie)&&(V=ie=me),L=bp(L),V===me?(V=L,L=0):V=bp(V),function EC(g,L,V,ie){for(var ve=-1,ke=Lo(Du((L-g)/(V||1)),0),at=qt(ke);ke--;)at[ie?ke:++ve]=g,g+=V;return at}(L,V,ie=ie===me?L<V?1:-1:bp(ie),g)}}function dp(g){return function(L,V){return"string"==typeof L&&"string"==typeof V||(L=Jh(L),V=Jh(V)),g(L,V)}}function Ru(g,L,V,ie,ve,ke,at,mt,Pt,Ci){var Si=8&L;L|=Si?C:64,4&(L&=~(Si?64:C))||(L&=-4);var Yr=[g,L,ve,Si?ke:me,Si?at:me,Si?me:ke,Si?me:at,mt,Pt,Ci],hr=V.apply(me,Yr);return km(g)&&cl(hr,Yr),hr.placeholder=ie,HC(hr,g,L)}function L0(g){var L=Ma[g];return function(V,ie){if(V=Jh(V),(ie=null==ie?0:ol(Fr(ie),292))&&$c(V)){var ve=(ks(V)+"e").split("e");return+((ve=(ks(L(ve[0]+"e"+(+ve[1]+ie)))+"e").split("e"))[0]+"e"+(+ve[1]-ie))}return L(V)}}var xm=Eh&&1/cf(new Eh([,-0]))[1]==Ne?function(g){return new Eh(g)}:X0;function Tg(g){return function(L){var V=xa(L);return V==We?hs(L):V==ft?function hC(At){var hi=-1,qt=Array(At.size);return At.forEach(function(tn){qt[++hi]=[tn,tn]}),qt}(L):function sd(At,hi){return ro(hi,function(qt){return[qt,At[qt]]})}(L,g(L))}}function qh(g,L,V,ie,ve,ke,at,mt){var Pt=2&L;if(!Pt&&"function"!=typeof g)throw new rh(q);var Ci=ie?ie.length:0;if(Ci||(L&=-97,ie=ve=me),at=at===me?at:Lo(Fr(at),0),mt=mt===me?mt:Fr(mt),Ci-=ve?ve.length:0,64&L){var Si=ie,Ni=ve;ie=ve=me}var un=Pt?me:UI(g),Rn=[g,L,V,ie,ve,Si,Ni,ke,at,mt];if(un&&function YI(g,L){var V=g[1],ie=L[1],ve=V|ie;if(!(ve<131)&&!(ie==z&&8==V||ie==z&&256==V&&g[7].length<=L[8]||384==ie&&L[7].length<=L[8]&&8==V))return g;1&ie&&(g[2]=L[2],ve|=1&V?0:4);var mt=L[3];if(mt){var Pt=g[3];g[3]=Pt?wm(Pt,mt,L[4]):mt,g[4]=Pt?Qc(g[3],re):L[4]}(mt=L[5])&&(g[5]=(Pt=g[5])?bf(Pt,mt,L[6]):mt,g[6]=Pt?Qc(g[5],re):L[6]),(mt=L[7])&&(g[7]=mt),ie&z&&(g[8]=null==g[8]?L[8]:ol(g[8],L[8])),null==g[9]&&(g[9]=L[9]),g[0]=L[0],g[1]=ve}(Rn,un),g=Rn[0],L=Rn[1],V=Rn[2],ie=Rn[3],ve=Rn[4],!(mt=Rn[9]=Rn[9]===me?Pt?0:g.length:Lo(Rn[9]-Ci,0))&&24&L&&(L&=-25),L&&1!=L)sr=8==L||16==L?function jI(g,L,V){var ie=Dg(g);return function ve(){for(var ke=arguments.length,at=qt(ke),mt=ke,Pt=Lg(ve);mt--;)at[mt]=arguments[mt];var Ci=ke<3&&at[0]!==Pt&&at[ke-1]!==Pt?[]:Qc(at,Pt);return(ke-=Ci.length)<V?Ru(g,L,mo,ve.placeholder,me,at,Ci,me,me,V-ke):pr(this&&this!==Cl&&this instanceof ve?ie:g,this,at)}}(g,L,mt):L!=C&&33!=L||ve.length?mo.apply(me,Rn):function A0(g,L,V,ie){var ve=1&L,ke=Dg(g);return function at(){for(var mt=-1,Pt=arguments.length,Ci=-1,Si=ie.length,Ni=qt(Si+Pt),un=this&&this!==Cl&&this instanceof at?ke:g;++Ci<Si;)Ni[Ci]=ie[Ci];for(;Pt--;)Ni[Ci++]=arguments[++mt];return pr(un,ve?V:this,Ni)}}(g,L,V,ie);else var sr=function PC(g,L,V){var ie=1&L,ve=Dg(g);return function ke(){return(this&&this!==Cl&&this instanceof ke?ve:g).apply(ie?V:this,arguments)}}(g,L,V);return HC((un?OC:cl)(sr,Rn),g,L)}function Eg(g,L,V,ie){return g===me||ju(g,uf[V])&&!Vs.call(ie,V)?L:g}function Dm(g,L,V,ie,ve,ke){return ea(g)&&ea(L)&&(ke.set(L,g),cp(g,L,me,Dm,ke),ke.delete(L)),g}function _C(g){return Yg(g)?me:g}function Tm(g,L,V,ie,ve,ke){var at=1&V,mt=g.length,Pt=L.length;if(mt!=Pt&&!(at&&Pt>mt))return!1;var Ci=ke.get(g),Si=ke.get(L);if(Ci&&Si)return Ci==L&&Si==g;var Ni=-1,un=!0,Rn=2&V?new cd:me;for(ke.set(g,L),ke.set(L,g);++Ni<mt;){var sr=g[Ni],Yr=L[Ni];if(ie)var hr=at?ie(Yr,sr,Ni,L,g,ke):ie(sr,Yr,Ni,g,L,ke);if(hr!==me){if(hr)continue;un=!1;break}if(Rn){if(!nh(L,function(Er,vs){if(!cn(Rn,vs)&&(sr===Er||ve(sr,Er,V,ie,ke)))return Rn.push(vs)})){un=!1;break}}else if(sr!==Yr&&!ve(sr,Yr,V,ie,ke)){un=!1;break}}return ke.delete(g),ke.delete(L),un}function zu(g){return R0(If(g,me,R),g+"")}function HI(g){return g0(g,Tl,Sf)}function Og(g){return g0(g,Gl,kg)}var UI=ld?function(g){return ld.get(g)}:X0;function Em(g){for(var L=g.name+"",V=br[L],ie=Vs.call(br,L)?V.length:0;ie--;){var ve=V[ie],ke=ve.func;if(null==ke||ke==g)return ve.name}return L}function Lg(g){return(Vs.call(Te,"placeholder")?Te:g).placeholder}function er(){var g=Te.iteratee||NM;return g=g===NM?fm:g,arguments.length?g(arguments[0],arguments[1]):g}function k0(g,L){var V=g.__data__;return function FC(g){var L=typeof g;return"string"==L||"number"==L||"symbol"==L||"boolean"==L?"__proto__"!==g:null===g}(L)?V["string"==typeof L?"string":"hash"]:V.map}function Am(g){for(var L=Tl(g),V=L.length;V--;){var ie=L[V],ve=g[ie];L[V]=[ie,ve,jC(ve)]}return L}function Dc(g,L){var V=function Iu(At,hi){return null==At?me:At[hi]}(g,L);return b0(V)?V:me}var Sf=ad?function(g){return null==g?[]:(g=so(g),fs(ad(g),function(L){return c0.call(g,L)}))}:tE,kg=ad?function(g){for(var L=[];g;)rl(L,Sf(g)),g=sl(g);return L}:tE,xa=Sl;function zC(g,L,V){for(var ie=-1,ve=(L=eu(L,g)).length,ke=!1;++ie<ve;){var at=lh(L[ie]);if(!(ke=null!=g&&V(g,at)))break;g=g[at]}return ke||++ie!=ve?ke:!!(ve=null==g?0:g.length)&&j0(ve)&&tu(at,ve)&&(Sr(g)||Vg(g))}function Tc(g){return"function"!=typeof g.constructor||pp(g)?{}:za(sl(g))}function Om(g){return Sr(g)||Vg(g)||!!(vC&&g&&g[vC])}function tu(g,L){var V=typeof g;return!!(L=L??bt)&&("number"==V||"symbol"!=V&&Dh.test(g))&&g>-1&&g%1==0&&g<L}function Ka(g,L,V){if(!ea(V))return!1;var ie=typeof L;return!!("number"==ie?ch(V)&&tu(L,V.length):"string"==ie&&L in V)&&ju(V[L],g)}function Lm(g,L){if(Sr(g))return!1;var V=typeof g;return!("number"!=V&&"symbol"!=V&&"boolean"!=V&&null!=g&&!Lc(g))||gn.test(g)||!jo.test(g)||null!=L&&g in so(L)}function km(g){var L=Em(g),V=Te[L];if("function"!=typeof V||!(L in Cr.prototype))return!1;if(g===V)return!0;var ie=UI(V);return!!ie&&g===ie[0]}(Xh&&xa(new Xh(new ArrayBuffer(1)))!=Zi||Eu&&xa(new Eu)!=We||rm&&xa(rm.resolve())!=Jt||Eh&&xa(new Eh)!=ft||Ah&&xa(new Ah)!=xt)&&(xa=function(g){var L=Sl(g),V=L==Tt?g.constructor:me,ie=V?Bu(V):"";if(ie)switch(ie){case GD:return Zi;case u0:return We;case mC:return Jt;case qc:return ft;case mg:return xt}return L});var N0=Rs?iu:iE;function pp(g){var L=g&&g.constructor;return g===("function"==typeof L&&L.prototype||uf)}function jC(g){return g==g&&!ea(g)}function Pg(g,L){return function(V){return null!=V&&V[g]===L&&(L!==me||g in so(V))}}function If(g,L,V){return L=Lo(L===me?g.length-1:L,0),function(){for(var ie=arguments,ve=-1,ke=Lo(ie.length-L,0),at=qt(ke);++ve<ke;)at[ve]=ie[L+ve];ve=-1;for(var mt=qt(L+1);++ve<L;)mt[ve]=ie[ve];return mt[L]=V(at),pr(g,this,mt)}}function XI(g,L){return L.length<2?g:pd(g,Lh(L,0,-1))}function _0(g,L){if(("constructor"!==L||"function"!=typeof g[L])&&"__proto__"!=L)return g[L]}var cl=_g(OC),vd=Ul||function(g,L){return Cl.setTimeout(g,L)},R0=_g(_I);function HC(g,L,V){var ie=L+"";return R0(g,function Ng(g,L){var V=L.length;if(!V)return g;var ie=V-1;return L[ie]=(V>1?"& ":"")+L[ie],L=L.join(V>2?", ":" "),g.replace(vl,"{\n/* [wrapped with "+L+"] */\n")}(ie,function Nm(g,L){return Wi(Gi,function(V){var ie="_."+V[0];L&V[1]&&!n0(g,ie)&&g.push(ie)}),g.sort()}(function RC(g){var L=g.match(bo);return L?L[1].split(yc):[]}(ie),V)))}function _g(g){var L=0,V=0;return function(){var ie=Tu(),ve=16-(ie-V);if(V=ie,ve>0){if(++L>=800)return arguments[0]}else L=0;return g.apply(me,arguments)}}function md(g,L){var V=-1,ie=g.length,ve=ie-1;for(L=L===me?ie:L;++V<L;){var ke=mm(V,ve),at=g[ke];g[ke]=g[V],g[V]=at}return g.length=L,g}var fp=function wf(g){var L=qC(g,function(ie){return 500===V.size&&V.clear(),ie}),V=L.cache;return L}(function(g){var L=[];return 46===g.charCodeAt(0)&&L.push(""),g.replace(Kt,function(V,ie,ve,ke){L.push(ve?ke.replace(Yv,"$1"):ie||V)}),L});function lh(g){if("string"==typeof g||Lc(g))return g;var L=g+"";return"0"==L&&1/g==-Ne?"-0":L}function Bu(g){if(null!=g){try{return gg.call(g)}catch{}try{return g+""}catch{}}return""}function gp(g){if(g instanceof Cr)return g.clone();var L=new oh(g.__wrapped__,g.__chain__);return L.__actions__=Ml(g.__actions__),L.__index__=g.__index__,L.__values__=g.__values__,L}var iN=Tr(function(g,L){return ga(g)?sp(g,Ba(L,1,ga,!0)):[]}),dT=Tr(function(g,L){var V=lt(L);return ga(V)&&(V=me),ga(g)?sp(g,Ba(L,1,ga,!0),er(V,2)):[]}),nN=Tr(function(g,L){var V=lt(L);return ga(V)&&(V=me),ga(g)?sp(g,Ba(L,1,ga,!0),me,V):[]});function Da(g,L,V){var ie=null==g?0:g.length;if(!ie)return-1;var ve=null==V?0:Fr(V);return ve<0&&(ve=Lo(ie+ve,0)),r0(g,er(L,3),ve)}function K(g,L,V){var ie=null==g?0:g.length;if(!ie)return-1;var ve=ie-1;return V!==me&&(ve=Fr(V),ve=V<0?Lo(ie+ve,0):ol(ve,ie-1)),r0(g,er(L,3),ve,!0)}function R(g){return null!=g&&g.length?Ba(g,1):[]}function A(g){return g&&g.length?g[0]:me}var se=Tr(function(g){var L=ro(g,$h);return L.length&&L[0]===g[0]?um(L):[]}),ne=Tr(function(g){var L=lt(g),V=ro(g,$h);return L===lt(V)?L=me:V.pop(),V.length&&V[0]===g[0]?um(V,er(L,2)):[]}),fe=Tr(function(g){var L=lt(g),V=ro(g,$h);return(L="function"==typeof L?L:me)&&V.pop(),V.length&&V[0]===g[0]?um(V,me,L):[]});function lt(g){var L=null==g?0:g.length;return L?g[L-1]:me}var It=Tr(Nt);function Nt(g,L){return g&&g.length&&L&&L.length?Ig(g,L):g}var Hn=zu(function(g,L){var V=null==g?0:g.length,ie=lm(g,L);return TC(g,ro(L,function(ve){return tu(ve,V)?+ve:ve}).sort(Sm)),ie});function ki(g){return null==g?g:pf.call(g)}var Fu=Tr(function(g){return yi(Ba(g,1,ga,!0))}),bd=Tr(function(g){var L=lt(g);return ga(L)&&(L=me),yi(Ba(g,1,ga,!0),er(L,2))}),Rm=Tr(function(g){var L=lt(g);return L="function"==typeof L?L:me,yi(Ba(g,1,ga,!0),me,L)});function Fg(g){if(!g||!g.length)return[];var L=0;return g=fs(g,function(V){if(ga(V))return L=Lo(V.length,L),!0}),a0(L,function(V){return ro(g,s0(V))})}function jg(g,L){if(!g||!g.length)return[];var V=Fg(g);return null==L?V:ro(V,function(ie){return pr(L,me,ie)})}var Bm=Tr(function(g,L){return ga(g)?sp(g,L):[]}),Fm=Tr(function(g){return Cm(fs(g,ga))}),yp=Tr(function(g){var L=lt(g);return ga(L)&&(L=me),Cm(fs(g,ga),er(L,2))}),Hg=Tr(function(g){var L=lt(g);return L="function"==typeof L?L:me,Cm(fs(g,ga),me,L)}),Oc=Tr(Fg),B0=Tr(function(g){var L=g.length,V=L>1?g[L-1]:me;return V="function"==typeof V?(g.pop(),V):me,jg(g,V)});function UC(g){var L=Te(g);return L.__chain__=!0,L}function Ug(g,L){return L(g)}var jm=zu(function(g){var L=g.length,V=L?g[0]:0,ie=this.__wrapped__,ve=function(ke){return lm(ke,g)};return!(L>1||this.__actions__.length)&&ie instanceof Cr&&tu(V)?((ie=ie.slice(V,+V+(L?1:0))).__actions__.push({func:Ug,args:[ve],thisArg:me}),new oh(ie,this.__chain__).thru(function(ke){return L&&!ke.length&&ke.push(me),ke})):this.thru(ve)}),iM=xg(function(g,L,V){Vs.call(g,V)?++g[V]:Jc(g,V,1)}),YC=hl(Da),gT=hl(K);function nM(g,L){return(Sr(g)?Wi:op)(g,er(L,3))}function rM(g,L){return(Sr(g)?rC:TI)(g,er(L,3))}var GC=xg(function(g,L,V){Vs.call(g,V)?g[V].push(L):Jc(g,V,[L])}),xf=Tr(function(g,L,V){var ie=-1,ve="function"==typeof L,ke=ch(g)?qt(g.length):[];return op(g,function(at){ke[++ie]=ve?pr(L,at,V):dm(at,L,V)}),ke}),oN=xg(function(g,L,V){Jc(g,V,L)});function QC(g,L){return(Sr(g)?ro:hp)(g,er(L,3))}var yT=xg(function(g,L,V){g[V?0:1].push(L)},function(){return[[],[]]}),oM=Tr(function(g,L){if(null==g)return[];var V=L.length;return V>1&&Ka(g,L[0],L[1])?L=[]:V>2&&Ka(L[0],L[1],L[2])&&(L=[L[0]]),xC(g,Ba(L,1),[])}),F0=qs||function(){return Cl.Date.now()};function Yl(g,L,V){return L=V?me:L,qh(g,z,me,me,me,me,L=g&&null==L?g.length:L)}function Vm(g,L){var V;if("function"!=typeof L)throw new rh(q);return g=Fr(g),function(){return--g>0&&(V=L.apply(this,arguments)),g<=1&&(L=me),V}}var $C=Tr(function(g,L,V){var ie=1;if(V.length){var ve=Qc(V,Lg($C));ie|=C}return qh(g,ie,L,V,ve)}),lM=Tr(function(g,L,V){var ie=3;if(V.length){var ve=Qc(V,Lg(lM));ie|=C}return qh(L,ie,g,V,ve)});function ST(g,L,V){var ie,ve,ke,at,mt,Pt,Ci=0,Si=!1,Ni=!1,un=!0;if("function"!=typeof g)throw new rh(q);function Rn(Ea){var yo=ie,Sp=ve;return ie=ve=me,Ci=Ea,at=g.apply(Sp,yo)}function hr(Ea){var yo=Ea-Pt;return Pt===me||yo>=L||yo<0||Ni&&Ea-Ci>=ke}function Er(){var Ea=F0();if(hr(Ea))return vs(Ea);mt=vd(Er,function Yr(Ea){var rE=L-(Ea-Pt);return Ni?ol(rE,ke-(Ea-Ci)):rE}(Ea))}function vs(Ea){return mt=me,un&&ie?Rn(Ea):(ie=ve=me,at)}function Pc(){var Ea=F0(),yo=hr(Ea);if(ie=arguments,ve=this,Pt=Ea,yo){if(mt===me)return function sr(Ea){return Ci=Ea,mt=vd(Er,L),Si?Rn(Ea):at}(Pt);if(Ni)return w0(mt),mt=vd(Er,L),Rn(Pt)}return mt===me&&(mt=vd(Er,L)),at}return L=Jh(L)||0,ea(V)&&(Si=!!V.leading,ke=(Ni="maxWait"in V)?Lo(Jh(V.maxWait)||0,L):ke,un="trailing"in V?!!V.trailing:un),Pc.cancel=function El(){mt!==me&&w0(mt),Ci=0,ie=Pt=ve=mt=me},Pc.flush=function rs(){return mt===me?at:vs(F0())},Pc}var wT=Tr(function(g,L){return f0(g,1,L)}),pN=Tr(function(g,L,V){return f0(g,Jh(L)||0,V)});function qC(g,L){if("function"!=typeof g||null!=L&&"function"!=typeof L)throw new rh(q);var V=function(){var ie=arguments,ve=L?L.apply(this,ie):ie[0],ke=V.cache;if(ke.has(ve))return ke.get(ve);var at=g.apply(this,ie);return V.cache=ke.set(ve,at)||ke,at};return V.cache=new(qC.Cache||Lu),V}function ZC(g){if("function"!=typeof g)throw new rh(q);return function(){var L=arguments;switch(L.length){case 0:return!g.call(this);case 1:return!g.call(this,L[0]);case 2:return!g.call(this,L[0],L[1]);case 3:return!g.call(this,L[0],L[1],L[2])}return!g.apply(this,L)}}qC.Cache=Lu;var uM=zI(function(g,L){var V=(L=1==L.length&&Sr(L[0])?ro(L[0],vn(er())):ro(Ba(L,1),vn(er()))).length;return Tr(function(ie){for(var ve=-1,ke=ol(ie.length,V);++ve<ke;)ie[ve]=L[ve].call(this,ie[ve]);return pr(g,this,ie)})}),dM=Tr(function(g,L){var V=Qc(L,Lg(dM));return qh(g,C,me,L,V)}),Wm=Tr(function(g,L){var V=Qc(L,Lg(Wm));return qh(g,64,me,L,V)}),fN=zu(function(g,L){return qh(g,256,me,me,me,L)});function ju(g,L){return g===L||g!=g&&L!=L}var yN=dp(v0),bN=dp(function(g,L){return g>=L}),Vg=wC(function(){return arguments}())?wC:function(g){return va(g)&&Vs.call(g,"callee")&&!c0.call(g,"callee")},Sr=qt.isArray,eS=hf?vn(hf):function ah(g){return va(g)&&Sl(g)==fi};function ch(g){return null!=g&&j0(g.length)&&!iu(g)}function ga(g){return va(g)&&ch(g)}var Df=go||iE,fM=Kd?vn(Kd):function y0(g){return va(g)&&Sl(g)==et};function gM(g){if(!va(g))return!1;var L=Sl(g);return L==Mt||"[object DOMException]"==L||"string"==typeof g.message&&"string"==typeof g.name&&!Yg(g)}function iu(g){if(!ea(g))return!1;var L=Sl(g);return L==Ee||L==_e||"[object AsyncFunction]"==L||"[object Proxy]"==L}function LT(g){return"number"==typeof g&&g==Fr(g)}function j0(g){return"number"==typeof g&&g>-1&&g%1==0&&g<=bt}function ea(g){var L=typeof g;return null!=g&&("object"==L||"function"==L)}function va(g){return null!=g&&"object"==typeof g}var tS=ls?vn(ls):function MC(g){return va(g)&&xa(g)==We};function mM(g){return"number"==typeof g||va(g)&&Sl(g)==Ze}function Yg(g){if(!va(g)||Sl(g)!=Tt)return!1;var L=sl(g);if(null===L)return!0;var V=Vs.call(L,"constructor")&&L.constructor;return"function"==typeof V&&V instanceof V&&gg.call(V)==gC}var Gg=e0?vn(e0):function C0(g){return va(g)&&Sl(g)==Zt},yM=sg?vn(sg):function NI(g){return va(g)&&xa(g)==ft};function rS(g){return"string"==typeof g||!Sr(g)&&va(g)&&Sl(g)==it}function Lc(g){return"symbol"==typeof g||va(g)&&Sl(g)==dt}var Gm=yn?vn(yn):function Kc(g){return va(g)&&j0(g.length)&&!!fo[Sl(g)]},bM=dp(wg),Xm=dp(function(g,L){return g<=L});function RT(g){if(!g)return[];if(ch(g))return rS(g)?Gh(g):Ml(g);if(vg&&g[vg])return function Xc(At){for(var hi,qt=[];!(hi=At.next()).done;)qt.push(hi.value);return qt}(g[vg]());var L=xa(g);return(L==We?hs:L==ft?cf:Qg)(g)}function bp(g){return g?(g=Jh(g))===Ne||g===-Ne?17976931348623157e292*(g<0?-1:1):g==g?g:0:0===g?g:0}function Fr(g){var L=bp(g),V=L%1;return L==L?V?L-V:L:0}function zT(g){return g?dd(Fr(g),0,ot):0}function Jh(g){if("number"==typeof g)return g;if(Lc(g))return NaN;if(ea(g)){var L="function"==typeof g.valueOf?g.valueOf():g;g=ea(L)?L+"":L}if("string"!=typeof g)return 0===g?g:+g;g=lC(g);var V=uo.test(g);return V||$a.test(g)?Su(g.slice(2),V?2:8):Xv.test(g)?NaN:+g}function BT(g){return Mc(g,Gl(g))}function ks(g){return null==g?"":kh(g)}var CM=fd(function(g,L){if(pp(L)||ch(L))Mc(L,Tl(L),g);else for(var V in L)Vs.call(L,V)&&ff(g,V,L[V])}),SM=fd(function(g,L){Mc(L,Gl(L),g)}),U0=fd(function(g,L,V,ie){Mc(L,Gl(L),g,ie)}),FT=fd(function(g,L,V,ie){Mc(L,Tl(L),g,ie)}),Xg=zu(lm),IN=Tr(function(g,L){g=so(g);var V=-1,ie=L.length,ve=ie>2?L[2]:me;for(ve&&Ka(L[0],L[1],ve)&&(ie=1);++V<ie;)for(var ke=L[V],at=Gl(ke),mt=-1,Pt=at.length;++mt<Pt;){var Ci=at[mt],Si=g[Ci];(Si===me||ju(Si,uf[Ci])&&!Vs.call(g,Ci))&&(g[Ci]=ke[Ci])}return g}),MN=Tr(function(g){return g.push(me,Dm),pr(IM,me,g)});function wM(g,L,V){var ie=null==g?me:pd(g,L);return ie===me?V:ie}function oS(g,L){return null!=g&&zC(g,L,m0)}var kN=ko(function(g,L,V){null!=L&&"function"!=typeof L.toString&&(L=nm.call(L)),g[L]=V},G0(uh)),NN=ko(function(g,L,V){null!=L&&"function"!=typeof L.toString&&(L=nm.call(L)),Vs.call(g,L)?g[L].push(V):g[L]=[V]},er),PN=Tr(dm);function Tl(g){return ch(g)?yg(g):gm(g)}function Gl(g){return ch(g)?yg(g,!0):function vo(g){if(!ea(g))return function GI(g){var L=[];if(null!=g)for(var V in so(g))L.push(V);return L}(g);var L=pp(g),V=[];for(var ie in g)"constructor"==ie&&(L||!Vs.call(g,ie))||V.push(ie);return V}(g)}var jT=fd(function(g,L,V){cp(g,L,V)}),IM=fd(function(g,L,V,ie){cp(g,L,V,ie)}),HT=zu(function(g,L){var V={};if(null==g)return V;var ie=!1;L=ro(L,function(ke){return ke=eu(ke,g),ie||(ie=ke.length>1),ke}),Mc(g,Og(g),V),ie&&(V=Vl(V,7,_C));for(var ve=L.length;ve--;)Zr(V,L[ve]);return V}),aF=zu(function(g,L){return null==g?{}:function PI(g,L){return DC(g,L,function(V,ie){return oS(g,ie)})}(g,L)});function _N(g,L){if(null==g)return{};var V=ro(Og(g),function(ie){return[ie]});return L=er(L),DC(g,V,function(ie,ve){return L(ie,ve[0])})}var RN=Tg(Tl),DM=Tg(Gl);function Qg(g){return null==g?[]:Jv(g,Tl(g))}var Nc=xc(function(g,L,V){return L=L.toLowerCase(),g+(V?lS(L):L)});function lS(g){return cS(ks(g).toLowerCase())}function VT(g){return(g=ks(g))&&g.replace(tg,yI).replace(tC,"")}var VN=xc(function(g,L,V){return g+(V?"-":"")+L.toLowerCase()}),WN=xc(function(g,L,V){return g+(V?" ":"")+L.toLowerCase()}),YN=T0("toLowerCase"),GT=xc(function(g,L,V){return g+(V?"_":"")+L.toLowerCase()}),EM=xc(function(g,L,V){return g+(V?" ":"")+cS(L)}),qT=xc(function(g,L,V){return g+(V?" ":"")+L.toUpperCase()}),cS=T0("toUpperCase");function Tf(g,L,V){return g=ks(g),(L=V?me:L)===me?function bc(At){return UD.test(At)}(g)?function dC(At){return At.match(Zd)||[]}(g):function YD(At){return At.match(Os)||[]}(g):g.match(L)||[]}var ZT=Tr(function(g,L){try{return pr(g,me,L)}catch(V){return gM(V)?V:new vr(V)}}),kM=zu(function(g,L){return Wi(L,function(V){V=lh(V),Jc(g,V,$C(g[V],g))}),g});function G0(g){return function(){return g}}var nu=gd(),pS=gd(!0);function uh(g){return g}function NM(g){return fm("function"==typeof g?g:Vl(g,1))}var $m=Tr(function(g,L){return function(V){return dm(V,g,L)}}),qN=Tr(function(g,L){return function(V){return dm(g,V,L)}});function PM(g,L,V){var ie=Tl(L),ve=cm(L,ie);null==V&&(!ea(L)||!ve.length&&ie.length)&&(V=L,L=g,g=this,ve=cm(L,Tl(L)));var ke=!(ea(V)&&"chain"in V&&!V.chain),at=iu(g);return Wi(ve,function(mt){var Pt=L[mt];g[mt]=Pt,at&&(g.prototype[mt]=function(){var Ci=this.__chain__;if(ke||Ci){var Si=g(this.__wrapped__);return(Si.__actions__=Ml(this.__actions__)).push({func:Pt,args:arguments,thisArg:g}),Si.__chain__=Ci,Si}return Pt.apply(g,rl([this.value()],arguments))})}),g}function X0(){}var JN=E0(ro),KT=E0(og),qm=E0(nh);function KN(g){return Lm(g)?s0(lh(g)):function Pu(g){return function(L){return pd(L,g)}}(g)}var eE=O0(),eP=O0(!0);function tE(){return[]}function iE(){return!1}var BM=Im(function(g,L){return g+L},0),Q0=L0("ceil"),vS=Im(function(g,L){return g/L},1),Jm=L0("floor"),iP=Im(function(g,L){return g*L},1),nE=L0("round"),nP=Im(function(g,L){return g-L},0);return Te.after=function aM(g,L){if("function"!=typeof L)throw new rh(q);return g=Fr(g),function(){if(--g<1)return L.apply(this,arguments)}},Te.ary=Yl,Te.assign=CM,Te.assignIn=SM,Te.assignInWith=U0,Te.assignWith=FT,Te.at=Xg,Te.before=Vm,Te.bind=$C,Te.bindAll=kM,Te.bindKey=lM,Te.castArray=function JC(){if(!arguments.length)return[];var g=arguments[0];return Sr(g)?g:[g]},Te.chain=UC,Te.chunk=function hT(g,L,V){L=(V?Ka(g,L,V):L===me)?1:Lo(Fr(L),0);var ie=null==g?0:g.length;if(!ie||L<1)return[];for(var ve=0,ke=0,at=qt(Du(ie/L));ve<ie;)at[ke++]=Lh(g,ve,ve+=L);return at},Te.compact=function cT(g){for(var L=-1,V=null==g?0:g.length,ie=0,ve=[];++L<V;){var ke=g[L];ke&&(ve[ie++]=ke)}return ve},Te.concat=function uT(){var g=arguments.length;if(!g)return[];for(var L=qt(g-1),V=arguments[0],ie=g;ie--;)L[ie-1]=arguments[ie];return rl(Sr(V)?Ml(V):[V],Ba(L,1))},Te.cond=function uS(g){var L=null==g?0:g.length,V=er();return g=L?ro(g,function(ie){if("function"!=typeof ie[1])throw new rh(q);return[V(ie[0]),ie[1]]}):[],Tr(function(ie){for(var ve=-1;++ve<L;){var ke=g[ve];if(pr(ke[0],this,ie))return pr(ke[1],this,ie)}})},Te.conforms=function QN(g){return function bg(g){var L=Tl(g);return function(V){return rp(V,g,L)}}(Vl(g,1))},Te.constant=G0,Te.countBy=iM,Te.create=function wN(g,L){var V=za(g);return null==L?V:am(V,L)},Te.curry=function CT(g,L,V){var ie=qh(g,8,me,me,me,me,me,L=V?me:L);return ie.placeholder=CT.placeholder,ie},Te.curryRight=function hM(g,L,V){var ie=qh(g,16,me,me,me,me,me,L=V?me:L);return ie.placeholder=hM.placeholder,ie},Te.debounce=ST,Te.defaults=IN,Te.defaultsDeep=MN,Te.defer=wT,Te.delay=pN,Te.difference=iN,Te.differenceBy=dT,Te.differenceWith=nN,Te.drop=function pT(g,L,V){var ie=null==g?0:g.length;return ie?Lh(g,(L=V||L===me?1:Fr(L))<0?0:L,ie):[]},Te.dropRight=function rN(g,L,V){var ie=null==g?0:g.length;return ie?Lh(g,0,(L=ie-(L=V||L===me?1:Fr(L)))<0?0:L):[]},Te.dropRightWhile=function vp(g,L){return g&&g.length?Wr(g,er(L,3),!0,!0):[]},Te.dropWhile=function QI(g,L){return g&&g.length?Wr(g,er(L,3),!0):[]},Te.fill=function fT(g,L,V,ie){var ve=null==g?0:g.length;return ve?(V&&"number"!=typeof V&&Ka(g,L,V)&&(V=0,ie=ve),function AI(g,L,V,ie){var ve=g.length;for((V=Fr(V))<0&&(V=-V>ve?0:ve+V),(ie=ie===me||ie>ve?ve:Fr(ie))<0&&(ie+=ve),ie=V>ie?0:zT(ie);V<ie;)g[V++]=L;return g}(g,L,V,ie)):[]},Te.filter=function WC(g,L){return(Sr(g)?fs:Cg)(g,er(L,3))},Te.flatMap=function vT(g,L){return Ba(QC(g,L),1)},Te.flatMapDeep=function mT(g,L){return Ba(QC(g,L),Ne)},Te.flatMapDepth=function Um(g,L,V){return V=V===me?1:Fr(V),Ba(QC(g,L),V)},Te.flatten=R,Te.flattenDeep=function w(g){return null!=g&&g.length?Ba(g,Ne):[]},Te.flattenDepth=function D(g,L){return null!=g&&g.length?Ba(g,L=L===me?1:Fr(L)):[]},Te.flip=function IT(g){return qh(g,512)},Te.flow=nu,Te.flowRight=pS,Te.fromPairs=function S(g){for(var L=-1,V=null==g?0:g.length,ie={};++L<V;){var ve=g[L];ie[ve[0]]=ve[1]}return ie},Te.functions=function AN(g){return null==g?[]:cm(g,Tl(g))},Te.functionsIn=function ON(g){return null==g?[]:cm(g,Gl(g))},Te.groupBy=GC,Te.initial=function J(g){return null!=g&&g.length?Lh(g,0,-1):[]},Te.intersection=se,Te.intersectionBy=ne,Te.intersectionWith=fe,Te.invert=kN,Te.invertBy=NN,Te.invokeMap=xf,Te.iteratee=NM,Te.keyBy=oN,Te.keys=Tl,Te.keysIn=Gl,Te.map=QC,Te.mapKeys=function Cp(g,L){var V={};return L=er(L,3),ku(g,function(ie,ve,ke){Jc(V,L(ie,ve,ke),ie)}),V},Te.mapValues=function V0(g,L){var V={};return L=er(L,3),ku(g,function(ie,ve,ke){Jc(V,ve,L(ie,ve,ke))}),V},Te.matches=function $N(g){return wl(Vl(g,1))},Te.matchesProperty=function JT(g,L){return vm(g,Vl(L,1))},Te.memoize=qC,Te.merge=jT,Te.mergeWith=IM,Te.method=$m,Te.methodOf=qN,Te.mixin=PM,Te.negate=ZC,Te.nthArg=function fS(g){return g=Fr(g),Tr(function(L){return Wl(L,g)})},Te.omit=HT,Te.omitBy=function oF(g,L){return _N(g,ZC(er(L)))},Te.once=function cM(g){return Vm(2,g)},Te.orderBy=function aN(g,L,V,ie){return null==g?[]:(Sr(L)||(L=null==L?[]:[L]),Sr(V=ie?me:V)||(V=null==V?[]:[V]),xC(g,L,V))},Te.over=JN,Te.overArgs=uM,Te.overEvery=KT,Te.overSome=qm,Te.partial=dM,Te.partialRight=Wm,Te.partition=yT,Te.pick=aF,Te.pickBy=_N,Te.property=KN,Te.propertyOf=function dF(g){return function(L){return null==g?me:pd(g,L)}},Te.pull=It,Te.pullAll=Nt,Te.pullAllBy=function gi(g,L,V){return g&&g.length&&L&&L.length?Ig(g,L,er(V,2)):g},Te.pullAllWith=function Tn(g,L,V){return g&&g.length&&L&&L.length?Ig(g,L,me,V):g},Te.pullAt=Hn,Te.range=eE,Te.rangeRight=eP,Te.rearg=fN,Te.reject=function hN(g,L){return(Sr(g)?fs:Cg)(g,ZC(er(L,3)))},Te.remove=function Xn(g,L){var V=[];if(!g||!g.length)return V;var ie=-1,ve=[],ke=g.length;for(L=er(L,3);++ie<ke;){var at=g[ie];L(at,ie,g)&&(V.push(at),ve.push(ie))}return TC(g,ve),V},Te.rest=function gN(g,L){if("function"!=typeof g)throw new rh(q);return Tr(g,L=L===me?L:Fr(L))},Te.reverse=ki,Te.sampleSize=function bT(g,L,V){return L=(V?Ka(g,L,V):L===me)?1:Fr(L),(Sr(g)?bC:AC)(g,L)},Te.set=function xM(g,L,V){return null==g?g:wc(g,L,V)},Te.setWith=function lF(g,L,V,ie){return ie="function"==typeof ie?ie:me,null==g?g:wc(g,L,V,ie)},Te.shuffle=function uN(g){return(Sr(g)?CC:RI)(g)},Te.slice=function gs(g,L,V){var ie=null==g?0:g.length;return ie?(V&&"number"!=typeof V&&Ka(g,L,V)?(L=0,V=ie):(L=null==L?0:Fr(L),V=V===me?ie:Fr(V)),Lh(g,L,V)):[]},Te.sortBy=oM,Te.sortedUniq=function hh(g){return g&&g.length?LC(g):[]},Te.sortedUniqBy=function Rg(g,L){return g&&g.length?LC(g,er(L,2)):[]},Te.split=function XT(g,L,V){return V&&"number"!=typeof V&&Ka(g,L,V)&&(L=V=me),(V=V===me?ot:V>>>0)?(g=ks(g))&&("string"==typeof L||null!=L&&!Gg(L))&&!(L=kh(L))&&Mu(g)?up(Gh(g),0,V):g.split(L,V):[]},Te.spread=function MT(g,L){if("function"!=typeof g)throw new rh(q);return L=null==L?0:Lo(Fr(L),0),Tr(function(V){var ie=V[L],ve=up(V,0,L);return ie&&rl(ve,ie),pr(g,this,ve)})},Te.tail=function Mf(g){var L=null==g?0:g.length;return L?Lh(g,1,L):[]},Te.take=function mp(g,L,V){return g&&g.length?Lh(g,0,(L=V||L===me?1:Fr(L))<0?0:L):[]},Te.takeRight=function zg(g,L,V){var ie=null==g?0:g.length;return ie?Lh(g,(L=ie-(L=V||L===me?1:Fr(L)))<0?0:L,ie):[]},Te.takeRightWhile=function Pm(g,L){return g&&g.length?Wr(g,er(L,3),!1,!0):[]},Te.takeWhile=function _m(g,L){return g&&g.length?Wr(g,er(L,3)):[]},Te.tap=function VC(g,L){return L(g),g},Te.throttle=function xT(g,L,V){var ie=!0,ve=!0;if("function"!=typeof g)throw new rh(q);return ea(V)&&(ie="leading"in V?!!V.leading:ie,ve="trailing"in V?!!V.trailing:ve),ST(g,L,{leading:ie,maxWait:L,trailing:ve})},Te.thru=Ug,Te.toArray=RT,Te.toPairs=RN,Te.toPairsIn=DM,Te.toPath=function Zm(g){return Sr(g)?ro(g,lh):Lc(g)?[g]:Ml(fp(ks(g)))},Te.toPlainObject=BT,Te.transform=function zN(g,L,V){var ie=Sr(g),ve=ie||Df(g)||Gm(g);if(L=er(L,4),null==V){var ke=g&&g.constructor;V=ve?ie?new ke:[]:ea(g)&&iu(ke)?za(sl(g)):{}}return(ve?Wi:ku)(g,function(at,mt,Pt){return L(V,at,mt,Pt)}),V},Te.unary=function DT(g){return Yl(g,1)},Te.union=Fu,Te.unionBy=bd,Te.unionWith=Rm,Te.uniq=function z0(g){return g&&g.length?yi(g):[]},Te.uniqBy=function Bg(g,L){return g&&g.length?yi(g,er(L,2)):[]},Te.uniqWith=function zm(g,L){return L="function"==typeof L?L:me,g&&g.length?yi(g,me,L):[]},Te.unset=function BN(g,L){return null==g||Zr(g,L)},Te.unzip=Fg,Te.unzipWith=jg,Te.update=function FN(g,L,V){return null==g?g:ns(g,L,Mg(V))},Te.updateWith=function jN(g,L,V,ie){return ie="function"==typeof ie?ie:me,null==g?g:ns(g,L,Mg(V),ie)},Te.values=Qg,Te.valuesIn=function aS(g){return null==g?[]:Jv(g,Gl(g))},Te.without=Bm,Te.words=Tf,Te.wrap=function Ym(g,L){return dM(Mg(L),g)},Te.xor=Fm,Te.xorBy=yp,Te.xorWith=Hg,Te.zip=Oc,Te.zipObject=function Cd(g,L){return mf(g||[],L||[],ff)},Te.zipObjectDeep=function $I(g,L){return mf(g||[],L||[],wc)},Te.zipWith=B0,Te.entries=RN,Te.entriesIn=DM,Te.extend=SM,Te.extendWith=U0,PM(Te,Te),Te.add=BM,Te.attempt=ZT,Te.camelCase=Nc,Te.capitalize=lS,Te.ceil=Q0,Te.clamp=function UT(g,L,V){return V===me&&(V=L,L=me),V!==me&&(V=(V=Jh(V))==V?V:0),L!==me&&(L=(L=Jh(L))==L?L:0),dd(Jh(g),L,V)},Te.clone=function TT(g){return Vl(g,4)},Te.cloneDeep=function KC(g){return Vl(g,5)},Te.cloneDeepWith=function vN(g,L){return Vl(g,5,L="function"==typeof L?L:me)},Te.cloneWith=function pM(g,L){return Vl(g,4,L="function"==typeof L?L:me)},Te.conformsTo=function mN(g,L){return null==L||rp(g,L,Tl(L))},Te.deburr=VT,Te.defaultTo=function dS(g,L){return null==g||g!=g?L:g},Te.divide=vS,Te.endsWith=function Zs(g,L,V){g=ks(g),L=kh(L);var ie=g.length,ve=V=V===me?ie:dd(Fr(V),0,ie);return(V-=L.length)>=0&&g.slice(V,ve)==L},Te.eq=ju,Te.escape=function WT(g){return(g=ks(g))&&Ji.test(g)?g.replace(di,bI):g},Te.escapeRegExp=function UN(g){return(g=ks(g))&&$r.test(g)?g.replace(ys,"\\$&"):g},Te.every=function sN(g,L,V){var ie=Sr(g)?og:EI;return V&&Ka(g,L,V)&&(L=me),ie(g,er(L,3))},Te.find=YC,Te.findIndex=Da,Te.findKey=function xN(g,L){return mI(g,er(L,3),ku)},Te.findLast=gT,Te.findLastIndex=K,Te.findLastKey=function DN(g,L){return mI(g,er(L,3),hm)},Te.floor=Jm,Te.forEach=nM,Te.forEachRight=rM,Te.forIn=function kc(g,L){return null==g?g:ap(g,er(L,3),Gl)},Te.forInRight=function Sd(g,L){return null==g?g:lp(g,er(L,3),Gl)},Te.forOwn=function TN(g,L){return g&&ku(g,er(L,3))},Te.forOwnRight=function EN(g,L){return g&&hm(g,er(L,3))},Te.get=wM,Te.gt=yN,Te.gte=bN,Te.has=function LN(g,L){return null!=g&&zC(g,L,OI)},Te.hasIn=oS,Te.head=A,Te.identity=uh,Te.includes=function XC(g,L,V,ie){g=ch(g)?g:Qg(g),V=V&&!ie?Fr(V):0;var ve=g.length;return V<0&&(V=Lo(ve+V,0)),rS(g)?V<=ve&&g.indexOf(L,V)>-1:!!ve&&ag(g,L,V)>-1},Te.indexOf=function G(g,L,V){var ie=null==g?0:g.length;if(!ie)return-1;var ve=null==V?0:Fr(V);return ve<0&&(ve=Lo(ie+ve,0)),ag(g,L,ve)},Te.inRange=function TM(g,L,V){return L=bp(L),V===me?(V=L,L=0):V=bp(V),function LI(g,L,V){return g>=ol(L,V)&&g<Lo(L,V)}(g=Jh(g),L,V)},Te.invoke=PN,Te.isArguments=Vg,Te.isArray=Sr,Te.isArrayBuffer=eS,Te.isArrayLike=ch,Te.isArrayLikeObject=ga,Te.isBoolean=function CN(g){return!0===g||!1===g||va(g)&&Sl(g)==ct},Te.isBuffer=Df,Te.isDate=fM,Te.isElement=function ET(g){return va(g)&&1===g.nodeType&&!Yg(g)},Te.isEmpty=function Wg(g){if(null==g)return!0;if(ch(g)&&(Sr(g)||"string"==typeof g||"function"==typeof g.splice||Df(g)||Gm(g)||Vg(g)))return!g.length;var L=xa(g);if(L==We||L==ft)return!g.size;if(pp(g))return!gm(g).length;for(var V in g)if(Vs.call(g,V))return!1;return!0},Te.isEqual=function AT(g,L){return Sg(g,L)},Te.isEqualWith=function OT(g,L,V){var ie=(V="function"==typeof V?V:me)?V(g,L):me;return ie===me?Sg(g,L,me,V):!!ie},Te.isError=gM,Te.isFinite=function sF(g){return"number"==typeof g&&$c(g)},Te.isFunction=iu,Te.isInteger=LT,Te.isLength=j0,Te.isMap=tS,Te.isMatch=function kT(g,L){return g===L||pm(g,L,Am(L))},Te.isMatchWith=function iS(g,L,V){return V="function"==typeof V?V:me,pm(g,L,Am(L),V)},Te.isNaN=function H0(g){return mM(g)&&g!=+g},Te.isNative=function NT(g){if(N0(g))throw new vr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return b0(g)},Te.isNil=function nS(g){return null==g},Te.isNull=function vM(g){return null===g},Te.isNumber=mM,Te.isObject=ea,Te.isObjectLike=va,Te.isPlainObject=Yg,Te.isRegExp=Gg,Te.isSafeInteger=function SN(g){return LT(g)&&g>=-bt&&g<=bt},Te.isSet=yM,Te.isString=rS,Te.isSymbol=Lc,Te.isTypedArray=Gm,Te.isUndefined=function PT(g){return g===me},Te.isWeakMap=function _T(g){return va(g)&&xa(g)==xt},Te.isWeakSet=function sS(g){return va(g)&&"[object WeakSet]"==Sl(g)},Te.join=function xe(g,L){return null==g?"":df.call(g,L)},Te.kebabCase=VN,Te.last=lt,Te.lastIndexOf=function vt(g,L,V){var ie=null==g?0:g.length;if(!ie)return-1;var ve=ie;return V!==me&&(ve=(ve=Fr(V))<0?Lo(ie+ve,0):ol(ve,ie-1)),L==L?function pg(At,hi,qt){for(var tn=qt+1;tn--;)if(At[tn]===hi)return tn;return tn}(g,L,ve):r0(g,Zv,ve,!0)},Te.lowerCase=WN,Te.lowerFirst=YN,Te.lt=bM,Te.lte=Xm,Te.max=function FM(g){return g&&g.length?Qh(g,uh,v0):me},Te.maxBy=function jM(g,L){return g&&g.length?Qh(g,er(L,2),v0):me},Te.mean=function mS(g){return hg(g,uh)},Te.meanBy=function pF(g,L){return hg(g,er(L,2))},Te.min=function HM(g){return g&&g.length?Qh(g,uh,wg):me},Te.minBy=function $0(g,L){return g&&g.length?Qh(g,er(L,2),wg):me},Te.stubArray=tE,Te.stubFalse=iE,Te.stubObject=function gS(){return{}},Te.stubString=function tP(){return""},Te.stubTrue=function _M(){return!0},Te.multiply=iP,Te.nth=function kt(g,L){return g&&g.length?Wl(g,Fr(L)):me},Te.noConflict=function ZN(){return Cl._===this&&(Cl._=nn),this},Te.noop=X0,Te.now=F0,Te.pad=function YT(g,L,V){g=ks(g);var ie=(L=Fr(L))?ep(g):0;if(!L||ie>=L)return g;var ve=(L-ie)/2;return Mm(Ra(ve),V)+g+Mm(Du(ve),V)},Te.padEnd=function hF(g,L,V){g=ks(g);var ie=(L=Fr(L))?ep(g):0;return L&&ie<L?g+Mm(L-ie,V):g},Te.padStart=function cF(g,L,V){g=ks(g);var ie=(L=Fr(L))?ep(g):0;return L&&ie<L?Mm(L-ie,V)+g:g},Te.parseInt=function W0(g,L,V){return V||null==L?L=0:L&&(L=+L),pa(ks(g).replace(qr,""),L||0)},Te.random=function HN(g,L,V){if(V&&"boolean"!=typeof V&&Ka(g,L,V)&&(L=V=me),V===me&&("boolean"==typeof L?(V=L,L=me):"boolean"==typeof g&&(V=g,g=me)),g===me&&L===me?(g=0,L=1):(g=bp(g),L===me?(L=g,g=0):L=bp(L)),g>L){var ie=g;g=L,L=ie}if(V||g%1||L%1){var ve=al();return ol(g+ve*(L-g+WD("1e-"+((ve+"").length-1))),L)}return mm(g,L)},Te.reduce=function sM(g,L,V){var ie=Sr(g)?Qv:oC,ve=arguments.length<3;return ie(g,er(L,4),V,ve,op)},Te.reduceRight=function lN(g,L,V){var ie=Sr(g)?$v:oC,ve=arguments.length<3;return ie(g,er(L,4),V,ve,TI)},Te.repeat=function _n(g,L,V){return L=(V?Ka(g,L,V):L===me)?1:Fr(L),ym(ks(g),L)},Te.replace=function Y0(){var g=arguments,L=ks(g[0]);return g.length<3?L:L.replace(g[1],g[2])},Te.result=function MM(g,L,V){var ie=-1,ve=(L=eu(L,g)).length;for(ve||(ve=1,g=me);++ie<ve;){var ke=null==g?me:g[lh(L[ie])];ke===me&&(ie=ve,ke=V),g=iu(ke)?ke.call(g):ke}return g},Te.round=nE,Te.runInContext=At,Te.sample=function cN(g){return(Sr(g)?Oh:rr)(g)},Te.size=function dN(g){if(null==g)return 0;if(ch(g))return rS(g)?ep(g):g.length;var L=xa(g);return L==We||L==ft?g.size:gm(g).length},Te.snakeCase=GT,Te.some=function Zh(g,L,V){var ie=Sr(g)?nh:vf;return V&&Ka(g,L,V)&&(L=me),ie(g,er(L,3))},Te.sortedIndex=function Ta(g,L){return bm(g,L)},Te.sortedIndexBy=function Dl(g,L,V){return S0(g,L,er(V,2))},Te.sortedIndexOf=function Ec(g,L){var V=null==g?0:g.length;if(V){var ie=bm(g,L);if(ie<V&&ju(g[ie],L))return ie}return-1},Te.sortedLastIndex=function So(g,L){return bm(g,L,!0)},Te.sortedLastIndexBy=function yd(g,L,V){return S0(g,L,er(V,2),!0)},Te.sortedLastIndexOf=function Ac(g,L){if(null!=g&&g.length){var ie=bm(g,L,!0)-1;if(ju(g[ie],L))return ie}return-1},Te.startCase=EM,Te.startsWith=function AM(g,L,V){return g=ks(g),V=null==V?0:dd(Fr(V),0,g.length),L=kh(L),g.slice(V,V+L.length)==L},Te.subtract=nP,Te.sum=function rP(g){return g&&g.length?rd(g,uh):0},Te.sumBy=function UM(g,L){return g&&g.length?rd(g,er(L,2)):0},Te.template=function GN(g,L,V){var ie=Te.templateSettings;V&&Ka(g,L,V)&&(L=me),g=ks(g),L=U0({},L,ie,Eg);var mt,Pt,ve=U0({},L.imports,ie.imports,Eg),ke=Tl(ve),at=Jv(ve,ke),Ci=0,Si=L.interpolate||$d,Ni="__p += '",un=l0((L.escape||$d).source+"|"+Si.source+"|"+(Si===co?Gv:$d).source+"|"+(L.evaluate||$d).source+"|$","g"),Rn="//# sourceURL="+(Vs.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ao+"]")+"\n";g.replace(un,function(hr,Er,vs,El,rs,Pc){return vs||(vs=El),Ni+=g.slice(Ci,Pc).replace(qe,CI),Er&&(mt=!0,Ni+="' +\n__e("+Er+") +\n'"),rs&&(Pt=!0,Ni+="';\n"+rs+";\n__p += '"),vs&&(Ni+="' +\n((__t = ("+vs+")) == null ? '' : __t) +\n'"),Ci=Pc+hr.length,hr}),Ni+="';\n";var sr=Vs.call(L,"variable")&&L.variable;if(sr){if(eg.test(sr))throw new vr("Invalid `variable` option passed into `_.template`")}else Ni="with (obj) {\n"+Ni+"\n}\n";Ni=(Pt?Ni.replace(As,""):Ni).replace(Eo,"$1").replace(Ia,"$1;"),Ni="function("+(sr||"obj")+") {\n"+(sr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(mt?", __e = _.escape":"")+(Pt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ni+"return __p\n}";var Yr=ZT(function(){return Cs(ke,Rn+"return "+Ni).apply(me,at)});if(Yr.source=Ni,gM(Yr))throw Yr;return Yr},Te.times=function RM(g,L){if((g=Fr(g))<1||g>bt)return[];var V=ot,ie=ol(g,ot);L=er(L),g-=ot;for(var ve=a0(ie,L);++V<g;)L(V);return ve},Te.toFinite=bp,Te.toInteger=Fr,Te.toLength=zT,Te.toLower=function QT(g){return ks(g).toLowerCase()},Te.toNumber=Jh,Te.toSafeInteger=function Qm(g){return g?dd(Fr(g),-bt,bt):0===g?g:0},Te.toString=ks,Te.toUpper=function $T(g){return ks(g).toUpperCase()},Te.trim=function hS(g,L,V){if((g=ks(g))&&(V||L===me))return lC(g);if(!g||!(L=kh(L)))return g;var ie=Gh(g),ve=Gh(L);return up(ie,cg(ie,ve),Kv(ie,ve)+1).join("")},Te.trimEnd=function uF(g,L,V){if((g=ks(g))&&(V||L===me))return g.slice(0,em(g)+1);if(!g||!(L=kh(L)))return g;var ie=Gh(g);return up(ie,0,Kv(ie,Gh(L))+1).join("")},Te.trimStart=function OM(g,L,V){if((g=ks(g))&&(V||L===me))return g.replace(qr,"");if(!g||!(L=kh(L)))return g;var ie=Gh(g);return up(ie,cg(ie,Gh(L))).join("")},Te.truncate=function XN(g,L){var V=30,ie="...";if(ea(L)){var ve="separator"in L?L.separator:ve;V="length"in L?Fr(L.length):V,ie="omission"in L?kh(L.omission):ie}var ke=(g=ks(g)).length;if(Mu(g)){var at=Gh(g);ke=at.length}if(V>=ke)return g;var mt=V-ep(ie);if(mt<1)return ie;var Pt=at?up(at,0,mt).join(""):g.slice(0,mt);if(ve===me)return Pt+ie;if(at&&(mt+=Pt.length-mt),Gg(ve)){if(g.slice(mt).search(ve)){var Ci,Si=Pt;for(ve.global||(ve=l0(ve.source,ks(ih.exec(ve))+"g")),ve.lastIndex=0;Ci=ve.exec(Si);)var Ni=Ci.index;Pt=Pt.slice(0,Ni===me?mt:Ni)}}else if(g.indexOf(kh(ve),mt)!=mt){var un=Pt.lastIndexOf(ve);un>-1&&(Pt=Pt.slice(0,un))}return Pt+ie},Te.unescape=function LM(g){return(g=ks(g))&&Ui.test(g)?g.replace(ci,cC):g},Te.uniqueId=function zM(g){var L=++wI;return ks(g)+L},Te.upperCase=qT,Te.upperFirst=cS,Te.each=nM,Te.eachRight=rM,Te.first=A,PM(Te,function(){var g={};return ku(Te,function(L,V){Vs.call(Te.prototype,V)||(g[V]=L)}),g}(),{chain:!1}),Te.VERSION="4.17.21",Wi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){Te[g].placeholder=Te}),Wi(["drop","take"],function(g,L){Cr.prototype[g]=function(V){V=V===me?1:Lo(Fr(V),0);var ie=this.__filtered__&&!L?new Cr(this):this.clone();return ie.__filtered__?ie.__takeCount__=ol(V,ie.__takeCount__):ie.__views__.push({size:ol(V,ot),type:g+(ie.__dir__<0?"Right":"")}),ie},Cr.prototype[g+"Right"]=function(V){return this.reverse()[g](V).reverse()}}),Wi(["filter","map","takeWhile"],function(g,L){var V=L+1,ie=1==V||3==V;Cr.prototype[g]=function(ve){var ke=this.clone();return ke.__iteratees__.push({iteratee:er(ve,3),type:V}),ke.__filtered__=ke.__filtered__||ie,ke}}),Wi(["head","last"],function(g,L){var V="take"+(L?"Right":"");Cr.prototype[g]=function(){return this[V](1).value()[0]}}),Wi(["initial","tail"],function(g,L){var V="drop"+(L?"":"Right");Cr.prototype[g]=function(){return this.__filtered__?new Cr(this):this[V](1)}}),Cr.prototype.compact=function(){return this.filter(uh)},Cr.prototype.find=function(g){return this.filter(g).head()},Cr.prototype.findLast=function(g){return this.reverse().find(g)},Cr.prototype.invokeMap=Tr(function(g,L){return"function"==typeof g?new Cr(this):this.map(function(V){return dm(V,g,L)})}),Cr.prototype.reject=function(g){return this.filter(ZC(er(g)))},Cr.prototype.slice=function(g,L){g=Fr(g);var V=this;return V.__filtered__&&(g>0||L<0)?new Cr(V):(g<0?V=V.takeRight(-g):g&&(V=V.drop(g)),L!==me&&(V=(L=Fr(L))<0?V.dropRight(-L):V.take(L-g)),V)},Cr.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Cr.prototype.toArray=function(){return this.take(ot)},ku(Cr.prototype,function(g,L){var V=/^(?:filter|find|map|reject)|While$/.test(L),ie=/^(?:head|last)$/.test(L),ve=Te[ie?"take"+("last"==L?"Right":""):L],ke=ie||/^find/.test(L);ve&&(Te.prototype[L]=function(){var at=this.__wrapped__,mt=ie?[1]:arguments,Pt=at instanceof Cr,Ci=mt[0],Si=Pt||Sr(at),Ni=function(Er){var vs=ve.apply(Te,rl([Er],mt));return ie&&un?vs[0]:vs};Si&&V&&"function"==typeof Ci&&1!=Ci.length&&(Pt=Si=!1);var un=this.__chain__,sr=ke&&!un,Yr=Pt&&!this.__actions__.length;if(!ke&&Si){at=Yr?at:new Cr(this);var hr=g.apply(at,mt);return hr.__actions__.push({func:Ug,args:[Ni],thisArg:me}),new oh(hr,un)}return sr&&Yr?g.apply(this,mt):(hr=this.thru(Ni),sr?ie?hr.value()[0]:hr.value():hr)})}),Wi(["pop","push","shift","sort","splice","unshift"],function(g){var L=im[g],V=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",ie=/^(?:pop|shift)$/.test(g);Te.prototype[g]=function(){var ve=arguments;if(ie&&!this.__chain__){var ke=this.value();return L.apply(Sr(ke)?ke:[],ve)}return this[V](function(at){return L.apply(Sr(at)?at:[],ve)})}}),ku(Cr.prototype,function(g,L){var V=Te[L];if(V){var ie=V.name+"";Vs.call(br,ie)||(br[ie]=[]),br[ie].push({name:L,func:V})}}),br[mo(me,2).name]=[{name:"wrapper",func:me}],Cr.prototype.clone=function sm(){var g=new Cr(this.__wrapped__);return g.__actions__=Ml(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Ml(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Ml(this.__views__),g},Cr.prototype.reverse=function Sc(){if(this.__filtered__){var g=new Cr(this);g.__dir__=-1,g.__filtered__=!0}else(g=this.clone()).__dir__*=-1;return g},Cr.prototype.value=function d0(){var g=this.__wrapped__.value(),L=this.__dir__,V=Sr(g),ie=L<0,ve=V?g.length:0,ke=function aT(g,L,V){for(var ie=-1,ve=V.length;++ie<ve;){var ke=V[ie],at=ke.size;switch(ke.type){case"drop":g+=at;break;case"dropRight":L-=at;break;case"take":L=ol(L,g+at);break;case"takeRight":g=Lo(g,L-at)}}return{start:g,end:L}}(0,ve,this.__views__),at=ke.start,mt=ke.end,Pt=mt-at,Ci=ie?mt:at-1,Si=this.__iteratees__,Ni=Si.length,un=0,Rn=ol(Pt,this.__takeCount__);if(!V||!ie&&ve==Pt&&Rn==Pt)return Ja(g,this.__actions__);var sr=[];e:for(;Pt--&&un<Rn;){for(var Yr=-1,hr=g[Ci+=L];++Yr<Ni;){var Er=Si[Yr],El=Er.type,rs=(0,Er.iteratee)(hr);if(2==El)hr=rs;else if(!rs){if(1==El)continue e;break e}}sr[un++]=hr}return sr},Te.prototype.at=jm,Te.prototype.chain=function qI(){return UC(this)},Te.prototype.commit=function ZI(){return new oh(this.value(),this.__chain__)},Te.prototype.next=function Hm(){this.__values__===me&&(this.__values__=RT(this.value()));var g=this.__index__>=this.__values__.length;return{done:g,value:g?me:this.__values__[this.__index__++]}},Te.prototype.plant=function KI(g){for(var L,V=this;V instanceof Za;){var ie=gp(V);ie.__index__=0,ie.__values__=me,L?ve.__wrapped__=ie:L=ie;var ve=ie;V=V.__wrapped__}return ve.__wrapped__=g,L},Te.prototype.reverse=function eM(){var g=this.__wrapped__;if(g instanceof Cr){var L=g;return this.__actions__.length&&(L=new Cr(this)),(L=L.reverse()).__actions__.push({func:Ug,args:[ki],thisArg:me}),new oh(L,this.__chain__)}return this.thru(ki)},Te.prototype.toJSON=Te.prototype.valueOf=Te.prototype.value=function tM(){return Ja(this.__wrapped__,this.__actions__)},Te.prototype.first=Te.prototype.head,vg&&(Te.prototype[vg]=function JI(){return this}),Te}();Cl._=tm,(tt=function(){return tm}.call(ai,sn,ai,th))!==me&&(th.exports=tt)}.call(this)},122:th=>{window,th.exports=function(ai){var sn={};function tt(me){if(sn[me])return sn[me].exports;var _t=sn[me]={i:me,l:!1,exports:{}};return ai[me].call(_t.exports,_t,_t.exports,tt),_t.l=!0,_t.exports}return tt.m=ai,tt.c=sn,tt.d=function(me,_t,Ke){tt.o(me,_t)||Object.defineProperty(me,_t,{enumerable:!0,get:Ke})},tt.r=function(me){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(me,"__esModule",{value:!0})},tt.t=function(me,_t){if(1&_t&&(me=tt(me)),8&_t||4&_t&&"object"==typeof me&&me&&me.__esModule)return me;var Ke=Object.create(null);if(tt.r(Ke),Object.defineProperty(Ke,"default",{enumerable:!0,value:me}),2&_t&&"string"!=typeof me)for(var Ht in me)tt.d(Ke,Ht,function(q){return me[q]}.bind(null,Ht));return Ke},tt.n=function(me){var _t=me&&me.__esModule?function(){return me.default}:function(){return me};return tt.d(_t,"a",_t),_t},tt.o=function(me,_t){return Object.prototype.hasOwnProperty.call(me,_t)},tt.p="dist",tt(tt.s=33)}([function(ai,sn,tt){"use strict";ai.exports=function me(_t,Ke){var q,le,B,_,Ht=Object.prototype.hasOwnProperty;for(B=1,_=arguments.length;B<_;B+=1)for(le in q=arguments[B])Ht.call(q,le)&&(_t[le]=q[le]);return _t}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return _t instanceof Array}},function(ai,sn,tt){"use strict";var me=tt(1),_t=tt(6),Ke=tt(7);ai.exports=function Ht(q,le,B){me(q)?_t(q,le,B):Ke(q,le,B)}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return void 0===_t}},function(ai,sn,tt){"use strict";var me=tt(22),_t=tt(2),Ke=tt(6),Ht=tt(7),q=tt(37),le=0,B={getLength:function(_){var re=0;return Ht(_,function(){re+=1}),re},map:function(_,re,te){var he=[];return _t(_,function(){he.push(re.apply(te||null,arguments))}),he},filter:function(_,re,te){var he=[];return Ke(_,function(ce){re.apply(te||null,arguments)&&he.push(ce)}),he},generateId:function(){return le+=1},isOldBrowser:me.msie&&me.version<9,sendHostName:function(){q("color-picker","UA-129987462-1")}};ai.exports=B},function(ai,sn,tt){"use strict";var me=tt(1);ai.exports=function _t(Ke,Ht,q){var le,B;if(q=q||0,!me(Ht))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(Ht,Ke,q);for(B=Ht.length,le=q;q>=0&&le<B;le+=1)if(Ht[le]===Ke)return le;return-1}},function(ai,sn,tt){"use strict";ai.exports=function me(_t,Ke,Ht){var q=0,le=_t.length;for(Ht=Ht||null;q<le&&!1!==Ke.call(Ht,_t[q],q,_t);q+=1);}},function(ai,sn,tt){"use strict";ai.exports=function me(_t,Ke,Ht){var q;for(q in Ht=Ht||null,_t)if(_t.hasOwnProperty(q)&&!1===Ke.call(Ht,_t[q],q,_t))break}},function(ai,sn,tt){"use strict";var me=tt(39),_t=tt(13),Ke=tt(41),Ht=tt(3),q=tt(9),le=tt(19),B=tt(4);function _(re,te){var he=B.generateId();re=re||{},Ht(te)&&(te=q.appendHTMLElement("div")),me(te,"tui-view-"+he),this.id=he,this.container=te,this.childs=new le(function(ce){return ce.id}),this.parent=null}_.prototype.addChild=function(re,te){te&&te.call(re,this),re.parent=this,this.childs.add(re)},_.prototype.removeChild=function(re,te){var he=Ke(re)?this.childs.items[re]:re;te&&te.call(he,this),this.childs.remove(he.id)},_.prototype.render=function(){this.childs.each(function(re){re.render()})},_.prototype.recursive=function(re,te){_t(re)&&(te||re(this),this.childs.each(function(he){he.recursive(re)}))},_.prototype.resize=function(){for(var re=Array.prototype.slice.call(arguments),te=this.parent;te;)_t(te._onResize)&&te._onResize.apply(te,re),te=te.parent},_.prototype._beforeDestroy=function(){},_.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},_.prototype.destroy=function(re){this.childs&&(this.childs.each(function(te){te.destroy(!0),te._destroy()}),this.childs.clear()),!re&&this._destroy()},_.prototype.getViewBound=function(){var re=this.container.getBoundingClientRect();return{x:re.left,y:re.top,width:re.right-re.left,height:re.bottom-re.top}},ai.exports=_},function(ai,sn,tt){"use strict";ai.exports={appendHTMLElement:function(_t,Ke,Ht){var q=document.createElement(_t);return q.className=Ht||"",Ke?Ke.appendChild(q):document.body.appendChild(q),q}}},function(ai,sn,tt){"use strict";var me=tt(0),_t=tt(20),Ke=tt(11),Ht=tt(21),q=tt(1),le=tt(13),B=tt(2),_=/\s+/g;function re(){this.events=null,this.contexts=null}re.mixin=function(te){me(te.prototype,re.prototype)},re.prototype._getHandlerItem=function(te,he){var ce={handler:te};return he&&(ce.context=he),ce},re.prototype._safeEvent=function(te){var ce,he=this.events;return he||(he=this.events={}),te&&((ce=he[te])||(he[te]=ce=[]),he=ce),he},re.prototype._safeContext=function(){var te=this.contexts;return te||(te=this.contexts=[]),te},re.prototype._indexOfContext=function(te){for(var he=this._safeContext(),ce=0;he[ce];){if(te===he[ce][0])return ce;ce+=1}return-1},re.prototype._memorizeContext=function(te){var he,ce;_t(te)&&(he=this._safeContext(),(ce=this._indexOfContext(te))>-1?he[ce][1]+=1:he.push([te,1]))},re.prototype._forgetContext=function(te){var he,ce;_t(te)&&(he=this._safeContext(),(ce=this._indexOfContext(te))>-1&&(he[ce][1]-=1,he[ce][1]<=0&&he.splice(ce,1)))},re.prototype._bindEvent=function(te,he,ce){var ye=this._safeEvent(te);this._memorizeContext(ce),ye.push(this._getHandlerItem(he,ce))},re.prototype.on=function(te,he,ce){var ye=this;Ke(te)?(te=te.split(_),B(te,function(F){ye._bindEvent(F,he,ce)})):Ht(te)&&(ce=he,B(te,function(F,I){ye.on(I,F,ce)}))},re.prototype.once=function(te,he,ce){var ye=this;if(Ht(te))return ce=he,void B(te,function(I,N){ye.once(N,I,ce)});this.on(te,function F(){he.apply(ce,arguments),ye.off(te,F,ce)},ce)},re.prototype._spliceMatches=function(te,he){var ye,ce=0;if(q(te))for(ye=te.length;ce<ye;ce+=1)!0===he(te[ce])&&(te.splice(ce,1),ye-=1,ce-=1)},re.prototype._matchHandler=function(te){var he=this;return function(ce){var ye=te===ce.handler;return ye&&he._forgetContext(ce.context),ye}},re.prototype._matchContext=function(te){var he=this;return function(ce){var ye=te===ce.context;return ye&&he._forgetContext(ce.context),ye}},re.prototype._matchHandlerAndContext=function(te,he){var ce=this;return function(ye){var N=te===ye.handler&&he===ye.context;return N&&ce._forgetContext(ye.context),N}},re.prototype._offByEventName=function(te,he){var ce=this,ye=le(he),F=ce._matchHandler(he);te=te.split(_),B(te,function(I){var N=ce._safeEvent(I);ye?ce._spliceMatches(N,F):(B(N,function(k){ce._forgetContext(k.context)}),ce.events[I]=[])})},re.prototype._offByHandler=function(te){var he=this,ce=this._matchHandler(te);B(this._safeEvent(),function(ye){he._spliceMatches(ye,ce)})},re.prototype._offByObject=function(te,he){var ye,ce=this;this._indexOfContext(te)<0?B(te,function(F,I){ce.off(I,F)}):Ke(he)?(ye=this._matchContext(te),ce._spliceMatches(this._safeEvent(he),ye)):le(he)?(ye=this._matchHandlerAndContext(he,te),B(this._safeEvent(),function(F){ce._spliceMatches(F,ye)})):(ye=this._matchContext(te),B(this._safeEvent(),function(F){ce._spliceMatches(F,ye)}))},re.prototype.off=function(te,he){Ke(te)?this._offByEventName(te,he):arguments.length?le(te)?this._offByHandler(te):Ht(te)&&this._offByObject(te,he):(this.events={},this.contexts=[])},re.prototype.fire=function(te){this.invoke.apply(this,arguments)},re.prototype.invoke=function(te){var he,ce,ye,F;if(!this.hasListener(te))return!0;for(he=this._safeEvent(te),ce=Array.prototype.slice.call(arguments,1),ye=0;he[ye];){if(!1===(F=he[ye]).handler.apply(F.context,ce))return!1;ye+=1}return!0},re.prototype.hasListener=function(te){return this.getListenerLength(te)>0},re.prototype.getListenerLength=function(te){return this._safeEvent(te).length},ai.exports=re},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return"string"==typeof _t||_t instanceof String}},function(ai,sn,tt){"use strict";var me=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,_t={leadingZero:function(Ke,Ht){var q="",le=0;if((Ke+"").length>Ht)return Ke+"";for(;le<Ht-1;le+=1)q+="0";return(q+Ke).slice(-1*Ht)},isValidRGB:function(Ke){return me.test(Ke)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(Ke){return!!_t.isValidRGB(Ke)&&(Ke=Ke.substring(1),[parseInt(Ke.substr(0,2),16),parseInt(Ke.substr(2,2),16),parseInt(Ke.substr(4,2),16)])},rgbToHEX:function(Ke,Ht,q){var le="#"+_t.leadingZero(Ke.toString(16),2)+_t.leadingZero(Ht.toString(16),2)+_t.leadingZero(q.toString(16),2);return!!_t.isValidRGB(le)&&le},rgbToHSV:function(Ke,Ht,q){var le,B,_,re,te,he;if(Ke/=255,Ht/=255,q/=255,te=le=Math.max(Ke,Ht,q),he=le-(B=Math.min(Ke,Ht,q)),re=0===le?0:he/le,le===B)_=0;else{switch(le){case Ke:_=(Ht-q)/he+(Ht<q?6:0);break;case Ht:_=(q-Ke)/he+2;break;case q:_=(Ke-Ht)/he+4}_/=6}return[Math.round(360*_),Math.round(100*re),Math.round(100*te)]},hsvToRGB:function(Ke,Ht,q){var le,B,_,re,te,he,ce,ye;if(Ke=Math.max(0,Math.min(360,Ke)),Ht=Math.max(0,Math.min(100,Ht)),q=Math.max(0,Math.min(100,q)),q/=100,0==(Ht/=100))return le=B=_=q,[Math.round(255*le),Math.round(255*B),Math.round(255*_)];switch(he=q*(1-Ht),ce=q*(1-Ht*(te=(Ke/=60)-(re=Math.floor(Ke)))),ye=q*(1-Ht*(1-te)),re){case 0:le=q,B=ye,_=he;break;case 1:le=ce,B=q,_=he;break;case 2:le=he,B=q,_=ye;break;case 3:le=he,B=ce,_=q;break;case 4:le=ye,B=he,_=q;break;default:le=q,B=he,_=ce}return[Math.round(255*le),Math.round(255*B),Math.round(255*_)]}};ai.exports=_t},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return _t instanceof Function}},function(ai,sn,tt){"use strict";var me=tt(11),_t=tt(2),Ke=tt(26);function q(B,_,re,te){function he(ce){re.call(te||B,ce||window.event)}"addEventListener"in B?B.addEventListener(_,he):"attachEvent"in B&&B.attachEvent("on"+_,he),function le(B,_,re,te){var he=Ke(B,_),ce=!1;_t(he,function(ye){return ye.handler!==re||(ce=!0,!1)}),ce||he.push({handler:re,wrappedHandler:te})}(B,_,re,he)}ai.exports=function Ht(B,_,re,te){me(_)?_t(_.split(/\s+/g),function(he){q(B,he,re,te)}):_t(_,function(he,ce){q(B,ce,he,re)})}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){_t.preventDefault?_t.preventDefault():_t.returnValue=!1}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return _t.replace(/([A-Z])/g,function(Ke){return"-"+Ke.toLowerCase()})}},function(ai,sn,tt){"use strict";var me=tt(11),_t=tt(2),Ke=tt(26);function q(B,_,re){var he,te=Ke(B,_);re?(_t(te,function(ce,ye){return re!==ce.handler||(le(B,_,ce.wrappedHandler),he=ye,!1)}),te.splice(he,1)):(_t(te,function(ce){le(B,_,ce.wrappedHandler)}),te.splice(0,te.length))}function le(B,_,re){"removeEventListener"in B?B.removeEventListener(_,re):"detachEvent"in B&&B.detachEvent("on"+_,re)}ai.exports=function Ht(B,_,re){me(_)?_t(_.split(/\s+/g),function(te){q(B,te,re)}):_t(_,function(te,he){q(B,he,te)})}},function(ai,sn,tt){"use strict";var me=tt(50);ai.exports=function _t(Ke,Ht){var q=me(Ht.prototype);q.constructor=Ke,Ke.prototype=q}},function(ai,sn,tt){"use strict";var me=tt(6),_t=tt(7),Ke=tt(0),Ht=tt(1),q=tt(20),le=tt(13),B=tt(21),_=tt(4),re=Array.prototype.slice;function te(he){this.items={},this.length=0,le(he)&&(this.getItemID=he)}te.and=function(he){var ce;return he=re.call(arguments),ce=he.length,function(ye){for(var F=0;F<ce;F+=1)if(!he[F].call(null,ye))return!1;return!0}},te.or=function(he){var ce;return he=re.call(arguments),ce=he.length,function(ye){for(var F=1,I=he[0].call(null,ye);F<ce;F+=1)I=I||he[F].call(null,ye);return I}},te.merge=function(he){var ce={},ye=new te(he.getItemID);return me(arguments,function(F){Ke(ce,F.items)}),ye.items=ce,ye.length=_.getLength(ye.items),ye},te.prototype.getItemID=function(he){return he._id+""},te.prototype.add=function(he){var ce,ye;arguments.length>1?me(re.call(arguments),function(F){this.add(F)},this):(ce=this.getItemID(he),(ye=this.items)[ce]||(this.length+=1),ye[ce]=he)},te.prototype.remove=function(he){var ye,F,ce=[];return this.length?arguments.length>1?ce=_.map(re.call(arguments),function(I){return this.remove(I)},this):(ye=this.items,B(he)&&(he=this.getItemID(he)),ye[he]?(this.length-=1,F=ye[he],delete ye[he],F):ce):ce},te.prototype.clear=function(){this.items={},this.length=0},te.prototype.has=function(he){var ce,ye;return!!this.length&&(ce=le(he),ye=!1,ce?this.each(function(F){return!0!==he(F)||(ye=!0,!1)}):(he=B(he)?this.getItemID(he):he,ye=q(this.items[he])),ye)},te.prototype.doWhenHas=function(he,ce,ye){var F=this.items[he];q(F)&&ce.call(ye||this,F)},te.prototype.find=function(he){var ce=new te;return this.hasOwnProperty("getItemID")&&(ce.getItemID=this.getItemID),this.each(function(ye){!0===he(ye)&&ce.add(ye)}),ce},te.prototype.groupBy=function(he,ce){var N,k,ye={},F=le(he),I=this.getItemID;if(Ht(he)){if(me(he,function(y){ye[y+""]=new te(I)}),!ce)return ye;he=ce,F=!0}return this.each(function(y){F?k=he(y):le(k=y[he])&&(k=k.apply(y)),(N=ye[k])||(N=ye[k]=new te(I)),N.add(y)}),ye},te.prototype.single=function(){var he;return this.each(function(ce){return he=ce,!1},this),he},te.prototype.sort=function(he){var ce=[];return this.each(function(ye){ce.push(ye)}),le(he)&&(ce=ce.sort(he)),ce},te.prototype.each=function(he,ce){_t(this.items,he,ce||this)},te.prototype.toArray=function(){return this.length?_.map(this.items,function(he){return he}):[]},ai.exports=te},function(ai,sn,tt){"use strict";var me=tt(3),_t=tt(36);ai.exports=function Ke(Ht){return!me(Ht)&&!_t(Ht)}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return _t===Object(_t)}},function(ai,sn,tt){"use strict";var me={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&function _t(){var te,he,Ke=window.navigator,Ht=Ke.appName.replace(/\s/g,"_"),q=Ke.userAgent,le=/MSIE\s([0-9]+[.0-9]*)/,B=/Trident.*rv:11\./,_=/Edge\/(\d+)\./,re={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},ce={Microsoft_Internet_Explorer:function(){var F=q.match(le);F?(me.msie=!0,me.version=parseFloat(F[1])):me.others=!0},Netscape:function(){var F=!1;if(B.exec(q))me.msie=!0,me.version=11,F=!0;else if(_.exec(q))me.edge=!0,me.version=q.match(_)[1],F=!0;else for(te in re)if(re.hasOwnProperty(te)&&(he=q.match(re[te]))&&he.length>1){me[te]=F=!0,me.version=parseFloat(he[1]||0);break}F||(me.others=!0)}};ce[Ht]&&ce[Ht]()}(),ai.exports=me},function(ai,sn,tt){"use strict";var me=tt(3);ai.exports=function _t(Ke){return Ke&&Ke.className?me(Ke.className.baseVal)?Ke.className:Ke.className.baseVal:""}},function(ai,sn,tt){"use strict";(function(me){var _t=tt(10),Ke=tt(42),Ht=tt(44),q=tt(47),le=tt(28),B=tt(17),_=tt(14),re=tt(15),te=tt(0);function he(ce,ye){_(ye,"mousedown",this._onMouseDown,this),this.options=te({distance:10},ce),this.container=ye,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}he.prototype.destroy=function(){B(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},he.prototype._toggleDragEvent=function(ce){var ye=this.container;ce?(Ke(ye),_(window,"dragstart",re),_(me.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(Ht(ye),B(window,"dragstart",re),B(me.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},he.prototype._getEventData=function(ce){return{target:le(ce),originEvent:ce}},he.prototype._onMouseDown=function(ce){0===q(ce)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(ce),this._toggleDragEvent(!0))},he.prototype._onMouseMove=function(ce){var ye=this.options.distance;re(ce),this._isMoved=!0,this._distance<ye?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(ce)):this._toggleDragEvent(!1)},he.prototype._onMouseUp=function(ce){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(ce));this.fire("click",this._getEventData(ce))},_t.mixin(he),ai.exports=he}).call(this,tt(25))},function(ai,sn){var tt;tt=function(){return this}();try{tt=tt||new Function("return this")()}catch{"object"==typeof window&&(tt=window)}ai.exports=tt},function(ai,sn,tt){"use strict";var me="_feEventKey";ai.exports=function _t(Ke,Ht){var le,q=Ke[me];return q||(q=Ke[me]={}),(le=q[Ht])||(le=q[Ht]=[]),le}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){var Ht,q,Ke=document.documentElement.style;for(Ht=0,q=_t.length;Ht<q;Ht+=1)if(_t[Ht]in Ke)return _t[Ht];return!1}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return _t.target||_t.srcElement}},function(ai,sn,tt){"use strict";var me=tt(10),_t=tt(28),Ke=tt(17),Ht=tt(14),q=tt(30),le=tt(0),B=tt(18),_=tt(9),re=tt(12),te=tt(8),he=tt(51);function ce(ye,F){this.options=le({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},ye),F=_.appendHTMLElement("div",F,this.options.cssPrefix+"palette-container"),te.call(this,ye,F)}B(ce,te),ce.prototype._onClick=function(ye){var F=this.options,I=_t(ye),N={};if(q(I,F.cssPrefix+"palette-button"))return N.color=I.value,void this.fire("_selectColor",N);q(I,F.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},ce.prototype._onChange=function(ye){var F=this.options,I=_t(ye),N={};q(I,F.cssPrefix+"palette-hex")&&(N.color=I.value,this.fire("_selectColor",N))},ce.prototype._beforeDestroy=function(){this._toggleEvent(!1)},ce.prototype._toggleEvent=function(ye){var k,F=this.options,I=this.container,N=ye?Ht:Ke;N(I,"click",this._onClick,this),(k=I.querySelector("."+F.cssPrefix+"palette-hex",I))&&N(k,"change",this._onChange,this)},ce.prototype.render=function(ye){var I,F=this.options;this._toggleEvent(!1),I=he({cssPrefix:F.cssPrefix,preset:F.preset,detailTxt:F.detailTxt,color:ye,isValidRGB:re.isValidRGB,getItemClass:function(N){return N?"":" "+F.cssPrefix+"color-transparent"},isSelected:function(N){return N===ye?" "+F.cssPrefix+"selected":""}}),this.container.innerHTML=I,this._toggleEvent(!0)},me.mixin(ce),ai.exports=ce},function(ai,sn,tt){"use strict";var me=tt(5),_t=tt(23);ai.exports=function Ke(Ht,q){var le;return Ht.classList?Ht.classList.contains(q):(le=_t(Ht).split(/\s+/),me(q,le)>-1)}},function(ai,sn,tt){"use strict";var me=tt(10),_t=tt(53),Ke=tt(54),Ht=tt(30),q=tt(0),le=tt(18),B=tt(9),_=tt(32),re=tt(12),te=tt(8),he=tt(24),ce=tt(57),k=359.99;function y(b,C){(C=B.appendHTMLElement("div",C,b.cssPrefix+"slider-container")).style.display="none",te.call(this,b,C),this.options=q({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},b),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new he({distance:0},C),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}le(y,te),y.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},y.prototype.toggle=function(b){this.container.style.display=b?"block":"none"},y.prototype.isVisible=function(){return"block"===this.container.style.display},y.prototype.render=function(b){var x,H,C=this.container,E=this.options,z=ce.layout;re.isValidRGB(b)&&(z=(z=(z=(z=z.replace(/{{slider}}/,ce.slider)).replace(/{{huebar}}/,ce.huebar)).replace(/{{cssPrefix}}/g,E.cssPrefix)).replace(/{{id}}/g,E.id),this.container.innerHTML=z,this.sliderSvgElement=C.querySelector("."+E.cssPrefix+"svg-slider"),this.huebarSvgElement=C.querySelector("."+E.cssPrefix+"svg-huebar"),this.sliderHandleElement=C.querySelector("."+E.cssPrefix+"slider-handle"),this.huebarHandleElement=C.querySelector("."+E.cssPrefix+"huebar-handle"),this.baseColorElement=C.querySelector("."+E.cssPrefix+"slider-basecolor"),x=re.hexToRGB(b),H=re.rgbToHSV.apply(null,x),this.moveHue(H[0],!0),this.moveSaturationAndValue(H[1],H[2],!0))},y.prototype._setColorSliderPosMax=function(){var b=this.sliderSvgElement.getClientRects()[0];b&&(this.colorSliderPosLimitRange[1]=b.height-10)},y.prototype._moveColorSliderHandle=function(b,C,E){var z=this.sliderHandleElement;C=Math.max(this.colorSliderPosLimitRange[0],C),C=Math.min(this.colorSliderPosLimitRange[1],C),b=Math.max(this.colorSliderPosLimitRange[0],b),b=Math.min(this.colorSliderPosLimitRange[1],b),_.setTranslateXY(z,b,C),_.setStrokeColor(z,C>50?"white":"black"),E||this.fire("_selectColor",{color:re.rgbToHEX.apply(null,this.getRGB())})},y.prototype.moveSaturationAndValue=function(b,C,E){var z,x;b=b||0,C=C||0,z=Math.abs(this.colorSliderPosLimitRange[0]),this._moveColorSliderHandle(b*(x=this.colorSliderPosLimitRange[1])/100-z,x-C*x/100-z,E)},y.prototype._moveColorSliderByPosition=function(b,C){var E=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(b+E,C+E)},y.prototype.getSaturationAndValue=function(){var b=Math.abs(this.colorSliderPosLimitRange[0]),C=b+this.colorSliderPosLimitRange[1],E=_.getTranslateXY(this.sliderHandleElement);return[(E[1]+b)/C*100,100-(E[0]+b)/C*100]},y.prototype._setHueBarPosMax=function(){var b=this.huebarSvgElement.getClientRects()[0];b&&(this.huebarPosLimitRange[1]=b.height-7)},y.prototype._moveHueHandle=function(b,C){var x,H,E=this.huebarHandleElement,z=this.baseColorElement;b=Math.max(this.huebarPosLimitRange[0],b),b=Math.min(this.huebarPosLimitRange[1],b),_.setTranslateY(E,b),x=re.hsvToRGB(this.getHue(),100,100),H=re.rgbToHEX.apply(null,x),_.setGradientColorStop(z,H),C||this.fire("_selectColor",{color:re.rgbToHEX.apply(null,this.getRGB())})},y.prototype.moveHue=function(b,C){var z;z=Math.abs(this.huebarPosLimitRange[0]),this._moveHueHandle((z+this.huebarPosLimitRange[1])*(b=b||0)/k-z,C)},y.prototype._moveHueByPosition=function(b){this._moveHueHandle(b+this.huebarPosLimitRange[0])},y.prototype.getHue=function(){var E,C=_.getTranslateXY(this.huebarHandleElement);return E=Math.abs(this.huebarPosLimitRange[0]),(C[0]+E)*k/(E+this.huebarPosLimitRange[1])},y.prototype.getHSV=function(){var b=this.getSaturationAndValue();return[this.getHue()].concat(b)},y.prototype.getRGB=function(){return re.hsvToRGB.apply(null,this.getHSV())},y.prototype._prepareColorSliderForMouseEvent=function(b){var C=this.options,E=Ke(b.target,"."+C.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:Ht(E,C.cssPrefix+"slider-left"),parentElement:E}},y.prototype._onClick=function(b){var C=this._prepareColorSliderForMouseEvent(b),E=_t(b.originEvent,C.parentElement);C.isColorSlider?this._moveColorSliderByPosition(E[0],E[1]):this._moveHueByPosition(E[1]),this._dragDataCache=null},y.prototype._onDragStart=function(b){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(b)},y.prototype._onDrag=function(b){var C=this._dragDataCache,E=_t(b.originEvent,C.parentElement);C.isColorSlider?this._moveColorSliderByPosition(E[0],E[1]):this._moveHueByPosition(E[1])},y.prototype._onDragEnd=function(){this._dragDataCache=null},me.mixin(y),ai.exports=y},function(ai,sn,tt){"use strict";var me=tt(4).isOldBrowser,_t=/[\.\-0-9]+/g;ai.exports={getTranslateXY:function(q){var le;return me?(le=q.style,[parseFloat(le.top),parseFloat(le.left)]):(le=q.getAttribute("transform"))?(le=le.match(_t),[parseFloat(le[1]),parseFloat(le[0])]):[0,0]},setTranslateXY:function(q,le,B){me?(q.style.left=le+"px",q.style.top=B+"px"):q.setAttribute("transform","translate("+le+","+B+")")},setTranslateY:function(q,le){me?q.style.top=le+"px":q.setAttribute("transform","translate(-6,"+le+")")},setStrokeColor:function(q,le){me?q.strokecolor=le:q.setAttribute("stroke",le)},setGradientColorStop:function(q,le){me?q.color=le:q.setAttribute("stop-color",le)}}},function(ai,sn,tt){tt(34),ai.exports=tt(35)},function(ai,sn,tt){},function(ai,sn,tt){"use strict";var me=tt(19),_t=tt(8),Ke=tt(24),Ht=tt(48),q=tt(29),le=tt(31),B=tt(12),_=tt(32);ai.exports={Collection:me,View:_t,Drag:Ke,create:Ht,Palette:q,Slider:le,colorutil:B,svgvml:_}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return null===_t}},function(ai,sn,tt){"use strict";var me=tt(3),_t=tt(38),Ke=6048e5;ai.exports=function q(le,B){var re=location.hostname,ce="TOAST UI "+le+" for "+re+": Statistics",ye=window.localStorage.getItem(ce);!me(window.tui)&&!1===window.tui.usageStatistics||ye&&!function Ht(le){return(new Date).getTime()-le>Ke}(ye)||(window.localStorage.setItem(ce,(new Date).getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&_t("https://www.google-analytics.com/collect",{v:1,t:"event",tid:B,cid:re,dp:re,dh:le,el:le,ec:"use"})},1e3))}},function(ai,sn,tt){"use strict";var me=tt(7);ai.exports=function _t(Ke,Ht){var q=document.createElement("img"),le="";return me(Ht,function(B,_){le+="&"+_+"="+B}),le=le.substring(1),q.src=Ke+"?"+le,q.style.display="none",document.body.appendChild(q),document.body.removeChild(q),q}},function(ai,sn,tt){"use strict";var me=tt(2),_t=tt(5),Ke=tt(23),Ht=tt(40);ai.exports=function q(le){var te,B=Array.prototype.slice.call(arguments,1),re=[];le.classList?me(B,function(he){le.classList.add(he)}):((te=Ke(le))&&(B=[].concat(te.split(/\s+/),B)),me(B,function(he){_t(he,re)<0&&re.push(he)}),Ht(le,re))}},function(ai,sn,tt){"use strict";var me=tt(1),_t=tt(3);ai.exports=function Ke(Ht,q){q=(q=me(q)?q.join(" "):q).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),_t(Ht.className.baseVal)?Ht.className=q:Ht.className.baseVal=q}},function(ai,sn,tt){"use strict";ai.exports=function me(_t){return"number"==typeof _t||_t instanceof Number}},function(ai,sn,tt){"use strict";var me=tt(14),_t=tt(15),Ke=tt(43),Ht=tt(27),q="onselectstart"in document,B=Ht(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ai.exports=function _(re){re||(re=document),q?me(re,"selectstart",_t):(re=re===document?document.documentElement:re,Ke(re,"prevUserSelect",re.style[B]),re.style[B]="none")}},function(ai,sn,tt){"use strict";var me=tt(16);ai.exports=function _t(Ke,Ht,q){Ke.dataset?Ke.dataset[Ht]=q:Ke.setAttribute("data-"+me(Ht),q)}},function(ai,sn,tt){"use strict";var me=tt(17),_t=tt(15),Ke=tt(45),Ht=tt(46),q=tt(27),le="onselectstart"in document,B="prevUserSelect",_=q(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ai.exports=function re(te){te||(te=document),le?me(te,"selectstart",_t):((te=te===document?document.documentElement:te).style[_]=Ke(te,B)||"auto",Ht(te,B))}},function(ai,sn,tt){"use strict";var me=tt(16);ai.exports=function _t(Ke,Ht){return Ke.dataset?Ke.dataset[Ht]:Ke.getAttribute("data-"+me(Ht))}},function(ai,sn,tt){"use strict";var me=tt(16);ai.exports=function _t(Ke,Ht){Ke.dataset?delete Ke.dataset[Ht]:Ke.removeAttribute("data-"+me(Ht))}},function(ai,sn,tt){"use strict";var me=tt(22),_t=tt(5),Ke=["0","1","3","5","7"],Ht=["2","6"],q=["4"];ai.exports=function le(_){return me.msie&&me.version<=8?function B(_){var re=String(_.button);return _t(re,Ke)>-1?0:_t(re,Ht)>-1?2:_t(re,q)>-1?1:null}(_):_.button}},function(ai,sn,tt){"use strict";var me=tt(10),_t=tt(0),Ke=tt(4),Ht=tt(12),q=tt(49),le=tt(29),B=tt(31),_=0;function te(he){var ce;if(!(this instanceof te))return new te(he);if(!(he=this.options=_t({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:_+=1,usageStatistics:!0},he)).container)throw new Error("ColorPicker(): need container option.");ce=this.layout=new q(he,he.container),this.palette=new le(he,ce.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new B(he,ce.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),ce.addChild(this.palette),ce.addChild(this.slider),this.render(he.color),he.usageStatistics&&Ke.sendHostName()}te.prototype._onSelectColorInPalette=function(he){var ce=he.color,ye=this.options;Ht.isValidRGB(ce)||""===ce?(this.fire("selectColor",{color:ce,origin:"palette"}),ye.color!==ce&&(ye.color=ce,this.render(ce))):this.render()},te.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},te.prototype._onSelectColorInSlider=function(he){var ce=he.color,ye=this.options;this.fire("selectColor",{color:ce,origin:"slider"}),ye.color!==ce&&(ye.color=ce,this.palette.render(ce))},te.prototype.setColor=function(he){if(!Ht.isValidRGB(he))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=he,this.render(he)},te.prototype.getColor=function(){return this.options.color},te.prototype.toggle=function(he){this.layout.container.style.display=he?"block":"none"},te.prototype.render=function(he){this.layout.render(he||this.options.color)},te.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},me.mixin(te),ai.exports=te},function(ai,sn,tt){"use strict";var me=tt(0),_t=tt(18),Ke=tt(9),Ht=tt(8);function q(le,B){this.options=me({cssPrefix:"tui-colorpicker-"},le),B=Ke.appendHTMLElement("div",B,this.options.cssPrefix+"container"),Ht.call(this,le,B),this.render()}_t(q,Ht),q.prototype.render=function(le){this.recursive(function(B){B.render(le)},!0)},ai.exports=q},function(ai,sn,tt){"use strict";ai.exports=function me(_t){function Ke(){}return Ke.prototype=_t,new Ke}},function(ai,sn,tt){"use strict";var me=tt(52);ai.exports=function(_t){var Ht=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return me(Ht,_t)}},function(ai,sn,tt){"use strict";var me=tt(5),_t=tt(2),Ke=tt(1),Ht=tt(11),q=tt(0),le=/{{\s?|\s?}}/g,B=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,_=/\[\s?|\s?\]/,re=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,te=/\./,he=/^["']\w+["']$/,ce=/"|'/g,ye=/^-?\d+\.?\d*$/,F=2,I={if:function C(ue,we,De){var Ne=function b(ue,we){var De=[ue],Ne=[],bt=0,gt=0;return _t(we,function(ei,ot){0===ei.indexOf("if")?bt+=1:"/if"===ei?bt-=1:!bt&&(0===ei.indexOf("elseif")||"else"===ei)&&(De.push("else"===ei?["true"]:ei.split(" ").slice(1)),Ne.push(we.slice(gt,ot)),gt=ot+1)}),Ne.push(we.slice(gt)),{exps:De,sourcesInsideIf:Ne}}(ue,we),bt=!1,gt="";return _t(Ne.exps,function(ei,ot){return(bt=W(ei,De))&&(gt=ee(Ne.sourcesInsideIf[ot],De)),!bt}),gt},each:function E(ue,we,De){var Ne=W(ue,De),bt=Ke(Ne)?"@index":"@key",gt={},ei="";return _t(Ne,function(ot,Yt){gt[bt]=Yt,gt["@this"]=ot,q(De,gt),ei+=ee(we.slice(),De)}),ei},with:function z(ue,we,De){var Ne=me("as",ue),bt=ue[Ne+1],gt=W(ue.slice(0,Ne),De),ei={};return ei[bt]=gt,ee(we,q(De,ei))||""}},k=3==="a".split(/a/).length?function(ue,we){return ue.split(we)}:function(ue,we){var bt,gt,De=[],Ne=0;for(we.global||(we=new RegExp(we,"g")),bt=we.exec(ue);null!==bt;)De.push(ue.slice(Ne,gt=bt.index)),Ne=gt+bt[0].length,bt=we.exec(ue);return De.push(ue.slice(Ne)),De};function y(ue,we){var De,Ne=we[ue];return"true"===ue?Ne=!0:"false"===ue?Ne=!1:he.test(ue)?Ne=ue.replace(ce,""):B.test(ue)?Ne=y((De=ue.split(_))[0],we)[y(De[1],we)]:re.test(ue)?Ne=y((De=ue.split(te))[0],we)[De[1]]:ye.test(ue)&&(Ne=parseFloat(ue)),Ne}function H(ue,we,De){for(var ei,Ne=I[ue],bt=1,ot=0+F,Yt=we[ot];bt&&Ht(Yt);)0===Yt.indexOf(ue)?bt+=1:0===Yt.indexOf("/"+ue)&&(bt-=1,ei=ot),Yt=we[ot+=F];if(bt)throw Error(ue+" needs {{/"+ue+"}} expression.");return we[0]=Ne(we[0].split(" ").slice(1),function x(ue,we,De){var Ne=ue.splice(we+1,De-we);return Ne.pop(),Ne}(we,0,ei),De),we}function W(ue,we){var De=y(ue[0],we);return De instanceof Function?function Z(ue,we,De){var Ne=[];return _t(we,function(bt){Ne.push(y(bt,De))}),ue.apply(null,Ne)}(De,ue.slice(1),we):De}function ee(ue,we){for(var bt,gt,ei,De=1,Ne=ue[De];Ht(Ne);)bt=Ne.split(" "),I[gt=bt[0]]?(ei=H(gt,ue.splice(De,ue.length-De),we),ue=ue.concat(ei)):ue[De]=W(bt,we),Ne=ue[De+=F];return ue.join("")}ai.exports=function ae(ue,we){return ee(k(ue,le),we)}},function(ai,sn,tt){"use strict";var me=tt(1);ai.exports=function _t(Ke,Ht){var _,q=me(Ke),le=q?Ke[0]:Ke.clientX,B=q?Ke[1]:Ke.clientY;return Ht?[le-(_=Ht.getBoundingClientRect()).left-Ht.clientLeft,B-_.top-Ht.clientTop]:[le,B]}},function(ai,sn,tt){"use strict";var me=tt(55);ai.exports=function _t(Ke,Ht){var q=Ke.parentNode;if(me(Ke,Ht))return Ke;for(;q&&q!==document;){if(me(q,Ht))return q;q=q.parentNode}return null}},function(ai,sn,tt){"use strict";var me=tt(5),_t=tt(56),Ke=Element.prototype,Ht=Ke.matches||Ke.webkitMatchesSelector||Ke.mozMatchesSelector||Ke.msMatchesSelector||function(le){return me(this,_t((this.document||this.ownerDocument).querySelectorAll(le)))>-1};ai.exports=function q(le,B){return Ht.call(le,B)}},function(ai,sn,tt){"use strict";var me=tt(6);ai.exports=function _t(Ke){var Ht;try{Ht=Array.prototype.slice.call(Ke)}catch{Ht=[],me(Ke,function(le){Ht.push(le)})}return Ht}},function(ai,sn,tt){"use strict";(function(me){var _t=tt(4).isOldBrowser,Ke=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),Ht=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),q=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),le=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),B=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");_t&&me.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),ai.exports={layout:Ke,slider:_t?q:Ht,huebar:_t?B:le}}).call(this,tt(25))}])},204:(th,ai,sn)=>{var tt;self,th.exports=(tt=sn(122),function(){var me={2777:function(q,le,B){var F,I,N,k,y,b,_=_||{version:"4.6.0"};if(le.fabric=_,typeof document<"u"&&typeof window<"u")_.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),_.window=window;else{var te=new(B(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;_.document=te.document,_.jsdomImplForWrapper=B(6759).implForWrapper,_.nodeCanvas=B(6272).Canvas,_.window=te,DOMParser=_.window.DOMParser}function ce(F,I){var N=F.canvas,k=I.targetCanvas,y=k.getContext("2d");y.translate(0,k.height),y.scale(1,-1),y.drawImage(N,0,N.height-k.height,k.width,k.height,0,0,k.width,k.height)}function ye(F,I){var k=I.targetCanvas.getContext("2d"),y=I.destinationWidth,b=I.destinationHeight,C=y*b*4,E=new Uint8Array(this.imageBuffer,0,C),z=new Uint8ClampedArray(this.imageBuffer,0,C);F.readPixels(0,0,y,b,F.RGBA,F.UNSIGNED_BYTE,E);var x=new ImageData(z,y,b);k.putImageData(x,0,0)}_.isTouchSupported="ontouchstart"in _.window||"ontouchstart"in _.document||_.window&&_.window.navigator&&_.window.navigator.maxTouchPoints>0,_.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",_.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],_.DPI=96,_.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",_.commaWsp="(?:\\s+,?\\s*|,\\s*)",_.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,_.reNonWord=/[ \n\.,;!\?\-]/,_.fontPaths={},_.iMatrix=[1,0,0,1,0,0],_.svgNS="http://www.w3.org/2000/svg",_.perfLimitSizeTotal=2097152,_.maxCacheSideLimit=4096,_.minCacheSideLimit=256,_.charWidthsCache={},_.textureSize=2048,_.disableStyleCopyPaste=!1,_.enableGLFiltering=!0,_.devicePixelRatio=_.window.devicePixelRatio||_.window.webkitDevicePixelRatio||_.window.mozDevicePixelRatio||1,_.browserShadowBlurConstant=1,_.arcToSegmentsCache={},_.boundsOfCurveCache={},_.cachesBoundsOfCurve=!0,_.forceGLPutImageData=!1,_.initFilterBackend=function(){return _.enableGLFiltering&&_.isWebglSupported&&_.isWebglSupported(_.textureSize)?(console.log("max texture size: "+_.maxTextureSize),new _.WebglFilterBackend({tileSize:_.textureSize})):_.Canvas2dFilterBackend?new _.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=_),function(){function F(C,E){if(this.__eventListeners[C]){var z=this.__eventListeners[C];E?z[z.indexOf(E)]=!1:_.util.array.fill(z,!1)}}function N(C,E){var z=function(){E.apply(this,arguments),this.off(C,z)}.bind(this);this.on(C,z)}_.Observable={fire:function b(C,E){if(!this.__eventListeners)return this;var z=this.__eventListeners[C];if(!z)return this;for(var x=0,H=z.length;x<H;x++)z[x]&&z[x].call(this,E||{});return this.__eventListeners[C]=z.filter(function(W){return!1!==W}),this},on:function I(C,E){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var z in C)this.on(z,C[z]);else this.__eventListeners[C]||(this.__eventListeners[C]=[]),this.__eventListeners[C].push(E);return this},once:function k(C,E){if(1===arguments.length)for(var z in C)N.call(this,z,C[z]);else N.call(this,C,E);return this},off:function y(C,E){if(!this.__eventListeners)return this;if(0===arguments.length)for(C in this.__eventListeners)F.call(this,C);else if(1===arguments.length&&"object"==typeof arguments[0])for(var z in C)F.call(this,z,C[z]);else F.call(this,C,E);return this}}}(),_.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var F=0,I=arguments.length;F<I;F++)this._onObjectAdded(arguments[F]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(F,I,N){var k=this._objects;return N?k[I]=F:k.splice(I,0,F),this._onObjectAdded&&this._onObjectAdded(F),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var I,F=this._objects,N=!1,k=0,y=arguments.length;k<y;k++)-1!==(I=F.indexOf(arguments[k]))&&(N=!0,F.splice(I,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[k]));return this.renderOnAddRemove&&N&&this.requestRenderAll(),this},forEachObject:function(F,I){for(var N=this.getObjects(),k=0,y=N.length;k<y;k++)F.call(I,N[k],k,N);return this},getObjects:function(F){return typeof F>"u"?this._objects.concat():this._objects.filter(function(I){return I.type===F})},item:function(F){return this._objects[F]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(F,I){return this._objects.indexOf(F)>-1||!!I&&this._objects.some(function(N){return"function"==typeof N.contains&&N.contains(F,!0)})},complexity:function(){return this._objects.reduce(function(F,I){return F+(I.complexity?I.complexity():0)},0)}},_.CommonMethods={_setOptions:function(F){for(var I in F)this.set(I,F[I])},_initGradient:function(F,I){F&&F.colorStops&&!(F instanceof _.Gradient)&&this.set(I,new _.Gradient(F))},_initPattern:function(F,I,N){!F||!F.source||F instanceof _.Pattern?N&&N():this.set(I,new _.Pattern(F,N))},_setObject:function(F){for(var I in F)this._set(I,F[I])},set:function(F,I){return"object"==typeof F?this._setObject(F):this._set(F,I),this},_set:function(F,I){this[F]=I},toggle:function(F){var I=this.get(F);return"boolean"==typeof I&&this.set(F,!I),this},get:function(F){return this[F]}},F=le,I=Math.sqrt,N=Math.atan2,k=Math.pow,y=Math.PI/180,b=Math.PI/2,_.util={cos:function(C){if(0===C)return 1;switch(C<0&&(C=-C),C/b){case 1:case 3:return 0;case 2:return-1}return Math.cos(C)},sin:function(C){if(0===C)return 0;var z=1;switch(C<0&&(z=-1),C/b){case 1:return z;case 2:return 0;case 3:return-z}return Math.sin(C)},removeFromArray:function(C,E){var z=C.indexOf(E);return-1!==z&&C.splice(z,1),C},getRandomInt:function(C,E){return Math.floor(Math.random()*(E-C+1))+C},degreesToRadians:function(C){return C*y},radiansToDegrees:function(C){return C/y},rotatePoint:function(C,E,z){var x=new _.Point(C.x-E.x,C.y-E.y),H=_.util.rotateVector(x,z);return new _.Point(H.x,H.y).addEquals(E)},rotateVector:function(C,E){var z=_.util.sin(E),x=_.util.cos(E);return{x:C.x*x-C.y*z,y:C.x*z+C.y*x}},transformPoint:function(C,E,z){return z?new _.Point(E[0]*C.x+E[2]*C.y,E[1]*C.x+E[3]*C.y):new _.Point(E[0]*C.x+E[2]*C.y+E[4],E[1]*C.x+E[3]*C.y+E[5])},makeBoundingBoxFromPoints:function(C,E){if(E)for(var z=0;z<C.length;z++)C[z]=_.util.transformPoint(C[z],E);var x=[C[0].x,C[1].x,C[2].x,C[3].x],H=_.util.array.min(x),Z=_.util.array.max(x)-H,ee=[C[0].y,C[1].y,C[2].y,C[3].y],ae=_.util.array.min(ee);return{left:H,top:ae,width:Z,height:_.util.array.max(ee)-ae}},invertTransform:function(C){var E=1/(C[0]*C[3]-C[1]*C[2]),z=[E*C[3],-E*C[1],-E*C[2],E*C[0]],x=_.util.transformPoint({x:C[4],y:C[5]},z,!0);return z[4]=-x.x,z[5]=-x.y,z},toFixed:function(C,E){return parseFloat(Number(C).toFixed(E))},parseUnit:function(C,E){var z=/\D{0,2}$/.exec(C),x=parseFloat(C);switch(E||(E=_.Text.DEFAULT_SVG_FONT_SIZE),z[0]){case"mm":return x*_.DPI/25.4;case"cm":return x*_.DPI/2.54;case"in":return x*_.DPI;case"pt":return x*_.DPI/72;case"pc":return x*_.DPI/72*12;case"em":return x*E;default:return x}},falseFunction:function(){return!1},getKlass:function(C,E){return C=_.util.string.camelize(C.charAt(0).toUpperCase()+C.slice(1)),_.util.resolveNamespace(E)[C]},getSvgAttributes:function(C){var E=["instantiated_by_use","style","id","class"];switch(C){case"linearGradient":E=E.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":E=E.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":E=E.concat(["offset","stop-color","stop-opacity"])}return E},resolveNamespace:function(C){if(!C)return _;var x,E=C.split("."),z=E.length,H=F||_.window;for(x=0;x<z;++x)H=H[E[x]];return H},loadImage:function(C,E,z,x){if(C){var H=_.util.createImage(),W=function(){E&&E.call(z,H,!1),H=H.onload=H.onerror=null};H.onload=W,H.onerror=function(){_.log("Error loading "+H.src),E&&E.call(z,null,!0),H=H.onload=H.onerror=null},0!==C.indexOf("data")&&null!=x&&(H.crossOrigin=x),"data:image/svg"===C.substring(0,14)&&(H.onload=null,_.util.loadImageInDom(H,W)),H.src=C}else E&&E.call(z,C)},loadImageInDom:function(C,E){var z=_.document.createElement("div");z.style.width=z.style.height="1px",z.style.left=z.style.top="-100%",z.style.position="absolute",z.appendChild(C),_.document.querySelector("body").appendChild(z),C.onload=function(){E(),z.parentNode.removeChild(z),z=null}},enlivenObjects:function(C,E,z,x){var H=[],W=0,Z=(C=C||[]).length;function ee(){++W===Z&&E&&E(H.filter(function(ae){return ae}))}Z?C.forEach(function(ae,ue){ae&&ae.type?_.util.getKlass(ae.type,z).fromObject(ae,function(De,Ne){Ne||(H[ue]=De),x&&x(ae,De,Ne),ee()}):ee()}):E&&E(H)},enlivenPatterns:function(C,E){function z(){++H===W&&E&&E(x)}var x=[],H=0,W=(C=C||[]).length;W?C.forEach(function(Z,ee){Z&&Z.source?new _.Pattern(Z,function(ae){x[ee]=ae,z()}):(x[ee]=Z,z())}):E&&E(x)},groupSVGElements:function(C,E,z){var x;return C&&1===C.length?C[0]:(E&&(E.width&&E.height?E.centerPoint={x:E.width/2,y:E.height/2}:(delete E.width,delete E.height)),x=new _.Group(C,E),typeof z<"u"&&(x.sourcePath=z),x)},populateWithProperties:function(C,E,z){if(z&&"[object Array]"===Object.prototype.toString.call(z))for(var x=0,H=z.length;x<H;x++)z[x]in C&&(E[z[x]]=C[z[x]])},drawDashedLine:function(C,E,z,x,H,W){var Z=x-E,ee=H-z,ae=I(Z*Z+ee*ee),ue=N(ee,Z),we=W.length,De=0,Ne=!0;for(C.save(),C.translate(E,z),C.moveTo(0,0),C.rotate(ue),E=0;ae>E;)(E+=W[De++%we])>ae&&(E=ae),C[Ne?"lineTo":"moveTo"](E,0),Ne=!Ne;C.restore()},createCanvasElement:function(){return _.document.createElement("canvas")},copyCanvasElement:function(C){var E=_.util.createCanvasElement();return E.width=C.width,E.height=C.height,E.getContext("2d").drawImage(C,0,0),E},toDataURL:function(C,E,z){return C.toDataURL("image/"+E,z)},createImage:function(){return _.document.createElement("img")},multiplyTransformMatrices:function(C,E,z){return[C[0]*E[0]+C[2]*E[1],C[1]*E[0]+C[3]*E[1],C[0]*E[2]+C[2]*E[3],C[1]*E[2]+C[3]*E[3],z?0:C[0]*E[4]+C[2]*E[5]+C[4],z?0:C[1]*E[4]+C[3]*E[5]+C[5]]},qrDecompose:function(C){var E=N(C[1],C[0]),z=k(C[0],2)+k(C[1],2),x=I(z),H=(C[0]*C[3]-C[2]*C[1])/x,W=N(C[0]*C[2]+C[1]*C[3],z);return{angle:E/y,scaleX:x,scaleY:H,skewX:W/y,skewY:0,translateX:C[4],translateY:C[5]}},calcRotateMatrix:function(C){if(!C.angle)return _.iMatrix.concat();var E=_.util.degreesToRadians(C.angle),z=_.util.cos(E),x=_.util.sin(E);return[z,x,-x,z,0,0]},calcDimensionsMatrix:function(C){var E=typeof C.scaleX>"u"?1:C.scaleX,z=typeof C.scaleY>"u"?1:C.scaleY,x=[C.flipX?-E:E,0,0,C.flipY?-z:z,0,0],H=_.util.multiplyTransformMatrices,W=_.util.degreesToRadians;return C.skewX&&(x=H(x,[1,0,Math.tan(W(C.skewX)),1],!0)),C.skewY&&(x=H(x,[1,Math.tan(W(C.skewY)),0,1],!0)),x},composeMatrix:function(C){var E=[1,0,0,1,C.translateX||0,C.translateY||0],z=_.util.multiplyTransformMatrices;return C.angle&&(E=z(E,_.util.calcRotateMatrix(C))),(1!==C.scaleX||1!==C.scaleY||C.skewX||C.skewY||C.flipX||C.flipY)&&(E=z(E,_.util.calcDimensionsMatrix(C))),E},resetObjectTransform:function(C){C.scaleX=1,C.scaleY=1,C.skewX=0,C.skewY=0,C.flipX=!1,C.flipY=!1,C.rotate(0)},saveObjectTransform:function(C){return{scaleX:C.scaleX,scaleY:C.scaleY,skewX:C.skewX,skewY:C.skewY,angle:C.angle,left:C.left,flipX:C.flipX,flipY:C.flipY,top:C.top}},isTransparent:function(C,E,z,x){x>0&&(E>x?E-=x:E=0,z>x?z-=x:z=0);var W,H=!0,ee=C.getImageData(E,z,2*x||1,2*x||1),ae=ee.data.length;for(W=3;W<ae&&0!=(H=ee.data[W]<=0);W+=4);return ee=null,H},parsePreserveAspectRatioAttribute:function(C){var W,E="meet",H=C.split(" ");return H&&H.length&&("meet"!==(E=H.pop())&&"slice"!==E?(W=E,E="meet"):H.length&&(W=H.pop())),{meetOrSlice:E,alignX:"none"!==W?W.slice(1,4):"none",alignY:"none"!==W?W.slice(5,8):"none"}},clearFabricFontCache:function(C){(C=(C||"").toLowerCase())?_.charWidthsCache[C]&&delete _.charWidthsCache[C]:_.charWidthsCache={}},limitDimsByArea:function(C,E){var z=Math.sqrt(E*C),x=Math.floor(E/z);return{x:Math.floor(z),y:x}},capValue:function(C,E,z){return Math.max(C,Math.min(E,z))},findScaleToFit:function(C,E){return Math.min(E.width/C.width,E.height/C.height)},findScaleToCover:function(C,E){return Math.max(E.width/C.width,E.height/C.height)},matrixToSVG:function(C){return"matrix("+C.map(function(E){return _.util.toFixed(E,_.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(C,E){var z=_.util.invertTransform(E),x=_.util.multiplyTransformMatrices(z,C.calcOwnMatrix());_.util.applyTransformToObject(C,x)},addTransformToObject:function(C,E){_.util.applyTransformToObject(C,_.util.multiplyTransformMatrices(E,C.calcOwnMatrix()))},applyTransformToObject:function(C,E){var z=_.util.qrDecompose(E),x=new _.Point(z.translateX,z.translateY);C.flipX=!1,C.flipY=!1,C.set("scaleX",z.scaleX),C.set("scaleY",z.scaleY),C.skewX=z.skewX,C.skewY=z.skewY,C.angle=z.angle,C.setPositionByOrigin(x,"center","center")},sizeAfterTransform:function(C,E,z){var x=C/2,H=E/2,W=[{x:-x,y:-H},{x,y:-H},{x:-x,y:H},{x,y:H}],Z=_.util.calcDimensionsMatrix(z),ee=_.util.makeBoundingBoxFromPoints(W,Z);return{x:ee.width,y:ee.height}}},function(){var F=Array.prototype.join,I={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},N={m:"l",M:"L"};function k(et,je,Mt,Ee,_e,We,Ze,Ut,Tt,Jt,ti){var Zt=_.util.cos(et),ft=_.util.sin(et),it=_.util.cos(je),dt=_.util.sin(je),wt=Mt*_e*it-Ee*We*dt+Ze,xt=Ee*_e*it+Mt*We*dt+Ut;return["C",Jt+Tt*(-Mt*_e*ft-Ee*We*Zt),ti+Tt*(-Ee*_e*ft+Mt*We*Zt),wt+Tt*(Mt*_e*dt+Ee*We*it),xt+Tt*(Ee*_e*dt-Mt*We*it),wt,xt]}function y(et,je,Mt,Ee,_e,We,Ze){var Ut=Math.PI,Tt=Ze*Ut/180,Jt=_.util.sin(Tt),ti=_.util.cos(Tt),Zt=0,ft=0,it=-ti*et*.5-Jt*je*.5,dt=-ti*je*.5+Jt*et*.5,wt=(Mt=Math.abs(Mt))*Mt,xt=(Ee=Math.abs(Ee))*Ee,Vt=dt*dt,fi=it*it,Zi=wt*xt-wt*Vt-xt*fi,Vi=0;if(Zi<0){var Qt=Math.sqrt(1-Zi/(wt*xt));Mt*=Qt,Ee*=Qt}else Vi=(_e===We?-1:1)*Math.sqrt(Zi/(wt*Vt+xt*fi));var en=Vi*Mt*dt/Ee,mn=-Vi*Ee*it/Mt,qn=ti*en-Jt*mn+.5*et,Us=Jt*en+ti*mn+.5*je,is=b(1,0,(it-en)/Mt,(dt-mn)/Ee),ps=b((it-en)/Mt,(dt-mn)/Ee,(-it-en)/Mt,(-dt-mn)/Ee);0===We&&ps>0?ps-=2*Ut:1===We&&ps<0&&(ps+=2*Ut);for(var gr=Math.ceil(Math.abs(ps/Ut*2)),As=[],Eo=ps/gr,Ia=8/3*Math.sin(Eo/4)*Math.sin(Eo/4)/Math.sin(Eo/2),ci=is+Eo,di=0;di<gr;di++)As[di]=k(is,ci,ti,Jt,Mt,Ee,qn,Us,Ia,Zt,ft),Zt=As[di][5],ft=As[di][6],is=ci,ci+=Eo;return As}function b(et,je,Mt,Ee){var _e=Math.atan2(je,et),We=Math.atan2(Ee,Mt);return We>=_e?We-_e:2*Math.PI-(_e-We)}function C(et,je,Mt,Ee,_e,We,Ze,Ut){var Tt;if(_.cachesBoundsOfCurve&&(Tt=F.call(arguments),_.boundsOfCurveCache[Tt]))return _.boundsOfCurveCache[Tt];var wt,xt,Vt,fi,Zi,Vi,Qt,en,Jt=Math.sqrt,ti=Math.min,Zt=Math.max,ft=Math.abs,it=[],dt=[[],[]];xt=6*et-12*Mt+6*_e,wt=-3*et+9*Mt-9*_e+3*Ze,Vt=3*Mt-3*et;for(var mn=0;mn<2;++mn)if(mn>0&&(xt=6*je-12*Ee+6*We,wt=-3*je+9*Ee-9*We+3*Ut,Vt=3*Ee-3*je),ft(wt)<1e-12){if(ft(xt)<1e-12)continue;0<(fi=-Vt/xt)&&fi<1&&it.push(fi)}else!((Qt=xt*xt-4*Vt*wt)<0)&&(0<(Zi=(-xt+(en=Jt(Qt)))/(2*wt))&&Zi<1&&it.push(Zi),0<(Vi=(-xt-en)/(2*wt))&&Vi<1&&it.push(Vi));for(var gr,is=it.length,ps=is;is--;)dt[0][is]=(gr=1-(fi=it[is]))*gr*gr*et+3*gr*gr*fi*Mt+3*gr*fi*fi*_e+fi*fi*fi*Ze,dt[1][is]=gr*gr*gr*je+3*gr*gr*fi*Ee+3*gr*fi*fi*We+fi*fi*fi*Ut;dt[0][ps]=et,dt[1][ps]=je,dt[0][ps+1]=Ze,dt[1][ps+1]=Ut;var As=[{x:ti.apply(null,dt[0]),y:ti.apply(null,dt[1])},{x:Zt.apply(null,dt[0]),y:Zt.apply(null,dt[1])}];return _.cachesBoundsOfCurve&&(_.boundsOfCurveCache[Tt]=As),As}function E(et,je,Mt){for(var ti=y(Mt[6]-et,Mt[7]-je,Mt[1],Mt[2],Mt[4],Mt[5],Mt[3]),Zt=0,ft=ti.length;Zt<ft;Zt++)ti[Zt][1]+=et,ti[Zt][2]+=je,ti[Zt][3]+=et,ti[Zt][4]+=je,ti[Zt][5]+=et,ti[Zt][6]+=je;return ti}function x(et,je,Mt,Ee){return Math.sqrt((Mt-et)*(Mt-et)+(Ee-je)*(Ee-je))}function ae(et,je,Mt,Ee,_e,We,Ze,Ut){return function(Tt){var Jt=function H(et){return et*et*et}(Tt),ti=function W(et){return 3*et*et*(1-et)}(Tt),Zt=function Z(et){return 3*et*(1-et)*(1-et)}(Tt),ft=function ee(et){return(1-et)*(1-et)*(1-et)}(Tt);return{x:Ze*Jt+_e*ti+Mt*Zt+et*ft,y:Ut*Jt+We*ti+Ee*Zt+je*ft}}}function ue(et,je,Mt,Ee,_e,We,Ze,Ut){return function(Tt){var Jt=1-Tt;return Math.atan2(3*Jt*Jt*(Ee-je)+6*Jt*Tt*(We-Ee)+3*Tt*Tt*(Ut-We),3*Jt*Jt*(Mt-et)+6*Jt*Tt*(_e-Mt)+3*Tt*Tt*(Ze-_e))}}function bt(et,je,Mt,Ee,_e,We){return function(Ze){var Ut=function we(et){return et*et}(Ze),Tt=function De(et){return 2*et*(1-et)}(Ze),Jt=function Ne(et){return(1-et)*(1-et)}(Ze);return{x:_e*Ut+Mt*Tt+et*Jt,y:We*Ut+Ee*Tt+je*Jt}}}function gt(et,je,Mt,Ee,_e,We){return function(Ze){var Ut=1-Ze;return Math.atan2(2*Ut*(Ee-je)+2*Ze*(We-Ee),2*Ut*(Mt-et)+2*Ze*(_e-Mt))}}function ei(et,je,Mt){var _e,Ze,Ee={x:je,y:Mt},We=0;for(Ze=1;Ze<=100;Ze+=1)_e=et(Ze/100),We+=x(Ee.x,Ee.y,_e.x,_e.y),Ee=_e;return We}function Yt(et){for(var Ee,Jt,ti,Zt,je=0,Mt=et.length,_e=0,We=0,Ze=0,Ut=0,Tt=[],ft=0;ft<Mt;ft++){switch(ti={x:_e,y:We,command:(Ee=et[ft])[0]},Ee[0]){case"M":ti.length=0,Ze=_e=Ee[1],Ut=We=Ee[2];break;case"L":ti.length=x(_e,We,Ee[1],Ee[2]),_e=Ee[1],We=Ee[2];break;case"C":Jt=ae(_e,We,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6]),Zt=ue(_e,We,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6]),ti.iterator=Jt,ti.angleFinder=Zt,ti.length=ei(Jt,_e,We),_e=Ee[5],We=Ee[6];break;case"Q":Jt=bt(_e,We,Ee[1],Ee[2],Ee[3],Ee[4]),Zt=gt(_e,We,Ee[1],Ee[2],Ee[3],Ee[4]),ti.iterator=Jt,ti.angleFinder=Zt,ti.length=ei(Jt,_e,We),_e=Ee[3],We=Ee[4];break;case"Z":case"z":ti.destX=Ze,ti.destY=Ut,ti.length=x(_e,We,Ze,Ut),_e=Ze,We=Ut}je+=ti.length,Tt.push(ti)}return Tt.push({length:je,x:_e,y:We}),Tt}_.util.joinPath=function(et){return et.map(function(je){return je.join(" ")}).join(" ")},_.util.parsePath=function Gi(et){var Ee,_e,Zt,ft,it,je=[],Mt=[],We=_.rePathCommand,Ze="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Ut="("+Ze+")"+_.commaWsp,Tt="([01])"+_.commaWsp+"?",ti=new RegExp(Ut+"?"+Ut+"?"+Ut+Tt+Tt+Ut+"?("+Ze+")","g");if(!et||!et.match)return je;for(var wt,dt=0,xt=(it=et.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;dt<xt;dt++){ft=(Ee=it[dt]).slice(1).trim(),Mt.length=0;var Vt=Ee.charAt(0);if(wt=[Vt],"a"===Vt.toLowerCase())for(var fi;fi=ti.exec(ft);)for(var Zi=1;Zi<fi.length;Zi++)Mt.push(fi[Zi]);else for(;Zt=We.exec(ft);)Mt.push(Zt[0]);Zi=0;for(var Vi=Mt.length;Zi<Vi;Zi++)_e=parseFloat(Mt[Zi]),isNaN(_e)||wt.push(_e);var Qt=I[Vt.toLowerCase()],en=N[Vt]||Vt;if(wt.length-1>Qt)for(var mn=1,qn=wt.length;mn<qn;mn+=Qt)je.push([Vt].concat(wt.slice(mn,mn+Qt))),Vt=en;else je.push(wt)}return je},_.util.makePathSimpler=function z(et){var Ze,Ut,Tt,ti,Zt,ft,je=0,Mt=0,Ee=et.length,_e=0,We=0,Jt=[];for(Ut=0;Ut<Ee;++Ut){switch(Tt=!1,(Ze=et[Ut].slice(0))[0]){case"l":Ze[0]="L",Ze[1]+=je,Ze[2]+=Mt;case"L":je=Ze[1],Mt=Ze[2];break;case"h":Ze[1]+=je;case"H":Ze[0]="L",Ze[2]=Mt,je=Ze[1];break;case"v":Ze[1]+=Mt;case"V":Ze[0]="L",Mt=Ze[1],Ze[1]=je,Ze[2]=Mt;break;case"m":Ze[0]="M",Ze[1]+=je,Ze[2]+=Mt;case"M":je=Ze[1],Mt=Ze[2],_e=Ze[1],We=Ze[2];break;case"c":Ze[0]="C",Ze[1]+=je,Ze[2]+=Mt,Ze[3]+=je,Ze[4]+=Mt,Ze[5]+=je,Ze[6]+=Mt;case"C":Zt=Ze[3],ft=Ze[4],je=Ze[5],Mt=Ze[6];break;case"s":Ze[0]="S",Ze[1]+=je,Ze[2]+=Mt,Ze[3]+=je,Ze[4]+=Mt;case"S":"C"===ti?(Zt=2*je-Zt,ft=2*Mt-ft):(Zt=je,ft=Mt),je=Ze[3],Mt=Ze[4],Ze[0]="C",Ze[5]=Ze[3],Ze[6]=Ze[4],Ze[3]=Ze[1],Ze[4]=Ze[2],Ze[1]=Zt,Ze[2]=ft,Zt=Ze[3],ft=Ze[4];break;case"q":Ze[0]="Q",Ze[1]+=je,Ze[2]+=Mt,Ze[3]+=je,Ze[4]+=Mt;case"Q":Zt=Ze[1],ft=Ze[2],je=Ze[3],Mt=Ze[4];break;case"t":Ze[0]="T",Ze[1]+=je,Ze[2]+=Mt;case"T":"Q"===ti?(Zt=2*je-Zt,ft=2*Mt-ft):(Zt=je,ft=Mt),Ze[0]="Q",je=Ze[1],Mt=Ze[2],Ze[1]=Zt,Ze[2]=ft,Ze[3]=je,Ze[4]=Mt;break;case"a":Ze[0]="A",Ze[6]+=je,Ze[7]+=Mt;case"A":Tt=!0,Jt=Jt.concat(E(je,Mt,Ze)),je=Ze[6],Mt=Ze[7];break;case"z":case"Z":je=_e,Mt=We}Tt||Jt.push(Ze),ti=Ze[0]}return Jt},_.util.getSmoothPathFromPoints=function Ft(et,je){var Ee,Mt=[],_e=new _.Point(et[0].x,et[0].y),We=new _.Point(et[1].x,et[1].y),Ze=et.length,Ut=1,Tt=0,Jt=Ze>2;for(Jt&&(Ut=et[2].x<We.x?-1:et[2].x===We.x?0:1,Tt=et[2].y<We.y?-1:et[2].y===We.y?0:1),Mt.push(["M",_e.x-Ut*(je=je||0),_e.y-Tt*je]),Ee=1;Ee<Ze;Ee++){if(!_e.eq(We)){var ti=_e.midPointFrom(We);Mt.push(["Q",_e.x,_e.y,ti.x,ti.y])}_e=et[Ee],Ee+1<et.length&&(We=et[Ee+1])}return Jt&&(Ut=_e.x>et[Ee-2].x?1:_e.x===et[Ee-2].x?0:-1,Tt=_e.y>et[Ee-2].y?1:_e.y===et[Ee-2].y?0:-1),Mt.push(["L",_e.x+Ut*je,_e.y+Tt*je]),Mt},_.util.getPathSegmentsInfo=Yt,_.util.getBoundsOfCurve=C,_.util.getPointOnPath=function Le(et,je,Mt){Mt||(Mt=Yt(et));for(var Ee=0;je-Mt[Ee].length>0&&Ee<Mt.length-2;)je-=Mt[Ee].length,Ee++;var Tt,_e=Mt[Ee],We=je/_e.length,Ut=et[Ee];switch(_e.command){case"M":return{x:_e.x,y:_e.y,angle:0};case"Z":case"z":return(Tt=new _.Point(_e.x,_e.y).lerp(new _.Point(_e.destX,_e.destY),We)).angle=Math.atan2(_e.destY-_e.y,_e.destX-_e.x),Tt;case"L":return(Tt=new _.Point(_e.x,_e.y).lerp(new _.Point(Ut[1],Ut[2]),We)).angle=Math.atan2(Ut[2]-_e.y,Ut[1]-_e.x),Tt;case"C":case"Q":return function ot(et,je){for(var Ze,Ut,ti,Mt=0,Ee=0,_e=et.iterator,We={x:et.x,y:et.y},Tt=.01,Jt=et.angleFinder;Ee<je&&Mt<=1&&Tt>1e-4;)Ze=_e(Mt),ti=Mt,(Ut=x(We.x,We.y,Ze.x,Ze.y))+Ee>je?Mt-=Tt/=2:(We=Ze,Mt+=Tt,Ee+=Ut);return Ze.angle=Jt(ti),Ze}(_e,je)}},_.util.transformPath=function Li(et,je,Mt){return Mt&&(je=_.util.multiplyTransformMatrices(je,[1,0,0,1,-Mt.x,-Mt.y])),et.map(function(Ee){for(var _e=Ee.slice(0),We={},Ze=1;Ze<Ee.length-1;Ze+=2)We.x=Ee[Ze],We.y=Ee[Ze+1],We=_.util.transformPoint(We,je),_e[Ze]=We.x,_e[Ze+1]=We.y;return _e})},_.util.fromArcToBeizers=E,_.util.getBoundsOfArc=function ht(et,je,Mt,Ee,_e,We,Ze,Ut,Tt){for(var Zt,Jt=0,ti=0,ft=[],it=y(Ut-et,Tt-je,Mt,Ee,We,Ze,_e),dt=0,wt=it.length;dt<wt;dt++)Zt=C(Jt,ti,it[dt][1],it[dt][2],it[dt][3],it[dt][4],it[dt][5],it[dt][6]),ft.push({x:Zt[0].x+et,y:Zt[0].y+je}),ft.push({x:Zt[1].x+et,y:Zt[1].y+je}),Jt=it[dt][5],ti=it[dt][6];return ft},_.util.drawArc=function ct(et,je,Mt,Ee){E(je,Mt,Ee=Ee.slice(0).unshift("X")).forEach(function(We){et.bezierCurveTo.apply(et,We.slice(1))})}}(),function(){var F=Array.prototype.slice;function b(C,E,z){if(C&&0!==C.length){var x=C.length-1,H=E?C[x][E]:C[x];if(E)for(;x--;)z(C[x][E],H)&&(H=C[x][E]);else for(;x--;)z(C[x],H)&&(H=C[x]);return H}}_.util.array={fill:function y(C,E){for(var z=C.length;z--;)C[z]=E;return C},invoke:function I(C,E){for(var z=F.call(arguments,2),x=[],H=0,W=C.length;H<W;H++)x[H]=z.length?C[H][E].apply(C[H],z):C[H][E].call(C[H]);return x},min:function k(C,E){return b(C,E,function(z,x){return z<x})},max:function N(C,E){return b(C,E,function(z,x){return z>=x})}}}(),function(){function F(N,k,y){if(y)if(!_.isLikelyNode&&k instanceof Element)N=k;else if(k instanceof Array){N=[];for(var b=0,C=k.length;b<C;b++)N[b]=F({},k[b],y)}else if(k&&"object"==typeof k)for(var E in k)"canvas"===E||"group"===E?N[E]=null:k.hasOwnProperty(E)&&(N[E]=F({},k[E],y));else N=k;else for(var E in k)N[E]=k[E];return N}_.util.object={extend:F,clone:function I(N,k){return F({},N,k)}},_.util.object.extend(_.util,_.Observable)}(),function(){function y(b,C){var E=b.charCodeAt(C);if(isNaN(E))return"";if(E<55296||E>57343)return b.charAt(C);if(55296<=E&&E<=56319){if(b.length<=C+1)throw"High surrogate without following low surrogate";var z=b.charCodeAt(C+1);if(56320>z||z>57343)throw"High surrogate without following low surrogate";return b.charAt(C)+b.charAt(C+1)}if(0===C)throw"Low surrogate without preceding high surrogate";var x=b.charCodeAt(C-1);if(55296>x||x>56319)throw"Low surrogate without preceding high surrogate";return!1}_.util.string={camelize:function F(b){return b.replace(/-+(.)?/g,function(C,E){return E?E.toUpperCase():""})},capitalize:function I(b,C){return b.charAt(0).toUpperCase()+(C?b.slice(1):b.slice(1).toLowerCase())},escapeXml:function N(b){return b.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function k(b){var E,C=0,z=[];for(C=0;C<b.length;C++)!1!==(E=y(b,C))&&z.push(E);return z}}}(),function(){var F=Array.prototype.slice,I=function(){},N=function(){for(var E in{toString:1})if("toString"===E)return!1;return!0}(),k=function(E,z,x){for(var H in z)E.prototype[H]=H in E.prototype&&"function"==typeof E.prototype[H]&&(z[H]+"").indexOf("callSuper")>-1?function(W){return function(){var Z=this.constructor.superclass;this.constructor.superclass=x;var ee=z[W].apply(this,arguments);if(this.constructor.superclass=Z,"initialize"!==W)return ee}}(H):z[H],N&&(z.toString!==Object.prototype.toString&&(E.prototype.toString=z.toString),z.valueOf!==Object.prototype.valueOf&&(E.prototype.valueOf=z.valueOf))};function y(){}function b(E){for(var z=null,x=this;x.constructor.superclass;){var H=x.constructor.superclass.prototype[E];if(x[E]!==H){z=H;break}x=x.constructor.superclass.prototype}return z?arguments.length>1?z.apply(this,F.call(arguments,1)):z.call(this):console.log("tried to callSuper "+E+", method not found in prototype chain",this)}_.util.createClass=function C(){var E=null,z=F.call(arguments,0);function x(){this.initialize.apply(this,arguments)}"function"==typeof z[0]&&(E=z.shift()),x.superclass=E,x.subclasses=[],E&&(y.prototype=E.prototype,x.prototype=new y,E.subclasses.push(x));for(var H=0,W=z.length;H<W;H++)k(x,z[H],E);return x.prototype.initialize||(x.prototype.initialize=I),x.prototype.constructor=x,x.prototype.callSuper=b,x}}(),function(){var F=!!_.document.createElement("div").attachEvent,I=["touchstart","touchmove","touchend"];_.util.addListener=function(k,y,b,C){k&&k.addEventListener(y,b,!F&&C)},_.util.removeListener=function(k,y,b,C){k&&k.removeEventListener(y,b,!F&&C)},_.util.getPointer=function(k){var b=_.util.getScrollLeftTop(k.target),C=function N(k){var y=k.changedTouches;return y&&y[0]?y[0]:k}(k);return{x:C.clientX+b.left,y:C.clientY+b.top}},_.util.isTouchEvent=function(k){return I.indexOf(k.type)>-1||"touch"===k.pointerType}}(),function(){var I=_.document.createElement("div"),y=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,b=function(C){return C};"string"==typeof I.style.opacity?b=function(C,E){return C.style.opacity=E,C}:"string"==typeof I.style.filter&&(b=function(C,E){var z=C.style;return C.currentStyle&&!C.currentStyle.hasLayout&&(z.zoom=1),y.test(z.filter)?z.filter=z.filter.replace(y,E=E>=.9999?"":"alpha(opacity="+100*E+")"):z.filter+=" alpha(opacity="+100*E+")",C}),_.util.setStyle=function F(C,E){var z=C.style;if(!z)return C;if("string"==typeof E)return C.style.cssText+=";"+E,E.indexOf("opacity")>-1?b(C,E.match(/opacity:\s*(\d?\.?\d*)/)[1]):C;for(var x in E)"opacity"===x?b(C,E[x]):z["float"===x||"cssFloat"===x?typeof z.styleFloat>"u"?"cssFloat":"styleFloat":x]=E[x];return C}}(),function(){var F=Array.prototype.slice;var N,x,ee,ae,k=function(ee){return F.call(ee,0)};try{N=k(_.document.childNodes)instanceof Array}catch{}function y(ee,ae){var ue=_.document.createElement(ee);for(var we in ae)"class"===we?ue.className=ae[we]:"for"===we?ue.htmlFor=ae[we]:ue.setAttribute(we,ae[we]);return ue}function E(ee){for(var ae=0,ue=0,we=_.document.documentElement,De=_.document.body||{scrollLeft:0,scrollTop:0};ee&&(ee.parentNode||ee.host)&&((ee=ee.parentNode||ee.host)===_.document?(ae=De.scrollLeft||we.scrollLeft||0,ue=De.scrollTop||we.scrollTop||0):(ae+=ee.scrollLeft||0,ue+=ee.scrollTop||0),1!==ee.nodeType||"fixed"!==ee.style.position););return{left:ae,top:ue}}N||(k=function(ee){for(var ae=new Array(ee.length),ue=ee.length;ue--;)ae[ue]=ee[ue];return ae}),x=_.document.defaultView&&_.document.defaultView.getComputedStyle?function(ee,ae){var ue=_.document.defaultView.getComputedStyle(ee,null);return ue?ue[ae]:void 0}:function(ee,ae){var ue=ee.style[ae];return!ue&&ee.currentStyle&&(ue=ee.currentStyle[ae]),ue},ae="userSelect"in(ee=_.document.documentElement.style)?"userSelect":"MozUserSelect"in ee?"MozUserSelect":"WebkitUserSelect"in ee?"WebkitUserSelect":"KhtmlUserSelect"in ee?"KhtmlUserSelect":"",_.util.makeElementUnselectable=function ue(De){return typeof De.onselectstart<"u"&&(De.onselectstart=_.util.falseFunction),ae?De.style[ae]="none":"string"==typeof De.unselectable&&(De.unselectable="on"),De},_.util.makeElementSelectable=function we(De){return typeof De.onselectstart<"u"&&(De.onselectstart=null),ae?De.style[ae]="":"string"==typeof De.unselectable&&(De.unselectable=""),De},_.util.setImageSmoothing=function Z(ee,ae){ee.imageSmoothingEnabled=ee.imageSmoothingEnabled||ee.webkitImageSmoothingEnabled||ee.mozImageSmoothingEnabled||ee.msImageSmoothingEnabled||ee.oImageSmoothingEnabled,ee.imageSmoothingEnabled=ae},_.util.getById=function I(ee){return"string"==typeof ee?_.document.getElementById(ee):ee},_.util.toArray=k,_.util.addClass=function b(ee,ae){ee&&-1===(" "+ee.className+" ").indexOf(" "+ae+" ")&&(ee.className+=(ee.className?" ":"")+ae)},_.util.makeElement=y,_.util.wrapElement=function C(ee,ae,ue){return"string"==typeof ae&&(ae=y(ae,ue)),ee.parentNode&&ee.parentNode.replaceChild(ae,ee),ae.appendChild(ee),ae},_.util.getScrollLeftTop=E,_.util.getElementOffset=function z(ee){var ae,Ne,ue=ee&&ee.ownerDocument,we={left:0,top:0},De={left:0,top:0},bt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!ue)return De;for(var gt in bt)De[bt[gt]]+=parseInt(x(ee,gt),10)||0;return ae=ue.documentElement,typeof ee.getBoundingClientRect<"u"&&(we=ee.getBoundingClientRect()),Ne=E(ee),{left:we.left+Ne.left-(ae.clientLeft||0)+De.left,top:we.top+Ne.top-(ae.clientTop||0)+De.top}},_.util.getNodeCanvas=function H(ee){var ae=_.jsdomImplForWrapper(ee);return ae._canvas||ae._image},_.util.cleanUpJsdomNode=function W(ee){if(_.isLikelyNode){var ae=_.jsdomImplForWrapper(ee);ae&&(ae._image=null,ae._canvas=null,ae._currentSrc=null,ae._attributes=null,ae._classList=null)}}}(),function(){function I(){}_.util.request=function N(k,y){y||(y={});var b=y.method?y.method.toUpperCase():"GET",C=y.onComplete||function(){},E=new _.window.XMLHttpRequest,z=y.body||y.parameters;return E.onreadystatechange=function(){4===E.readyState&&(C(E),E.onreadystatechange=I)},"GET"===b&&(z=null,"string"==typeof y.parameters&&(k=function F(k,y){return k+(/\?/.test(k)?"&":"?")+y}(k,y.parameters))),E.open(b,k,!0),("POST"===b||"PUT"===b)&&E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.send(z),E}}(),_.log=console.log,_.warn=console.warn,function(){function F(){return!1}function I(E,z,x,H){return-x*Math.cos(E/H*(Math.PI/2))+x+z}var k=_.window.requestAnimationFrame||_.window.webkitRequestAnimationFrame||_.window.mozRequestAnimationFrame||_.window.oRequestAnimationFrame||_.window.msRequestAnimationFrame||function(E){return _.window.setTimeout(E,1e3/60)},y=_.window.cancelAnimationFrame||_.window.clearTimeout;function b(){return k.apply(_.window,arguments)}_.util.animate=function N(E){var z=!1;return b(function(x){E||(E={});var ee,H=x||+new Date,W=E.duration||500,Z=H+W,ae=E.onChange||F,ue=E.abort||F,we=E.onComplete||F,De=E.easing||I,Ne="startValue"in E?E.startValue:0,bt="endValue"in E?E.endValue:100,gt=E.byValue||bt-Ne;E.onStart&&E.onStart(),function ei(ot){var Yt=(ee=ot||+new Date)>Z?W:ee-H,Le=Yt/W,Gi=De(Yt,Ne,gt,W),Ft=Math.abs((Gi-Ne)/gt);if(!z){if(ue(Gi,Ft,Le))return void we(bt,1,1);if(ee>Z)return ae(bt,1,1),void we(bt,1,1);ae(Gi,Ft,Le),b(ei)}}(H)}),function(){z=!0}},_.util.requestAnimFrame=b,_.util.cancelAnimFrame=function C(){return y.apply(_.window,arguments)}}(),function(){function F(N,k,y){var b="rgba("+parseInt(N[0]+y*(k[0]-N[0]),10)+","+parseInt(N[1]+y*(k[1]-N[1]),10)+","+parseInt(N[2]+y*(k[2]-N[2]),10);return(b+=","+(N&&k?parseFloat(N[3]+y*(k[3]-N[3])):1))+")"}_.util.animateColor=function I(N,k,y,b){var C=new _.Color(N).getSource(),E=new _.Color(k).getSource(),z=b.onComplete,x=b.onChange;return _.util.animate(_.util.object.extend(b=b||{},{duration:y||500,startValue:C,endValue:E,byValue:E,easing:function(H,W,Z,ee){return F(W,Z,b.colorEasing?b.colorEasing(H,ee):1-Math.cos(H/ee*(Math.PI/2)))},onComplete:function(H,W,Z){if(z)return z(F(E,E,0),W,Z)},onChange:function(H,W,Z){if(x){if(Array.isArray(H))return x(F(H,H,0),W,Z);x(H,W,Z)}}}))}}(),function(){function F(ht,ct,et,je){return ht<Math.abs(ct)?(ht=ct,je=et/4):je=0===ct&&0===ht?et/(2*Math.PI)*Math.asin(1):et/(2*Math.PI)*Math.asin(ct/ht),{a:ht,c:ct,p:et,s:je}}function I(ht,ct,et){return ht.a*Math.pow(2,10*(ct-=1))*Math.sin((ct*et-ht.s)*(2*Math.PI)/ht.p)}function Gi(ht,ct,et,je){return et-Ft(je-ht,0,et,je)+ct}function Ft(ht,ct,et,je){return(ht/=je)<.36363636363636365?et*(7.5625*ht*ht)+ct:ht<.7272727272727273?et*(7.5625*(ht-=.5454545454545454)*ht+.75)+ct:ht<.9090909090909091?et*(7.5625*(ht-=.8181818181818182)*ht+.9375)+ct:et*(7.5625*(ht-=.9545454545454546)*ht+.984375)+ct}_.util.ease={easeInQuad:function(ht,ct,et,je){return et*(ht/=je)*ht+ct},easeOutQuad:function(ht,ct,et,je){return-et*(ht/=je)*(ht-2)+ct},easeInOutQuad:function(ht,ct,et,je){return(ht/=je/2)<1?et/2*ht*ht+ct:-et/2*(--ht*(ht-2)-1)+ct},easeInCubic:function(ht,ct,et,je){return et*(ht/=je)*ht*ht+ct},easeOutCubic:function N(ht,ct,et,je){return et*((ht=ht/je-1)*ht*ht+1)+ct},easeInOutCubic:function k(ht,ct,et,je){return(ht/=je/2)<1?et/2*ht*ht*ht+ct:et/2*((ht-=2)*ht*ht+2)+ct},easeInQuart:function y(ht,ct,et,je){return et*(ht/=je)*ht*ht*ht+ct},easeOutQuart:function b(ht,ct,et,je){return-et*((ht=ht/je-1)*ht*ht*ht-1)+ct},easeInOutQuart:function C(ht,ct,et,je){return(ht/=je/2)<1?et/2*ht*ht*ht*ht+ct:-et/2*((ht-=2)*ht*ht*ht-2)+ct},easeInQuint:function E(ht,ct,et,je){return et*(ht/=je)*ht*ht*ht*ht+ct},easeOutQuint:function z(ht,ct,et,je){return et*((ht=ht/je-1)*ht*ht*ht*ht+1)+ct},easeInOutQuint:function x(ht,ct,et,je){return(ht/=je/2)<1?et/2*ht*ht*ht*ht*ht+ct:et/2*((ht-=2)*ht*ht*ht*ht+2)+ct},easeInSine:function H(ht,ct,et,je){return-et*Math.cos(ht/je*(Math.PI/2))+et+ct},easeOutSine:function W(ht,ct,et,je){return et*Math.sin(ht/je*(Math.PI/2))+ct},easeInOutSine:function Z(ht,ct,et,je){return-et/2*(Math.cos(Math.PI*ht/je)-1)+ct},easeInExpo:function ee(ht,ct,et,je){return 0===ht?ct:et*Math.pow(2,10*(ht/je-1))+ct},easeOutExpo:function ae(ht,ct,et,je){return ht===je?ct+et:et*(1-Math.pow(2,-10*ht/je))+ct},easeInOutExpo:function ue(ht,ct,et,je){return 0===ht?ct:ht===je?ct+et:(ht/=je/2)<1?et/2*Math.pow(2,10*(ht-1))+ct:et/2*(2-Math.pow(2,-10*--ht))+ct},easeInCirc:function we(ht,ct,et,je){return-et*(Math.sqrt(1-(ht/=je)*ht)-1)+ct},easeOutCirc:function De(ht,ct,et,je){return et*Math.sqrt(1-(ht=ht/je-1)*ht)+ct},easeInOutCirc:function Ne(ht,ct,et,je){return(ht/=je/2)<1?-et/2*(Math.sqrt(1-ht*ht)-1)+ct:et/2*(Math.sqrt(1-(ht-=2)*ht)+1)+ct},easeInElastic:function bt(ht,ct,et,je){var Ee=0;return 0===ht?ct:1==(ht/=je)?ct+et:(Ee||(Ee=.3*je),-I(F(et,et,Ee,1.70158),ht,je)+ct)},easeOutElastic:function gt(ht,ct,et,je){var Ee=0;if(0===ht)return ct;if(1==(ht/=je))return ct+et;Ee||(Ee=.3*je);var We=F(et,et,Ee,1.70158);return We.a*Math.pow(2,-10*ht)*Math.sin((ht*je-We.s)*(2*Math.PI)/We.p)+We.c+ct},easeInOutElastic:function ei(ht,ct,et,je){var Ee=0;if(0===ht)return ct;if(2==(ht/=je/2))return ct+et;Ee||(Ee=.44999999999999996*je);var We=F(et,et,Ee,1.70158);return ht<1?-.5*I(We,ht,je)+ct:We.a*Math.pow(2,-10*(ht-=1))*Math.sin((ht*je-We.s)*(2*Math.PI)/We.p)*.5+We.c+ct},easeInBack:function ot(ht,ct,et,je,Mt){return void 0===Mt&&(Mt=1.70158),et*(ht/=je)*ht*((Mt+1)*ht-Mt)+ct},easeOutBack:function Yt(ht,ct,et,je,Mt){return void 0===Mt&&(Mt=1.70158),et*((ht=ht/je-1)*ht*((Mt+1)*ht+Mt)+1)+ct},easeInOutBack:function Le(ht,ct,et,je,Mt){return void 0===Mt&&(Mt=1.70158),(ht/=je/2)<1?et/2*(ht*ht*((1+(Mt*=1.525))*ht-Mt))+ct:et/2*((ht-=2)*ht*((1+(Mt*=1.525))*ht+Mt)+2)+ct},easeInBounce:Gi,easeOutBounce:Ft,easeInOutBounce:function Li(ht,ct,et,je){return ht<je/2?.5*Gi(2*ht,0,et,je)+ct:.5*Ft(2*ht-je,0,et,je)+.5*et+ct}}}(),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.util.object.clone,y=I.util.toFixed,b=I.util.parseUnit,C=I.util.multiplyTransformMatrices,W={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Z={stroke:"strokeOpacity",fill:"fillOpacity"},ee="font-size",ae="clip-path";function ue(Ee){return Ee in W?W[Ee]:Ee}function we(Ee,_e,We,Ze){var Tt,Ut="[object Array]"===Object.prototype.toString.call(_e);if("fill"!==Ee&&"stroke"!==Ee||"none"!==_e){if("strokeUniform"===Ee)return"non-scaling-stroke"===_e;if("strokeDashArray"===Ee)_e="none"===_e?null:_e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===Ee)_e=We&&We.transformMatrix?C(We.transformMatrix,I.parseTransformAttribute(_e)):I.parseTransformAttribute(_e);else if("visible"===Ee)_e="none"!==_e&&"hidden"!==_e,We&&!1===We.visible&&(_e=!1);else if("opacity"===Ee)_e=parseFloat(_e),We&&typeof We.opacity<"u"&&(_e*=We.opacity);else if("textAnchor"===Ee)_e="start"===_e?"left":"end"===_e?"right":"center";else if("charSpacing"===Ee)Tt=b(_e,Ze)/Ze*1e3;else if("paintFirst"===Ee){var Jt=_e.indexOf("fill"),ti=_e.indexOf("stroke");_e="fill",(Jt>-1&&ti>-1&&ti<Jt||-1===Jt&&ti>-1)&&(_e="stroke")}else{if("href"===Ee||"xlink:href"===Ee||"font"===Ee)return _e;if("imageSmoothing"===Ee)return"optimizeQuality"===_e;Tt=Ut?_e.map(b):b(_e,Ze)}}else _e="";return!Ut&&isNaN(Tt)?_e:Tt}function De(Ee){return new RegExp("^("+Ee.join("|")+")\\b","i")}function bt(Ee,_e){var Ut,Tt,Jt,Ze=[];for(Tt=0,Jt=_e.length;Tt<Jt;Tt++)Ut=Ee.getElementsByTagName(_e[Tt]),Ze=Ze.concat(Array.prototype.slice.call(Ut));return Ze}function Yt(Ee,_e){var We,Ze=!0;return(We=Gi(Ee,_e.pop()))&&_e.length&&(Ze=function Le(Ee,_e){for(var We,Ze=!0;Ee.parentNode&&1===Ee.parentNode.nodeType&&_e.length;)Ze&&(We=_e.pop()),Ze=Gi(Ee=Ee.parentNode,We);return 0===_e.length}(Ee,_e)),We&&Ze&&0===_e.length}function Gi(Ee,_e){var Tt,Jt,We=Ee.nodeName,Ze=Ee.getAttribute("class"),Ut=Ee.getAttribute("id");if(Tt=new RegExp("^"+We,"i"),_e=_e.replace(Tt,""),Ut&&_e.length&&(Tt=new RegExp("#"+Ut+"(?![a-zA-Z\\-]+)","i"),_e=_e.replace(Tt,"")),Ze&&_e.length)for(Jt=(Ze=Ze.split(" ")).length;Jt--;)Tt=new RegExp("\\."+Ze[Jt]+"(?![a-zA-Z\\-]+)","i"),_e=_e.replace(Tt,"");return 0===_e.length}function Ft(Ee,_e){var We;if(Ee.getElementById&&(We=Ee.getElementById(_e)),We)return We;var Ze,Ut,Tt,Jt=Ee.getElementsByTagName("*");for(Ut=0,Tt=Jt.length;Ut<Tt;Ut++)if(_e===(Ze=Jt[Ut]).getAttribute("id"))return Ze}I.svgValidTagNamesRegEx=De(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),I.svgViewBoxElementsRegEx=De(["symbol","image","marker","pattern","view","svg"]),I.svgInvalidAncestorsRegEx=De(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),I.svgValidParentsRegEx=De(["symbol","g","a","svg","clipPath","defs"]),I.cssRules={},I.gradientDefs={},I.clipPaths={},I.parseTransformAttribute=function(){function We(Qt,en,mn){Qt[mn]=Math.tan(I.util.degreesToRadians(en[0]))}var Ut=I.iMatrix,Tt=I.reNum,Jt=I.commaWsp,xt="(?:(?:(matrix)\\s*\\(\\s*("+Tt+")"+Jt+"("+Tt+")"+Jt+"("+Tt+")"+Jt+"("+Tt+")"+Jt+"("+Tt+")"+Jt+"("+Tt+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+Tt+")(?:"+Jt+"("+Tt+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+Tt+")(?:"+Jt+"("+Tt+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+Tt+")(?:"+Jt+"("+Tt+")"+Jt+"("+Tt+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+Tt+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+Tt+")\\s*\\)))",Zi=new RegExp("^\\s*(?:(?:"+xt+"(?:"+Jt+"*"+xt+")*)?)\\s*$"),Vi=new RegExp(xt,"g");return function(Qt){var en=Ut.concat(),mn=[];if(!Qt||Qt&&!Zi.test(Qt))return en;Qt.replace(Vi,function(Us){var is=new RegExp(xt).exec(Us).filter(function(As){return!!As}),ps=is[1],gr=is.slice(2).map(parseFloat);switch(ps){case"translate":!function Ze(Qt,en){Qt[4]=en[0],2===en.length&&(Qt[5]=en[1])}(en,gr);break;case"rotate":gr[0]=I.util.degreesToRadians(gr[0]),function Ee(Qt,en){var mn=I.util.cos(en[0]),qn=I.util.sin(en[0]),Us=0,is=0;3===en.length&&(Us=en[1],is=en[2]),Qt[0]=mn,Qt[1]=qn,Qt[2]=-qn,Qt[3]=mn,Qt[4]=Us-(mn*Us-qn*is),Qt[5]=is-(qn*Us+mn*is)}(en,gr);break;case"scale":!function _e(Qt,en){var qn=2===en.length?en[1]:en[0];Qt[0]=en[0],Qt[3]=qn}(en,gr);break;case"skewX":We(en,gr,2);break;case"skewY":We(en,gr,1);break;case"matrix":en=gr}mn.push(en.concat()),en=Ut.concat()});for(var qn=mn[0];mn.length>1;)mn.shift(),qn=I.util.multiplyTransformMatrices(qn,mn[0]);return qn}}();var ht=new RegExp("^\\s*("+I.reNum+"+)\\s*,?\\s*("+I.reNum+"+)\\s*,?\\s*("+I.reNum+"+)\\s*,?\\s*("+I.reNum+"+)\\s*$");function ct(Ee){if(!I.svgViewBoxElementsRegEx.test(Ee.nodeName))return{};var Jt,ti,Zt,ft,Ut,Tt,_e=Ee.getAttribute("viewBox"),We=1,Ze=1,it=Ee.getAttribute("width"),dt=Ee.getAttribute("height"),wt=Ee.getAttribute("x")||0,xt=Ee.getAttribute("y")||0,Vt=Ee.getAttribute("preserveAspectRatio")||"",fi=!_e||!(_e=_e.match(ht)),Zi=!it||!dt||"100%"===it||"100%"===dt,Vi=fi&&Zi,Qt={},en="",mn=0,qn=0;if(Qt.width=0,Qt.height=0,Qt.toBeParsed=Vi,fi&&(wt||xt)&&Ee.parentNode&&"#document"!==Ee.parentNode.nodeName&&(en=" translate("+b(wt)+" "+b(xt)+") ",Zt=(Ee.getAttribute("transform")||"")+en,Ee.setAttribute("transform",Zt),Ee.removeAttribute("x"),Ee.removeAttribute("y")),Vi)return Qt;if(fi)return Qt.width=b(it),Qt.height=b(dt),Qt;if(Ut=-parseFloat(_e[1]),Tt=-parseFloat(_e[2]),Jt=parseFloat(_e[3]),ti=parseFloat(_e[4]),Qt.minX=Ut,Qt.minY=Tt,Qt.viewBoxWidth=Jt,Qt.viewBoxHeight=ti,Zi?(Qt.width=Jt,Qt.height=ti):(Qt.width=b(it),Qt.height=b(dt),We=Qt.width/Jt,Ze=Qt.height/ti),"none"!==(Vt=I.util.parsePreserveAspectRatioAttribute(Vt)).alignX&&("meet"===Vt.meetOrSlice&&(Ze=We=We>Ze?Ze:We),"slice"===Vt.meetOrSlice&&(Ze=We=We>Ze?We:Ze),mn=Qt.width-Jt*We,qn=Qt.height-ti*We,"Mid"===Vt.alignX&&(mn/=2),"Mid"===Vt.alignY&&(qn/=2),"Min"===Vt.alignX&&(mn=0),"Min"===Vt.alignY&&(qn=0)),1===We&&1===Ze&&0===Ut&&0===Tt&&0===wt&&0===xt)return Qt;if((wt||xt)&&"#document"!==Ee.parentNode.nodeName&&(en=" translate("+b(wt)+" "+b(xt)+") "),Zt=en+" matrix("+We+" 0 0 "+Ze+" "+(Ut*We+mn)+" "+(Tt*Ze+qn)+") ","svg"===Ee.nodeName){for(ft=Ee.ownerDocument.createElementNS(I.svgNS,"g");Ee.firstChild;)ft.appendChild(Ee.firstChild);Ee.appendChild(ft)}else(ft=Ee).removeAttribute("x"),ft.removeAttribute("y"),Zt=ft.getAttribute("transform")+Zt;return ft.setAttribute("transform",Zt),Qt}function je(Ee,_e){var Ze="xlink:href",Tt=Ft(Ee,_e.getAttribute(Ze).substr(1));if(Tt&&Tt.getAttribute(Ze)&&je(Ee,Tt),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(ti){Tt&&!_e.hasAttribute(ti)&&Tt.hasAttribute(ti)&&_e.setAttribute(ti,Tt.getAttribute(ti))}),!_e.children.length)for(var Jt=Tt.cloneNode(!0);Jt.firstChild;)_e.appendChild(Jt.firstChild);_e.removeAttribute(Ze)}I.parseSVGDocument=function(Ee,_e,We,Ze){if(Ee){!function Li(Ee){for(var _e=bt(Ee,["use","svg:use"]),We=0;_e.length&&We<_e.length;){var Ze=_e[We],Ut=Ze.getAttribute("xlink:href")||Ze.getAttribute("href");if(null===Ut)return;var wt,xt,Vt,fi,Tt=Ut.substr(1),Jt=Ze.getAttribute("x")||0,ti=Ze.getAttribute("y")||0,Zt=Ft(Ee,Tt).cloneNode(!0),ft=(Zt.getAttribute("transform")||"")+" translate("+Jt+", "+ti+")",dt=_e.length,Zi=I.svgNS;if(ct(Zt),/^svg$/i.test(Zt.nodeName)){var Vi=Zt.ownerDocument.createElementNS(Zi,"g");for(xt=0,fi=(Vt=Zt.attributes).length;xt<fi;xt++)wt=Vt.item(xt),Vi.setAttributeNS(Zi,wt.nodeName,wt.nodeValue);for(;Zt.firstChild;)Vi.appendChild(Zt.firstChild);Zt=Vi}for(xt=0,fi=(Vt=Ze.attributes).length;xt<fi;xt++)"x"!==(wt=Vt.item(xt)).nodeName&&"y"!==wt.nodeName&&"xlink:href"!==wt.nodeName&&"href"!==wt.nodeName&&("transform"===wt.nodeName?ft=wt.nodeValue+" "+ft:Zt.setAttribute(wt.nodeName,wt.nodeValue));Zt.setAttribute("transform",ft),Zt.setAttribute("instantiated_by_use","1"),Zt.removeAttribute("id"),Ze.parentNode.replaceChild(Zt,Ze),_e.length===dt&&We++}}(Ee);var Tt,Jt,Ut=I.Object.__uid++,ti=ct(Ee),Zt=I.util.toArray(Ee.getElementsByTagName("*"));if(ti.crossOrigin=Ze&&Ze.crossOrigin,ti.svgUid=Ut,0===Zt.length&&I.isLikelyNode){var ft=[];for(Tt=0,Jt=(Zt=Ee.selectNodes('//*[name(.)!="svg"]')).length;Tt<Jt;Tt++)ft[Tt]=Zt[Tt];Zt=ft}var it=Zt.filter(function(wt){return ct(wt),I.svgValidTagNamesRegEx.test(wt.nodeName.replace("svg:",""))&&!function et(Ee,_e){for(;Ee&&(Ee=Ee.parentNode);)if(Ee.nodeName&&_e.test(Ee.nodeName.replace("svg:",""))&&!Ee.getAttribute("instantiated_by_use"))return!0;return!1}(wt,I.svgInvalidAncestorsRegEx)});if(!it||it&&!it.length)return void(_e&&_e([],{}));var dt={};Zt.filter(function(wt){return"clipPath"===wt.nodeName.replace("svg:","")}).forEach(function(wt){var xt=wt.getAttribute("id");dt[xt]=I.util.toArray(wt.getElementsByTagName("*")).filter(function(Vt){return I.svgValidTagNamesRegEx.test(Vt.nodeName.replace("svg:",""))})}),I.gradientDefs[Ut]=I.getGradientDefs(Ee),I.cssRules[Ut]=I.getCSSRules(Ee),I.clipPaths[Ut]=dt,I.parseElements(it,function(wt,xt){_e&&(_e(wt,ti,xt,Zt),delete I.gradientDefs[Ut],delete I.cssRules[Ut],delete I.clipPaths[Ut])},k(ti),We,Ze)}};var Mt=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+I.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+I.reNum+"))?\\s+(.*)");N(I,{parseFontDeclaration:function(Ee,_e){var We=Ee.match(Mt);if(We){var Ze=We[1],Ut=We[3],Tt=We[4],Jt=We[5],ti=We[6];Ze&&(_e.fontStyle=Ze),Ut&&(_e.fontWeight=isNaN(parseFloat(Ut))?Ut:parseFloat(Ut)),Tt&&(_e.fontSize=b(Tt)),ti&&(_e.fontFamily=ti),Jt&&(_e.lineHeight="normal"===Jt?1:Jt)}},getGradientDefs:function(Ee){var Ze,We=bt(Ee,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),Ut=0,Tt={};for(Ut=We.length;Ut--;)(Ze=We[Ut]).getAttribute("xlink:href")&&je(Ee,Ze),Tt[Ze.getAttribute("id")]=Ze;return Tt},parseAttributes:function(Ee,_e,We){if(Ee){var Ze,Tt,Jt,Ut={};typeof We>"u"&&(We=Ee.getAttribute("svgUid")),Ee.parentNode&&I.svgValidParentsRegEx.test(Ee.parentNode.nodeName)&&(Ut=I.parseAttributes(Ee.parentNode,_e,We));var ti=_e.reduce(function(Vt,fi){return(Ze=Ee.getAttribute(fi))&&(Vt[fi]=Ze),Vt},{}),Zt=N(function ot(Ee,_e){var We={};for(var Ze in I.cssRules[_e])if(Yt(Ee,Ze.split(" ")))for(var Ut in I.cssRules[_e][Ze])We[Ut]=I.cssRules[_e][Ze][Ut];return We}(Ee,We),I.parseStyleAttribute(Ee));ti=N(ti,Zt),Zt[ae]&&Ee.setAttribute(ae,Zt[ae]),Tt=Jt=Ut.fontSize||I.Text.DEFAULT_SVG_FONT_SIZE,ti[ee]&&(ti[ee]=Tt=b(ti[ee],Jt));var ft,it,dt={};for(var wt in ti)it=we(ft=ue(wt),ti[wt],Ut,Tt),dt[ft]=it;dt&&dt.font&&I.parseFontDeclaration(dt.font,dt);var xt=N(Ut,dt);return I.svgValidParentsRegEx.test(Ee.nodeName)?xt:function Ne(Ee){for(var _e in Z)if(!(typeof Ee[Z[_e]]>"u"||""===Ee[_e])){if(typeof Ee[_e]>"u"){if(!I.Object.prototype[_e])continue;Ee[_e]=I.Object.prototype[_e]}if(0!==Ee[_e].indexOf("url(")){var We=new I.Color(Ee[_e]);Ee[_e]=We.setAlpha(y(We.getAlpha()*Ee[Z[_e]],2)).toRgba()}}return Ee}(xt)}},parseElements:function(Ee,_e,We,Ze,Ut){new I.ElementsParser(Ee,_e,We,Ze,Ut).parse()},parseStyleAttribute:function(Ee){var _e={},We=Ee.getAttribute("style");return We&&("string"==typeof We?function gt(Ee,_e){var We,Ze;Ee.replace(/;\s*$/,"").split(";").forEach(function(Ut){var Tt=Ut.split(":");We=Tt[0].trim().toLowerCase(),Ze=Tt[1].trim(),_e[We]=Ze})}(We,_e):function ei(Ee,_e){for(var Ut in Ee)typeof Ee[Ut]>"u"||(_e[Ut.toLowerCase()]=Ee[Ut])}(We,_e)),_e},parsePointsAttribute:function(Ee){if(!Ee)return null;var We,Ze,_e=[];for(We=0,Ze=(Ee=(Ee=Ee.replace(/,/g," ").trim()).split(/\s+/)).length;We<Ze;We+=2)_e.push({x:parseFloat(Ee[We]),y:parseFloat(Ee[We+1])});return _e},getCSSRules:function(Ee){var We,Ze,_e=Ee.getElementsByTagName("style"),Ut={};for(We=0,Ze=_e.length;We<Ze;We++){var Jt=_e[We].textContent;""!==(Jt=Jt.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&Jt.match(/[^{]*\{[\s\S]*?\}/g).map(function(ti){return ti.trim()}).forEach(function(ti){var Zt=ti.match(/([\s\S]*?)\s*\{([^}]*)\}/),ft={},dt=Zt[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(We=0,Ze=dt.length;We<Ze;We++){var wt=dt[We].split(/\s*:\s*/);ft[wt[0]]=wt[1]}(ti=Zt[1]).split(",").forEach(function(fi){""!==(fi=fi.replace(/^svg/i,"").trim())&&(Ut[fi]?I.util.object.extend(Ut[fi],ft):Ut[fi]=I.util.object.clone(ft))})})}return Ut},loadSVGFromURL:function(Ee,_e,We,Ze){Ee=Ee.replace(/^\n\s*/,"").trim(),new I.util.request(Ee,{method:"get",onComplete:function Ut(Tt){var Jt=Tt.responseXML;if(!Jt||!Jt.documentElement)return _e&&_e(null),!1;I.parseSVGDocument(Jt.documentElement,function(ti,Zt,ft,it){_e&&_e(ti,Zt,ft,it)},We,Ze)}})},loadSVGFromString:function(Ee,_e,We,Ze){var Tt=(new I.window.DOMParser).parseFromString(Ee.trim(),"text/xml");I.parseSVGDocument(Tt.documentElement,function(Jt,ti,Zt,ft){_e(Jt,ti,Zt,ft)},We,Ze)}})}(le),_.ElementsParser=function(F,I,N,k,y,b){this.elements=F,this.callback=I,this.options=N,this.reviver=k,this.svgUid=N&&N.svgUid||0,this.parsingOptions=y,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=b},function(F){F.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},F.createObjects=function(){var I=this;this.elements.forEach(function(N,k){N.setAttribute("svgUid",I.svgUid),I.createObject(N,k)})},F.findTag=function(I){return _[_.util.string.capitalize(I.tagName.replace("svg:",""))]},F.createObject=function(I,N){var k=this.findTag(I);if(k&&k.fromElement)try{k.fromElement(I,this.createCallback(N,I),this.options)}catch(y){_.log(y)}else this.checkIfDone()},F.createCallback=function(I,N){var k=this;return function(y){var b;k.resolveGradient(y,N,"fill"),k.resolveGradient(y,N,"stroke"),y instanceof _.Image&&y._originalElement&&(b=y.parsePreserveAspectRatioAttribute(N)),y._removeTransformMatrix(b),k.resolveClipPath(y,N),k.reviver&&k.reviver(N,y),k.instances[I]=y,k.checkIfDone()}},F.extractPropertyDefinition=function(I,N,k){var y=I[N],b=this.regexUrl;if(b.test(y)){b.lastIndex=0;var C=b.exec(y)[1];return b.lastIndex=0,_[k][this.svgUid][C]}},F.resolveGradient=function(I,N,k){var y=this.extractPropertyDefinition(I,k,"gradientDefs");if(y){var b=N.getAttribute(k+"-opacity"),C=_.Gradient.fromElement(y,I,b,this.options);I.set(k,C)}},F.createClipPathCallback=function(I,N){return function(k){k._removeTransformMatrix(),k.fillRule=k.clipRule,N.push(k)}},F.resolveClipPath=function(I,N){var y,C,E,z,k=this.extractPropertyDefinition(I,"clipPath","clipPaths");if(k){E=[],C=_.util.invertTransform(I.calcTransformMatrix());for(var H=k[0].parentNode,W=N;W.parentNode&&W.getAttribute("clip-path")!==I.clipPath;)W=W.parentNode;W.parentNode.appendChild(H);for(var Z=0;Z<k.length;Z++)this.findTag(y=k[Z]).fromElement(y,this.createClipPathCallback(I,E),this.options);k=1===E.length?E[0]:new _.Group(E),z=_.util.multiplyTransformMatrices(C,k.calcTransformMatrix()),k.clipPath&&this.resolveClipPath(k,W);var x=_.util.qrDecompose(z);k.flipX=!1,k.flipY=!1,k.set("scaleX",x.scaleX),k.set("scaleY",x.scaleY),k.angle=x.angle,k.skewX=x.skewX,k.skewY=0,k.setPositionByOrigin({x:x.translateX,y:x.translateY},"center","center"),I.clipPath=k}else delete I.clipPath},F.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(I){return null!=I}),this.callback(this.instances,this.elements))}}(_.ElementsParser.prototype),function(F){"use strict";var I=F.fabric||(F.fabric={});function N(k,y){this.x=k,this.y=y}I.Point?I.warn("fabric.Point is already defined"):(I.Point=N,N.prototype={type:"point",constructor:N,add:function(k){return new N(this.x+k.x,this.y+k.y)},addEquals:function(k){return this.x+=k.x,this.y+=k.y,this},scalarAdd:function(k){return new N(this.x+k,this.y+k)},scalarAddEquals:function(k){return this.x+=k,this.y+=k,this},subtract:function(k){return new N(this.x-k.x,this.y-k.y)},subtractEquals:function(k){return this.x-=k.x,this.y-=k.y,this},scalarSubtract:function(k){return new N(this.x-k,this.y-k)},scalarSubtractEquals:function(k){return this.x-=k,this.y-=k,this},multiply:function(k){return new N(this.x*k,this.y*k)},multiplyEquals:function(k){return this.x*=k,this.y*=k,this},divide:function(k){return new N(this.x/k,this.y/k)},divideEquals:function(k){return this.x/=k,this.y/=k,this},eq:function(k){return this.x===k.x&&this.y===k.y},lt:function(k){return this.x<k.x&&this.y<k.y},lte:function(k){return this.x<=k.x&&this.y<=k.y},gt:function(k){return this.x>k.x&&this.y>k.y},gte:function(k){return this.x>=k.x&&this.y>=k.y},lerp:function(k,y){return typeof y>"u"&&(y=.5),y=Math.max(Math.min(1,y),0),new N(this.x+(k.x-this.x)*y,this.y+(k.y-this.y)*y)},distanceFrom:function(k){var y=this.x-k.x,b=this.y-k.y;return Math.sqrt(y*y+b*b)},midPointFrom:function(k){return this.lerp(k)},min:function(k){return new N(Math.min(this.x,k.x),Math.min(this.y,k.y))},max:function(k){return new N(Math.max(this.x,k.x),Math.max(this.y,k.y))},toString:function(){return this.x+","+this.y},setXY:function(k,y){return this.x=k,this.y=y,this},setX:function(k){return this.x=k,this},setY:function(k){return this.y=k,this},setFromPoint:function(k){return this.x=k.x,this.y=k.y,this},swap:function(k){var y=this.x,b=this.y;this.x=k.x,this.y=k.y,k.x=y,k.y=b},clone:function(){return new N(this.x,this.y)}})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});function N(k){this.status=k,this.points=[]}I.Intersection?I.warn("fabric.Intersection is already defined"):(I.Intersection=N,I.Intersection.prototype={constructor:N,appendPoint:function(k){return this.points.push(k),this},appendPoints:function(k){return this.points=this.points.concat(k),this}},I.Intersection.intersectLineLine=function(k,y,b,C){var E,z=(C.x-b.x)*(k.y-b.y)-(C.y-b.y)*(k.x-b.x),x=(y.x-k.x)*(k.y-b.y)-(y.y-k.y)*(k.x-b.x),H=(C.y-b.y)*(y.x-k.x)-(C.x-b.x)*(y.y-k.y);if(0!==H){var W=z/H,Z=x/H;0<=W&&W<=1&&0<=Z&&Z<=1?(E=new N("Intersection")).appendPoint(new I.Point(k.x+W*(y.x-k.x),k.y+W*(y.y-k.y))):E=new N}else E=new N(0===z||0===x?"Coincident":"Parallel");return E},I.Intersection.intersectLinePolygon=function(k,y,b){var H,W,C=new N,E=b.length;for(W=0;W<E;W++)H=N.intersectLineLine(k,y,b[W],b[(W+1)%E]),C.appendPoints(H.points);return C.points.length>0&&(C.status="Intersection"),C},I.Intersection.intersectPolygonPolygon=function(k,y){var E,b=new N,C=k.length;for(E=0;E<C;E++){var H=N.intersectLinePolygon(k[E],k[(E+1)%C],y);b.appendPoints(H.points)}return b.points.length>0&&(b.status="Intersection"),b},I.Intersection.intersectPolygonRectangle=function(k,y,b){var C=y.min(b),E=y.max(b),z=new I.Point(E.x,C.y),x=new I.Point(C.x,E.y),H=N.intersectLinePolygon(C,z,k),W=N.intersectLinePolygon(z,E,k),Z=N.intersectLinePolygon(E,x,k),ee=N.intersectLinePolygon(x,C,k),ae=new N;return ae.appendPoints(H.points),ae.appendPoints(W.points),ae.appendPoints(Z.points),ae.appendPoints(ee.points),ae.points.length>0&&(ae.status="Intersection"),ae})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});function N(y){y?this._tryParsingColor(y):this.setSource([0,0,0,1])}function k(y,b,C){return C<0&&(C+=1),C>1&&(C-=1),C<.16666666666666666?y+6*(b-y)*C:C<.5?b:C<.6666666666666666?y+(b-y)*(.6666666666666666-C)*6:y}I.Color?I.warn("fabric.Color is already defined."):(I.Color=N,I.Color.prototype={_tryParsingColor:function(y){var b;y in N.colorNameMap&&(y=N.colorNameMap[y]),"transparent"===y&&(b=[255,255,255,0]),b||(b=N.sourceFromHex(y)),b||(b=N.sourceFromRgb(y)),b||(b=N.sourceFromHsl(y)),b||(b=[0,0,0,1]),b&&this.setSource(b)},_rgbToHsl:function(y,b,C){var E,z,x,H=I.util.array.max([y/=255,b/=255,C/=255]),W=I.util.array.min([y,b,C]);if(x=(H+W)/2,H===W)E=z=0;else{var Z=H-W;switch(z=x>.5?Z/(2-H-W):Z/(H+W),H){case y:E=(b-C)/Z+(b<C?6:0);break;case b:E=(C-y)/Z+2;break;case C:E=(y-b)/Z+4}E/=6}return[Math.round(360*E),Math.round(100*z),Math.round(100*x)]},getSource:function(){return this._source},setSource:function(y){this._source=y},toRgb:function(){var y=this.getSource();return"rgb("+y[0]+","+y[1]+","+y[2]+")"},toRgba:function(){var y=this.getSource();return"rgba("+y[0]+","+y[1]+","+y[2]+","+y[3]+")"},toHsl:function(){var y=this.getSource(),b=this._rgbToHsl(y[0],y[1],y[2]);return"hsl("+b[0]+","+b[1]+"%,"+b[2]+"%)"},toHsla:function(){var y=this.getSource(),b=this._rgbToHsl(y[0],y[1],y[2]);return"hsla("+b[0]+","+b[1]+"%,"+b[2]+"%,"+y[3]+")"},toHex:function(){var b,C,E,y=this.getSource();return b=1===(b=y[0].toString(16)).length?"0"+b:b,C=1===(C=y[1].toString(16)).length?"0"+C:C,E=1===(E=y[2].toString(16)).length?"0"+E:E,b.toUpperCase()+C.toUpperCase()+E.toUpperCase()},toHexa:function(){var b,y=this.getSource();return b=1===(b=(b=Math.round(255*y[3])).toString(16)).length?"0"+b:b,this.toHex()+b.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(y){var b=this.getSource();return b[3]=y,this.setSource(b),this},toGrayscale:function(){var y=this.getSource(),b=parseInt((.3*y[0]+.59*y[1]+.11*y[2]).toFixed(0),10);return this.setSource([b,b,b,y[3]]),this},toBlackWhite:function(y){var b=this.getSource(),C=(.3*b[0]+.59*b[1]+.11*b[2]).toFixed(0),E=b[3];return y=y||127,C=Number(C)<Number(y)?0:255,this.setSource([C,C,C,E]),this},overlayWith:function(y){y instanceof N||(y=new N(y));var H,b=[],C=this.getAlpha(),z=this.getSource(),x=y.getSource();for(H=0;H<3;H++)b.push(Math.round(.5*z[H]+.5*x[H]));return b[3]=C,this.setSource(b),this}},I.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,I.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,I.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,I.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},I.Color.fromRgb=function(y){return N.fromSource(N.sourceFromRgb(y))},I.Color.sourceFromRgb=function(y){var b=y.match(N.reRGBa);if(b){var C=parseInt(b[1],10)/(/%$/.test(b[1])?100:1)*(/%$/.test(b[1])?255:1),E=parseInt(b[2],10)/(/%$/.test(b[2])?100:1)*(/%$/.test(b[2])?255:1),z=parseInt(b[3],10)/(/%$/.test(b[3])?100:1)*(/%$/.test(b[3])?255:1);return[parseInt(C,10),parseInt(E,10),parseInt(z,10),b[4]?parseFloat(b[4]):1]}},I.Color.fromRgba=N.fromRgb,I.Color.fromHsl=function(y){return N.fromSource(N.sourceFromHsl(y))},I.Color.sourceFromHsl=function(y){var b=y.match(N.reHSLa);if(b){var x,H,W,C=(parseFloat(b[1])%360+360)%360/360,E=parseFloat(b[2])/(/%$/.test(b[2])?100:1),z=parseFloat(b[3])/(/%$/.test(b[3])?100:1);if(0===E)x=H=W=z;else{var Z=z<=.5?z*(E+1):z+E-z*E,ee=2*z-Z;x=k(ee,Z,C+.3333333333333333),H=k(ee,Z,C),W=k(ee,Z,C-.3333333333333333)}return[Math.round(255*x),Math.round(255*H),Math.round(255*W),b[4]?parseFloat(b[4]):1]}},I.Color.fromHsla=N.fromHsl,I.Color.fromHex=function(y){return N.fromSource(N.sourceFromHex(y))},I.Color.sourceFromHex=function(y){if(y.match(N.reHex)){var b=y.slice(y.indexOf("#")+1),C=3===b.length||4===b.length,E=8===b.length||4===b.length,z=C?b.charAt(0)+b.charAt(0):b.substring(0,2),x=C?b.charAt(1)+b.charAt(1):b.substring(2,4),H=C?b.charAt(2)+b.charAt(2):b.substring(4,6),W=E?C?b.charAt(3)+b.charAt(3):b.substring(6,8):"FF";return[parseInt(z,16),parseInt(x,16),parseInt(H,16),parseFloat((parseInt(W,16)/255).toFixed(2))]}},I.Color.fromSource=function(y){var b=new N;return b.setSource(y),b})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=["e","se","s","sw","w","nw","n","ne","e"],k=["ns","nesw","ew","nwse"],y={},b="left",C="top",E="right",z="bottom",x="center",H={top:z,bottom:C,left:E,right:b,center:x},W=I.util.radiansToDegrees,Z=Math.sign||function(ft){return(ft>0)-(ft<0)||+ft};function ee(ft,it){var dt=ft.angle+W(Math.atan2(it.y,it.x))+360;return Math.round(dt%360/45)}function ae(ft,it){var dt=it.transform.target,wt=dt.canvas,xt=I.util.object.clone(it);xt.target=dt,wt&&wt.fire("object:"+ft,xt),dt.fire(ft,it)}function ue(ft,it){var dt=it.canvas,xt=ft[dt.uniScaleKey];return dt.uniformScaling&&!xt||!dt.uniformScaling&&xt}function we(ft){return ft.originX===x&&ft.originY===x}function De(ft,it,dt){var wt=ft.lockScalingX,xt=ft.lockScalingY;return!!(wt&&xt||!it&&(wt||xt)&&dt||wt&&"x"===it||xt&&"y"===it)}function Yt(ft,it,dt,wt){return{e:ft,transform:it,pointer:{x:dt,y:wt}}}function Le(ft){return function(it,dt,wt,xt){var Vt=dt.target,fi=Vt.getCenterPoint(),Zi=Vt.translateToOriginPoint(fi,dt.originX,dt.originY),Vi=ft(it,dt,wt,xt);return Vt.setPositionByOrigin(Zi,dt.originX,dt.originY),Vi}}function Gi(ft,it){return function(dt,wt,xt,Vt){var fi=it(dt,wt,xt,Vt);return fi&&ae(ft,Yt(dt,wt,xt,Vt)),fi}}function Ft(ft,it,dt,wt,xt){var Vt=ft.target,fi=Vt.controls[ft.corner],Zi=Vt.canvas.getZoom(),Vi=Vt.padding/Zi,Qt=Vt.toLocalPoint(new I.Point(wt,xt),it,dt);return Qt.x>=Vi&&(Qt.x-=Vi),Qt.x<=-Vi&&(Qt.x+=Vi),Qt.y>=Vi&&(Qt.y-=Vi),Qt.y<=Vi&&(Qt.y+=Vi),Qt.x-=fi.offsetX,Qt.y-=fi.offsetY,Qt}function Li(ft){return ft.flipX!==ft.flipY}function ht(ft,it,dt,wt,xt){if(0!==ft[it]){var Vt=ft._getTransformedDimensions()[wt];ft.set(dt,xt/Vt*ft[dt])}}function ct(ft,it,dt,wt){var Qt,xt=it.target,Vt=xt._getTransformedDimensions(0,xt.skewY),fi=Ft(it,it.originX,it.originY,dt,wt),Zi=Math.abs(2*fi.x)-Vt.x,Vi=xt.skewX;Zi<2?Qt=0:(Qt=W(Math.atan2(Zi/xt.scaleX,Vt.y/xt.scaleY)),it.originX===b&&it.originY===z&&(Qt=-Qt),it.originX===E&&it.originY===C&&(Qt=-Qt),Li(xt)&&(Qt=-Qt));var en=Vi!==Qt;if(en){var mn=xt._getTransformedDimensions().y;xt.set("skewX",Qt),ht(xt,"skewY","scaleY","y",mn)}return en}function et(ft,it,dt,wt){var Qt,xt=it.target,Vt=xt._getTransformedDimensions(xt.skewX,0),fi=Ft(it,it.originX,it.originY,dt,wt),Zi=Math.abs(2*fi.y)-Vt.y,Vi=xt.skewY;Zi<2?Qt=0:(Qt=W(Math.atan2(Zi/xt.scaleY,Vt.x/xt.scaleX)),it.originX===b&&it.originY===z&&(Qt=-Qt),it.originX===E&&it.originY===C&&(Qt=-Qt),Li(xt)&&(Qt=-Qt));var en=Vi!==Qt;if(en){var mn=xt._getTransformedDimensions().x;xt.set("skewY",Qt),ht(xt,"skewX","scaleX","x",mn)}return en}function _e(ft,it,dt,wt,xt){var Qt,en,mn,qn,ps,gr,Vt=it.target,fi=Vt.lockScalingX,Zi=Vt.lockScalingY,Vi=(xt=xt||{}).by,Us=ue(ft,Vt),is=De(Vt,Vi,Us),As=it.gestureScale;if(is)return!1;if(As)en=it.scaleX*As,mn=it.scaleY*As;else{if(Qt=Ft(it,it.originX,it.originY,dt,wt),ps="y"!==Vi?Z(Qt.x):1,gr="x"!==Vi?Z(Qt.y):1,it.signX||(it.signX=ps),it.signY||(it.signY=gr),Vt.lockScalingFlip&&(it.signX!==ps||it.signY!==gr))return!1;if(qn=Vt._getTransformedDimensions(),Us&&!Vi){var Eo=Math.abs(Qt.x)+Math.abs(Qt.y),Ia=it.original,di=Eo/(Math.abs(qn.x*Ia.scaleX/Vt.scaleX)+Math.abs(qn.y*Ia.scaleY/Vt.scaleY));en=Ia.scaleX*di,mn=Ia.scaleY*di}else en=Math.abs(Qt.x*Vt.scaleX/qn.x),mn=Math.abs(Qt.y*Vt.scaleY/qn.y);we(it)&&(en*=2,mn*=2),it.signX!==ps&&"y"!==Vi&&(it.originX=H[it.originX],en*=-1,it.signX=ps),it.signY!==gr&&"x"!==Vi&&(it.originY=H[it.originY],mn*=-1,it.signY=gr)}var Ui=Vt.scaleX,Ji=Vt.scaleY;return Vi?("x"===Vi&&Vt.set("scaleX",en),"y"===Vi&&Vt.set("scaleY",mn)):(!fi&&Vt.set("scaleX",en),!Zi&&Vt.set("scaleY",mn)),Ui!==Vt.scaleX||Ji!==Vt.scaleY}y.scaleCursorStyleHandler=function Ne(ft,it,dt){var xt=ue(ft,dt),Vt="";if(0!==it.x&&0===it.y?Vt="x":0===it.x&&0!==it.y&&(Vt="y"),De(dt,Vt,xt))return"not-allowed";var fi=ee(dt,it);return N[fi]+"-resize"},y.skewCursorStyleHandler=function bt(ft,it,dt){if(0!==it.x&&dt.lockSkewingY||0!==it.y&&dt.lockSkewingX)return"not-allowed";var xt=ee(dt,it)%4;return k[xt]+"-resize"},y.scaleSkewCursorStyleHandler=function gt(ft,it,dt){return ft[dt.canvas.altActionKey]?y.skewCursorStyleHandler(ft,it,dt):y.scaleCursorStyleHandler(ft,it,dt)},y.rotationWithSnapping=Gi("rotating",Le(function Ee(ft,it,dt,wt){var xt=it,Vt=xt.target,fi=Vt.translateToOriginPoint(Vt.getCenterPoint(),xt.originX,xt.originY);if(Vt.lockRotation)return!1;var en,Zi=Math.atan2(xt.ey-fi.y,xt.ex-fi.x),Vi=Math.atan2(wt-fi.y,dt-fi.x),Qt=W(Vi-Zi+xt.theta);if(Vt.snapAngle>0){var mn=Vt.snapAngle,qn=Vt.snapThreshold||mn,Us=Math.ceil(Qt/mn)*mn,is=Math.floor(Qt/mn)*mn;Math.abs(Qt-is)<qn?Qt=is:Math.abs(Qt-Us)<qn&&(Qt=Us)}return Qt<0&&(Qt=360+Qt),en=Vt.angle!==(Qt%=360),Vt.angle=Qt,en})),y.scalingEqually=Gi("scaling",Le(function We(ft,it,dt,wt){return _e(ft,it,dt,wt)})),y.scalingX=Gi("scaling",Le(function Ze(ft,it,dt,wt){return _e(ft,it,dt,wt,{by:"x"})})),y.scalingY=Gi("scaling",Le(function Ut(ft,it,dt,wt){return _e(ft,it,dt,wt,{by:"y"})})),y.scalingYOrSkewingX=function Tt(ft,it,dt,wt){return ft[it.target.canvas.altActionKey]?y.skewHandlerX(ft,it,dt,wt):y.scalingY(ft,it,dt,wt)},y.scalingXOrSkewingY=function Jt(ft,it,dt,wt){return ft[it.target.canvas.altActionKey]?y.skewHandlerY(ft,it,dt,wt):y.scalingX(ft,it,dt,wt)},y.changeWidth=Gi("resizing",Le(function ti(ft,it,dt,wt){var xt=it.target,Vt=Ft(it,it.originX,it.originY,dt,wt),fi=xt.strokeWidth/(xt.strokeUniform?xt.scaleX:1),Zi=we(it)?2:1,Vi=xt.width,Qt=Math.abs(Vt.x*Zi/xt.scaleX)-fi;return xt.set("width",Math.max(Qt,0)),Vi!==Qt})),y.skewHandlerX=function je(ft,it,dt,wt){var fi,xt=it.target,Vt=xt.skewX,Zi=it.originY;return!xt.lockSkewingX&&(0===Vt?fi=Ft(it,x,x,dt,wt).x>0?b:E:(Vt>0&&(fi=Zi===C?b:E),Vt<0&&(fi=Zi===C?E:b),Li(xt)&&(fi=fi===b?E:b)),it.originX=fi,Gi("skewing",Le(ct))(ft,it,dt,wt))},y.skewHandlerY=function Mt(ft,it,dt,wt){var fi,xt=it.target,Vt=xt.skewY,Zi=it.originX;return!xt.lockSkewingY&&(0===Vt?fi=Ft(it,x,x,dt,wt).y>0?C:z:(Vt>0&&(fi=Zi===b?C:z),Vt<0&&(fi=Zi===b?z:C),Li(xt)&&(fi=fi===C?z:C)),it.originY=fi,Gi("skewing",Le(et))(ft,it,dt,wt))},y.dragHandler=function Zt(ft,it,dt,wt){var xt=it.target,Vt=dt-it.offsetX,fi=wt-it.offsetY,Zi=!xt.get("lockMovementX")&&xt.left!==Vt,Vi=!xt.get("lockMovementY")&&xt.top!==fi;return Zi&&xt.set("left",Vt),Vi&&xt.set("top",fi),(Zi||Vi)&&ae("moving",Yt(ft,it,dt,wt)),Zi||Vi},y.scaleOrSkewActionName=function ei(ft,it,dt){var wt=ft[dt.canvas.altActionKey];return 0===it.x?wt?"skewX":"scaleY":0===it.y?wt?"skewY":"scaleX":void 0},y.rotationStyleHandler=function ot(ft,it,dt){return dt.lockRotation?"not-allowed":it.cursorStyle},y.fireEvent=ae,y.wrapWithFixedAnchor=Le,y.wrapWithFireEvent=Gi,y.getLocalPoint=Ft,I.controlsUtils=y}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.degreesToRadians,k=I.controlsUtils;k.renderCircleControl=function y(C,E,z,x,H){x=x||{};var Ne,W=this.sizeX||x.cornerSize||H.cornerSize,Z=this.sizeY||x.cornerSize||H.cornerSize,ee=typeof x.transparentCorners<"u"?x.transparentCorners:H.transparentCorners,ae=ee?"stroke":"fill",ue=!ee&&(x.cornerStrokeColor||H.cornerStrokeColor),we=E,De=z;C.save(),C.fillStyle=x.cornerColor||H.cornerColor,C.strokeStyle=x.cornerStrokeColor||H.cornerStrokeColor,W>Z?(Ne=W,C.scale(1,Z/W),De=z*W/Z):Z>W?(Ne=Z,C.scale(W/Z,1),we=E*Z/W):Ne=W,C.lineWidth=1,C.beginPath(),C.arc(we,De,Ne/2,0,2*Math.PI,!1),C[ae](),ue&&C.stroke(),C.restore()},k.renderSquareControl=function b(C,E,z,x,H){x=x||{};var W=this.sizeX||x.cornerSize||H.cornerSize,Z=this.sizeY||x.cornerSize||H.cornerSize,ee=typeof x.transparentCorners<"u"?x.transparentCorners:H.transparentCorners,ae=ee?"stroke":"fill",ue=!ee&&(x.cornerStrokeColor||H.cornerStrokeColor),we=W/2,De=Z/2;C.save(),C.fillStyle=x.cornerColor||H.cornerColor,C.strokeStyle=x.cornerStrokeColor||H.cornerStrokeColor,C.lineWidth=1,C.translate(E,z),C.rotate(N(H.angle)),C[ae+"Rect"](-we,-De,W,Z),ue&&C.strokeRect(-we,-De,W,Z),C.restore()}}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});I.Control=function N(k){for(var y in k)this[y]=k[y]},I.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(k,y){return y.cursorStyle},getActionName:function(k,y){return y.actionName},getVisibility:function(k,y){var b=k._controlsVisibility;return b&&typeof b[y]<"u"?b[y]:this.visible},setVisibility:function(k){this.visible=k},positionHandler:function(k,y){return I.util.transformPoint({x:this.x*k.x+this.offsetX,y:this.y*k.y+this.offsetY},y)},calcCornerCoords:function(k,y,b,C,E){var z,x,H,W,Z=E?this.touchSizeX:this.sizeX,ee=E?this.touchSizeY:this.sizeY;if(Z&&ee&&Z!==ee){var ae=Math.atan2(ee,Z),ue=Math.sqrt(Z*Z+ee*ee)/2,we=ae-I.util.degreesToRadians(k),De=Math.PI/2-ae-I.util.degreesToRadians(k);z=ue*I.util.cos(we),x=ue*I.util.sin(we),H=ue*I.util.cos(De),W=ue*I.util.sin(De)}else ue=.7071067812*(Z&&ee?Z:y),we=I.util.degreesToRadians(45-k),z=H=ue*I.util.cos(we),x=W=ue*I.util.sin(we);return{tl:{x:b-W,y:C-H},tr:{x:b+z,y:C-x},bl:{x:b-z,y:C+x},br:{x:b+W,y:C+H}}},render:function(k,y,b,C,E){"circle"===((C=C||{}).cornerStyle||E.cornerStyle)?I.controlsUtils.renderCircleControl.call(this,k,y,b,C,E):I.controlsUtils.renderSquareControl.call(this,k,y,b,C,E)}}}(le),function(){function F(b,C){var x,H,W,Z,E=b.getAttribute("style"),z=b.getAttribute("offset")||0;if(z=(z=parseFloat(z)/(/%$/.test(z)?100:1))<0?0:z>1?1:z,E){var ee=E.split(/\s*;\s*/);for(""===ee[ee.length-1]&&ee.pop(),Z=ee.length;Z--;){var ae=ee[Z].split(/\s*:\s*/),ue=ae[0].trim(),we=ae[1].trim();"stop-color"===ue?x=we:"stop-opacity"===ue&&(W=we)}}return x||(x=b.getAttribute("stop-color")||"rgb(0,0,0)"),W||(W=b.getAttribute("stop-opacity")),H=(x=new _.Color(x)).getAlpha(),W=isNaN(parseFloat(W))?1:parseFloat(W),W*=H*C,{offset:z,color:x.toRgb(),opacity:W}}var k=_.util.object.clone;_.Gradient=_.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(b){b||(b={}),b.coords||(b.coords={});var C,E=this;Object.keys(b).forEach(function(z){E[z]=b[z]}),this.id?this.id+="_"+_.Object.__uid++:this.id=_.Object.__uid++,C={x1:b.coords.x1||0,y1:b.coords.y1||0,x2:b.coords.x2||0,y2:b.coords.y2||0},"radial"===this.type&&(C.r1=b.coords.r1||0,C.r2=b.coords.r2||0),this.coords=C,this.colorStops=b.colorStops.slice()},addColorStop:function(b){for(var C in b){var E=new _.Color(b[C]);this.colorStops.push({offset:parseFloat(C),color:E.toRgb(),opacity:E.getAlpha()})}return this},toObject:function(b){var C={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return _.util.populateWithProperties(this,C,b),C},toSVG:function(b,H){var z,x,W,Z,E=k(this.coords,!0),ee=(H=H||{},k(this.colorStops,!0)),ae=E.r1>E.r2,ue=this.gradientTransform?this.gradientTransform.concat():_.iMatrix.concat(),we=-this.offsetX,De=-this.offsetY,Ne=!!H.additionalTransform,bt="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(ee.sort(function(Le,Gi){return Le.offset-Gi.offset}),"objectBoundingBox"===bt?(we/=b.width,De/=b.height):(we+=b.width/2,De+=b.height/2),"path"===b.type&&"percentage"!==this.gradientUnits&&(we-=b.pathOffset.x,De-=b.pathOffset.y),ue[4]-=we,ue[5]-=De,Z='id="SVGID_'+this.id+'" gradientUnits="'+bt+'"',Z+=' gradientTransform="'+(Ne?H.additionalTransform+" ":"")+_.util.matrixToSVG(ue)+'" ',"linear"===this.type?W=["<linearGradient ",Z,' x1="',E.x1,'" y1="',E.y1,'" x2="',E.x2,'" y2="',E.y2,'">\n']:"radial"===this.type&&(W=["<radialGradient ",Z,' cx="',ae?E.x1:E.x2,'" cy="',ae?E.y1:E.y2,'" r="',ae?E.r1:E.r2,'" fx="',ae?E.x2:E.x1,'" fy="',ae?E.y2:E.y1,'">\n']),"radial"===this.type){if(ae)for((ee=ee.concat()).reverse(),z=0,x=ee.length;z<x;z++)ee[z].offset=1-ee[z].offset;var gt=Math.min(E.r1,E.r2);if(gt>0){var ot=gt/Math.max(E.r1,E.r2);for(z=0,x=ee.length;z<x;z++)ee[z].offset+=ot*(1-ee[z].offset)}}for(z=0,x=ee.length;z<x;z++){var Yt=ee[z];W.push("<stop ",'offset="',100*Yt.offset+"%",'" style="stop-color:',Yt.color,typeof Yt.opacity<"u"?";stop-opacity: "+Yt.opacity:";",'"/>\n')}return W.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),W.join("")},toLive:function(b){var C,z,x,E=_.util.object.clone(this.coords);if(this.type){for("linear"===this.type?C=b.createLinearGradient(E.x1,E.y1,E.x2,E.y2):"radial"===this.type&&(C=b.createRadialGradient(E.x1,E.y1,E.r1,E.x2,E.y2,E.r2)),z=0,x=this.colorStops.length;z<x;z++){var H=this.colorStops[z].color,W=this.colorStops[z].opacity,Z=this.colorStops[z].offset;typeof W<"u"&&(H=new _.Color(H).setAlpha(W).toRgba()),C.addColorStop(Z,H)}return C}}}),_.util.object.extend(_.Gradient,{fromElement:function(b,C,E,z){var x=parseFloat(E)/(/%$/.test(E)?100:1);x=x<0?0:x>1?1:x,isNaN(x)&&(x=1);var W,ue,we,bt,H=b.getElementsByTagName("stop"),Z="userSpaceOnUse"===b.getAttribute("gradientUnits")?"pixels":"percentage",ee=b.getAttribute("gradientTransform")||"",ae=[],De=0,Ne=0;for("linearGradient"===b.nodeName||"LINEARGRADIENT"===b.nodeName?(W="linear",ue=function I(b){return{x1:b.getAttribute("x1")||0,y1:b.getAttribute("y1")||0,x2:b.getAttribute("x2")||"100%",y2:b.getAttribute("y2")||0}}(b)):(W="radial",ue=function N(b){return{x1:b.getAttribute("fx")||b.getAttribute("cx")||"50%",y1:b.getAttribute("fy")||b.getAttribute("cy")||"50%",r1:0,x2:b.getAttribute("cx")||"50%",y2:b.getAttribute("cy")||"50%",r2:b.getAttribute("r")||"50%"}}(b)),we=H.length;we--;)ae.push(F(H[we],x));return bt=_.parseTransformAttribute(ee),function y(b,C,E,z){var x,H;Object.keys(C).forEach(function(W){"Infinity"===(x=C[W])?H=1:"-Infinity"===x?H=0:(H=parseFloat(C[W],10),"string"==typeof x&&/^(\d+\.\d+)%|(\d+)%$/.test(x)&&(H*=.01,"pixels"===z&&(("x1"===W||"x2"===W||"r2"===W)&&(H*=E.viewBoxWidth||E.width),("y1"===W||"y2"===W)&&(H*=E.viewBoxHeight||E.height)))),C[W]=H})}(0,ue,z,Z),"pixels"===Z&&(De=-C.left,Ne=-C.top),new _.Gradient({id:b.getAttribute("id"),type:W,coords:ue,colorStops:ae,gradientUnits:Z,gradientTransform:bt,offsetX:De,offsetY:Ne})}})}(),function(){"use strict";var F=_.util.toFixed;_.Pattern=_.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(I,N){if(I||(I={}),this.id=_.Object.__uid++,this.setOptions(I),!I.source||I.source&&"string"!=typeof I.source)N&&N(this);else{var k=this;this.source=_.util.createImage(),_.util.loadImage(I.source,function(y,b){k.source=y,N&&N(k,b)},null,this.crossOrigin)}},toObject:function(I){var k,y,N=_.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?k=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(k=this.source.toDataURL()),y={type:"pattern",source:k,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:F(this.offsetX,N),offsetY:F(this.offsetY,N),patternTransform:this.patternTransform?this.patternTransform.concat():null},_.util.populateWithProperties(this,y,I),y},toSVG:function(I){var N="function"==typeof this.source?this.source():this.source,k=N.width/I.width,y=N.height/I.height,b=this.offsetX/I.width,C=this.offsetY/I.height,E="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(y=1,C&&(y+=Math.abs(C))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(k=1,b&&(k+=Math.abs(b))),N.src?E=N.src:N.toDataURL&&(E=N.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+b+'" y="'+C+'" width="'+k+'" height="'+y+'">\n<image x="0" y="0" width="'+N.width+'" height="'+N.height+'" xlink:href="'+E+'"></image>\n</pattern>\n'},setOptions:function(I){for(var N in I)this[N]=I[N]},toLive:function(I){var N=this.source;return!N||typeof N.src<"u"&&(!N.complete||0===N.naturalWidth||0===N.naturalHeight)?"":I.createPattern(N,this.repeat)}})}(),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.toFixed;I.Shadow?I.warn("fabric.Shadow is already defined."):(I.Shadow=I.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(k){for(var y in"string"==typeof k&&(k=this._parseShadow(k)),k)this[y]=k[y];this.id=I.Object.__uid++},_parseShadow:function(k){var y=k.trim(),b=I.Shadow.reOffsetsAndBlur.exec(y)||[];return{color:(y.replace(I.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(b[1],10)||0,offsetY:parseFloat(b[2],10)||0,blur:parseFloat(b[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(k){var y=40,b=40,C=I.Object.NUM_FRACTION_DIGITS,E=I.util.rotateVector({x:this.offsetX,y:this.offsetY},I.util.degreesToRadians(-k.angle)),x=new I.Color(this.color);return k.width&&k.height&&(y=100*N((Math.abs(E.x)+this.blur)/k.width,C)+20,b=100*N((Math.abs(E.y)+this.blur)/k.height,C)+20),k.flipX&&(E.x*=-1),k.flipY&&(E.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+b+'%" height="'+(100+2*b)+'%" x="-'+y+'%" width="'+(100+2*y)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+N(this.blur?this.blur/2:0,C)+'"></feGaussianBlur>\n\t<feOffset dx="'+N(E.x,C)+'" dy="'+N(E.y,C)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+x.toRgb()+'" flood-opacity="'+x.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var k={},y=I.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(b){this[b]!==y[b]&&(k[b]=this[b])},this),k}}),I.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(le),function(){"use strict";if(_.StaticCanvas)_.warn("fabric.StaticCanvas is already defined.");else{var F=_.util.object.extend,I=_.util.getElementOffset,N=_.util.removeFromArray,k=_.util.toFixed,y=_.util.transformPoint,b=_.util.invertTransform,C=_.util.getNodeCanvas,E=_.util.createCanvasElement,z=new Error("Could not initialize `canvas` element");_.StaticCanvas=_.util.createClass(_.CommonMethods,{initialize:function(x,H){H||(H={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(x,H)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:_.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(x,H){var W=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(x),this._initOptions(H),this.interactive||this._initRetinaScaling(),H.overlayImage&&this.setOverlayImage(H.overlayImage,W),H.backgroundImage&&this.setBackgroundImage(H.backgroundImage,W),H.backgroundColor&&this.setBackgroundColor(H.backgroundColor,W),H.overlayColor&&this.setOverlayColor(H.overlayColor,W),this.calcOffset()},_isRetinaScaling:function(){return 1!==_.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?_.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var x=_.devicePixelRatio;this.__initRetinaScaling(x,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(x,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(x,H,W){H.setAttribute("width",this.width*x),H.setAttribute("height",this.height*x),W.scale(x,x)},calcOffset:function(){return this._offset=I(this.lowerCanvasEl),this},setOverlayImage:function(x,H,W){return this.__setBgOverlayImage("overlayImage",x,H,W)},setBackgroundImage:function(x,H,W){return this.__setBgOverlayImage("backgroundImage",x,H,W)},setOverlayColor:function(x,H){return this.__setBgOverlayColor("overlayColor",x,H)},setBackgroundColor:function(x,H){return this.__setBgOverlayColor("backgroundColor",x,H)},__setBgOverlayImage:function(x,H,W,Z){return"string"==typeof H?_.util.loadImage(H,function(ee,ae){if(ee){var ue=new _.Image(ee,Z);this[x]=ue,ue.canvas=this}W&&W(ee,ae)},this,Z&&Z.crossOrigin):(Z&&H.setOptions(Z),this[x]=H,H&&(H.canvas=this),W&&W(H,!1)),this},__setBgOverlayColor:function(x,H,W){return this[x]=H,this._initGradient(H,x),this._initPattern(H,x,W),this},_createCanvasElement:function(){var x=E();if(!x||(x.style||(x.style={}),typeof x.getContext>"u"))throw z;return x},_initOptions:function(x){var H=this.lowerCanvasEl;this._setOptions(x),this.width=this.width||parseInt(H.width,10)||0,this.height=this.height||parseInt(H.height,10)||0,this.lowerCanvasEl.style&&(H.width=this.width,H.height=this.height,H.style.width=this.width+"px",H.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(x){this.lowerCanvasEl=x&&x.getContext?x:_.util.getById(x)||this._createCanvasElement(),_.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(x,H){return this.setDimensions({width:x},H)},setHeight:function(x,H){return this.setDimensions({height:x},H)},setDimensions:function(x,H){var W;for(var Z in H=H||{},x)W=x[Z],H.cssOnly||(this._setBackstoreDimension(Z,x[Z]),W+="px",this.hasLostContext=!0),H.backstoreOnly||this._setCssDimension(Z,W);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),H.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(x,H){return this.lowerCanvasEl[x]=H,this.upperCanvasEl&&(this.upperCanvasEl[x]=H),this.cacheCanvasEl&&(this.cacheCanvasEl[x]=H),this[x]=H,this},_setCssDimension:function(x,H){return this.lowerCanvasEl.style[x]=H,this.upperCanvasEl&&(this.upperCanvasEl.style[x]=H),this.wrapperEl&&(this.wrapperEl.style[x]=H),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(x){var ee,ae,ue,H=this._activeObject,W=this.backgroundImage,Z=this.overlayImage;for(this.viewportTransform=x,ae=0,ue=this._objects.length;ae<ue;ae++)(ee=this._objects[ae]).group||ee.setCoords(!0);return H&&H.setCoords(),W&&W.setCoords(!0),Z&&Z.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(x,H){var W=x,Z=this.viewportTransform.slice(0);x=y(x,b(this.viewportTransform)),Z[0]=H,Z[3]=H;var ee=y(x,Z);return Z[4]+=W.x-ee.x,Z[5]+=W.y-ee.y,this.setViewportTransform(Z)},setZoom:function(x){return this.zoomToPoint(new _.Point(0,0),x),this},absolutePan:function(x){var H=this.viewportTransform.slice(0);return H[4]=-x.x,H[5]=-x.y,this.setViewportTransform(H)},relativePan:function(x){return this.absolutePan(new _.Point(-x.x-this.viewportTransform[4],-x.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(x){this.stateful&&x.setupState(),x._set("canvas",this),x.setCoords(),this.fire("object:added",{target:x}),x.fire("added")},_onObjectRemoved:function(x){this.fire("object:removed",{target:x}),x.fire("removed"),delete x.canvas},clearContext:function(x){return x.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=_.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var x={},H=this.width,W=this.height,Z=b(this.viewportTransform);return x.tl=y({x:0,y:0},Z),x.br=y({x:H,y:W},Z),x.tr=new _.Point(x.br.x,x.tl.y),x.bl=new _.Point(x.tl.x,x.br.y),this.vptCoords=x,x},cancelRequestedRender:function(){this.isRendering&&(_.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(x,H){var W=this.viewportTransform,Z=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(x),_.util.setImageSmoothing(x,this.imageSmoothingEnabled),this.fire("before:render",{ctx:x}),this._renderBackground(x),x.save(),x.transform(W[0],W[1],W[2],W[3],W[4],W[5]),this._renderObjects(x,H),x.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(x),Z&&(Z.canvas=this,Z.shouldCache(),Z._transformDone=!0,Z.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(x)),this._renderOverlay(x),this.controlsAboveOverlay&&this.interactive&&this.drawControls(x),this.fire("after:render",{ctx:x})},drawClipPathOnCanvas:function(x){var H=this.viewportTransform,W=this.clipPath;x.save(),x.transform(H[0],H[1],H[2],H[3],H[4],H[5]),x.globalCompositeOperation="destination-in",W.transform(x),x.scale(1/W.zoomX,1/W.zoomY),x.drawImage(W._cacheCanvas,-W.cacheTranslationX,-W.cacheTranslationY),x.restore()},_renderObjects:function(x,H){var W,Z;for(W=0,Z=H.length;W<Z;++W)H[W]&&H[W].render(x)},_renderBackgroundOrOverlay:function(x,H){var W=this[H+"Color"],Z=this[H+"Image"],ee=this.viewportTransform,ae=this[H+"Vpt"];if(W||Z){if(W){x.save(),x.beginPath(),x.moveTo(0,0),x.lineTo(this.width,0),x.lineTo(this.width,this.height),x.lineTo(0,this.height),x.closePath(),x.fillStyle=W.toLive?W.toLive(x,this):W,ae&&x.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),x.transform(1,0,0,1,W.offsetX||0,W.offsetY||0);var ue=W.gradientTransform||W.patternTransform;ue&&x.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),x.fill(),x.restore()}Z&&(x.save(),ae&&x.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),Z.render(x),x.restore())}},_renderBackground:function(x){this._renderBackgroundOrOverlay(x,"background")},_renderOverlay:function(x){this._renderBackgroundOrOverlay(x,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(x){return this._centerObject(x,new _.Point(this.getCenter().left,x.getCenterPoint().y))},centerObjectV:function(x){return this._centerObject(x,new _.Point(x.getCenterPoint().x,this.getCenter().top))},centerObject:function(x){var H=this.getCenter();return this._centerObject(x,new _.Point(H.left,H.top))},viewportCenterObject:function(x){var H=this.getVpCenter();return this._centerObject(x,H)},viewportCenterObjectH:function(x){var H=this.getVpCenter();return this._centerObject(x,new _.Point(H.x,x.getCenterPoint().y)),this},viewportCenterObjectV:function(x){var H=this.getVpCenter();return this._centerObject(x,new _.Point(x.getCenterPoint().x,H.y))},getVpCenter:function(){var x=this.getCenter(),H=b(this.viewportTransform);return y({x:x.left,y:x.top},H)},_centerObject:function(x,H){return x.setPositionByOrigin(H,"center","center"),x.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(x){return this.toDatalessObject(x)},toObject:function(x){return this._toObjectMethod("toObject",x)},toDatalessObject:function(x){return this._toObjectMethod("toDatalessObject",x)},_toObjectMethod:function(x,H){var W=this.clipPath,Z={version:_.version,objects:this._toObjects(x,H)};return W&&!W.excludeFromExport&&(Z.clipPath=this._toObject(this.clipPath,x,H)),F(Z,this.__serializeBgOverlay(x,H)),_.util.populateWithProperties(this,Z,H),Z},_toObjects:function(x,H){return this._objects.filter(function(W){return!W.excludeFromExport}).map(function(W){return this._toObject(W,x,H)},this)},_toObject:function(x,H,W){var Z;this.includeDefaultValues||(Z=x.includeDefaultValues,x.includeDefaultValues=!1);var ee=x[H](W);return this.includeDefaultValues||(x.includeDefaultValues=Z),ee},__serializeBgOverlay:function(x,H){var W={},Z=this.backgroundImage,ee=this.overlayImage,ae=this.backgroundColor,ue=this.overlayColor;return ae&&ae.toObject?ae.excludeFromExport||(W.background=ae.toObject(H)):ae&&(W.background=ae),ue&&ue.toObject?ue.excludeFromExport||(W.overlay=ue.toObject(H)):ue&&(W.overlay=ue),Z&&!Z.excludeFromExport&&(W.backgroundImage=this._toObject(Z,x,H)),ee&&!ee.excludeFromExport&&(W.overlayImage=this._toObject(ee,x,H)),W},svgViewportTransformation:!0,toSVG:function(x,H){x||(x={}),x.reviver=H;var W=[];return this._setSVGPreamble(W,x),this._setSVGHeader(W,x),this.clipPath&&W.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(W,"background"),this._setSVGBgOverlayImage(W,"backgroundImage",H),this._setSVGObjects(W,H),this.clipPath&&W.push("</g>\n"),this._setSVGBgOverlayColor(W,"overlay"),this._setSVGBgOverlayImage(W,"overlayImage",H),W.push("</svg>"),W.join("")},_setSVGPreamble:function(x,H){H.suppressPreamble||x.push('<?xml version="1.0" encoding="',H.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(x,H){var ee,W=H.width||this.width,Z=H.height||this.height,ae='viewBox="0 0 '+this.width+" "+this.height+'" ',ue=_.Object.NUM_FRACTION_DIGITS;H.viewBox?ae='viewBox="'+H.viewBox.x+" "+H.viewBox.y+" "+H.viewBox.width+" "+H.viewBox.height+'" ':this.svgViewportTransformation&&(ae='viewBox="'+k(-(ee=this.viewportTransform)[4]/ee[0],ue)+" "+k(-ee[5]/ee[3],ue)+" "+k(this.width/ee[0],ue)+" "+k(this.height/ee[3],ue)+'" '),x.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',W,'" ','height="',Z,'" ',ae,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",_.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(H),"</defs>\n")},createSVGClipPathMarkup:function(x){var H=this.clipPath;return H?(H.clipPathId="CLIPPATH_"+_.Object.__uid++,'<clipPath id="'+H.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(x.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var x=this;return["background","overlay"].map(function(W){var Z=x[W+"Color"];if(Z&&Z.toLive){var ee=x[W+"Vpt"],ae=x.viewportTransform;return Z.toSVG({width:x.width/(ee?ae[0]:1),height:x.height/(ee?ae[3]:1)},{additionalTransform:ee?_.util.matrixToSVG(ae):""})}}).join("")},createSVGFontFacesMarkup:function(){var W,Z,ee,ae,ue,De,Ne,bt,x="",H={},gt=_.fontPaths,ei=[];for(this._objects.forEach(function Yt(Le){ei.push(Le),Le._objects&&Le._objects.forEach(Yt)}),Ne=0,bt=ei.length;Ne<bt;Ne++)if(Z=(W=ei[Ne]).fontFamily,-1!==W.type.indexOf("text")&&!H[Z]&&gt[Z]&&(H[Z]=!0,W.styles))for(ue in ee=W.styles)for(De in ae=ee[ue])!H[Z=ae[De].fontFamily]&&gt[Z]&&(H[Z]=!0);for(var ot in H)x+=["\t\t@font-face {\n","\t\t\tfont-family: '",ot,"';\n","\t\t\tsrc: url('",gt[ot],"');\n","\t\t}\n"].join("");return x&&(x=['\t<style type="text/css">',"<![CDATA[\n",x,"]]>","</style>\n"].join("")),x},_setSVGObjects:function(x,H){var W,Z,ee,ae=this._objects;for(Z=0,ee=ae.length;Z<ee;Z++)!(W=ae[Z]).excludeFromExport&&this._setSVGObject(x,W,H)},_setSVGObject:function(x,H,W){x.push(H.toSVG(W))},_setSVGBgOverlayImage:function(x,H,W){this[H]&&!this[H].excludeFromExport&&this[H].toSVG&&x.push(this[H].toSVG(W))},_setSVGBgOverlayColor:function(x,H){var W=this[H+"Color"],ee=this.width,ae=this.height;if(W)if(W.toLive){var ue=W.repeat,we=_.util.invertTransform(this.viewportTransform),Ne=this[H+"Vpt"]?_.util.matrixToSVG(we):"";x.push('<rect transform="'+Ne+" translate(",ee/2,",",ae/2,')"',' x="',W.offsetX-ee/2,'" y="',W.offsetY-ae/2,'" ','width="',"repeat-y"===ue||"no-repeat"===ue?W.source.width:ee,'" height="',"repeat-x"===ue||"no-repeat"===ue?W.source.height:ae,'" fill="url(#SVGID_'+W.id+')"',"></rect>\n")}else x.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',W,'"',"></rect>\n")},sendToBack:function(x){if(!x)return this;var W,Z,ee,H=this._activeObject;if(x===H&&"activeSelection"===x.type)for(W=(ee=H._objects).length;W--;)N(this._objects,Z=ee[W]),this._objects.unshift(Z);else N(this._objects,x),this._objects.unshift(x);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(x){if(!x)return this;var W,Z,ee,H=this._activeObject;if(x===H&&"activeSelection"===x.type)for(ee=H._objects,W=0;W<ee.length;W++)N(this._objects,Z=ee[W]),this._objects.push(Z);else N(this._objects,x),this._objects.push(x);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(x,H){if(!x)return this;var Z,ee,ae,ue,we,W=this._activeObject,De=0;if(x===W&&"activeSelection"===x.type)for(we=W._objects,Z=0;Z<we.length;Z++)(ae=this._objects.indexOf(ee=we[Z]))>0+De&&(ue=ae-1,N(this._objects,ee),this._objects.splice(ue,0,ee)),De++;else 0!==(ae=this._objects.indexOf(x))&&(ue=this._findNewLowerIndex(x,ae,H),N(this._objects,x),this._objects.splice(ue,0,x));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(x,H,W){var Z,ee;if(W){for(Z=H,ee=H-1;ee>=0;--ee)if(x.intersectsWithObject(this._objects[ee])||x.isContainedWithinObject(this._objects[ee])||this._objects[ee].isContainedWithinObject(x)){Z=ee;break}}else Z=H-1;return Z},bringForward:function(x,H){if(!x)return this;var Z,ee,ae,ue,we,W=this._activeObject,De=0;if(x===W&&"activeSelection"===x.type)for(Z=(we=W._objects).length;Z--;)(ae=this._objects.indexOf(ee=we[Z]))<this._objects.length-1-De&&(ue=ae+1,N(this._objects,ee),this._objects.splice(ue,0,ee)),De++;else(ae=this._objects.indexOf(x))!==this._objects.length-1&&(ue=this._findNewUpperIndex(x,ae,H),N(this._objects,x),this._objects.splice(ue,0,x));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(x,H,W){var Z,ee,ae;if(W){for(Z=H,ee=H+1,ae=this._objects.length;ee<ae;++ee)if(x.intersectsWithObject(this._objects[ee])||x.isContainedWithinObject(this._objects[ee])||this._objects[ee].isContainedWithinObject(x)){Z=ee;break}}else Z=H+1;return Z},moveTo:function(x,H){return N(this._objects,x),this._objects.splice(H,0,x),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(_.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(x){x.dispose&&x.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),_.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),F(_.StaticCanvas.prototype,_.Observable),F(_.StaticCanvas.prototype,_.Collection),F(_.StaticCanvas.prototype,_.DataURLExporter),F(_.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(x){var H=E();if(!H||!H.getContext)return null;var W=H.getContext("2d");return W&&"setLineDash"===x?typeof W.setLineDash<"u":null}}),_.StaticCanvas.prototype.toJSON=_.StaticCanvas.prototype.toObject,_.isLikelyNode&&(_.StaticCanvas.prototype.createPNGStream=function(){var x=C(this.lowerCanvasEl);return x&&x.createPNGStream()},_.StaticCanvas.prototype.createJPEGStream=function(x){var H=C(this.lowerCanvasEl);return H&&H.createJPEGStream(x)})}}(),_.BaseBrush=_.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var F=this.canvas.contextTop;F.strokeStyle=this.color,F.lineWidth=this.width,F.lineCap=this.strokeLineCap,F.miterLimit=this.strokeMiterLimit,F.lineJoin=this.strokeLineJoin,F.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(F){var I=this.canvas.viewportTransform;F.save(),F.transform(I[0],I[1],I[2],I[3],I[4],I[5])},_setShadow:function(){if(this.shadow){var F=this.canvas,I=this.shadow,N=F.contextTop,k=F.getZoom();F&&F._isRetinaScaling()&&(k*=_.devicePixelRatio),N.shadowColor=I.color,N.shadowBlur=I.blur*k,N.shadowOffsetX=I.offsetX*k,N.shadowOffsetY=I.offsetY*k}},needsFullRender:function(){return new _.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var F=this.canvas.contextTop;F.shadowColor="",F.shadowBlur=F.shadowOffsetX=F.shadowOffsetY=0},_isOutSideCanvas:function(F){return F.x<0||F.x>this.canvas.getWidth()||F.y<0||F.y>this.canvas.getHeight()}}),_.PencilBrush=_.util.createClass(_.BaseBrush,{decimate:.4,initialize:function(F){this.canvas=F,this._points=[]},_drawSegment:function(F,I,N){var k=I.midPointFrom(N);return F.quadraticCurveTo(I.x,I.y,k.x,k.y),k},onMouseDown:function(F,I){this.canvas._isMainEvent(I.e)&&(this._prepareForDrawing(F),this._captureDrawingPath(F),this._render())},onMouseMove:function(F,I){if(this.canvas._isMainEvent(I.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(F))&&this._captureDrawingPath(F)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var N=this._points,k=N.length,y=this.canvas.contextTop;this._saveAndTransform(y),this.oldEnd&&(y.beginPath(),y.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(y,N[k-2],N[k-1],!0),y.stroke(),y.restore()}},onMouseUp:function(F){return!this.canvas._isMainEvent(F.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(F){var I=new _.Point(F.x,F.y);this._reset(),this._addPoint(I),this.canvas.contextTop.moveTo(I.x,I.y)},_addPoint:function(F){return!(this._points.length>1&&F.eq(this._points[this._points.length-1])||(this._points.push(F),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(F){var I=new _.Point(F.x,F.y);return this._addPoint(I)},_render:function(){var I,N,F=this.canvas.contextTop,k=this._points[0],y=this._points[1];if(this._saveAndTransform(F),F.beginPath(),2===this._points.length&&k.x===y.x&&k.y===y.y){var b=this.width/1e3;k=new _.Point(k.x,k.y),y=new _.Point(y.x,y.y),k.x-=b,y.x+=b}for(F.moveTo(k.x,k.y),I=1,N=this._points.length;I<N;I++)this._drawSegment(F,k,y),k=this._points[I],y=this._points[I+1];F.lineTo(k.x,k.y),F.stroke(),F.restore()},convertPointsToSVGPath:function(F){return _.util.getSmoothPathFromPoints(F,this.width/1e3)},_isEmptySVGPath:function(F){return"M 0 0 Q 0 0 0 0 L 0 0"===_.util.joinPath(F)},createPath:function(F){var I=new _.Path(F,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,I.shadow=new _.Shadow(this.shadow)),I},decimatePoints:function(F,I){if(F.length<=2)return F;var y,N=this.canvas.getZoom(),k=Math.pow(I/N,2),b=F.length-1,C=F[0],E=[C];for(y=1;y<b-1;y++)Math.pow(C.x-F[y].x,2)+Math.pow(C.y-F[y].y,2)>=k&&E.push(C=F[y]);return E.push(F[b]),E},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var I=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(I))this.canvas.requestRenderAll();else{var N=this.createPath(I);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:N}),this.canvas.add(N),this.canvas.requestRenderAll(),N.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:N})}}}),_.CircleBrush=_.util.createClass(_.BaseBrush,{width:10,initialize:function(F){this.canvas=F,this.points=[]},drawDot:function(F){var I=this.addPoint(F),N=this.canvas.contextTop;this._saveAndTransform(N),this.dot(N,I),N.restore()},dot:function(F,I){F.fillStyle=I.fill,F.beginPath(),F.arc(I.x,I.y,I.radius,0,2*Math.PI,!1),F.closePath(),F.fill()},onMouseDown:function(F){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(F)},_render:function(){var I,N,F=this.canvas.contextTop,k=this.points;for(this._saveAndTransform(F),I=0,N=k.length;I<N;I++)this.dot(F,k[I]);F.restore()},onMouseMove:function(F){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(F)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(F),this._render()):this.drawDot(F))},onMouseUp:function(){var I,N,F=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var k=[];for(I=0,N=this.points.length;I<N;I++){var y=this.points[I],b=new _.Circle({radius:y.radius,left:y.x,top:y.y,originX:"center",originY:"center",fill:y.fill});this.shadow&&(b.shadow=new _.Shadow(this.shadow)),k.push(b)}var C=new _.Group(k);C.canvas=this.canvas,this.canvas.fire("before:path:created",{path:C}),this.canvas.add(C),this.canvas.fire("path:created",{path:C}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=F,this.canvas.requestRenderAll()},addPoint:function(F){var I=new _.Point(F.x,F.y),N=_.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,k=new _.Color(this.color).setAlpha(_.util.getRandomInt(0,100)/100).toRgba();return I.radius=N,I.fill=k,this.points.push(I),I}}),_.SprayBrush=_.util.createClass(_.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(F){this.canvas=F,this.sprayChunks=[]},onMouseDown:function(F){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(F),this.render(this.sprayChunkPoints)},onMouseMove:function(F){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(F)||(this.addSprayChunk(F),this.render(this.sprayChunkPoints))},onMouseUp:function(){var F=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var I=[],N=0,k=this.sprayChunks.length;N<k;N++)for(var y=this.sprayChunks[N],b=0,C=y.length;b<C;b++){var E=new _.Rect({width:y[b].width,height:y[b].width,left:y[b].x+1,top:y[b].y+1,originX:"center",originY:"center",fill:this.color});I.push(E)}this.optimizeOverlapping&&(I=this._getOptimizedRects(I));var z=new _.Group(I);this.shadow&&z.set("shadow",new _.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:z}),this.canvas.add(z),this.canvas.fire("path:created",{path:z}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=F,this.canvas.requestRenderAll()},_getOptimizedRects:function(F){var N,k,y,I={};for(k=0,y=F.length;k<y;k++)I[N=F[k].left+""+F[k].top]||(I[N]=F[k]);var b=[];for(N in I)b.push(I[N]);return b},render:function(F){var N,k,I=this.canvas.contextTop;for(I.fillStyle=this.color,this._saveAndTransform(I),N=0,k=F.length;N<k;N++){var y=F[N];typeof y.opacity<"u"&&(I.globalAlpha=y.opacity),I.fillRect(y.x,y.y,y.width,y.width)}I.restore()},_render:function(){var I,N,F=this.canvas.contextTop;for(F.fillStyle=this.color,this._saveAndTransform(F),I=0,N=this.sprayChunks.length;I<N;I++)this.render(this.sprayChunks[I]);F.restore()},addSprayChunk:function(F){this.sprayChunkPoints=[];var I,N,k,b,y=this.width/2;for(b=0;b<this.density;b++){I=_.util.getRandomInt(F.x-y,F.x+y),N=_.util.getRandomInt(F.y-y,F.y+y),k=this.dotWidthVariance?_.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var C=new _.Point(I,N);C.width=k,this.randomOpacity&&(C.opacity=_.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(C)}this.sprayChunks.push(this.sprayChunkPoints)}}),_.PatternBrush=_.util.createClass(_.PencilBrush,{getPatternSrc:function(){var N=_.util.createCanvasElement(),k=N.getContext("2d");return N.width=N.height=25,k.fillStyle=this.color,k.beginPath(),k.arc(10,10,10,0,2*Math.PI,!1),k.closePath(),k.fill(),N},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(F){var I=this.callSuper("createPath",F),N=I._getLeftTopCoords().scalarAdd(I.strokeWidth/2);return I.stroke=new _.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-N.x,offsetY:-N.y}),I}}),function(){var F=_.util.getPointer,I=_.util.degreesToRadians,N=_.util.isTouchEvent;for(var k in _.Canvas=_.util.createClass(_.StaticCanvas,{initialize:function(y,b){b||(b={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(y,b),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=_.PencilBrush&&new _.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var b,C,E,y=this.getActiveObjects();if(y.length>0&&!this.preserveObjectStacking){C=[],E=[];for(var z=0,x=this._objects.length;z<x;z++)-1===y.indexOf(b=this._objects[z])?C.push(b):E.push(b);y.length>1&&(this._activeObject._objects=E),C.push.apply(C,E)}else C=this._objects;return C},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(y){y.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(y),this.contextTopDirty=!0),y.restore()},renderTop:function(){var y=this.contextTop;return this.clearContext(y),this.renderTopLayer(y),this.fire("after:render"),this},_normalizePointer:function(y,b){var C=y.calcTransformMatrix(),E=_.util.invertTransform(C),z=this.restorePointerVpt(b);return _.util.transformPoint(z,E)},isTargetTransparent:function(y,b,C){if(y.shouldCache()&&y._cacheCanvas&&y!==this._activeObject){var E=this._normalizePointer(y,{x:b,y:C}),z=Math.max(y.cacheTranslationX+E.x*y.zoomX,0),x=Math.max(y.cacheTranslationY+E.y*y.zoomY,0);return _.util.isTransparent(y._cacheContext,Math.round(z),Math.round(x),this.targetFindTolerance)}var H=this.contextCache,W=y.selectionBackgroundColor,Z=this.viewportTransform;return y.selectionBackgroundColor="",this.clearContext(H),H.save(),H.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),y.render(H),H.restore(),y.selectionBackgroundColor=W,_.util.isTransparent(H,b,C,this.targetFindTolerance)},_isSelectionKeyPressed:function(y){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(C){return!0===y[C]}):y[this.selectionKey]},_shouldClearSelection:function(y,b){var C=this.getActiveObjects(),E=this._activeObject;return!b||b&&E&&C.length>1&&-1===C.indexOf(b)&&E!==b&&!this._isSelectionKeyPressed(y)||b&&!b.evented||b&&!b.selectable&&E&&E!==b},_shouldCenterTransform:function(y,b,C){var E;if(y)return"scale"===b||"scaleX"===b||"scaleY"===b||"resizing"===b?E=this.centeredScaling||y.centeredScaling:"rotate"===b&&(E=this.centeredRotation||y.centeredRotation),E?!C:C},_getOriginFromCorner:function(y,b){var C={x:y.originX,y:y.originY};return"ml"===b||"tl"===b||"bl"===b?C.x="right":("mr"===b||"tr"===b||"br"===b)&&(C.x="left"),"tl"===b||"mt"===b||"tr"===b?C.y="bottom":("bl"===b||"mb"===b||"br"===b)&&(C.y="top"),C},_getActionFromCorner:function(y,b,C,E){if(!b||!y)return"drag";var z=E.controls[b];return z.getActionName(C,z,E)},_setupCurrentTransform:function(y,b,C){if(b){var E=this.getPointer(y),z=b.__corner,x=b.controls[z],H=C&&z?x.getActionHandler(y,b,x):_.controlsUtils.dragHandler,W=this._getActionFromCorner(C,z,y,b),Z=this._getOriginFromCorner(b,z),ee=y[this.centeredKey],ae={target:b,action:W,actionHandler:H,corner:z,scaleX:b.scaleX,scaleY:b.scaleY,skewX:b.skewX,skewY:b.skewY,offsetX:E.x-b.left,offsetY:E.y-b.top,originX:Z.x,originY:Z.y,ex:E.x,ey:E.y,lastX:E.x,lastY:E.y,theta:I(b.angle),width:b.width*b.scaleX,shiftKey:y.shiftKey,altKey:ee,original:_.util.saveObjectTransform(b)};this._shouldCenterTransform(b,W,ee)&&(ae.originX="center",ae.originY="center"),ae.original.originX=Z.x,ae.original.originY=Z.y,this._currentTransform=ae,this._beforeTransform(y)}},setCursor:function(y){this.upperCanvasEl.style.cursor=y},_drawSelection:function(y){var b=this._groupSelector,C=new _.Point(b.ex,b.ey),E=_.util.transformPoint(C,this.viewportTransform),z=new _.Point(b.ex+b.left,b.ey+b.top),x=_.util.transformPoint(z,this.viewportTransform),H=Math.min(E.x,x.x),W=Math.min(E.y,x.y),Z=Math.max(E.x,x.x),ee=Math.max(E.y,x.y),ae=this.selectionLineWidth/2;this.selectionColor&&(y.fillStyle=this.selectionColor,y.fillRect(H,W,Z-H,ee-W)),this.selectionLineWidth&&this.selectionBorderColor&&(y.lineWidth=this.selectionLineWidth,y.strokeStyle=this.selectionBorderColor,H+=ae,W+=ae,Z-=ae,ee-=ae,_.Object.prototype._setLineDash.call(this,y,this.selectionDashArray),y.strokeRect(H,W,Z-H,ee-W))},findTarget:function(y,b){if(!this.skipTargetFind){var H,W,E=this.getPointer(y,!0),z=this._activeObject,x=this.getActiveObjects(),Z=N(y),ee=x.length>1&&!b||1===x.length;if(this.targets=[],ee&&z._findTargetCorner(E,Z)||x.length>1&&!b&&z===this._searchPossibleTargets([z],E))return z;if(1===x.length&&z===this._searchPossibleTargets([z],E)){if(!this.preserveObjectStacking)return z;H=z,W=this.targets,this.targets=[]}var ae=this._searchPossibleTargets(this._objects,E);return y[this.altSelectionKey]&&ae&&H&&ae!==H&&(ae=H,this.targets=W),ae}},_checkTarget:function(y,b,C){if(b&&b.visible&&b.evented&&b.containsPoint(y)){if(!this.perPixelTargetFind&&!b.perPixelTargetFind||b.isEditing)return!0;if(!this.isTargetTransparent(b,C.x,C.y))return!0}},_searchPossibleTargets:function(y,b){for(var C,z,E=y.length;E--;){var x=y[E],H=x.group?this._normalizePointer(x.group,b):b;if(this._checkTarget(H,x,b)){(C=y[E]).subTargetCheck&&C instanceof _.Group&&(z=this._searchPossibleTargets(C._objects,b))&&this.targets.push(z);break}}return C},restorePointerVpt:function(y){return _.util.transformPoint(y,_.util.invertTransform(this.viewportTransform))},getPointer:function(y,b){if(this._absolutePointer&&!b)return this._absolutePointer;if(this._pointer&&b)return this._pointer;var W,C=F(y),E=this.upperCanvasEl,z=E.getBoundingClientRect(),x=z.width||0,H=z.height||0;(!x||!H)&&("top"in z&&"bottom"in z&&(H=Math.abs(z.top-z.bottom)),"right"in z&&"left"in z&&(x=Math.abs(z.right-z.left))),this.calcOffset(),C.x=C.x-this._offset.left,C.y=C.y-this._offset.top,b||(C=this.restorePointerVpt(C));var Z=this.getRetinaScaling();return 1!==Z&&(C.x/=Z,C.y/=Z),{x:C.x*(W=0===x||0===H?{width:1,height:1}:{width:E.width/x,height:E.height/H}).width,y:C.y*W.height}},_createUpperCanvas:function(){var y=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),b=this.lowerCanvasEl,C=this.upperCanvasEl;C?C.className="":(C=this._createCanvasElement(),this.upperCanvasEl=C),_.util.addClass(C,"upper-canvas "+y),this.wrapperEl.appendChild(C),this._copyCanvasStyle(b,C),this._applyCanvasStyle(C),this.contextTop=C.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=_.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),_.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),_.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(y){var b=this.width||y.width,C=this.height||y.height;_.util.setStyle(y,{position:"absolute",width:b+"px",height:C+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),y.width=b,y.height=C,_.util.makeElementUnselectable(y)},_copyCanvasStyle:function(y,b){b.style.cssText=y.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var y=this._activeObject;return y?"activeSelection"===y.type&&y._objects?y._objects.slice(0):[y]:[]},_onObjectRemoved:function(y){y===this._activeObject&&(this.fire("before:selection:cleared",{target:y}),this._discardActiveObject(),this.fire("selection:cleared",{target:y}),y.fire("deselected")),y===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",y)},_fireSelectionEvents:function(y,b){var C=!1,E=this.getActiveObjects(),z=[],x=[];y.forEach(function(H){-1===E.indexOf(H)&&(C=!0,H.fire("deselected",{e:b,target:H}),x.push(H))}),E.forEach(function(H){-1===y.indexOf(H)&&(C=!0,H.fire("selected",{e:b,target:H}),z.push(H))}),y.length>0&&E.length>0?C&&this.fire("selection:updated",{e:b,selected:z,deselected:x,updated:z[0]||x[0],target:this._activeObject}):E.length>0?this.fire("selection:created",{e:b,selected:z,target:this._activeObject}):y.length>0&&this.fire("selection:cleared",{e:b,deselected:x})},setActiveObject:function(y,b){var C=this.getActiveObjects();return this._setActiveObject(y,b),this._fireSelectionEvents(C,b),this},_setActiveObject:function(y,b){return!(this._activeObject===y||!this._discardActiveObject(b,y)||y.onSelect({e:b})||(this._activeObject=y,0))},_discardActiveObject:function(y,b){var C=this._activeObject;if(C){if(C.onDeselect({e:y,object:b}))return!1;this._activeObject=null}return!0},discardActiveObject:function(y){var b=this.getActiveObjects(),C=this.getActiveObject();return b.length&&this.fire("before:selection:cleared",{target:C,e:y}),this._discardActiveObject(y),this._fireSelectionEvents(b,y),this},dispose:function(){var y=this.wrapperEl;return this.removeListeners(),y.removeChild(this.upperCanvasEl),y.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(b){_.util.cleanUpJsdomNode(this[b]),this[b]=void 0}.bind(this)),y.parentNode&&y.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,_.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(y){var b=this._activeObject;b&&b._renderControls(y)},_toObject:function(y,b,C){var E=this._realizeGroupTransformOnObject(y),z=this.callSuper("_toObject",y,b,C);return this._unwindGroupTransformOnObject(y,E),z},_realizeGroupTransformOnObject:function(y){if(y.group&&"activeSelection"===y.group.type&&this._activeObject===y.group){var C={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(E){C[E]=y[E]}),_.util.addTransformToObject(y,this._activeObject.calcOwnMatrix()),C}return null},_unwindGroupTransformOnObject:function(y,b){b&&y.set(b)},_setSVGObject:function(y,b,C){var E=this._realizeGroupTransformOnObject(b);this.callSuper("_setSVGObject",y,b,C),this._unwindGroupTransformOnObject(b,E)},setViewportTransform:function(y){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),_.StaticCanvas.prototype.setViewportTransform.call(this,y)}}),_.StaticCanvas)"prototype"!==k&&(_.Canvas[k]=_.StaticCanvas[k])}(),function(){var F=_.util.addListener,I=_.util.removeListener,b={passive:!1};function C(E,z){return E.button&&E.button===z-1}_.util.object.extend(_.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(F,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(E,z){var x=this.upperCanvasEl,H=this._getEventPrefix();E(_.window,"resize",this._onResize),E(x,H+"down",this._onMouseDown),E(x,H+"move",this._onMouseMove,b),E(x,H+"out",this._onMouseOut),E(x,H+"enter",this._onMouseEnter),E(x,"wheel",this._onMouseWheel),E(x,"contextmenu",this._onContextMenu),E(x,"dblclick",this._onDoubleClick),E(x,"dragover",this._onDragOver),E(x,"dragenter",this._onDragEnter),E(x,"dragleave",this._onDragLeave),E(x,"drop",this._onDrop),this.enablePointerEvents||E(x,"touchstart",this._onTouchStart,b),typeof eventjs<"u"&&z in eventjs&&(eventjs[z](x,"gesture",this._onGesture),eventjs[z](x,"drag",this._onDrag),eventjs[z](x,"orientation",this._onOrientationChange),eventjs[z](x,"shake",this._onShake),eventjs[z](x,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(I,"remove");var E=this._getEventPrefix();I(_.document,E+"up",this._onMouseUp),I(_.document,"touchend",this._onTouchEnd,b),I(_.document,E+"move",this._onMouseMove,b),I(_.document,"touchmove",this._onMouseMove,b)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(E,z){this.__onTransformGesture&&this.__onTransformGesture(E,z)},_onDrag:function(E,z){this.__onDrag&&this.__onDrag(E,z)},_onMouseWheel:function(E){this.__onMouseWheel(E)},_onMouseOut:function(E){var z=this._hoveredTarget;this.fire("mouse:out",{target:z,e:E}),this._hoveredTarget=null,z&&z.fire("mouseout",{e:E});var x=this;this._hoveredTargets.forEach(function(H){x.fire("mouse:out",{target:z,e:E}),H&&z.fire("mouseout",{e:E})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(H){H.isEditing&&H.hiddenTextarea.focus()})},_onMouseEnter:function(E){!this._currentTransform&&!this.findTarget(E)&&(this.fire("mouse:over",{target:null,e:E}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(E,z){this.__onOrientationChange&&this.__onOrientationChange(E,z)},_onShake:function(E,z){this.__onShake&&this.__onShake(E,z)},_onLongPress:function(E,z){this.__onLongPress&&this.__onLongPress(E,z)},_onDragOver:function(E){E.preventDefault();var z=this._simpleEventHandler("dragover",E);this._fireEnterLeaveEvents(z,E)},_onContextMenu:function(E){return this.stopContextMenu&&(E.stopPropagation(),E.preventDefault()),!1},_onDoubleClick:function(E){this._cacheTransformEventData(E),this._handleEvent(E,"dblclick"),this._resetTransformEventData(E)},getPointerId:function(E){var z=E.changedTouches;return z?z[0]&&z[0].identifier:this.enablePointerEvents?E.pointerId:-1},_isMainEvent:function(E){return!0===E.isPrimary||!1!==E.isPrimary&&("touchend"===E.type&&0===E.touches.length||!E.changedTouches||E.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(E){E.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(E)),this.__onMouseDown(E),this._resetTransformEventData();var z=this.upperCanvasEl,x=this._getEventPrefix();F(_.document,"touchend",this._onTouchEnd,b),F(_.document,"touchmove",this._onMouseMove,b),I(z,x+"down",this._onMouseDown)},_onMouseDown:function(E){this.__onMouseDown(E),this._resetTransformEventData();var z=this.upperCanvasEl,x=this._getEventPrefix();I(z,x+"move",this._onMouseMove,b),F(_.document,x+"up",this._onMouseUp),F(_.document,x+"move",this._onMouseMove,b)},_onTouchEnd:function(E){if(!(E.touches.length>0)){this.__onMouseUp(E),this._resetTransformEventData(),this.mainTouchId=null;var z=this._getEventPrefix();I(_.document,"touchend",this._onTouchEnd,b),I(_.document,"touchmove",this._onMouseMove,b);var x=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){F(x.upperCanvasEl,z+"down",x._onMouseDown),x._willAddMouseDown=0},400)}},_onMouseUp:function(E){this.__onMouseUp(E),this._resetTransformEventData();var z=this.upperCanvasEl,x=this._getEventPrefix();this._isMainEvent(E)&&(I(_.document,x+"up",this._onMouseUp),I(_.document,x+"move",this._onMouseMove,b),F(z,x+"move",this._onMouseMove,b))},_onMouseMove:function(E){!this.allowTouchScrolling&&E.preventDefault&&E.preventDefault(),this.__onMouseMove(E)},_onResize:function(){this.calcOffset()},_shouldRender:function(E){var z=this._activeObject;return!!(!!z!=!!E||z&&E&&z!==E)},__onMouseUp:function(E){var z,x=this._currentTransform,H=this._groupSelector,W=!1,Z=!H||0===H.left&&0===H.top;if(this._cacheTransformEventData(E),z=this._target,this._handleEvent(E,"up:before"),C(E,3))this.fireRightClick&&this._handleEvent(E,"up",3,Z);else{if(C(E,2))return this.fireMiddleClick&&this._handleEvent(E,"up",2,Z),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(E);else if(this._isMainEvent(E)){if(x&&(this._finalizeCurrentTransform(E),W=x.actionPerformed),!Z){var ee=z===this._activeObject;this._maybeGroupObjects(E),W||(W=this._shouldRender(z)||!ee&&z===this._activeObject)}if(z){if(z.selectable&&z!==this._activeObject&&"up"===z.activeOn)this.setActiveObject(z,E),W=!0;else{var ae=z._findTargetCorner(this.getPointer(E,!0),_.util.isTouchEvent(E)),ue=z.controls[ae],we=ue&&ue.getMouseUpHandler(E,z,ue);if(we){var De=this.getPointer(E);we(E,x,De.x,De.y)}}z.isMoving=!1}this._setCursorFromEvent(E,z),this._handleEvent(E,"up",1,Z),this._groupSelector=null,this._currentTransform=null,z&&(z.__corner=0),W?this.requestRenderAll():Z||this.renderTop()}}},_simpleEventHandler:function(E,z){var x=this.findTarget(z),H=this.targets,W={e:z,target:x,subTargets:H};if(this.fire(E,W),x&&x.fire(E,W),!H)return x;for(var Z=0;Z<H.length;Z++)H[Z].fire(E,W);return x},_handleEvent:function(E,z,x,H){var W=this._target,Z=this.targets||[],ee={e:E,target:W,subTargets:Z,button:x||1,isClick:H||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===z&&(ee.currentTarget=this.findTarget(E),ee.currentSubTargets=this.targets),this.fire("mouse:"+z,ee),W&&W.fire("mouse"+z,ee);for(var ae=0;ae<Z.length;ae++)Z[ae].fire("mouse"+z,ee)},_finalizeCurrentTransform:function(E){var H,z=this._currentTransform,x=z.target,W={e:E,target:x,transform:z,action:z.action};x._scaling&&(x._scaling=!1),x.setCoords(),(z.actionPerformed||this.stateful&&x.hasStateChanged())&&(z.actionPerformed&&(H=this._addEventOptions(W,z),this._fire(H,W)),this._fire("modified",W))},_addEventOptions:function(E,z){var x,H;switch(z.action){case"scaleX":x="scaled",H="x";break;case"scaleY":x="scaled",H="y";break;case"skewX":x="skewed",H="x";break;case"skewY":x="skewed",H="y";break;case"scale":x="scaled",H="equally";break;case"rotate":x="rotated";break;case"drag":x="moved"}return E.by=H,x},_onMouseDownInDrawingMode:function(E){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(E).requestRenderAll();var z=this.getPointer(E);this.freeDrawingBrush.onMouseDown(z,{e:E,pointer:z}),this._handleEvent(E,"down")},_onMouseMoveInDrawingMode:function(E){if(this._isCurrentlyDrawing){var z=this.getPointer(E);this.freeDrawingBrush.onMouseMove(z,{e:E,pointer:z})}this.setCursor(this.freeDrawingCursor),this._handleEvent(E,"move")},_onMouseUpInDrawingMode:function(E){var z=this.getPointer(E);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:E,pointer:z}),this._handleEvent(E,"up")},__onMouseDown:function(E){this._cacheTransformEventData(E),this._handleEvent(E,"down:before");var z=this._target;if(C(E,3))this.fireRightClick&&this._handleEvent(E,"down",3);else if(C(E,2))this.fireMiddleClick&&this._handleEvent(E,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(E);else if(this._isMainEvent(E)&&!this._currentTransform){this._previousPointer=x=this._pointer;var H=this._shouldRender(z),W=this._shouldGroup(E,z);if(this._shouldClearSelection(E,z)?this.discardActiveObject(E):W&&(this._handleGrouping(E,z),z=this._activeObject),this.selection&&(!z||!z.selectable&&!z.isEditing&&z!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),z){var Z=z===this._activeObject;z.selectable&&"down"===z.activeOn&&this.setActiveObject(z,E);var ee=z._findTargetCorner(this.getPointer(E,!0),_.util.isTouchEvent(E));if(z.__corner=ee,z===this._activeObject&&(ee||!W)){this._setupCurrentTransform(E,z,Z);var ae=z.controls[ee],x=this.getPointer(E),ue=ae&&ae.getMouseDownHandler(E,z,ae);ue&&ue(E,this._currentTransform,x.x,x.y)}}this._handleEvent(E,"down"),(H||W)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(E){this._resetTransformEventData(),this._pointer=this.getPointer(E,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(E)||null},_beforeTransform:function(E){var z=this._currentTransform;this.stateful&&z.target.saveState(),this.fire("before:transform",{e:E,transform:z})},__onMouseMove:function(E){var z,x;if(this._handleEvent(E,"move:before"),this._cacheTransformEventData(E),this.isDrawingMode)this._onMouseMoveInDrawingMode(E);else if(this._isMainEvent(E)){var H=this._groupSelector;H?(H.left=(x=this._absolutePointer).x-H.ex,H.top=x.y-H.ey,this.renderTop()):this._currentTransform?this._transformObject(E):(z=this.findTarget(E)||null,this._setCursorFromEvent(E,z),this._fireOverOutEvents(z,E)),this._handleEvent(E,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(E,z){var x=this._hoveredTarget,H=this._hoveredTargets,W=this.targets,Z=Math.max(H.length,W.length);this.fireSyntheticInOutEvents(E,z,{oldTarget:x,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var ee=0;ee<Z;ee++)this.fireSyntheticInOutEvents(W[ee],z,{oldTarget:H[ee],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=E,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(E,z){var x=this._draggedoverTarget,H=this._hoveredTargets,W=this.targets,Z=Math.max(H.length,W.length);this.fireSyntheticInOutEvents(E,z,{oldTarget:x,evtOut:"dragleave",evtIn:"dragenter"});for(var ee=0;ee<Z;ee++)this.fireSyntheticInOutEvents(W[ee],z,{oldTarget:H[ee],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=E},fireSyntheticInOutEvents:function(E,z,x){var H,W,ae,Z=x.oldTarget,ue=Z!==E,we=x.canvasEvtIn,De=x.canvasEvtOut;ue&&(H={e:z,target:E,previousTarget:Z},W={e:z,target:Z,nextTarget:E}),ae=E&&ue,Z&&ue&&(De&&this.fire(De,W),Z.fire(x.evtOut,W)),ae&&(we&&this.fire(we,H),E.fire(x.evtIn,H))},__onMouseWheel:function(E){this._cacheTransformEventData(E),this._handleEvent(E,"wheel"),this._resetTransformEventData()},_transformObject:function(E){var z=this.getPointer(E),x=this._currentTransform;x.reset=!1,x.shiftKey=E.shiftKey,x.altKey=E[this.centeredKey],this._performTransformAction(E,x,z),x.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(E,z,x){var Z=z.action,ee=!1,ae=z.actionHandler;ae&&(ee=ae(E,z,x.x,x.y)),"drag"===Z&&ee&&(z.target.isMoving=!0,this.setCursor(z.target.moveCursor||this.moveCursor)),z.actionPerformed=z.actionPerformed||ee},_fire:_.controlsUtils.fireEvent,_setCursorFromEvent:function(E,z){if(!z)return this.setCursor(this.defaultCursor),!1;var x=z.hoverCursor||this.hoverCursor,H=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,W=(!H||!H.contains(z))&&z._findTargetCorner(this.getPointer(E,!0));W?this.setCursor(this.getCornerCursor(W,z,E)):(z.subTargetCheck&&this.targets.concat().reverse().map(function(Z){x=Z.hoverCursor||x}),this.setCursor(x))},getCornerCursor:function(E,z,x){var H=z.controls[E];return H.cursorStyleHandler(x,H,z)}})}(),function(){var F=Math.min,I=Math.max;_.util.object.extend(_.Canvas.prototype,{_shouldGroup:function(N,k){var y=this._activeObject;return y&&this._isSelectionKeyPressed(N)&&k&&k.selectable&&this.selection&&(y!==k||"activeSelection"===y.type)&&!k.onSelect({e:N})},_handleGrouping:function(N,k){var y=this._activeObject;y.__corner||k===y&&(!(k=this.findTarget(N,!0))||!k.selectable)||(y&&"activeSelection"===y.type?this._updateActiveSelection(k,N):this._createActiveSelection(k,N))},_updateActiveSelection:function(N,k){var y=this._activeObject,b=y._objects.slice(0);y.contains(N)?(y.removeWithUpdate(N),this._hoveredTarget=N,this._hoveredTargets=this.targets.concat(),1===y.size()&&this._setActiveObject(y.item(0),k)):(y.addWithUpdate(N),this._hoveredTarget=y,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(b,k)},_createActiveSelection:function(N,k){var y=this.getActiveObjects(),b=this._createGroup(N);this._hoveredTarget=b,this._setActiveObject(b,k),this._fireSelectionEvents(y,k)},_createGroup:function(N){var k=this._objects,b=k.indexOf(this._activeObject)<k.indexOf(N)?[this._activeObject,N]:[N,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new _.ActiveSelection(b,{canvas:this})},_groupSelectedObjects:function(N){var y,k=this._collectObjects(N);1===k.length?this.setActiveObject(k[0],N):k.length>1&&(y=new _.ActiveSelection(k.reverse(),{canvas:this}),this.setActiveObject(y,N))},_collectObjects:function(N){for(var y,k=[],b=this._groupSelector.ex,C=this._groupSelector.ey,E=b+this._groupSelector.left,z=C+this._groupSelector.top,x=new _.Point(F(b,E),F(C,z)),H=new _.Point(I(b,E),I(C,z)),W=!this.selectionFullyContained,Z=b===E&&C===z,ee=this._objects.length;ee--&&!((y=this._objects[ee])&&y.selectable&&y.visible&&(W&&y.intersectsWithRect(x,H,!0)||y.isContainedWithinRect(x,H,!0)||W&&y.containsPoint(x,null,!0)||W&&y.containsPoint(H,null,!0))&&(k.push(y),Z)););return k.length>1&&(k=k.filter(function(ae){return!ae.onSelect({e:N})})),k},_maybeGroupObjects:function(N){this.selection&&this._groupSelector&&this._groupSelectedObjects(N),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),_.util.object.extend(_.StaticCanvas.prototype,{toDataURL:function(F){F||(F={});var I=F.format||"png",N=F.quality||1,k=(F.multiplier||1)*(F.enableRetinaScaling?this.getRetinaScaling():1),y=this.toCanvasElement(k,F);return _.util.toDataURL(y,I,N)},toCanvasElement:function(F,I){var N=((I=I||{}).width||this.width)*(F=F||1),k=(I.height||this.height)*F,y=this.getZoom(),b=this.width,C=this.height,E=y*F,z=this.viewportTransform,W=this.interactive,Z=[E,0,0,E,(z[4]-(I.left||0))*F,(z[5]-(I.top||0))*F],ee=this.enableRetinaScaling,ae=_.util.createCanvasElement(),ue=this.contextTop;return ae.width=N,ae.height=k,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=Z,this.width=N,this.height=k,this.calcViewportBoundaries(),this.renderCanvas(ae.getContext("2d"),this._objects),this.viewportTransform=z,this.width=b,this.height=C,this.calcViewportBoundaries(),this.interactive=W,this.enableRetinaScaling=ee,this.contextTop=ue,ae}}),_.util.object.extend(_.StaticCanvas.prototype,{loadFromJSON:function(F,I,N){if(F){var k="string"==typeof F?JSON.parse(F):_.util.object.clone(F),y=this,b=k.clipPath,C=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete k.clipPath,this._enlivenObjects(k.objects,function(E){y.clear(),y._setBgOverlay(k,function(){b?y._enlivenObjects([b],function(z){y.clipPath=z[0],y.__setupCanvas.call(y,k,E,C,I)}):y.__setupCanvas.call(y,k,E,C,I)})},N),this}},__setupCanvas:function(F,I,N,k){var y=this;I.forEach(function(b,C){y.insertAt(b,C)}),this.renderOnAddRemove=N,delete F.objects,delete F.backgroundImage,delete F.overlayImage,delete F.background,delete F.overlay,this._setOptions(F),this.renderAll(),k&&k()},_setBgOverlay:function(F,I){var N={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(F.backgroundImage||F.overlayImage||F.background||F.overlay){var k=function(){N.backgroundImage&&N.overlayImage&&N.backgroundColor&&N.overlayColor&&I&&I()};this.__setBgOverlay("backgroundImage",F.backgroundImage,N,k),this.__setBgOverlay("overlayImage",F.overlayImage,N,k),this.__setBgOverlay("backgroundColor",F.background,N,k),this.__setBgOverlay("overlayColor",F.overlay,N,k)}else I&&I()},__setBgOverlay:function(F,I,N,k){var y=this;if(!I)return N[F]=!0,void(k&&k());"backgroundImage"===F||"overlayImage"===F?_.util.enlivenObjects([I],function(b){y[F]=b[0],N[F]=!0,k&&k()}):this["set"+_.util.string.capitalize(F,!0)](I,function(){N[F]=!0,k&&k()})},_enlivenObjects:function(F,I,N){F&&0!==F.length?_.util.enlivenObjects(F,function(k){I&&I(k)},null,N):I&&I([])},_toDataURL:function(F,I){this.clone(function(N){I(N.toDataURL(F))})},_toDataURLWithMultiplier:function(F,I,N){this.clone(function(k){N(k.toDataURLWithMultiplier(F,I))})},clone:function(F,I){var N=JSON.stringify(this.toJSON(I));this.cloneWithoutData(function(k){k.loadFromJSON(N,function(){F&&F(k)})})},cloneWithoutData:function(F){var I=_.util.createCanvasElement();I.width=this.width,I.height=this.height;var N=new _.Canvas(I);this.backgroundImage?(N.setBackgroundImage(this.backgroundImage.src,function(){N.renderAll(),F&&F(N)}),N.backgroundImageOpacity=this.backgroundImageOpacity,N.backgroundImageStretch=this.backgroundImageStretch):F&&F(N)}}),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.util.object.clone,y=I.util.toFixed,b=I.util.string.capitalize,C=I.util.degreesToRadians;I.Object||(I.Object=I.util.createClass(I.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!I.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(x){x&&this.setOptions(x)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=I.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(x){var H=I.perfLimitSizeTotal,W=x.width,Z=x.height,ee=I.maxCacheSideLimit,ae=I.minCacheSideLimit;if(W<=ee&&Z<=ee&&W*Z<=H)return W<ae&&(x.width=ae),Z<ae&&(x.height=ae),x;var we=I.util.limitDimsByArea(W/Z,H),De=I.util.capValue,Ne=De(ae,we.x,ee),bt=De(ae,we.y,ee);return W>Ne&&(x.zoomX/=W/Ne,x.width=Ne,x.capped=!0),Z>bt&&(x.zoomY/=Z/bt,x.height=bt,x.capped=!0),x},_getCacheCanvasDimensions:function(){var x=this.getTotalObjectScaling(),H=this._getTransformedDimensions(0,0),W=H.x*x.scaleX/this.scaleX,Z=H.y*x.scaleY/this.scaleY;return{width:W+2,height:Z+2,zoomX:x.scaleX,zoomY:x.scaleY,x:W,y:Z}},_updateCacheCanvas:function(){var x=this.canvas;if(this.noScaleCache&&x&&x._currentTransform){var W=x._currentTransform.action;if(this===x._currentTransform.target&&W.slice&&"scale"===W.slice(0,5))return!1}var De,Ne,Z=this._cacheCanvas,ee=this._limitCacheSize(this._getCacheCanvasDimensions()),ae=I.minCacheSideLimit,ue=ee.width,we=ee.height,bt=ee.zoomX,gt=ee.zoomY,ei=ue!==this.cacheWidth||we!==this.cacheHeight,Yt=ei||this.zoomX!==bt||this.zoomY!==gt,Le=0,Gi=0,Ft=!1;if(ei){var Li=this._cacheCanvas.width,ht=this._cacheCanvas.height,ct=ue>Li||we>ht;Ft=ct||(ue<.9*Li||we<.9*ht)&&Li>ae&&ht>ae,ct&&!ee.capped&&(ue>ae||we>ae)&&(Le=.1*ue,Gi=.1*we)}return this instanceof I.Text&&this.path&&(Yt=!0,Ft=!0,Le+=this.getHeightOfLine(0)*this.zoomX,Gi+=this.getHeightOfLine(0)*this.zoomY),!!Yt&&(Ft?(Z.width=Math.ceil(ue+Le),Z.height=Math.ceil(we+Gi)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,Z.width,Z.height)),De=ee.x/2,Ne=ee.y/2,this.cacheTranslationX=Math.round(Z.width/2-De)+De,this.cacheTranslationY=Math.round(Z.height/2-Ne)+Ne,this.cacheWidth=ue,this.cacheHeight=we,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(bt,gt),this.zoomX=bt,this.zoomY=gt,!0)},setOptions:function(x){this._setOptions(x),this._initGradient(x.fill,"fill"),this._initGradient(x.stroke,"stroke"),this._initPattern(x.fill,"fill"),this._initPattern(x.stroke,"stroke")},transform:function(x){var W=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&x===this.canvas.contextTop));x.transform(W[0],W[1],W[2],W[3],W[4],W[5])},toObject:function(x){var H=I.Object.NUM_FRACTION_DIGITS,W={type:this.type,version:I.version,originX:this.originX,originY:this.originY,left:y(this.left,H),top:y(this.top,H),width:y(this.width,H),height:y(this.height,H),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:y(this.strokeWidth,H),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:y(this.strokeMiterLimit,H),scaleX:y(this.scaleX,H),scaleY:y(this.scaleY,H),angle:y(this.angle,H),flipX:this.flipX,flipY:this.flipY,opacity:y(this.opacity,H),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:y(this.skewX,H),skewY:y(this.skewY,H)};return this.clipPath&&!this.clipPath.excludeFromExport&&(W.clipPath=this.clipPath.toObject(x),W.clipPath.inverted=this.clipPath.inverted,W.clipPath.absolutePositioned=this.clipPath.absolutePositioned),I.util.populateWithProperties(this,W,x),this.includeDefaultValues||(W=this._removeDefaultValues(W)),W},toDatalessObject:function(x){return this.toObject(x)},_removeDefaultValues:function(x){var H=I.util.getKlass(x.type).prototype;return H.stateProperties.forEach(function(Z){"left"!==Z&&"top"!==Z&&(x[Z]===H[Z]&&delete x[Z],"[object Array]"===Object.prototype.toString.call(x[Z])&&"[object Array]"===Object.prototype.toString.call(H[Z])&&0===x[Z].length&&0===H[Z].length&&delete x[Z])}),x},toString:function(){return"#<fabric."+b(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var x=I.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(x.scaleX),scaleY:Math.abs(x.scaleY)}},getTotalObjectScaling:function(){var x=this.getObjectScaling(),H=x.scaleX,W=x.scaleY;if(this.canvas){var Z=this.canvas.getZoom(),ee=this.canvas.getRetinaScaling();H*=Z*ee,W*=Z*ee}return{scaleX:H,scaleY:W}},getObjectOpacity:function(){var x=this.opacity;return this.group&&(x*=this.group.getObjectOpacity()),x},_set:function(x,H){var Z=this[x]!==H,ee=!1;return("scaleX"===x||"scaleY"===x)&&(H=this._constrainScale(H)),"scaleX"===x&&H<0?(this.flipX=!this.flipX,H*=-1):"scaleY"===x&&H<0?(this.flipY=!this.flipY,H*=-1):"shadow"!==x||!H||H instanceof I.Shadow?"dirty"===x&&this.group&&this.group.set("dirty",H):H=new I.Shadow(H),this[x]=H,Z&&(ee=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(x)>-1?(this.dirty=!0,ee&&this.group.set("dirty",!0)):ee&&this.stateProperties.indexOf(x)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:I.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(x){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(x.save(),this._setupCompositeOperation(x),this.drawSelectionBackground(x),this.transform(x),this._setOpacity(x),this._setShadow(x,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(x)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(x),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),x.restore())},renderCache:function(x){x=x||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,x.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(x){var H=this.clipPath;if(x.save(),x.globalCompositeOperation=H.inverted?"destination-out":"destination-in",H.absolutePositioned){var W=I.util.invertTransform(this.calcTransformMatrix());x.transform(W[0],W[1],W[2],W[3],W[4],W[5])}H.transform(x),x.scale(1/H.zoomX,1/H.zoomY),x.drawImage(H._cacheCanvas,-H.cacheTranslationX,-H.cacheTranslationY),x.restore()},drawObject:function(x,H){var W=this.fill,Z=this.stroke;H?(this.fill="black",this.stroke="",this._setClippingProperties(x)):this._renderBackground(x),this._render(x),this._drawClipPath(x),this.fill=W,this.stroke=Z},_drawClipPath:function(x){var H=this.clipPath;H&&(H.canvas=this.canvas,H.shouldCache(),H._transformDone=!0,H.renderCache({forClipping:!0}),this.drawClipPathOnCache(x))},drawCacheOnCanvas:function(x){x.scale(1/this.zoomX,1/this.zoomY),x.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(x){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!x&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!x){var H=this.cacheWidth/this.zoomX,W=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-H/2,-W/2,H,W)}return!0}return!1},_renderBackground:function(x){if(this.backgroundColor){var H=this._getNonTransformedDimensions();x.fillStyle=this.backgroundColor,x.fillRect(-H.x/2,-H.y/2,H.x,H.y),this._removeShadow(x)}},_setOpacity:function(x){this.group&&!this.group._transformDone?x.globalAlpha=this.getObjectOpacity():x.globalAlpha*=this.opacity},_setStrokeStyles:function(x,H){var W=H.stroke;W&&(x.lineWidth=H.strokeWidth,x.lineCap=H.strokeLineCap,x.lineDashOffset=H.strokeDashOffset,x.lineJoin=H.strokeLineJoin,x.miterLimit=H.strokeMiterLimit,W.toLive?"percentage"===W.gradientUnits||W.gradientTransform||W.patternTransform?this._applyPatternForTransformedGradient(x,W):(x.strokeStyle=W.toLive(x,this),this._applyPatternGradientTransform(x,W)):x.strokeStyle=H.stroke)},_setFillStyles:function(x,H){var W=H.fill;W&&(W.toLive?(x.fillStyle=W.toLive(x,this),this._applyPatternGradientTransform(x,H.fill)):x.fillStyle=W)},_setClippingProperties:function(x){x.globalAlpha=1,x.strokeStyle="transparent",x.fillStyle="#000000"},_setLineDash:function(x,H){!H||0===H.length||(1&H.length&&H.push.apply(H,H),x.setLineDash(H))},_renderControls:function(x,H){var ee,ae,ue,W=this.getViewportTransform(),Z=this.calcTransformMatrix();ae=typeof(H=H||{}).hasBorders<"u"?H.hasBorders:this.hasBorders,ue=typeof H.hasControls<"u"?H.hasControls:this.hasControls,Z=I.util.multiplyTransformMatrices(W,Z),ee=I.util.qrDecompose(Z),x.save(),x.translate(ee.translateX,ee.translateY),x.lineWidth=1*this.borderScaleFactor,this.group||(x.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),x.rotate(C(ee.angle)),H.forActiveSelection||this.group?ae&&this.drawBordersInGroup(x,ee,H):ae&&this.drawBorders(x,H),ue&&this.drawControls(x,H),x.restore()},_setShadow:function(x){if(this.shadow){var Z,H=this.shadow,W=this.canvas,ee=W&&W.viewportTransform[0]||1,ae=W&&W.viewportTransform[3]||1;Z=H.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),W&&W._isRetinaScaling()&&(ee*=I.devicePixelRatio,ae*=I.devicePixelRatio),x.shadowColor=H.color,x.shadowBlur=H.blur*I.browserShadowBlurConstant*(ee+ae)*(Z.scaleX+Z.scaleY)/4,x.shadowOffsetX=H.offsetX*ee*Z.scaleX,x.shadowOffsetY=H.offsetY*ae*Z.scaleY}},_removeShadow:function(x){this.shadow&&(x.shadowColor="",x.shadowBlur=x.shadowOffsetX=x.shadowOffsetY=0)},_applyPatternGradientTransform:function(x,H){if(!H||!H.toLive)return{offsetX:0,offsetY:0};var W=H.gradientTransform||H.patternTransform,Z=-this.width/2+H.offsetX||0,ee=-this.height/2+H.offsetY||0;return"percentage"===H.gradientUnits?x.transform(this.width,0,0,this.height,Z,ee):x.transform(1,0,0,1,Z,ee),W&&x.transform(W[0],W[1],W[2],W[3],W[4],W[5]),{offsetX:Z,offsetY:ee}},_renderPaintInOrder:function(x){"stroke"===this.paintFirst?(this._renderStroke(x),this._renderFill(x)):(this._renderFill(x),this._renderStroke(x))},_render:function(){},_renderFill:function(x){this.fill&&(x.save(),this._setFillStyles(x,this),"evenodd"===this.fillRule?x.fill("evenodd"):x.fill(),x.restore())},_renderStroke:function(x){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(x),x.save(),this.strokeUniform&&this.group){var H=this.getObjectScaling();x.scale(1/H.scaleX,1/H.scaleY)}else this.strokeUniform&&x.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(x,this.strokeDashArray),this._setStrokeStyles(x,this),x.stroke(),x.restore()}},_applyPatternForTransformedGradient:function(x,H){var ee,W=this._limitCacheSize(this._getCacheCanvasDimensions()),Z=I.util.createCanvasElement(),ae=this.canvas.getRetinaScaling(),ue=W.x/this.scaleX/ae,we=W.y/this.scaleY/ae;Z.width=ue,Z.height=we,(ee=Z.getContext("2d")).beginPath(),ee.moveTo(0,0),ee.lineTo(ue,0),ee.lineTo(ue,we),ee.lineTo(0,we),ee.closePath(),ee.translate(ue/2,we/2),ee.scale(W.zoomX/this.scaleX/ae,W.zoomY/this.scaleY/ae),this._applyPatternGradientTransform(ee,H),ee.fillStyle=H.toLive(x),ee.fill(),x.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),x.scale(ae*this.scaleX/W.zoomX,ae*this.scaleY/W.zoomY),x.strokeStyle=ee.createPattern(Z,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var x=I.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",x.scaleX),this.set("scaleY",x.scaleY),this.angle=x.angle,this.skewX=x.skewX,this.skewY=0}},_removeTransformMatrix:function(x){var H=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),H=I.util.transformPoint(H,this.transformMatrix)),this.transformMatrix=null,x&&(this.scaleX*=x.scaleX,this.scaleY*=x.scaleY,this.cropX=x.cropX,this.cropY=x.cropY,H.x+=x.offsetLeft,H.y+=x.offsetTop,this.width=x.width,this.height=x.height),this.setPositionByOrigin(H,"center","center")},clone:function(x,H){var W=this.toObject(H);this.constructor.fromObject?this.constructor.fromObject(W,x):I.Object._fromObject("Object",W,x)},cloneAsImage:function(x,H){var W=this.toCanvasElement(H);return x&&x(new I.Image(W)),this},toCanvasElement:function(x){x||(x={});var H=I.util,W=H.saveObjectTransform(this),Z=this.group,ee=this.shadow,ae=Math.abs,ue=(x.multiplier||1)*(x.enableRetinaScaling?I.devicePixelRatio:1);delete this.group,x.withoutTransform&&H.resetObjectTransform(this),x.withoutShadow&&(this.shadow=null);var bt,ei,Yt,we=I.util.createCanvasElement(),De=this.getBoundingRect(!0,!0),Ne=this.shadow,gt={x:0,y:0};Ne&&(ei=Ne.blur,bt=Ne.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),gt.x=2*Math.round(ae(Ne.offsetX)+ei)*ae(bt.scaleX),gt.y=2*Math.round(ae(Ne.offsetY)+ei)*ae(bt.scaleY)),Yt=De.height+gt.y,we.width=Math.ceil(De.width+gt.x),we.height=Math.ceil(Yt);var Le=new I.StaticCanvas(we,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===x.format&&(Le.backgroundColor="#fff"),this.setPositionByOrigin(new I.Point(Le.width/2,Le.height/2),"center","center");var Gi=this.canvas;Le.add(this);var Ft=Le.toCanvasElement(ue||1,x);return this.shadow=ee,this.set("canvas",Gi),Z&&(this.group=Z),this.set(W).setCoords(),Le._objects=[],Le.dispose(),Le=null,Ft},toDataURL:function(x){return x||(x={}),I.util.toDataURL(this.toCanvasElement(x),x.format||"png",x.quality||1)},isType:function(x){return this.type===x},complexity:function(){return 1},toJSON:function(x){return this.toObject(x)},rotate:function(x){var H=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return H&&this._setOriginToCenter(),this.set("angle",x),H&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(x,H){H=H||this.canvas.getPointer(x);var W=new I.Point(H.x,H.y),Z=this._getLeftTopCoords();return this.angle&&(W=I.util.rotatePoint(W,Z,C(-this.angle))),{x:W.x-Z.x,y:W.y-Z.y}},_setupCompositeOperation:function(x){this.globalCompositeOperation&&(x.globalCompositeOperation=this.globalCompositeOperation)}}),I.util.createAccessors&&I.util.createAccessors(I.Object),N(I.Object.prototype,I.Observable),I.Object.NUM_FRACTION_DIGITS=2,I.Object._fromObject=function(x,H,W,Z){var ee=I[x];H=k(H,!0),I.util.enlivenPatterns([H.fill,H.stroke],function(ae){typeof ae[0]<"u"&&(H.fill=ae[0]),typeof ae[1]<"u"&&(H.stroke=ae[1]),I.util.enlivenObjects([H.clipPath],function(ue){H.clipPath=ue[0];var we=Z?new ee(H[Z],H):new ee(H);W&&W(we)})})},I.Object.__uid=0)}(le),function(){var F=_.util.degreesToRadians,I={left:-.5,center:0,right:.5},N={top:-.5,center:0,bottom:.5};_.util.object.extend(_.Object.prototype,{translateToGivenOrigin:function(k,y,b,C,E){var H,W,Z,z=k.x,x=k.y;return"string"==typeof y?y=I[y]:y-=.5,"string"==typeof C?C=I[C]:C-=.5,"string"==typeof b?b=N[b]:b-=.5,"string"==typeof E?E=N[E]:E-=.5,W=E-b,((H=C-y)||W)&&(Z=this._getTransformedDimensions(),z=k.x+H*Z.x,x=k.y+W*Z.y),new _.Point(z,x)},translateToCenterPoint:function(k,y,b){var C=this.translateToGivenOrigin(k,y,b,"center","center");return this.angle?_.util.rotatePoint(C,k,F(this.angle)):C},translateToOriginPoint:function(k,y,b){var C=this.translateToGivenOrigin(k,"center","center",y,b);return this.angle?_.util.rotatePoint(C,k,F(this.angle)):C},getCenterPoint:function(){var k=new _.Point(this.left,this.top);return this.translateToCenterPoint(k,this.originX,this.originY)},getPointByOrigin:function(k,y){var b=this.getCenterPoint();return this.translateToOriginPoint(b,k,y)},toLocalPoint:function(k,y,b){var E,z,C=this.getCenterPoint();return E=typeof y<"u"&&typeof b<"u"?this.translateToGivenOrigin(C,"center","center",y,b):new _.Point(this.left,this.top),z=new _.Point(k.x,k.y),this.angle&&(z=_.util.rotatePoint(z,C,-F(this.angle))),z.subtractEquals(E)},setPositionByOrigin:function(k,y,b){var C=this.translateToCenterPoint(k,y,b),E=this.translateToOriginPoint(C,this.originX,this.originY);this.set("left",E.x),this.set("top",E.y)},adjustPosition:function(k){var z,x,y=F(this.angle),b=this.getScaledWidth(),C=_.util.cos(y)*b,E=_.util.sin(y)*b;this.left+=C*((x="string"==typeof k?I[k]:k-.5)-(z="string"==typeof this.originX?I[this.originX]:this.originX-.5)),this.top+=E*(x-z),this.setCoords(),this.originX=k},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var k=this.getCenterPoint();this.originX="center",this.originY="center",this.left=k.x,this.top=k.y},_resetOrigin:function(){var k=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=k.x,this.top=k.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var I=_.util,N=I.degreesToRadians,k=I.multiplyTransformMatrices,y=I.transformPoint;I.object.extend(_.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(b,C){return C?b?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),b?this.aCoords:this.lineCoords)},getCoords:function(b,C){return function F(b){return[new _.Point(b.tl.x,b.tl.y),new _.Point(b.tr.x,b.tr.y),new _.Point(b.br.x,b.br.y),new _.Point(b.bl.x,b.bl.y)]}(this._getCoords(b,C))},intersectsWithRect:function(b,C,E,z){var x=this.getCoords(E,z);return"Intersection"===_.Intersection.intersectPolygonRectangle(x,b,C).status},intersectsWithObject:function(b,C,E){return"Intersection"===_.Intersection.intersectPolygonPolygon(this.getCoords(C,E),b.getCoords(C,E)).status||b.isContainedWithinObject(this,C,E)||this.isContainedWithinObject(b,C,E)},isContainedWithinObject:function(b,C,E){for(var z=this.getCoords(C,E),H=0,W=b._getImageLines(C?b.aCoords:b.lineCoords);H<4;H++)if(!b.containsPoint(z[H],W))return!1;return!0},isContainedWithinRect:function(b,C,E,z){var x=this.getBoundingRect(E,z);return x.left>=b.x&&x.left+x.width<=C.x&&x.top>=b.y&&x.top+x.height<=C.y},containsPoint:function(b,H,E,z){var x=this._getCoords(E,z),W=(H=H||this._getImageLines(x),this._findCrossPoints(b,H));return 0!==W&&W%2==1},isOnScreen:function(b){if(!this.canvas)return!1;var C=this.canvas.vptCoords.tl,E=this.canvas.vptCoords.br;return!(!this.getCoords(!0,b).some(function(x){return x.x<=E.x&&x.x>=C.x&&x.y<=E.y&&x.y>=C.y})&&!this.intersectsWithRect(C,E,!0,b))||this._containsCenterOfCanvas(C,E,b)},_containsCenterOfCanvas:function(b,C,E){return!!this.containsPoint({x:(b.x+C.x)/2,y:(b.y+C.y)/2},null,!0,E)},isPartiallyOnScreen:function(b){if(!this.canvas)return!1;var C=this.canvas.vptCoords.tl,E=this.canvas.vptCoords.br;return!!this.intersectsWithRect(C,E,!0,b)||this.getCoords(!0,b).every(function(x){return(x.x>=E.x||x.x<=C.x)&&(x.y>=E.y||x.y<=C.y)})&&this._containsCenterOfCanvas(C,E,b)},_getImageLines:function(b){return{topline:{o:b.tl,d:b.tr},rightline:{o:b.tr,d:b.br},bottomline:{o:b.br,d:b.bl},leftline:{o:b.bl,d:b.tl}}},_findCrossPoints:function(b,C){var z,x,H,W,ee,Z=0;for(var ae in C)if(!((ee=C[ae]).o.y<b.y&&ee.d.y<b.y||ee.o.y>=b.y&&ee.d.y>=b.y||(ee.o.x===ee.d.x&&ee.o.x>=b.x?W=ee.o.x:(0,z=(ee.d.y-ee.o.y)/(ee.d.x-ee.o.x),x=b.y-0*b.x,H=ee.o.y-z*ee.o.x,W=-(x-H)/(0-z)),W>=b.x&&(Z+=1),2!==Z)))break;return Z},getBoundingRect:function(b,C){var E=this.getCoords(b,C);return I.makeBoundingBoxFromPoints(E)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(b){return Math.abs(b)<this.minScaleLimit?b<0?-this.minScaleLimit:this.minScaleLimit:0===b?1e-4:b},scale:function(b){return this._set("scaleX",b),this._set("scaleY",b),this.setCoords()},scaleToWidth:function(b,C){var E=this.getBoundingRect(C).width/this.getScaledWidth();return this.scale(b/this.width/E)},scaleToHeight:function(b,C){var E=this.getBoundingRect(C).height/this.getScaledHeight();return this.scale(b/this.height/E)},calcCoords:function(b){return b?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var b=this.getViewportTransform(),C=this.padding,E=N(this.angle),H=I.cos(E)*C,W=I.sin(E)*C,Z=H+W,ee=H-W,ae=this.calcACoords(),ue={tl:y(ae.tl,b),tr:y(ae.tr,b),bl:y(ae.bl,b),br:y(ae.br,b)};return C&&(ue.tl.x-=ee,ue.tl.y-=Z,ue.tr.x+=Z,ue.tr.y-=ee,ue.bl.x-=Z,ue.bl.y+=ee,ue.br.x+=ee,ue.br.y+=Z),ue},calcOCoords:function(){var b=this._calcRotateMatrix(),C=this._calcTranslateMatrix(),E=this.getViewportTransform(),z=k(E,C),x=k(z,b),H=(x=k(x,[1/E[0],0,0,1/E[3],0,0]),this._calculateCurrentDimensions()),W={};return this.forEachControl(function(Z,ee,ae){W[ee]=Z.positionHandler(H,x,ae)}),W},calcACoords:function(){var b=this._calcRotateMatrix(),C=this._calcTranslateMatrix(),E=k(C,b),z=this._getTransformedDimensions(),x=z.x/2,H=z.y/2;return{tl:y({x:-x,y:-H},E),tr:y({x,y:-H},E),bl:y({x:-x,y:H},E),br:y({x,y:H},E)}},setCoords:function(b){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),b||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return I.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var b=this.getCenterPoint();return[1,0,0,1,b.x,b.y]},transformMatrixKey:function(b){var C="_",E="";return!b&&this.group&&(E=this.group.transformMatrixKey(b)+C),E+this.top+C+this.left+C+this.scaleX+C+this.scaleY+C+this.skewX+C+this.skewY+C+this.angle+C+this.originX+C+this.originY+C+this.width+C+this.height+C+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(b){var C=this.calcOwnMatrix();if(b||!this.group)return C;var E=this.transformMatrixKey(b),z=this.matrixCache||(this.matrixCache={});return z.key===E?z.value:(this.group&&(C=k(this.group.calcTransformMatrix(!1),C)),z.key=E,z.value=C,C)},calcOwnMatrix:function(){var b=this.transformMatrixKey(!0),C=this.ownMatrixCache||(this.ownMatrixCache={});if(C.key===b)return C.value;var E=this._calcTranslateMatrix(),z={angle:this.angle,translateX:E[4],translateY:E[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return C.key=b,C.value=I.composeMatrix(z),C.value},_calcDimensionsTransformMatrix:function(b,C,E){return I.calcDimensionsMatrix({skewX:b,skewY:C,scaleX:this.scaleX*(E&&this.flipX?-1:1),scaleY:this.scaleY*(E&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var b=this.strokeWidth;return{x:this.width+b,y:this.height+b}},_getTransformedDimensions:function(b,C){typeof b>"u"&&(b=this.skewX),typeof C>"u"&&(C=this.skewY);var E,z,x,H=0===b&&0===C;if(this.strokeUniform?(z=this.width,x=this.height):(z=(E=this._getNonTransformedDimensions()).x,x=E.y),H)return this._finalizeDimensions(z*this.scaleX,x*this.scaleY);var W=I.sizeAfterTransform(z,x,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:b,skewY:C});return this._finalizeDimensions(W.x,W.y)},_finalizeDimensions:function(b,C){return this.strokeUniform?{x:b+this.strokeWidth,y:C+this.strokeWidth}:{x:b,y:C}},_calculateCurrentDimensions:function(){var b=this.getViewportTransform(),C=this._getTransformedDimensions();return y(C,b,!0).scalarAdd(2*this.padding)}})}(),_.util.object.extend(_.Object.prototype,{sendToBack:function(){return this.group?_.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?_.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(F){return this.group?_.StaticCanvas.prototype.sendBackwards.call(this.group,this,F):this.canvas&&this.canvas.sendBackwards(this,F),this},bringForward:function(F){return this.group?_.StaticCanvas.prototype.bringForward.call(this.group,this,F):this.canvas&&this.canvas.bringForward(this,F),this},moveTo:function(F){return this.group&&"activeSelection"!==this.group.type?_.StaticCanvas.prototype.moveTo.call(this.group,this,F):this.canvas&&this.canvas.moveTo(this,F),this}}),function(){function F(N,k){if(k){if(k.toLive)return N+": url(#SVGID_"+k.id+"); ";var y=new _.Color(k),b=N+": "+y.toRgb()+"; ",C=y.getAlpha();return 1!==C&&(b+=N+"-opacity: "+C.toString()+"; "),b}return N+": none; "}var I=_.util.toFixed;_.util.object.extend(_.Object.prototype,{getSvgStyles:function(N){var k=this.fillRule?this.fillRule:"nonzero",y=this.strokeWidth?this.strokeWidth:"0",b=this.strokeDashArray?this.strokeDashArray.join(" "):"none",C=this.strokeDashOffset?this.strokeDashOffset:"0",E=this.strokeLineCap?this.strokeLineCap:"butt",z=this.strokeLineJoin?this.strokeLineJoin:"miter",x=this.strokeMiterLimit?this.strokeMiterLimit:"4",H=typeof this.opacity<"u"?this.opacity:"1",W=this.visible?"":" visibility: hidden;",Z=N?"":this.getSvgFilter(),ee=F("fill",this.fill);return[F("stroke",this.stroke),"stroke-width: ",y,"; ","stroke-dasharray: ",b,"; ","stroke-linecap: ",E,"; ","stroke-dashoffset: ",C,"; ","stroke-linejoin: ",z,"; ","stroke-miterlimit: ",x,"; ",ee,"fill-rule: ",k,"; ","opacity: ",H,";",Z,W].join("")},getSvgSpanStyles:function(N,k){var y="; ",C=N.fontFamily?"font-family: "+(-1===N.fontFamily.indexOf("'")&&-1===N.fontFamily.indexOf('"')?"'"+N.fontFamily+"'":N.fontFamily)+y:"",b=N.strokeWidth?"stroke-width: "+N.strokeWidth+y:"",E=N.fontSize?"font-size: "+N.fontSize+"px"+y:"",z=N.fontStyle?"font-style: "+N.fontStyle+y:"",x=N.fontWeight?"font-weight: "+N.fontWeight+y:"",H=N.fill?F("fill",N.fill):"",W=N.stroke?F("stroke",N.stroke):"",Z=this.getSvgTextDecoration(N);return Z&&(Z="text-decoration: "+Z+y),[W,b,C,E,z,x,Z,H,N.deltaY?"baseline-shift: "+-N.deltaY+"; ":"",k?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(N){return["overline","underline","line-through"].filter(function(k){return N[k.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(N,k){var y=N?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+_.util.matrixToSVG(y)+(k||"")+'" '},_setSVGBg:function(N){if(this.backgroundColor){var k=_.Object.NUM_FRACTION_DIGITS;N.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',I(-this.width/2,k),'" y="',I(-this.height/2,k),'" width="',I(this.width,k),'" height="',I(this.height,k),'"></rect>\n')}},toSVG:function(N){return this._createBaseSVGMarkup(this._toSVG(N),{reviver:N})},toClipPathSVG:function(N){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(N),{reviver:N})},_createBaseClipPathSVGMarkup:function(N,k){var y=(k=k||{}).reviver,C=[this.getSvgTransform(!0,k.additionalTransform||""),this.getSvgCommons()].join(""),E=N.indexOf("COMMON_PARTS");return N[E]=C,y?y(N.join("")):N.join("")},_createBaseSVGMarkup:function(N,k){var ae,we,y=(k=k||{}).noStyle,b=k.reviver,C=y?"":'style="'+this.getSvgStyles()+'" ',E=k.withShadow?'style="'+this.getSvgFilter()+'" ':"",z=this.clipPath,x=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",H=z&&z.absolutePositioned,W=this.stroke,Z=this.fill,ee=this.shadow,ue=[],De=N.indexOf("COMMON_PARTS"),Ne=k.additionalTransform;return z&&(z.clipPathId="CLIPPATH_"+_.Object.__uid++,we='<clipPath id="'+z.clipPathId+'" >\n'+z.toClipPathSVG(b)+"</clipPath>\n"),H&&ue.push("<g ",E,this.getSvgCommons()," >\n"),ue.push("<g ",this.getSvgTransform(!1),H?"":E+this.getSvgCommons()," >\n"),ae=[C,x,y?"":this.addPaintOrder()," ",Ne?'transform="'+Ne+'" ':""].join(""),N[De]=ae,Z&&Z.toLive&&ue.push(Z.toSVG(this)),W&&W.toLive&&ue.push(W.toSVG(this)),ee&&ue.push(ee.toSVG(this)),z&&ue.push(we),ue.push(N.join("")),ue.push("</g>\n"),H&&ue.push("</g>\n"),b?b(ue.join("")):ue.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var F=_.util.object.extend,I="stateProperties";function N(y,b,C){var E={};C.forEach(function(x){E[x]=y[x]}),F(y[b],E,!0)}function k(y,b,C){if(y===b)return!0;if(Array.isArray(y)){if(!Array.isArray(b)||y.length!==b.length)return!1;for(var E=0,z=y.length;E<z;E++)if(!k(y[E],b[E]))return!1;return!0}if(y&&"object"==typeof y){var H,x=Object.keys(y);if(!b||"object"!=typeof b||!C&&x.length!==Object.keys(b).length)return!1;for(E=0,z=x.length;E<z;E++)if("canvas"!==(H=x[E])&&"group"!==H&&!k(y[H],b[H]))return!1;return!0}}_.util.object.extend(_.Object.prototype,{hasStateChanged:function(y){var b="_"+(y=y||I);return Object.keys(this[b]).length<this[y].length||!k(this[b],this,!0)},saveState:function(y){var b=y&&y.propertySet||I,C="_"+b;return this[C]?(N(this,C,this[b]),y&&y.stateProperties&&N(this,C,y.stateProperties),this):this.setupState(y)},setupState:function(y){var b=(y=y||{}).propertySet||I;return y.propertySet=b,this["_"+b]={},this.saveState(y),this}})}(),function(){var F=_.util.degreesToRadians;_.util.object.extend(_.Object.prototype,{_findTargetCorner:function(I,N){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var b,C,x,k=I.x,y=I.y,E=Object.keys(this.oCoords),z=E.length-1;for(this.__corner=0;z>=0;z--)if(this.isControlVisible(x=E[z])&&(C=this._getImageLines(N?this.oCoords[x].touchCorner:this.oCoords[x].corner),0!==(b=this._findCrossPoints({x:k,y},C))&&b%2==1))return this.__corner=x,x;return!1},forEachControl:function(I){for(var N in this.controls)I(this.controls[N],N,this)},_setCornerCoords:function(){var I=this.oCoords;for(var N in I){var k=this.controls[N];I[N].corner=k.calcCornerCoords(this.angle,this.cornerSize,I[N].x,I[N].y,!1),I[N].touchCorner=k.calcCornerCoords(this.angle,this.touchCornerSize,I[N].x,I[N].y,!0)}},drawSelectionBackground:function(I){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;I.save();var N=this.getCenterPoint(),k=this._calculateCurrentDimensions(),y=this.canvas.viewportTransform;return I.translate(N.x,N.y),I.scale(1/y[0],1/y[3]),I.rotate(F(this.angle)),I.fillStyle=this.selectionBackgroundColor,I.fillRect(-k.x/2,-k.y/2,k.x,k.y),I.restore(),this},drawBorders:function(I,N){N=N||{};var k=this._calculateCurrentDimensions(),y=this.borderScaleFactor,b=k.x+y,C=k.y+y,E=typeof N.hasControls<"u"?N.hasControls:this.hasControls,z=!1;return I.save(),I.strokeStyle=N.borderColor||this.borderColor,this._setLineDash(I,N.borderDashArray||this.borderDashArray),I.strokeRect(-b/2,-C/2,b,C),E&&(I.beginPath(),this.forEachControl(function(x,H,W){x.withConnection&&x.getVisibility(W,H)&&(z=!0,I.moveTo(x.x*b,x.y*C),I.lineTo(x.x*b+x.offsetX,x.y*C+x.offsetY))}),z&&I.stroke()),I.restore(),this},drawBordersInGroup:function(I,N,k){k=k||{};var y=_.util.sizeAfterTransform(this.width,this.height,N),b=this.strokeWidth,C=this.strokeUniform,E=this.borderScaleFactor,z=y.x+b*(C?this.canvas.getZoom():N.scaleX)+E,x=y.y+b*(C?this.canvas.getZoom():N.scaleY)+E;return I.save(),this._setLineDash(I,k.borderDashArray||this.borderDashArray),I.strokeStyle=k.borderColor||this.borderColor,I.strokeRect(-z/2,-x/2,z,x),I.restore(),this},drawControls:function(I,N){N=N||{},I.save();var y,b,k=this.canvas.getRetinaScaling();return I.setTransform(k,0,0,k,0,0),I.strokeStyle=I.fillStyle=N.cornerColor||this.cornerColor,this.transparentCorners||(I.strokeStyle=N.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(I,N.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(y=this.group.calcTransformMatrix()),this.forEachControl(function(C,E,z){b=z.oCoords[E],C.getVisibility(z,E)&&(y&&(b=_.util.transformPoint(b,y)),C.render(I,b.x,b.y,N,z))}),I.restore(),this},isControlVisible:function(I){return this.controls[I]&&this.controls[I].getVisibility(this,I)},setControlVisible:function(I,N){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[I]=N,this},setControlsVisibility:function(I){for(var N in I||(I={}),I)this.setControlVisible(N,I[N]);return this},onDeselect:function(){},onSelect:function(){}})}(),_.util.object.extend(_.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(F,I){var N=function(){},k=(I=I||{}).onComplete||N,y=I.onChange||N,b=this;return _.util.animate({startValue:F.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(C){F.set("left",C),b.requestRenderAll(),y()},onComplete:function(){F.setCoords(),k()}}),this},fxCenterObjectV:function(F,I){var N=function(){},k=(I=I||{}).onComplete||N,y=I.onChange||N,b=this;return _.util.animate({startValue:F.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(C){F.set("top",C),b.requestRenderAll(),y()},onComplete:function(){F.setCoords(),k()}}),this},fxRemove:function(F,I){var N=function(){},k=(I=I||{}).onComplete||N,y=I.onChange||N,b=this;return _.util.animate({startValue:F.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(C){F.set("opacity",C),b.requestRenderAll(),y()},onComplete:function(){b.remove(F),k()}}),this}}),_.util.object.extend(_.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var I,F=[];for(I in arguments[0])F.push(I);for(var k=0,y=F.length;k<y;k++)this._animate(I=F[k],arguments[0][I],arguments[1],k!==y-1)}else this._animate.apply(this,arguments);return this},_animate:function(F,I,N,k){var b,y=this;I=I.toString(),N=N?_.util.object.clone(N):{},~F.indexOf(".")&&(b=F.split("."));var C=y.colorProperties.indexOf(F)>-1||b&&y.colorProperties.indexOf(b[1])>-1,E=b?this.get(b[0])[b[1]]:this.get(F);"from"in N||(N.from=E),C||(I=~I.indexOf("=")?E+parseFloat(I.replace("=","")):parseFloat(I));var z={startValue:N.from,endValue:I,byValue:N.by,easing:N.easing,duration:N.duration,abort:N.abort&&function(x,H,W){return N.abort.call(y,x,H,W)},onChange:function(x,H,W){b?y[b[0]][b[1]]=x:y.set(F,x),!k&&N.onChange&&N.onChange(x,H,W)},onComplete:function(x,H,W){k||(y.setCoords(),N.onComplete&&N.onComplete(x,H,W))}};return C?_.util.animateColor(z.startValue,z.endValue,z.duration,z):_.util.animate(z)}}),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.util.object.clone,y={x1:1,x2:1,y1:1,y2:1};function b(C,E){var z=C.origin,x=C.axis1,H=C.axis2,W=C.dimension,Z=E.nearest,ee=E.center,ae=E.farthest;return function(){switch(this.get(z)){case Z:return Math.min(this.get(x),this.get(H));case ee:return Math.min(this.get(x),this.get(H))+.5*this.get(W);case ae:return Math.max(this.get(x),this.get(H))}}}I.Line?I.warn("fabric.Line is already defined"):(I.Line=I.util.createClass(I.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:I.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(C,E){C||(C=[0,0,0,0]),this.callSuper("initialize",E),this.set("x1",C[0]),this.set("y1",C[1]),this.set("x2",C[2]),this.set("y2",C[3]),this._setWidthHeight(E)},_setWidthHeight:function(C){C||(C={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in C?C.left:this._getLeftToOriginX(),this.top="top"in C?C.top:this._getTopToOriginY()},_set:function(C,E){return this.callSuper("_set",C,E),typeof y[C]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:b({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:b({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(C){C.beginPath();var E=this.calcLinePoints();C.moveTo(E.x1,E.y1),C.lineTo(E.x2,E.y2),C.lineWidth=this.strokeWidth;var z=C.strokeStyle;C.strokeStyle=this.stroke||C.fillStyle,this.stroke&&this._renderStroke(C),C.strokeStyle=z},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(C){return N(this.callSuper("toObject",C),this.calcLinePoints())},_getNonTransformedDimensions:function(){var C=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(C.y-=this.strokeWidth),0===this.height&&(C.x-=this.strokeWidth)),C},calcLinePoints:function(){var C=this.x1<=this.x2?-1:1,E=this.y1<=this.y2?-1:1;return{x1:C*this.width*.5,x2:C*this.width*-.5,y1:E*this.height*.5,y2:E*this.height*-.5}},_toSVG:function(){var C=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',C.x1,'" y1="',C.y1,'" x2="',C.x2,'" y2="',C.y2,'" />\n']}}),I.Line.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),I.Line.fromElement=function(C,E,z){z=z||{};var x=I.parseAttributes(C,I.Line.ATTRIBUTE_NAMES);E(new I.Line([x.x1||0,x.y1||0,x.x2||0,x.y2||0],N(x,z)))},I.Line.fromObject=function(C,E){var x=k(C,!0);x.points=[C.x1,C.y1,C.x2,C.y2],I.Object._fromObject("Line",x,function z(H){delete H.points,E&&E(H)},"points")})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=Math.PI;I.Circle?I.warn("fabric.Circle is already defined."):(I.Circle=I.util.createClass(I.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*N,cacheProperties:I.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(y,b){return this.callSuper("_set",y,b),"radius"===y&&this.setRadius(b),this},toObject:function(y){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(y))},_toSVG:function(){var y,E=(this.endAngle-this.startAngle)%(2*N);if(0===E)y=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var z=I.util.cos(this.startAngle)*this.radius,x=I.util.sin(this.startAngle)*this.radius,H=I.util.cos(this.endAngle)*this.radius,W=I.util.sin(this.endAngle)*this.radius;y=['<path d="M '+z+" "+x," A "+this.radius+" "+this.radius," 0 ",+(E>N?"1":"0")+" 1"," "+H+" "+W,'" ',"COMMON_PARTS"," />\n"]}return y},_render:function(y){y.beginPath(),y.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(y)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(y){return this.radius=y,this.set("width",2*y).set("height",2*y)}}),I.Circle.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),I.Circle.fromElement=function(y,b){var C=I.parseAttributes(y,I.Circle.ATTRIBUTE_NAMES);if(!function k(y){return"radius"in y&&y.radius>=0}(C))throw new Error("value of `r` attribute is required and can not be negative");C.left=(C.left||0)-C.radius,C.top=(C.top||0)-C.radius,b(new I.Circle(C))},I.Circle.fromObject=function(y,b){I.Object._fromObject("Circle",y,b)})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});I.Triangle?I.warn("fabric.Triangle is already defined"):(I.Triangle=I.util.createClass(I.Object,{type:"triangle",width:100,height:100,_render:function(N){var k=this.width/2,y=this.height/2;N.beginPath(),N.moveTo(-k,y),N.lineTo(0,-y),N.lineTo(k,y),N.closePath(),this._renderPaintInOrder(N)},_toSVG:function(){var N=this.width/2,k=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-N+" "+k,"0 "+-k,N+" "+k].join(","),'" />']}}),I.Triangle.fromObject=function(N,k){return I.Object._fromObject("Triangle",N,k)})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=2*Math.PI;I.Ellipse?I.warn("fabric.Ellipse is already defined."):(I.Ellipse=I.util.createClass(I.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:I.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(k){this.callSuper("initialize",k),this.set("rx",k&&k.rx||0),this.set("ry",k&&k.ry||0)},_set:function(k,y){switch(this.callSuper("_set",k,y),k){case"rx":this.rx=y,this.set("width",2*y);break;case"ry":this.ry=y,this.set("height",2*y)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(k){return this.callSuper("toObject",["rx","ry"].concat(k))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(k){k.beginPath(),k.save(),k.transform(1,0,0,this.ry/this.rx,0,0),k.arc(0,0,this.rx,0,N,!1),k.restore(),this._renderPaintInOrder(k)}}),I.Ellipse.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),I.Ellipse.fromElement=function(k,y){var b=I.parseAttributes(k,I.Ellipse.ATTRIBUTE_NAMES);b.left=(b.left||0)-b.rx,b.top=(b.top||0)-b.ry,y(new I.Ellipse(b))},I.Ellipse.fromObject=function(k,y){I.Object._fromObject("Ellipse",k,y)})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend;I.Rect?I.warn("fabric.Rect is already defined"):(I.Rect=I.util.createClass(I.Object,{stateProperties:I.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:I.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(k){this.callSuper("initialize",k),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(k){var y=this.rx?Math.min(this.rx,this.width/2):0,b=this.ry?Math.min(this.ry,this.height/2):0,C=this.width,E=this.height,z=-this.width/2,x=-this.height/2,H=0!==y||0!==b,W=.4477152502;k.beginPath(),k.moveTo(z+y,x),k.lineTo(z+C-y,x),H&&k.bezierCurveTo(z+C-W*y,x,z+C,x+W*b,z+C,x+b),k.lineTo(z+C,x+E-b),H&&k.bezierCurveTo(z+C,x+E-W*b,z+C-W*y,x+E,z+C-y,x+E),k.lineTo(z+y,x+E),H&&k.bezierCurveTo(z+W*y,x+E,z,x+E-W*b,z,x+E-b),k.lineTo(z,x+b),H&&k.bezierCurveTo(z,x+W*b,z+W*y,x,z+y,x),k.closePath(),this._renderPaintInOrder(k)},toObject:function(k){return this.callSuper("toObject",["rx","ry"].concat(k))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),I.Rect.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),I.Rect.fromElement=function(k,y,b){if(!k)return y(null);b=b||{};var C=I.parseAttributes(k,I.Rect.ATTRIBUTE_NAMES);C.left=C.left||0,C.top=C.top||0,C.height=C.height||0,C.width=C.width||0;var E=new I.Rect(N(b?I.util.object.clone(b):{},C));E.visible=E.visible&&E.width>0&&E.height>0,y(E)},I.Rect.fromObject=function(k,y){return I.Object._fromObject("Rect",k,y)})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.util.array.min,y=I.util.array.max,b=I.util.toFixed;I.Polyline?I.warn("fabric.Polyline is already defined"):(I.Polyline=I.util.createClass(I.Object,{type:"polyline",points:null,cacheProperties:I.Object.prototype.cacheProperties.concat("points"),initialize:function(C,E){E=E||{},this.points=C||[],this.callSuper("initialize",E),this._setPositionDimensions(E)},_setPositionDimensions:function(C){var z,E=this._calcDimensions(C);this.width=E.width,this.height=E.height,C.fromSVG||(z=this.translateToGivenOrigin({x:E.left-this.strokeWidth/2,y:E.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof C.left>"u"&&(this.left=C.fromSVG?E.left:z.x),typeof C.top>"u"&&(this.top=C.fromSVG?E.top:z.y),this.pathOffset={x:E.left+this.width/2,y:E.top+this.height/2}},_calcDimensions:function(){var C=this.points,E=k(C,"x")||0,z=k(C,"y")||0;return{left:E,top:z,width:(y(C,"x")||0)-E,height:(y(C,"y")||0)-z}},toObject:function(C){return N(this.callSuper("toObject",C),{points:this.points.concat()})},_toSVG:function(){for(var C=[],E=this.pathOffset.x,z=this.pathOffset.y,x=I.Object.NUM_FRACTION_DIGITS,H=0,W=this.points.length;H<W;H++)C.push(b(this.points[H].x-E,x),",",b(this.points[H].y-z,x)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',C.join(""),'" />\n']},commonRender:function(C){var E,z=this.points.length,x=this.pathOffset.x,H=this.pathOffset.y;if(!z||isNaN(this.points[z-1].y))return!1;C.beginPath(),C.moveTo(this.points[0].x-x,this.points[0].y-H);for(var W=0;W<z;W++)C.lineTo((E=this.points[W]).x-x,E.y-H);return!0},_render:function(C){this.commonRender(C)&&this._renderPaintInOrder(C)},complexity:function(){return this.get("points").length}}),I.Polyline.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat(),I.Polyline.fromElementGenerator=function(C){return function(E,z,x){if(!E)return z(null);x||(x={});var H=I.parsePointsAttribute(E.getAttribute("points")),W=I.parseAttributes(E,I[C].ATTRIBUTE_NAMES);W.fromSVG=!0,z(new I[C](H,N(W,x)))}},I.Polyline.fromElement=I.Polyline.fromElementGenerator("Polyline"),I.Polyline.fromObject=function(C,E){return I.Object._fromObject("Polyline",C,E,"points")})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});I.Polygon?I.warn("fabric.Polygon is already defined"):(I.Polygon=I.util.createClass(I.Polyline,{type:"polygon",_render:function(N){this.commonRender(N)&&(N.closePath(),this._renderPaintInOrder(N))}}),I.Polygon.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat(),I.Polygon.fromElement=I.Polyline.fromElementGenerator("Polygon"),I.Polygon.fromObject=function(N,k){I.Object._fromObject("Polygon",N,k,"points")})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.array.min,k=I.util.array.max,y=I.util.object.extend,b=Object.prototype.toString,C=I.util.toFixed;I.Path?I.warn("fabric.Path is already defined"):(I.Path=I.util.createClass(I.Object,{type:"path",path:null,cacheProperties:I.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:I.Object.prototype.stateProperties.concat("path"),initialize:function(E,z){this.callSuper("initialize",z=z||{}),E||(E=[]);var x="[object Array]"===b.call(E);this.path=I.util.makePathSimpler(x?E:I.util.parsePath(E)),this.path&&I.Polyline.prototype._setPositionDimensions.call(this,z)},_renderPathCommands:function(E){var z,x=0,H=0,W=0,Z=0,ue=-this.pathOffset.x,we=-this.pathOffset.y;E.beginPath();for(var De=0,Ne=this.path.length;De<Ne;++De)switch(z=this.path[De],z[0]){case"L":E.lineTo((W=z[1])+ue,(Z=z[2])+we);break;case"M":x=W=z[1],H=Z=z[2],E.moveTo(W+ue,Z+we);break;case"C":E.bezierCurveTo(z[1]+ue,z[2]+we,z[3]+ue,z[4]+we,(W=z[5])+ue,(Z=z[6])+we);break;case"Q":E.quadraticCurveTo(z[1]+ue,z[2]+we,z[3]+ue,z[4]+we),W=z[3],Z=z[4];break;case"z":case"Z":W=x,Z=H,E.closePath()}},_render:function(E){this._renderPathCommands(E),this._renderPaintInOrder(E)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(E){return y(this.callSuper("toObject",E),{path:this.path.map(function(z){return z.slice()})})},toDatalessObject:function(E){var z=this.toObject(["sourcePath"].concat(E));return z.sourcePath&&delete z.path,z},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',I.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var E=I.Object.NUM_FRACTION_DIGITS;return" translate("+C(-this.pathOffset.x,E)+", "+C(-this.pathOffset.y,E)+")"},toClipPathSVG:function(E){var z=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:E,additionalTransform:z})},toSVG:function(E){var z=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:E,additionalTransform:z})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var x,ae,E=[],z=[],H=0,W=0,Z=0,ee=0,ue=0,we=this.path.length;ue<we;++ue){switch((x=this.path[ue])[0]){case"L":Z=x[1],ee=x[2],ae=[];break;case"M":H=Z=x[1],W=ee=x[2],ae=[];break;case"C":ae=I.util.getBoundsOfCurve(Z,ee,x[1],x[2],x[3],x[4],x[5],x[6]),Z=x[5],ee=x[6];break;case"Q":ae=I.util.getBoundsOfCurve(Z,ee,x[1],x[2],x[1],x[2],x[3],x[4]),Z=x[3],ee=x[4];break;case"z":case"Z":Z=H,ee=W}ae.forEach(function(Yt){E.push(Yt.x),z.push(Yt.y)}),E.push(Z),z.push(ee)}var De=N(E)||0,Ne=N(z)||0;return{left:De,top:Ne,width:(k(E)||0)-De,height:(k(z)||0)-Ne}}}),I.Path.fromObject=function(E,z){"string"==typeof E.sourcePath?I.loadSVGFromURL(E.sourcePath,function(H){var W=H[0];W.setOptions(E),z&&z(W)}):I.Object._fromObject("Path",E,z,"path")},I.Path.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat(["d"]),I.Path.fromElement=function(E,z,x){var H=I.parseAttributes(E,I.Path.ATTRIBUTE_NAMES);H.fromSVG=!0,z(new I.Path(H.d,y(H,x)))})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.array.min,k=I.util.array.max;I.Group||(I.Group=I.util.createClass(I.Object,I.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(y,b,C){b=b||{},this._objects=[],C&&this.callSuper("initialize",b),this._objects=y||[];for(var E=this._objects.length;E--;)this._objects[E].group=this;if(C)this._updateObjectsACoords();else{var z=b&&b.centerPoint;void 0!==b.originX&&(this.originX=b.originX),void 0!==b.originY&&(this.originY=b.originY),z||this._calcBounds(),this._updateObjectsCoords(z),delete b.centerPoint,this.callSuper("initialize",b)}this.setCoords()},_updateObjectsACoords:function(){for(var b=this._objects.length;b--;)this._objects[b].setCoords(true)},_updateObjectsCoords:function(b){b=b||this.getCenterPoint();for(var C=this._objects.length;C--;)this._updateObjectCoords(this._objects[C],b)},_updateObjectCoords:function(y,b){y.set({left:y.left-b.x,top:y.top-b.y}),y.group=this,y.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(y){var b=!!this.group;return this._restoreObjectsState(),I.util.resetObjectTransform(this),y&&(b&&I.util.removeTransformFromObject(y,this.group.calcTransformMatrix()),this._objects.push(y),y.group=this,y._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,b?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(y){return this._restoreObjectsState(),I.util.resetObjectTransform(this),this.remove(y),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(y){this.dirty=!0,y.group=this,y._set("canvas",this.canvas)},_onObjectRemoved:function(y){this.dirty=!0,delete y.group},_set:function(y,b){var C=this._objects.length;if(this.useSetOnGroup)for(;C--;)this._objects[C].setOnGroup(y,b);if("canvas"===y)for(;C--;)this._objects[C]._set(y,b);I.Object.prototype._set.call(this,y,b)},toObject:function(y){var b=this.includeDefaultValues,C=this._objects.filter(function(z){return!z.excludeFromExport}).map(function(z){var x=z.includeDefaultValues;z.includeDefaultValues=b;var H=z.toObject(y);return z.includeDefaultValues=x,H}),E=I.Object.prototype.toObject.call(this,y);return E.objects=C,E},toDatalessObject:function(y){var b,C=this.sourcePath;if(C)b=C;else{var E=this.includeDefaultValues;b=this._objects.map(function(x){var H=x.includeDefaultValues;x.includeDefaultValues=E;var W=x.toDatalessObject(y);return x.includeDefaultValues=H,W})}var z=I.Object.prototype.toDatalessObject.call(this,y);return z.objects=b,z},render:function(y){this._transformDone=!0,this.callSuper("render",y),this._transformDone=!1},shouldCache:function(){var y=I.Object.prototype.shouldCache.call(this);if(y)for(var b=0,C=this._objects.length;b<C;b++)if(this._objects[b].willDrawShadow())return this.ownCaching=!1,!1;return y},willDrawShadow:function(){if(I.Object.prototype.willDrawShadow.call(this))return!0;for(var y=0,b=this._objects.length;y<b;y++)if(this._objects[y].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(y){for(var b=0,C=this._objects.length;b<C;b++)this._objects[b].render(y);this._drawClipPath(y)},isCacheDirty:function(y){if(this.callSuper("isCacheDirty",y))return!0;if(!this.statefullCache)return!1;for(var b=0,C=this._objects.length;b<C;b++)if(this._objects[b].isCacheDirty(!0)){if(this._cacheCanvas){var E=this.cacheWidth/this.zoomX,z=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-E/2,-z/2,E,z)}return!0}return!1},_restoreObjectsState:function(){var y=this.calcOwnMatrix();return this._objects.forEach(function(b){I.util.addTransformToObject(b,y),delete b.group,b.setCoords()}),this},realizeTransform:function(y,b){return I.util.addTransformToObject(y,b),y},destroy:function(){return this._objects.forEach(function(y){y.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var y=this._objects,b=this.canvas;this._objects=[];var C=this.toObject();delete C.objects;var E=new I.ActiveSelection([]);return E.set(C),E.type="activeSelection",b.remove(this),y.forEach(function(z){z.group=E,z.dirty=!0,b.add(z)}),E.canvas=b,E._objects=y,b._activeObject=E,E.setCoords(),E}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(b){b.setCoords(true)}),this},_calcBounds:function(y){for(var E,z,x,ee,b=[],C=[],H=["tr","br","bl","tl"],W=0,Z=this._objects.length,ae=H.length;W<Z;++W){for(x=(E=this._objects[W]).calcACoords(),ee=0;ee<ae;ee++)b.push(x[z=H[ee]].x),C.push(x[z].y);E.aCoords=x}this._getBounds(b,C,y)},_getBounds:function(y,b,C){var E=new I.Point(N(y),N(b)),z=new I.Point(k(y),k(b)),x=E.y||0,H=E.x||0,Z=z.y-E.y||0;this.width=z.x-E.x||0,this.height=Z,C||this.setPositionByOrigin({x:H,y:x},"left","top")},_toSVG:function(y){for(var b=["<g ","COMMON_PARTS"," >\n"],C=0,E=this._objects.length;C<E;C++)b.push("\t\t",this._objects[C].toSVG(y));return b.push("</g>\n"),b},getSvgStyles:function(){var b=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),b].join("")},toClipPathSVG:function(y){for(var b=[],C=0,E=this._objects.length;C<E;C++)b.push("\t",this._objects[C].toClipPathSVG(y));return this._createBaseClipPathSVGMarkup(b,{reviver:y})}}),I.Group.fromObject=function(y,b){var C=y.objects,E=I.util.object.clone(y,!0);delete E.objects,"string"!=typeof C?I.util.enlivenObjects(C,function(z){I.util.enlivenObjects([y.clipPath],function(x){var H=I.util.object.clone(y,!0);H.clipPath=x[0],delete H.objects,b&&b(new I.Group(z,H,!0))})}):I.loadSVGFromURL(C,function(z){var x=I.util.groupSVGElements(z,y,C);x.set(E),b&&b(x)})})}(le),function(F){"use strict";var I=F.fabric||(F.fabric={});I.ActiveSelection||(I.ActiveSelection=I.util.createClass(I.Group,{type:"activeSelection",initialize:function(N,k){k=k||{},this._objects=N||[];for(var y=this._objects.length;y--;)this._objects[y].group=this;k.originX&&(this.originX=k.originX),k.originY&&(this.originY=k.originY),this._calcBounds(),this._updateObjectsCoords(),I.Object.prototype.initialize.call(this,k),this.setCoords()},toGroup:function(){var N=this._objects.concat();this._objects=[];var k=I.Object.prototype.toObject.call(this),y=new I.Group([]);if(delete k.type,y.set(k),N.forEach(function(C){C.canvas.remove(C),C.group=y}),y._objects=N,!this.canvas)return y;var b=this.canvas;return b.add(y),b._activeObject=y,y.setCoords(),y},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(N,k,y){N.save(),N.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",N,k),typeof(y=y||{}).hasControls>"u"&&(y.hasControls=!1),y.forActiveSelection=!0;for(var b=0,C=this._objects.length;b<C;b++)this._objects[b]._renderControls(N,y);N.restore()}}),I.ActiveSelection.fromObject=function(N,k){I.util.enlivenObjects(N.objects,function(y){delete N.objects,k&&k(new I.ActiveSelection(y,N,!0))})})}(le),function(F){"use strict";var I=_.util.object.extend;F.fabric||(F.fabric={}),F.fabric.Image?_.warn("fabric.Image is already defined."):(_.Image=_.util.createClass(_.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:_.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:_.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(N,k){k||(k={}),this.filters=[],this.cacheKey="texture"+_.Object.__uid++,this.callSuper("initialize",k),this._initElement(N,k)},getElement:function(){return this._element||{}},setElement:function(N,k){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=N,this._originalElement=N,this._initConfig(k),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(N){var k=_.filterBackend;k&&k.evictCachesForKey&&k.evictCachesForKey(N)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(N){_.util.cleanUpJsdomNode(this[N]),this[N]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var N=this.getElement();return{width:N.naturalWidth||N.width,height:N.naturalHeight||N.height}},_stroke:function(N){if(this.stroke&&0!==this.strokeWidth){var k=this.width/2,y=this.height/2;N.beginPath(),N.moveTo(-k,-y),N.lineTo(k,-y),N.lineTo(k,y),N.lineTo(-k,y),N.lineTo(-k,-y),N.closePath()}},toObject:function(N){var k=[];this.filters.forEach(function(b){b&&k.push(b.toObject())});var y=I(this.callSuper("toObject",["cropX","cropY"].concat(N)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:k});return this.resizeFilter&&(y.resizeFilter=this.resizeFilter.toObject()),y},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var y,N=[],k=[],b=this._element,C=-this.width/2,E=-this.height/2,z="",x="";if(!b)return[];if(this.hasCrop()){var H=_.Object.__uid++;N.push('<clipPath id="imageCrop_'+H+'">\n','\t<rect x="'+C+'" y="'+E+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),z=' clip-path="url(#imageCrop_'+H+')" '}if(this.imageSmoothing||(x='" image-rendering="optimizeSpeed'),k.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',C-this.cropX,'" y="',E-this.cropY,'" width="',b.width||b.naturalWidth,'" height="',b.height||b.height,x,'"',z,"></image>\n"),this.stroke||this.strokeDashArray){var W=this.fill;this.fill=null,y=["\t<rect ",'x="',C,'" y="',E,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=W}return"fill"!==this.paintFirst?N.concat(y,k):N.concat(k,y)},getSrc:function(N){var k=N?this._element:this._originalElement;return k?k.toDataURL?k.toDataURL():this.srcFromAttribute?k.getAttribute("src"):k.src:this.src||""},setSrc:function(N,k,y){return _.util.loadImage(N,function(b,C){this.setElement(b,y),this._setWidthHeight(),k&&k(this,C)},this,y&&y.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var N=this.resizeFilter,k=this.minimumScaleTrigger,y=this.getTotalObjectScaling(),b=y.scaleX,C=y.scaleY,E=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!N||b>k&&C>k)return this._element=E,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=b,void(this._lastScaleY=C);_.filterBackend||(_.filterBackend=_.initFilterBackend());var z=_.util.createCanvasElement(),x=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,H=E.width,W=E.height;z.width=H,z.height=W,this._element=z,this._lastScaleX=N.scaleX=b,this._lastScaleY=N.scaleY=C,_.filterBackend.applyFilters([N],E,H,W,this._element,x),this._filterScalingX=z.width/this._originalElement.width,this._filterScalingY=z.height/this._originalElement.height},applyFilters:function(N){if(N=(N=N||this.filters||[]).filter(function(E){return E&&!E.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===N.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var k=this._originalElement,y=k.naturalWidth||k.width,b=k.naturalHeight||k.height;if(this._element===this._originalElement){var C=_.util.createCanvasElement();C.width=y,C.height=b,this._element=C,this._filteredEl=C}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,y,b),this._lastScaleX=1,this._lastScaleY=1;return _.filterBackend||(_.filterBackend=_.initFilterBackend()),_.filterBackend.applyFilters(N,this._originalElement,y,b,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(N){_.util.setImageSmoothing(N,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(N),this._renderPaintInOrder(N)},drawCacheOnCanvas:function(N){_.util.setImageSmoothing(N,this.imageSmoothing),_.Object.prototype.drawCacheOnCanvas.call(this,N)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(N){var k=this._element;if(k){var y=this._filterScalingX,b=this._filterScalingY,C=this.width,E=this.height,z=Math.min,x=Math.max,H=x(this.cropX,0),W=x(this.cropY,0),Z=k.naturalWidth||k.width,ee=k.naturalHeight||k.height,ae=H*y,ue=W*b,we=z(C*y,Z-ae),De=z(E*b,ee-ue),Ne=-C/2,bt=-E/2,gt=z(C,Z/y-H),ei=z(E,ee/b-W);k&&N.drawImage(k,ae,ue,we,De,Ne,bt,gt,ei)}},_needsResize:function(){var N=this.getTotalObjectScaling();return N.scaleX!==this._lastScaleX||N.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(N,k){this.setElement(_.util.getById(N),k),_.util.addClass(this.getElement(),_.Image.CSS_CANVAS)},_initConfig:function(N){N||(N={}),this.setOptions(N),this._setWidthHeight(N)},_initFilters:function(N,k){N&&N.length?_.util.enlivenObjects(N,function(y){k&&k(y)},"fabric.Image.filters"):k&&k()},_setWidthHeight:function(N){N||(N={});var k=this.getElement();this.width=N.width||k.naturalWidth||k.width||0,this.height=N.height||k.naturalHeight||k.height||0},parsePreserveAspectRatioAttribute:function(){var W,N=_.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),k=this._element.width,y=this._element.height,b=1,C=1,E=0,z=0,x=0,H=0,Z=this.width,ee=this.height,ae={width:Z,height:ee};return!N||"none"===N.alignX&&"none"===N.alignY?(b=Z/k,C=ee/y):("meet"===N.meetOrSlice&&(W=(Z-k*(b=C=_.util.findScaleToFit(this._element,ae)))/2,"Min"===N.alignX&&(E=-W),"Max"===N.alignX&&(E=W),W=(ee-y*C)/2,"Min"===N.alignY&&(z=-W),"Max"===N.alignY&&(z=W)),"slice"===N.meetOrSlice&&(W=k-Z/(b=C=_.util.findScaleToCover(this._element,ae)),"Mid"===N.alignX&&(x=W/2),"Max"===N.alignX&&(x=W),W=y-ee/C,"Mid"===N.alignY&&(H=W/2),"Max"===N.alignY&&(H=W),k=Z/b,y=ee/C)),{width:k,height:y,scaleX:b,scaleY:C,offsetLeft:E,offsetTop:z,cropX:x,cropY:H}}}),_.Image.CSS_CANVAS="canvas-img",_.Image.prototype.getSvgSrc=_.Image.prototype.getSrc,_.Image.fromObject=function(N,k){var y=_.util.object.clone(N);_.util.loadImage(y.src,function(b,C){C?k&&k(null,!0):_.Image.prototype._initFilters.call(y,y.filters,function(E){y.filters=E||[],_.Image.prototype._initFilters.call(y,[y.resizeFilter],function(z){y.resizeFilter=z[0],_.util.enlivenObjects([y.clipPath],function(x){y.clipPath=x[0];var H=new _.Image(b,y);k(H,!1)})})})},null,y.crossOrigin)},_.Image.fromURL=function(N,k,y){_.util.loadImage(N,function(b,C){k&&k(new _.Image(b,y),C)},null,y&&y.crossOrigin)},_.Image.ATTRIBUTE_NAMES=_.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),_.Image.fromElement=function(N,k,y){var b=_.parseAttributes(N,_.Image.ATTRIBUTE_NAMES);_.Image.fromURL(b["xlink:href"],k,I(y?_.util.object.clone(y):{},b))})}(le),_.util.object.extend(_.Object.prototype,{_getAngleValueForStraighten:function(){var F=this.angle%360;return F>0?90*Math.round((F-1)/90):90*Math.round(F/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(F){var I=function(){},N=(F=F||{}).onComplete||I,k=F.onChange||I,y=this;return _.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(b){y.rotate(b),k()},onComplete:function(){y.setCoords(),N()}}),this}}),_.util.object.extend(_.StaticCanvas.prototype,{straightenObject:function(F){return F.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(F){return F.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function F(N,k){var y="precision "+k+" float;\nvoid main(){}",b=N.createShader(N.FRAGMENT_SHADER);return N.shaderSource(b,y),N.compileShader(b),!!N.getShaderParameter(b,N.COMPILE_STATUS)}function I(N){N&&N.tileSize&&(this.tileSize=N.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}_.isWebglSupported=function(N){if(_.isLikelyNode)return!1;N=N||_.WebglFilterBackend.prototype.tileSize;var k=document.createElement("canvas"),y=k.getContext("webgl")||k.getContext("experimental-webgl"),b=!1;if(y){_.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE),b=_.maxTextureSize>=N;for(var C=["highp","mediump","lowp"],E=0;E<3;E++)if(F(y,C[E])){_.webGlPrecision=C[E];break}}return this.isSupported=b,b},_.WebglFilterBackend=I,I.prototype={tileSize:2048,resources:{},setupGLContext:function(N,k){this.dispose(),this.createWebGLCanvas(N,k),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(N,k)},chooseFastestCopyGLTo2DMethod:function(N,k){var b,y=typeof window.performance<"u";try{new ImageData(1,1),b=!0}catch{b=!1}var C=typeof ArrayBuffer<"u",E=typeof Uint8ClampedArray<"u";if(y&&b&&C&&E){var z=_.util.createCanvasElement(),x=new ArrayBuffer(N*k*4);if(_.forceGLPutImageData)return this.imageBuffer=x,void(this.copyGLTo2D=ye);var W,Z,H={imageBuffer:x,destinationWidth:N,destinationHeight:k,targetCanvas:z};z.width=N,z.height=k,W=window.performance.now(),ce.call(H,this.gl,H),Z=window.performance.now()-W,W=window.performance.now(),ye.call(H,this.gl,H),Z>window.performance.now()-W?(this.imageBuffer=x,this.copyGLTo2D=ye):this.copyGLTo2D=ce}},createWebGLCanvas:function(N,k){var y=_.util.createCanvasElement();y.width=N,y.height=k;var b={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},C=y.getContext("webgl",b);C||(C=y.getContext("experimental-webgl",b)),C&&(C.clearColor(0,0,0,0),this.canvas=y,this.gl=C)},applyFilters:function(N,k,y,b,C,E){var x,z=this.gl;E&&(x=this.getCachedTexture(E,k));var H={originalWidth:k.width||k.originalWidth,originalHeight:k.height||k.originalHeight,sourceWidth:y,sourceHeight:b,destinationWidth:y,destinationHeight:b,context:z,sourceTexture:this.createTexture(z,y,b,!x&&k),targetTexture:this.createTexture(z,y,b),originalTexture:x||this.createTexture(z,y,b,!x&&k),passes:N.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:C},W=z.createFramebuffer();return z.bindFramebuffer(z.FRAMEBUFFER,W),N.forEach(function(Z){Z&&Z.applyTo(H)}),function he(F){var I=F.targetCanvas,y=F.destinationWidth,b=F.destinationHeight;(I.width!==y||I.height!==b)&&(I.width=y,I.height=b)}(H),this.copyGLTo2D(z,H),z.bindTexture(z.TEXTURE_2D,null),z.deleteTexture(H.sourceTexture),z.deleteTexture(H.targetTexture),z.deleteFramebuffer(W),C.getContext("2d").setTransform(1,0,0,1,0,0),H},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(N,k,y,b){var C=N.createTexture();return N.bindTexture(N.TEXTURE_2D,C),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),b?N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,b):N.texImage2D(N.TEXTURE_2D,0,N.RGBA,k,y,0,N.RGBA,N.UNSIGNED_BYTE,null),C},getCachedTexture:function(N,k){if(this.textureCache[N])return this.textureCache[N];var y=this.createTexture(this.gl,k.width,k.height,k);return this.textureCache[N]=y,y},evictCachesForKey:function(N){this.textureCache[N]&&(this.gl.deleteTexture(this.textureCache[N]),delete this.textureCache[N])},copyGLTo2D:ce,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var N=this.gl,k={renderer:"",vendor:""};if(!N)return k;var y=N.getExtension("WEBGL_debug_renderer_info");if(y){var b=N.getParameter(y.UNMASKED_RENDERER_WEBGL),C=N.getParameter(y.UNMASKED_VENDOR_WEBGL);b&&(k.renderer=b.toLowerCase()),C&&(k.vendor=C.toLowerCase())}return this.gpuInfo=k,k}}}(),function(){"use strict";var F=function(){};function I(){}_.Canvas2dFilterBackend=I,I.prototype={evictCachesForKey:F,dispose:F,clearWebGLCaches:F,resources:{},applyFilters:function(N,k,y,b,C){var E=C.getContext("2d");E.drawImage(k,0,0,y,b);var H={sourceWidth:y,sourceHeight:b,imageData:E.getImageData(0,0,y,b),originalEl:k,originalImageData:E.getImageData(0,0,y,b),canvasEl:C,ctx:E,filterBackend:this};return N.forEach(function(W){W.applyTo(H)}),(H.imageData.width!==y||H.imageData.height!==b)&&(C.width=H.imageData.width,C.height=H.imageData.height),E.putImageData(H.imageData,0,0),H}}}(),_.Image=_.Image||{},_.Image.filters=_.Image.filters||{},_.Image.filters.BaseFilter=_.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(F){F&&this.setOptions(F)},setOptions:function(F){for(var I in F)this[I]=F[I]},createProgram:function(F,I,N){I=I||this.fragmentSource,N=N||this.vertexSource,"highp"!==_.webGlPrecision&&(I=I.replace(/precision highp float/g,"precision "+_.webGlPrecision+" float"));var k=F.createShader(F.VERTEX_SHADER);if(F.shaderSource(k,N),F.compileShader(k),!F.getShaderParameter(k,F.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+F.getShaderInfoLog(k));var y=F.createShader(F.FRAGMENT_SHADER);if(F.shaderSource(y,I),F.compileShader(y),!F.getShaderParameter(y,F.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+F.getShaderInfoLog(y));var b=F.createProgram();if(F.attachShader(b,k),F.attachShader(b,y),F.linkProgram(b),!F.getProgramParameter(b,F.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+F.getProgramInfoLog(b));var C=this.getAttributeLocations(F,b),E=this.getUniformLocations(F,b)||{};return E.uStepW=F.getUniformLocation(b,"uStepW"),E.uStepH=F.getUniformLocation(b,"uStepH"),{program:b,attributeLocations:C,uniformLocations:E}},getAttributeLocations:function(F,I){return{aPosition:F.getAttribLocation(I,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(F,I,N){var k=I.aPosition,y=F.createBuffer();F.bindBuffer(F.ARRAY_BUFFER,y),F.enableVertexAttribArray(k),F.vertexAttribPointer(k,2,F.FLOAT,!1,0,0),F.bufferData(F.ARRAY_BUFFER,N,F.STATIC_DRAW)},_setupFrameBuffer:function(F){var N,k,I=F.context;F.passes>1?(k=F.destinationHeight,(F.sourceWidth!==(N=F.destinationWidth)||F.sourceHeight!==k)&&(I.deleteTexture(F.targetTexture),F.targetTexture=F.filterBackend.createTexture(I,N,k)),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,F.targetTexture,0)):(I.bindFramebuffer(I.FRAMEBUFFER,null),I.finish())},_swapTextures:function(F){F.passes--,F.pass++;var I=F.targetTexture;F.targetTexture=F.sourceTexture,F.sourceTexture=I},isNeutralState:function(){var F=this.mainParameter,I=_.Image.filters[this.type].prototype;if(F){if(Array.isArray(I[F])){for(var N=I[F].length;N--;)if(this[F][N]!==I[F][N])return!1;return!0}return I[F]===this[F]}return!1},applyTo:function(F){F.webgl?(this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F)):this.applyTo2d(F)},retrieveShader:function(F){return F.programCache.hasOwnProperty(this.type)||(F.programCache[this.type]=this.createProgram(F.context)),F.programCache[this.type]},applyToWebGL:function(F){var I=F.context,N=this.retrieveShader(F);I.bindTexture(I.TEXTURE_2D,0===F.pass&&F.originalTexture?F.originalTexture:F.sourceTexture),I.useProgram(N.program),this.sendAttributeData(I,N.attributeLocations,F.aPosition),I.uniform1f(N.uniformLocations.uStepW,1/F.sourceWidth),I.uniform1f(N.uniformLocations.uStepH,1/F.sourceHeight),this.sendUniformData(I,N.uniformLocations),I.viewport(0,0,F.destinationWidth,F.destinationHeight),I.drawArrays(I.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(F,I,N){F.activeTexture(N),F.bindTexture(F.TEXTURE_2D,I),F.activeTexture(F.TEXTURE0)},unbindAdditionalTexture:function(F,I){F.activeTexture(I),F.bindTexture(F.TEXTURE_2D,null),F.activeTexture(F.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(F){this[this.mainParameter]=F},sendUniformData:function(){},createHelpLayer:function(F){if(!F.helpLayer){var I=document.createElement("canvas");I.width=F.sourceWidth,I.height=F.sourceHeight,F.helpLayer=I}},toObject:function(){var F={type:this.type},I=this.mainParameter;return I&&(F[I]=this[I]),F},toJSON:function(){return this.toObject()}}),_.Image.filters.BaseFilter.fromObject=function(F,I){var N=new _.Image.filters[F.type](F);return I&&I(N),N},function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.ColorMatrix=(0,I.util.createClass)(N.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(y){this.callSuper("initialize",y),this.matrix=this.matrix.slice(0)},applyTo2d:function(y){var x,H,W,Z,ee,C=y.imageData.data,E=C.length,z=this.matrix,ae=this.colorsOnly;for(ee=0;ee<E;ee+=4)x=C[ee],H=C[ee+1],W=C[ee+2],ae?(C[ee]=x*z[0]+H*z[1]+W*z[2]+255*z[4],C[ee+1]=x*z[5]+H*z[6]+W*z[7]+255*z[9],C[ee+2]=x*z[10]+H*z[11]+W*z[12]+255*z[14]):(C[ee]=x*z[0]+H*z[1]+W*z[2]+(Z=C[ee+3])*z[3]+255*z[4],C[ee+1]=x*z[5]+H*z[6]+W*z[7]+Z*z[8]+255*z[9],C[ee+2]=x*z[10]+H*z[11]+W*z[12]+Z*z[13]+255*z[14],C[ee+3]=x*z[15]+H*z[16]+W*z[17]+Z*z[18]+255*z[19])},getUniformLocations:function(y,b){return{uColorMatrix:y.getUniformLocation(b,"uColorMatrix"),uConstants:y.getUniformLocation(b,"uConstants")}},sendUniformData:function(y,b){var C=this.matrix,z=[C[4],C[9],C[14],C[19]];y.uniformMatrix4fv(b.uColorMatrix,!1,[C[0],C[1],C[2],C[3],C[5],C[6],C[7],C[8],C[10],C[11],C[12],C[13],C[15],C[16],C[17],C[18]]),y.uniform4fv(b.uConstants,z)}}),I.Image.filters.ColorMatrix.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Brightness=(0,I.util.createClass)(N.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(y){if(0!==this.brightness){var E,C=y.imageData.data,z=C.length,x=Math.round(255*this.brightness);for(E=0;E<z;E+=4)C[E]=C[E]+x,C[E+1]=C[E+1]+x,C[E+2]=C[E+2]+x}},getUniformLocations:function(y,b){return{uBrightness:y.getUniformLocation(b,"uBrightness")}},sendUniformData:function(y,b){y.uniform1f(b.uBrightness,this.brightness)}}),I.Image.filters.Brightness.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.Image.filters;k.Convolute=(0,I.util.createClass)(k.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(b){var C=Math.sqrt(this.matrix.length),E=this.type+"_"+C+"_"+(this.opaque?1:0),z=this.fragmentSource[E];return b.programCache.hasOwnProperty(E)||(b.programCache[E]=this.createProgram(b.context,z)),b.programCache[E]},applyTo2d:function(b){var we,De,Ne,bt,gt,ei,ot,Yt,Le,Gi,Ft,Li,ht,C=b.imageData,E=C.data,z=this.matrix,x=Math.round(Math.sqrt(z.length)),H=Math.floor(x/2),W=C.width,Z=C.height,ee=b.ctx.createImageData(W,Z),ae=ee.data,ue=this.opaque?1:0;for(Ft=0;Ft<Z;Ft++)for(Gi=0;Gi<W;Gi++){for(gt=4*(Ft*W+Gi),we=0,De=0,Ne=0,bt=0,ht=0;ht<x;ht++)for(Li=0;Li<x;Li++)ei=Gi+Li-H,!((ot=Ft+ht-H)<0||ot>=Z||ei<0||ei>=W)&&(we+=E[Yt=4*(ot*W+ei)]*(Le=z[ht*x+Li]),De+=E[Yt+1]*Le,Ne+=E[Yt+2]*Le,ue||(bt+=E[Yt+3]*Le));ae[gt]=we,ae[gt+1]=De,ae[gt+2]=Ne,ae[gt+3]=ue?E[gt+3]:bt}b.imageData=ee},getUniformLocations:function(b,C){return{uMatrix:b.getUniformLocation(C,"uMatrix"),uOpaque:b.getUniformLocation(C,"uOpaque"),uHalfSize:b.getUniformLocation(C,"uHalfSize"),uSize:b.getUniformLocation(C,"uSize")}},sendUniformData:function(b,C){b.uniform1fv(C.uMatrix,this.matrix)},toObject:function(){return N(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),I.Image.filters.Convolute.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Grayscale=(0,I.util.createClass)(N.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(y){var E,x,C=y.imageData.data,z=C.length,H=this.mode;for(E=0;E<z;E+=4)"average"===H?x=(C[E]+C[E+1]+C[E+2])/3:"lightness"===H?x=(Math.min(C[E],C[E+1],C[E+2])+Math.max(C[E],C[E+1],C[E+2]))/2:"luminosity"===H&&(x=.21*C[E]+.72*C[E+1]+.07*C[E+2]),C[E]=x,C[E+1]=x,C[E+2]=x},retrieveShader:function(y){var b=this.type+"_"+this.mode;return y.programCache.hasOwnProperty(b)||(y.programCache[b]=this.createProgram(y.context,this.fragmentSource[this.mode])),y.programCache[b]},getUniformLocations:function(y,b){return{uMode:y.getUniformLocation(b,"uMode")}},sendUniformData:function(y,b){y.uniform1i(b.uMode,1)},isNeutralState:function(){return!1}}),I.Image.filters.Grayscale.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Invert=(0,I.util.createClass)(N.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(y){var E,C=y.imageData.data,z=C.length;for(E=0;E<z;E+=4)C[E]=255-C[E],C[E+1]=255-C[E+1],C[E+2]=255-C[E+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(y,b){return{uInvert:y.getUniformLocation(b,"uInvert")}},sendUniformData:function(y,b){y.uniform1i(b.uInvert,this.invert)}}),I.Image.filters.Invert.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.Image.filters;k.Noise=(0,I.util.createClass)(k.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(b){if(0!==this.noise){var z,W,x,E=b.imageData.data,H=this.noise;for(z=0,x=E.length;z<x;z+=4)W=(.5-Math.random())*H,E[z]+=W,E[z+1]+=W,E[z+2]+=W}},getUniformLocations:function(b,C){return{uNoise:b.getUniformLocation(C,"uNoise"),uSeed:b.getUniformLocation(C,"uSeed")}},sendUniformData:function(b,C){b.uniform1f(C.uNoise,this.noise/255),b.uniform1f(C.uSeed,Math.random())},toObject:function(){return N(this.callSuper("toObject"),{noise:this.noise})}}),I.Image.filters.Noise.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Pixelate=(0,I.util.createClass)(N.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(y){var x,H,W,Z,ee,ae,ue,we,De,Ne,bt,b=y.imageData,C=b.data,E=b.height,z=b.width;for(H=0;H<E;H+=this.blocksize)for(W=0;W<z;W+=this.blocksize)for(Z=C[x=4*H*z+4*W],ee=C[x+1],ae=C[x+2],ue=C[x+3],Ne=Math.min(H+this.blocksize,E),bt=Math.min(W+this.blocksize,z),we=H;we<Ne;we++)for(De=W;De<bt;De++)C[x=4*we*z+4*De]=Z,C[x+1]=ee,C[x+2]=ae,C[x+3]=ue},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(y,b){return{uBlocksize:y.getUniformLocation(b,"uBlocksize"),uStepW:y.getUniformLocation(b,"uStepW"),uStepH:y.getUniformLocation(b,"uStepH")}},sendUniformData:function(y,b){y.uniform1f(b.uBlocksize,this.blocksize)}}),I.Image.filters.Pixelate.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.extend,k=I.Image.filters;k.RemoveColor=(0,I.util.createClass)(k.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(b){var z,H,W,Z,E=b.imageData.data,x=255*this.distance,ee=new I.Color(this.color).getSource(),ae=[ee[0]-x,ee[1]-x,ee[2]-x],ue=[ee[0]+x,ee[1]+x,ee[2]+x];for(z=0;z<E.length;z+=4)W=E[z+1],Z=E[z+2],(H=E[z])>ae[0]&&W>ae[1]&&Z>ae[2]&&H<ue[0]&&W<ue[1]&&Z<ue[2]&&(E[z+3]=0)},getUniformLocations:function(b,C){return{uLow:b.getUniformLocation(C,"uLow"),uHigh:b.getUniformLocation(C,"uHigh")}},sendUniformData:function(b,C){var E=new I.Color(this.color).getSource(),z=parseFloat(this.distance),H=[E[0]/255+z,E[1]/255+z,E[2]/255+z,1];b.uniform4fv(C.uLow,[0+E[0]/255-z,0+E[1]/255-z,0+E[2]/255-z,1]),b.uniform4fv(C.uHigh,H)},toObject:function(){return N(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),I.Image.filters.RemoveColor.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters,k=I.util.createClass,y={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var b in y)N[b]=k(N.ColorMatrix,{type:b,matrix:y[b],mainParameter:!1,colorsOnly:!0}),I.Image.filters[b].fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric,N=I.Image.filters;N.BlendColor=(0,I.util.createClass)(N.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(y){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[y]+"}\n}"},retrieveShader:function(y){var C,b=this.type+"_"+this.mode;return y.programCache.hasOwnProperty(b)||(C=this.buildSource(this.mode),y.programCache[b]=this.createProgram(y.context,C)),y.programCache[b]},applyTo2d:function(y){var z,x,H,W,Z,ee,ae,C=y.imageData.data,E=C.length,ue=1-this.alpha;z=(ae=new I.Color(this.color).getSource())[0]*this.alpha,x=ae[1]*this.alpha,H=ae[2]*this.alpha;for(var we=0;we<E;we+=4)switch(W=C[we],Z=C[we+1],ee=C[we+2],this.mode){case"multiply":C[we]=W*z/255,C[we+1]=Z*x/255,C[we+2]=ee*H/255;break;case"screen":C[we]=255-(255-W)*(255-z)/255,C[we+1]=255-(255-Z)*(255-x)/255,C[we+2]=255-(255-ee)*(255-H)/255;break;case"add":C[we]=W+z,C[we+1]=Z+x,C[we+2]=ee+H;break;case"diff":case"difference":C[we]=Math.abs(W-z),C[we+1]=Math.abs(Z-x),C[we+2]=Math.abs(ee-H);break;case"subtract":C[we]=W-z,C[we+1]=Z-x,C[we+2]=ee-H;break;case"darken":C[we]=Math.min(W,z),C[we+1]=Math.min(Z,x),C[we+2]=Math.min(ee,H);break;case"lighten":C[we]=Math.max(W,z),C[we+1]=Math.max(Z,x),C[we+2]=Math.max(ee,H);break;case"overlay":C[we]=z<128?2*W*z/255:255-2*(255-W)*(255-z)/255,C[we+1]=x<128?2*Z*x/255:255-2*(255-Z)*(255-x)/255,C[we+2]=H<128?2*ee*H/255:255-2*(255-ee)*(255-H)/255;break;case"exclusion":C[we]=z+W-2*z*W/255,C[we+1]=x+Z-2*x*Z/255,C[we+2]=H+ee-2*H*ee/255;break;case"tint":C[we]=z+W*ue,C[we+1]=x+Z*ue,C[we+2]=H+ee*ue}},getUniformLocations:function(y,b){return{uColor:y.getUniformLocation(b,"uColor")}},sendUniformData:function(y,b){var C=new I.Color(this.color).getSource();C[0]=this.alpha*C[0]/255,C[1]=this.alpha*C[1]/255,C[2]=this.alpha*C[2]/255,C[3]=this.alpha,y.uniform4fv(b.uColor,C)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),I.Image.filters.BlendColor.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric,N=I.Image.filters;N.BlendImage=(0,I.util.createClass)(N.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(y){var b=this.type+"_"+this.mode,C=this.fragmentSource[this.mode];return y.programCache.hasOwnProperty(b)||(y.programCache[b]=this.createProgram(y.context,C)),y.programCache[b]},applyToWebGL:function(y){var b=y.context,C=this.createTexture(y.filterBackend,this.image);this.bindAdditionalTexture(b,C,b.TEXTURE1),this.callSuper("applyToWebGL",y),this.unbindAdditionalTexture(b,b.TEXTURE1)},createTexture:function(y,b){return y.getCachedTexture(b.cacheKey,b._element)},calculateMatrix:function(){var y=this.image;return[1/y.scaleX,0,0,0,1/y.scaleY,0,-y.left/y._element.width,-y.top/y._element.height,1]},applyTo2d:function(y){var W,Z,ee,ae,ue,we,De,Ne,bt,gt,ot,b=y.imageData,C=y.filterBackend.resources,E=b.data,z=E.length,x=b.width,H=b.height,ei=this.image;C.blendImage||(C.blendImage=I.util.createCanvasElement()),gt=(bt=C.blendImage).getContext("2d"),bt.width!==x||bt.height!==H?(bt.width=x,bt.height=H):gt.clearRect(0,0,x,H),gt.setTransform(ei.scaleX,0,0,ei.scaleY,ei.left,ei.top),gt.drawImage(ei._element,0,0,x,H),ot=gt.getImageData(0,0,x,H).data;for(var Yt=0;Yt<z;Yt+=4)switch(ue=E[Yt],we=E[Yt+1],De=E[Yt+2],Ne=E[Yt+3],W=ot[Yt],Z=ot[Yt+1],ee=ot[Yt+2],ae=ot[Yt+3],this.mode){case"multiply":E[Yt]=ue*W/255,E[Yt+1]=we*Z/255,E[Yt+2]=De*ee/255,E[Yt+3]=Ne*ae/255;break;case"mask":E[Yt+3]=ae}},getUniformLocations:function(y,b){return{uTransformMatrix:y.getUniformLocation(b,"uTransformMatrix"),uImage:y.getUniformLocation(b,"uImage")}},sendUniformData:function(y,b){var C=this.calculateMatrix();y.uniform1i(b.uImage,1),y.uniformMatrix3fv(b.uTransformMatrix,!1,C)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),I.Image.filters.BlendImage.fromObject=function(y,b){I.Image.fromObject(y.image,function(C){var E=I.util.object.clone(y);E.image=C,b(new I.Image.filters.BlendImage(E))})}}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=Math.pow,k=Math.floor,y=Math.sqrt,b=Math.abs,C=Math.round,E=Math.sin,z=Math.ceil,x=I.Image.filters;x.Resize=(0,I.util.createClass)(x.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(W,Z){return{uDelta:W.getUniformLocation(Z,"uDelta"),uTaps:W.getUniformLocation(Z,"uTaps")}},sendUniformData:function(W,Z){W.uniform2fv(Z.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),W.uniform1fv(Z.uTaps,this.taps)},retrieveShader:function(W){var Z=this.getFilterWindow(),ee=this.type+"_"+Z;if(!W.programCache.hasOwnProperty(ee)){var ae=this.generateShader(Z);W.programCache[ee]=this.createProgram(W.context,ae)}return W.programCache[ee]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var W=this.lanczosCreate(this.lanczosLobes),Z=this.tempScale,ee=this.getFilterWindow(),ae=new Array(ee),ue=1;ue<=ee;ue++)ae[ue-1]=W(ue*Z);return ae},generateShader:function(ae){for(var Z=new Array(ae),ee=this.fragmentSourceTOP,ue=1;ue<=ae;ue++)Z[ue-1]=ue+".0 * uDelta";return ee+="uniform float uTaps["+ae+"];\n",ee+="void main() {\n",ee+="  vec4 color = texture2D(uTexture, vTexCoord);\n",ee+="  float sum = 1.0;\n",Z.forEach(function(we,De){ee+="  color += texture2D(uTexture, vTexCoord + "+we+") * uTaps["+De+"];\n",ee+="  color += texture2D(uTexture, vTexCoord - "+we+") * uTaps["+De+"];\n",ee+="  sum += 2.0 * uTaps["+De+"];\n"}),ee+="  gl_FragColor = color / sum;\n",ee+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(W){W.webgl?(W.passes++,this.width=W.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=W.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),W.destinationWidth=this.dW,this._setupFrameBuffer(W),this.applyToWebGL(W),this._swapTextures(W),W.sourceWidth=W.destinationWidth,this.height=W.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),W.destinationHeight=this.dH,this._setupFrameBuffer(W),this.applyToWebGL(W),this._swapTextures(W),W.sourceHeight=W.destinationHeight):this.applyTo2d(W)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(W){return function(Z){if(Z>=W||Z<=-W)return 0;if(Z<1.1920929e-7&&Z>-1.1920929e-7)return 1;var ee=(Z*=Math.PI)/W;return E(Z)/Z*E(ee)/ee}},applyTo2d:function(W){var Z=W.imageData,ee=this.scaleX,ae=this.scaleY;this.rcpScaleX=1/ee,this.rcpScaleY=1/ae;var bt,ue=Z.width,we=Z.height,De=C(ue*ee),Ne=C(we*ae);"sliceHack"===this.resizeType?bt=this.sliceByTwo(W,ue,we,De,Ne):"hermite"===this.resizeType?bt=this.hermiteFastResize(W,ue,we,De,Ne):"bilinear"===this.resizeType?bt=this.bilinearFiltering(W,ue,we,De,Ne):"lanczos"===this.resizeType&&(bt=this.lanczosResize(W,ue,we,De,Ne)),W.imageData=bt},sliceByTwo:function(W,Z,ee,ae,ue){var Yt,Le,we=W.imageData,Ne=!1,bt=!1,gt=.5*Z,ei=.5*ee,ot=I.filterBackend.resources,Gi=0,Ft=0,Li=Z,ht=0;for(ot.sliceByTwo||(ot.sliceByTwo=document.createElement("canvas")),((Yt=ot.sliceByTwo).width<1.5*Z||Yt.height<ee)&&(Yt.width=1.5*Z,Yt.height=ee),(Le=Yt.getContext("2d")).clearRect(0,0,1.5*Z,ee),Le.putImageData(we,0,0),ae=k(ae),ue=k(ue);!Ne||!bt;)Z=gt,ee=ei,ae<k(.5*gt)?gt=k(.5*gt):(gt=ae,Ne=!0),ue<k(.5*ei)?ei=k(.5*ei):(ei=ue,bt=!0),Le.drawImage(Yt,Gi,Ft,Z,ee,Li,ht,gt,ei),Gi=Li,Ft=ht,ht+=ei;return Le.getImageData(Gi,Ft,ae,ue)},lanczosResize:function(W,Z,ee,ae,ue){var De=W.imageData.data,Ne=W.ctx.createImageData(ae,ue),bt=Ne.data,gt=this.lanczosCreate(this.lanczosLobes),ei=this.rcpScaleX,ot=this.rcpScaleY,Yt=2/this.rcpScaleX,Le=2/this.rcpScaleY,Gi=z(ei*this.lanczosLobes/2),Ft=z(ot*this.lanczosLobes/2),Li={},ht={},ct={};return function we(et){var je,Mt,Ee,_e,We,Ze,Ut,Tt,Jt,ti,Zt;for(ht.x=(et+.5)*ei,ct.x=k(ht.x),je=0;je<ue;je++){for(ht.y=(je+.5)*ot,ct.y=k(ht.y),We=0,Ze=0,Ut=0,Tt=0,Jt=0,Mt=ct.x-Gi;Mt<=ct.x+Gi;Mt++)if(!(Mt<0||Mt>=Z)){ti=k(1e3*b(Mt-ht.x)),Li[ti]||(Li[ti]={});for(var ft=ct.y-Ft;ft<=ct.y+Ft;ft++)ft<0||ft>=ee||(Zt=k(1e3*b(ft-ht.y)),Li[ti][Zt]||(Li[ti][Zt]=gt(y(N(ti*Yt,2)+N(Zt*Le,2))/1e3)),(Ee=Li[ti][Zt])>0&&(We+=Ee,Ze+=Ee*De[_e=4*(ft*Z+Mt)],Ut+=Ee*De[_e+1],Tt+=Ee*De[_e+2],Jt+=Ee*De[_e+3]))}bt[_e=4*(je*ae+et)]=Ze/We,bt[_e+1]=Ut/We,bt[_e+2]=Tt/We,bt[_e+3]=Jt/We}return++et<ae?we(et):Ne}(0)},bilinearFiltering:function(W,Z,ee,ae,ue){var gt,ei,ot,Yt,Le,Gi,Ft,ct,ht=0,et=this.rcpScaleX,je=this.rcpScaleY,Mt=4*(Z-1),_e=W.imageData.data,We=W.ctx.createImageData(ae,ue),Ze=We.data;for(ot=0;ot<ue;ot++)for(Yt=0;Yt<ae;Yt++)for(Le=et*Yt-(gt=k(et*Yt)),Gi=je*ot-(ei=k(je*ot)),ct=4*(ei*Z+gt),Ft=0;Ft<4;Ft++)Ze[ht++]=_e[ct+Ft]*(1-Le)*(1-Gi)+_e[ct+4+Ft]*Le*(1-Gi)+_e[ct+Mt+Ft]*Gi*(1-Le)+_e[ct+Mt+4+Ft]*Le*Gi;return We},hermiteFastResize:function(W,Z,ee,ae,ue){for(var we=this.rcpScaleX,De=this.rcpScaleY,Ne=z(we/2),bt=z(De/2),ei=W.imageData.data,ot=W.ctx.createImageData(ae,ue),Yt=ot.data,Le=0;Le<ue;Le++)for(var Gi=0;Gi<ae;Gi++){for(var Ft=4*(Gi+Le*ae),Li=0,ht=0,ct=0,et=0,je=0,Mt=0,Ee=0,_e=(Le+.5)*De,We=k(Le*De);We<(Le+1)*De;We++)for(var Ze=b(_e-(We+.5))/bt,Ut=(Gi+.5)*we,Tt=Ze*Ze,Jt=k(Gi*we);Jt<(Gi+1)*we;Jt++){var ti=b(Ut-(Jt+.5))/Ne,Zt=y(Tt+ti*ti);Zt>1&&Zt<-1||(Li=2*Zt*Zt*Zt-3*Zt*Zt+1)>0&&(Ee+=Li*ei[3+(ti=4*(Jt+We*Z))],ct+=Li,ei[ti+3]<255&&(Li=Li*ei[ti+3]/250),et+=Li*ei[ti],je+=Li*ei[ti+1],Mt+=Li*ei[ti+2],ht+=Li)}Yt[Ft]=et/ht,Yt[Ft+1]=je/ht,Yt[Ft+2]=Mt/ht,Yt[Ft+3]=Ee/ct}return ot},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),I.Image.filters.Resize.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Contrast=(0,I.util.createClass)(N.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(y){if(0!==this.contrast){var C,E=y.imageData.data,z=E.length,x=Math.floor(255*this.contrast),H=259*(x+255)/(255*(259-x));for(C=0;C<z;C+=4)E[C]=H*(E[C]-128)+128,E[C+1]=H*(E[C+1]-128)+128,E[C+2]=H*(E[C+2]-128)+128}},getUniformLocations:function(y,b){return{uContrast:y.getUniformLocation(b,"uContrast")}},sendUniformData:function(y,b){y.uniform1f(b.uContrast,this.contrast)}}),I.Image.filters.Contrast.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Saturation=(0,I.util.createClass)(N.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(y){if(0!==this.saturation){var x,H,C=y.imageData.data,E=C.length,z=-this.saturation;for(x=0;x<E;x+=4)H=Math.max(C[x],C[x+1],C[x+2]),C[x]+=H!==C[x]?(H-C[x])*z:0,C[x+1]+=H!==C[x+1]?(H-C[x+1])*z:0,C[x+2]+=H!==C[x+2]?(H-C[x+2])*z:0}},getUniformLocations:function(y,b){return{uSaturation:y.getUniformLocation(b,"uSaturation")}},sendUniformData:function(y,b){y.uniform1f(b.uSaturation,-this.saturation)}}),I.Image.filters.Saturation.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Vibrance=(0,I.util.createClass)(N.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(y){if(0!==this.vibrance){var x,H,Z,C=y.imageData.data,E=C.length,z=-this.vibrance;for(x=0;x<E;x+=4)H=Math.max(C[x],C[x+1],C[x+2]),Z=2*Math.abs(H-(C[x]+C[x+1]+C[x+2])/3)/255*z,C[x]+=H!==C[x]?(H-C[x])*Z:0,C[x+1]+=H!==C[x+1]?(H-C[x+1])*Z:0,C[x+2]+=H!==C[x+2]?(H-C[x+2])*Z:0}},getUniformLocations:function(y,b){return{uVibrance:y.getUniformLocation(b,"uVibrance")}},sendUniformData:function(y,b){y.uniform1f(b.uVibrance,-this.vibrance)}}),I.Image.filters.Vibrance.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Blur=(0,I.util.createClass)(N.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(y){y.webgl?(this.aspectRatio=y.sourceWidth/y.sourceHeight,y.passes++,this._setupFrameBuffer(y),this.horizontal=!0,this.applyToWebGL(y),this._swapTextures(y),this._setupFrameBuffer(y),this.horizontal=!1,this.applyToWebGL(y),this._swapTextures(y)):this.applyTo2d(y)},applyTo2d:function(y){y.imageData=this.simpleBlur(y)},simpleBlur:function(y){var C,E,b=y.filterBackend.resources,z=y.imageData.width,x=y.imageData.height;b.blurLayer1||(b.blurLayer1=I.util.createCanvasElement(),b.blurLayer2=I.util.createCanvasElement()),E=b.blurLayer2,((C=b.blurLayer1).width!==z||C.height!==x)&&(E.width=C.width=z,E.height=C.height=x);var ee,ae,ue,we,H=C.getContext("2d"),W=E.getContext("2d"),Z=15,De=.06*this.blur*.5;for(H.putImageData(y.imageData,0,0),W.clearRect(0,0,z,x),we=-Z;we<=Z;we++)ue=De*(ae=we/Z)*z+(ee=(Math.random()-.5)/4),W.globalAlpha=1-Math.abs(ae),W.drawImage(C,ue,ee),H.drawImage(E,0,0),W.globalAlpha=1,W.clearRect(0,0,E.width,E.height);for(we=-Z;we<=Z;we++)ue=De*(ae=we/Z)*x+(ee=(Math.random()-.5)/4),W.globalAlpha=1-Math.abs(ae),W.drawImage(C,ee,ue),H.drawImage(E,0,0),W.globalAlpha=1,W.clearRect(0,0,E.width,E.height);y.ctx.drawImage(C,0,0);var Ne=y.ctx.getImageData(0,0,C.width,C.height);return H.globalAlpha=1,H.clearRect(0,0,C.width,C.height),Ne},getUniformLocations:function(y,b){return{delta:y.getUniformLocation(b,"uDelta")}},sendUniformData:function(y,b){var C=this.chooseRightDelta();y.uniform2fv(b.delta,C)},chooseRightDelta:function(){var C,y=1,b=[0,0];return this.horizontal?this.aspectRatio>1&&(y=1/this.aspectRatio):this.aspectRatio<1&&(y=this.aspectRatio),C=y*this.blur*.12,this.horizontal?b[0]=C:b[1]=C,b}}),N.Blur.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Gamma=(0,I.util.createClass)(N.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(y){this.gamma=[1,1,1],N.BaseFilter.prototype.initialize.call(this,y)},applyTo2d:function(y){var Z,C=y.imageData.data,E=this.gamma,z=C.length,x=1/E[0],H=1/E[1],W=1/E[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),Z=0,z=256;Z<z;Z++)this.rVals[Z]=255*Math.pow(Z/255,x),this.gVals[Z]=255*Math.pow(Z/255,H),this.bVals[Z]=255*Math.pow(Z/255,W);for(Z=0,z=C.length;Z<z;Z+=4)C[Z]=this.rVals[C[Z]],C[Z+1]=this.gVals[C[Z+1]],C[Z+2]=this.bVals[C[Z+2]]},getUniformLocations:function(y,b){return{uGamma:y.getUniformLocation(b,"uGamma")}},sendUniformData:function(y,b){y.uniform3fv(b.uGamma,this.gamma)}}),I.Image.filters.Gamma.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.Composed=(0,I.util.createClass)(N.BaseFilter,{type:"Composed",subFilters:[],initialize:function(y){this.callSuper("initialize",y),this.subFilters=this.subFilters.slice(0)},applyTo:function(y){y.passes+=this.subFilters.length-1,this.subFilters.forEach(function(b){b.applyTo(y)})},toObject:function(){return I.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(y){return y.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(y){return!y.isNeutralState()})}}),I.Image.filters.Composed.fromObject=function(y,b){var E=(y.subFilters||[]).map(function(x){return new I.Image.filters[x.type](x)}),z=new I.Image.filters.Composed({subFilters:E});return b&&b(z),z}}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.Image.filters;N.HueRotation=(0,I.util.createClass)(N.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var y=this.rotation*Math.PI,b=I.util.cos(y),C=I.util.sin(y),E=1/3,z=Math.sqrt(E)*C,x=1-b;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=b+x/3,this.matrix[1]=E*x-z,this.matrix[2]=E*x+z,this.matrix[5]=E*x+z,this.matrix[6]=b+E*x,this.matrix[7]=E*x-z,this.matrix[10]=E*x-z,this.matrix[11]=E*x+z,this.matrix[12]=b+E*x},isNeutralState:function(y){return this.calculateMatrix(),N.BaseFilter.prototype.isNeutralState.call(this,y)},applyTo:function(y){this.calculateMatrix(),N.BaseFilter.prototype.applyTo.call(this,y)}}),I.Image.filters.HueRotation.fromObject=I.Image.filters.BaseFilter.fromObject}(le),function(F){"use strict";var I=F.fabric||(F.fabric={}),N=I.util.object.clone;if(I.Text)I.warn("fabric.Text is already defined");else{var k="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");I.Text=I.util.createClass(I.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:I.Object.prototype.stateProperties.concat(k),cacheProperties:I.Object.prototype.cacheProperties.concat(k),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(y,b){this.styles=b&&b.styles||{},this.text=y,this.__skipDimension=!0,this.callSuper("initialize",b),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var y=this.path;y&&(y.segmentsInfo=I.util.getPathSegmentsInfo(y.path))},getMeasuringContext:function(){return I._measuringContext||(I._measuringContext=this.canvas&&this.canvas.contextCache||I.util.createCanvasElement().getContext("2d")),I._measuringContext},_splitText:function(){var y=this._splitTextIntoLines(this.text);return this.textLines=y.lines,this._textLines=y.graphemeLines,this._unwrappedTextLines=y._unwrappedLines,this._text=y.graphemeText,y},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var y,b,E,z,x,H,W=0,Z=this._textLines.length;W<Z;W++)if(("justify"===this.textAlign||W!==Z-1&&!this.isEndOfWrapping(W))&&(E=0,z=this._textLines[W],(b=this.getLineWidth(W))<this.width&&(H=this.textLines[W].match(this._reSpacesAndTabs)))){y=(this.width-b)/H.length;for(var ee=0,ae=z.length;ee<=ae;ee++)x=this.__charBounds[W][ee],this._reSpaceAndTab.test(z[ee])?(x.width+=y,x.kernedWidth+=y,x.left+=E,E+=y):x.left+=E}},isEndOfWrapping:function(y){return y===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var y=this.callSuper("_getCacheCanvasDimensions"),b=this.fontSize;return y.width+=b*y.zoomX,y.height+=b*y.zoomY,y},_render:function(y){var b=this.path;b&&!b.isNotVisible()&&b._render(y),this._setTextStyles(y),this._renderTextLinesBackground(y),this._renderTextDecoration(y,"underline"),this._renderText(y),this._renderTextDecoration(y,"overline"),this._renderTextDecoration(y,"linethrough")},_renderText:function(y){"stroke"===this.paintFirst?(this._renderTextStroke(y),this._renderTextFill(y)):(this._renderTextFill(y),this._renderTextStroke(y))},_setTextStyles:function(y,b,C){y.textBaseline="alphabetic",y.font=this._getFontDeclaration(b,C)},calcTextWidth:function(){for(var y=this.getLineWidth(0),b=1,C=this._textLines.length;b<C;b++){var E=this.getLineWidth(b);E>y&&(y=E)}return y},_renderTextLine:function(y,b,C,E,z,x){this._renderChars(y,b,C,E,z,x)},_renderTextLinesBackground:function(y){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var b,C,z,x,ae,ue,De,E=y.fillStyle,H=this._getLeftOffset(),W=this._getTopOffset(),Z=0,ee=0,we=this.path,Ne=0,bt=this._textLines.length;Ne<bt;Ne++)if(b=this.getHeightOfLine(Ne),this.textBackgroundColor||this.styleHas("textBackgroundColor",Ne)){z=this._textLines[Ne],C=this._getLineLeftOffset(Ne),ee=0,Z=0,x=this.getValueOfPropertyAt(Ne,0,"textBackgroundColor");for(var gt=0,ei=z.length;gt<ei;gt++)ae=this.__charBounds[Ne][gt],ue=this.getValueOfPropertyAt(Ne,gt,"textBackgroundColor"),we?(y.save(),y.translate(ae.renderLeft,ae.renderTop),y.rotate(ae.angle),y.fillStyle=ue,ue&&y.fillRect(-ae.width/2,-b/this.lineHeight*(1-this._fontSizeFraction),ae.width,b/this.lineHeight),y.restore()):ue!==x?(De=H+C+Z,"rtl"===this.direction&&(De=this.width-De-ee),y.fillStyle=x,x&&y.fillRect(De,W,ee,b/this.lineHeight),Z=ae.left,ee=ae.width,x=ue):ee+=ae.kernedWidth;ue&&!we&&(De=H+C+Z,"rtl"===this.direction&&(De=this.width-De-ee),y.fillStyle=ue,y.fillRect(De,W,ee,b/this.lineHeight)),W+=b}else W+=b;y.fillStyle=E,this._removeShadow(y)}},getFontCache:function(y){var b=y.fontFamily.toLowerCase();I.charWidthsCache[b]||(I.charWidthsCache[b]={});var C=I.charWidthsCache[b],E=y.fontStyle.toLowerCase()+"_"+(y.fontWeight+"").toLowerCase();return C[E]||(C[E]={}),C[E]},_measureChar:function(y,b,C,E){var ee,ae,ue,De,z=this.getFontCache(b),W=C+y,Z=this._getFontDeclaration(b)===this._getFontDeclaration(E),we=b.fontSize/this.CACHE_FONT_SIZE;if(C&&void 0!==z[C]&&(ue=z[C]),void 0!==z[y]&&(De=ee=z[y]),Z&&void 0!==z[W]&&(De=(ae=z[W])-ue),void 0===ee||void 0===ue||void 0===ae){var Ne=this.getMeasuringContext();this._setTextStyles(Ne,b,!0)}return void 0===ee&&(De=ee=Ne.measureText(y).width,z[y]=ee),void 0===ue&&Z&&C&&(ue=Ne.measureText(C).width,z[C]=ue),Z&&void 0===ae&&(ae=Ne.measureText(W).width,z[W]=ae,De=ae-ue),{width:ee*we,kernedWidth:De*we}},getHeightOfChar:function(y,b){return this.getValueOfPropertyAt(y,b,"fontSize")},measureLine:function(y){var b=this._measureLine(y);return 0!==this.charSpacing&&(b.width-=this._getWidthOfCharSpacing()),b.width<0&&(b.width=0),b},_measureLine:function(y){var C,E,x,H,ae,ue,b=0,z=this._textLines[y],Z=new Array(z.length),ee=0,we=this.path,De="right"===this.pathSide;for(this.__charBounds[y]=Z,C=0;C<z.length;C++)H=this._getGraphemeBox(E=z[C],y,C,x),Z[C]=H,b+=H.kernedWidth,x=E;if(Z[C]={left:H?H.left+H.width:0,width:0,kernedWidth:0,height:this.fontSize},we){switch(ue=we.segmentsInfo[we.segmentsInfo.length-1].length,(ae=I.util.getPointOnPath(we.path,0,we.segmentsInfo)).x+=we.pathOffset.x,ae.y+=we.pathOffset.y,this.textAlign){case"left":ee=De?ue-b:0;break;case"center":ee=(ue-b)/2;break;case"right":ee=De?0:ue-b}for(ee+=this.pathStartOffset*(De?-1:1),C=De?z.length-1:0;De?C>=0:C<z.length;De?C--:C++)ee>ue?ee%=ue:ee<0&&(ee+=ue),this._setGraphemeOnPath(ee,H=Z[C],ae),ee+=H.kernedWidth}return{width:b,numOfSpaces:0}},_setGraphemeOnPath:function(y,b,C){var z=this.path,x=I.util.getPointOnPath(z.path,y+b.kernedWidth/2,z.segmentsInfo);b.renderLeft=x.x-C.x,b.renderTop=x.y-C.y,b.angle=x.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(y,b,C,E,z){var ae,x=this.getCompleteStyleDeclaration(b,C),H=E?this.getCompleteStyleDeclaration(b,C-1):{},W=this._measureChar(y,x,E,H),Z=W.kernedWidth,ee=W.width;0!==this.charSpacing&&(ee+=ae=this._getWidthOfCharSpacing(),Z+=ae);var ue={width:ee,left:0,height:x.fontSize,kernedWidth:Z,deltaY:x.deltaY};if(C>0&&!z){var we=this.__charBounds[b][C-1];ue.left=we.left+we.width+W.kernedWidth-W.width}return ue},getHeightOfLine:function(y){if(this.__lineHeights[y])return this.__lineHeights[y];for(var b=this._textLines[y],C=this.getHeightOfChar(y,0),E=1,z=b.length;E<z;E++)C=Math.max(this.getHeightOfChar(y,E),C);return this.__lineHeights[y]=C*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var y,b=0,C=0,E=this._textLines.length;C<E;C++)y=this.getHeightOfLine(C),b+=C===E-1?y/this.lineHeight:y;return b},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(y,b){y.save();for(var C=0,E=this._getLeftOffset(),z=this._getTopOffset(),x=0,H=this._textLines.length;x<H;x++){var W=this.getHeightOfLine(x),Z=W/this.lineHeight,ee=this._getLineLeftOffset(x);this._renderTextLine(b,y,this._textLines[x],E+ee,z+C+Z,x),C+=W}y.restore()},_renderTextFill:function(y){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(y,"fillText")},_renderTextStroke:function(y){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(y),y.save(),this._setLineDash(y,this.strokeDashArray),y.beginPath(),this._renderTextCommon(y,"strokeText"),y.closePath(),y.restore())},_renderChars:function(y,b,C,E,z,x){var Z,ee,ue,De,ot,H=this.getHeightOfLine(x),W=-1!==this.textAlign.indexOf("justify"),ae="",we=0,Ne=this.path,bt=!W&&0===this.charSpacing&&this.isEmptyStyles(x)&&!Ne,gt="ltr"===this.direction,ei="ltr"===this.direction?1:-1;if(b.save(),z-=H*this._fontSizeFraction/this.lineHeight,bt)return b.canvas.setAttribute("dir",gt?"ltr":"rtl"),b.direction=gt?"ltr":"rtl",b.textAlign=gt?"left":"right",this._renderChar(y,b,x,0,C.join(""),E,z,H),void b.restore();for(var Yt=0,Le=C.length-1;Yt<=Le;Yt++)De=Yt===Le||this.charSpacing||Ne,ae+=C[Yt],ue=this.__charBounds[x][Yt],0===we?(E+=ei*(ue.kernedWidth-ue.width),we+=ue.width):we+=ue.kernedWidth,W&&!De&&this._reSpaceAndTab.test(C[Yt])&&(De=!0),De||(Z=Z||this.getCompleteStyleDeclaration(x,Yt),ee=this.getCompleteStyleDeclaration(x,Yt+1),De=this._hasStyleChanged(Z,ee)),De&&(Ne?(b.save(),b.translate(ue.renderLeft,ue.renderTop),b.rotate(ue.angle),this._renderChar(y,b,x,Yt,ae,-we/2,0,H),b.restore()):(ot=E,b.canvas.setAttribute("dir",gt?"ltr":"rtl"),b.direction=gt?"ltr":"rtl",b.textAlign=gt?"left":"right",this._renderChar(y,b,x,Yt,ae,ot,z,H)),ae="",Z=ee,E+=ei*we,we=0);b.restore()},_applyPatternGradientTransformText:function(y){var C,b=I.util.createCanvasElement(),E=this.width+this.strokeWidth,z=this.height+this.strokeWidth;return b.width=E,b.height=z,(C=b.getContext("2d")).beginPath(),C.moveTo(0,0),C.lineTo(E,0),C.lineTo(E,z),C.lineTo(0,z),C.closePath(),C.translate(E/2,z/2),C.fillStyle=y.toLive(C),this._applyPatternGradientTransform(C,y),C.fill(),C.createPattern(b,"no-repeat")},handleFiller:function(y,b,C){var E,z;return C.toLive?"percentage"===C.gradientUnits||C.gradientTransform||C.patternTransform?(y.translate(E=-this.width/2,z=-this.height/2),y[b]=this._applyPatternGradientTransformText(C),{offsetX:E,offsetY:z}):(y[b]=C.toLive(y,this),this._applyPatternGradientTransform(y,C)):(y[b]=C,{offsetX:0,offsetY:0})},_setStrokeStyles:function(y,b){return y.lineWidth=b.strokeWidth,y.lineCap=this.strokeLineCap,y.lineDashOffset=this.strokeDashOffset,y.lineJoin=this.strokeLineJoin,y.miterLimit=this.strokeMiterLimit,this.handleFiller(y,"strokeStyle",b.stroke)},_setFillStyles:function(y,b){return this.handleFiller(y,"fillStyle",b.fill)},_renderChar:function(y,b,C,E,z,x,H){var ue,we,W=this._getStyleDeclaration(C,E),Z=this.getCompleteStyleDeclaration(C,E),ee="fillText"===y&&Z.fill,ae="strokeText"===y&&Z.stroke&&Z.strokeWidth;!ae&&!ee||(b.save(),ee&&(ue=this._setFillStyles(b,Z)),ae&&(we=this._setStrokeStyles(b,Z)),b.font=this._getFontDeclaration(Z),W&&W.textBackgroundColor&&this._removeShadow(b),W&&W.deltaY&&(H+=W.deltaY),ee&&b.fillText(z,x-ue.offsetX,H-ue.offsetY),ae&&b.strokeText(z,x-we.offsetX,H-we.offsetY),b.restore())},setSuperscript:function(y,b){return this._setScript(y,b,this.superscript)},setSubscript:function(y,b){return this._setScript(y,b,this.subscript)},_setScript:function(y,b,C){var E=this.get2DCursorLocation(y,!0),z=this.getValueOfPropertyAt(E.lineIndex,E.charIndex,"fontSize"),x=this.getValueOfPropertyAt(E.lineIndex,E.charIndex,"deltaY");return this.setSelectionStyles({fontSize:z*C.size,deltaY:x+z*C.baseline},y,b),this},_hasStyleChanged:function(y,b){return y.fill!==b.fill||y.stroke!==b.stroke||y.strokeWidth!==b.strokeWidth||y.fontSize!==b.fontSize||y.fontFamily!==b.fontFamily||y.fontWeight!==b.fontWeight||y.fontStyle!==b.fontStyle||y.deltaY!==b.deltaY},_hasStyleChangedForSvg:function(y,b){return this._hasStyleChanged(y,b)||y.overline!==b.overline||y.underline!==b.underline||y.linethrough!==b.linethrough},_getLineLeftOffset:function(y){var b=this.getLineWidth(y),C=this.width-b,E=this.textAlign,z=this.direction,x=0,H=this.isEndOfWrapping(y);return"justify"===E||"justify-center"===E&&!H||"justify-right"===E&&!H||"justify-left"===E&&!H?0:("center"===E&&(x=C/2),"right"===E&&(x=C),"justify-center"===E&&(x=C/2),"justify-right"===E&&(x=C),"rtl"===z&&(x-=C),x)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var y=this._forceClearCache;return y||(y=this.hasStateChanged("_dimensionAffectingProps")),y&&(this.dirty=!0,this._forceClearCache=!1),y},getLineWidth:function(y){return this.__lineWidths[y]?this.__lineWidths[y]:(b=""===this._textLines[y]?0:this.measureLine(y).width,this.__lineWidths[y]=b,b);var b},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(y,b,C){var E=this._getStyleDeclaration(y,b);return E&&typeof E[C]<"u"?E[C]:this[C]},_renderTextDecoration:function(y,b){if(this[b]||this.styleHas(b)){for(var C,E,z,x,H,W,Z,ee,we,De,Ne,bt,gt,ei,ot,Yt,ae=this._getLeftOffset(),ue=this._getTopOffset(),Le=this.path,Gi=this._getWidthOfCharSpacing(),Ft=this.offsets[b],Li=0,ht=this._textLines.length;Li<ht;Li++)if(C=this.getHeightOfLine(Li),this[b]||this.styleHas(b,Li)){Z=this._textLines[Li],ei=C/this.lineHeight,x=this._getLineLeftOffset(Li),De=0,Ne=0,ee=this.getValueOfPropertyAt(Li,0,b),Yt=this.getValueOfPropertyAt(Li,0,"fill"),we=ue+ei*(1-this._fontSizeFraction),E=this.getHeightOfChar(Li,0),H=this.getValueOfPropertyAt(Li,0,"deltaY");for(var ct=0,et=Z.length;ct<et;ct++)if(bt=this.__charBounds[Li][ct],gt=this.getValueOfPropertyAt(Li,ct,b),ot=this.getValueOfPropertyAt(Li,ct,"fill"),z=this.getHeightOfChar(Li,ct),W=this.getValueOfPropertyAt(Li,ct,"deltaY"),Le&&gt&&ot)y.save(),y.fillStyle=Yt,y.translate(bt.renderLeft,bt.renderTop),y.rotate(bt.angle),y.fillRect(-bt.kernedWidth/2,Ft*z+W,bt.kernedWidth,this.fontSize/15),y.restore();else if((gt!==ee||ot!==Yt||z!==E||W!==H)&&Ne>0){var je=ae+x+De;"rtl"===this.direction&&(je=this.width-je-Ne),ee&&Yt&&(y.fillStyle=Yt,y.fillRect(je,we+Ft*E+H,Ne,this.fontSize/15)),De=bt.left,Ne=bt.width,ee=gt,Yt=ot,E=z,H=W}else Ne+=bt.kernedWidth;je=ae+x+De,"rtl"===this.direction&&(je=this.width-je-Ne),y.fillStyle=ot,gt&&ot&&y.fillRect(je,we+Ft*E+H,Ne-Gi,this.fontSize/15),ue+=C}else ue+=C;this._removeShadow(y)}},_getFontDeclaration:function(y,b){var C=y||this,E=this.fontFamily,z=I.Text.genericFonts.indexOf(E.toLowerCase())>-1,x=void 0===E||E.indexOf("'")>-1||E.indexOf(",")>-1||E.indexOf('"')>-1||z?C.fontFamily:'"'+C.fontFamily+'"';return[I.isLikelyNode?C.fontWeight:C.fontStyle,I.isLikelyNode?C.fontStyle:C.fontWeight,b?this.CACHE_FONT_SIZE+"px":C.fontSize+"px",x].join(" ")},render:function(y){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",y)))},_splitTextIntoLines:function(y){for(var b=y.split(this._reNewline),C=new Array(b.length),E=["\n"],z=[],x=0;x<b.length;x++)C[x]=I.util.string.graphemeSplit(b[x]),z=z.concat(C[x],E);return z.pop(),{_unwrappedLines:C,lines:b,graphemeText:z,graphemeLines:C}},toObject:function(y){var b=k.concat(y),C=this.callSuper("toObject",b);return C.styles=N(this.styles,!0),C.path&&(C.path=this.path.toObject()),C},set:function(y,b){this.callSuper("set",y,b);var C=!1,E=!1;if("object"==typeof y)for(var z in y)"path"===z&&this.setPathInfo(),C=C||-1!==this._dimensionAffectingProps.indexOf(z),E=E||"path"===z;else C=-1!==this._dimensionAffectingProps.indexOf(y),E="path"===y;return E&&this.setPathInfo(),C&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),I.Text.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),I.Text.DEFAULT_SVG_FONT_SIZE=16,I.Text.fromElement=function(y,b,C){if(!y)return b(null);var E=I.parseAttributes(y,I.Text.ATTRIBUTE_NAMES),z=E.textAnchor||"left";if((C=I.util.object.extend(C?N(C):{},E)).top=C.top||0,C.left=C.left||0,E.textDecoration){var x=E.textDecoration;-1!==x.indexOf("underline")&&(C.underline=!0),-1!==x.indexOf("overline")&&(C.overline=!0),-1!==x.indexOf("line-through")&&(C.linethrough=!0),delete C.textDecoration}"dx"in E&&(C.left+=E.dx),"dy"in E&&(C.top+=E.dy),"fontSize"in C||(C.fontSize=I.Text.DEFAULT_SVG_FONT_SIZE);var H="";"textContent"in y?H=y.textContent:"firstChild"in y&&null!==y.firstChild&&"data"in y.firstChild&&null!==y.firstChild.data&&(H=y.firstChild.data),H=H.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var W=C.strokeWidth;C.strokeWidth=0;var Z=new I.Text(H,C),ee=Z.getScaledHeight()/Z.height,ue=((Z.height+Z.strokeWidth)*Z.lineHeight-Z.height)*ee,we=Z.getScaledHeight()+ue,De=0;"center"===z&&(De=Z.getScaledWidth()/2),"right"===z&&(De=Z.getScaledWidth()),Z.set({left:Z.left-De,top:Z.top-(we-Z.fontSize*(.07+Z._fontSizeFraction))/Z.lineHeight,strokeWidth:typeof W<"u"?W:1}),b(Z)},I.Text.fromObject=function(y,b){var C=N(y),E=y.path;return delete C.path,I.Object._fromObject("Text",C,function(z){E?I.Object._fromObject("Path",E,function(x){z.set("path",x),b(z)},"path"):b(z)},"text")},I.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],I.util.createAccessors&&I.util.createAccessors(I.Text)}}(le),_.util.object.extend(_.Text.prototype,{isEmptyStyles:function(F){if(!this.styles||typeof F<"u"&&!this.styles[F])return!0;var I=typeof F>"u"?this.styles:{line:this.styles[F]};for(var N in I)for(var k in I[N])for(var y in I[N][k])return!1;return!0},styleHas:function(F,I){if(!this.styles||!F||""===F||typeof I<"u"&&!this.styles[I])return!1;var N=typeof I>"u"?this.styles:{0:this.styles[I]};for(var k in N)for(var y in N[k])if(typeof N[k][y][F]<"u")return!0;return!1},cleanStyle:function(F){if(!this.styles||!F||""===F)return!1;var k,y,I=this.styles,N=0,b=!0,C=0;for(var z in I){for(var x in k=0,I[z]){var E;N++,(E=I[z][x]).hasOwnProperty(F)?(y?E[F]!==y&&(b=!1):y=E[F],E[F]===this[F]&&delete E[F]):b=!1,0!==Object.keys(E).length?k++:delete I[z][x]}0===k&&delete I[z]}for(var W=0;W<this._textLines.length;W++)C+=this._textLines[W].length;b&&N===C&&(this[F]=y,this.removeStyle(F))},removeStyle:function(F){if(this.styles&&F&&""!==F){var N,k,y,I=this.styles;for(k in I){for(y in N=I[k])delete N[y][F],0===Object.keys(N[y]).length&&delete N[y];0===Object.keys(N).length&&delete I[k]}}},_extendStyles:function(F,I){var N=this.get2DCursorLocation(F);this._getLineStyle(N.lineIndex)||this._setLineStyle(N.lineIndex),this._getStyleDeclaration(N.lineIndex,N.charIndex)||this._setStyleDeclaration(N.lineIndex,N.charIndex,{}),_.util.object.extend(this._getStyleDeclaration(N.lineIndex,N.charIndex),I)},get2DCursorLocation:function(F,I){typeof F>"u"&&(F=this.selectionStart);for(var N=I?this._unwrappedTextLines:this._textLines,k=N.length,y=0;y<k;y++){if(F<=N[y].length)return{lineIndex:y,charIndex:F};F-=N[y].length+this.missingNewlineOffset(y)}return{lineIndex:y-1,charIndex:N[y-1].length<F?N[y-1].length:F}},getSelectionStyles:function(F,I,N){typeof F>"u"&&(F=this.selectionStart||0),typeof I>"u"&&(I=this.selectionEnd||F);for(var k=[],y=F;y<I;y++)k.push(this.getStyleAtPosition(y,N));return k},getStyleAtPosition:function(F,I){var N=this.get2DCursorLocation(F);return(I?this.getCompleteStyleDeclaration(N.lineIndex,N.charIndex):this._getStyleDeclaration(N.lineIndex,N.charIndex))||{}},setSelectionStyles:function(F,I,N){typeof I>"u"&&(I=this.selectionStart||0),typeof N>"u"&&(N=this.selectionEnd||I);for(var k=I;k<N;k++)this._extendStyles(k,F);return this._forceClearCache=!0,this},_getStyleDeclaration:function(F,I){var N=this.styles&&this.styles[F];return N?N[I]:null},getCompleteStyleDeclaration:function(F,I){for(var y,N=this._getStyleDeclaration(F,I)||{},k={},b=0;b<this._styleProperties.length;b++)k[y=this._styleProperties[b]]=typeof N[y]>"u"?this[y]:N[y];return k},_setStyleDeclaration:function(F,I,N){this.styles[F][I]=N},_deleteStyleDeclaration:function(F,I){delete this.styles[F][I]},_getLineStyle:function(F){return!!this.styles[F]},_setLineStyle:function(F){this.styles[F]={}},_deleteLineStyle:function(F){delete this.styles[F]}}),function(){function F(I){I.textDecoration&&(I.textDecoration.indexOf("underline")>-1&&(I.underline=!0),I.textDecoration.indexOf("line-through")>-1&&(I.linethrough=!0),I.textDecoration.indexOf("overline")>-1&&(I.overline=!0),delete I.textDecoration)}_.IText=_.util.createClass(_.Text,_.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(I,N){this.callSuper("initialize",I,N),this.initBehavior()},setSelectionStart:function(I){I=Math.max(I,0),this._updateAndFire("selectionStart",I)},setSelectionEnd:function(I){I=Math.min(I,this.text.length),this._updateAndFire("selectionEnd",I)},_updateAndFire:function(I,N){this[I]!==N&&(this._fireSelectionChanged(),this[I]=N),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(I){this.clearContextTop(),this.callSuper("render",I),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(I){this.callSuper("_render",I)},clearContextTop:function(I){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var N=this.canvas.contextTop,k=this.canvas.viewportTransform;N.save(),N.transform(k[0],k[1],k[2],k[3],k[4],k[5]),this.transform(N),this._clearTextArea(N),I||N.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var I=this._getCursorBoundaries(),N=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(I,N):this.renderSelection(I,N),N.restore()}},_clearTextArea:function(I){var N=this.width+4,k=this.height+4;I.clearRect(-N/2,-k/2,N,k)},_getCursorBoundaries:function(I){typeof I>"u"&&(I=this.selectionStart);var N=this._getLeftOffset(),k=this._getTopOffset(),y=this._getCursorBoundariesOffsets(I);return{left:N,top:k,leftOffset:y.left,topOffset:y.top}},_getCursorBoundariesOffsets:function(I){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var N,k,y,E,b=0,C=0,z=this.get2DCursorLocation(I);y=z.charIndex,k=z.lineIndex;for(var x=0;x<k;x++)b+=this.getHeightOfLine(x);N=this._getLineLeftOffset(k);var H=this.__charBounds[k][y];return H&&(C=H.left),0!==this.charSpacing&&y===this._textLines[k].length&&(C-=this._getWidthOfCharSpacing()),E={top:b,left:N+(C>0?C:0)},"rtl"===this.direction&&(E.left*=-1),this.cursorOffsetCache=E,this.cursorOffsetCache},renderCursor:function(I,N){var k=this.get2DCursorLocation(),y=k.lineIndex,b=k.charIndex>0?k.charIndex-1:0,C=this.getValueOfPropertyAt(y,b,"fontSize"),E=this.scaleX*this.canvas.getZoom(),z=this.cursorWidth/E,x=I.topOffset,H=this.getValueOfPropertyAt(y,b,"deltaY");x+=(1-this._fontSizeFraction)*this.getHeightOfLine(y)/this.lineHeight-C*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(I,N),N.fillStyle=this.cursorColor||this.getValueOfPropertyAt(y,b,"fill"),N.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,N.fillRect(I.left+I.leftOffset-z/2,x+I.top+H,z,C)},renderSelection:function(I,N){for(var k=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,y=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,b=-1!==this.textAlign.indexOf("justify"),C=this.get2DCursorLocation(k),E=this.get2DCursorLocation(y),z=C.lineIndex,x=E.lineIndex,H=C.charIndex<0?0:C.charIndex,W=E.charIndex<0?0:E.charIndex,Z=z;Z<=x;Z++){var ue,ee=this._getLineLeftOffset(Z)||0,ae=this.getHeightOfLine(Z),we=0,De=0;if(Z===z&&(we=this.__charBounds[z][H].left),Z>=z&&Z<x)De=b&&!this.isEndOfWrapping(Z)?this.width:this.getLineWidth(Z)||5;else if(Z===x)if(0===W)De=this.__charBounds[x][W].left;else{var Ne=this._getWidthOfCharSpacing();De=this.__charBounds[x][W-1].left+this.__charBounds[x][W-1].width-Ne}ue=ae,(this.lineHeight<1||Z===x&&this.lineHeight>1)&&(ae/=this.lineHeight);var bt=I.left+ee+we,gt=De-we,ei=ae,ot=0;this.inCompositionMode?(N.fillStyle=this.compositionColor||"black",ei=1,ot=ae):N.fillStyle=this.selectionColor,"rtl"===this.direction&&(bt=this.width-bt-gt),N.fillRect(bt,I.top+I.topOffset+ot,gt,ei),I.topOffset+=ue}},getCurrentCharFontSize:function(){var I=this._getCurrentCharIndex();return this.getValueOfPropertyAt(I.l,I.c,"fontSize")},getCurrentCharColor:function(){var I=this._getCurrentCharIndex();return this.getValueOfPropertyAt(I.l,I.c,"fill")},_getCurrentCharIndex:function(){var I=this.get2DCursorLocation(this.selectionStart,!0);return{l:I.lineIndex,c:I.charIndex>0?I.charIndex-1:0}}}),_.IText.fromObject=function(I,N){if(F(I),I.styles)for(var k in I.styles)for(var y in I.styles[k])F(I.styles[k][y]);_.Object._fromObject("IText",I,N,"text")}}(),function(){var F=_.util.object.clone;_.util.object.extend(_.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var I=this;this.on("added",function(){var N=I.canvas;N&&(N._hasITextHandlers||(N._hasITextHandlers=!0,I._initCanvasHandlers(N)),N._iTextInstances=N._iTextInstances||[],N._iTextInstances.push(I))})},initRemovedHandler:function(){var I=this;this.on("removed",function(){var N=I.canvas;N&&(N._iTextInstances=N._iTextInstances||[],_.util.removeFromArray(N._iTextInstances,I),0===N._iTextInstances.length&&(N._hasITextHandlers=!1,I._removeCanvasHandlers(N)))})},_initCanvasHandlers:function(I){I._mouseUpITextHandler=function(){I._iTextInstances&&I._iTextInstances.forEach(function(N){N.__isMousedown=!1})},I.on("mouse:up",I._mouseUpITextHandler)},_removeCanvasHandlers:function(I){I.off("mouse:up",I._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(I,N,k,y){var b;return b={isAborted:!1,abort:function(){this.isAborted=!0}},I.animate("_currentCursorOpacity",N,{duration:k,onComplete:function(){b.isAborted||I[y]()},onChange:function(){I.canvas&&I.selectionStart===I.selectionEnd&&I.renderCursorOrSelection()},abort:function(){return b.isAborted}}),b},_onTickComplete:function(){var I=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){I._currentTickCompleteState=I._animateCursor(I,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(I){var N=this,k=I?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){N._tick()},k)},abortCursorAnimation:function(){var I=this._currentTickState||this._currentTickCompleteState,N=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,I&&N&&N.clearContext(N.contextTop||N.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(I){var N=0,k=I-1;if(this._reSpace.test(this._text[k]))for(;this._reSpace.test(this._text[k]);)N++,k--;for(;/\S/.test(this._text[k])&&k>-1;)N++,k--;return I-N},findWordBoundaryRight:function(I){var N=0,k=I;if(this._reSpace.test(this._text[k]))for(;this._reSpace.test(this._text[k]);)N++,k++;for(;/\S/.test(this._text[k])&&k<this._text.length;)N++,k++;return I+N},findLineBoundaryLeft:function(I){for(var N=0,k=I-1;!/\n/.test(this._text[k])&&k>-1;)N++,k--;return I-N},findLineBoundaryRight:function(I){for(var N=0,k=I;!/\n/.test(this._text[k])&&k<this._text.length;)N++,k++;return I+N},searchWordBoundary:function(I,N){for(var k=this._text,y=this._reSpace.test(k[I])?I-1:I,b=k[y],C=_.reNonWord;!C.test(b)&&y>0&&y<k.length;)b=k[y+=N];return C.test(b)&&(y+=1===N?0:1),y},selectWord:function(I){var N=this.searchWordBoundary(I=I||this.selectionStart,-1),k=this.searchWordBoundary(I,1);this.selectionStart=N,this.selectionEnd=k,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(I){var N=this.findLineBoundaryLeft(I=I||this.selectionStart),k=this.findLineBoundaryRight(I);return this.selectionStart=N,this.selectionEnd=k,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(I){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(I),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(I){I._iTextInstances&&I._iTextInstances.forEach(function(N){N.selected=!1,N.isEditing&&N.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(I){if(this.__isMousedown&&this.isEditing){var N=this.getSelectionStartFromPointer(I.e),k=this.selectionStart,y=this.selectionEnd;(N!==this.__selectionStartOnMouseDown||k===y)&&(k===N||y===N)||(N>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=N):(this.selectionStart=N,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==k||this.selectionEnd!==y)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(I,N,k){var y=k.slice(0,I),b=_.util.string.graphemeSplit(y).length;if(I===N)return{selectionStart:b,selectionEnd:b};var C=k.slice(I,N);return{selectionStart:b,selectionEnd:b+_.util.string.graphemeSplit(C).length}},fromGraphemeToStringSelection:function(I,N,k){var b=k.slice(0,I).join("").length;return I===N?{selectionStart:b,selectionEnd:b}:{selectionStart:b,selectionEnd:b+k.slice(I,N).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var I=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=I.selectionStart,this.hiddenTextarea.selectionEnd=I.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var I=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=I.selectionEnd,this.inCompositionMode||(this.selectionStart=I.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var I=this._calcTextareaPosition();this.hiddenTextarea.style.left=I.left,this.hiddenTextarea.style.top=I.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var I=this.inCompositionMode?this.compositionStart:this.selectionStart,N=this._getCursorBoundaries(I),k=this.get2DCursorLocation(I),C=this.getValueOfPropertyAt(k.lineIndex,k.charIndex,"fontSize")*this.lineHeight,E=N.leftOffset,z=this.calcTransformMatrix(),x={x:N.left+E,y:N.top+N.topOffset+C},H=this.canvas.getRetinaScaling(),W=this.canvas.upperCanvasEl,Z=W.width/H,ee=W.height/H,ae=Z-C,ue=ee-C,we=W.clientWidth/Z,De=W.clientHeight/ee;return x=_.util.transformPoint(x,z),(x=_.util.transformPoint(x,this.canvas.viewportTransform)).x*=we,x.y*=De,x.x<0&&(x.x=0),x.x>ae&&(x.x=ae),x.y<0&&(x.y=0),x.y>ue&&(x.y=ue),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:x.x+"px",top:x.y+"px",fontSize:C+"px",charHeight:C}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var I=this._textBeforeEdit!==this.text,N=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,N&&(N.blur&&N.blur(),N.parentNode&&N.parentNode.removeChild(N)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),I&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),I&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var I in this.styles)this._textLines[I]||delete this.styles[I]},removeStyleFromTo:function(I,N){var x,H,k=this.get2DCursorLocation(I,!0),y=this.get2DCursorLocation(N,!0),b=k.lineIndex,C=k.charIndex,E=y.lineIndex,z=y.charIndex;if(b!==E){if(this.styles[b])for(x=C;x<this._unwrappedTextLines[b].length;x++)delete this.styles[b][x];if(this.styles[E])for(x=z;x<this._unwrappedTextLines[E].length;x++)(H=this.styles[E][x])&&(this.styles[b]||(this.styles[b]={}),this.styles[b][C+x-z]=H);for(x=b+1;x<=E;x++)delete this.styles[x];this.shiftLineStyles(E,b-E)}else if(this.styles[b]){H=this.styles[b];var Z,ee,W=z-C;for(x=C;x<z;x++)delete H[x];for(ee in this.styles[b])(Z=parseInt(ee,10))>=z&&(H[Z-W]=H[ee],delete H[ee])}},shiftLineStyles:function(I,N){var k=F(this.styles);for(var y in this.styles){var b=parseInt(y,10);b>I&&(this.styles[b+N]=k[b],k[b-N]||delete this.styles[b])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(I,N,k,y){var b,C={},E=!1,z=this._unwrappedTextLines[I].length===N;for(var x in k||(k=1),this.shiftLineStyles(I,k),this.styles[I]&&(b=this.styles[I][0===N?N:N-1]),this.styles[I]){var H=parseInt(x,10);H>=N&&(E=!0,C[H-N]=this.styles[I][x],z&&0===N||delete this.styles[I][x])}var W=!1;for(E&&!z&&(this.styles[I+k]=C,W=!0),W&&k--;k>0;)y&&y[k-1]?this.styles[I+k]={0:F(y[k-1])}:b?this.styles[I+k]={0:F(b)}:delete this.styles[I+k],k--;this._forceClearCache=!0},insertCharStyleObject:function(I,N,k,y){this.styles||(this.styles={});var b=this.styles[I],C=b?F(b):{};for(var E in k||(k=1),C){var z=parseInt(E,10);z>=N&&(b[z+k]=C[z],C[z-k]||delete b[z])}if(this._forceClearCache=!0,y)for(;k--;)Object.keys(y[k]).length&&(this.styles[I]||(this.styles[I]={}),this.styles[I][N+k]=F(y[k]));else if(b)for(var x=b[N?N-1:1];x&&k--;)this.styles[I][N+k]=F(x)},insertNewStyleBlock:function(I,N,k){for(var y=this.get2DCursorLocation(N,!0),b=[0],C=0,E=0;E<I.length;E++)"\n"===I[E]?b[++C]=0:b[C]++;for(b[0]>0&&(this.insertCharStyleObject(y.lineIndex,y.charIndex,b[0],k),k=k&&k.slice(b[0]+1)),C&&this.insertNewlineStyleObject(y.lineIndex,y.charIndex+b[0],C),E=1;E<C;E++)b[E]>0?this.insertCharStyleObject(y.lineIndex+E,0,b[E],k):k&&(this.styles[y.lineIndex+E][0]=k[0]),k=k&&k.slice(b[E]+1);b[E]>0&&this.insertCharStyleObject(y.lineIndex+E,0,b[E],k)},setSelectionStartEndWithShift:function(I,N,k){k<=I?(N===I?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=I),this.selectionStart=k):k>I&&k<N?"right"===this._selectionDirection?this.selectionEnd=k:this.selectionStart=k:(N===I?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=N),this.selectionEnd=k)},setSelectionInBoundaries:function(){var I=this.text.length;this.selectionStart>I?this.selectionStart=I:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>I?this.selectionEnd=I:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),_.util.object.extend(_.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(F){if(this.canvas){this.__newClickTime=+new Date;var I=F.pointer;this.isTripleClick(I)&&(this.fire("tripleclick",F),this._stopEvent(F.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=I,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(F){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===F.x&&this.__lastPointer.y===F.y},_stopEvent:function(F){F.preventDefault&&F.preventDefault(),F.stopPropagation&&F.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(F){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(F.e))},tripleClickHandler:function(F){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(F.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(F){!this.canvas||!this.editable||F.e.button&&1!==F.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(F.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(F){!this.canvas||!this.editable||F.e.button&&1!==F.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(F){if(this.__isMousedown=!1,!(!this.editable||this.group||F.transform&&F.transform.actionPerformed||F.e.button&&1!==F.e.button)){if(this.canvas){var I=this.canvas._activeObject;if(I&&I!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(F.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(F){var I=this.getSelectionStartFromPointer(F);F.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,I):(this.selectionStart=I,this.selectionEnd=I),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(F){for(var z,I=this.getLocalPointer(F),N=0,k=0,y=0,b=0,C=0,x=0,H=this._textLines.length;x<H&&y<=I.y;x++)y+=this.getHeightOfLine(x)*this.scaleY,C=x,x>0&&(b+=this._textLines[x-1].length+this.missingNewlineOffset(x-1));k=this._getLineLeftOffset(C)*this.scaleX,z=this._textLines[C],"rtl"===this.direction&&(I.x=this.width*this.scaleX-I.x+k);for(var W=0,Z=z.length;W<Z&&(N=k,(k+=this.__charBounds[C][W].kernedWidth*this.scaleX)<=I.x);W++)b++;return this._getNewSelectionStartFromOffset(I,N,k,b,Z)},_getNewSelectionStartFromOffset:function(F,I,N,k,y){var C=N-F.x,z=k+(C>F.x-I||C<0?0:1);return this.flipX&&(z=y-z),z>this._text.length&&(z=this._text.length),z}}),_.util.object.extend(_.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=_.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var F=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+F.top+"; left: "+F.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+F.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):_.document.body.appendChild(this.hiddenTextarea),_.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),_.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),_.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),_.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),_.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),_.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),_.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),_.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),_.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(_.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(F){if(this.isEditing){var I="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(F.keyCode in I)this[I[F.keyCode]](F);else{if(!(F.keyCode in this.ctrlKeysMapDown)||!F.ctrlKey&&!F.metaKey)return;this[this.ctrlKeysMapDown[F.keyCode]](F)}F.stopImmediatePropagation(),F.preventDefault(),F.keyCode>=33&&F.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(F){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:F.keyCode in this.ctrlKeysMapUp&&(F.ctrlKey||F.metaKey)&&(this[this.ctrlKeysMapUp[F.keyCode]](F),F.stopImmediatePropagation(),F.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(F){var I=this.fromPaste;if(this.fromPaste=!1,F&&F.stopPropagation(),this.isEditing){var b,C,W,Z,ee,N=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,k=this._text.length,y=N.length,E=y-k,z=this.selectionStart,x=this.selectionEnd,H=z!==x;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var ae=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),ue=z>ae.selectionStart;H?(b=this._text.slice(z,x),E+=x-z):y<k&&(b=ue?this._text.slice(x+E,x):this._text.slice(z,z-E)),C=N.slice(ae.selectionEnd-E,ae.selectionEnd),b&&b.length&&(C.length&&(W=this.getSelectionStyles(z,z+1,!1),W=C.map(function(){return W[0]})),H?(Z=z,ee=x):ue?(Z=x-b.length,ee=x):(Z=x,ee=x+b.length),this.removeStyleFromTo(Z,ee)),C.length&&(I&&C.join("")===_.copiedText&&!_.disableStyleCopyPaste&&(W=_.copiedTextStyle),this.insertNewStyleBlock(C,z,W)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(F){this.compositionStart=F.target.selectionStart,this.compositionEnd=F.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(_.copiedText=this.getSelectedText(),_.copiedTextStyle=_.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(F){return F&&F.clipboardData||_.window.clipboardData},_getWidthBeforeCursor:function(F,I){var k,N=this._getLineLeftOffset(F);return I>0&&(N+=(k=this.__charBounds[F][I-1]).left+k.width),N},getDownCursorOffset:function(F,I){var N=this._getSelectionForOffset(F,I),k=this.get2DCursorLocation(N),y=k.lineIndex;if(y===this._textLines.length-1||F.metaKey||34===F.keyCode)return this._text.length-N;var b=k.charIndex,C=this._getWidthBeforeCursor(y,b),E=this._getIndexOnLine(y+1,C);return this._textLines[y].slice(b).length+E+1+this.missingNewlineOffset(y)},_getSelectionForOffset:function(F,I){return F.shiftKey&&this.selectionStart!==this.selectionEnd&&I?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(F,I){var N=this._getSelectionForOffset(F,I),k=this.get2DCursorLocation(N),y=k.lineIndex;if(0===y||F.metaKey||33===F.keyCode)return-N;var b=k.charIndex,C=this._getWidthBeforeCursor(y,b),E=this._getIndexOnLine(y-1,C),z=this._textLines[y].slice(0,b),x=this.missingNewlineOffset(y-1);return-this._textLines[y-1].length+E-z.length+(1-x)},_getIndexOnLine:function(F,I){for(var C,E,N=this._textLines[F],y=this._getLineLeftOffset(F),b=0,z=0,x=N.length;z<x;z++)if((y+=C=this.__charBounds[F][z].width)>I){E=!0;var W=y,Z=Math.abs(y-C-I);b=Math.abs(W-I)<Z?z:z-1;break}return E||(b=N.length-1),b},moveCursorDown:function(F){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",F)},moveCursorUp:function(F){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",F)},_moveCursorUpOrDown:function(F,I){var k=this["get"+F+"CursorOffset"](I,"right"===this._selectionDirection);I.shiftKey?this.moveCursorWithShift(k):this.moveCursorWithoutShift(k),0!==k&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(F){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+F:this.selectionEnd+F),0!==F},moveCursorWithoutShift:function(F){return F<0?(this.selectionStart+=F,this.selectionEnd=this.selectionStart):(this.selectionEnd+=F,this.selectionStart=this.selectionEnd),0!==F},moveCursorLeft:function(F){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",F)},_move:function(F,I,N){var k;if(F.altKey)k=this["findWordBoundary"+N](this[I]);else{if(!F.metaKey&&35!==F.keyCode&&36!==F.keyCode)return this[I]+="Left"===N?-1:1,!0;k=this["findLineBoundary"+N](this[I])}if(void 0!==typeof k&&this[I]!==k)return this[I]=k,!0},_moveLeft:function(F,I){return this._move(F,I,"Left")},_moveRight:function(F,I){return this._move(F,I,"Right")},moveCursorLeftWithoutShift:function(F){var I=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(I=this._moveLeft(F,"selectionStart")),this.selectionEnd=this.selectionStart,I},moveCursorLeftWithShift:function(F){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(F,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(F,"selectionStart")):void 0},moveCursorRight:function(F){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",F)},_moveCursorLeftOrRight:function(F,I){var N="moveCursor"+F+"With";this._currentCursorOpacity=1,this[N+=I.shiftKey?"Shift":"outShift"](I)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(F){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(F,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(F,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(F){var I=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(I=this._moveRight(F,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,I},removeChars:function(F,I){typeof I>"u"&&(I=F+1),this.removeStyleFromTo(F,I),this._text.splice(F,I-F),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(F,I,N,k){typeof k>"u"&&(k=N),k>N&&this.removeStyleFromTo(N,k);var y=_.util.string.graphemeSplit(F);this.insertNewStyleBlock(y,N,I),this._text=[].concat(this._text.slice(0,N),y,this._text.slice(k)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var F=_.util.toFixed,I=/  +/g;_.util.object.extend(_.Text.prototype,{_toSVG:function(){var N=this._getSVGLeftTopOffsets(),k=this._getSVGTextAndBg(N.textTop,N.textLeft);return this._wrapSVGTextAndBg(k)},toSVG:function(N){return this._createBaseSVGMarkup(this._toSVG(),{reviver:N,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(N){var y=this.getSvgTextDecoration(this);return[N.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",y?'text-decoration="'+y+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",N.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(N,k){var E,y=[],b=[],C=N;this._setSVGBg(b);for(var z=0,x=this._textLines.length;z<x;z++)E=this._getLineLeftOffset(z),(this.textBackgroundColor||this.styleHas("textBackgroundColor",z))&&this._setSVGTextLineBg(b,z,k+E,C),this._setSVGTextLineText(y,z,k+E,C),C+=this.getHeightOfLine(z);return{textSpans:y,textBgRects:b}},_createTextCharSpan:function(N,k,y,b){var C=N!==N.trim()||N.match(I),E=this.getSvgSpanStyles(k,C),z=E?'style="'+E+'"':"",x=k.deltaY,H="",W=_.Object.NUM_FRACTION_DIGITS;return x&&(H=' dy="'+F(x,W)+'" '),['<tspan x="',F(y,W),'" y="',F(b,W),'" ',H,z,">",_.util.string.escapeXml(N),"</tspan>"].join("")},_setSVGTextLineText:function(N,k,y,b){var z,x,W,Z,ue,C=this.getHeightOfLine(k),E=-1!==this.textAlign.indexOf("justify"),H="",ee=0,ae=this._textLines[k];b+=C*(1-this._fontSizeFraction)/this.lineHeight;for(var we=0,De=ae.length-1;we<=De;we++)ue=we===De||this.charSpacing,H+=ae[we],W=this.__charBounds[k][we],0===ee?(y+=W.kernedWidth-W.width,ee+=W.width):ee+=W.kernedWidth,E&&!ue&&this._reSpaceAndTab.test(ae[we])&&(ue=!0),ue||(z=z||this.getCompleteStyleDeclaration(k,we),x=this.getCompleteStyleDeclaration(k,we+1),ue=this._hasStyleChangedForSvg(z,x)),ue&&(Z=this._getStyleDeclaration(k,we)||{},N.push(this._createTextCharSpan(H,Z,y,b)),H="",z=x,y+=ee,ee=0)},_pushTextBgRect:function(N,k,y,b,C,E){var z=_.Object.NUM_FRACTION_DIGITS;N.push("\t\t<rect ",this._getFillAttributes(k),' x="',F(y,z),'" y="',F(b,z),'" width="',F(C,z),'" height="',F(E,z),'"></rect>\n')},_setSVGTextLineBg:function(N,k,y,b){for(var H,W,C=this._textLines[k],E=this.getHeightOfLine(k)/this.lineHeight,z=0,x=0,Z=this.getValueOfPropertyAt(k,0,"textBackgroundColor"),ee=0,ae=C.length;ee<ae;ee++)H=this.__charBounds[k][ee],(W=this.getValueOfPropertyAt(k,ee,"textBackgroundColor"))!==Z?(Z&&this._pushTextBgRect(N,Z,y+x,b,z,E),x=H.left,z=H.width,Z=W):z+=H.kernedWidth;W&&this._pushTextBgRect(N,W,y+x,b,z,E)},_getFillAttributes:function(N){var k=N&&"string"==typeof N?new _.Color(N):"";return k&&k.getSource()&&1!==k.getAlpha()?'opacity="'+k.getAlpha()+'" fill="'+k.setAlpha(1).toRgb()+'"':'fill="'+N+'"'},_getSVGLineTopOffset:function(N){for(var y,k=0,b=0;b<N;b++)k+=this.getHeightOfLine(b);return y=this.getHeightOfLine(b),{lineTop:k,offset:(this._fontSizeMult-this._fontSizeFraction)*y/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(N){return _.Object.prototype.getSvgStyles.call(this,N)+" white-space: pre;"}})}(),function(F){"use strict";var I=F.fabric||(F.fabric={});I.Textbox=I.util.createClass(I.IText,I.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:I.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(N){for(var k=0,y=0,b=0,C={},E=0;E<N.graphemeLines.length;E++)"\n"===N.graphemeText[b]&&E>0?(y=0,b++,k++):!this.splitByGrapheme&&this._reSpaceAndTab.test(N.graphemeText[b])&&E>0&&(y++,b++),C[E]={line:k,offset:y},b+=N.graphemeLines[E].length,y+=N.graphemeLines[E].length;return C},styleHas:function(N,k){if(this._styleMap&&!this.isWrapping){var y=this._styleMap[k];y&&(k=y.line)}return I.Text.prototype.styleHas.call(this,N,k)},isEmptyStyles:function(N){if(!this.styles)return!0;var b,C,k=0,E=!1,z=this._styleMap[N],x=this._styleMap[N+1];for(var H in z&&(N=z.line,k=z.offset),x&&(E=x.line===N,b=x.offset),C=typeof N>"u"?this.styles:{line:this.styles[N]})for(var W in C[H])if(W>=k&&(!E||W<b))for(var Z in C[H][W])return!1;return!0},_getStyleDeclaration:function(N,k){if(this._styleMap&&!this.isWrapping){var y=this._styleMap[N];if(!y)return null;N=y.line,k=y.offset+k}return this.callSuper("_getStyleDeclaration",N,k)},_setStyleDeclaration:function(N,k,y){var b=this._styleMap[N];this.styles[N=b.line][k=b.offset+k]=y},_deleteStyleDeclaration:function(N,k){var y=this._styleMap[N];delete this.styles[N=y.line][k=y.offset+k]},_getLineStyle:function(N){return!!this.styles[this._styleMap[N].line]},_setLineStyle:function(N){this.styles[this._styleMap[N].line]={}},_wrapText:function(N,k){var b,y=[];for(this.isWrapping=!0,b=0;b<N.length;b++)y=y.concat(this._wrapLine(N[b],b,k));return this.isWrapping=!1,y},_measureWord:function(N,k,y){var C,b=0;y=y||0;for(var z=0,x=N.length;z<x;z++)b+=this._getGraphemeBox(N[z],k,z+y,C,true).kernedWidth,C=N[z];return b},_wrapLine:function(N,k,y,bt){var C=0,E=this.splitByGrapheme,z=[],x=[],H=E?I.util.string.graphemeSplit(N):N.split(this._wordJoiners),W="",Z=0,ee=E?"":" ",ae=0,ue=0,we=0,De=!0,Ne=this._getWidthOfCharSpacing();bt=bt||0,0===H.length&&H.push([]),y-=bt;for(var gt=0;gt<H.length;gt++)W=E?H[gt]:I.util.string.graphemeSplit(H[gt]),ae=this._measureWord(W,k,Z),Z+=W.length,(C+=ue+ae-Ne)>y&&!De?(z.push(x),x=[],C=ae,De=!0):C+=Ne,!De&&!E&&x.push(ee),x=x.concat(W),ue=E?0:this._measureWord([ee],k,Z),Z++,De=!1,ae>we&&(we=ae);return gt&&z.push(x),we+bt>this.dynamicMinWidth&&(this.dynamicMinWidth=we-Ne+bt),z},isEndOfWrapping:function(N){return!this._styleMap[N+1]||this._styleMap[N+1].line!==this._styleMap[N].line},missingNewlineOffset:function(N){return this.splitByGrapheme?this.isEndOfWrapping(N)?1:0:1},_splitTextIntoLines:function(N){for(var k=I.Text.prototype._splitTextIntoLines.call(this,N),y=this._wrapText(k.lines,this.width),b=new Array(y.length),C=0;C<y.length;C++)b[C]=y[C].join("");return k.lines=b,k.graphemeLines=y,k},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var N={};for(var k in this._styleMap)this._textLines[k]&&(N[this._styleMap[k].line]=1);for(var k in this.styles)N[k]||delete this.styles[k]},toObject:function(N){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(N))}}),I.Textbox.fromObject=function(N,k){return I.Object._fromObject("Textbox",N,k,"text")}}(le),function(){var F=_.controlsUtils,I=F.scaleSkewCursorStyleHandler,N=F.scaleCursorStyleHandler,k=F.scalingEqually,y=F.scalingYOrSkewingX,b=F.scalingXOrSkewingY,C=F.scaleOrSkewActionName,E=_.Object.prototype.controls;if(E.ml=new _.Control({x:-.5,y:0,cursorStyleHandler:I,actionHandler:b,getActionName:C}),E.mr=new _.Control({x:.5,y:0,cursorStyleHandler:I,actionHandler:b,getActionName:C}),E.mb=new _.Control({x:0,y:.5,cursorStyleHandler:I,actionHandler:y,getActionName:C}),E.mt=new _.Control({x:0,y:-.5,cursorStyleHandler:I,actionHandler:y,getActionName:C}),E.tl=new _.Control({x:-.5,y:-.5,cursorStyleHandler:N,actionHandler:k}),E.tr=new _.Control({x:.5,y:-.5,cursorStyleHandler:N,actionHandler:k}),E.bl=new _.Control({x:-.5,y:.5,cursorStyleHandler:N,actionHandler:k}),E.br=new _.Control({x:.5,y:.5,cursorStyleHandler:N,actionHandler:k}),E.mtr=new _.Control({x:0,y:-.5,actionHandler:F.rotationWithSnapping,cursorStyleHandler:F.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),_.Textbox){var z=_.Textbox.prototype.controls={};z.mtr=E.mtr,z.tr=E.tr,z.br=E.br,z.tl=E.tl,z.bl=E.bl,z.mt=E.mt,z.mb=E.mb,z.mr=new _.Control({x:.5,y:0,actionHandler:F.changeWidth,cursorStyleHandler:I,actionName:"resizing"}),z.ml=new _.Control({x:-.5,y:0,actionHandler:F.changeWidth,cursorStyleHandler:I,actionName:"resizing"})}}()},3053:function(q,le,B){"use strict";var _=B(602);q.exports=function re(te,he,ce){var ye,F;if(ce=ce||0,!_(he))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(he,te,ce);for(F=he.length,ye=ce;ce>=0&&ye<F;ye+=1)if(he[ye]===te)return ye;return-1}},8592:function(q,le,B){"use strict";var _=B(602),re=B(6092),te=B(5573);q.exports=function he(ce,ye,F){_(ce)?re(ce,ye,F):te(ce,ye,F)}},6092:function(q){"use strict";q.exports=function le(B,_,re){var te=0,he=B.length;for(re=re||null;te<he&&!1!==_.call(re,B[te],te,B);te+=1);}},5573:function(q){"use strict";q.exports=function le(B,_,re){var te;for(te in re=re||null,B)if(B.hasOwnProperty(te)&&!1===_.call(re,B[te],te,B))break}},9052:function(q,le,B){"use strict";var _=B(961),re=B(9886),te=B(2560),he=B(5393),ce=B(602),ye=B(5183),F=B(8592),I=/\s+/g;function N(){this.events=null,this.contexts=null}N.mixin=function(k){_(k.prototype,N.prototype)},N.prototype._getHandlerItem=function(k,y){var b={handler:k};return y&&(b.context=y),b},N.prototype._safeEvent=function(k){var b,y=this.events;return y||(y=this.events={}),k&&((b=y[k])||(y[k]=b=[]),y=b),y},N.prototype._safeContext=function(){var k=this.contexts;return k||(k=this.contexts=[]),k},N.prototype._indexOfContext=function(k){for(var y=this._safeContext(),b=0;y[b];){if(k===y[b][0])return b;b+=1}return-1},N.prototype._memorizeContext=function(k){var y,b;re(k)&&(y=this._safeContext(),(b=this._indexOfContext(k))>-1?y[b][1]+=1:y.push([k,1]))},N.prototype._forgetContext=function(k){var y,b;re(k)&&(y=this._safeContext(),(b=this._indexOfContext(k))>-1&&(y[b][1]-=1,y[b][1]<=0&&y.splice(b,1)))},N.prototype._bindEvent=function(k,y,b){var C=this._safeEvent(k);this._memorizeContext(b),C.push(this._getHandlerItem(y,b))},N.prototype.on=function(k,y,b){var C=this;te(k)?(k=k.split(I),F(k,function(E){C._bindEvent(E,y,b)})):he(k)&&(b=y,F(k,function(E,z){C.on(z,E,b)}))},N.prototype.once=function(k,y,b){var C=this;if(he(k))return b=y,void F(k,function(z,x){C.once(x,z,b)});this.on(k,function E(){y.apply(b,arguments),C.off(k,E,b)},b)},N.prototype._spliceMatches=function(k,y){var C,b=0;if(ce(k))for(C=k.length;b<C;b+=1)!0===y(k[b])&&(k.splice(b,1),C-=1,b-=1)},N.prototype._matchHandler=function(k){var y=this;return function(b){var C=k===b.handler;return C&&y._forgetContext(b.context),C}},N.prototype._matchContext=function(k){var y=this;return function(b){var C=k===b.context;return C&&y._forgetContext(b.context),C}},N.prototype._matchHandlerAndContext=function(k,y){var b=this;return function(C){var x=k===C.handler&&y===C.context;return x&&b._forgetContext(C.context),x}},N.prototype._offByEventName=function(k,y){var b=this,C=ye(y),E=b._matchHandler(y);k=k.split(I),F(k,function(z){var x=b._safeEvent(z);C?b._spliceMatches(x,E):(F(x,function(H){b._forgetContext(H.context)}),b.events[z]=[])})},N.prototype._offByHandler=function(k){var y=this,b=this._matchHandler(k);F(this._safeEvent(),function(C){y._spliceMatches(C,b)})},N.prototype._offByObject=function(k,y){var C,b=this;this._indexOfContext(k)<0?F(k,function(E,z){b.off(z,E)}):te(y)?(C=this._matchContext(k),b._spliceMatches(this._safeEvent(y),C)):ye(y)?(C=this._matchHandlerAndContext(y,k),F(this._safeEvent(),function(E){b._spliceMatches(E,C)})):(C=this._matchContext(k),F(this._safeEvent(),function(E){b._spliceMatches(E,C)}))},N.prototype.off=function(k,y){te(k)?this._offByEventName(k,y):arguments.length?ye(k)?this._offByHandler(k):he(k)&&this._offByObject(k,y):(this.events={},this.contexts=[])},N.prototype.fire=function(k){this.invoke.apply(this,arguments)},N.prototype.invoke=function(k){var y,b,C,E;if(!this.hasListener(k))return!0;for(y=this._safeEvent(k),b=Array.prototype.slice.call(arguments,1),C=0;y[C];){if(!1===(E=y[C]).handler.apply(E.context,b))return!1;C+=1}return!0},N.prototype.hasListener=function(k){return this.getListenerLength(k)>0},N.prototype.getListenerLength=function(k){return this._safeEvent(k).length},q.exports=N},961:function(q){"use strict";q.exports=function le(B,_){var te,he,ce,ye,re=Object.prototype.hasOwnProperty;for(ce=1,ye=arguments.length;ce<ye;ce+=1)for(he in te=arguments[ce])re.call(te,he)&&(B[he]=te[he]);return B}},1610:function(q,le,B){"use strict";var _=B(5695),re=B(3778);q.exports=function te(he,ce){for(var ye=arguments,F=ye[0],I=1,N=ye.length;I<N;I+=1){if(_(F)||re(F))return;F=F[ye[I]]}return F}},4564:function(q,le,B){"use strict";var _=B(5573);q.exports=function re(te,he){var ce=document.createElement("img"),ye="";return _(he,function(F,I){ye+="&"+I+"="+F}),ye=ye.substring(1),ce.src=te+"?"+ye,ce.style.display="none",document.body.appendChild(ce),document.body.removeChild(ce),ce}},4729:function(q,le,B){"use strict";var _=B(5695),re=B(4564),te=6048e5;q.exports=function ce(ye,F){var N=location.hostname,b="TOAST UI "+ye+" for "+N+": Statistics",C=window.localStorage.getItem(b);!_(window.tui)&&!1===window.tui.usageStatistics||C&&!function he(ye){return(new Date).getTime()-ye>te}(C)||(window.localStorage.setItem(b,(new Date).getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&re("https://www.google-analytics.com/collect",{v:1,t:"event",tid:F,cid:N,dp:N,dh:ye,el:ye,ec:"use"})},1e3))}},602:function(q){"use strict";q.exports=function le(B){return B instanceof Array}},9886:function(q,le,B){"use strict";var _=B(5695),re=B(3778);q.exports=function te(he){return!_(he)&&!re(he)}},5183:function(q){"use strict";q.exports=function le(B){return B instanceof Function}},3778:function(q){"use strict";q.exports=function le(B){return null===B}},5393:function(q){"use strict";q.exports=function le(B){return B===Object(B)}},2560:function(q){"use strict";q.exports=function le(B){return"string"==typeof B||B instanceof String}},5695:function(q){"use strict";q.exports=function le(B){return void 0===B}},4426:function(q,le,B){q.exports=B(4486)},9406:function(q,le,B){q.exports=B(4877)},789:function(q,le,B){q.exports=B(7178)},381:function(q,le,B){q.exports=B(5603)},7636:function(q,le,B){q.exports=B(1206)},1899:function(q,le,B){q.exports=B(6174)},899:function(q,le,B){q.exports=B(57)},8005:function(q,le,B){q.exports=B(4741)},6562:function(q,le,B){q.exports=B(8368)},9131:function(q,le,B){q.exports=B(3739)},4383:function(q,le,B){q.exports=B(172)},6065:function(q,le,B){q.exports=B(4963)},1734:function(q,le,B){q.exports=B(7820)},2461:function(q,le,B){q.exports=B(5636)},5214:function(q,le,B){q.exports=B(5059)},6397:function(q,le,B){q.exports=B(3969)},8189:function(q,le,B){q.exports=B(6618)},9146:function(q,le,B){q.exports=B(5279)},4496:function(q,le,B){q.exports=B(9562)},3972:function(q,le,B){q.exports=B(652)},7172:function(q,le,B){q.exports=B(2813)},1845:function(q,le,B){q.exports=B(8664)},662:function(q,le,B){q.exports=B(1457)},711:function(q,le,B){q.exports=B(2937)},6623:function(q,le,B){q.exports=B(9297)},7077:function(q,le,B){q.exports=B(8026)},9856:function(q,le,B){q.exports=B(2044)},4230:function(q,le,B){q.exports=B(2214)},184:function(q,le,B){q.exports=B(9256)},3742:function(q,le,B){q.exports=B(5659)},1801:function(q){var le={rect:1,circle:2,triangle:1},B={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function re(I,N,k){var y=I.x,b=I.y,C=N.x,E=N.y,z=k*Math.PI/180;return{originX:y>(C-y)*Math.cos(z)-(E-b)*Math.sin(z)+y?"right":"left",originY:b>(C-y)*Math.sin(z)+(E-b)*Math.cos(z)+b?"bottom":"top"}}q.exports={setOrigins:function(N){var k=N.getPointByOrigin("left","top"),y=N.getPointByOrigin("right","top"),b=N.getPointByOrigin("right","bottom"),C=N.getPointByOrigin("left","bottom");N.origins={lt:k,rt:y,rb:b,lb:C}},resize:function(N,k,y){(function te(I){return"center"===I.originX&&"center"===I.originY})(N)&&(function he(I,N){var k=N.getPointByOrigin("center","center"),b=re(k,I,-N.angle),C=b.originX,E=b.originY,z=N.getPointByOrigin(C,E);N.set({originX:C,originY:E,left:N.left-(k.x-z.x),top:N.top-(k.y-z.y)}),N.setCoords()}(k,N),function _(I){var k=I.originY,y=I.originX.substring(0,1)+k.substring(0,1);I.startPoint=I.origins[y]}(N)),y?function ye(I){var k=I.scaleX,y=I.scaleY,b=B[I.type],C=I[b.w]*k,E=I[b.h]*y;if(I.isRegular){var z=Math.max(k,y);C=I[b.w]*z,E=I[b.h]*z}var x={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};x[b.w]=C,x[b.h]=E,I.set(x)}(N):function F(I,N){var k=N.type,y=N.strokeWidth,b=N.startPoint,C=le[k],E=B[k],z="triangle"===N.type,x={},H=Math.abs(b.x-I.x)/C,W=Math.abs(b.y-I.y)/C;H>y&&(H-=y/C),W>y&&(W-=y/C),N.isRegular&&(H=W=Math.max(H,W),z&&(W=Math.sqrt(3)/2*H)),x[E.w]=H,x[E.h]=W,N.set(x)}(k,N),function ce(I,N){var k=N.startPoint,b=re(k,I,-N.angle);N.setPositionByOrigin(k,b.originX,b.originY),N.setCoords()}(k,N)},adjustOriginToCenter:function(N){var k=N.getPointByOrigin("center","center"),C=N.getPointByOrigin(N.originX,N.originY);N.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:N.left+(k.x-C.x),top:N.top+(k.y-C.y)}),N.setCoords()}}},2221:function(q,le,B){B(5454),B(9173);var _=B(7545);q.exports=_.Array.from},5078:function(q,le,B){B(8118);var _=B(7545);q.exports=_.Array.isArray},6135:function(q,le,B){B(9106);var _=B(5607);q.exports=_("Array").concat},9510:function(q,le,B){B(1710);var _=B(5607);q.exports=_("Array").fill},3971:function(q,le,B){B(3436);var _=B(5607);q.exports=_("Array").filter},98:function(q,le,B){B(9823);var _=B(5607);q.exports=_("Array").forEach},2089:function(q,le,B){B(2276);var _=B(5607);q.exports=_("Array").indexOf},6209:function(q,le,B){B(3838);var _=B(5607);q.exports=_("Array").map},2671:function(q,le,B){B(5818);var _=B(5607);q.exports=_("Array").slice},1375:function(q,le,B){B(2178);var _=B(5607);q.exports=_("Array").splice},3528:function(q,le,B){B(665);var _=B(5607);q.exports=_("Function").bind},5739:function(q,le,B){B(8939),B(5454);var _=B(8703);q.exports=_},278:function(q,le,B){var _=B(3528),re=Function.prototype;q.exports=function(te){var he=te.bind;return te===re||te instanceof Function&&he===re.bind?_:he}},1484:function(q,le,B){var _=B(6135),re=Array.prototype;q.exports=function(te){var he=te.concat;return te===re||te instanceof Array&&he===re.concat?_:he}},7731:function(q,le,B){var _=B(9510),re=Array.prototype;q.exports=function(te){var he=te.fill;return te===re||te instanceof Array&&he===re.fill?_:he}},3669:function(q,le,B){var _=B(3971),re=Array.prototype;q.exports=function(te){var he=te.filter;return te===re||te instanceof Array&&he===re.filter?_:he}},2604:function(q,le,B){var _=B(2089),re=Array.prototype;q.exports=function(te){var he=te.indexOf;return te===re||te instanceof Array&&he===re.indexOf?_:he}},263:function(q,le,B){var _=B(6209),re=Array.prototype;q.exports=function(te){var he=te.map;return te===re||te instanceof Array&&he===re.map?_:he}},7663:function(q,le,B){var _=B(2671),re=Array.prototype;q.exports=function(te){var he=te.slice;return te===re||te instanceof Array&&he===re.slice?_:he}},5063:function(q,le,B){var _=B(1375),re=Array.prototype;q.exports=function(te){var he=te.splice;return te===re||te instanceof Array&&he===re.splice?_:he}},6813:function(q,le,B){var _=B(3842),re=String.prototype;q.exports=function(te){var he=te.trim;return"string"==typeof te||te===re||te instanceof String&&he===re.trim?_:he}},6285:function(q,le,B){B(2666);var _=B(7545);q.exports=_.Number.parseInt},3213:function(q,le,B){B(3113);var re=B(7545).Object;q.exports=function(he,ce){return re.create(he,ce)}},3512:function(q,le,B){B(297);var re=B(7545).Object,te=q.exports=function(ce,ye,F){return re.defineProperty(ce,ye,F)};re.defineProperty.sham&&(te.sham=!0)},8168:function(q,le,B){B(9234);var _=B(7545);q.exports=_.Object.getPrototypeOf},8651:function(q,le,B){B(2647);var _=B(7545);q.exports=_.Object.keys},3083:function(q,le,B){B(3222);var _=B(7545);q.exports=_.Object.setPrototypeOf},2987:function(q,le,B){B(4859);var _=B(7545);q.exports=_.parseFloat},2239:function(q,le,B){B(5706);var _=B(7545);q.exports=_.parseInt},3154:function(q,le,B){B(4242),B(8939),B(6663),B(9021),B(7884),B(8885),B(1868),B(5454);var _=B(7545);q.exports=_.Promise},6577:function(q,le,B){B(5397);var _=B(7545);q.exports=_.Reflect.construct},3842:function(q,le,B){B(957);var _=B(5607);q.exports=_("String").trim},5008:function(q,le,B){B(9106),B(6663),B(6187),B(9781),B(492),B(6681),B(9594),B(3665),B(9017),B(1250),B(9786),B(503),B(6565),B(9322),B(3610),B(6886),B(3514),B(8671),B(8556),B(1367);var _=B(7545);q.exports=_.Symbol},994:function(q,le,B){B(8939),B(6663),B(5454),B(3665);var _=B(9207);q.exports=_.f("iterator")},2813:function(q,le,B){var _=B(3822);q.exports=_},8664:function(q,le,B){var _=B(1434);q.exports=_},1457:function(q,le,B){var _=B(7710);q.exports=_},2937:function(q,le,B){var _=B(4741);q.exports=_},9297:function(q,le,B){var _=B(4963);q.exports=_},8026:function(q,le,B){var _=B(7820);q.exports=_},2044:function(q,le,B){var _=B(8980);q.exports=_},2214:function(q,le,B){var _=B(6672);q.exports=_},9256:function(q,le,B){var _=B(2285);B(177),B(9031),B(6658),B(1875),B(8658),B(4592),B(6680),q.exports=_},5659:function(q,le,B){var _=B(8535);q.exports=_},6235:function(q,le,B){var _=B(6447),re=B(9288);q.exports=function(te){if(_(te))return te;throw TypeError(re(te)+" is not a function")}},1404:function(q,le,B){var _=B(2091),re=B(9288);q.exports=function(te){if(_(te))return te;throw TypeError(re(te)+" is not a constructor")}},7757:function(q,le,B){var _=B(6447);q.exports=function(re){if("object"==typeof re||_(re))return re;throw TypeError("Can't set "+String(re)+" as a prototype")}},7423:function(q){q.exports=function(){}},6961:function(q){q.exports=function(le,B,_){if(le instanceof B)return le;throw TypeError("Incorrect "+(_?_+" ":"")+"invocation")}},1138:function(q,le,B){var _=B(5744);q.exports=function(re){if(_(re))return re;throw TypeError(String(re)+" is not an object")}},2724:function(q,le,B){"use strict";var _=B(1795),re=B(7739),te=B(4104);q.exports=function(ce){for(var ye=_(this),F=te(ye),I=arguments.length,N=re(I>1?arguments[1]:void 0,F),k=I>2?arguments[2]:void 0,y=void 0===k?F:re(k,F);y>N;)ye[N++]=ce;return ye}},7397:function(q,le,B){"use strict";var _=B(454).forEach,te=B(424)("forEach");q.exports=te?[].forEach:function(ce){return _(this,ce,arguments.length>1?arguments[1]:void 0)}},841:function(q,le,B){"use strict";var _=B(8043),re=B(1795),te=B(1635),he=B(6109),ce=B(2091),ye=B(4104),F=B(9361),I=B(1669),N=B(8703);q.exports=function(y){var b=re(y),C=ce(this),E=arguments.length,z=E>1?arguments[1]:void 0,x=void 0!==z;x&&(z=_(z,E>2?arguments[2]:void 0,2));var Z,ee,ae,ue,we,De,H=N(b),W=0;if(!H||this==Array&&he(H))for(Z=ye(b),ee=C?new this(Z):Array(Z);Z>W;W++)De=x?z(b[W],W):b[W],F(ee,W,De);else for(we=(ue=I(b,H)).next,ee=C?new this:[];!(ae=we.call(ue)).done;W++)De=x?te(ue,z,[ae.value,W],!0):ae.value,F(ee,W,De);return ee.length=W,ee}},8180:function(q,le,B){var _=B(101),re=B(7739),te=B(4104),he=function(ce){return function(ye,F,I){var b,N=_(ye),k=te(N),y=re(I,k);if(ce&&F!=F){for(;k>y;)if((b=N[y++])!=b)return!0}else for(;k>y;y++)if((ce||y in N)&&N[y]===F)return ce||y||0;return!ce&&-1}};q.exports={includes:he(!0),indexOf:he(!1)}},454:function(q,le,B){var _=B(8043),re=B(2202),te=B(1795),he=B(4104),ce=B(1321),ye=[].push,F=function(I){var N=1==I,k=2==I,y=3==I,b=4==I,C=6==I,E=7==I,z=5==I||C;return function(x,H,W,Z){for(var gt,ei,ee=te(x),ae=re(ee),ue=_(H,W,3),we=he(ae),De=0,Ne=Z||ce,bt=N?Ne(x,we):k||E?Ne(x,0):void 0;we>De;De++)if((z||De in ae)&&(ei=ue(gt=ae[De],De,ee),I))if(N)bt[De]=ei;else if(ei)switch(I){case 3:return!0;case 5:return gt;case 6:return De;case 2:ye.call(bt,gt)}else switch(I){case 4:return!1;case 7:ye.call(bt,gt)}return C?-1:y||b?b:bt}};q.exports={forEach:F(0),map:F(1),filter:F(2),some:F(3),every:F(4),find:F(5),findIndex:F(6),filterReject:F(7)}},242:function(q,le,B){var _=B(6192),re=B(8182),te=B(4218),he=re("species");q.exports=function(ce){return te>=51||!_(function(){var ye=[];return(ye.constructor={})[he]=function(){return{foo:1}},1!==ye[ce](Boolean).foo})}},424:function(q,le,B){"use strict";var _=B(6192);q.exports=function(re,te){var he=[][re];return!!he&&_(function(){he.call(null,te||function(){throw 1},1)})}},3712:function(q,le,B){var _=B(4770),re=B(2091),te=B(5744),ce=B(8182)("species");q.exports=function(ye){var F;return _(ye)&&(re(F=ye.constructor)&&(F===Array||_(F.prototype))||te(F)&&null===(F=F[ce]))&&(F=void 0),void 0===F?Array:F}},1321:function(q,le,B){var _=B(3712);q.exports=function(re,te){return new(_(re))(0===te?0:te)}},1635:function(q,le,B){var _=B(1138),re=B(6639);q.exports=function(te,he,ce,ye){try{return ye?he(_(ce)[0],ce[1]):he(ce)}catch(F){re(te,"throw",F)}}},9770:function(q,le,B){var re=B(8182)("iterator"),te=!1;try{var he=0,ce={next:function(){return{done:!!he++}},return:function(){te=!0}};ce[re]=function(){return this},Array.from(ce,function(){throw 2})}catch{}q.exports=function(ye,F){if(!F&&!te)return!1;var I=!1;try{var N={};N[re]=function(){return{next:function(){return{done:I=!0}}}},ye(N)}catch{}return I}},9272:function(q){var le={}.toString;q.exports=function(B){return le.call(B).slice(8,-1)}},4696:function(q,le,B){var _=B(3471),re=B(6447),te=B(9272),ce=B(8182)("toStringTag"),ye="Arguments"==te(function(){return arguments}());q.exports=_?te:function(I){var N,k,y;return void 0===I?"Undefined":null===I?"Null":"string"==typeof(k=function(I,N){try{return I[N]}catch{}}(N=Object(I),ce))?k:ye?te(N):"Object"==(y=te(N))&&re(N.callee)?"Arguments":y}},4635:function(q,le,B){var _=B(6192);q.exports=!_(function(){function re(){}return re.prototype.constructor=null,Object.getPrototypeOf(new re)!==re.prototype})},5148:function(q,le,B){"use strict";var _=B(4413).IteratorPrototype,re=B(2853),te=B(774),he=B(1284),ce=B(7771),ye=function(){return this};q.exports=function(F,I,N){var k=I+" Iterator";return F.prototype=re(_,{next:te(1,N)}),he(F,k,!1,!0),ce[k]=ye,F}},8711:function(q,le,B){var _=B(69),re=B(2760),te=B(774);q.exports=_?function(he,ce,ye){return re.f(he,ce,te(1,ye))}:function(he,ce,ye){return he[ce]=ye,he}},774:function(q){q.exports=function(le,B){return{enumerable:!(1&le),configurable:!(2&le),writable:!(4&le),value:B}}},9361:function(q,le,B){"use strict";var _=B(77),re=B(2760),te=B(774);q.exports=function(he,ce,ye){var F=_(ce);F in he?re.f(he,F,te(0,ye)):he[F]=ye}},7218:function(q,le,B){"use strict";var _=B(3085),re=B(5546),te=B(2282),he=B(6447),ce=B(5148),ye=B(9341),F=B(4469),I=B(1284),N=B(8711),k=B(9482),y=B(8182),b=B(7771),C=B(4413),E=te.PROPER,z=te.CONFIGURABLE,x=C.IteratorPrototype,H=C.BUGGY_SAFARI_ITERATORS,W=y("iterator"),Z="keys",ee="values",ae="entries",ue=function(){return this};q.exports=function(we,De,Ne,bt,gt,ei,ot){ce(Ne,De,bt);var et,je,Mt,Yt=function(Ee){if(Ee===gt&&ht)return ht;if(!H&&Ee in Ft)return Ft[Ee];switch(Ee){case Z:case ee:case ae:return function(){return new Ne(this,Ee)}}return function(){return new Ne(this)}},Le=De+" Iterator",Gi=!1,Ft=we.prototype,Li=Ft[W]||Ft["@@iterator"]||gt&&Ft[gt],ht=!H&&Li||Yt(gt),ct="Array"==De&&Ft.entries||Li;if(ct&&(et=ye(ct.call(new we)))!==Object.prototype&&et.next&&(!re&&ye(et)!==x&&(F?F(et,x):he(et[W])||k(et,W,ue)),I(et,Le,!0,!0),re&&(b[Le]=ue)),E&&gt==ee&&Li&&Li.name!==ee&&(!re&&z?N(Ft,"name",ee):(Gi=!0,ht=function(){return Li.call(this)})),gt)if(je={values:Yt(ee),keys:ei?ht:Yt(Z),entries:Yt(ae)},ot)for(Mt in je)(H||Gi||!(Mt in Ft))&&k(Ft,Mt,je[Mt]);else _({target:De,proto:!0,forced:H||Gi},je);return(!re||ot)&&Ft[W]!==ht&&k(Ft,W,ht,{name:gt}),b[De]=ht,je}},1488:function(q,le,B){var _=B(7545),re=B(4500),te=B(9207),he=B(2760).f;q.exports=function(ce){var ye=_.Symbol||(_.Symbol={});re(ye,ce)||he(ye,ce,{value:te.f(ce)})}},69:function(q,le,B){var _=B(6192);q.exports=!_(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},7449:function(q,le,B){var _=B(8576),re=B(5744),te=_.document,he=re(te)&&re(te.createElement);q.exports=function(ce){return he?te.createElement(ce):{}}},7365:function(q){q.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(q){q.exports="object"==typeof window},9347:function(q,le,B){var _=B(8989),re=B(8576);q.exports=/ipad|iphone|ipod/i.test(_)&&void 0!==re.Pebble},9536:function(q,le,B){var _=B(8989);q.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(_)},224:function(q,le,B){var _=B(9272),re=B(8576);q.exports="process"==_(re.process)},5914:function(q,le,B){var _=B(8989);q.exports=/web0s(?!.*chrome)/i.test(_)},8989:function(q,le,B){var _=B(150);q.exports=_("navigator","userAgent")||""},4218:function(q,le,B){var F,I,_=B(8576),re=B(8989),te=_.process,he=_.Deno,ce=te&&te.versions||he&&he.version,ye=ce&&ce.v8;ye?I=(F=ye.split("."))[0]<4?1:F[0]+F[1]:re&&(!(F=re.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=re.match(/Chrome\/(\d+)/))&&(I=F[1]),q.exports=I&&+I},5607:function(q,le,B){var _=B(7545);q.exports=function(re){return _[re+"Prototype"]}},2952:function(q){q.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(q,le,B){"use strict";var _=B(8576),re=B(6447),te=B(5141).f,he=B(9245),ce=B(7545),ye=B(8043),F=B(8711),I=B(4500),N=function(k){var y=function(b,C,E){if(this instanceof k){switch(arguments.length){case 0:return new k;case 1:return new k(b);case 2:return new k(b,C)}return new k(b,C,E)}return k.apply(this,arguments)};return y.prototype=k.prototype,y};q.exports=function(k,y){var ee,ae,ue,we,De,Ne,bt,gt,b=k.target,C=k.global,E=k.stat,z=k.proto,x=C?_:E?_[b]:(_[b]||{}).prototype,H=C?ce:ce[b]||F(ce,b,{})[b],W=H.prototype;for(ue in y)ee=!he(C?ue:b+(E?".":"#")+ue,k.forced)&&x&&I(x,ue),De=H[ue],ee&&(Ne=k.noTargetGet?(gt=te(x,ue))&&gt.value:x[ue]),we=ee&&Ne?Ne:y[ue],(!ee||typeof De!=typeof we)&&(bt=k.bind&&ee?ye(we,_):k.wrap&&ee?N(we):z&&re(we)?ye(Function.call,we):we,(k.sham||we&&we.sham||De&&De.sham)&&F(bt,"sham",!0),F(H,ue,bt),z&&(I(ce,ae=b+"Prototype")||F(ce,ae,{}),F(ce[ae],ue,we),k.real&&W&&!W[ue]&&F(W,ue,we)))}},6192:function(q){q.exports=function(le){try{return!!le()}catch{return!0}}},8043:function(q,le,B){var _=B(6235);q.exports=function(re,te,he){if(_(re),void 0===te)return re;switch(he){case 0:return function(){return re.call(te)};case 1:return function(ce){return re.call(te,ce)};case 2:return function(ce,ye){return re.call(te,ce,ye)};case 3:return function(ce,ye,F){return re.call(te,ce,ye,F)}}return function(){return re.apply(te,arguments)}}},6782:function(q,le,B){"use strict";var _=B(6235),re=B(5744),te=[].slice,he={};q.exports=Function.bind||function(F){var I=_(this),N=te.call(arguments,1),k=function(){var b=N.concat(te.call(arguments));return this instanceof k?function(ye,F,I){if(!(F in he)){for(var N=[],k=0;k<F;k++)N[k]="a["+k+"]";he[F]=Function("C,a","return new C("+N.join(",")+")")}return he[F](ye,I)}(I,b.length,b):I.apply(F,b)};return re(I.prototype)&&(k.prototype=I.prototype),k}},2282:function(q,le,B){var _=B(69),re=B(4500),te=Function.prototype,he=_&&Object.getOwnPropertyDescriptor,ce=re(te,"name"),ye=ce&&"something"===function(){}.name,F=ce&&(!_||_&&he(te,"name").configurable);q.exports={EXISTS:ce,PROPER:ye,CONFIGURABLE:F}},150:function(q,le,B){var _=B(7545),re=B(8576),te=B(6447),he=function(ce){return te(ce)?ce:void 0};q.exports=function(ce,ye){return arguments.length<2?he(_[ce])||he(re[ce]):_[ce]&&_[ce][ye]||re[ce]&&re[ce][ye]}},8703:function(q,le,B){var _=B(4696),re=B(5037),te=B(7771),ce=B(8182)("iterator");q.exports=function(ye){if(null!=ye)return re(ye,ce)||re(ye,"@@iterator")||te[_(ye)]}},1669:function(q,le,B){var _=B(6235),re=B(1138),te=B(8703);q.exports=function(he,ce){var ye=arguments.length<2?te(he):ce;if(_(ye))return re(ye.call(he));throw TypeError(String(he)+" is not iterable")}},5037:function(q,le,B){var _=B(6235);q.exports=function(re,te){var he=re[te];return null==he?void 0:_(he)}},8576:function(q,le,B){var _=function(re){return re&&re.Math==Math&&re};q.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof B.g&&B.g)||function(){return this}()||Function("return this")()},4500:function(q,le,B){var _=B(1795),re={}.hasOwnProperty;q.exports=Object.hasOwn||function(he,ce){return re.call(_(he),ce)}},4535:function(q){q.exports={}},3681:function(q,le,B){var _=B(8576);q.exports=function(re,te){var he=_.console;he&&he.error&&(1===arguments.length?he.error(re):he.error(re,te))}},7403:function(q,le,B){var _=B(150);q.exports=_("document","documentElement")},188:function(q,le,B){var _=B(69),re=B(6192),te=B(7449);q.exports=!_&&!re(function(){return 7!=Object.defineProperty(te("div"),"a",{get:function(){return 7}}).a})},2202:function(q,le,B){var _=B(6192),re=B(9272),te="".split;q.exports=_(function(){return!Object("z").propertyIsEnumerable(0)})?function(he){return"String"==re(he)?te.call(he,""):Object(he)}:Object},9516:function(q,le,B){var _=B(6447),re=B(6434),te=Function.toString;_(re.inspectSource)||(re.inspectSource=function(he){return te.call(he)}),q.exports=re.inspectSource},273:function(q,le,B){var _=B(5744),re=B(8711);q.exports=function(te,he){_(he)&&"cause"in he&&re(te,"cause",te.cause)}},3326:function(q,le,B){var y,b,C,_=B(8921),re=B(8576),te=B(5744),he=B(8711),ce=B(4500),ye=B(6434),F=B(9766),I=B(4535),N="Object already initialized";if(_||ye.state){var x=ye.state||(ye.state=new(0,re.WeakMap)),H=x.get,W=x.has,Z=x.set;y=function(ae,ue){if(W.call(x,ae))throw new TypeError(N);return ue.facade=ae,Z.call(x,ae,ue),ue},b=function(ae){return H.call(x,ae)||{}},C=function(ae){return W.call(x,ae)}}else{var ee=F("state");I[ee]=!0,y=function(ae,ue){if(ce(ae,ee))throw new TypeError(N);return ue.facade=ae,he(ae,ee,ue),ue},b=function(ae){return ce(ae,ee)?ae[ee]:{}},C=function(ae){return ce(ae,ee)}}q.exports={set:y,get:b,has:C,enforce:function(ae){return C(ae)?b(ae):y(ae,{})},getterFor:function(ae){return function(ue){var we;if(!te(ue)||(we=b(ue)).type!==ae)throw TypeError("Incompatible receiver, "+ae+" required");return we}}}},6109:function(q,le,B){var _=B(8182),re=B(7771),te=_("iterator"),he=Array.prototype;q.exports=function(ce){return void 0!==ce&&(re.Array===ce||he[te]===ce)}},4770:function(q,le,B){var _=B(9272);q.exports=Array.isArray||function(te){return"Array"==_(te)}},6447:function(q){q.exports=function(le){return"function"==typeof le}},2091:function(q,le,B){var _=B(6192),re=B(6447),te=B(4696),he=B(150),ce=B(9516),ye=[],F=he("Reflect","construct"),I=/^\s*(?:class|function)\b/,N=I.exec,k=!I.exec(function(){}),y=function(C){if(!re(C))return!1;try{return F(Object,ye,C),!0}catch{return!1}};q.exports=!F||_(function(){var C;return y(y.call)||!y(Object)||!y(function(){C=!0})||C})?function(C){if(!re(C))return!1;switch(te(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return k||!!N.call(I,ce(C))}:y},9245:function(q,le,B){var _=B(6192),re=B(6447),te=/#|\.prototype\./,he=function(N,k){var y=ye[ce(N)];return y==I||y!=F&&(re(k)?_(k):!!k)},ce=he.normalize=function(N){return String(N).replace(te,".").toLowerCase()},ye=he.data={},F=he.NATIVE="N",I=he.POLYFILL="P";q.exports=he},5744:function(q,le,B){var _=B(6447);q.exports=function(re){return"object"==typeof re?null!==re:_(re)}},5546:function(q){q.exports=!0},3236:function(q,le,B){var _=B(6447),re=B(150),te=B(615);q.exports=te?function(he){return"symbol"==typeof he}:function(he){var ce=re("Symbol");return _(ce)&&Object(he)instanceof ce}},3442:function(q,le,B){var _=B(1138),re=B(6109),te=B(4104),he=B(8043),ce=B(1669),ye=B(8703),F=B(6639),I=function(N,k){this.stopped=N,this.result=k};q.exports=function(N,k,y){var H,W,Z,ee,ae,ue,we,C=!(!y||!y.AS_ENTRIES),E=!(!y||!y.IS_ITERATOR),z=!(!y||!y.INTERRUPTED),x=he(k,y&&y.that,1+C+z),De=function(bt){return H&&F(H,"normal",bt),new I(!0,bt)},Ne=function(bt){return C?(_(bt),z?x(bt[0],bt[1],De):x(bt[0],bt[1])):z?x(bt,De):x(bt)};if(E)H=N;else{if(!(W=ye(N)))throw TypeError(String(N)+" is not iterable");if(re(W)){for(Z=0,ee=te(N);ee>Z;Z++)if((ae=Ne(N[Z]))&&ae instanceof I)return ae;return new I(!1)}H=ce(N,W)}for(ue=H.next;!(we=ue.call(H)).done;){try{ae=Ne(we.value)}catch(bt){F(H,"throw",bt)}if("object"==typeof ae&&ae&&ae instanceof I)return ae}return new I(!1)}},6639:function(q,le,B){var _=B(1138),re=B(5037);q.exports=function(te,he,ce){var ye,F;_(te);try{if(!(ye=re(te,"return"))){if("throw"===he)throw ce;return ce}ye=ye.call(te)}catch(I){F=!0,ye=I}if("throw"===he)throw ce;if(F)throw ye;return _(ye),ce}},4413:function(q,le,B){"use strict";var k,y,b,_=B(6192),re=B(6447),te=B(2853),he=B(9341),ce=B(9482),ye=B(8182),F=B(5546),I=ye("iterator"),N=!1;[].keys&&("next"in(b=[].keys())?(y=he(he(b)))!==Object.prototype&&(k=y):N=!0),null==k||_(function(){var E={};return k[I].call(E)!==E})?k={}:F&&(k=te(k)),re(k[I])||ce(k,I,function(){return this}),q.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:N}},7771:function(q){q.exports={}},4104:function(q,le,B){var _=B(8445);q.exports=function(re){return _(re.length)}},2950:function(q,le,B){var E,z,x,H,W,Z,ee,ae,_=B(8576),re=B(5141).f,te=B(7160).set,he=B(9536),ce=B(9347),ye=B(5914),F=B(224),I=_.MutationObserver||_.WebKitMutationObserver,N=_.document,k=_.process,y=_.Promise,b=re(_,"queueMicrotask"),C=b&&b.value;C||(E=function(){var ue,we;for(F&&(ue=k.domain)&&ue.exit();z;){we=z.fn,z=z.next;try{we()}catch(De){throw z?H():x=void 0,De}}x=void 0,ue&&ue.enter()},he||F||ye||!I||!N?!ce&&y&&y.resolve?((ee=y.resolve(void 0)).constructor=y,ae=ee.then,H=function(){ae.call(ee,E)}):H=F?function(){k.nextTick(E)}:function(){te.call(_,E)}:(W=!0,Z=N.createTextNode(""),new I(E).observe(Z,{characterData:!0}),H=function(){Z.data=W=!W})),q.exports=C||function(ue){var we={fn:ue,next:void 0};x&&(x.next=we),z||(z=we,H()),x=we}},4471:function(q,le,B){var _=B(8576);q.exports=_.Promise},3045:function(q,le,B){var _=B(4218),re=B(6192);q.exports=!!Object.getOwnPropertySymbols&&!re(function(){var te=Symbol();return!String(te)||!(Object(te)instanceof Symbol)||!Symbol.sham&&_&&_<41})},4551:function(q,le,B){var _=B(6192),re=B(8182),te=B(5546),he=re("iterator");q.exports=!_(function(){var ce=new URL("b?a=1&b=2&c=3","http://a"),ye=ce.searchParams,F="";return ce.pathname="c%20d",ye.forEach(function(I,N){ye.delete("b"),F+=N+I}),te&&!ce.toJSON||!ye.sort||"http://a/c%20d?a=1&c=3"!==ce.href||"3"!==ye.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!ye[he]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==F||"x"!==new URL("http://x",void 0).host})},8921:function(q,le,B){var _=B(8576),re=B(6447),te=B(9516),he=_.WeakMap;q.exports=re(he)&&/native code/.test(te(he))},9438:function(q,le,B){"use strict";var _=B(6235),re=function(te){var he,ce;this.promise=new te(function(ye,F){if(void 0!==he||void 0!==ce)throw TypeError("Bad Promise constructor");he=ye,ce=F}),this.resolve=_(he),this.reject=_(ce)};q.exports.f=function(te){return new re(te)}},15:function(q,le,B){var _=B(8576),re=B(6192),te=B(4845),he=B(4277).trim,ce=B(1450),ye=_.parseFloat,F=_.Symbol,I=F&&F.iterator,N=1/ye(ce+"-0")!=-1/0||I&&!re(function(){ye(Object(I))});q.exports=N?function(y){var b=he(te(y)),C=ye(b);return 0===C&&"-"==b.charAt(0)?-0:C}:ye},2558:function(q,le,B){var _=B(8576),re=B(6192),te=B(4845),he=B(4277).trim,ce=B(1450),ye=_.parseInt,F=_.Symbol,I=F&&F.iterator,N=/^[+-]?0[Xx]/,k=8!==ye(ce+"08")||22!==ye(ce+"0x16")||I&&!re(function(){ye(Object(I))});q.exports=k?function(b,C){var E=he(te(b));return ye(E,C>>>0||(N.test(E)?16:10))}:ye},2503:function(q,le,B){"use strict";var _=B(69),re=B(6192),te=B(7653),he=B(4750),ce=B(6007),ye=B(1795),F=B(2202),I=Object.assign,N=Object.defineProperty;q.exports=!I||re(function(){if(_&&1!==I({b:1},I(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var k={},y={},b=Symbol(),C="abcdefghijklmnopqrst";return k[b]=7,C.split("").forEach(function(E){y[E]=E}),7!=I({},k)[b]||te(I({},y)).join("")!=C})?function(y,b){for(var C=ye(y),E=arguments.length,z=1,x=he.f,H=ce.f;E>z;)for(var ue,W=F(arguments[z++]),Z=x?te(W).concat(x(W)):te(W),ee=Z.length,ae=0;ee>ae;)ue=Z[ae++],(!_||H.call(W,ue))&&(C[ue]=W[ue]);return C}:I},2853:function(q,le,B){var H,_=B(1138),re=B(1187),te=B(2952),he=B(4535),ce=B(7403),ye=B(7449),F=B(9766),k="prototype",y="script",b=F("IE_PROTO"),C=function(){},E=function(Z){return"<"+y+">"+Z+"</"+y+">"},z=function(Z){Z.write(E("")),Z.close();var ee=Z.parentWindow.Object;return Z=null,ee},W=function(){try{H=new ActiveXObject("htmlfile")}catch{}W=typeof document<"u"?document.domain&&H?z(H):function(){var ae,Z=ye("iframe"),ee="java"+y+":";return Z.style.display="none",ce.appendChild(Z),Z.src=String(ee),(ae=Z.contentWindow.document).open(),ae.write(E("document.F=Object")),ae.close(),ae.F}():z(H);for(var Z=te.length;Z--;)delete W[k][te[Z]];return W()};he[b]=!0,q.exports=Object.create||function(ee,ae){var ue;return null!==ee?(C[k]=_(ee),ue=new C,C[k]=null,ue[b]=ee):ue=W(),void 0===ae?ue:re(ue,ae)}},1187:function(q,le,B){var _=B(69),re=B(2760),te=B(1138),he=B(7653);q.exports=_?Object.defineProperties:function(ye,F){te(ye);for(var y,I=he(F),N=I.length,k=0;N>k;)re.f(ye,y=I[k++],F[y]);return ye}},2760:function(q,le,B){var _=B(69),re=B(188),te=B(1138),he=B(77),ce=Object.defineProperty;le.f=_?ce:function(F,I,N){if(te(F),I=he(I),te(N),re)try{return ce(F,I,N)}catch{}if("get"in N||"set"in N)throw TypeError("Accessors not supported");return"value"in N&&(F[I]=N.value),F}},5141:function(q,le,B){var _=B(69),re=B(6007),te=B(774),he=B(101),ce=B(77),ye=B(4500),F=B(188),I=Object.getOwnPropertyDescriptor;le.f=_?I:function(k,y){if(k=he(k),y=ce(y),F)try{return I(k,y)}catch{}if(ye(k,y))return te(!re.f.call(k,y),k[y])}},4052:function(q,le,B){var _=B(101),re=B(2092).f,te={}.toString,he="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];q.exports.f=function(F){return he&&"[object Window]"==te.call(F)?function(ye){try{return re(ye)}catch{return he.slice()}}(F):re(_(F))}},2092:function(q,le,B){var _=B(7934),te=B(2952).concat("length","prototype");le.f=Object.getOwnPropertyNames||function(ce){return _(ce,te)}},4750:function(q,le){le.f=Object.getOwnPropertySymbols},9341:function(q,le,B){var _=B(4500),re=B(6447),te=B(1795),he=B(9766),ce=B(4635),ye=he("IE_PROTO"),F=Object.prototype;q.exports=ce?Object.getPrototypeOf:function(I){var N=te(I);if(_(N,ye))return N[ye];var k=N.constructor;return re(k)&&N instanceof k?k.prototype:N instanceof Object?F:null}},7934:function(q,le,B){var _=B(4500),re=B(101),te=B(8180).indexOf,he=B(4535);q.exports=function(ce,ye){var k,F=re(ce),I=0,N=[];for(k in F)!_(he,k)&&_(F,k)&&N.push(k);for(;ye.length>I;)_(F,k=ye[I++])&&(~te(N,k)||N.push(k));return N}},7653:function(q,le,B){var _=B(7934),re=B(2952);q.exports=Object.keys||function(he){return _(he,re)}},6007:function(q,le){"use strict";var B={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,re=_&&!B.call({1:2},1);le.f=re?function(he){var ce=_(this,he);return!!ce&&ce.enumerable}:B},4469:function(q,le,B){var _=B(1138),re=B(7757);q.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var ce,te=!1,he={};try{(ce=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(he,[]),te=he instanceof Array}catch{}return function(F,I){return _(F),re(I),te?ce.call(F,I):F.__proto__=I,F}}():void 0)},158:function(q,le,B){"use strict";var _=B(3471),re=B(4696);q.exports=_?{}.toString:function(){return"[object "+re(this)+"]"}},380:function(q,le,B){var _=B(6447),re=B(5744);q.exports=function(te,he){var ce,ye;if("string"===he&&_(ce=te.toString)&&!re(ye=ce.call(te))||_(ce=te.valueOf)&&!re(ye=ce.call(te))||"string"!==he&&_(ce=te.toString)&&!re(ye=ce.call(te)))return ye;throw TypeError("Can't convert object to primitive value")}},7545:function(q){q.exports={}},892:function(q){q.exports=function(le){try{return{error:!1,value:le()}}catch(B){return{error:!0,value:B}}}},9126:function(q,le,B){var _=B(1138),re=B(5744),te=B(9438);q.exports=function(he,ce){if(_(he),re(ce)&&ce.constructor===he)return ce;var ye=te.f(he);return(0,ye.resolve)(ce),ye.promise}},533:function(q,le,B){var _=B(9482);q.exports=function(re,te,he){for(var ce in te)he&&he.unsafe&&re[ce]?re[ce]=te[ce]:_(re,ce,te[ce],he);return re}},9482:function(q,le,B){var _=B(8711);q.exports=function(re,te,he,ce){ce&&ce.enumerable?re[te]=he:_(re,te,he)}},3209:function(q){q.exports=function(le){if(null==le)throw TypeError("Can't call method on "+le);return le}},7613:function(q,le,B){var _=B(8576);q.exports=function(re,te){try{Object.defineProperty(_,re,{value:te,configurable:!0,writable:!0})}catch{_[re]=te}return te}},3656:function(q,le,B){"use strict";var _=B(150),re=B(2760),te=B(8182),he=B(69),ce=te("species");q.exports=function(ye){var F=_(ye);he&&F&&!F[ce]&&(0,re.f)(F,ce,{configurable:!0,get:function(){return this}})}},1284:function(q,le,B){var _=B(3471),re=B(2760).f,te=B(8711),he=B(4500),ce=B(158),F=B(8182)("toStringTag");q.exports=function(I,N,k,y){if(I){var b=k?I:I.prototype;he(b,F)||re(b,F,{configurable:!0,value:N}),y&&!_&&te(b,"toString",ce)}}},9766:function(q,le,B){var _=B(8717),re=B(2759),te=_("keys");q.exports=function(he){return te[he]||(te[he]=re(he))}},6434:function(q,le,B){var _=B(8576),re=B(7613),te="__core-js_shared__",he=_[te]||re(te,{});q.exports=he},8717:function(q,le,B){var _=B(5546),re=B(6434);(q.exports=function(te,he){return re[te]||(re[te]=void 0!==he?he:{})})("versions",[]).push({version:"3.18.2",mode:_?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(q,le,B){var _=B(1138),re=B(1404),he=B(8182)("species");q.exports=function(ce,ye){var I,F=_(ce).constructor;return void 0===F||null==(I=_(F)[he])?ye:re(I)}},863:function(q,le,B){var _=B(1941),re=B(4845),te=B(3209),he=function(ce){return function(ye,F){var y,b,I=re(te(ye)),N=_(F),k=I.length;return N<0||N>=k?ce?"":void 0:(y=I.charCodeAt(N))<55296||y>56319||N+1===k||(b=I.charCodeAt(N+1))<56320||b>57343?ce?I.charAt(N):y:ce?I.slice(N,N+2):b-56320+(y-55296<<10)+65536}};q.exports={codeAt:he(!1),charAt:he(!0)}},7977:function(q){"use strict";var le=2147483647,I=/[^\0-\u007E]/,N=/[.\u3002\uFF0E\uFF61]/g,k="Overflow: input needs wider integers to process",b=Math.floor,C=String.fromCharCode,z=function(W){return W+22+75*(W<26)},x=function(W,Z,ee){var ae=0;for(W=ee?b(W/700):W>>1,W+=b(W/Z);W>455;ae+=36)W=b(W/35);return b(ae+36*W/(W+38))},H=function(W){var De,Ne,Z=[],ee=(W=function(W){for(var Z=[],ee=0,ae=W.length;ee<ae;){var ue=W.charCodeAt(ee++);if(ue>=55296&&ue<=56319&&ee<ae){var we=W.charCodeAt(ee++);56320==(64512&we)?Z.push(((1023&ue)<<10)+(1023&we)+65536):(Z.push(ue),ee--)}else Z.push(ue)}return Z}(W)).length,ae=128,ue=0,we=72;for(De=0;De<W.length;De++)(Ne=W[De])<128&&Z.push(C(Ne));var bt=Z.length,gt=bt;for(bt&&Z.push("-");gt<ee;){var ei=le;for(De=0;De<W.length;De++)(Ne=W[De])>=ae&&Ne<ei&&(ei=Ne);var ot=gt+1;if(ei-ae>b((le-ue)/ot))throw RangeError(k);for(ue+=(ei-ae)*ot,ae=ei,De=0;De<W.length;De++){if((Ne=W[De])<ae&&++ue>le)throw RangeError(k);if(Ne==ae){for(var Yt=ue,Le=36;;Le+=36){var Gi=Le<=we?1:Le>=we+26?26:Le-we;if(Yt<Gi)break;var Ft=Yt-Gi,Li=36-Gi;Z.push(C(z(Gi+Ft%Li))),Yt=b(Ft/Li)}Z.push(C(z(Yt))),we=x(ue,ot,gt==bt),ue=0,++gt}}++ue,++ae}return Z.join("")};q.exports=function(W){var ae,ue,Z=[],ee=W.toLowerCase().replace(N,".").split(".");for(ae=0;ae<ee.length;ae++)Z.push(I.test(ue=ee[ae])?"xn--"+H(ue):ue);return Z.join(".")}},6815:function(q,le,B){var _=B(2282).PROPER,re=B(6192),te=B(1450);q.exports=function(ce){return re(function(){return!!te[ce]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[ce]()||_&&te[ce].name!==ce})}},4277:function(q,le,B){var _=B(3209),re=B(4845),he="["+B(1450)+"]",ce=RegExp("^"+he+he+"*"),ye=RegExp(he+he+"*$"),F=function(I){return function(N){var k=re(_(N));return 1&I&&(k=k.replace(ce,"")),2&I&&(k=k.replace(ye,"")),k}};q.exports={start:F(1),end:F(2),trim:F(3)}},7160:function(q,le,B){var H,W,Z,ee,_=B(8576),re=B(6447),te=B(6192),he=B(8043),ce=B(7403),ye=B(7449),F=B(9536),I=B(224),N=_.setImmediate,k=_.clearImmediate,y=_.process,b=_.MessageChannel,C=_.Dispatch,E=0,z={},x="onreadystatechange";try{H=_.location}catch{}var ae=function(Ne){if(z.hasOwnProperty(Ne)){var bt=z[Ne];delete z[Ne],bt()}},ue=function(Ne){return function(){ae(Ne)}},we=function(Ne){ae(Ne.data)},De=function(Ne){_.postMessage(String(Ne),H.protocol+"//"+H.host)};(!N||!k)&&(N=function(bt){for(var gt=[],ei=arguments.length,ot=1;ei>ot;)gt.push(arguments[ot++]);return z[++E]=function(){(re(bt)?bt:Function(bt)).apply(void 0,gt)},W(E),E},k=function(bt){delete z[bt]},I?W=function(Ne){y.nextTick(ue(Ne))}:C&&C.now?W=function(Ne){C.now(ue(Ne))}:b&&!F?(ee=(Z=new b).port2,Z.port1.onmessage=we,W=he(ee.postMessage,ee,1)):_.addEventListener&&re(_.postMessage)&&!_.importScripts&&H&&"file:"!==H.protocol&&!te(De)?(W=De,_.addEventListener("message",we,!1)):W=x in ye("script")?function(Ne){ce.appendChild(ye("script"))[x]=function(){ce.removeChild(this),ae(Ne)}}:function(Ne){setTimeout(ue(Ne),0)}),q.exports={set:N,clear:k}},7739:function(q,le,B){var _=B(1941),re=Math.max,te=Math.min;q.exports=function(he,ce){var ye=_(he);return ye<0?re(ye+ce,0):te(ye,ce)}},101:function(q,le,B){var _=B(2202),re=B(3209);q.exports=function(te){return _(re(te))}},1941:function(q){var le=Math.ceil,B=Math.floor;q.exports=function(_){var re=+_;return re!=re||0===re?0:(re>0?B:le)(re)}},8445:function(q,le,B){var _=B(1941),re=Math.min;q.exports=function(te){return te>0?re(_(te),9007199254740991):0}},1795:function(q,le,B){var _=B(3209);q.exports=function(re){return Object(_(re))}},7888:function(q,le,B){var _=B(5744),re=B(3236),te=B(5037),he=B(380),ye=B(8182)("toPrimitive");q.exports=function(F,I){if(!_(F)||re(F))return F;var k,N=te(F,ye);if(N){if(void 0===I&&(I="default"),k=N.call(F,I),!_(k)||re(k))return k;throw TypeError("Can't convert object to primitive value")}return void 0===I&&(I="number"),he(F,I)}},77:function(q,le,B){var _=B(7888),re=B(3236);q.exports=function(te){var he=_(te,"string");return re(he)?he:String(he)}},3471:function(q,le,B){var te={};te[B(8182)("toStringTag")]="z",q.exports="[object z]"===String(te)},4845:function(q,le,B){var _=B(4696);q.exports=function(re){if("Symbol"===_(re))throw TypeError("Cannot convert a Symbol value to a string");return String(re)}},9288:function(q){q.exports=function(le){try{return String(le)}catch{return"Object"}}},2759:function(q){var le=0,B=Math.random();q.exports=function(_){return"Symbol("+String(void 0===_?"":_)+")_"+(++le+B).toString(36)}},615:function(q,le,B){var _=B(3045);q.exports=_&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(q,le,B){var _=B(8182);le.f=_},8182:function(q,le,B){var _=B(8576),re=B(8717),te=B(4500),he=B(2759),ce=B(3045),ye=B(615),F=re("wks"),I=_.Symbol,N=ye?I:I&&I.withoutSetter||he;q.exports=function(k){return(!te(F,k)||!(ce||"string"==typeof F[k]))&&(F[k]=ce&&te(I,k)?I[k]:N("Symbol."+k)),F[k]}},1450:function(q){q.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4242:function(q,le,B){"use strict";var _=B(3085),re=B(9341),te=B(4469),he=B(2853),ce=B(8711),ye=B(774),F=B(273),I=B(3442),N=B(4845),k=function(b,C){var E=this,z=arguments.length>2?arguments[2]:void 0;if(!(E instanceof k))return new k(b,C,z);te&&(E=te(new Error(void 0),re(E))),void 0!==C&&ce(E,"message",N(C)),F(E,z);var x=[];return I(b,x.push,{that:x}),ce(E,"errors",x),E};k.prototype=he(Error.prototype,{constructor:ye(5,k),message:ye(5,""),name:ye(5,"AggregateError")}),_({global:!0},{AggregateError:k})},9106:function(q,le,B){"use strict";var _=B(3085),re=B(6192),te=B(4770),he=B(5744),ce=B(1795),ye=B(4104),F=B(9361),I=B(1321),N=B(242),k=B(8182),y=B(4218),b=k("isConcatSpreadable"),C=9007199254740991,E="Maximum allowed index exceeded",z=y>=51||!re(function(){var Z=[];return Z[b]=!1,Z.concat()[0]!==Z}),x=N("concat"),H=function(Z){if(!he(Z))return!1;var ee=Z[b];return void 0!==ee?!!ee:te(Z)};_({target:"Array",proto:!0,forced:!z||!x},{concat:function(ee){var De,Ne,bt,gt,ei,ae=ce(this),ue=I(ae,0),we=0;for(De=-1,bt=arguments.length;De<bt;De++)if(H(ei=-1===De?ae:arguments[De])){if(we+(gt=ye(ei))>C)throw TypeError(E);for(Ne=0;Ne<gt;Ne++,we++)Ne in ei&&F(ue,we,ei[Ne])}else{if(we>=C)throw TypeError(E);F(ue,we++,ei)}return ue.length=we,ue}})},1710:function(q,le,B){var _=B(3085),re=B(2724),te=B(7423);_({target:"Array",proto:!0},{fill:re}),te("fill")},3436:function(q,le,B){"use strict";var _=B(3085),re=B(454).filter;_({target:"Array",proto:!0,forced:!B(242)("filter")},{filter:function(ye){return re(this,ye,arguments.length>1?arguments[1]:void 0)}})},9823:function(q,le,B){"use strict";var _=B(3085),re=B(7397);_({target:"Array",proto:!0,forced:[].forEach!=re},{forEach:re})},9173:function(q,le,B){var _=B(3085),re=B(841);_({target:"Array",stat:!0,forced:!B(9770)(function(ce){Array.from(ce)})},{from:re})},2276:function(q,le,B){"use strict";var _=B(3085),re=B(8180).indexOf,te=B(424),he=[].indexOf,ce=!!he&&1/[1].indexOf(1,-0)<0,ye=te("indexOf");_({target:"Array",proto:!0,forced:ce||!ye},{indexOf:function(I){return ce?he.apply(this,arguments)||0:re(this,I,arguments.length>1?arguments[1]:void 0)}})},8118:function(q,le,B){B(3085)({target:"Array",stat:!0},{isArray:B(4770)})},8939:function(q,le,B){"use strict";var _=B(101),re=B(7423),te=B(7771),he=B(3326),ce=B(7218),ye="Array Iterator",F=he.set,I=he.getterFor(ye);q.exports=ce(Array,"Array",function(N,k){F(this,{type:ye,target:_(N),index:0,kind:k})},function(){var N=I(this),k=N.target,y=N.kind,b=N.index++;return!k||b>=k.length?(N.target=void 0,{value:void 0,done:!0}):"keys"==y?{value:b,done:!1}:"values"==y?{value:k[b],done:!1}:{value:[b,k[b]],done:!1}},"values"),te.Arguments=te.Array,re("keys"),re("values"),re("entries")},3838:function(q,le,B){"use strict";var _=B(3085),re=B(454).map;_({target:"Array",proto:!0,forced:!B(242)("map")},{map:function(ye){return re(this,ye,arguments.length>1?arguments[1]:void 0)}})},5818:function(q,le,B){"use strict";var _=B(3085),re=B(4770),te=B(2091),he=B(5744),ce=B(7739),ye=B(4104),F=B(101),I=B(9361),N=B(8182),y=B(242)("slice"),b=N("species"),C=[].slice,E=Math.max;_({target:"Array",proto:!0,forced:!y},{slice:function(x,H){var ue,we,De,W=F(this),Z=ye(W),ee=ce(x,Z),ae=ce(void 0===H?Z:H,Z);if(re(W)&&((te(ue=W.constructor)&&(ue===Array||re(ue.prototype))||he(ue)&&null===(ue=ue[b]))&&(ue=void 0),ue===Array||void 0===ue))return C.call(W,ee,ae);for(we=new(void 0===ue?Array:ue)(E(ae-ee,0)),De=0;ee<ae;ee++,De++)ee in W&&I(we,De,W[ee]);return we.length=De,we}})},2178:function(q,le,B){"use strict";var _=B(3085),re=B(7739),te=B(1941),he=B(4104),ce=B(1795),ye=B(1321),F=B(9361),N=B(242)("splice"),k=Math.max,y=Math.min;_({target:"Array",proto:!0,forced:!N},{splice:function(z,x){var ae,ue,we,De,Ne,bt,H=ce(this),W=he(H),Z=re(z,W),ee=arguments.length;if(0===ee?ae=ue=0:1===ee?(ae=0,ue=W-Z):(ae=ee-2,ue=y(k(te(x),0),W-Z)),W+ae-ue>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(we=ye(H,ue),De=0;De<ue;De++)(Ne=Z+De)in H&&F(we,De,H[Ne]);if(we.length=ue,ae<ue){for(De=Z;De<W-ue;De++)bt=De+ae,(Ne=De+ue)in H?H[bt]=H[Ne]:delete H[bt];for(De=W;De>W-ue+ae;De--)delete H[De-1]}else if(ae>ue)for(De=W-ue;De>Z;De--)bt=De+ae-1,(Ne=De+ue-1)in H?H[bt]=H[Ne]:delete H[bt];for(De=0;De<ae;De++)H[De+Z]=arguments[De+2];return H.length=W-ue+ae,we}})},665:function(q,le,B){B(3085)({target:"Function",proto:!0},{bind:B(6782)})},8671:function(q,le,B){var _=B(8576);B(1284)(_.JSON,"JSON",!0)},8556:function(){},2666:function(q,le,B){var _=B(3085),re=B(2558);_({target:"Number",stat:!0,forced:Number.parseInt!=re},{parseInt:re})},3113:function(q,le,B){B(3085)({target:"Object",stat:!0,sham:!B(69)},{create:B(2853)})},297:function(q,le,B){var _=B(3085),re=B(69);_({target:"Object",stat:!0,forced:!re,sham:!re},{defineProperty:B(2760).f})},9234:function(q,le,B){var _=B(3085),re=B(6192),te=B(1795),he=B(9341),ce=B(4635);_({target:"Object",stat:!0,forced:re(function(){he(1)}),sham:!ce},{getPrototypeOf:function(I){return he(te(I))}})},2647:function(q,le,B){var _=B(3085),re=B(1795),te=B(7653);_({target:"Object",stat:!0,forced:B(6192)(function(){te(1)})},{keys:function(F){return te(re(F))}})},3222:function(q,le,B){B(3085)({target:"Object",stat:!0},{setPrototypeOf:B(4469)})},6663:function(){},4859:function(q,le,B){var _=B(3085),re=B(15);_({global:!0,forced:parseFloat!=re},{parseFloat:re})},5706:function(q,le,B){var _=B(3085),re=B(2558);_({global:!0,forced:parseInt!=re},{parseInt:re})},7884:function(q,le,B){"use strict";var _=B(3085),re=B(6235),te=B(9438),he=B(892),ce=B(3442);_({target:"Promise",stat:!0},{allSettled:function(F){var I=this,N=te.f(I),k=N.resolve,y=N.reject,b=he(function(){var C=re(I.resolve),E=[],z=0,x=1;ce(F,function(H){var W=z++,Z=!1;E.push(void 0),x++,C.call(I,H).then(function(ee){Z||(Z=!0,E[W]={status:"fulfilled",value:ee},--x||k(E))},function(ee){Z||(Z=!0,E[W]={status:"rejected",reason:ee},--x||k(E))})}),--x||k(E)});return b.error&&y(b.value),N.promise}})},8885:function(q,le,B){"use strict";var _=B(3085),re=B(6235),te=B(150),he=B(9438),ce=B(892),ye=B(3442),F="No one promise resolved";_({target:"Promise",stat:!0},{any:function(N){var k=this,y=he.f(k),b=y.resolve,C=y.reject,E=ce(function(){var z=re(k.resolve),x=[],H=0,W=1,Z=!1;ye(N,function(ee){var ae=H++,ue=!1;x.push(void 0),W++,z.call(k,ee).then(function(we){ue||Z||(Z=!0,b(we))},function(we){ue||Z||(ue=!0,x[ae]=we,--W||C(new(te("AggregateError"))(x,F)))})}),--W||C(new(te("AggregateError"))(x,F))});return E.error&&C(E.value),y.promise}})},1868:function(q,le,B){"use strict";var _=B(3085),re=B(5546),te=B(4471),he=B(6192),ce=B(150),ye=B(6447),F=B(4743),I=B(9126),N=B(9482);if(_({target:"Promise",proto:!0,real:!0,forced:!!te&&he(function(){te.prototype.finally.call({then:function(){}},function(){})})},{finally:function(b){var C=F(this,ce("Promise")),E=ye(b);return this.then(E?function(z){return I(C,b()).then(function(){return z})}:b,E?function(z){return I(C,b()).then(function(){throw z})}:b)}}),!re&&ye(te)){var y=ce("Promise").prototype.finally;te.prototype.finally!==y&&N(te.prototype,"finally",y,{unsafe:!0})}},9021:function(q,le,B){"use strict";var Vt,fi,Zi,Vi,_=B(3085),re=B(5546),te=B(8576),he=B(150),ce=B(4471),ye=B(9482),F=B(533),I=B(4469),N=B(1284),k=B(3656),y=B(6235),b=B(6447),C=B(5744),E=B(6961),z=B(9516),x=B(3442),H=B(9770),W=B(4743),Z=B(7160).set,ee=B(2950),ae=B(9126),ue=B(3681),we=B(9438),De=B(892),Ne=B(3326),bt=B(9245),gt=B(8182),ei=B(2957),ot=B(224),Yt=B(4218),Le=gt("species"),Gi="Promise",Ft=Ne.get,Li=Ne.set,ht=Ne.getterFor(Gi),ct=ce&&ce.prototype,et=ce,je=ct,Mt=te.TypeError,Ee=te.document,_e=te.process,We=we.f,Ze=We,Ut=!!(Ee&&Ee.createEvent&&te.dispatchEvent),Tt=b(te.PromiseRejectionEvent),Jt="unhandledrejection",xt=!1,Qt=bt(Gi,function(){var ci=z(et),di=ci!==String(et);if(!di&&66===Yt||re&&!je.finally)return!0;if(Yt>=51&&/native code/.test(ci))return!1;var Ui=new et(function(Oi){Oi(1)}),Ji=function(Oi){Oi(function(){},function(){})};return(Ui.constructor={})[Le]=Ji,!(xt=Ui.then(function(){})instanceof Ji)||!di&&ei&&!Tt}),en=Qt||!H(function(ci){et.all(ci).catch(function(){})}),mn=function(ci){var di;return!(!C(ci)||!b(di=ci.then))&&di},qn=function(ci,di){if(!ci.notified){ci.notified=!0;var Ui=ci.reactions;ee(function(){for(var Ji=ci.value,fn=1==ci.state,Oi=0;Ui.length>Oi;){var $r,qr,no,co=Ui[Oi++],jo=fn?co.ok:co.fail,gn=co.resolve,Kt=co.reject,ys=co.domain;try{jo?(fn||(2===ci.rejection&&gr(ci),ci.rejection=1),!0===jo?$r=Ji:(ys&&ys.enter(),$r=jo(Ji),ys&&(ys.exit(),no=!0)),$r===co.promise?Kt(Mt("Promise-chain cycle")):(qr=mn($r))?qr.call($r,gn,Kt):gn($r)):Kt(Ji)}catch(vl){ys&&!no&&ys.exit(),Kt(vl)}}ci.reactions=[],ci.notified=!1,di&&!ci.rejection&&is(ci)})}},Us=function(ci,di,Ui){var Ji,fn;Ut?((Ji=Ee.createEvent("Event")).promise=di,Ji.reason=Ui,Ji.initEvent(ci,!1,!0),te.dispatchEvent(Ji)):Ji={promise:di,reason:Ui},!Tt&&(fn=te["on"+ci])?fn(Ji):ci===Jt&&ue("Unhandled promise rejection",Ui)},is=function(ci){Z.call(te,function(){var fn,di=ci.facade,Ui=ci.value;if(ps(ci)&&(fn=De(function(){ot?_e.emit("unhandledRejection",Ui,di):Us(Jt,di,Ui)}),ci.rejection=ot||ps(ci)?2:1,fn.error))throw fn.value})},ps=function(ci){return 1!==ci.rejection&&!ci.parent},gr=function(ci){Z.call(te,function(){var di=ci.facade;ot?_e.emit("rejectionHandled",di):Us("rejectionhandled",di,ci.value)})},As=function(ci,di,Ui){return function(Ji){ci(di,Ji,Ui)}},Eo=function(ci,di,Ui){ci.done||(ci.done=!0,Ui&&(ci=Ui),ci.value=di,ci.state=2,qn(ci,!0))},Ia=function(ci,di,Ui){if(!ci.done){ci.done=!0,Ui&&(ci=Ui);try{if(ci.facade===di)throw Mt("Promise can't be resolved itself");var Ji=mn(di);Ji?ee(function(){var fn={done:!1};try{Ji.call(di,As(Ia,fn,ci),As(Eo,fn,ci))}catch(Oi){Eo(fn,Oi,ci)}}):(ci.value=di,ci.state=1,qn(ci,!1))}catch(fn){Eo({done:!1},fn,ci)}}};if(Qt&&(et=function(di){E(this,et,Gi),y(di),Vt.call(this);var Ui=Ft(this);try{di(As(Ia,Ui),As(Eo,Ui))}catch(Ji){Eo(Ui,Ji)}},(Vt=function(di){Li(this,{type:Gi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=F(je=et.prototype,{then:function(di,Ui){var Ji=ht(this),fn=We(W(this,et));return fn.ok=!b(di)||di,fn.fail=b(Ui)&&Ui,fn.domain=ot?_e.domain:void 0,Ji.parent=!0,Ji.reactions.push(fn),0!=Ji.state&&qn(Ji,!1),fn.promise},catch:function(ci){return this.then(void 0,ci)}}),fi=function(){var ci=new Vt,di=Ft(ci);this.promise=ci,this.resolve=As(Ia,di),this.reject=As(Eo,di)},we.f=We=function(ci){return ci===et||ci===Zi?new fi(ci):Ze(ci)},!re&&b(ce)&&ct!==Object.prototype)){Vi=ct.then,xt||(ye(ct,"then",function(di,Ui){var Ji=this;return new et(function(fn,Oi){Vi.call(Ji,fn,Oi)}).then(di,Ui)},{unsafe:!0}),ye(ct,"catch",je.catch,{unsafe:!0}));try{delete ct.constructor}catch{}I&&I(ct,je)}_({global:!0,wrap:!0,forced:Qt},{Promise:et}),N(et,Gi,!1,!0),k(Gi),Zi=he(Gi),_({target:Gi,stat:!0,forced:Qt},{reject:function(di){var Ui=We(this);return Ui.reject.call(void 0,di),Ui.promise}}),_({target:Gi,stat:!0,forced:re||Qt},{resolve:function(di){return ae(re&&this===Zi?et:this,di)}}),_({target:Gi,stat:!0,forced:en},{all:function(di){var Ui=this,Ji=We(Ui),fn=Ji.resolve,Oi=Ji.reject,co=De(function(){var jo=y(Ui.resolve),gn=[],Kt=0,ys=1;x(di,function($r){var qr=Kt++,no=!1;gn.push(void 0),ys++,jo.call(Ui,$r).then(function(vl){no||(no=!0,gn[qr]=vl,--ys||fn(gn))},Oi)}),--ys||fn(gn)});return co.error&&Oi(co.value),Ji.promise},race:function(di){var Ui=this,Ji=We(Ui),fn=Ji.reject,Oi=De(function(){var co=y(Ui.resolve);x(di,function(jo){co.call(Ui,jo).then(Ji.resolve,fn)})});return Oi.error&&fn(Oi.value),Ji.promise}})},5397:function(q,le,B){var _=B(3085),re=B(150),te=B(1404),he=B(1138),ce=B(5744),ye=B(2853),F=B(6782),I=B(6192),N=re("Reflect","construct"),k=I(function(){function C(){}return!(N(function(){},[],C)instanceof C)}),y=!I(function(){N(function(){})}),b=k||y;_({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(E,z){te(E),he(z);var x=arguments.length<3?E:te(arguments[2]);if(y&&!k)return N(E,z,x);if(E==x){switch(z.length){case 0:return new E;case 1:return new E(z[0]);case 2:return new E(z[0],z[1]);case 3:return new E(z[0],z[1],z[2]);case 4:return new E(z[0],z[1],z[2],z[3])}var H=[null];return H.push.apply(H,z),new(F.apply(E,H))}var W=x.prototype,Z=ye(ce(W)?W:Object.prototype),ee=Function.apply.call(E,Z,z);return ce(ee)?ee:Z}})},1367:function(){},5454:function(q,le,B){"use strict";var _=B(863).charAt,re=B(4845),te=B(3326),he=B(7218),ce="String Iterator",ye=te.set,F=te.getterFor(ce);he(String,"String",function(I){ye(this,{type:ce,string:re(I),index:0})},function(){var b,N=F(this),k=N.string,y=N.index;return y>=k.length?{value:void 0,done:!0}:(b=_(k,y),N.index+=b.length,{value:b,done:!1})})},957:function(q,le,B){"use strict";var _=B(3085),re=B(4277).trim;_({target:"String",proto:!0,forced:B(6815)("trim")},{trim:function(){return re(this)}})},9781:function(q,le,B){B(1488)("asyncIterator")},492:function(){},6681:function(q,le,B){B(1488)("hasInstance")},9594:function(q,le,B){B(1488)("isConcatSpreadable")},3665:function(q,le,B){B(1488)("iterator")},6187:function(q,le,B){"use strict";var _=B(3085),re=B(8576),te=B(150),he=B(5546),ce=B(69),ye=B(3045),F=B(6192),I=B(4500),N=B(4770),k=B(6447),y=B(5744),b=B(3236),C=B(1138),E=B(1795),z=B(101),x=B(77),H=B(4845),W=B(774),Z=B(2853),ee=B(7653),ae=B(2092),ue=B(4052),we=B(4750),De=B(5141),Ne=B(2760),bt=B(6007),gt=B(9482),ei=B(8717),ot=B(9766),Yt=B(4535),Le=B(2759),Gi=B(8182),Ft=B(9207),Li=B(1488),ht=B(1284),ct=B(3326),et=B(454).forEach,je=ot("hidden"),Mt="Symbol",Ee="prototype",_e=Gi("toPrimitive"),We=ct.set,Ze=ct.getterFor(Mt),Ut=Object[Ee],Tt=re.Symbol,Jt=te("JSON","stringify"),ti=De.f,Zt=Ne.f,ft=ue.f,it=bt.f,dt=ei("symbols"),wt=ei("op-symbols"),xt=ei("string-to-symbol-registry"),Vt=ei("symbol-to-string-registry"),fi=ei("wks"),Zi=re.QObject,Vi=!Zi||!Zi[Ee]||!Zi[Ee].findChild,Qt=ce&&F(function(){return 7!=Z(Zt({},"a",{get:function(){return Zt(this,"a",{value:7}).a}})).a})?function(ci,di,Ui){var Ji=ti(Ut,di);Ji&&delete Ut[di],Zt(ci,di,Ui),Ji&&ci!==Ut&&Zt(Ut,di,Ji)}:Zt,en=function(ci,di){var Ui=dt[ci]=Z(Tt[Ee]);return We(Ui,{type:Mt,tag:ci,description:di}),ce||(Ui.description=di),Ui},mn=function(di,Ui,Ji){di===Ut&&mn(wt,Ui,Ji),C(di);var fn=x(Ui);return C(Ji),I(dt,fn)?(Ji.enumerable?(I(di,je)&&di[je][fn]&&(di[je][fn]=!1),Ji=Z(Ji,{enumerable:W(0,!1)})):(I(di,je)||Zt(di,je,W(1,{})),di[je][fn]=!0),Qt(di,fn,Ji)):Zt(di,fn,Ji)},qn=function(di,Ui){C(di);var Ji=z(Ui),fn=ee(Ji).concat(As(Ji));return et(fn,function(Oi){(!ce||is.call(Ji,Oi))&&mn(di,Oi,Ji[Oi])}),di},is=function(di){var Ui=x(di),Ji=it.call(this,Ui);return!(this===Ut&&I(dt,Ui)&&!I(wt,Ui))&&(!(Ji||!I(this,Ui)||!I(dt,Ui)||I(this,je)&&this[je][Ui])||Ji)},ps=function(di,Ui){var Ji=z(di),fn=x(Ui);if(Ji!==Ut||!I(dt,fn)||I(wt,fn)){var Oi=ti(Ji,fn);return Oi&&I(dt,fn)&&!(I(Ji,je)&&Ji[je][fn])&&(Oi.enumerable=!0),Oi}},gr=function(di){var Ui=ft(z(di)),Ji=[];return et(Ui,function(fn){!I(dt,fn)&&!I(Yt,fn)&&Ji.push(fn)}),Ji},As=function(di){var Ui=di===Ut,Ji=ft(Ui?wt:z(di)),fn=[];return et(Ji,function(Oi){I(dt,Oi)&&(!Ui||I(Ut,Oi))&&fn.push(dt[Oi])}),fn};if(ye||(Tt=function(){if(this instanceof Tt)throw TypeError("Symbol is not a constructor");var di=arguments.length&&void 0!==arguments[0]?H(arguments[0]):void 0,Ui=Le(di),Ji=function(fn){this===Ut&&Ji.call(wt,fn),I(this,je)&&I(this[je],Ui)&&(this[je][Ui]=!1),Qt(this,Ui,W(1,fn))};return ce&&Vi&&Qt(Ut,Ui,{configurable:!0,set:Ji}),en(Ui,di)},gt(Tt[Ee],"toString",function(){return Ze(this).tag}),gt(Tt,"withoutSetter",function(ci){return en(Le(ci),ci)}),bt.f=is,Ne.f=mn,De.f=ps,ae.f=ue.f=gr,we.f=As,Ft.f=function(ci){return en(Gi(ci),ci)},ce&&(Zt(Tt[Ee],"description",{configurable:!0,get:function(){return Ze(this).description}}),he||gt(Ut,"propertyIsEnumerable",is,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!ye,sham:!ye},{Symbol:Tt}),et(ee(fi),function(ci){Li(ci)}),_({target:Mt,stat:!0,forced:!ye},{for:function(ci){var di=H(ci);if(I(xt,di))return xt[di];var Ui=Tt(di);return xt[di]=Ui,Vt[Ui]=di,Ui},keyFor:function(di){if(!b(di))throw TypeError(di+" is not a symbol");if(I(Vt,di))return Vt[di]},useSetter:function(){Vi=!0},useSimple:function(){Vi=!1}}),_({target:"Object",stat:!0,forced:!ye,sham:!ce},{create:function(di,Ui){return void 0===Ui?Z(di):qn(Z(di),Ui)},defineProperty:mn,defineProperties:qn,getOwnPropertyDescriptor:ps}),_({target:"Object",stat:!0,forced:!ye},{getOwnPropertyNames:gr,getOwnPropertySymbols:As}),_({target:"Object",stat:!0,forced:F(function(){we.f(1)})},{getOwnPropertySymbols:function(di){return we.f(E(di))}}),Jt&&_({target:"JSON",stat:!0,forced:!ye||F(function(){var ci=Tt();return"[null]"!=Jt([ci])||"{}"!=Jt({a:ci})||"{}"!=Jt(Object(ci))})},{stringify:function(di,Ui,Ji){for(var co,fn=[di],Oi=1;arguments.length>Oi;)fn.push(arguments[Oi++]);if(co=Ui,(y(Ui)||void 0!==di)&&!b(di))return N(Ui)||(Ui=function(jo,gn){if(k(co)&&(gn=co.call(this,jo,gn)),!b(gn))return gn}),fn[1]=Ui,Jt.apply(null,fn)}}),!Tt[Ee][_e]){var Ia=Tt[Ee].valueOf;gt(Tt[Ee],_e,function(){return Ia.apply(this,arguments)})}ht(Tt,Mt),Yt[je]=!0},1250:function(q,le,B){B(1488)("matchAll")},9017:function(q,le,B){B(1488)("match")},9786:function(q,le,B){B(1488)("replace")},503:function(q,le,B){B(1488)("search")},6565:function(q,le,B){B(1488)("species")},9322:function(q,le,B){B(1488)("split")},3610:function(q,le,B){B(1488)("toPrimitive")},6886:function(q,le,B){B(1488)("toStringTag")},3514:function(q,le,B){B(1488)("unscopables")},177:function(q,le,B){B(1488)("asyncDispose")},9031:function(q,le,B){B(1488)("dispose")},6658:function(q,le,B){B(1488)("matcher")},1875:function(q,le,B){B(1488)("metadata")},8658:function(q,le,B){B(1488)("observable")},4592:function(q,le,B){B(1488)("patternMatch")},6680:function(q,le,B){B(1488)("replaceAll")},162:function(q,le,B){B(8939);var _=B(7365),re=B(8576),te=B(4696),he=B(8711),ce=B(7771),F=B(8182)("toStringTag");for(var I in _){var N=re[I],k=N&&N.prototype;k&&te(k)!==F&&he(k,F,I),ce[I]=ce.Array}},2906:function(q,le,B){var _=B(3085),re=B(8576),te=B(6447),he=B(8989),ce=[].slice,F=function(I){return function(N,k){var y=arguments.length>2,b=y?ce.call(arguments,2):void 0;return I(y?function(){(te(N)?N:Function(N)).apply(this,b)}:N,k)}};_({global:!0,bind:!0,forced:/MSIE .\./.test(he)},{setTimeout:F(re.setTimeout),setInterval:F(re.setInterval)})},9336:function(q,le,B){"use strict";B(8939);var _=B(3085),re=B(150),te=B(4551),he=B(9482),ce=B(533),ye=B(1284),F=B(5148),I=B(3326),N=B(6961),k=B(6447),y=B(4500),b=B(8043),C=B(4696),E=B(1138),z=B(5744),x=B(4845),H=B(2853),W=B(774),Z=B(1669),ee=B(8703),ae=B(8182),ue=re("fetch"),we=re("Request"),De=we&&we.prototype,Ne=re("Headers"),bt=ae("iterator"),gt="URLSearchParams",ei=gt+"Iterator",ot=I.set,Yt=I.getterFor(gt),Le=I.getterFor(ei),Gi=/\+/g,Ft=Array(4),Li=function(ft){return Ft[ft-1]||(Ft[ft-1]=RegExp("((?:%[\\da-f]{2}){"+ft+"})","gi"))},ht=function(ft){try{return decodeURIComponent(ft)}catch{return ft}},ct=function(ft){var it=ft.replace(Gi," "),dt=4;try{return decodeURIComponent(it)}catch{for(;dt;)it=it.replace(Li(dt--),ht);return it}},et=/[!'()~]|%20/g,je={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Mt=function(ft){return je[ft]},Ee=function(ft){return encodeURIComponent(ft).replace(et,Mt)},_e=function(ft,it){if(it)for(var xt,Vt,dt=it.split("&"),wt=0;wt<dt.length;)(xt=dt[wt++]).length&&(Vt=xt.split("="),ft.push({key:ct(Vt.shift()),value:ct(Vt.join("="))}))},We=function(ft){this.entries.length=0,_e(this.entries,ft)},Ze=function(ft,it){if(ft<it)throw TypeError("Not enough arguments")},Ut=F(function(it,dt){ot(this,{type:ei,iterator:Z(Yt(it).entries),kind:dt})},"Iterator",function(){var it=Le(this),dt=it.kind,wt=it.iterator.next(),xt=wt.value;return wt.done||(wt.value="keys"===dt?xt.key:"values"===dt?xt.value:[xt.key,xt.value]),wt}),Tt=function(){N(this,Tt,gt);var xt,Vt,fi,Zi,Vi,Qt,en,mn,qn,it=arguments.length>0?arguments[0]:void 0,wt=[];if(ot(this,{type:gt,entries:wt,updateURL:function(){},updateSearchParams:We}),void 0!==it)if(z(it))if(xt=ee(it))for(fi=(Vt=Z(it,xt)).next;!(Zi=fi.call(Vt)).done;){if((en=(Qt=(Vi=Z(E(Zi.value))).next).call(Vi)).done||(mn=Qt.call(Vi)).done||!Qt.call(Vi).done)throw TypeError("Expected sequence with length 2");wt.push({key:x(en.value),value:x(mn.value)})}else for(qn in it)y(it,qn)&&wt.push({key:qn,value:x(it[qn])});else _e(wt,"string"==typeof it?"?"===it.charAt(0)?it.slice(1):it:x(it))},Jt=Tt.prototype;if(ce(Jt,{append:function(it,dt){Ze(arguments.length,2);var wt=Yt(this);wt.entries.push({key:x(it),value:x(dt)}),wt.updateURL()},delete:function(ft){Ze(arguments.length,1);for(var it=Yt(this),dt=it.entries,wt=x(ft),xt=0;xt<dt.length;)dt[xt].key===wt?dt.splice(xt,1):xt++;it.updateURL()},get:function(it){Ze(arguments.length,1);for(var dt=Yt(this).entries,wt=x(it),xt=0;xt<dt.length;xt++)if(dt[xt].key===wt)return dt[xt].value;return null},getAll:function(it){Ze(arguments.length,1);for(var dt=Yt(this).entries,wt=x(it),xt=[],Vt=0;Vt<dt.length;Vt++)dt[Vt].key===wt&&xt.push(dt[Vt].value);return xt},has:function(it){Ze(arguments.length,1);for(var dt=Yt(this).entries,wt=x(it),xt=0;xt<dt.length;)if(dt[xt++].key===wt)return!0;return!1},set:function(it,dt){Ze(arguments.length,1);for(var Qt,wt=Yt(this),xt=wt.entries,Vt=!1,fi=x(it),Zi=x(dt),Vi=0;Vi<xt.length;Vi++)(Qt=xt[Vi]).key===fi&&(Vt?xt.splice(Vi--,1):(Vt=!0,Qt.value=Zi));Vt||xt.push({key:fi,value:Zi}),wt.updateURL()},sort:function(){var xt,Vt,fi,it=Yt(this),dt=it.entries,wt=dt.slice();for(dt.length=0,fi=0;fi<wt.length;fi++){for(xt=wt[fi],Vt=0;Vt<fi;Vt++)if(dt[Vt].key>xt.key){dt.splice(Vt,0,xt);break}Vt===fi&&dt.push(xt)}it.updateURL()},forEach:function(it){for(var Vt,dt=Yt(this).entries,wt=b(it,arguments.length>1?arguments[1]:void 0,3),xt=0;xt<dt.length;)wt((Vt=dt[xt++]).value,Vt.key,this)},keys:function(){return new Ut(this,"keys")},values:function(){return new Ut(this,"values")},entries:function(){return new Ut(this,"entries")}},{enumerable:!0}),he(Jt,bt,Jt.entries,{name:"entries"}),he(Jt,"toString",function(){for(var xt,it=Yt(this).entries,dt=[],wt=0;wt<it.length;)xt=it[wt++],dt.push(Ee(xt.key)+"="+Ee(xt.value));return dt.join("&")},{enumerable:!0}),ye(Tt,gt),_({global:!0,forced:!te},{URLSearchParams:Tt}),!te&&k(Ne)){var ti=function(ft){if(z(ft)){var dt,it=ft.body;if(C(it)===gt)return(dt=ft.headers?new Ne(ft.headers):new Ne).has("content-type")||dt.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),H(ft,{body:W(0,String(it)),headers:W(0,dt)})}return ft};if(k(ue)&&_({global:!0,enumerable:!0,forced:!0},{fetch:function(it){return ue(it,arguments.length>1?ti(arguments[1]):{})}}),k(we)){var Zt=function(it){return N(this,Zt,"Request"),new we(it,arguments.length>1?ti(arguments[1]):{})};De.constructor=Zt,Zt.prototype=De,_({global:!0,forced:!0},{Request:Zt})}}q.exports={URLSearchParams:Tt,getState:Yt}},4948:function(q,le,B){"use strict";B(5454);var Mt,_=B(3085),re=B(69),te=B(4551),he=B(8576),ce=B(1187),ye=B(9482),F=B(6961),I=B(4500),N=B(2503),k=B(841),y=B(863).codeAt,b=B(7977),C=B(4845),E=B(1284),z=B(9336),x=B(3326),H=he.URL,W=z.URLSearchParams,Z=z.getState,ee=x.set,ae=x.getterFor("URL"),ue=Math.floor,we=Math.pow,Ne="Invalid scheme",bt="Invalid host",gt="Invalid port",ei=/[A-Za-z]/,ot=/[\d+-.A-Za-z]/,Yt=/\d/,Le=/^0x/i,Gi=/^[0-7]+$/,Ft=/^\d+$/,Li=/^[\dA-Fa-f]+$/,ht=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ct=/[\0\t\n\r #/:<>?@[\\\]^|]/,et=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,je=/[\t\n\r]/g,Ee=function(qe,li){var ri,Ti,Bi;if("["==li.charAt(0)){if("]"!=li.charAt(li.length-1)||!(ri=We(li.slice(1,-1))))return bt;qe.host=ri}else if(dt(qe)){if(li=b(li),ht.test(li)||null===(ri=_e(li)))return bt;qe.host=ri}else{if(ct.test(li))return bt;for(ri="",Ti=k(li),Bi=0;Bi<Ti.length;Bi++)ri+=ft(Ti[Bi],Tt);qe.host=ri}},_e=function(qe){var ri,Ti,Bi,cr,In,ar,po,li=qe.split(".");if(li.length&&""==li[li.length-1]&&li.pop(),(ri=li.length)>4)return qe;for(Ti=[],Bi=0;Bi<ri;Bi++){if(""==(cr=li[Bi]))return qe;if(In=10,cr.length>1&&"0"==cr.charAt(0)&&(In=Le.test(cr)?16:8,cr=cr.slice(8==In?1:2)),""===cr)ar=0;else{if(!(10==In?Ft:8==In?Gi:Li).test(cr))return qe;ar=parseInt(cr,In)}Ti.push(ar)}for(Bi=0;Bi<ri;Bi++)if(ar=Ti[Bi],Bi==ri-1){if(ar>=we(256,5-ri))return null}else if(ar>255)return null;for(po=Ti.pop(),Bi=0;Bi<Ti.length;Bi++)po+=Ti[Bi]*we(256,3-Bi);return po},We=function(qe){var cr,In,ar,po,ca,ml,xi,li=[0,0,0,0,0,0,0,0],ri=0,Ti=null,Bi=0,Jo=function(){return qe.charAt(Bi)};if(":"==Jo()){if(":"!=qe.charAt(1))return;Bi+=2,Ti=++ri}for(;Jo();){if(8==ri)return;if(":"!=Jo()){for(cr=In=0;In<4&&Li.test(Jo());)cr=16*cr+parseInt(Jo(),16),Bi++,In++;if("."==Jo()){if(0==In||(Bi-=In,ri>6))return;for(ar=0;Jo();){if(po=null,ar>0){if(!("."==Jo()&&ar<4))return;Bi++}if(!Yt.test(Jo()))return;for(;Yt.test(Jo());){if(ca=parseInt(Jo(),10),null===po)po=ca;else{if(0==po)return;po=10*po+ca}if(po>255)return;Bi++}li[ri]=256*li[ri]+po,(2==++ar||4==ar)&&ri++}if(4!=ar)return;break}if(":"==Jo()){if(Bi++,!Jo())return}else if(Jo())return;li[ri++]=cr}else{if(null!==Ti)return;Bi++,Ti=++ri}}if(null!==Ti)for(ml=ri-Ti,ri=7;0!=ri&&ml>0;)xi=li[ri],li[ri--]=li[Ti+ml-1],li[Ti+--ml]=xi;else if(8!=ri)return;return li},Ut=function(qe){var li,ri,Ti,Bi;if("number"==typeof qe){for(li=[],ri=0;ri<4;ri++)li.unshift(qe%256),qe=ue(qe/256);return li.join(".")}if("object"==typeof qe){for(li="",Ti=function(qe){for(var li=null,ri=1,Ti=null,Bi=0,cr=0;cr<8;cr++)0!==qe[cr]?(Bi>ri&&(li=Ti,ri=Bi),Ti=null,Bi=0):(null===Ti&&(Ti=cr),++Bi);return Bi>ri&&(li=Ti,ri=Bi),li}(qe),ri=0;ri<8;ri++)Bi&&0===qe[ri]||(Bi&&(Bi=!1),Ti===ri?(li+=ri?":":"::",Bi=!0):(li+=qe[ri].toString(16),ri<7&&(li+=":")));return"["+li+"]"}return qe},Tt={},Jt=N({},Tt,{" ":1,'"':1,"<":1,">":1,"`":1}),ti=N({},Jt,{"#":1,"?":1,"{":1,"}":1}),Zt=N({},ti,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ft=function(qe,li){var ri=y(qe,0);return ri>32&&ri<127&&!I(li,qe)?qe:encodeURIComponent(qe)},it={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(qe){return I(it,qe.scheme)},wt=function(qe){return""!=qe.username||""!=qe.password},xt=function(qe){return!qe.host||qe.cannotBeABaseURL||"file"==qe.scheme},Vt=function(qe,li){var ri;return 2==qe.length&&ei.test(qe.charAt(0))&&(":"==(ri=qe.charAt(1))||!li&&"|"==ri)},fi=function(qe){var li;return qe.length>1&&Vt(qe.slice(0,2))&&(2==qe.length||"/"===(li=qe.charAt(2))||"\\"===li||"?"===li||"#"===li)},Zi=function(qe){var li=qe.path,ri=li.length;ri&&("file"!=qe.scheme||1!=ri||!Vt(li[0],!0))&&li.pop()},Vi=function(qe){return"."===qe||"%2e"===qe.toLowerCase()},Qt=function(qe){return".."===(qe=qe.toLowerCase())||"%2e."===qe||".%2e"===qe||"%2e%2e"===qe},en={},mn={},qn={},Us={},is={},ps={},gr={},As={},Eo={},Ia={},ci={},di={},Ui={},Ji={},fn={},Oi={},co={},jo={},gn={},Kt={},ys={},$r=function(qe,li,ri,Ti){var ml,xi,Jo,bs,Bi=ri||en,cr=0,In="",ar=!1,po=!1,ca=!1;for(ri||(qe.scheme="",qe.username="",qe.password="",qe.host=null,qe.port=null,qe.path=[],qe.query=null,qe.fragment=null,qe.cannotBeABaseURL=!1,li=li.replace(et,"")),li=li.replace(je,""),ml=k(li);cr<=ml.length;){switch(xi=ml[cr],Bi){case en:if(!xi||!ei.test(xi)){if(ri)return Ne;Bi=qn;continue}In+=xi.toLowerCase(),Bi=mn;break;case mn:if(xi&&(ot.test(xi)||"+"==xi||"-"==xi||"."==xi))In+=xi.toLowerCase();else{if(":"!=xi){if(ri)return Ne;In="",Bi=qn,cr=0;continue}if(ri&&(dt(qe)!=I(it,In)||"file"==In&&(wt(qe)||null!==qe.port)||"file"==qe.scheme&&!qe.host))return;if(qe.scheme=In,ri)return void(dt(qe)&&it[qe.scheme]==qe.port&&(qe.port=null));In="","file"==qe.scheme?Bi=Ji:dt(qe)&&Ti&&Ti.scheme==qe.scheme?Bi=Us:dt(qe)?Bi=As:"/"==ml[cr+1]?(Bi=is,cr++):(qe.cannotBeABaseURL=!0,qe.path.push(""),Bi=gn)}break;case qn:if(!Ti||Ti.cannotBeABaseURL&&"#"!=xi)return Ne;if(Ti.cannotBeABaseURL&&"#"==xi){qe.scheme=Ti.scheme,qe.path=Ti.path.slice(),qe.query=Ti.query,qe.fragment="",qe.cannotBeABaseURL=!0,Bi=ys;break}Bi="file"==Ti.scheme?Ji:ps;continue;case Us:if("/"!=xi||"/"!=ml[cr+1]){Bi=ps;continue}Bi=Eo,cr++;break;case is:if("/"==xi){Bi=Ia;break}Bi=jo;continue;case ps:if(qe.scheme=Ti.scheme,xi==Mt)qe.username=Ti.username,qe.password=Ti.password,qe.host=Ti.host,qe.port=Ti.port,qe.path=Ti.path.slice(),qe.query=Ti.query;else if("/"==xi||"\\"==xi&&dt(qe))Bi=gr;else if("?"==xi)qe.username=Ti.username,qe.password=Ti.password,qe.host=Ti.host,qe.port=Ti.port,qe.path=Ti.path.slice(),qe.query="",Bi=Kt;else{if("#"!=xi){qe.username=Ti.username,qe.password=Ti.password,qe.host=Ti.host,qe.port=Ti.port,qe.path=Ti.path.slice(),qe.path.pop(),Bi=jo;continue}qe.username=Ti.username,qe.password=Ti.password,qe.host=Ti.host,qe.port=Ti.port,qe.path=Ti.path.slice(),qe.query=Ti.query,qe.fragment="",Bi=ys}break;case gr:if(!dt(qe)||"/"!=xi&&"\\"!=xi){if("/"!=xi){qe.username=Ti.username,qe.password=Ti.password,qe.host=Ti.host,qe.port=Ti.port,Bi=jo;continue}Bi=Ia}else Bi=Eo;break;case As:if(Bi=Eo,"/"!=xi||"/"!=In.charAt(cr+1))continue;cr++;break;case Eo:if("/"!=xi&&"\\"!=xi){Bi=Ia;continue}break;case Ia:if("@"==xi){ar&&(In="%40"+In),ar=!0,Jo=k(In);for(var rf=0;rf<Jo.length;rf++){var Ho=Jo[rf];if(":"!=Ho||ca){var nr=ft(Ho,Zt);ca?qe.password+=nr:qe.username+=nr}else ca=!0}In=""}else if(xi==Mt||"/"==xi||"?"==xi||"#"==xi||"\\"==xi&&dt(qe)){if(ar&&""==In)return"Invalid authority";cr-=k(In).length+1,In="",Bi=ci}else In+=xi;break;case ci:case di:if(ri&&"file"==qe.scheme){Bi=Oi;continue}if(":"!=xi||po){if(xi==Mt||"/"==xi||"?"==xi||"#"==xi||"\\"==xi&&dt(qe)){if(dt(qe)&&""==In)return bt;if(ri&&""==In&&(wt(qe)||null!==qe.port))return;if(bs=Ee(qe,In))return bs;if(In="",Bi=co,ri)return;continue}"["==xi?po=!0:"]"==xi&&(po=!1),In+=xi}else{if(""==In)return bt;if(bs=Ee(qe,In))return bs;if(In="",Bi=Ui,ri==di)return}break;case Ui:if(!Yt.test(xi)){if(xi==Mt||"/"==xi||"?"==xi||"#"==xi||"\\"==xi&&dt(qe)||ri){if(""!=In){var qd=parseInt(In,10);if(qd>65535)return gt;qe.port=dt(qe)&&qd===it[qe.scheme]?null:qd,In=""}if(ri)return;Bi=co;continue}return gt}In+=xi;break;case Ji:if(qe.scheme="file","/"==xi||"\\"==xi)Bi=fn;else{if(!Ti||"file"!=Ti.scheme){Bi=jo;continue}if(xi==Mt)qe.host=Ti.host,qe.path=Ti.path.slice(),qe.query=Ti.query;else if("?"==xi)qe.host=Ti.host,qe.path=Ti.path.slice(),qe.query="",Bi=Kt;else{if("#"!=xi){fi(ml.slice(cr).join(""))||(qe.host=Ti.host,qe.path=Ti.path.slice(),Zi(qe)),Bi=jo;continue}qe.host=Ti.host,qe.path=Ti.path.slice(),qe.query=Ti.query,qe.fragment="",Bi=ys}}break;case fn:if("/"==xi||"\\"==xi){Bi=Oi;break}Ti&&"file"==Ti.scheme&&!fi(ml.slice(cr).join(""))&&(Vt(Ti.path[0],!0)?qe.path.push(Ti.path[0]):qe.host=Ti.host),Bi=jo;continue;case Oi:if(xi==Mt||"/"==xi||"\\"==xi||"?"==xi||"#"==xi){if(!ri&&Vt(In))Bi=jo;else if(""==In){if(qe.host="",ri)return;Bi=co}else{if(bs=Ee(qe,In))return bs;if("localhost"==qe.host&&(qe.host=""),ri)return;In="",Bi=co}continue}In+=xi;break;case co:if(dt(qe)){if(Bi=jo,"/"!=xi&&"\\"!=xi)continue}else if(ri||"?"!=xi)if(ri||"#"!=xi){if(xi!=Mt&&(Bi=jo,"/"!=xi))continue}else qe.fragment="",Bi=ys;else qe.query="",Bi=Kt;break;case jo:if(xi==Mt||"/"==xi||"\\"==xi&&dt(qe)||!ri&&("?"==xi||"#"==xi)){if(Qt(In)?(Zi(qe),"/"!=xi&&!("\\"==xi&&dt(qe))&&qe.path.push("")):Vi(In)?"/"!=xi&&!("\\"==xi&&dt(qe))&&qe.path.push(""):("file"==qe.scheme&&!qe.path.length&&Vt(In)&&(qe.host&&(qe.host=""),In=In.charAt(0)+":"),qe.path.push(In)),In="","file"==qe.scheme&&(xi==Mt||"?"==xi||"#"==xi))for(;qe.path.length>1&&""===qe.path[0];)qe.path.shift();"?"==xi?(qe.query="",Bi=Kt):"#"==xi&&(qe.fragment="",Bi=ys)}else In+=ft(xi,ti);break;case gn:"?"==xi?(qe.query="",Bi=Kt):"#"==xi?(qe.fragment="",Bi=ys):xi!=Mt&&(qe.path[0]+=ft(xi,Tt));break;case Kt:ri||"#"!=xi?xi!=Mt&&("'"==xi&&dt(qe)?qe.query+="%27":qe.query+="#"==xi?"%23":ft(xi,Tt)):(qe.fragment="",Bi=ys);break;case ys:xi!=Mt&&(qe.fragment+=ft(xi,Jt))}cr++}},qr=function(li){var In,ar,ri=F(this,qr,"URL"),Ti=arguments.length>1?arguments[1]:void 0,Bi=C(li),cr=ee(ri,{type:"URL"});if(void 0!==Ti)if(Ti instanceof qr)In=ae(Ti);else if(ar=$r(In={},C(Ti)))throw TypeError(ar);if(ar=$r(cr,Bi,null,In))throw TypeError(ar);var po=cr.searchParams=new W,ca=Z(po);ca.updateSearchParams(cr.query),ca.updateURL=function(){cr.query=String(po)||null},re||(ri.href=vl.call(ri),ri.origin=bo.call(ri),ri.protocol=yc.call(ri),ri.username=Os.call(ri),ri.password=eg.call(ri),ri.host=Yv.call(ri),ri.hostname=Gv.call(ri),ri.port=ih.call(ri),ri.pathname=Xv.call(ri),ri.search=uo.call(ri),ri.searchParams=Vh.call(ri),ri.hash=$a.call(ri))},no=qr.prototype,vl=function(){var qe=ae(this),li=qe.scheme,ri=qe.username,Ti=qe.password,Bi=qe.host,cr=qe.port,In=qe.path,ar=qe.query,po=qe.fragment,ca=li+":";return null!==Bi?(ca+="//",wt(qe)&&(ca+=ri+(Ti?":"+Ti:"")+"@"),ca+=Ut(Bi),null!==cr&&(ca+=":"+cr)):"file"==li&&(ca+="//"),ca+=qe.cannotBeABaseURL?In[0]:In.length?"/"+In.join("/"):"",null!==ar&&(ca+="?"+ar),null!==po&&(ca+="#"+po),ca},bo=function(){var qe=ae(this),li=qe.scheme,ri=qe.port;if("blob"==li)try{return new qr(li.path[0]).origin}catch{return"null"}return"file"!=li&&dt(qe)?li+"://"+Ut(qe.host)+(null!==ri?":"+ri:""):"null"},yc=function(){return ae(this).scheme+":"},Os=function(){return ae(this).username},eg=function(){return ae(this).password},Yv=function(){var qe=ae(this),li=qe.host,ri=qe.port;return null===li?"":null===ri?Ut(li):Ut(li)+":"+ri},Gv=function(){var qe=ae(this).host;return null===qe?"":Ut(qe)},ih=function(){var qe=ae(this).port;return null===qe?"":String(qe)},Xv=function(){var qe=ae(this),li=qe.path;return qe.cannotBeABaseURL?li[0]:li.length?"/"+li.join("/"):""},uo=function(){var qe=ae(this).query;return qe?"?"+qe:""},Vh=function(){return ae(this).searchParams},$a=function(){var qe=ae(this).fragment;return qe?"#"+qe:""},Dh=function(qe,li){return{get:qe,set:li,configurable:!0,enumerable:!0}};if(re&&ce(no,{href:Dh(vl,function(qe){var li=ae(this),ri=C(qe),Ti=$r(li,ri);if(Ti)throw TypeError(Ti);Z(li.searchParams).updateSearchParams(li.query)}),origin:Dh(bo),protocol:Dh(yc,function(qe){var li=ae(this);$r(li,C(qe)+":",en)}),username:Dh(Os,function(qe){var li=ae(this),ri=k(C(qe));if(!xt(li)){li.username="";for(var Ti=0;Ti<ri.length;Ti++)li.username+=ft(ri[Ti],Zt)}}),password:Dh(eg,function(qe){var li=ae(this),ri=k(C(qe));if(!xt(li)){li.password="";for(var Ti=0;Ti<ri.length;Ti++)li.password+=ft(ri[Ti],Zt)}}),host:Dh(Yv,function(qe){var li=ae(this);li.cannotBeABaseURL||$r(li,C(qe),ci)}),hostname:Dh(Gv,function(qe){var li=ae(this);li.cannotBeABaseURL||$r(li,C(qe),di)}),port:Dh(ih,function(qe){var li=ae(this);xt(li)||(""==(qe=C(qe))?li.port=null:$r(li,qe,Ui))}),pathname:Dh(Xv,function(qe){var li=ae(this);li.cannotBeABaseURL||(li.path=[],$r(li,C(qe),co))}),search:Dh(uo,function(qe){var li=ae(this);""==(qe=C(qe))?li.query=null:("?"==qe.charAt(0)&&(qe=qe.slice(1)),li.query="",$r(li,qe,Kt)),Z(li.searchParams).updateSearchParams(li.query)}),searchParams:Dh(Vh),hash:Dh($a,function(qe){var li=ae(this);""!=(qe=C(qe))?("#"==qe.charAt(0)&&(qe=qe.slice(1)),li.fragment="",$r(li,qe,ys)):li.fragment=null})}),ye(no,"toJSON",function(){return vl.call(this)},{enumerable:!0}),ye(no,"toString",function(){return vl.call(this)},{enumerable:!0}),H){var tg=H.createObjectURL,$d=H.revokeObjectURL;tg&&ye(qr,"createObjectURL",function(li){return tg.apply(H,arguments)}),$d&&ye(qr,"revokeObjectURL",function(li){return $d.apply(H,arguments)})}E(qr,"URL"),_({global:!0,forced:!te,sham:!re},{URL:qr})},9801:function(){},3822:function(q,le,B){var _=B(2221);q.exports=_},1434:function(q,le,B){var _=B(5078);q.exports=_},6899:function(q,le,B){var _=B(98);q.exports=_},7710:function(q,le,B){var _=B(5739);B(162),q.exports=_},4486:function(q,le,B){var _=B(278);q.exports=_},4877:function(q,le,B){var _=B(1484);q.exports=_},7178:function(q,le,B){var _=B(7731);q.exports=_},5603:function(q,le,B){var _=B(3669);q.exports=_},1206:function(q,le,B){B(162);var _=B(6899),re=B(4696),te=Array.prototype,he={DOMTokenList:!0,NodeList:!0};q.exports=function(ce){var ye=ce.forEach;return ce===te||ce instanceof Array&&ye===te.forEach||he.hasOwnProperty(re(ce))?_:ye}},6174:function(q,le,B){var _=B(2604);q.exports=_},57:function(q,le,B){var _=B(263);q.exports=_},4741:function(q,le,B){var _=B(7663);q.exports=_},8368:function(q,le,B){var _=B(5063);q.exports=_},3739:function(q,le,B){var _=B(6813);q.exports=_},172:function(q,le,B){var _=B(6285);q.exports=_},4963:function(q,le,B){var _=B(3213);q.exports=_},7820:function(q,le,B){var _=B(3512);q.exports=_},8980:function(q,le,B){var _=B(8168);q.exports=_},5636:function(q,le,B){var _=B(8651);q.exports=_},6672:function(q,le,B){var _=B(3083);q.exports=_},5059:function(q,le,B){var _=B(2987);q.exports=_},3969:function(q,le,B){var _=B(2239);q.exports=_},6618:function(q,le,B){var _=B(3154);B(162),q.exports=_},5279:function(q,le,B){var _=B(6577);q.exports=_},9562:function(q,le,B){B(2906);var _=B(7545);q.exports=_.setTimeout},2285:function(q,le,B){var _=B(5008);B(162),q.exports=_},8535:function(q,le,B){var _=B(994);B(162),q.exports=_},652:function(q,le,B){var _=B(5668);q.exports=_},5668:function(q,le,B){B(4948),B(9801),B(9336);var _=B(7545);q.exports=_.URL},2534:function(q){"use strict";q.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(q){"use strict";q.exports=tt},4960:function(){},6759:function(){},6272:function(){}},_t={};function Ke(q){var le=_t[q];if(void 0!==le)return le.exports;var B=_t[q]={exports:{}};return me[q](B,B.exports,Ke),B.exports}Ke.n=function(q){var le=q&&q.__esModule?function(){return q.default}:function(){return q};return Ke.d(le,{a:le}),le},Ke.d=function(q,le){for(var B in le)Ke.o(le,B)&&!Ke.o(q,B)&&Object.defineProperty(q,B,{enumerable:!0,get:le[B]})},Ke.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ke.o=function(q,le){return Object.prototype.hasOwnProperty.call(q,le)};var Ht={};return function(){"use strict";Ke.d(Ht,{default:function(){return Da}});var q=Ke(9131),le=Ke.n(q),B=Ke(1899),_=Ke.n(B),re=Ke(6562),te=Ke.n(re),he=Ke(1734),ce=Ke.n(he),ye=Ke(8005),F=Ke.n(ye),I=Ke(6065),N=Ke.n(I),k=Ke(4496),y=Ke.n(k);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(K){var R=this;do{if(Element.prototype.matches.call(R,K))return R;R=R.parentElement||R.parentNode}while(null!==R&&1===R.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(K){if("Element"in K){var R="classList",w="prototype",D=K.Element[w],S=Object,A=le()(String[w])||function(){return this.replace(/^\s+|\s+$/g,"")},G=_()(Array[w])||function(vt){for(var kt=0,It=this.length;kt<It;kt++)if(kt in this&&this[kt]===vt)return kt;return-1},J=function(kt,It){this.name=kt,this.code=DOMException[kt],this.message=It},se=function(kt,It){if(""===It)throw new J("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(It))throw new J("INVALID_CHARACTER_ERR","The token must not contain space characters.");return G.call(kt,It)},ne=function(kt){for(var It=A.call(kt.getAttribute("class")||""),Nt=It?It.split(/\s+/):[],gi=0,Tn=Nt.length;gi<Tn;gi++)this.push(Nt[gi]);this._updateClassName=function(){kt.setAttribute("class",this.toString())}},fe=ne[w]=[],xe=function(){return new ne(this)};if(J[w]=Error[w],fe.item=function(vt){return this[vt]||null},fe.contains=function(vt){return~se(this,vt+"")},fe.add=function(){var Nt,vt=arguments,kt=0,It=vt.length,gi=!1;do{~se(this,Nt=vt[kt]+"")||(this.push(Nt),gi=!0)}while(++kt<It);gi&&this._updateClassName()},fe.remove=function(){var Nt,Tn,vt=arguments,kt=0,It=vt.length,gi=!1;do{for(Tn=se(this,Nt=vt[kt]+"");~Tn;){te()(this).call(this,Tn,1),gi=!0,Tn=se(this,Nt)}}while(++kt<It);gi&&this._updateClassName()},fe.toggle=function(vt,kt){var It=this.contains(vt),Nt=It?!0!==kt&&"remove":!1!==kt&&"add";return Nt&&this[Nt](vt),!0===kt||!1===kt?kt:!It},fe.replace=function(vt,kt){var It=se(vt+"");~It&&(te()(this).call(this,It,1,kt),this._updateClassName())},fe.toString=function(){return this.join(" ")},ce()){var lt={get:xe,enumerable:!0,configurable:!0};try{ce()(D,R,lt)}catch(vt){(void 0===vt.number||-2146823252===vt.number)&&(lt.enumerable=!1,ce()(D,R,lt))}}else S[w].__defineGetter__&&D.__defineGetter__(R,xe)}}(self),function(){var K=document.createElement("_");if(K.classList.add("c1","c2"),!K.classList.contains("c2")){var R=function(S){var A=DOMTokenList.prototype[S];DOMTokenList.prototype[S]=function(G){var J,se=arguments.length;for(J=0;J<se;J++)A.call(this,G=arguments[J])}};R("add"),R("remove")}if(K.classList.toggle("c3",!1),K.classList.contains("c3")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(D,S){return 1 in arguments&&!this.contains(D)==!S?S:w.call(this,D)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(D,S){var A=this.toString().split(" "),G=_()(A).call(A,D+"");~G&&(A=F()(A).call(A,G),this.remove.apply(this,A),this.add(S),this.add.apply(this,F()(A).call(A,1)))}),K=null}()),function(){if(typeof window<"u"&&window.addEventListener){var R,w,se,K=N()(null),D=function(){clearTimeout(w),w=y()(R,100)},S=function(){},G=function(fe){function xe(It){var Nt;return void 0!==It.protocol?Nt=It:(Nt=document.createElement("a")).href=It,Nt.protocol.replace(/:/g,"")+Nt.host}var lt,vt,kt;return window.XMLHttpRequest&&(lt=new XMLHttpRequest,vt=xe(location),kt=xe(fe),lt=void 0===lt.withCredentials&&""!==kt&&kt!==vt?XDomainRequest||void 0:XMLHttpRequest),lt},J="http://www.w3.org/1999/xlink";R=function(){var fe,xe,vt,kt,It,gi,Tn,Hn,Xn,ki,Nt=0;function gs(){0==(Nt-=1)&&(S(),function(){var fe;window.addEventListener("resize",D,!1),window.addEventListener("orientationchange",D,!1),window.MutationObserver?((fe=new MutationObserver(D)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),S=function(){try{fe.disconnect(),window.removeEventListener("resize",D,!1),window.removeEventListener("orientationchange",D,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",D,!1),S=function(){document.documentElement.removeEventListener("DOMSubtreeModified",D,!1),window.removeEventListener("resize",D,!1),window.removeEventListener("orientationchange",D,!1)})}())}function Ta(So){return function(){!0!==K[So.base]&&(So.useEl.setAttributeNS(J,"xlink:href","#"+So.hash),So.useEl.hasAttribute("href")&&So.useEl.setAttribute("href","#"+So.hash))}}function Dl(So){return function(){var hh,yd=document.body,Ac=document.createElement("x");So.onload=null,Ac.innerHTML=So.responseText,(hh=Ac.getElementsByTagName("svg")[0])&&(hh.setAttribute("aria-hidden","true"),hh.style.position="absolute",hh.style.width=0,hh.style.height=0,hh.style.overflow="hidden",yd.insertBefore(hh,yd.firstChild)),gs()}}function Ec(So){return function(){So.onerror=null,So.ontimeout=null,gs()}}for(S(),Xn=document.getElementsByTagName("use"),It=0;It<Xn.length;It+=1){try{xe=Xn[It].getBoundingClientRect()}catch{xe=!1}fe=(Hn=(kt=Xn[It].getAttribute("href")||Xn[It].getAttributeNS(J,"href")||Xn[It].getAttribute("xlink:href"))&&kt.split?kt.split("#"):["",""])[0],vt=Hn[1],gi=xe&&0===xe.left&&0===xe.right&&0===xe.top&&0===xe.bottom,xe&&0===xe.width&&0===xe.height&&!gi?(Xn[It].hasAttribute("href")&&Xn[It].setAttributeNS(J,"xlink:href",kt),fe.length&&(!0!==(ki=K[fe])&&y()(Ta({useEl:Xn[It],base:fe,hash:vt}),0),void 0===ki&&void 0!==(Tn=G(fe))&&(ki=new Tn,K[fe]=ki,ki.onload=Dl(ki),ki.onerror=Ec(ki),ki.ontimeout=Ec(ki),ki.open("GET",fe),ki.send(),Nt+=1))):gi?fe.length&&K[fe]&&y()(Ta({useEl:Xn[It],base:fe,hash:vt}),0):void 0===K[fe]?K[fe]=!0:K[fe].onload&&(K[fe].abort(),delete K[fe].onload,K[fe]=!0)}Xn="",Nt+=1,gs()},se=function(){window.removeEventListener("load",se,!1),w=y()(R,0)},"complete"!==document.readyState?window.addEventListener("load",se,!1):se()}}();var b=Ke(1845);function C(K,R){(null==R||R>K.length)&&(R=K.length);for(var w=0,D=new Array(R);w<R;w++)D[w]=K[w];return D}var z=Ke(184),x=Ke(662),H=Ke(7172);var Z=Ke(711);function ee(K,R){var w;if(K){if("string"==typeof K)return C(K,R);var D=Z(w=Object.prototype.toString.call(K)).call(w,8,-1);if("Object"===D&&K.constructor&&(D=K.constructor.name),"Map"===D||"Set"===D)return H(K);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return C(K,R)}}function ue(K){return function E(K){if(b(K))return C(K)}(K)||function W(K){if(typeof z<"u"&&null!=x(K)||null!=K["@@iterator"])return H(K)}(K)||ee(K)||function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=Ke(7077);function De(K,R,w){return R in K?we(K,R,{value:w,enumerable:!0,configurable:!0,writable:!0}):K[R]=w,K}function Ne(K,R){if(!(K instanceof R))throw new TypeError("Cannot call a class as a function")}function bt(K,R){for(var w=0;w<R.length;w++){var D=R[w];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),we(K,D.key,D)}}function gt(K,R,w){return R&&bt(K.prototype,R),w&&bt(K,w),K}var ei=Ke(4426),ot=Ke.n(ei),Yt=Ke(9406),Le=Ke.n(Yt),Gi=Ke(8189),Ft=Ke.n(Gi),Li=Ke(3972),ht=Ke.n(Li),ct=Ke(2777),et=Ke(961),je=Ke.n(et),Mt=Ke(5695),Ee=Ke.n(Mt),_e=Ke(8592),We=Ke.n(_e),Ze=Ke(9052),Ut=Ke.n(Ze),Tt=Ke(2560),Jt=Ke.n(Tt),ti=Ke(2461),Zt=Ke.n(ti);function wt(K,R){return function ft(K){if(b(K))return K}(K)||function it(K,R){var w=null==K?null:typeof z<"u"&&x(K)||K["@@iterator"];if(null!=w){var G,J,D=[],S=!0,A=!1;try{for(w=w.call(K);!(S=(G=w.next()).done)&&(D.push(G.value),!R||D.length!==R);S=!0);}catch(se){A=!0,J=se}finally{try{!S&&null!=w.return&&w.return()}finally{if(A)throw J}}return D}}(K,R)||ee(K,R)||function dt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gr,xt=Ke(6397),Vt=Ke.n(xt),fi=Ke(7636),Zi=Ke.n(fi),Vi=Ke(789),Qt=Ke.n(Vi),en=Ke(4729),mn=Ke.n(en),qn=Ke(1610),Us=Ke.n(qn),is=Ke(3053),ps=Ke.n(is),As=["zoomIn","zoomOut","hand"],Eo=["history","undo","redo","reset"],Ia=["delete","deleteAll"],ci=Le()(gr=[]).call(gr,As,Eo,Ia),di={FILTER:"filter",COLOR:"color"},Ui=["rect","circle","triangle"],Ji_CROPZONE="cropzone",fn={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},Oi=po("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),jo={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},gn_CLEAR_OBJECTS="clearObjects",gn_LOAD_IMAGE="loadImage",gn_FLIP_IMAGE="flip",gn_ROTATE_IMAGE="rotate",gn_ADD_OBJECT="addObject",gn_REMOVE_OBJECT="removeObject",gn_APPLY_FILTER="applyFilter",gn_REMOVE_FILTER="removeFilter",gn_ADD_ICON="addIcon",gn_CHANGE_ICON_COLOR="changeIconColor",gn_ADD_SHAPE="addShape",gn_CHANGE_SHAPE="changeShape",gn_ADD_TEXT="addText",gn_CHANGE_TEXT="changeText",gn_CHANGE_TEXT_STYLE="changeTextStyle",gn_ADD_IMAGE_OBJECT="addImageObject",gn_RESIZE_CANVAS_DIMENSION="resizeCanvasDimension",gn_SET_OBJECT_PROPERTIES="setObjectProperties",gn_SET_OBJECT_POSITION="setObjectPosition",gn_CHANGE_SELECTION="changeSelection",gn_RESIZE_IMAGE="resize",Kt_OBJECT_ACTIVATED="objectActivated",Kt_OBJECT_MOVED="objectMoved",Kt_OBJECT_SCALED="objectScaled",Kt_OBJECT_ROTATED="objectRotated",Kt_OBJECT_ADDED="objectAdded",Kt_OBJECT_MODIFIED="objectModified",Kt_TEXT_EDITING="textEditing",Kt_TEXT_CHANGED="textChanged",Kt_ICON_CREATE_RESIZE="iconCreateResize",Kt_ICON_CREATE_END="iconCreateEnd",Kt_ADD_TEXT="addText",Kt_ADD_OBJECT="addObject",Kt_ADD_OBJECT_AFTER="addObjectAfter",Kt_MOUSE_DOWN="mousedown",Kt_REDO_STACK_CHANGED="redoStackChanged",Kt_UNDO_STACK_CHANGED="undoStackChanged",Kt_SELECTION_CLEARED="selectionCleared",Kt_SELECTION_CREATED="selectionCreated",Kt_EXECUTE_COMMAND="executeCommand",Kt_AFTER_UNDO="afterUndo",Kt_AFTER_REDO="afterRedo",Kt_ZOOM_CHANGED="zoomChanged",Kt_HAND_STARTED="handStarted",Kt_HAND_STOPPED="handStopped",Kt_KEY_DOWN="keydown",Kt_KEY_UP="keyup",Kt_INPUT_BOX_EDITING_STARTED="inputBoxEditingStarted",Kt_INPUT_BOX_EDITING_STOPPED="inputBoxEditingStopped",Kt_FOCUS="focus",Kt_BLUR="blur",ys_COLOR_PICKER_INPUT_BOX=".tui-colorpicker-palette-hex",$r_LOAD_IMAGE="Load",$r_LOAD_MASK_IMAGE="Mask",$r_ADD_IMAGE_OBJECT="Mask",$r_CROP="Crop",$r_RESIZE="Resize",$r_APPLY_FILTER="Filter",$r_REMOVE_FILTER="Filter",$r_CHANGE_SHAPE="Shape",$r_CHANGE_ICON_COLOR="Icon",$r_ADD_TEXT="Text",$r_CHANGE_TEXT_STYLE="Text",$r_REMOVE_OBJECT="Delete",$r_CLEAR_OBJECTS="Delete",qr=po("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),no_TEXT="text",no_CROP="crop",no_RESIZE="resize",no_SHAPE="shape",no_ZOOM="zoom",vl_DEFAULT="normal",vl_ZOOM="zoom",vl_HAND="hand",bo_Z=90,bo_Y=89,bo_C=67,bo_V=86,bo_SHIFT=16,bo_BACKSPACE=8,bo_DEL=46,bo_ARROW_DOWN=40,bo_ARROW_UP=38,bo_SPACE=32,bo_DIGIT_0=48,bo_DIGIT_9=57,yc_SELECTION_STYLE={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},Os_addedObject="The object is already added.",Os_flip="The flipX and flipY setting values are not changed.",Os_invalidParameters="Invalid parameters.",Os_isLock="The executing command state is locked.",Os_loadImage="The background image is empty.",Os_loadingImageFailed="Invalid image loaded.",Os_noObject="The object is not in canvas.",Os_redo="The promise of redo command is reject.",Os_undo="The promise of undo command is reject.",Os_unsupportedOperation="Unsupported operation.",Os_unsupportedType="Unsupported object type.",eg={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},Yv={realTimeEvent:!0,min:-360,max:360,value:0},Gv={min:5,max:30,value:12},ih={realTimeEvent:!0,min:2,max:300,value:3},Xv={realTimeEvent:!0,min:10,max:100,value:50},uo={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},Vh_LEFT=0,Vh_TOP=0,Vh_WIDTH=.5,Vh_HEIGHT=.5,$a={realTimeEvent:!0,min:32,max:4088,value:800},tg="tui-image-editor-",$d=Math.min,qe=Math.max,li=!1,ri=0;function Ti(K){return K.__fe_id||(K.__fe_id=ri+=1),K.__fe_id}function In(K){return"function"==typeof K}function ar(K,R,w){if(R>w){var D=[w,R];R=D[0],w=D[1]}return qe(R,$d(K,w))}function po(){for(var K={},R=arguments.length,w=new Array(R),D=0;D<R;D++)w[D]=arguments[D];return We()(w,function(S){K[S]=S}),K}function ml(K,R){var A,w={},D=R.length,S=0;for(S=0;S<D;S+=1)w[A=R[S]]=K[A];return w}function xi(K){return Vt()(K,10)}function Jo(K){return K.replace(/-([a-z])/g,function(R,w){return w.toUpperCase()})}function bs(){return!!(window.File&&window.FileList&&window.FileReader)}function rf(K,R){var w,D,S,A;4===K.length&&(K=Le()(A="".concat(K)).call(A,F()(K).call(K,1,4)));var G=Vt()(F()(K).call(K,1,3),16),J=Vt()(F()(K).call(K,3,5),16),se=Vt()(F()(K).call(K,5,7),16),ne=R||1;return Le()(w=Le()(D=Le()(S="rgba(".concat(G,", ")).call(S,J,", ")).call(D,se,", ")).call(w,ne,")")}function Th(K){We()(K,function(R,w){K[w]=null})}function ig(){var K,D,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===R.charAt(0)?Le()(D=".".concat(tg).concat(w)).call(D,F()(R).call(R,1)):Le()(K="".concat(tg).concat(w)).call(K,R)}function ua(K,R){K.customProps=K.customProps||{},je()(K.customProps,R)}function id(K,R){var w={};return Jt()(R)&&(R=[R]),We()(R,function(D){w[D]=K.customProps[D]}),w}function as(K,R){return _()(K).call(K,R)>=0}function Gn(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Us()(K,"type")||di.COLOR}function lf(K){var R=Qt()(K);return(void 0===R?{}:R).source?di.FILTER:di.COLOR}function ng(K){return ps()(K.get("type"),Ui)>=0}function eC(K){if(as(Ui,K))return"Shape";switch(K){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return Ls(K)}}function Zy(K){var lt,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=R.useAlpha,D=void 0===w||w,S=R.mode,se=fn.SEPIA2,ne=fn.COLOR_FILTER,fe=fn.REMOVE_WHITE,xe=fn.BLEND;switch(K){case fn.VINTAGE:lt=se;break;case fn.REMOVE_COLOR:lt=D?ne:fe;break;case fn.BLEND_COLOR:lt="add"===S?xe:S;break;default:lt=K}return Ls(lt)}function Ls(K){return K.replace(/[a-z]/,function(R){return R.toUpperCase()})}var HD=po("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),Jy_UN_IMPLEMENTATION="Should implement a method: ",Jy_NO_COMPONENT_NAME="Should set a component name",Ky={UN_IMPLEMENTATION:function(R){return Jy_UN_IMPLEMENTATION+R},NO_COMPONENT_NAME:function(){return Jy_NO_COMPONENT_NAME}},bl={types:je()({},HD),create:function(R){R=R.toLowerCase();for(var w=Ky[R],D=arguments.length,S=new Array(D>1?D-1:0),A=1;A<D;A++)S[A-1]=arguments[A];return w.apply(void 0,S)}},pI=bl.create,tC=bl.types,Zd=function(){function K(R,w){Ne(this,K),this.name=R.name,this.args=w,this.execute=R.execute,this.undo=R.undo,this.executeCallback=R.executeCallback||null,this.undoCallback=R.undoCallback||null,this.undoData={}}return gt(K,[{key:"execute",value:function(){throw new Error(pI(tC.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(pI(tC.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return Zt()(this.undoData).length>0}},{key:"setUndoData",value:function(w,D,S){return D&&(w=D),S?D||(D=w):(je()(this.undoData,w),D=null),D}},{key:"setExecuteCallback",value:function(w){return this.executeCallback=w,this}},{key:"setUndoCallback",value:function(w){return this.undoCallback=w,this}}]),K}(),fI={};var Ao={create:function UD(K){var R=fI[K];if(R){for(var w=arguments.length,D=new Array(w>1?w-1:0),S=1;S<w;S++)D[S-1]=arguments[S];return new Zd(R,D)}return null},register:function VD(K){fI[K.name]=K}},fo=function(){function K(){Ne(this,K),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return gt(K,[{key:"_invokeExecution",value:function(w){var D=this,S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var A=w.args;return A||(A=[]),w.execute.apply(w,ue(A)).then(function(G){return D._isSilent||(D.pushUndoStack(w),D.fire(S?Kt_AFTER_REDO:Kt_EXECUTE_COMMAND,w)),D.unlock(),In(w.executeCallback)&&w.executeCallback(G),G}).catch(function(G){return D.unlock(),Ft().reject(G)})}},{key:"_invokeUndo",value:function(w){var D=this;this.lock();var S=w.args;return S||(S=[]),w.undo.apply(w,ue(S)).then(function(A){return D.pushRedoStack(w),D.fire(Kt_AFTER_UNDO,w),D.unlock(),In(w.undoCallback)&&w.undoCallback(A),A}).catch(function(A){return D.unlock(),Ft().reject(A)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(Kt_REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(Kt_UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var w=this;this._isSilent=!0;for(var D=arguments.length,S=new Array(D),A=0;A<D;A++)S[A]=arguments[A];return this.execute.apply(this,Le()(S).call(S,[this._isSilent])).then(function(){w._isSilent=!1})}},{key:"execute",value:function(){var w=this;if(this._isLocked)return Ft().reject(Os_isLock);for(var D=arguments.length,S=new Array(D),A=0;A<D;A++)S[A]=arguments[A];var G=S[0];return Jt()(G)&&(G=Ao.create.apply(Ao,S)),this._invokeExecution(G).then(function(J){return w.clearRedoStack(),J})}},{key:"undo",value:function(){var D,A,w=this._undoStack.pop(),S="";return w&&this._isLocked&&(this.pushUndoStack(w,!0),w=null),w?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),D=this._invokeUndo(w)):(S=Os_undo,this._isLocked&&(S=Le()(A="".concat(S," Because ")).call(A,Os_isLock)),D=Ft().reject(S)),D}},{key:"redo",value:function(){var D,A,w=this._redoStack.pop(),S="";return w&&this._isLocked&&(this.pushRedoStack(w,!0),w=null),w?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),D=this._invokeExecution(w,!0)):(S=Os_redo,this._isLocked&&(S=Le()(A="".concat(S," Because ")).call(A,Os_isLock)),D=Ft().reject(S)),D}},{key:"pushUndoStack",value:function(w,D){this._undoStack.push(w),D||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(w,D){this._redoStack.push(w),D||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),K}();Ut().mixin(fo);var Co=fo,gI=Ke(5214),Jd=Ke.n(gI),WD=Ke(899),Su=Ke.n(WD),Pn={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},Cl=Ke(2534),Ko=function(){function K(R){Ne(this,K),this.styles=this._changeToObject(je()({},Pn,R)),function nr(K,R){var S=wt(document.getElementsByTagName("head"),1)[0],A=document.createElement("link"),G=encodeURIComponent(K);R&&(A.id=R),A.setAttribute("rel","stylesheet"),A.setAttribute("type","text/css"),A.setAttribute("href","data:text/css;charset=UTF-8,".concat(G)),S.appendChild(A)}(this._styleMaker()),this._loadDefaultSvgIcon()}return gt(K,[{key:"getStyle",value:function(w){var D=null,S=w.replace(/\..+$/,""),A=this.styles[w];switch(w){case"common.bi":D=this.styles[w].image;break;case"menu.icon":D={active:this.styles["".concat(S,".activeIcon")],normal:this.styles["".concat(S,".normalIcon")],hover:this.styles["".concat(S,".hoverIcon")],disabled:this.styles["".concat(S,".disabledIcon")]};break;case"submenu.icon":D={active:this.styles["".concat(S,".activeIcon")],normal:this.styles["".concat(S,".normalIcon")]};break;case"submenu.label":D={active:this._makeCssText(this.styles["".concat(S,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(S,".normalLabel")])};break;case"submenu.partition":D={vertical:this._makeCssText(je()({},A,{borderLeft:"1px solid ".concat(A.color)})),horizontal:this._makeCssText(je()({},A,{borderBottom:"1px solid ".concat(A.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":A.backgroundColor=A.color,D=this._makeCssText(A);break;default:D=this._makeCssText(A)}return D}},{key:"_styleMaker",value:function(){var w=this.getStyle("submenu.label"),D=this.getStyle("submenu.partition");return function(K){var R,w,D,S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt,gi,Tn,Hn,Xn,ki,gs,Ta,Dl,Ec,So,yd,Ac,hh,Rg=K.subMenuLabelActive,Mf=K.subMenuLabelNormal,mp=K.subMenuRangeTitle,zg=K.submenuPartitionVertical,Pm=K.submenuPartitionHorizontal,_m=K.submenuCheckbox,Fu=K.submenuRangePointer,bd=K.submenuRangeValue,Rm=K.submenuColorpickerTitle,z0=K.submenuColorpickerButton,Bg=K.submenuRangeBar,zm=K.submenuRangeSubbar,Fg=K.submenuDisabledRangePointer,jg=K.submenuDisabledRangeBar,Bm=K.submenuDisabledRangeSubbar,Fm=K.submenuIconSize,yp=K.menuIconSize,Hg=K.biSize,Oc=K.menuIconStyle,Cd=K.submenuIconStyle;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe=Le()(xe=Le()(lt=Le()(vt=Le()(kt=Le()(It=Le()(Nt=Le()(gi=Le()(Tn=Le()(Hn=Le()(Xn=Le()(ki=Le()(gs=Le()(Ta=Le()(Dl=Le()(Ec=Le()(So=Le()(yd=Le()(Ac=Le()(hh='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(Rg,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(hh,Mf,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(Ac,mp,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(yd,zg,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(So,Pm,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(Ec,_m,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(Dl,Fu,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(Ta,Bg,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(gs,zm,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(ki,Fg,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(Xn,Bm,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(Hn,jg,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(Tn,bd,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(gi,Rm,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(Nt,z0,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(It,yp,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(kt,Fm,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(vt,Hg,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(lt,Oc.normal.color,";\n        stroke: ")).call(xe,Oc.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(fe,Oc.active.color,";\n        stroke: ")).call(ne,Oc.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(se,Oc.hover.color,";\n        stroke: ")).call(J,Oc.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(G,Oc.disabled.color,";\n        stroke: ")).call(A,Oc.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(S,Cd.normal.color,";\n        stroke: ")).call(D,Cd.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(w,Cd.active.color,";\n        stroke: ")).call(R,Cd.active.color,";\n    }\n")}({subMenuLabelActive:w.active,subMenuLabelNormal:w.normal,submenuPartitionVertical:D.vertical,submenuPartitionHorizontal:D.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(w){var D={};return We()(w,function(S,A){var J=wt(A.match(/^(.+)\.([a-z]+)$/i),3),se=J[1],ne=J[2];D[se]||(D[se]={}),D[se][ne]=S}),D}},{key:"_makeCssText",value:function(w){var D=this,S=[];return We()(w,function(A,G){var J,se;_()(J=["backgroundImage"]).call(J,G)>-1&&"none"!==A&&(A="url(".concat(A,")")),S.push(Le()(se="".concat(D._toUnderScore(G),": ")).call(se,A))}),S.join(";")}},{key:"_toUnderScore",value:function(w){return w.replace(/([A-Z])/g,function(D,S){return"-".concat(S.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var w=new DOMParser,D=Cl.replace(/data:image\/svg\+xml;base64,/,""),S=w.parseFromString(atob(D),"text/xml");document.body.appendChild(S.documentElement)}}},{key:"_makeIconClassName",value:function(w,D){var A=this.getStyle(D?"submenu.icon":"menu.icon")[w];return A.path&&A.name?w:"".concat(w," use-default")}},{key:"_makeSvgIconPrefix",value:function(w,D){var S,G=this.getStyle(D?"submenu.icon":"menu.icon")[w],J=G.path,se=G.name;return J&&se?Le()(S="".concat(J,"#")).call(S,se,"-"):"#"}},{key:"_makeSvgItem",value:function(w,D,S){var A=this;return Su()(w).call(w,function(G){var J,se,ne=A._makeSvgIconPrefix(G,S),fe=A._toUnderScore(D),xe=A._makeIconClassName(G,S);return Le()(J=Le()(se='<use xlink:href="'.concat(ne,"ic-")).call(se,fe,'" class="')).call(J,xe,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(w,D){var S,A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Le()(S='<svg class="svg_ic-'.concat(A?"submenu":"menu",'">')).call(S,this._makeSvgItem(w,D,A),"</svg>")}}]),K}(),nd=Ko,nC=Ke(9146),oi=Ke.n(nC),Yh=Ke(6623),hf=Ke(4230);function Kd(K,R){return(Kd=hf||function(D,S){return D.__proto__=S,D})(K,R)}function ls(K,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");K.prototype=Yh(R&&R.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),R&&Kd(K,R)}var e0=Ke(3742);function sg(K){return(sg="function"==typeof z&&"symbol"==typeof e0?function(w){return typeof w}:function(w){return w&&"function"==typeof z&&w.constructor===z&&w!==z.prototype?"symbol":typeof w})(K)}function yn(K){if(void 0===K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function pr(K,R){if(R&&("object"===sg(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return yn(K)}var t0=Ke(9856);function Wi(K){return(Wi=hf?t0:function(w){return w.__proto__||t0(w)})(K)}var rC=Ke(6092),og=Ke.n(rC),fs=Ke(4858),n0=Ke.n(fs),sC=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],ro=function(){function K(R,w){var D=w.defaultColor,S=void 0===D?"#7e7e7e":D,A=w.toggleDirection,G=void 0===A?"up":A,J=w.usageStatistics;Ne(this,K),this.colorpickerElement=R,this.usageStatistics=J,this._show=!1,this._colorpickerElement=R,this._toggleDirection=G,this._makePickerButtonElement(S),this._makePickerLayerElement(R,R.getAttribute("title")),this._color=S,this.picker=n0().create({container:this.pickerElement,preset:sC,color:S,usageStatistics:this.usageStatistics}),this._addEvent()}return gt(K,[{key:"destroy",value:function(){var w=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",We()(this,function(D,S){w[S]=null})}},{key:"color",get:function(){return this._color},set:function(w){this._color=w,this._changeColorElement(w)}},{key:"_changeColorElement",value:function(w){w?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=w):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(w){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",w?this.colorElement.style.backgroundColor=w:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(w,D){var S=document.createElement("label"),A=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",S.innerHTML=D,A.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(A),w.appendChild(this.pickerControl),w.appendChild(this.colorElement),w.appendChild(S)}},{key:"_addEvent",value:function(){var D,w=this;this.picker.on("selectColor",function(S){w._changeColorElement(S.color),w._color=S.color,w.fire("change",S.color)}),this.eventHandler={pickerToggle:ot()(D=this._pickerToggleEventHandler).call(D,this),pickerHide:function(){return w.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(w){var D=w.target,S=D&&this._isElementInColorPickerControl(D);(!S||S&&this._isPaletteButton(D))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),w.stopPropagation()}},{key:"_isPaletteButton",value:function(w){return"tui-colorpicker-palette-button"===w.className}},{key:"_isElementInColorPickerControl",value:function(w){for(var D=w;D!==document.body&&D;){if(D===this.pickerControl)return!0;D=D.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var w=this.pickerControl.style,S=this.pickerControl.offsetWidth/2-(this._colorpickerElement.clientWidth/2+2),A=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(A=30),w.top="".concat(A,"px"),w.left="-".concat(S,"px")}}]),K}();Ut().mixin(ro);var rl=ro,Qv=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,$v=function(){function K(R){var w,D,S,A,G,J,se,ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne(this,K),this._value=ne.value||0,this.rangeElement=R.slider,this.rangeInputElement=R.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=ne.min||0,this._max=ne.max||100,this._useDecimal=ne.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=ne.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:ot()(w=this._startChangingSlide).call(w,this),stopChangingSlide:ot()(D=this._stopChangingSlide).call(D,this),changeSlide:ot()(S=this._changeSlide).call(S,this),changeSlideFinally:ot()(A=this._changeSlideFinally).call(A,this),changeInput:ot()(G=this._changeInput).call(G,this),changeInputFinally:ot()(J=this._changeValueWithInput).call(J,this,!0),changeInputWithArrow:ot()(se=this._changeValueWithInputKeyEvent).call(se,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=ne.value,this.trigger("change")}return gt(K,[{key:"destroy",value:function(){var w=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",We()(this,function(D,S){w[S]=null})}},{key:"max",get:function(){return this._max},set:function(w){this._max=w,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(w){this._min=w,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(w){var S=((w=this._useDecimal?w:xi(w))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<S&&(S=this.rangeWidth),this.pointer.style.left="".concat(S,"px"),this.subbar.style.right="".concat(this.rangeWidth-S,"px"),this._value=w,this.rangeInputElement&&(this.rangeInputElement.value=w)}},{key:"trigger",value:function(w){this.fire(w,this._value)}},{key:"_getRangeWidth",value:function(){var w=function(S){return xi(window.getComputedStyle(S,null).width)};return w(this.rangeElement)-w(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(w){var D,S=w.keyCode,A=w.target;if(!(_()(D=[bo_ARROW_UP,bo_ARROW_DOWN]).call(D,S)<0)){var G=Number(A.value);if(!((G=this._valueUpDownForKeyEvent(G,S))<this._min||G>this._max)){var se=ar(G,this._min,this.max);this.value=se,this.fire("change",se,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(w,D){var S=this._useDecimal?.1:1;return D===bo_ARROW_UP?w+=S:D===bo_ARROW_DOWN&&(w-=S),w}},{key:"_changeInput",value:function(w){var D=this;clearTimeout(this._userInputTimer);var S=w.keyCode;S<bo_DIGIT_0||S>bo_DIGIT_9?w.preventDefault():this._userInputTimer=y()(function(){D._inputSetValue(w.target.value)},350)}},{key:"_inputSetValue",value:function(w){var D=this._useDecimal?Number(w):xi(w);D=ar(D,this._min,this.max),this.value=D,this.fire("change",D,!0)}},{key:"_changeValueWithInput",value:function(w,D){var S,A=D.keyCode,G=D.target;if(!(_()(S=[bo_ARROW_UP,bo_ARROW_DOWN]).call(S,A)>=0)){var J=this._filterForInputText(G.value),se=!J||isNaN(J);G.value=J,se||this._inputSetValue(J)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(w){var A=this.firstLeft+(w.screenX-this.firstPosition);this.pointer.style.left="".concat(A=(A=A>this.rangeWidth?this.rangeWidth:A)<0?0:A,"px"),this.subbar.style.right="".concat(this.rangeWidth-A,"px");var J=this._absMax*(A/this.rangeWidth)+this._min,se=this._useDecimal?J:xi(J);this.value!==se&&(this.value=se,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(w){if(w.stopPropagation(),"tui-image-editor-range"===w.target.className){var S=w.offsetX/this.rangeWidth,A=this._absMax*S+this._min;this.pointer.style.left="".concat(S*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-S)*this.rangeWidth,"px"),this.value=A,this.fire("change",A,!0)}}},{key:"_startChangingSlide",value:function(w){this.firstPosition=w.screenX,this.firstLeft=xi(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(w){return w.replace(Qv,"$1$2$3")}}]),K}();Ut().mixin($v);var nh=$v,qv=function(){function K(R,w){var D=w.locale,S=w.name,A=w.makeSvgIcon,G=w.menuBarPosition,J=w.templateHtml,se=w.usageStatistics;Ne(this,K),this.subMenuElement=R,this.menuBarPosition=G,this.toggleDirection="top"===G?"down":"up",this.colorPickerControls=[],this.usageStatistics=se,this.eventHandler={},this._makeSubMenuElement({locale:D,name:S,makeSvgIcon:A,templateHtml:J})}return gt(K,[{key:"selector",value:function(w){return this.subMenuElement.querySelector(w)}},{key:"colorPickerChangeShow",value:function(w){var D;Zi()(D=this.colorPickerControls).call(D,function(S){w!==S&&S.hide()})}},{key:"getButtonType",value:function(w,D){return w.className.match(RegExp("(".concat(D.join("|"),")")))[0]}},{key:"changeClass",value:function(w,D,S){w.classList.remove(D),w.classList.add(S)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(w){var D=w.locale,S=w.name,A=w.iconStyle,G=w.makeSvgIcon,J=w.templateHtml,se=document.createElement("div");se.className="tui-image-editor-menu-".concat(S),se.innerHTML=J({locale:D,iconStyle:A,makeSvgIcon:G}),this.subMenuElement.appendChild(se)}},{key:"_onStartEditingInputBox",value:function(){this.fire(Kt_INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(Kt_INPUT_BOX_EDITING_STOPPED)}}]),K}();Ut().mixin(qv);var wu=qv,YD=function(K){var R,w,D,S,A,G,J,se,ne=K.locale,fe=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(fe(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(se,ne.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(J,fe(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(G,ne.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(A,fe(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(S,ne.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(D,ne.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(w,ne.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(R,ne.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function mI(K){var R=function r0(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var ag={stroke:"#ffbb3b",fill:"",strokeWidth:3},Zv=function(K){ls(w,K);var R=mI(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"shape",makeSvgIcon:J,menuBarPosition:se,templateHtml:YD,usageStatistics:ne})).type=null,A.options=ag,A._els={shapeSelectButton:A.selector(".tie-shape-button"),shapeColorButton:A.selector(".tie-shape-color-button"),strokeRange:new nh({slider:A.selector(".tie-stroke-range"),input:A.selector(".tie-stroke-range-value")},ih),fillColorpicker:new rl(A.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:A.toggleDirection,usageStatistics:A.usageStatistics}),strokeColorpicker:new rl(A.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:A.toggleDirection,usageStatistics:A.usageStatistics})},A.colorPickerControls.push(A._els.fillColorpicker),A.colorPickerControls.push(A._els.strokeColorpicker),A.colorPickerInputBoxes=[],A.colorPickerInputBoxes.push(A._els.fillColorpicker.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX)),A.colorPickerInputBoxes.push(A._els.strokeColorpicker.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX)),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se,ne,fe,xe=this;this.eventHandler.shapeTypeSelected=ot()(A=this._changeShapeHandler).call(A,this),this.actions=S,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",ot()(G=this._changeStrokeRangeHandler).call(G,this)),this._els.fillColorpicker.on("change",ot()(J=this._changeFillColorHandler).call(J,this)),this._els.strokeColorpicker.on("change",ot()(se=this._changeStrokeColorHandler).call(se,this)),this._els.fillColorpicker.on("changeShow",ot()(ne=this.colorPickerChangeShow).call(ne,this)),this._els.strokeColorpicker.on("changeShow",ot()(fe=this.colorPickerChangeShow).call(fe,this)),og()(this.colorPickerInputBoxes,function(lt){var vt,kt;lt.addEventListener(Kt_FOCUS,ot()(vt=xe._onStartEditingInputBox).call(vt,xe)),lt.addEventListener(Kt_BLUR,ot()(kt=xe._onStopEditingInputBox).call(kt,xe))},this)}},{key:"_removeEvent",value:function(){var S=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),og()(this.colorPickerInputBoxes,function(A){var G,J;A.removeEventListener(Kt_FOCUS,ot()(G=S._onStartEditingInputBox).call(G,S)),A.removeEventListener(Kt_BLUR,ot()(J=S._onStopEditingInputBox).call(J,S))},this)}},{key:"setShapeStatus",value:function(S){var A=S.strokeWidth,G=S.strokeColor,J=S.fillColor;this._els.strokeRange.value=A,this._els.strokeColorpicker.color=G,this._els.fillColorpicker.color=J,this.options.stroke=G,this.options.fill=J,this.options.strokeWidth=A,this.actions.setDrawingShape(this.type,{strokeWidth:A})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(S){var A=S;A<=0&&(A=ih.max),this._els.strokeRange.max=A}},{key:"setStrokeValue",value:function(S){this._els.strokeRange.value=S,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(S){var A=S.target.closest(".tui-image-editor-button");if(A){this.actions.stopDrawingMode(),this.actions.discardSelection();var G=this.getButtonType(A,["circle","triangle","rect"]);if(this.type===G)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=G,S.currentTarget.classList.add(G),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(S,A){this.options.strokeWidth=xi(S),this.actions.changeShape({strokeWidth:S},!A),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(S){this.options.fill=S=S||"transparent",this.actions.changeShape({fill:S})}},{key:"_changeStrokeColorHandler",value:function(S){this.options.stroke=S=S||"transparent",this.actions.changeShape({stroke:S})}}]),w}(wu),hg=function(K){var R,w,D,S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt,gi,Tn=K.locale,Hn=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe=Le()(xe=Le()(lt=Le()(vt=Le()(kt=Le()(It=Le()(Nt=Le()(gi='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(Hn(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(gi,Tn.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(Nt,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(It,Tn.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(kt,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(vt,Tn.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(lt,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(xe,Tn.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(fe,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(ne,Tn.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(se,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(J,Tn.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(G,Hn(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(A,Tn.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(S,Hn(["normal","active"],"apply"),"\n                <label>\n                    ")).call(D,Tn.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(w,Hn(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(R,Tn.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function s0(K){var R=function o0(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var oC=function(K){ls(w,K);var R=s0(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"crop",makeSvgIcon:J,menuBarPosition:se,templateHtml:hg,usageStatistics:ne})).status="active",A._els={apply:A.selector(".tie-crop-button .apply"),cancel:A.selector(".tie-crop-button .cancel"),preset:A.selector(".tie-crop-preset-button")},A.defaultPresetButton=A._els.preset.querySelector(".preset-none"),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se=ot()(A=this._applyEventHandler).call(A,this),ne=ot()(G=this._cancelEventHandler).call(G,this),fe=ot()(J=this._cropzonePresetEventHandler).call(J,this);this.eventHandler={apply:se,cancel:ne,cropzonePreset:fe},this.actions=S,this._els.apply.addEventListener("click",se),this._els.cancel.addEventListener("click",ne),this._els.preset.addEventListener("click",fe)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(S){var A=S.target.closest(".tui-image-editor-button.preset");if(A){var se=wt(A.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(A),this.actions.preset(se)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(S){S?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;We()(this._els.preset.querySelectorAll(".preset"),function(A){A.classList.remove("active")}),S&&S.classList.add("active")}}]),w}(wu),aC=oC,rd=function(K){var R,w,D,S,A,G,J=K.locale,se=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(J.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(G,J.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(A,J.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(S,se(["normal","active"],"apply"),"\n                <label>\n                    ")).call(D,J.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(w,se(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(R,J.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function a0(K){var R=function sd(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var lC=function(K){ls(w,K);var R=a0(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"resize",makeSvgIcon:J,menuBarPosition:se,templateHtml:rd,usageStatistics:ne})).status="active",A._lockState=!1,A._originalDimensions=null,A._els={widthRange:new nh({slider:A.selector(".tie-width-range"),input:A.selector(".tie-width-range-value")},$a),heightRange:new nh({slider:A.selector(".tie-height-range"),input:A.selector(".tie-height-range-value")},$a),lockAspectRatio:A.selector(".tie-lock-aspect-ratio"),apply:A.selector(".tie-resize-button .apply"),cancel:A.selector(".tie-resize-button .cancel")},A}return gt(w,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var S=this.actions.getCurrentDimensions();this._originalDimensions=S,this.setWidthValue(S.width),this.setHeightValue(S.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(S){this._els.widthRange.min=this.calcMinValue(S.minWidth),this._els.heightRange.min=this.calcMinValue(S.minHeight),this._els.widthRange.max=this.calcMaxValue(S.maxWidth),this._els.heightRange.max=this.calcMaxValue(S.maxHeight)}},{key:"calcMaxValue",value:function(S){return S<=0&&(S=$a.max),S}},{key:"calcMinValue",value:function(S){return S<=0&&(S=$a.min),S}},{key:"setWidthValue",value:function(S){var A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=S,A&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(S){var A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=S,A&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se,ne;this._els.widthRange.on("change",ot()(A=this._changeWidthRangeHandler).call(A,this)),this._els.heightRange.on("change",ot()(G=this._changeHeightRangeHandler).call(G,this)),this._els.lockAspectRatio.addEventListener("change",ot()(J=this._changeLockAspectRatio).call(J,this));var fe=ot()(se=this._applyEventHandler).call(se,this),xe=ot()(ne=this._cancelEventHandler).call(ne,this);this.eventHandler={apply:fe,cancel:xe},this.actions=S,this._els.apply.addEventListener("click",fe),this._els.cancel.addEventListener("click",xe)}},{key:"_changeWidthRangeHandler",value:function(S){this.actions.preview("width",xi(S),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(S){this.actions.preview("height",xi(S),this._lockState)}},{key:"_changeLockAspectRatio",value:function(S){this._lockState=S.target.checked,this.actions.lockAspectRatio(this._lockState,$a.min,$a.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(S){S?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),w}(wu),vn=lC,Jv=function(K){var R,w,D,S,A,G=K.locale,J=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(J(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(A,G.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(S,J(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(D,G.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(w,J(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(R,G.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function cn(K){var R=function cg(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var ug=function(K){ls(w,K);var R=cn(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"flip",makeSvgIcon:J,menuBarPosition:se,templateHtml:Jv,usageStatistics:ne})).flipStatus=!1,A._els={flipButton:A.selector(".tie-flip-button")},A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),Th(this)}},{key:"addEvent",value:function(S){var A;this.eventHandler.changeFlip=ot()(A=this._changeFlip).call(A,this),this._actions=S,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(S){var A=this,G=S.target.closest(".tui-image-editor-button");if(G){var J=this.getButtonType(G,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===J)return;this._actions.flip(J).then(function(se){var ne=A._els.flipButton.classList;A.flipStatus=!1,ne.remove("resetFlip"),We()(["flipX","flipY"],function(fe){ne.remove(fe),se[fe]&&(ne.add(fe),ne.add("resetFlip"),A.flipStatus=!0)})})}}}]),w}(wu),yI=function(K){var R,w,D=K.locale,S=K.makeSvgIcon;return Le()(R=Le()(w='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(S(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(w,S(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(R,D.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function bI(K){var R=function CI(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Xc=function(K){ls(w,K);var R=bI(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"rotate",makeSvgIcon:J,menuBarPosition:se,templateHtml:yI,usageStatistics:ne}))._value=0,A._els={rotateButton:A.selector(".tie-rotate-button"),rotateRange:new nh({slider:A.selector(".tie-rotate-range"),input:A.selector(".tie-rotate-range-value")},Yv)},A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Th(this)}},{key:"setRangeBarAngle",value:function(S,A){var G=A;"rotate"===S&&(G=Vt()(this._els.rotateRange.value,10)+A),this._setRangeBarRatio(G)}},{key:"_setRangeBarRatio",value:function(S){this._els.rotateRange.value=S}},{key:"addEvent",value:function(S){var A,G;this.eventHandler.rotationAngleChanged=ot()(A=this._changeRotateForButton).call(A,this),this.actions=S,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",ot()(G=this._changeRotateForRange).call(G,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(S,A){var G=xi(S);this.actions.setAngle(G,!A),this._value=G}},{key:"_changeRotateForButton",value:function(S){var A=S.target.closest(".tui-image-editor-button"),G=this._els.rotateRange.value;if(A){var se={clockwise:30,counterclockwise:-30}[this.getButtonType(A,["counterclockwise","clockwise"])],ne=Vt()(G,10)+se;ne>=-360&&ne<=360&&this.actions.rotate(se)}}}]),w}(wu),hs=function(K){var R,w,D,S,A,G,J,se,ne,fe,xe,lt,vt,kt=K.locale,It=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe=Le()(xe=Le()(lt=Le()(vt='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '.concat(It(["normal","active"],"text-bold",!0),"\n                </div>\n                <label> ")).call(vt,kt.localize("Bold"),' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    ')).call(lt,It(["normal","active"],"text-italic",!0),"\n                </div>\n                <label> ")).call(xe,kt.localize("Italic"),' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    ')).call(fe,It(["normal","active"],"text-underline",!0),"\n                </div>\n                <label> ")).call(ne,kt.localize("Underline"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    ')).call(se,It(["normal","active"],"text-align-left",!0),"\n                </div>\n                <label> ")).call(J,kt.localize("Left"),' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    ')).call(G,It(["normal","active"],"text-align-center",!0),"\n                </div>\n                <label> ")).call(A,kt.localize("Center"),' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    ')).call(S,It(["normal","active"],"text-align-right",!0),"\n                </div>\n                <label> ")).call(D,kt.localize("Right"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="')).call(w,kt.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(R,kt.localize("Text size"),'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function dg(K){var R=function Qc(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var cf=function(K){ls(w,K);var R=dg(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"text",makeSvgIcon:J,menuBarPosition:se,templateHtml:hs,usageStatistics:ne})).effect={bold:!1,italic:!1,underline:!1},A.align="tie-text-align-left",A._els={textEffectButton:A.selector(".tie-text-effect-button"),textAlignButton:A.selector(".tie-text-align-button"),textColorpicker:new rl(A.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:A.toggleDirection,usageStatistics:A.usageStatistics}),textRange:new nh({slider:A.selector(".tie-text-range"),input:A.selector(".tie-text-range-value")},Xv)},A.colorPickerInputBox=A._els.textColorpicker.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se,ne,fe,xe=ot()(A=this._setTextEffectHandler).call(A,this),lt=ot()(G=this._setTextAlignHandler).call(G,this);this.eventHandler={setTextEffect:xe,setTextAlign:lt},this.actions=S,this._els.textEffectButton.addEventListener("click",xe),this._els.textAlignButton.addEventListener("click",lt),this._els.textRange.on("change",ot()(J=this._changeTextRnageHandler).call(J,this)),this._els.textColorpicker.on("change",ot()(se=this._changeColorHandler).call(se,this)),this.colorPickerInputBox.addEventListener(Kt_FOCUS,ot()(ne=this._onStartEditingInputBox).call(ne,this)),this.colorPickerInputBox.addEventListener(Kt_BLUR,ot()(fe=this._onStopEditingInputBox).call(fe,this))}},{key:"_removeEvent",value:function(){var S,A,G=this.eventHandler,se=G.setTextAlign;this._els.textEffectButton.removeEventListener("click",G.setTextEffect),this._els.textAlignButton.removeEventListener("click",se),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(Kt_FOCUS,ot()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener(Kt_BLUR,ot()(A=this._onStopEditingInputBox).call(A,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(S){this._els.textColorpicker.color=S}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(S){this._els.textRange.value=S}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=Qt()(S),G=S.fontSize,J=S.fontStyle,se=S.fontWeight,ne=S.textDecoration,fe=S.textAlign;this.textColor=A,this.fontSize=G,this.setEffectState("italic",J),this.setEffectState("bold",se),this.setEffectState("underline",ne),this.setAlignState("tie-text-align-".concat(fe))}},{key:"setEffectState",value:function(S,A){var G="italic"===A||"bold"===A||"underline"===A,J=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(S));this.effect[S]=G,J.classList[G?"add":"remove"]("active")}},{key:"setAlignState",value:function(S){var A=this._els.textAlignButton;A.classList.remove(this.align),A.classList.add(S),this.align=S}},{key:"_setTextEffectHandler",value:function(S){var A=S.target.closest(".tui-image-editor-button");if(A){var se=wt(A.className.match(/(bold|italic|underline)/),1)[0],ne={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[se];this.effect[se]=!this.effect[se],A.classList.toggle("active"),this.actions.changeTextStyle(ne)}}},{key:"_setTextAlignHandler",value:function(S){var A=S.target.closest(".tui-image-editor-button");if(A){var G=this.getButtonType(A,["left","center","right"]),J="tie-text-align-".concat(G);S.currentTarget.classList.remove(this.align),this.align!==J&&S.currentTarget.classList.add(J),this.actions.changeTextStyle({textAlign:G}),this.align=J}}},{key:"_changeTextRnageHandler",value:function(S,A){this.actions.changeTextStyle({fontSize:S},!A)}},{key:"_changeColorHandler",value:function(S){this.actions.changeTextStyle({fill:S=S||"transparent"})}}]),w}(wu),hC=cf,xu=function(K){var R,w,D,S=K.locale,A=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(A(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(D,S.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(w,A(["normal","active"],"apply"),"\n                <label>\n                    ")).call(R,S.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function pg(K){var R=function ep(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var em=function(K){ls(w,K);var R=pg(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"mask",makeSvgIcon:J,menuBarPosition:se,templateHtml:xu,usageStatistics:ne}))._els={applyButton:A.selector(".tie-mask-apply"),maskImageButton:A.selector(".tie-mask-image-file")},A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J=ot()(A=this._loadMaskFile).call(A,this),se=ot()(G=this._applyMask).call(G,this);this.eventHandler={loadMaskFile:J,applyMask:se},this.actions=S,this._els.maskImageButton.addEventListener("change",J),this._els.applyButton.addEventListener("click",se)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(S){var A;bs()||alert("This browser does not support file-api");var J=wt(S.target.files,1)[0];J&&(A=ht().createObjectURL(J),this.actions.loadImageFromURL(A,J),this._els.applyButton.classList.add("active"))}}]),w}(wu),cC=function(K){var R,w,D,S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt,gi,Tn,Hn,Xn,ki=K.locale,gs=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe=Le()(xe=Le()(lt=Le()(vt=Le()(kt=Le()(It=Le()(Nt=Le()(gi=Le()(Tn=Le()(Hn=Le()(Xn='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(gs(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(Xn,ki.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(Hn,gs(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(Tn,ki.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(gi,gs(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(Nt,ki.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(It,gs(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(kt,ki.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(vt,gs(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(lt,ki.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(xe,gs(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(fe,ki.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(ne,gs(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(se,ki.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(J,gs(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(G,ki.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(A,gs(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(S,ki.localize("Bubble"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    ')).call(D,gs(["normal","active"],"icon-load",!0),"\n                </div>\n                <label>\n                    ")).call(w,ki.localize("Custom icon"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="')).call(R,ki.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function uC(K){var R=function fg(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var pC=function(K){ls(w,K);var R=uC(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"icon",makeSvgIcon:J,menuBarPosition:se,templateHtml:cC,usageStatistics:ne})).iconType=null,A._iconMap={},A._els={registerIconButton:A.selector(".tie-icon-image-file"),addIconButton:A.selector(".tie-icon-add-button"),iconColorpicker:new rl(A.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:A.toggleDirection,usageStatistics:A.usageStatistics})},A.colorPickerInputBox=A._els.iconColorpicker.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se,ne,fe=ot()(A=this._registerIconHandler).call(A,this),xe=ot()(G=this._addIconHandler).call(G,this);this.eventHandler={registerIcon:fe,addIcon:xe},this.actions=S,this._els.iconColorpicker.on("change",ot()(J=this._changeColorHandler).call(J,this)),this._els.registerIconButton.addEventListener("change",fe),this._els.addIconButton.addEventListener("click",xe),this.colorPickerInputBox.addEventListener(Kt_FOCUS,ot()(se=this._onStartEditingInputBox).call(se,this)),this.colorPickerInputBox.addEventListener(Kt_BLUR,ot()(ne=this._onStopEditingInputBox).call(ne,this))}},{key:"_removeEvent",value:function(){var S,A;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(Kt_FOCUS,ot()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener(Kt_BLUR,ot()(A=this._onStopEditingInputBox).call(A,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var S=this;We()(eg,function(A,G){S.actions.registerDefaultIcons(G,A)})}},{key:"setIconPickerColor",value:function(S){this._els.iconColorpicker.color=S}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(S){this.actions.changeColor(S=S||"transparent")}},{key:"_addIconHandler",value:function(S){var A=S.target.closest(".tui-image-editor-button");if(A){var G=A.getAttribute("data-icontype"),J=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(G),this.iconType===G?this.changeStandbyMode():(this.actions.addIcon(G,J),this.iconType=G)}}},{key:"_registerIconHandler",value:function(S){var A;bs||alert("This browser does not support file-api");var J=wt(S.target.files,1)[0];J&&(A=ht().createObjectURL(J),this.actions.registerCustomIcon(A,J))}}]),w}(wu),tm=function(K){var R,w,D,S,A,G=K.locale,J=K.makeSvgIcon;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(J(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(A,G.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(S,J(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(D,G.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(w,G.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(R,G.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function At(K){var R=function hi(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var vr=function(K){ls(w,K);var R=At(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon,se=S.menuBarPosition,ne=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"draw",makeSvgIcon:J,menuBarPosition:se,templateHtml:tm,usageStatistics:ne}))._els={lineSelectButton:A.selector(".tie-draw-line-select-button"),drawColorPicker:new rl(A.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:A.toggleDirection,usageStatistics:A.usageStatistics}),drawRange:new nh({slider:A.selector(".tie-draw-range"),input:A.selector(".tie-draw-range-value")},Gv)},A.type=null,A.color=A._els.drawColorPicker.color,A.width=A._els.drawRange.value,A.colorPickerInputBox=A._els.drawColorPicker.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Th(this)}},{key:"addEvent",value:function(S){var A,G,J,se,ne;this.eventHandler.changeDrawType=ot()(A=this._changeDrawType).call(A,this),this.actions=S,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",ot()(G=this._changeDrawColor).call(G,this)),this._els.drawRange.on("change",ot()(J=this._changeDrawRange).call(J,this)),this.colorPickerInputBox.addEventListener(Kt_FOCUS,ot()(se=this._onStartEditingInputBox).call(se,this)),this.colorPickerInputBox.addEventListener(Kt_BLUR,ot()(ne=this._onStopEditingInputBox).call(ne,this))}},{key:"_removeEvent",value:function(){var S,A;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(Kt_FOCUS,ot()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener(Kt_BLUR,ot()(A=this._onStopEditingInputBox).call(A,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:rf(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(S){var A=S.target.closest(".tui-image-editor-button");if(A){var G=this.getButtonType(A,["free","line"]);if(this.actions.discardSelection(),this.type===G)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=G,this._els.lineSelectButton.classList.add(G),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(S){this.color=S||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(S){this.width=S,this.type?this.setDrawMode():this.changeStartMode()}}]),w}(wu),Cs=Ke(9886),Ma=Ke.n(Cs),so=function(K){var R,w,D,S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt,gi=K.locale;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe=Le()(xe=Le()(lt=Le()(vt=Le()(kt=Le()(It=Le()(Nt='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(gi.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(Nt,gi.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(It,gi.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(kt,gi.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(vt,gi.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(lt,gi.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(xe,gi.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(fe,gi.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(ne,gi.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(se,gi.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(J,gi.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(G,gi.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(A,gi.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(S,gi.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(D,gi.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(w,gi.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(R,gi.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function l0(K){var R=function SI(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var im=["add","diff","subtract","multiply","screen","lighten","darken"],fC=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],uf={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Rs=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],gg=["filterBlendColor","filterMultiplyColor","filterTintColor"],Vs=function(K){ls(w,K);var R=l0(w);function w(D,S){var A,G=S.locale,J=S.menuBarPosition,se=S.usageStatistics;return Ne(this,w),(A=R.call(this,D,{locale:G,name:"filter",menuBarPosition:J,templateHtml:so,usageStatistics:se})).selectBoxShow=!1,A.checkedMap={},A._makeControlElement(),A}return gt(w,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Th(this)}},{key:"_removeEvent",value:function(){var A,S=this;We()(fC,function(G){var J=S.selector(".tie-".concat(G)),se=Jo(G);J.removeEventListener("change",S.eventHandler[se])}),We()(Le()(A=[]).call(A,Rs,gg),function(G){S._els[G].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),og()(this.colorPickerInputBoxes,function(G){var J,se;G.removeEventListener(Kt_FOCUS,ot()(J=S._onStartEditingInputBox).call(J,S)),G.removeEventListener(Kt_BLUR,ot()(se=S._onStopEditingInputBox).call(se,S))},this)}},{key:"_destroyToolInstance",value:function(){var S,A=this;We()(Le()(S=[]).call(S,Rs,gg),function(G){A._els[G].destroy()})}},{key:"addEvent",value:function(S){var G,J,se,A=this,ne=S.applyFilter,fe=function(vt){var kt;return ot()(kt=A._changeFilterState).call(kt,A,ne,vt)},xe=function(vt){return function(kt,It){return A._changeFilterState(ne,vt,It)}};this.eventHandler={changeBlendFilter:fe("blend"),blandTypeClick:function(vt){return vt.stopPropagation()}},We()(fC,function(lt){var vt=A.selector(".tie-".concat(lt)),kt=Jo(lt);A.checkedMap[kt]=vt,A.eventHandler[kt]=fe(kt),vt.addEventListener("change",A.eventHandler[kt])}),this._els.removewhiteDistanceRange.on("change",xe("removeWhite")),this._els.colorfilterThresholdRange.on("change",xe("colorFilter")),this._els.pixelateRange.on("change",xe("pixelate")),this._els.noiseRange.on("change",xe("noise")),this._els.brightnessRange.on("change",xe("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",fe("multiply")),this._els.filterTintColor.on("change",fe("tint")),this._els.tintOpacity.on("change",xe("tint")),this._els.filterMultiplyColor.on("changeShow",ot()(G=this.colorPickerChangeShow).call(G,this)),this._els.filterTintColor.on("changeShow",ot()(J=this.colorPickerChangeShow).call(J,this)),this._els.filterBlendColor.on("changeShow",ot()(se=this.colorPickerChangeShow).call(se,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),og()(this.colorPickerInputBoxes,function(lt){var vt,kt;lt.addEventListener(Kt_FOCUS,ot()(vt=A._onStartEditingInputBox).call(vt,A)),lt.addEventListener(Kt_BLUR,ot()(kt=A._onStopEditingInputBox).call(kt,A))},this)}},{key:"setFilterState",value:function(S){var G=S.options,J=S.action,se=this._getFilterNameFromOptions(S.type,G),ne="remove"===J;ne||this._setFilterState(se,G),this.checkedMap[se].checked=!ne}},{key:"initFilterCheckBoxState",value:function(){We()(this.checkedMap,function(S){S.checked=!1},this)}},{key:"_setFilterState",value:function(S,A){"colorFilter"===S?this._els.colorfilterThresholdRange.value=A.distance:"removeWhite"===S?this._els.removewhiteDistanceRange.value=A.distance:"pixelate"===S?this._els.pixelateRange.value=A.blocksize:"brightness"===S?this._els.brightnessRange.value=A.brightness:"noise"===S?this._els.noiseRange.value=A.noise:"tint"===S?(this._els.tintOpacity.value=A.alpha,this._els.filterTintColor.color=A.color):"blend"===S?this._els.filterBlendColor.color=A.color:"multiply"===S&&(this._els.filterMultiplyColor.color=A.color)}},{key:"_getFilterNameFromOptions",value:function(S,A){var G=S;return"removeColor"===S?G=Ma()(A.useAlpha)?"removeWhite":"colorFilter":"blendColor"===S&&(G={add:"blend",multiply:"multiply",tint:"tint"}[A.mode]),G}},{key:"_changeFilterState",value:function(S,A){var G=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],J=this.checkedMap[A].checked,se=uf[A],ne=this.checkedMap[A].closest(".tui-image-editor-checkbox-group");ne&&(J?ne.classList.remove("tui-image-editor-disabled"):ne.classList.add("tui-image-editor-disabled")),S(J,se,this._getFilterOption(A),!G)}},{key:"_getFilterOption",value:function(S){var A={};switch(S){case"removeWhite":A.color="#FFFFFF",A.useAlpha=!1,A.distance=Jd()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":A.color="#FFFFFF",A.distance=Jd()(this._els.colorfilterThresholdRange.value);break;case"pixelate":A.blocksize=xi(this._els.pixelateRange.value);break;case"noise":A.noise=xi(this._els.noiseRange.value);break;case"brightness":A.brightness=Jd()(this._els.brightnessRange.value);break;case"blend":A.mode="add",A.color=this._els.filterBlendColor.color,A.mode=this._els.blendType.value;break;case"multiply":A.mode="multiply",A.color=this._els.filterMultiplyColor.color;break;case"tint":A.mode="tint",A.color=this._els.filterTintColor.color,A.alpha=this._els.tintOpacity.value;break;case"blur":A.blur=this._els.blurRange.value}return A}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new nh({slider:this.selector(".tie-removewhite-distance-range")},uo.removewhiteDistanceRange),brightnessRange:new nh({slider:this.selector(".tie-brightness-range")},uo.brightnessRange),noiseRange:new nh({slider:this.selector(".tie-noise-range")},uo.noiseRange),pixelateRange:new nh({slider:this.selector(".tie-pixelate-range")},uo.pixelateRange),colorfilterThresholdRange:new nh({slider:this.selector(".tie-colorfilter-threshold-range")},uo.colorfilterThresholdRange),filterTintColor:new rl(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new rl(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new rl(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:uo.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(ys_COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(S){var A=document.createElement("div"),G=document.createElement("label"),J=document.createElement("div");return J.id="tie-filter-tint-opacity",G.innerHTML="Opacity",A.appendChild(G),A.appendChild(J),S.appendChild(A),S.style.height="130px",new nh({slider:J},uo.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(S){var A=document.createElement("div"),G=document.createElement("select"),J=document.createElement("ul");return A.className="tui-image-editor-selectlist-wrap",J.className="tui-image-editor-selectlist",A.appendChild(G),A.appendChild(J),this._makeSelectOptionList(G),S.appendChild(A),S.style.height="130px",this._drawSelectOptionList(G,J),this._pickerWithSelectboxForAddEvent(G,J),G}},{key:"_drawSelectOptionList",value:function(S,A){var G=S.querySelectorAll("option");We()(G,function(J){var se=document.createElement("li");se.innerHTML=J.innerHTML,se.setAttribute("data-item",J.value),A.appendChild(se)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(S,A){var G=this;A.addEventListener("click",function(J){var se=J.target.getAttribute("data-item"),ne=document.createEvent("HTMLEvents");S.querySelector('[value="'.concat(se,'"]')).selected=!0,ne.initEvent("change",!0,!0),S.dispatchEvent(ne),G.selectBoxShow=!1,A.style.display="none"}),S.addEventListener("mousedown",function(J){J.preventDefault(),G.selectBoxShow=!G.selectBoxShow,A.style.display=G.selectBoxShow?"block":"none",A.setAttribute("data-selectitem",S.value),A.querySelector("[data-item='".concat(S.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(S){We()(im,function(A){var G=document.createElement("option");G.setAttribute("value",A),G.innerHTML=A.replace(/^[a-z]/,function(J){return J.toUpperCase()}),S.appendChild(G)})}}]),w}(wu),wI=Vs,da=Ke(4383),nm=Ke.n(da);function Vr(K){var R=function Oo(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var od="selected-item",sl="disabled-item",c0=function(K){ls(w,K);var R=Vr(w);function w(D,S){var A,G=S.locale,J=S.makeSvgIcon;return Ne(this,w),A=R.call(this,D,{name:"history"}),D.classList.add("enabled"),A.locale=G,A.makeSvgIcon=J,A._eventHandler={},A._historyIndex=A.getListLength(),A}return gt(w,[{key:"add",value:function(S){var A=S.name,G=S.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var J=function(K){var R,w,D,S=K.locale,A=K.makeSvgIcon,G=K.name,J=K.detail;return Le()(R=Le()(w=Le()(D='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(A(["normal","active"],"history-".concat(G.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(D,S.localize(G),"\n            ")).call(w,J?"(".concat(S.localize(J),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(R,A(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:A,detail:G}),se=this.makeListItemElement(J);this.pushListItemElement(se),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var S=this;this._eventHandler.history=function(A){return S._clickHistoryItem(A)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(S){var G=S.target.closest(".".concat("history-item"));if(G){var J=nm()(G.getAttribute("data-index"),10);if(J!==this._historyIndex){var se=Math.abs(J-this._historyIndex);J<this._historyIndex?this._actions.undo(se):this._actions.redo(se)}}}},{key:"_selectItem",value:function(S){for(var A=0;A<this.getListLength();A+=1)this.removeClass(A,od),this.removeClass(A,sl),A>S&&this.addClass(A,sl);this.addClass(S,od)}},{key:"destroy",value:function(){this.removeEvent(),Th(this)}},{key:"addEvent",value:function(S){this._actions=S,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),w}(function(){function K(R,w){var D=w.name;Ne(this,K),this.name=D,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),R.appendChild(this.panelElement)}return gt(K,[{key:"_makePanelElement",value:function(){var w=document.createElement("div");return w.className="tie-panel-".concat(this.name),w}},{key:"_makeListElement",value:function(){var w=document.createElement("ol");return w.className="".concat(this.name,"-list"),w}},{key:"makeListItemElement",value:function(w){var D=document.createElement("li");return D.innerHTML=w,D.className="".concat(this.name,"-item"),D.setAttribute("data-index",this.items.length),D}},{key:"pushListItemElement",value:function(w){this.listElement.appendChild(w),this.listElement.scrollTop+=w.offsetHeight,this.items.push(w)}},{key:"deleteListItemElement",value:function(w,D){for(var S=this.items,A=w;A<D;A+=1)this.listElement.removeChild(S[A]);te()(S).call(S,w,D-w+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(w,D){this.items[w]&&this.items[w].classList.add(D)}},{key:"removeClass",value:function(w,D){this.items[w]&&this.items[w].classList.remove(D)}},{key:"toggleClass",value:function(w,D){this.items[w]&&this.items[w].classList.toggle(D)}}]),K}()),vC=function(){function K(R){Ne(this,K),this._locale=R}return gt(K,[{key:"localize",value:function(w){return this._locale[w]||w}}]),K}(),vg={Shape:Zv,Crop:aC,Resize:vn,Flip:ug,Rotate:Xc,Text:hC,Mask:em,Icon:pC,Draw:vr,Filter:wI},rn="history",qs="on",Ul_ZOOM_IN="zoomIn",Ul_HAND="hand",Du=function(){function K(R,w,D){Ne(this,K),this.options=this._initializeOption(w),this._actions=D,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new vC(this.options.locale),this.theme=new nd(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(R),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return gt(K,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Th(this)}},{key:"setUiDefaultSelectionStyle",value:function(w){return je()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},w)}},{key:"resizeEditor",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=w.uiSize,S=w.imageSize,A=void 0===S?this.imageSize:S;A!==this.imageSize&&(this.imageSize=A),D&&this._setUiSize(D);var G=this._getCanvasMaxDimension(),J=G.width,ne=this._editorElement.style,fe=this.options.menuBarPosition;ne.height="".concat(G.height,"px"),ne.width="".concat(J,"px"),this._setEditorPosition(fe),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var xe=this._selectedElement.classList;"top"===fe&&this._selectedElement.offsetWidth<"1300"?xe.add("tui-image-editor-top-optimization"):xe.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(w){this._buttonElements[w].classList.toggle(qs),w===Ul_ZOOM_IN?this._buttonElements[Ul_HAND].classList.remove(qs):this._buttonElements[Ul_ZOOM_IN].classList.remove(qs)}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[Ul_ZOOM_IN].classList.remove(qs)}},{key:"changeHandButtonStatus",value:function(w){this._buttonElements[Ul_HAND].classList[w?"add":"remove"](qs)}},{key:"changeHelpButtonEnabled",value:function(w,D){this._buttonElements[w].classList[D?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(w){return je()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},w)}},{key:"_setUiSize",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,D=this._selectedElement.style;D.width=w.width,D.height=w.height}},{key:"_makeSubMenu",value:function(){var w=this;We()(this.options.menu,function(D){var S,A=vg[D.replace(/^[a-z]/,function(G){return G.toUpperCase()})];w._makeMenuElement(D),w._buttonElements[D]=w._menuBarElement.querySelector(".tie-btn-".concat(D)),w[D]=new A(w._subMenuElement,{locale:w._locale,makeSvgIcon:ot()(S=w.theme.makeMenSvgIconSet).call(S,w.theme),menuBarPosition:w.options.menuBarPosition,usageStatistics:w.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var w,D,S;this.on(Kt_EXECUTE_COMMAND,ot()(w=this._addHistory).call(w,this)),this.on(Kt_AFTER_UNDO,ot()(D=this._selectPrevHistory).call(D,this)),this.on(Kt_AFTER_REDO,ot()(S=this._selectNextHistory).call(S,this))}},{key:"_attachZoomEvent",value:function(){var w=this;this.on(Kt_HAND_STARTED,function(){w.offZoomInButtonStatus(),w.changeHandButtonStatus(!0)}),this.on(Kt_HAND_STOPPED,function(){return w.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(w){var D,S,A=function qd(K){return function(R){return K.querySelector(R)}}(S=w.nodeType?w:document.querySelector(w));S.classList.add("tui-image-editor-container"),S.innerHTML=function(K){var R,w,D,S,A,G=K.locale,J=K.biImage,se=K.loadButtonStyle,ne=K.downloadButtonStyle,fe=K.menuBarPosition;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A='\n    <ul class="tui-image-editor-help-menu '.concat(function ur(K){return"top"===K?"bottom":"left"===K?"right":"right"===K?"left":"top"}(fe),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(A,J,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(S,se,'">\n                ')).call(D,G.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(w,ne,'">\n                ')).call(R,G.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(K){var R,w,D,S,A,G,J,se=K.locale,ne=K.biImage,fe=K.commonStyle,xe=K.headerStyle,lt=K.loadButtonStyle,vt=K.downloadButtonStyle,kt=K.submenuStyle;return Le()(R=Le()(w=Le()(D=Le()(S=Le()(A=Le()(G=Le()(J='\n    <div class="tui-image-editor-main-container" style="'.concat(fe,'">\n        <div class="tui-image-editor-header" style="')).call(J,xe,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(G,ne,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(A,lt,'">\n                    ')).call(S,se.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(D,vt,'">\n                    ')).call(w,se.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(R,kt,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=S,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=A(".tui-image-editor-main"),this._editorElementWrap=A(".tui-image-editor-wrap"),this._editorElement=A(".tui-image-editor"),this._helpMenuBarElement=A(".tui-image-editor-help-menu"),this._menuBarElement=A(".tui-image-editor-menu"),this._subMenuElement=A(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new c0(this._buttonElements[rn],{locale:this._locale,makeSvgIcon:ot()(D=this.theme.makeMenSvgIconSet).call(D,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var w=this;We()(As,function(D){w.changeHelpButtonEnabled(D,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var w;return Le()(w=[]).call(w,ue(As),[""],ue(Eo),[""],ue(Ia))}},{key:"_addHelpMenus",value:function(){var w=this,D=this._makeHelpMenuWithPartition();We()(D,function(S){S?(w._makeMenuElement(S,["normal","disabled","hover"],"help"),w._buttonElements[S]=w._helpMenuBarElement.querySelector(".tie-btn-".concat(S))):w._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var w=document.createElement("li"),D=document.createElement("div");w.className=ig("item"),D.className=ig("icpartition"),w.appendChild(D),this._helpMenuBarElement.appendChild(w)}},{key:"_makeMenuElement",value:function(w){var D,S,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",J=document.createElement("li"),se=this.theme.makeMenSvgIconSet(A,w);this._addTooltipAttribute(J,w),J.className=Le()(D=Le()(S="tie-btn-".concat(w," ")).call(S,ig("item")," ")).call(D,G),J.innerHTML=se,"normal"===G?this._menuBarElement.appendChild(J):this._helpMenuBarElement.appendChild(J)}},{key:"_addHelpActionEvent",value:function(){var w=this;We()(ci,function(D){w.eventHandler[D]=function(S){return w._actions.main[D](S)},w._buttonElements[D].addEventListener("click",w.eventHandler[D])})}},{key:"_removeHelpActionEvent",value:function(){var w=this;We()(ci,function(D){w._buttonElements[D].removeEventListener("click",w.eventHandler[D])})}},{key:"_addHistory",value:function(w){if(!function Ei(K){return"string"==typeof K?gn_LOAD_IMAGE===K:gn_LOAD_IMAGE===K.name}(w)){var D="string"==typeof w?{name:w}:function rg(K){var R,w,gi,It=K.name,Nt=K.args;switch(It){case gn_FLIP_IMAGE:gi={name:It,detail:"reset"===Nt[1]?Nt[1]:F()(R=Nt[1]).call(R,4)};break;case gn_ROTATE_IMAGE:gi={name:It,detail:Nt[2]};break;case gn_APPLY_FILTER:gi={name:$r_APPLY_FILTER,detail:Zy(Nt[1],Nt[2])};break;case gn_REMOVE_FILTER:gi={name:$r_REMOVE_FILTER,detail:"Remove"};break;case gn_CHANGE_SHAPE:gi={name:$r_CHANGE_SHAPE,detail:"Change"};break;case gn_CHANGE_ICON_COLOR:gi={name:$r_CHANGE_ICON_COLOR,detail:"Change"};break;case gn_CHANGE_TEXT_STYLE:gi={name:$r_CHANGE_TEXT_STYLE,detail:"Change"};break;case gn_REMOVE_OBJECT:gi={name:$r_REMOVE_OBJECT,detail:Nt[2]};break;case gn_CLEAR_OBJECTS:gi={name:$r_CLEAR_OBJECTS,detail:"All"};break;case gn_ADD_IMAGE_OBJECT:gi={name:$r_ADD_IMAGE_OBJECT,detail:"Add"};break;case gn_ADD_TEXT:gi={name:$r_ADD_TEXT};break;case gn_RESIZE_IMAGE:gi={name:$r_RESIZE,detail:Le()(w="".concat(~~Nt[1].width,"x")).call(w,~~Nt[1].height)};break;default:gi={name:It}}return"mask"===Nt[1]&&(gi={name:$r_LOAD_MASK_IMAGE,detail:"Apply"}),gi}(w);this._historyMenu.add(D)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(w){w.target.closest(".".concat("tie-panel-history"))||this._buttonElements[rn].classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(w,D){w.setAttribute("tooltip-content",this._locale.localize(D.replace(/^[a-z]/g,function(S){return S.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var w=this;this.eventHandler.download=function(){return w._actions.main.download()},We()(this._buttonElements.download,function(D){D.addEventListener("click",w.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var w=this;We()(this._buttonElements.download,function(D){D.removeEventListener("click",w.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var w=this;this.eventHandler.loadImage=function(D){return w._actions.main.load(D.target.files[0])},We()(this._buttonElements.load,function(D){D.addEventListener("change",w.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var w=this;We()(this._buttonElements.load,function(D){D.removeEventListener("change",w.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(w){var D=this;this.eventHandler[w]=function(){return D.changeMenu(w)},this._buttonElements[w].addEventListener("click",this.eventHandler[w])}},{key:"_addSubMenuEvent",value:function(w){var D=this;this[w].addEvent(this._actions[w]),this[w].on(Kt_INPUT_BOX_EDITING_STARTED,function(){return D.fire(Kt_INPUT_BOX_EDITING_STARTED)}),this[w].on(Kt_INPUT_BOX_EDITING_STOPPED,function(){return D.fire(Kt_INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var w=this;We()(this.options.menu,function(D){w._addMainMenuEvent(D),w._addSubMenuEvent(D)})}},{key:"_removeMainMenuEvent",value:function(){var w=this;We()(this.options.menu,function(D){w._buttonElements[D].removeEventListener("click",w.eventHandler[D]),w[D].off(Kt_INPUT_BOX_EDITING_STARTED),w[D].off(Kt_INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var w=this;We()(this.options.menu,function(D){w[D].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var w=this,D=this._getLoadImage();D.path&&this._actions.main.initLoadImage(D.path,D.name).then(function(){w.activeMenuEvent()}),this._addLoadEvent();var S=document.createElement("div");S.className=ig("grid-visual"),S.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(S)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(w){var D=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(w,D,S),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(w,D,S){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),S&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===w&&D?this.submenu=null:(this._buttonElements[w].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(w)),this.submenu=w,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var w=document.createEvent("MouseEvents");w.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(w)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var w=this._editorContainerElement.style,D=w.maxWidth,S=w.maxHeight;return{width:Jd()(D),height:Jd()(S)}}},{key:"_setEditorPosition",value:function(w){var D=this._getCanvasMaxDimension(),S=D.width,A=D.height,G=this._editorElement.style,J=0,se=0;this.submenu&&("bottom"===w?J=A>this._editorElementWrap.scrollHeight-150?(A-this._editorElementWrap.scrollHeight)/2:-75:"top"===w?J=A>this._editorElementWrap.offsetHeight-150?75-(A-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===w?se=S>this._editorElementWrap.offsetWidth-248?124-(S-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===w&&(se=S>this._editorElementWrap.scrollWidth-248?(S-this._editorElementWrap.scrollWidth)/2:-124)),G.top="".concat(J,"px"),G.left="".concat(se,"px")}}]),K}();Ut().mixin(Du);var Ra=Du,ad=Ke(381),go=Ke.n(ad),$c=function(){function K(){Ne(this,K),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return gt(K,[{key:"imageToSVG",value:function(w,D,S){var A=this;S=this.checkoptions(S),this.loadImage(w,function(G){D(A.imagedataToSVG(A.getImgdata(G),S))},S)}},{key:"imagedataToSVG",value:function(w,D){D=this.checkoptions(D);var S=this.imagedataToTracedata(w,D);return this.getsvgstring(S,D)}},{key:"imageToTracedata",value:function(w,D,S){var A=this;S=this.checkoptions(S),this.loadImage(w,function(G){D(A.imagedataToTracedata(A.getImgdata(G),S))},S)}},{key:"imagedataToTracedata",value:function(w,D){D=this.checkoptions(D);var A,S=this.colorquantization(w,D);if(0===D.layering){A={layers:[],palette:S.palette,width:S.array[0].length-2,height:S.array.length-2};for(var G=0;G<S.palette.length;G+=1){var J=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(S,G),D.pathomit),D),D.ltres,D.qtres);A.layers.push(J)}}else{var se=this.layering(S);D.layercontainerid&&this.drawLayers(se,this.specpalette,D.scale,D.layercontainerid);var ne=this.batchpathscan(se,D.pathomit),fe=this.batchinternodes(ne,D);A={layers:this.batchtracelayers(fe,D.ltres,D.qtres),palette:S.palette,width:w.width,height:w.height}}return A}},{key:"checkoptions",value:function(w){"string"==typeof(w=w||{})&&(w=w.toLowerCase(),w=this.optionpresets[w]?this.optionpresets[w]:{});for(var D=Zt()(this.optionpresets.default),S=0;S<D.length;S+=1)w.hasOwnProperty(D[S])||(w[D[S]]=this.optionpresets.default[D[S]]);return w}},{key:"colorquantization",value:function(w,D){var G,J,se,xe,lt,vt,kt,It,S=[],A=0,ne=[],fe=w.width*w.height;for(lt=0;lt<w.height+2;lt+=1)for(S[lt]=[],xe=0;xe<w.width+2;xe+=1)S[lt][xe]=-1;for(It=D.pal?D.pal:0===D.colorsampling?this.generatepalette(D.numberofcolors):1===D.colorsampling?this.samplepalette(D.numberofcolors,w):this.samplepalette2(D.numberofcolors,w),D.blurradius>0&&(w=this.blur(w,D.blurradius,D.blurdelta)),kt=0;kt<D.colorquantcycles;kt+=1){if(kt>0)for(vt=0;vt<It.length;vt+=1)ne[vt].n>0&&(It[vt]={r:Math.floor(ne[vt].r/ne[vt].n),g:Math.floor(ne[vt].g/ne[vt].n),b:Math.floor(ne[vt].b/ne[vt].n),a:Math.floor(ne[vt].a/ne[vt].n)}),ne[vt].n/fe<D.mincolorratio&&kt<D.colorquantcycles-1&&(It[vt]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(xe=0;xe<It.length;xe+=1)ne[xe]={r:0,g:0,b:0,a:0,n:0};for(lt=0;lt<w.height;lt+=1)for(xe=0;xe<w.width;xe+=1){for(A=4*(lt*w.width+xe),se=0,J=1024,vt=0;vt<It.length;vt+=1)(G=Math.abs(It[vt].r-w.data[A])+Math.abs(It[vt].g-w.data[A+1])+Math.abs(It[vt].b-w.data[A+2])+Math.abs(It[vt].a-w.data[A+3]))<J&&(J=G,se=vt);ne[se].r+=w.data[A],ne[se].g+=w.data[A+1],ne[se].b+=w.data[A+2],ne[se].a+=w.data[A+3],ne[se].n+=1,S[lt+1][xe+1]=se}}return{array:S,palette:It}}},{key:"samplepalette",value:function(w,D){for(var S,A=[],G=0;G<w;G+=1)S=4*Math.floor(Math.random()*D.data.length/4),A.push({r:D.data[S],g:D.data[S+1],b:D.data[S+2],a:D.data[S+3]});return A}},{key:"samplepalette2",value:function(w,D){for(var S,A=[],G=Math.ceil(Math.sqrt(w)),J=Math.ceil(w/G),se=D.width/(G+1),ne=D.height/(J+1),fe=0;fe<J;fe+=1)for(var xe=0;xe<G&&A.length!==w;xe+=1)S=4*Math.floor((fe+1)*ne*D.width+(xe+1)*se),A.push({r:D.data[S],g:D.data[S+1],b:D.data[S+2],a:D.data[S+3]});return A}},{key:"generatepalette",value:function(w){var S,A,G,D=[];if(w<8)for(var J=Math.floor(255/(w-1)),se=0;se<w;se+=1)D.push({r:se*J,g:se*J,b:se*J,a:255});else{var ne=Math.floor(Math.pow(w,.3333333333333333)),fe=Math.floor(255/(ne-1)),xe=w-ne*ne*ne;for(S=0;S<ne;S+=1)for(A=0;A<ne;A+=1)for(G=0;G<ne;G+=1)D.push({r:S*fe,g:A*fe,b:G*fe,a:255});for(S=0;S<xe;S+=1)D.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return D}},{key:"layering",value:function(w){var J,se,ne,fe,xe,lt,vt,It,Nt,gi,D=[],S=0,A=w.array.length,G=w.array[0].length;for(gi=0;gi<w.palette.length;gi+=1)for(D[gi]=[],Nt=0;Nt<A;Nt+=1)for(D[gi][Nt]=[],It=0;It<G;It+=1)D[gi][Nt][It]=0;for(Nt=1;Nt<A-1;Nt+=1)for(It=1;It<G-1;It+=1)J=w.array[Nt-1][It-1]===(S=w.array[Nt][It])?1:0,se=w.array[Nt-1][It]===S?1:0,ne=w.array[Nt-1][It+1]===S?1:0,fe=w.array[Nt][It-1]===S?1:0,lt=w.array[Nt+1][It-1]===S?1:0,D[S][Nt+1][It+1]=1+2*(xe=w.array[Nt][It+1]===S?1:0)+4*(w.array[Nt+1][It+1]===S?1:0)+8*(vt=w.array[Nt+1][It]===S?1:0),fe||(D[S][Nt+1][It]=2+4*vt+8*lt),se||(D[S][Nt][It+1]=0+2*ne+4*xe+8),J||(D[S][Nt][It]=0+2*se+4+8*fe);return D}},{key:"layeringstep",value:function(w,D){var J,se,S=[],A=w.array.length,G=w.array[0].length;for(se=0;se<A;se+=1)for(S[se]=[],J=0;J<G;J+=1)S[se][J]=0;for(se=1;se<A;se+=1)for(J=1;J<G;J+=1)S[se][J]=(w.array[se-1][J-1]===D?1:0)+(w.array[se-1][J]===D?2:0)+(w.array[se][J-1]===D?8:0)+(w.array[se][J]===D?4:0);return S}},{key:"pathscan",value:function(w,D){for(var kt,S=[],A=0,G=0,J=0,se=0,ne=w[0].length,fe=w.length,xe=0,lt=!0,vt=!1,It=0;It<fe;It+=1)for(var Nt=0;Nt<ne;Nt+=1)if(4===w[It][Nt]||11===w[It][Nt])for(J=Nt,se=It,S[A]={},S[A].points=[],S[A].boundingbox=[J,se,J,se],S[A].holechildren=[],lt=!1,G=0,vt=11===w[It][Nt],xe=1;!lt;){if(S[A].points[G]={},S[A].points[G].x=J-1,S[A].points[G].y=se-1,S[A].points[G].t=w[se][J],J-1<S[A].boundingbox[0]&&(S[A].boundingbox[0]=J-1),J-1>S[A].boundingbox[2]&&(S[A].boundingbox[2]=J-1),se-1<S[A].boundingbox[1]&&(S[A].boundingbox[1]=se-1),se-1>S[A].boundingbox[3]&&(S[A].boundingbox[3]=se-1),w[se][J]=(kt=this.pathscan_combined_lookup[w[se][J]][xe])[0],xe=kt[1],se+=kt[3],(J+=kt[2])-1===S[A].points[0].x&&se-1===S[A].points[0].y)if(lt=!0,S[A].points.length<D)S.pop();else{if(S[A].isholepath=!!vt,vt){for(var gi=0,Tn=[-1,-1,ne+1,fe+1],Hn=0;Hn<A;Hn++)!S[Hn].isholepath&&this.boundingboxincludes(S[Hn].boundingbox,S[A].boundingbox)&&this.boundingboxincludes(Tn,S[Hn].boundingbox)&&(gi=Hn,Tn=S[Hn].boundingbox);S[gi].holechildren.push(A)}A+=1}G+=1}return S}},{key:"boundingboxincludes",value:function(w,D){return w[0]<D[0]&&w[1]<D[1]&&w[2]>D[2]&&w[3]>D[3]}},{key:"batchpathscan",value:function(w,D){var S=[];for(var A in w)w.hasOwnProperty(A)&&(S[A]=this.pathscan(w[A],D));return S}},{key:"internodes",value:function(w,D){var fe,xe,S=[],A=0,G=0,J=0;for(fe=0;fe<w.length;fe+=1)for(S[fe]={},S[fe].points=[],S[fe].boundingbox=w[fe].boundingbox,S[fe].holechildren=w[fe].holechildren,S[fe].isholepath=w[fe].isholepath,A=w[fe].points.length,xe=0;xe<A;xe+=1)G=(xe+1)%A,J=(xe+2)%A,D.rightangleenhance&&this.testrightangle(w[fe],(xe-2+A)%A,(xe-1+A)%A,xe,G,J)&&(S[fe].points.length>0&&(S[fe].points[S[fe].points.length-1].linesegment=this.getdirection(S[fe].points[S[fe].points.length-1].x,S[fe].points[S[fe].points.length-1].y,w[fe].points[xe].x,w[fe].points[xe].y)),S[fe].points.push({x:w[fe].points[xe].x,y:w[fe].points[xe].y,linesegment:this.getdirection(w[fe].points[xe].x,w[fe].points[xe].y,(w[fe].points[xe].x+w[fe].points[G].x)/2,(w[fe].points[xe].y+w[fe].points[G].y)/2)})),S[fe].points.push({x:(w[fe].points[xe].x+w[fe].points[G].x)/2,y:(w[fe].points[xe].y+w[fe].points[G].y)/2,linesegment:this.getdirection((w[fe].points[xe].x+w[fe].points[G].x)/2,(w[fe].points[xe].y+w[fe].points[G].y)/2,(w[fe].points[G].x+w[fe].points[J].x)/2,(w[fe].points[G].y+w[fe].points[J].y)/2)});return S}},{key:"testrightangle",value:function(w,D,S,A,G,J){return w.points[A].x===w.points[D].x&&w.points[A].x===w.points[S].x&&w.points[A].y===w.points[G].y&&w.points[A].y===w.points[J].y||w.points[A].y===w.points[D].y&&w.points[A].y===w.points[S].y&&w.points[A].x===w.points[G].x&&w.points[A].x===w.points[J].x}},{key:"getdirection",value:function(w,D,S,A){return w<S?D<A?1:D>A?7:0:w>S?D<A?3:D>A?5:4:D<A?2:D>A?6:8}},{key:"batchinternodes",value:function(w,D){var S=[];for(var A in w)w.hasOwnProperty(A)&&(S[A]=this.internodes(w[A],D));return S}},{key:"tracepath",value:function(w,D,S){var G,J,se,A=0,ne={segments:[]};for(ne.boundingbox=w.boundingbox,ne.holechildren=w.holechildren,ne.isholepath=w.isholepath;A<w.points.length;){var fe;for(G=w.points[A].linesegment,J=-1,se=A+1;(w.points[se].linesegment===G||w.points[se].linesegment===J||-1===J)&&se<w.points.length-1;)w.points[se].linesegment!==G&&-1===J&&(J=w.points[se].linesegment),se+=1;se===w.points.length-1&&(se=0),ne.segments=Le()(fe=ne.segments).call(fe,this.fitseq(w,D,S,A,se)),A=se>0?se:w.points.length}return ne}},{key:"fitseq",value:function(w,D,S,A,G){var J;if(G>w.points.length||G<0)return[];var xe,lt,vt,se=A,ne=0,fe=!0,kt=G-A;kt<0&&(kt+=w.points.length);for(var Tn,It=(w.points[G].x-w.points[A].x)/kt,Nt=(w.points[G].y-w.points[A].y)/kt,gi=(A+1)%w.points.length;gi!=G;)(Tn=gi-A)<0&&(Tn+=w.points.length),(vt=(w.points[gi].x-(xe=w.points[A].x+It*Tn))*(w.points[gi].x-xe)+(w.points[gi].y-(lt=w.points[A].y+Nt*Tn))*(w.points[gi].y-lt))>D&&(fe=!1),vt>ne&&(se=gi,ne=vt),gi=(gi+1)%w.points.length;if(fe)return[{type:"L",x1:w.points[A].x,y1:w.points[A].y,x2:w.points[G].x,y2:w.points[G].y}];var Hn=se;fe=!0,ne=0;var Xn=(Hn-A)/kt,ki=(1-Xn)*(1-Xn),gs=2*(1-Xn)*Xn,Ta=Xn*Xn,Dl=(ki*w.points[A].x+Ta*w.points[G].x-w.points[Hn].x)/-gs,Ec=(ki*w.points[A].y+Ta*w.points[G].y-w.points[Hn].y)/-gs;for(gi=A+1;gi!=G;)(vt=(w.points[gi].x-(xe=(ki=(1-(Xn=(gi-A)/kt))*(1-Xn))*w.points[A].x+(gs=2*(1-Xn)*Xn)*Dl+(Ta=Xn*Xn)*w.points[G].x))*(w.points[gi].x-xe)+(w.points[gi].y-(lt=ki*w.points[A].y+gs*Ec+Ta*w.points[G].y))*(w.points[gi].y-lt))>S&&(fe=!1),vt>ne&&(se=gi,ne=vt),gi=(gi+1)%w.points.length;if(fe)return[{type:"Q",x1:w.points[A].x,y1:w.points[A].y,x2:Dl,y2:Ec,x3:w.points[G].x,y3:w.points[G].y}];var So=Hn;return Le()(J=this.fitseq(w,D,S,A,So)).call(J,this.fitseq(w,D,S,So,G))}},{key:"batchtracepaths",value:function(w,D,S){var A=[];for(var G in w)w.hasOwnProperty(G)&&A.push(this.tracepath(w[G],D,S));return A}},{key:"batchtracelayers",value:function(w,D,S){var A=[];for(var G in w)w.hasOwnProperty(G)&&(A[G]=this.batchtracepaths(w[G],D,S));return A}},{key:"roundtodec",value:function(w,D){return Number(w.toFixed(D))}},{key:"svgpathstring",value:function(w,D,S,A){var G,J,xe,se=w.layers[D],ne=se[S],fe="";if(A.linefilter&&ne.segments.length<3)return fe;if(fe=Le()(G="<path ".concat(A.desc?Le()(J='desc="l '.concat(D," p ")).call(J,S,'" '):"")).call(G,this.tosvgcolorstr(w.palette[D],A),'d="'),-1===A.roundcoords){var lt;for(fe+=Le()(lt="M ".concat(ne.segments[0].x1*A.scale," ")).call(lt,ne.segments[0].y1*A.scale," "),xe=0;xe<ne.segments.length;xe++){var vt,kt,It;fe+=Le()(vt=Le()(kt="".concat(ne.segments[xe].type," ")).call(kt,ne.segments[xe].x2*A.scale," ")).call(vt,ne.segments[xe].y2*A.scale," "),ne.segments[xe].hasOwnProperty("x3")&&(fe+=Le()(It="".concat(ne.segments[xe].x3*A.scale," ")).call(It,ne.segments[xe].y3*A.scale," "))}fe+="Z "}else{var Nt;for(fe+=Le()(Nt="M ".concat(this.roundtodec(ne.segments[0].x1*A.scale,A.roundcoords)," ")).call(Nt,this.roundtodec(ne.segments[0].y1*A.scale,A.roundcoords)," "),xe=0;xe<ne.segments.length;xe++){var gi,Tn,Hn;fe+=Le()(gi=Le()(Tn="".concat(ne.segments[xe].type," ")).call(Tn,this.roundtodec(ne.segments[xe].x2*A.scale,A.roundcoords)," ")).call(gi,this.roundtodec(ne.segments[xe].y2*A.scale,A.roundcoords)," "),ne.segments[xe].hasOwnProperty("x3")&&(fe+=Le()(Hn="".concat(this.roundtodec(ne.segments[xe].x3*A.scale,A.roundcoords)," ")).call(Hn,this.roundtodec(ne.segments[xe].y3*A.scale,A.roundcoords)," "))}fe+="Z "}for(var Xn=0;Xn<ne.holechildren.length;Xn++){var gs,Ta,So,yd,ki=se[ne.holechildren[Xn]];if(-1===A.roundcoords)for(ki.segments[ki.segments.length-1].hasOwnProperty("x3")?fe+=Le()(gs="M ".concat(ki.segments[ki.segments.length-1].x3*A.scale," ")).call(gs,ki.segments[ki.segments.length-1].y3*A.scale," "):fe+=Le()(Ta="M ".concat(ki.segments[ki.segments.length-1].x2*A.scale," ")).call(Ta,ki.segments[ki.segments.length-1].y2*A.scale," "),xe=ki.segments.length-1;xe>=0;xe--){var Dl,Ec;fe+="".concat(ki.segments[xe].type," "),ki.segments[xe].hasOwnProperty("x3")&&(fe+=Le()(Ec="".concat(ki.segments[xe].x2*A.scale," ")).call(Ec,ki.segments[xe].y2*A.scale," ")),fe+=Le()(Dl="".concat(ki.segments[xe].x1*A.scale," ")).call(Dl,ki.segments[xe].y1*A.scale," ")}else for(ki.segments[ki.segments.length-1].hasOwnProperty("x3")?fe+=Le()(So="M ".concat(this.roundtodec(ki.segments[ki.segments.length-1].x3*A.scale)," ")).call(So,this.roundtodec(ki.segments[ki.segments.length-1].y3*A.scale)," "):fe+=Le()(yd="M ".concat(this.roundtodec(ki.segments[ki.segments.length-1].x2*A.scale)," ")).call(yd,this.roundtodec(ki.segments[ki.segments.length-1].y2*A.scale)," "),xe=ki.segments.length-1;xe>=0;xe--){var Ac,hh;fe+="".concat(ki.segments[xe].type," "),ki.segments[xe].hasOwnProperty("x3")&&(fe+=Le()(hh="".concat(this.roundtodec(ki.segments[xe].x2*A.scale)," ")).call(hh,this.roundtodec(ki.segments[xe].y2*A.scale)," ")),fe+=Le()(Ac="".concat(this.roundtodec(ki.segments[xe].x1*A.scale)," ")).call(Ac,this.roundtodec(ki.segments[xe].y1*A.scale)," ")}fe+="Z "}if(fe+='" />',A.lcpr||A.qcpr){for(xe=0;xe<ne.segments.length;xe++){var Rg,Mf,mp,zg,Pm,_m,Fu,bd,Rm,z0,Bg,zm,Fg,jg,Bm,Fm,yp;ne.segments[xe].hasOwnProperty("x3")&&A.qcpr&&(fe+=Le()(Rg=Le()(Mf=Le()(mp='<circle cx="'.concat(ne.segments[xe].x2*A.scale,'" cy="')).call(mp,ne.segments[xe].y2*A.scale,'" r="')).call(Mf,A.qcpr,'" fill="cyan" stroke-width="')).call(Rg,.2*A.qcpr,'" stroke="black" />'),fe+=Le()(zg=Le()(Pm=Le()(_m='<circle cx="'.concat(ne.segments[xe].x3*A.scale,'" cy="')).call(_m,ne.segments[xe].y3*A.scale,'" r="')).call(Pm,A.qcpr,'" fill="white" stroke-width="')).call(zg,.2*A.qcpr,'" stroke="black" />'),fe+=Le()(Fu=Le()(bd=Le()(Rm=Le()(z0='<line x1="'.concat(ne.segments[xe].x1*A.scale,'" y1="')).call(z0,ne.segments[xe].y1*A.scale,'" x2="')).call(Rm,ne.segments[xe].x2*A.scale,'" y2="')).call(bd,ne.segments[xe].y2*A.scale,'" stroke-width="')).call(Fu,.2*A.qcpr,'" stroke="cyan" />'),fe+=Le()(Bg=Le()(zm=Le()(Fg=Le()(jg='<line x1="'.concat(ne.segments[xe].x2*A.scale,'" y1="')).call(jg,ne.segments[xe].y2*A.scale,'" x2="')).call(Fg,ne.segments[xe].x3*A.scale,'" y2="')).call(zm,ne.segments[xe].y3*A.scale,'" stroke-width="')).call(Bg,.2*A.qcpr,'" stroke="cyan" />')),!ne.segments[xe].hasOwnProperty("x3")&&A.lcpr&&(fe+=Le()(Bm=Le()(Fm=Le()(yp='<circle cx="'.concat(ne.segments[xe].x2*A.scale,'" cy="')).call(yp,ne.segments[xe].y2*A.scale,'" r="')).call(Fm,A.lcpr,'" fill="white" stroke-width="')).call(Bm,.2*A.lcpr,'" stroke="black" />'))}for(Xn=0;Xn<ne.holechildren.length;Xn++)for(ki=se[ne.holechildren[Xn]],xe=0;xe<ki.segments.length;xe++){var Hg,Oc,Cd,$I,B0,UC,VC,Ug,jm,qI,ZI,Hm,JI,KI,eM,tM,iM;ki.segments[xe].hasOwnProperty("x3")&&A.qcpr&&(fe+=Le()(Hg=Le()(Oc=Le()(Cd='<circle cx="'.concat(ki.segments[xe].x2*A.scale,'" cy="')).call(Cd,ki.segments[xe].y2*A.scale,'" r="')).call(Oc,A.qcpr,'" fill="cyan" stroke-width="')).call(Hg,.2*A.qcpr,'" stroke="black" />'),fe+=Le()($I=Le()(B0=Le()(UC='<circle cx="'.concat(ki.segments[xe].x3*A.scale,'" cy="')).call(UC,ki.segments[xe].y3*A.scale,'" r="')).call(B0,A.qcpr,'" fill="white" stroke-width="')).call($I,.2*A.qcpr,'" stroke="black" />'),fe+=Le()(VC=Le()(Ug=Le()(jm=Le()(qI='<line x1="'.concat(ki.segments[xe].x1*A.scale,'" y1="')).call(qI,ki.segments[xe].y1*A.scale,'" x2="')).call(jm,ki.segments[xe].x2*A.scale,'" y2="')).call(Ug,ki.segments[xe].y2*A.scale,'" stroke-width="')).call(VC,.2*A.qcpr,'" stroke="cyan" />'),fe+=Le()(ZI=Le()(Hm=Le()(JI=Le()(KI='<line x1="'.concat(ki.segments[xe].x2*A.scale,'" y1="')).call(KI,ki.segments[xe].y2*A.scale,'" x2="')).call(JI,ki.segments[xe].x3*A.scale,'" y2="')).call(Hm,ki.segments[xe].y3*A.scale,'" stroke-width="')).call(ZI,.2*A.qcpr,'" stroke="cyan" />')),!ki.segments[xe].hasOwnProperty("x3")&&A.lcpr&&(fe+=Le()(eM=Le()(tM=Le()(iM='<circle cx="'.concat(ki.segments[xe].x2*A.scale,'" cy="')).call(iM,ki.segments[xe].y2*A.scale,'" r="')).call(tM,A.lcpr,'" fill="white" stroke-width="')).call(eM,.2*A.lcpr,'" stroke="black" />'))}}return fe}},{key:"getsvgstring",value:function(w,D){var S,A,G;D=this.checkoptions(D);for(var J=w.width*D.scale,se=w.height*D.scale,ne=Le()(S="<svg ".concat(D.viewbox?Le()(A='viewBox="0 0 '.concat(J," ")).call(A,se,'" '):Le()(G='width="'.concat(J,'" height="')).call(G,se,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(S,this.versionnumber,'" >'),fe=0;fe<w.layers.length;fe+=1)for(var xe=0;xe<w.layers[fe].length;xe+=1)w.layers[fe][xe].isholepath||(ne+=this.svgpathstring(w,fe,xe,D));return ne+"</svg>"}},{key:"compareNumbers",value:function(w,D){return w-D}},{key:"torgbastr",value:function(w){var D,S,A;return Le()(D=Le()(S=Le()(A="rgba(".concat(w.r,",")).call(A,w.g,",")).call(S,w.b,",")).call(D,w.a,")")}},{key:"tosvgcolorstr",value:function(w,D){var S,A,G,J,se,ne,fe;return Le()(S=Le()(A=Le()(G=Le()(J=Le()(se=Le()(ne=Le()(fe='fill="rgb('.concat(w.r,",")).call(fe,w.g,",")).call(ne,w.b,')" stroke="rgb(')).call(se,w.r,",")).call(J,w.g,",")).call(G,w.b,')" stroke-width="')).call(A,D.strokewidth,'" opacity="')).call(S,w.a/255,'" ')}},{key:"appendSVGString",value:function(w,D){var S;D?(S=document.getElementById(D))||((S=document.createElement("div")).id=D,document.body.appendChild(S)):(S=document.createElement("div"),document.body.appendChild(S)),S.innerHTML+=w}},{key:"blur",value:function(w,D,S){var A,G,J,ne,fe,xe,lt,vt,kt,It={width:w.width,height:w.height,data:[]};if((D=Math.floor(D))<1)return w;D>5&&(D=5),(S=Math.abs(S))>1024&&(S=1024);var Nt=this.gks[D-1];for(G=0;G<w.height;G++)for(A=0;A<w.width;A++){for(fe=0,xe=0,lt=0,vt=0,kt=0,J=-D;J<D+1;J++)A+J>0&&A+J<w.width&&(fe+=w.data[ne=4*(G*w.width+A+J)]*Nt[J+D],xe+=w.data[ne+1]*Nt[J+D],lt+=w.data[ne+2]*Nt[J+D],vt+=w.data[ne+3]*Nt[J+D],kt+=Nt[J+D]);It.data[ne=4*(G*w.width+A)]=Math.floor(fe/kt),It.data[ne+1]=Math.floor(xe/kt),It.data[ne+2]=Math.floor(lt/kt),It.data[ne+3]=Math.floor(vt/kt)}var gi=new Uint8ClampedArray(It.data);for(G=0;G<w.height;G++)for(A=0;A<w.width;A++){for(fe=0,xe=0,lt=0,vt=0,kt=0,J=-D;J<D+1;J++)G+J>0&&G+J<w.height&&(fe+=gi[ne=4*((G+J)*w.width+A)]*Nt[J+D],xe+=gi[ne+1]*Nt[J+D],lt+=gi[ne+2]*Nt[J+D],vt+=gi[ne+3]*Nt[J+D],kt+=Nt[J+D]);It.data[ne=4*(G*w.width+A)]=Math.floor(fe/kt),It.data[ne+1]=Math.floor(xe/kt),It.data[ne+2]=Math.floor(lt/kt),It.data[ne+3]=Math.floor(vt/kt)}for(G=0;G<w.height;G++)for(A=0;A<w.width;A++)ne=4*(G*w.width+A),Math.abs(It.data[ne]-w.data[ne])+Math.abs(It.data[ne+1]-w.data[ne+1])+Math.abs(It.data[ne+2]-w.data[ne+2])+Math.abs(It.data[ne+3]-w.data[ne+3])>S&&(It.data[ne]=w.data[ne],It.data[ne+1]=w.data[ne+1],It.data[ne+2]=w.data[ne+2],It.data[ne+3]=w.data[ne+3]);return It}},{key:"loadImage",value:function(w,D,S){var A=new Image;S&&S.corsenabled&&(A.crossOrigin="Anonymous"),A.src=w,A.onload=function(){var G=document.createElement("canvas");G.width=A.width,G.height=A.height,G.getContext("2d").drawImage(A,0,0),D(G)}}},{key:"getImgdata",value:function(w){return w.getContext("2d").getImageData(0,0,w.width,w.height)}},{key:"drawLayers",value:function(w,D,S,A){var G,J,se,ne,fe,xe;for(fe in S=S||1,A?(xe=document.getElementById(A))||((xe=document.createElement("div")).id=A,document.body.appendChild(xe)):(xe=document.createElement("div"),document.body.appendChild(xe)),w)if(w.hasOwnProperty(fe)){G=w[fe][0].length,J=w[fe].length;var lt=document.createElement("canvas");lt.width=G*S,lt.height=J*S;var vt=lt.getContext("2d");for(ne=0;ne<J;ne+=1)for(se=0;se<G;se+=1)vt.fillStyle=this.torgbastr(D[w[fe][ne][se]%D.length]),vt.fillRect(se*S,ne*S,S,S);xe.appendChild(lt)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),K}(),df={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var R=this,w=function(){"crop"===R.ui.submenu&&(R.stopDrawingMode(),R.ui.changeMenu("crop"))},A=function(fe){return function(fe){"rotate"===R.ui.submenu&&R.ui.rotate.setRangeBarAngle("setAngle",fe)}(fe),function(fe){"filter"===R.ui.submenu&&go()(R.ui).setFilterState(fe)}(fe),fe},se=function(){go()(R.ui)&&go()(R.ui).initFilterCheckBoxState()};return je()({initLoadImage:function(fe,xe){return R.loadImageFromURL(fe,xe).then(function(lt){w(),R.ui.initializeImgUrl=fe,R.ui.resizeEditor({imageSize:lt}),R.clearUndoStack(),R._invoker.fire(Kt_EXECUTE_COMMAND,$r_LOAD_IMAGE)})},undo:function(){R.isEmptyUndoStack()||(w(),R.deactivateAll(),R.undo().then(A))},redo:function(){R.isEmptyRedoStack()||(w(),R.deactivateAll(),R.redo().then(A))},reset:function(){w(),R.loadImageFromURL(R.ui.initializeImgUrl,"resetImage").then(function(fe){w(),se(),R.ui.resizeEditor({imageSize:fe}),R.clearUndoStack(),R._initHistory()})},delete:function(){R.ui.changeHelpButtonEnabled("delete",!1),w(),R.removeActiveObject(),R.activeObjectId=null},deleteAll:function(){w(),R.clearObjects(),R.ui.changeHelpButtonEnabled("delete",!1),R.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(fe){bs()||alert("This browser does not support file-api"),R.ui.initializeImgUrl=ht().createObjectURL(fe),R.loadImageFromFile(fe).then(function(xe){w(),se(),R.clearUndoStack(),R.ui.activeMenuEvent(),R.ui.resizeEditor({imageSize:xe}),R._clearHistory(),R._invoker.fire(Kt_EXECUTE_COMMAND,$r_LOAD_IMAGE)}).catch(function(xe){return Ft().reject(xe)})},download:function(){var lt,vt,fe=R.toDataURL(),xe=R.getImageName();bs()&&window.saveAs?(vt=(lt=function sf(K){var D,S,A,w="";D=K.replace(/data:(image\/.+);base64,/,function(J,se){return w=se,""});var G=(D=atob(D)).length;for(S=new Uint8Array(G),A=0;A<G;A+=1)S[A]=D.charCodeAt(A);return new Blob([S],{type:w})}(fe)).type.split("/")[1],xe.split(".").pop()!==vt&&(xe+=".".concat(vt)),saveAs(lt,xe)):window.open().document.body.innerHTML="<img src='".concat(fe,"'>")},history:function(fe){R.ui.toggleHistoryMenu(fe)},zoomIn:function(){var fe;R.ui.toggleZoomButtonStatus("zoomIn"),R.deactivateAll(),fe=R._graphics.getZoomMode(),R.stopDrawingMode(),fe!==vl_ZOOM?(R.startDrawingMode(qr.ZOOM),R._graphics.startZoomInMode()):R._graphics.endZoomInMode()},zoomOut:function(){R._graphics.zoomOut()},hand:function(){var fe;R.ui.offZoomInButtonStatus(),R.ui.toggleZoomButtonStatus("hand"),R.deactivateAll(),fe=R._graphics.getZoomMode(),R.stopDrawingMode(),fe!==vl_HAND?(R.startDrawingMode(qr.ZOOM),R._graphics.startHandMode()):R._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var R=this;return je()({changeColor:function(D){R.activeObjectId&&R.changeIconColor(R.activeObjectId,D)},addIcon:function(D,S){R.startDrawingMode("ICON"),R.setDrawingIcon(D,S)},cancelAddIcon:function(){R.ui.icon.clearIconType(),R.changeSelectableAll(!0),R.changeCursor("default"),R.stopDrawingMode()},registerDefaultIcons:function(D,S){var A={};A[D]=S,R.registerIcons(A)},registerCustomIcon:function(D,S){(new $c).imageToSVG(D,function(G){var se=wt(G.match(/path[^>]*d="([^"]*)"/),2),fe={};fe[S.name]=se[1],R.registerIcons(fe),R.addIcon(S.name,{left:100,top:100})},$c.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var R=this;return je()({setDrawMode:function(D,S){R.stopDrawingMode(),R.startDrawingMode("free"===D?"FREE_DRAWING":"LINE_DRAWING",S)},setColor:function(D){R.setBrush({color:D})}},this._commonAction())},_maskAction:function(){var R=this;return je()({loadImageFromURL:function(D,S){return R.loadImageFromURL(R.toDataURL(),"FilterImage").then(function(){R.addImageObject(D).then(function(){ht().revokeObjectURL(S)}),R._invoker.fire(Kt_EXECUTE_COMMAND,$r_LOAD_MASK_IMAGE)})},applyFilter:function(){R.applyFilter("mask",{maskObjId:R.activeObjectId})}},this._commonAction())},_textAction:function(){var R=this;return je()({changeTextStyle:function(D,S){R.activeObjectId&&R.changeTextStyle(R.activeObjectId,D,S)}},this._commonAction())},_rotateAction:function(){var R=this;return je()({rotate:function(D,S){R.rotate(D,S),R.ui.resizeEditor(),R.ui.rotate.setRangeBarAngle("rotate",D)},setAngle:function(D,S){R.setAngle(D,S),R.ui.resizeEditor(),R.ui.rotate.setRangeBarAngle("setAngle",D)}},this._commonAction())},_shapeAction:function(){var R=this;return je()({changeShape:function(D,S){R.activeObjectId&&R.changeShape(R.activeObjectId,D,S)},setDrawingShape:function(D){R.setDrawingShape(D)}},this._commonAction())},_cropAction:function(){var R=this;return je()({crop:function(){var D=R.getCropzoneRect();D&&!function dI(K){return K.left===Vh_LEFT&&K.top===Vh_TOP&&K.width===Vh_WIDTH&&K.height===Vh_HEIGHT}(D)&&R.crop(D).then(function(){R.stopDrawingMode(),R.ui.resizeEditor(),R.ui.changeMenu("crop"),R._invoker.fire(Kt_EXECUTE_COMMAND,$r_CROP)}).catch(function(S){return Ft().reject(S)})},cancel:function(){R.stopDrawingMode(),R.ui.changeMenu("crop")},preset:function(D){switch(D){case"preset-square":R.setCropzoneRect(1);break;case"preset-3-2":R.setCropzoneRect(1.5);break;case"preset-4-3":R.setCropzoneRect(4/3);break;case"preset-5-4":R.setCropzoneRect(5/4);break;case"preset-7-5":R.setCropzoneRect(1.4);break;case"preset-16-9":R.setCropzoneRect(16/9);break;default:R.setCropzoneRect(),R.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var R=this;return je()({getCurrentDimensions:function(){return R._graphics.getCurrentDimensions()},preview:function(D,S,A){var G=R._graphics.getCurrentDimensions(),J=function(){return G.width/G.height},se={};switch(D){case"width":se.width=S,se.height=A?S/J():G.height;break;case"height":se.height=S,se.width=A?S*J():G.width;break;default:se=G}R._graphics.resize(se).then(function(){R.ui.resizeEditor()}),A&&(R.ui.resize.setWidthValue(se.width),R.ui.resize.setHeightValue(se.height))},lockAspectRatio:function(D,S,A){var G=R._graphics.getCurrentDimensions(),J=G.width,se=G.height,ne=J/se;if(D)if(J>se){var fe=A/ne,xe=S*ne;R.ui.resize.setLimit({minWidth:xe>S?xe:S,minHeight:S,maxWidth:A,maxHeight:fe<A?fe:A})}else{var lt=A*ne,vt=S/ne;R.ui.resize.setLimit({minWidth:S,minHeight:vt>S?vt:S,maxWidth:lt<A?lt:A,maxHeight:A})}else R.ui.resize.setLimit({minWidth:S,minHeight:S,maxWidth:A,maxHeight:A})},resize:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;D||(D=R._graphics.getCurrentDimensions()),R.resize(D).then(function(){R._graphics.setOriginalDimensions(D),R.stopDrawingMode(),R.ui.resizeEditor(),R.ui.changeMenu("resize")}).catch(function(S){return Ft().reject(S)})},reset:function(){var D=arguments.length>0&&void 0!==arguments[0]&&arguments[0],S=R._graphics.getOriginalDimensions();R.ui.resize.setWidthValue(S.width,!0),R.ui.resize.setHeightValue(S.height,!0),R._graphics.resize(S).then(function(){D||(R.stopDrawingMode(),R.ui.resizeEditor(),R.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var R=this;return je()({flip:function(D){return R[D]()}},this._commonAction())},_filterAction:function(){var R=this;return je()({applyFilter:function(D,S,A,G){D?R.applyFilter(S,A,G):R.hasFilter(S)&&R.removeFilter(S)}},this._commonAction())},setReAction:function(){var R=this;this.on({undoStackChanged:function(D){D?(R.ui.changeHelpButtonEnabled("undo",!0),R.ui.changeHelpButtonEnabled("reset",!0)):(R.ui.changeHelpButtonEnabled("undo",!1),R.ui.changeHelpButtonEnabled("reset",!1)),R.ui.resizeEditor()},redoStackChanged:function(D){R.ui.changeHelpButtonEnabled("redo",!!D),R.ui.resizeEditor()},objectActivated:function(D){var S,A;R.activeObjectId=D.id,R.ui.changeHelpButtonEnabled("delete",!0),R.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===D.type?R.ui.crop.changeApplyButtonStatus(!0):_()(S=["rect","circle","triangle"]).call(S,D.type)>-1?(R.stopDrawingMode(),"shape"!==R.ui.submenu&&R.ui.changeMenu("shape",!1,!1),R.ui.shape.setShapeStatus({strokeColor:D.stroke,strokeWidth:D.strokeWidth,fillColor:Qt()(D)}),R.ui.shape.setMaxStrokeValue(Math.min(D.width,D.height))):"path"===D.type||"line"===D.type?"draw"!==R.ui.submenu&&(R.ui.changeMenu("draw",!1,!1),R.ui.draw.changeStandbyMode()):_()(A=["i-text","text"]).call(A,D.type)>-1?("text"!==R.ui.submenu&&R.ui.changeMenu("text",!1,!1),R.ui.text.setTextStyleStateOnAction(D)):"icon"===D.type&&(R.stopDrawingMode(),"icon"!==R.ui.submenu&&R.ui.changeMenu("icon",!1,!1),R.ui.icon.setIconPickerColor(Qt()(D)))},addText:function(D){var S=R.ui.text;R.addText("Double Click",{position:D.originPosition,styles:{fill:S.textColor,fontSize:S.fontSize,fontFamily:"Noto Sans",fontStyle:S.fontStyle,fontWeight:S.fontWeight,underline:S.underline}}).then(function(){R.changeCursor("default")})},addObjectAfter:function(D){var S;"icon"===D.type?R.ui.icon.changeStandbyMode():_()(S=["rect","circle","triangle"]).call(S,D.type)>-1&&(R.ui.shape.setMaxStrokeValue(Math.min(D.width,D.height)),R.ui.shape.changeStandbyMode())},objectScaled:function(D){var S,A;if(_()(S=["i-text","text"]).call(S,D.type)>-1)R.ui.text.fontSize=xi(D.fontSize);else if(_()(A=["rect","circle","triangle"]).call(A,D.type)>=0){var G=D.width,J=D.height,se=R.ui.shape.getStrokeValue();G<se&&R.ui.shape.setStrokeValue(G),J<se&&R.ui.shape.setStrokeValue(J)}},selectionCleared:function(){R.activeObjectId=null,"text"===R.ui.submenu?R.changeCursor("text"):as(["draw","crop","resize"],R.ui.submenu)||R.stopDrawingMode()}})},_historyAction:function(){var R=this;return{undo:function(D){return R.undo(D)},redo:function(D){return R.redo(D)}}},_commonAction:function(){var w,D,S,A,R=this,G=qr.TEXT,J=qr.CROPPER,se=qr.SHAPE,ne=qr.ZOOM,fe=qr.RESIZE;return{modeChange:function(lt){switch(lt){case no_TEXT:R._changeActivateMode(G);break;case no_CROP:R.startDrawingMode(J);break;case no_SHAPE:R._changeActivateMode(se),R.setDrawingShape(R.ui.shape.type,R.ui.shape.options);break;case no_ZOOM:R.startDrawingMode(ne);break;case no_RESIZE:R.startDrawingMode(fe)}},deactivateAll:ot()(w=this.deactivateAll).call(w,this),changeSelectableAll:ot()(D=this.changeSelectableAll).call(D,this),discardSelection:ot()(S=this.discardSelection).call(S,this),stopDrawingMode:ot()(A=this.stopDrawingMode).call(A,this)}},mixin:function(R){je()(R.prototype,this)}},fr=Ke(602),Lo=Ke.n(fr),ol=Ke(5573),Tu=Ke.n(ol),pa=function(){function K(R,w){Ne(this,K),this.name=R,this.graphics=w}return gt(K,[{key:"fire",value:function(){for(var w=this.graphics,D=arguments.length,S=new Array(D),A=0;A<D;A++)S[A]=arguments[A];return this.graphics.fire.apply(w,S)}},{key:"setCanvasImage",value:function(w,D){this.graphics.setCanvasImage(w,D)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(w,D){this.graphics.setImageProperties(w,D)}},{key:"setCanvasCssDimension",value:function(w){this.graphics.setCanvasCssDimension(w)}},{key:"setCanvasBackstoreDimension",value:function(w){this.graphics.setCanvasBackstoreDimension(w)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),K}(),al=pa;function pf(K){var R=function Xh(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Eu={padding:0,crossOrigin:"Anonymous"},Eh=function(K){ls(w,K);var R=pf(w);function w(D){return Ne(this,w),R.call(this,Oi.IMAGE_LOADER,D)}return gt(w,[{key:"load",value:function(S,A){var J,G=this;if(S||A)J=this._setBackgroundImage(A).then(function(ne){return G.setCanvasImage(S,ne),G.adjustCanvasDimension(),ne});else{var se=this.getCanvas();se.backgroundImage=null,se.renderAll(),J=new(Ft())(function(ne){G.setCanvasImage("",null),ne()})}return J}},{key:"_setBackgroundImage",value:function(S){var A=this;return S?new(Ft())(function(G,J){var se=A.getCanvas();se.setBackgroundImage(S,function(){var ne=se.backgroundImage;ne&&ne.getElement()?G(ne):J(Os_loadingImageFailed)},Eu)}):Ft().reject(Os_loadImage)}}]),w}(al),mg=["tl","tr","mt","ml","mr","mb","bl","br"],Cc=function(){};function fa(K,R){return K>R?"width":"height"}var za=ct.fabric.util.createClass(ct.fabric.Rect,{initialize:function(R,w,D){(w=je()(w,D)).type="cropzone",this.callSuper("initialize",w),this._addEventHandler(),this.canvas=R,this.options=w},canvasEventDelegation:function(R){var w,D="unregistered";return this.canvasEventTrigger[R]!==Cc?D="registered":_()(w=[Kt_OBJECT_MOVED,Kt_OBJECT_SCALED]).call(w,R)<0&&(D="none"),D},canvasEventRegister:function(R,w){this.canvasEventTrigger[R]=w},_addEventHandler:function(){var R,w,D,S,A;this.canvasEventTrigger=(De(R={},Kt_OBJECT_MOVED,Cc),De(R,Kt_OBJECT_SCALED,Cc),R),this.on({moving:ot()(w=this._onMoving).call(w,this),scaling:ot()(D=this._onScaling).call(D,this)}),ct.fabric.util.addListener(document,"keydown",ot()(S=this._onKeyDown).call(S,this)),ct.fabric.util.addListener(document,"keyup",ot()(A=this._onKeyUp).call(A,this))},_renderCropzone:function(R){var G=(this.flipX?-1:1)/this.scaleX,J=(this.flipY?-1:1)/this.scaleY;R.scale(G,J),this._fillOuterRect(R,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(R),this._strokeBorder(R,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(R,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(R,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),R.scale(1/G,1/J)},_render:function(R){this.callSuper("_render",R),this._renderCropzone(R)},_fillOuterRect:function(R,w){var D=this._getCoordinates(),S=D.x,A=D.y;R.save(),R.fillStyle=w,R.beginPath(),R.moveTo(S[0]-1,A[0]-1),R.lineTo(S[3]+1,A[0]-1),R.lineTo(S[3]+1,A[3]+1),R.lineTo(S[0]-1,A[3]+1),R.lineTo(S[0]-1,A[0]-1),R.closePath(),R.moveTo(S[1],A[1]),R.lineTo(S[1],A[2]),R.lineTo(S[2],A[2]),R.lineTo(S[2],A[1]),R.lineTo(S[1],A[1]),R.closePath(),Qt()(R).call(R),R.restore()},_fillInnerRect:function(R){var w=this._getCoordinates(),D=w.x,S=w.y,A=this._caculateInnerPosition(D,(D[2]-D[1])/3),G=this._caculateInnerPosition(S,(S[2]-S[1])/3);R.save(),R.strokeStyle="rgba(255, 255, 255, 0.7)",R.lineWidth=this.options.lineWidth,R.beginPath(),R.moveTo(A[0],G[1]),R.lineTo(A[3],G[1]),R.moveTo(A[0],G[2]),R.lineTo(A[3],G[2]),R.moveTo(A[1],G[0]),R.lineTo(A[1],G[3]),R.moveTo(A[2],G[0]),R.lineTo(A[2],G[3]),R.stroke(),R.closePath(),R.restore()},_caculateInnerPosition:function(R,w){var D=[];return D[0]=R[1],D[1]=R[1]+w,D[2]=R[1]+2*w,D[3]=R[2],D},_getCoordinates:function(){var R,w,D=this.canvas,S=this.width,A=this.height,G=this.left,J=this.top,se=S/2,ne=A/2,fe=D.getHeight(),xe=D.getWidth();return{x:Su()(R=[-(se+G),-se,se,se+(xe-G-S)]).call(R,Math.ceil),y:Su()(w=[-(ne+J),-ne,ne,ne+(fe-J-A)]).call(w,Math.ceil)}},_strokeBorder:function(R,w,D){var S=D.lineDashWidth,A=D.lineDashOffset,G=D.lineWidth,J=this.width/2,se=this.height/2;R.save(),R.strokeStyle=w,R.setLineDash&&R.setLineDash([S,S]),A&&(R.lineDashOffset=A),G&&(R.lineWidth=G),R.beginPath(),R.moveTo(-J,-se),R.lineTo(J,-se),R.lineTo(J,se),R.lineTo(-J,se),R.lineTo(-J,-se),R.stroke(),R.restore()},_onMoving:function(){var R=this.height,w=this.width,D=this.left,S=this.top,A=this.canvas.getWidth()-w,G=this.canvas.getHeight()-R;this.left=ar(D,0,A),this.top=ar(S,0,G),this.canvasEventTrigger[Kt_OBJECT_MOVED](this)},_onScaling:function(R){var w=R.transform.corner,D=this.canvas.getPointer(R.e),S=this._calcScalingSizeFromPointer(D,w);this.scale(1).set(S),this.canvasEventTrigger[Kt_OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(R,w){return function Ou(K){return _()(mg).call(mg,K)>=0}(w)&&this._resizeCropZone(R,w)},adjustRatioCropzoneSize:function(R){var w=R.width,D=R.height,S=R.leftMaker,A=R.topMaker,G=R.maxWidth,J=R.maxHeight,se=R.scaleTo;if(w=G?ar(w,1,G):w,D=J?ar(D,1,J):D,!this.presetRatio)return this._withShiftKey&&(w>D?D=w:D>w&&(w=D)),{width:w,height:D,left:S(w),top:A(D)};"width"===se?D=w/this.presetRatio:w=D*this.presetRatio;var ne=Math.min(G/w,J/D);if(ne<=1){var fe,lt=wt(Su()(fe=[w,D]).call(fe,function(vt){return vt*ne}),2);w=lt[0],D=lt[1]}return{width:w,height:D,left:S(w),top:A(D)}},_getCropzoneRectInfo:function(){var R=this.canvas,w=R.width,D=R.height,S=this.getBoundingRect(!1,!0),A=S.top,G=S.left,J=S.width,se=S.height;return{rectTop:A,rectLeft:G,rectWidth:J,rectHeight:se,rectRight:G+J,rectBottom:A+se,canvasWidth:w,canvasHeight:D}},_resizeCropZone:function(R,w){var D=R.x,S=R.y,A=this._getCropzoneRectInfo(),G=A.rectWidth,J=A.rectHeight,se=A.rectTop,ne=A.rectLeft,fe=A.rectBottom,xe=A.rectRight,lt=A.canvasWidth,vt=A.canvasHeight,kt={tl:{width:xe-D,height:fe-S,leftMaker:function(Nt){return xe-Nt},topMaker:function(Nt){return fe-Nt},maxWidth:xe,maxHeight:fe,scaleTo:fa(ne-D,se-S)},tr:{width:D-ne,height:fe-S,leftMaker:function(){return ne},topMaker:function(Nt){return fe-Nt},maxWidth:lt-ne,maxHeight:fe,scaleTo:fa(D-xe,se-S)},mt:{width:G,height:fe-S,leftMaker:function(){return ne},topMaker:function(Nt){return fe-Nt},maxWidth:lt-ne,maxHeight:fe,scaleTo:"height"},ml:{width:xe-D,height:J,leftMaker:function(Nt){return xe-Nt},topMaker:function(){return se},maxWidth:xe,maxHeight:vt-se,scaleTo:"width"},mr:{width:D-ne,height:J,leftMaker:function(){return ne},topMaker:function(){return se},maxWidth:lt-ne,maxHeight:vt-se,scaleTo:"width"},mb:{width:G,height:S-se,leftMaker:function(){return ne},topMaker:function(){return se},maxWidth:lt-ne,maxHeight:vt-se,scaleTo:"height"},bl:{width:xe-D,height:S-se,leftMaker:function(Nt){return xe-Nt},topMaker:function(){return se},maxWidth:xe,maxHeight:vt-se,scaleTo:fa(ne-D,S-fe)},br:{width:D-ne,height:S-se,leftMaker:function(){return ne},topMaker:function(){return se},maxWidth:lt-ne,maxHeight:vt-se,scaleTo:fa(D-xe,S-fe)}};return this.adjustRatioCropzoneSize(kt[w])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(R){R.keyCode===bo_SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(R){R.keyCode===bo_SHIFT&&(this._withShiftKey=!1)}});function Za(K){var R=function oh(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var sm={presetRatio:null,top:-10,left:-10,height:1,width:1},Sc=function(K){ls(w,K);var R=Za(w);function w(D){var S,A,G,J,se,ne;return Ne(this,w),(ne=R.call(this,Oi.CROPPER,D))._cropzone=null,ne._startX=null,ne._startY=null,ne._withShiftKey=!1,ne._listeners={keydown:ot()(S=ne._onKeyDown).call(S,yn(ne)),keyup:ot()(A=ne._onKeyUp).call(A,yn(ne)),mousedown:ot()(G=ne._onFabricMouseDown).call(G,yn(ne)),mousemove:ot()(J=ne._onFabricMouseMove).call(J,yn(ne)),mouseup:ot()(se=ne._onFabricMouseUp).call(se,yn(ne))},ne}return gt(w,[{key:"start",value:function(){if(!this._cropzone){var S=this.getCanvas();S.forEachObject(function(A){A.evented=!1}),this._cropzone=new za(S,je()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},jo,this.graphics.cropSelectionStyle)),S.discardActiveObject(),S.add(this._cropzone),S.on("mouse:down",this._listeners.mousedown),S.selection=!1,S.defaultCursor="crosshair",ct.fabric.util.addListener(document,"keydown",this._listeners.keydown),ct.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var S=this.getCanvas(),A=this._cropzone;A&&(S.remove(A),S.selection=!0,S.defaultCursor="default",S.off("mouse:down",this._listeners.mousedown),S.forEachObject(function(G){G.evented=!0}),this._cropzone=null,ct.fabric.util.removeListener(document,"keydown",this._listeners.keydown),ct.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(S){this._cropzone&&this._cropzone.set({visible:S})}},{key:"_onFabricMouseDown",value:function(S){var A=this.getCanvas();if(!S.target){A.selection=!1;var G=A.getPointer(S.e);this._startX=G.x,this._startY=G.y,A.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(S){var A=this.getCanvas(),G=A.getPointer(S.e),J=G.x,se=G.y,ne=this._cropzone;Math.abs(J-this._startX)+Math.abs(se-this._startY)>10&&(A.remove(ne),ne.set(this._calcRectDimensionFromPoint(J,se,ne.presetRatio)),A.add(ne),A.setActiveObject(ne))}},{key:"_calcRectDimensionFromPoint",value:function(S,A){var G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,J=this.getCanvas(),se=J.getWidth(),ne=J.getHeight(),fe=this._startX,xe=this._startY,lt=ar(S,0,fe),vt=ar(A,0,xe),kt=ar(S,fe,se)-lt,It=ar(A,xe,ne)-vt;return this._withShiftKey&&!G?(kt>It?It=kt:It>kt&&(kt=It),fe>=S&&(lt=fe-kt),xe>=A&&(vt=xe-It)):G&&(It=kt/G,fe>=S&&(lt=ar(fe-kt,0,se)),xe>=A&&(vt=ar(xe-It,0,ne)),vt+It>ne&&(kt=(It=ne-vt)*G,fe>=S&&(lt=ar(fe-kt,0,se)),xe>=A&&(vt=ar(xe-It,0,ne)))),{left:lt,top:vt,width:kt,height:It}}},{key:"_onFabricMouseUp",value:function(){var S=this._cropzone,A=this._listeners,G=this.getCanvas();G.setActiveObject(S),G.off({"mouse:move":A.mousemove,"mouse:up":A.mouseup})}},{key:"getCroppedImageData",value:function(S){var A=this.getCanvas(),G=A.contains(this._cropzone);if(!S)return null;G&&A.remove(this._cropzone);var J={imageName:this.getImageName(),url:A.toDataURL(S)};return G&&A.add(this._cropzone),J}},{key:"getCropzoneRect",value:function(){var S=this._cropzone;return S.isValid()?{left:S.left,top:S.top,width:S.width,height:S.height}:null}},{key:"setCropzoneRect",value:function(S){var A=this.getCanvas(),G=this._cropzone;A.discardActiveObject(),A.selection=!1,A.remove(G),G.set(S?this._getPresetPropertiesForCropSize(S):sm),A.add(G),A.selection=!0,S&&A.setActiveObject(G)}},{key:"_getPresetPropertiesForCropSize",value:function(S){var A,G,J=this.getCanvas(),se=J.getWidth(),ne=J.getHeight(),fe=se>=ne?se:ne,xe=function(ki,gs){return ki>gs?gs/ki:1},lt=fe*S,vt=fe,kt=xe(lt,se),Nt=wt(Su()(A=[lt,vt]).call(A,function(Xn){return Xn*kt}),2);lt=Nt[0];var gi=xe(vt=Nt[1],ne),Hn=wt(Su()(G=[lt,vt]).call(G,function(Xn){return function yl(K){return Number(K.toFixed(2))}(Xn*gi)}),2);return{presetRatio:S,top:(ne-(vt=Hn[1]))/2,left:(se-(lt=Hn[0]))/2,width:lt,height:vt}}},{key:"_onKeyDown",value:function(S){S.keyCode===bo_SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(S){S.keyCode===bo_SHIFT&&(this._withShiftKey=!1)}}]),w}(al),d0=Sc;function ip(K){var R=function II(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var MI=function(K){ls(w,K);var R=ip(w);function w(D){return Ne(this,w),R.call(this,Oi.FLIP,D)}return gt(w,[{key:"getCurrentSetting",value:function(){var S=this.getCanvasImage();return{flipX:S.flipX,flipY:S.flipY}}},{key:"set",value:function(S){var A=this.getCurrentSetting(),G=A.flipX!==S.flipX,J=A.flipY!==S.flipY;return G||J?(je()(A,S),this.setImageProperties(A,!0),this._invertAngle(G,J),this._flipObjects(G,J),Ft().resolve({flipX:A.flipX,flipY:A.flipY,angle:this.getCanvasImage().angle})):Ft().reject(Os_flip)}},{key:"_invertAngle",value:function(S,A){var G=this.getCanvasImage(),J=G.angle;S&&(J*=-1),A&&(J*=-1),G.rotate(Jd()(J)).setCoords()}},{key:"_flipObjects",value:function(S,A){var G=this.getCanvas();S&&G.forEachObject(function(J){J.set({angle:Jd()(-1*J.angle),flipX:!J.flipX,left:G.width-J.left}).setCoords()}),A&&G.forEachObject(function(J){J.set({angle:Jd()(-1*J.angle),flipY:!J.flipY,top:G.height-J.top}).setCoords()}),G.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var S=this.getCurrentSetting();return this.set({flipX:!S.flipX,flipY:S.flipY})}},{key:"flipY",value:function(){var S=this.getCurrentSetting();return this.set({flipX:S.flipX,flipY:!S.flipY})}}]),w}(al);function xI(K){var R=function QD(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var $D=function(K){ls(w,K);var R=xI(w);function w(D){return Ne(this,w),R.call(this,Oi.ROTATION,D)}return gt(w,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(S){var A=this.getCurrentAngle()%360;S%=360;var G=this.getCanvasImage(),J=G.getCenterPoint();G.set({angle:S}).setCoords(),this.adjustCanvasDimension();var se=G.getCenterPoint();return this._rotateForEachObject(J,se,S-A),Ft().resolve(S)}},{key:"_rotateForEachObject",value:function(S,A,G){var J=this.getCanvas(),se_x=S.x-A.x,se_y=S.y-A.y;J.forEachObject(function(ne){var fe=ne.getCenterPoint(),xe=ct.fabric.util.degreesToRadians(G),lt=ct.fabric.util.rotatePoint(fe,S,xe);ne.set({left:lt.x-se_x,top:lt.y-se_y,angle:(ne.angle+G)%360}),ne.setCoords()}),J.renderAll()}},{key:"rotate",value:function(S){var A=this.getCurrentAngle();return this.setAngle(A+S)}}]),w}(al);function qD(K){var R=function ZD(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var KD=function(K){ls(w,K);var R=qD(w);function w(D){var S;return Ne(this,w),(S=R.call(this,Oi.FREE_DRAWING,D)).width=12,S.oColor=new ct.fabric.Color("rgba(0, 0, 0, 0.5)"),S}return gt(w,[{key:"start",value:function(S){this.getCanvas().isDrawingMode=!0,this.setBrush(S)}},{key:"setBrush",value:function(S){var A=this.getCanvas().freeDrawingBrush;this.width=(S=S||{}).width||this.width,S.color&&(this.oColor=new ct.fabric.Color(S.color)),A.width=this.width,A.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),w}(al),iT=ct.fabric.util.createClass(ct.fabric.Line,{type:"line",initialize:function(R){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",R,w),this.arrowType=w.arrowType},_render:function(R){var w=this.calcLinePoints(),J={fromX:w.x1,fromY:w.y1,toX:w.x2,toY:w.y2};this.ctx=R,R.lineWidth=this.strokeWidth,this._renderBasicLinePath(J),this._drawDecoratorPath(J),this._renderStroke(R)},_renderBasicLinePath:function(R){var w=R.fromX,D=R.fromY,S=R.toX,A=R.toY;this.ctx.beginPath(),this.ctx.moveTo(w,D),this.ctx.lineTo(S,A)},_drawDecoratorPath:function(R){this._drawDecoratorPathType("head",R),this._drawDecoratorPathType("tail",R)},_drawDecoratorPathType:function(R,w){switch(this.arrowType[R]){case"triangle":this._drawTrianglePath(R,w);break;case"chevron":this._drawChevronPath(R,w)}},_drawTrianglePath:function(R,w){this._drawChevronPath(R,w,1.7*this.ctx.lineWidth),this.ctx.closePath()},_drawChevronPath:function(R,w,D){var S=this,A=w.fromX,G=w.fromY,J=w.toX,se=w.toY,ne=this.ctx;D||(D=2.7*this.ctx.lineWidth);var xe=wt("head"===R?[A,G]:[J,se],2),lt=xe[0],vt=xe[1],It=wt("head"===R?[J,se]:[A,G],2),Tn=180*Math.atan2(It[1]-vt,It[0]-lt)/Math.PI,Hn=function(ki){return S.getRotatePosition(D,ki,{x:lt,y:vt})};ne.moveTo.apply(ne,ue(Hn(Tn+30))),ne.lineTo(lt,vt),ne.lineTo.apply(ne,ue(Hn(Tn-30)))},getRotatePosition:function(R,w,D){var S=w*Math.PI/180,A=D.x,G=D.y;return[R*Math.cos(S)+A,R*Math.sin(S)+G]}}),yC=iT;function cd(K){var R=function nT(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var rT=function(K){ls(w,K);var R=cd(w);function w(D){var S,A,G,J;return Ne(this,w),(J=R.call(this,Oi.LINE,D))._width=12,J._oColor=new ct.fabric.Color("rgba(0, 0, 0, 0.5)"),J._listeners={mousedown:ot()(S=J._onFabricMouseDown).call(S,yn(J)),mousemove:ot()(A=J._onFabricMouseMove).call(A,yn(J)),mouseup:ot()(G=J._onFabricMouseUp).call(G,yn(J))},J}return gt(w,[{key:"setHeadOption",value:function(S){var A=S.arrowType;this._arrowType=void 0===A?{head:null,tail:null}:A}},{key:"start",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=this.getCanvas();A.defaultCursor="crosshair",A.selection=!1,this.setHeadOption(S),this.setBrush(S),A.forEachObject(function(G){G.set({evented:!1})}),A.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(S){var A=this.getCanvas().freeDrawingBrush;this._width=(S=S||{}).width||this._width,S.color&&(this._oColor=new ct.fabric.Color(S.color)),A.width=this._width,A.color=this._oColor.toRgba()}},{key:"end",value:function(){var S=this.getCanvas();S.defaultCursor="default",S.selection=!0,S.forEachObject(function(A){A.set({evented:!0})}),S.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(S){var A=this.getCanvas(),G=A.getPointer(S.e),J=G.x,se=G.y;this._line=new yC([J,se,J,se],{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(yc_SELECTION_STYLE),A.add(this._line),A.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(Kt_ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(S){var A=this.getCanvas(),G=A.getPointer(S.e);this._line.set({x2:G.x,y2:G.y}),this._line.setCoords(),A.renderAll()}},{key:"_onFabricMouseUp",value:function(){var S=this.getCanvas();this.fire(Kt_OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,S.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var S=this.graphics.createObjectProperties(this._line),A=this._line,G=A.x1,J=A.x2,se=A.y1,ne=A.y2;return je()({},S,{startPosition:{x:G,y:se},endPosition:{x:J,y:ne}})}}]),w}(al),Zc=rT;function np(K){var R=function ud(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var sT={fill:"#000000",left:0,top:0},oT={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},Oh=function(K){ls(w,K);var R=np(w);function w(D){var S,A,G,J,se,ne;return Ne(this,w),(ne=R.call(this,Oi.TEXT,D))._defaultStyles=sT,ne._isSelected=!1,ne._selectedObj={},ne._editingObj={},ne._listeners={mousedown:ot()(S=ne._onFabricMouseDown).call(S,yn(ne)),select:ot()(A=ne._onFabricSelect).call(A,yn(ne)),selectClear:ot()(G=ne._onFabricSelectClear).call(G,yn(ne)),scaling:ot()(J=ne._onFabricScaling).call(J,yn(ne)),textChanged:ot()(se=ne._onFabricTextChanged).call(se,yn(ne))},ne._textarea=null,ne._ratio=1,ne._lastClickTime=(new Date).getTime(),ne._editingObjInfos={},ne.isPrevEditing=!1,ne}return gt(w,[{key:"start",value:function(){var S=this,A=this.getCanvas();A.selection=!1,A.defaultCursor="text",A.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),A.forEachObject(function(G){"i-text"===G.type&&S.adjustOriginPosition(G,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var S=this,A=this.getCanvas();A.selection=!0,A.defaultCursor="default",A.forEachObject(function(G){"i-text"===G.type&&(""===G.text?A.remove(G):S.adjustOriginPosition(G,"end"))}),A.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(S,A){var G="center",J="center";"start"===A&&(G="left",J="top");var se=S.getPointByOrigin(G,J);S.set({left:se.x,top:se.y,originX:G,originY:J}),S.setCoords()}},{key:"add",value:function(S,A){var G=this;return new(Ft())(function(J){var se,ne=G.getCanvas(),fe=null,xe=yc_SELECTION_STYLE,lt=G._defaultStyles;G._setInitPos(A.position),A.styles&&(lt=je()(lt,A.styles)),Ma()(A.autofocus)||(A.autofocus=!0),fe=new ct.fabric.IText(S,lt),xe=je()({},xe,{originX:"left",originY:"top"}),fe.set(xe),fe.on({mouseup:ot()(se=G._onFabricMouseUp).call(se,G)}),ne.add(fe),A.autofocus&&(fe.enterEditing(),fe.selectAll()),ne.getActiveObject()||ne.setActiveObject(fe),G.isPrevEditing=!0,J(G.graphics.createObjectProperties(fe))})}},{key:"change",value:function(S,A){var G=this;return new(Ft())(function(J){S.set("text",A),G.getCanvas().renderAll(),J()})}},{key:"setStyle",value:function(S,A){var G=this;return new(Ft())(function(J){We()(A,function(se,ne){S[ne]===se&&"fontSize"!==ne&&(A[ne]=oT[ne]||"")},G),"textDecoration"in A&&je()(A,G._getTextDecorationAdaptObject(A.textDecoration)),S.set(A),G.getCanvas().renderAll(),J()})}},{key:"getText",value:function(S){return S.text}},{key:"setSelectedInfo",value:function(S,A){this._selectedObj=S,this._isSelected=A}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var S=this.getCanvasElement(),A=Vt()(S.style.maxWidth,10);this._ratio=S.width/A}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(S){return{underline:"underline"===S,linethrough:"line-through"===S,overline:"overline"===S}}},{key:"_setInitPos",value:function(S){S=S||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=S.x,this._defaultStyles.top=S.y}},{key:"_onInput",value:function(){var S=this.getCanvasRatio(),A=this._editingObj,G=this._textarea.style;G.width="".concat(Math.ceil(A.width/S),"px"),G.height="".concat(Math.ceil(A.height/S),"px")}},{key:"_onKeyDown",value:function(){var S=this,A=this.getCanvasRatio(),G=this._editingObj,J=this._textarea.style;y()(function(){G.text(S._textarea.value),J.width="".concat(Math.ceil(G.width/A),"px"),J.height="".concat(Math.ceil(G.height/A),"px")},0)}},{key:"_onBlur",value:function(){var S=this.getCanvasRatio(),A=this._editingObj,G=this._editingObjInfos,J=this._textarea.value,se=A.width/S-G.width/S,ne=A.height/S-G.height/S;if(1===S&&(se/=2,ne/=2),this._textarea.style.display="none",A.set({left:G.left+se,top:G.top+ne}),J.length){this.getCanvas().add(A);var fe={id:Ti(A),type:A.type,text:J};this.fire(Kt_TEXT_CHANGED,fe)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(S){var A=S.target;A.fontSize=A.fontSize*A.scaleY,A.scaleX=1,A.scaleY=1}},{key:"_onFabricTextChanged",value:function(S){this.fire(Kt_TEXT_CHANGED,S.target)}},{key:"_onFabricSelectClear",value:function(S){var A=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(S.target,!1),A&&""===A.text&&this.getCanvas().remove(A)}},{key:"_onFabricSelect",value:function(S){this.isPrevEditing=!0,this.setSelectedInfo(S.target,!0)}},{key:"_onFabricMouseDown",value:function(S){var A=S.target;if(!A||A.isType("text")){if(this.isPrevEditing)return void(this.isPrevEditing=!1);this._fireAddText(S)}}},{key:"_fireAddText",value:function(S){var A=S.target,G=S.e||{},J=this.getCanvas().getPointer(G);A||this.fire(Kt_ADD_TEXT,{originPosition:{x:J.x,y:J.y},clientPosition:{x:G.clientX||0,y:G.clientY||0}})}},{key:"_onFabricMouseUp",value:function(S){var A=S.target,G=(new Date).getTime();this._isDoubleClick(G)&&!A.isEditing&&A.enterEditing(),A.isEditing&&this.fire(Kt_TEXT_EDITING),this._lastClickTime=G}},{key:"_isDoubleClick",value:function(S){return S-this._lastClickTime<500}}]),w}(al);function bC(K){var R=function CC(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var om={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},gf=function(K){ls(w,K);var R=bC(w);function w(D){var S,A,G,J;return Ne(this,w),(J=R.call(this,Oi.ICON,D))._oColor="#000000",J._pathMap=om,J._type=null,J._iconColor=null,J._handlers={mousedown:ot()(S=J._onFabricMouseDown).call(S,yn(J)),mousemove:ot()(A=J._onFabricMouseMove).call(A,yn(J)),mouseup:ot()(G=J._onFabricMouseUp).call(G,yn(J))},J}return gt(w,[{key:"setStates",value:function(S,A){this._type=S,this._iconColor=A}},{key:"start",value:function(){var S=this.getCanvas();S.selection=!1,S.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var S=this.getCanvas();S.selection=!0,S.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(S,A){var G=this;return new(Ft())(function(J,se){var ne=G.getCanvas(),fe=G._pathMap[S],xe=yc_SELECTION_STYLE,lt=fe?G._createIcon(fe):null;G._icon=lt,lt||se(Os_invalidParameters),lt.set(je()({type:"icon",fill:G._oColor},xe,A,G.graphics.controlStyle)),ne.add(lt).setActiveObject(lt),J(G.graphics.createObjectProperties(lt))})}},{key:"registerPaths",value:function(S){var A=this;We()(S,function(G,J){A._pathMap[J]=G},this)}},{key:"setColor",value:function(S,A){this._oColor=S,A&&"icon"===A.get("type")&&(A.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(S){return Qt()(S)}},{key:"_createIcon",value:function(S){return new ct.fabric.Path(S)}},{key:"_onFabricMouseDown",value:function(S){var A=this,G=this.getCanvas();this._startPoint=G.getPointer(S.e);var J=this._startPoint;this.add(this._type,{left:J.x,top:J.y,fill:this._iconColor}).then(function(){A.fire(Kt_ADD_OBJECT,A.graphics.createObjectProperties(A._icon)),G.on("mouse:move",A._handlers.mousemove),G.on("mouse:up",A._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(S){var A=this.getCanvas();if(this._icon){var G=A.getPointer(S.e),se=(G.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs((G.x-this._startPoint.x)/this._icon.width*2),scaleY:Math.abs(2*se)}),this._icon.setCoords(),A.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var S=this.getCanvas();this.fire(Kt_OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,S.off("mouse:down",this._handlers.mousedown),S.off("mouse:move",this._handlers.mousemove),S.off("mouse:up",this._handlers.mouseup)}}]),w}(al),am=ct.fabric.util.createClass(ct.fabric.Image.filters.BlendImage,{applyTo:function(R){if(this.mask){var w=R.canvasEl,D=w.width,S=w.height,A=this._createCanvasOfMask(D,S),G=w.getContext("2d"),J=A.getContext("2d"),se=G.getImageData(0,0,D,S);this._drawMask(J,w,G),this._mapData(J,se,D,S),R.imageData=se}},_createCanvasOfMask:function(R,w){var D=ct.fabric.util.createCanvasElement();return D.width=R,D.height=w,D},_drawMask:function(R){var w=this.mask,D=w.getElement(),S=w.angle,A=w.left,G=w.scaleX,J=w.scaleY,se=w.top;R.save(),R.translate(A,se),R.rotate(S*Math.PI/180),R.scale(G,J),R.drawImage(D,-D.width/2,-D.height/2),R.restore()},_mapData:function(R,w,D,S){for(var se=w.data,ne=w.width*w.height*4,fe=R.getImageData(0,0,D,S).data,xe=0;xe<ne;xe+=4)se[xe+3]=fe[xe]}}),Jc=ct.fabric.util.createClass(ct.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),dd=ct.fabric.util.createClass(ct.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),bg=ct.fabric.util.createClass(ct.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(R){R||(R={}),this.color=R.color||"#FFFFFF",this.threshold=R.threshold||45,this.x=R.x||null,this.y=R.y||null},applyTo:function(R){var se,ne,w=R.canvasEl,D=w.getContext("2d"),S=D.getImageData(0,0,w.width,w.height),A=S.data,G=this.threshold,J=ct.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(J=this._getColor(S,this.x,this.y)),se=0,ne=A.length;se<ne;se+=4)this._isOutsideThreshold(A[se],J[0],G)||this._isOutsideThreshold(A[se+1],J[1],G)||this._isOutsideThreshold(A[se+2],J[2],G)||(A[se]=A[se+1]=A[se+2]=A[se+3]=0);D.putImageData(S,0,0)},_isOutsideThreshold:function(R,w,D){return Math.abs(R-w)>D},_getColor:function(R,w,D){var S=[0,0,0,0],A=R.data,se=4*(R.width*D+w);return S[0]=A[se],S[1]=A[se+1],S[2]=A[se+2],S[3]=A[se+3],S}});function rp(K){var R=function f0(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var sp=ct.fabric.Image.filters;sp.Mask=am,sp.Sharpen=Jc,sp.Emboss=dd,sp.ColorFilter=bg;var TI=function(K){ls(w,K);var R=rp(w);function w(D){return Ne(this,w),R.call(this,Oi.FILTER,D)}return gt(w,[{key:"add",value:function(S,A){var G=this;return new(Ft())(function(J,se){var ne=G._getSourceImage(),fe=G.getCanvas(),xe=G._getFilter(ne,S);xe||(xe=G._createFilter(ne,S,A)),xe||se(Os_invalidParameters),G._changeFilterValues(xe,A),G._apply(ne,function(){fe.renderAll(),J({type:S,action:"add",options:A})})})}},{key:"remove",value:function(S){var A=this;return new(Ft())(function(G,J){var se=A._getSourceImage(),ne=A.getCanvas(),fe=A.getOptions(S);se.filters.length||J(Os_unsupportedOperation),A._removeFilter(se,S),A._apply(se,function(){ne.renderAll(),G({type:S,action:"remove",options:fe})})})}},{key:"hasFilter",value:function(S){return!!this._getFilter(this._getSourceImage(),S)}},{key:"getOptions",value:function(S){var A=this._getSourceImage(),G=this._getFilter(A,S);return G?je()({},G.options):null}},{key:"_changeFilterValues",value:function(S,A){We()(A,function(G,J){Ee()(S[J])||(S[J]=G)}),We()(S.options,function(G,J){Ee()(A[J])||(S.options[J]=A[J])})}},{key:"_apply",value:function(S,A){S.filters.push(),S.applyFilters()&&A()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(S,A,G){var J,se=this._getFabricFilterType(A),ne=ct.fabric.Image.filters[se];return ne&&((J=new ne(G)).options=G,S.filters.push(J)),J}},{key:"_getFilter",value:function(S,A){var G=null;if(S){var ne,fe,J=this._getFabricFilterType(A),se=S.filters.length;for(fe=0;fe<se;fe+=1)if((ne=S.filters[fe]).type===J){G=ne;break}}return G}},{key:"_removeFilter",value:function(S,A){var G,J=this._getFabricFilterType(A);S.filters=go()(G=S.filters).call(G,function(se){return se.type!==J})}},{key:"_getFabricFilterType",value:function(S){return S.charAt(0).toUpperCase()+F()(S).call(S,1)}}]),w}(al),EI=Ke(1801),Qh=Ke.n(EI),AI={pixelate:"blocksize",blur:"blur"},Cg={x:"width",y:"height"},Ba=function af(K){var R,w={};return Zi()(R=Zt()(K)).call(R,function(D){w[K[D]]=D}),w}(AI),ap=null;function lp(K){return wt(id(K,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function ku(K){var R=K.angle,w=K.flipX,D=K.flipY,S=lp(K),A=function Sg(K){var w=wt(y0(K),4),D=w[0],S=D.x,A=D.y,G=w[1],J=G.x,se=G.y,ne=w[2],fe=ne.x,xe=ne.y,lt=w[3],vt=lt.x,kt=lt.y,It=Math.min(S,J,fe,vt),Nt=Math.min(A,se,xe,kt),gi=Math.max(S,J,fe,vt),Tn=Math.max(A,se,xe,kt);return{left:It,top:Nt,right:gi,bottom:Tn,width:gi-It,height:Tn-Nt}}(K),G=A.right,J=A.bottom,se=A.width,ne=A.height,fe=(se-K.width)/2,xe=(ne-K.height)/2,lt=K.left-K.width/2-fe,vt=K.top-K.height/2-xe,kt=se/2-fe,It=ne/2-xe,Nt=Math.max(se,ne)+Math.max(fe,xe),Tn=wt(function cm(K){var R=K.shapeObj,w=K.left,D=K.top,S=K.width,A=K.height,G=K.cropX,J=K.cropY,se=K.flipX,ne=K.flipY,fe=K.right,xe=K.bottom,lt=function(Xn,ki,gs,Ta){return function LI(K){var R=K.type,D=K.outDistance,S=K.left,A=K.top,G=K.flipX,J=K.flipY,se=y0(K.shapeObj),fe=function kI(K,R,w){var D=0,S=0;We()(R,function(se,ne){se[K]<D&&(D=se[K],S=ne)});var A=wt(w[S],2);return{startPointIndex:S,endPointIndex1:A[0],endPointIndex2:A[1]}}(R,se,[[1,2],[0,3],[0,3],[1,2]]),xe=function dm(K,R,w){var D,S=w.startPointIndex,A=w.endPointIndex1,G=w.endPointIndex2,J="x"===K?180:270;return Su()(D=[A,G]).call(D,function(se){var ne=R[S],fe=R[se];return 180*Math.atan2(ne.y-fe.y,ne.x-fe.x)/Math.PI-J})}(R,se,fe),vt=function um(K){var R=K.outDistance,w=K.startPointIndex,D=K.flipX,S=K.flipY,A=K.reatAngles,G=R*Math.cos(A[0]*Math.PI/180),J=R*Math.cos(A[1]*Math.PI/180),se=2===w||3===w,ne={top:se?G:J,left:se?J:G};return function wC(K,R,w){return(!R&&w||!R&&!w)&&0===K||(R&&w||R&&!w)&&1===K||(!R&&!w||!R&&w)&&2===K||(R&&!w||R&&w)&&3===K}(w,D,S)&&(ne.left=-1*ne.left),function ah(K,R,w){return(R&&!w||!R&&!w)&&0===K||(!R&&!w||R&&!w)&&1===K||(R&&w||!R&&w)&&2===K||(!R&&w||R&&w)&&3===K}(w,D,S)&&(ne.top=-1*ne.top),ne}({outDistance:D,startPointIndex:fe.startPointIndex,flipX:G,flipY:J,reatAngles:xe});return[S+vt.left,A+vt.top]}({type:Xn,outDistance:ki,shapeObj:R,flipX:se,flipY:ne,left:gs,top:Ta})},vt=S,kt=A,Nt=wt(function g0(K,R){var w=R.left,D=R.top,G=R.cropX,J=R.cropY,se={width:R.width,height:R.height};return We()(["x","y"],function(ne){var fe="x"===ne?G:J,xe=se[Cg[ne]],lt=ap[Cg[ne]];if(xe>lt){var vt=(xe-lt)/2;se[Cg[ne]]=lt;var It=wt(K(ne,vt,w,D),2);w=It[0],D=It[1]}if(fe<0){var gi=wt(K(ne,fe,w,D),2);w=gi[0],D=gi[1]}}),[w,D,se.width,se.height]}(lt,{left:w,top:D,width:S,height:A,cropX:G,cropY:J}),4),Tn=wt(function pd(K,R){var w=R.left,D=R.top,S=R.insideCanvasRealImageWidth,A=R.insideCanvasRealImageHeight,G=R.right,J=R.bottom,ne=R.cropY,xe=R.originalHeight,lt=S,vt=A,It=ap.width,Nt=ap.height;G>It&&R.cropX>0&&(lt=R.originalWidth-Math.abs(G-It)),J>Nt&&ne>0&&(vt=xe-Math.abs(J-Nt));var gi={x:(S-lt)/2,y:(A-vt)/2};return We()(["x","y"],function(Tn){var Hn=gi[Tn];if(Hn>0){var ki=wt(K(Tn,Hn,w,D),2);w=ki[0],D=ki[1]}}),[w,D,lt,vt]}(lt,{left:w=Nt[0],top:D=Nt[1],insideCanvasRealImageWidth:S=Nt[2],insideCanvasRealImageHeight:A=Nt[3],right:fe,bottom:xe,cropX:G,cropY:J,originalWidth:vt,originalHeight:kt}),4);return[w=Tn[0],D=Tn[1],S=Tn[2],A=Tn[3]]}({shapeObj:K,left:kt,top:It,width:se,height:ne,cropX:lt,cropY:vt,flipX:w,flipY:D,right:G,bottom:J}),4);S.set({angle:w===D?-R:R,left:kt=Tn[0],top:It=Tn[1],width:se=Tn[2],height:ne=Tn[3],cropX:lt,cropY:vt,flipX:w,flipY:D}),ua(S,{fillImageMaxSize:Nt})}function hm(K){var R;return Su()(R=K.filters).call(R,function(w){var A=wt(Zt()(w),1)[0];return De({},Ba[A],w[A])})}function Sl(K,R,w){var S=IC(m0(K),K.angle,R);w.add(S);var A={fill:new ct.fabric.Pattern({source:w.getElement(),repeat:"no-repeat"})};return ua(A,{patternSourceCanvas:w}),A}function m0(K){return(!ap||arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(ap=K.toCanvasElement()),ap}function y0(K){return[K.getPointByOrigin("left","top"),K.getPointByOrigin("right","top"),K.getPointByOrigin("left","bottom"),K.getPointByOrigin("right","bottom")]}function IC(K,R,w){var D,S=new ct.fabric.Image(K);return We()(je().apply(void 0,Le()(D=[{}]).call(D,ue(w))),function(A,G){var J=function qy(K){return K.charAt(0).toUpperCase()+F()(K).call(K,1)}(G),se=new ct.fabric.Image.filters[J](De({},AI[G],A));S.filters.push(se)}),S.applyFilters(),ua(S,{originalAngle:R,fillImageMaxSize:Math.max(S.width,S.height)}),Qh().adjustOriginToCenter(S),S}function MC(K){var R=function pm(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var b0=je()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function fm(K,R,w){var D=Qt()(K),S=Gn(Qt()(K)),A=D;D.color&&(A=D.color);var G=null;if("filter"===S){var J=w();G=Sl(R,go()(D),J)}else G={fill:A};return je()({},K,G)}var gm=function(K){ls(w,K);var R=MC(w);function w(D){var S,A,G,J,se,ne;return Ne(this,w),(ne=R.call(this,Oi.SHAPE,D))._shapeObj=null,ne._type="rect",ne._options=je()({},b0),ne._isSelected=!1,ne._startPoint={},ne._withShiftKey=!1,ne._handlers={mousedown:ot()(S=ne._onFabricMouseDown).call(S,yn(ne)),mousemove:ot()(A=ne._onFabricMouseMove).call(A,yn(ne)),mouseup:ot()(G=ne._onFabricMouseUp).call(G,yn(ne)),keydown:ot()(J=ne._onKeyDown).call(J,yn(ne)),keyup:ot()(se=ne._onKeyUp).call(se,yn(ne))},ne}return gt(w,[{key:"start",value:function(){var S=this.getCanvas();this._isSelected=!1,S.defaultCursor="crosshair",S.selection=!1,S.uniformScaling=!0,S.on({"mouse:down":this._handlers.mousedown}),ct.fabric.util.addListener(document,"keydown",this._handlers.keydown),ct.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var S=this.getCanvas();this._isSelected=!1,S.defaultCursor="default",S.selection=!0,S.uniformScaling=!1,S.off({"mouse:down":this._handlers.mousedown}),ct.fabric.util.removeListener(document,"keydown",this._handlers.keydown),ct.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(S,A){this._type=S,A&&(this._options=je()(this._options,A))}},{key:"add",value:function(S,A){var G=this;return new(Ft())(function(J){var se=G.getCanvas(),ne=G._extendOptions(A),fe=G._createInstance(S,ne),xe=G.graphics.createObjectProperties(fe);G._bindEventOnShape(fe),se.add(fe).setActiveObject(fe),G._resetPositionFillFilter(fe),J(xe)})}},{key:"change",value:function(S,A){var G=this;return new(Ft())(function(J,se){ng(S)||se(Os_unsupportedType);var ne="filter"===Gn(Qt()(A)),fe=G.graphics;S.set(ne?fm(A,fe.canvasImage,fe.createStaticCanvas):A),ne&&G._resetPositionFillFilter(S),G.getCanvas().renderAll(),J()})}},{key:"makeFillPropertyForUserEvent",value:function(S){var A=lf(S),G={};if(A===di.FILTER){var se=hm(lp(S));G.type=A,G.filter=se}else G.type=di.COLOR,G.color=Qt()(S)||"transparent";return G}},{key:"processForCopiedObject",value:function(S,A){if(this._bindEventOnShape(S),"filter"===lf(S)){var J=hm(lp(A)),se=this.graphics.createStaticCanvas();S.set(Sl(this.graphics.canvasImage,J,se)),this._resetPositionFillFilter(S)}}},{key:"_createInstance",value:function(S,A){var G;switch(S){case"rect":G=new ct.fabric.Rect(A);break;case"circle":G=new ct.fabric.Ellipse(je()({type:"circle"},A));break;case"triangle":G=new ct.fabric.Triangle(A);break;default:G={}}return G}},{key:"_extendOptions",value:function(S){var A=yc_SELECTION_STYLE,G=this.graphics,J=G.canvasImage,se=G.createStaticCanvas;return fm(S=je()({},b0,this._options,A,S),J,se)}},{key:"_bindEventOnShape",value:function(S){var A=this,G=this.getCanvas();S.on({added:function(){A._shapeObj=this,Qh().setOrigins(A._shapeObj)},selected:function(){A._isSelected=!0,A._shapeObj=this,G.uniformScaling=!0,G.defaultCursor="default",Qh().setOrigins(A._shapeObj)},deselected:function(){A._isSelected=!1,A._shapeObj=null,G.defaultCursor="crosshair",G.uniformScaling=!1},modified:function(){var se=A._shapeObj;Qh().adjustOriginToCenter(se),Qh().setOrigins(se)},modifiedInGroup:function(se){A._fillFilterRePositionInGroupSelection(S,se)},moving:function(){A._resetPositionFillFilter(this)},rotating:function(){A._resetPositionFillFilter(this)},scaling:function(se){var ne=G.getPointer(se.e),fe=A._shapeObj;G.setCursor("crosshair"),Qh().resize(fe,ne,!0),A._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(S){if(S.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var A=this.getCanvas();this._startPoint=A.getPointer(S.e),A.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(S){var A=this,G=this.getCanvas(),J=G.getPointer(S.e),se=this._startPoint.x,ne=this._startPoint.y,fe=se-J.x,xe=ne-J.y,lt=this._shapeObj;lt?(this._shapeObj.set({isRegular:this._withShiftKey}),Qh().resize(lt,J),G.renderAll(),this._resetPositionFillFilter(lt)):this.add(this._type,{left:se,top:ne,width:fe,height:xe}).then(function(vt){A.fire(Kt_ADD_OBJECT,vt)})}},{key:"_onFabricMouseUp",value:function(){var S=this,A=this.getCanvas(),G=this._startPoint.x,J=this._startPoint.y,se=this._shapeObj;se?se&&(Qh().adjustOriginToCenter(se),this.fire(Kt_OBJECT_ADDED,this.graphics.createObjectProperties(se))):this.add(this._type,{left:G,top:J,width:20,height:20}).then(function(ne){S.fire(Kt_ADD_OBJECT,ne)}),A.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(S){S.keyCode===bo_SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(S){S.keyCode===bo_SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(S){if("filter"===lf(S)){var G=id(S,"patternSourceCanvas").patternSourceCanvas,se=id(lp(S),"originalAngle");this.graphics.canvasImage.angle!==se.originalAngle&&function OI(K,R){var D=id(K,"patternSourceCanvas").patternSourceCanvas,G=wt(D.getObjects(),1)[0],J=hm(G);D.remove(G);var ne=IC(m0(R,!0),R.angle,J);D.add(ne)}(S,this.graphics.canvasImage);var fe=S.originX,xe=S.originY;Qh().adjustOriginToCenter(S),S.width*=S.scaleX,S.height*=S.scaleY,S.rx*=S.scaleX,S.ry*=S.scaleY,S.scaleX=1,S.scaleY=1,ku(S),function _s(K,R){var w=R.originX,D=R.originY,S=K.getPointByOrigin(w,D);K.set({left:S.x,top:S.y,originX:w,originY:D}),K.setCoords()}(S,{originX:fe,originY:xe}),function v0(K){var A=id(wt(K.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;A=Math.max(1,A),K.setDimensions({width:A,height:A}),K.renderAll()}(G)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(S,A){(1!==A.scaleX||1!==A.scaleY)&&A.addWithUpdate();var G=S.angle,J=S.left,se=S.top;ct.fabric.util.addTransformToObject(S,A.calcTransformMatrix()),this._resetPositionFillFilter(S),S.set({angle:G,left:J,top:se})}}]),w}(al);function vo(K){var R=function wg(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var wl={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},vm_SIZE=.0045,vm_MARGIN=.003,vm_BORDER_RADIUS=.003,cp_SIZE=.0066,cp_MARGIN=.0044,cp_BORDER_RADIUS=.003,Wl=Kt_ZOOM_CHANGED,xC=Kt_ADD_TEXT,PI=Kt_TEXT_EDITING,DC=Kt_OBJECT_MODIFIED,Pu=Kt_KEY_DOWN,Ig=Kt_KEY_UP,TC=Kt_HAND_STARTED,mm=Kt_HAND_STOPPED,EC=function(K){ls(w,K);var R=vo(w);function w(D){var S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt;Ne(this,w),(Nt=R.call(this,Oi.ZOOM,D)).zoomArea=null,Nt._startPoint=null,Nt._centerPoints=[],Nt.zoomLevel=1,Nt.zoomMode=vl_DEFAULT,Nt._listeners={startZoom:ot()(S=Nt._onMouseDownWithZoomMode).call(S,yn(Nt)),moveZoom:ot()(A=Nt._onMouseMoveWithZoomMode).call(A,yn(Nt)),stopZoom:ot()(G=Nt._onMouseUpWithZoomMode).call(G,yn(Nt)),startHand:ot()(J=Nt._onMouseDownWithHandMode).call(J,yn(Nt)),moveHand:ot()(se=Nt._onMouseMoveWithHandMode).call(se,yn(Nt)),stopHand:ot()(ne=Nt._onMouseUpWithHandMode).call(ne,yn(Nt)),zoomChanged:ot()(fe=Nt._changeScrollState).call(fe,yn(Nt)),keydown:ot()(xe=Nt._startHandModeWithSpaceBar).call(xe,yn(Nt)),keyup:ot()(lt=Nt._endHandModeWithSpaceBar).call(lt,yn(Nt))};var gi=Nt.getCanvas();return Nt.aspectRatio=gi.width/gi.height,Nt._verticalScroll=new ct.fabric.Rect(wl),Nt._horizontalScroll=new ct.fabric.Rect(wl),gi.on(Wl,Nt._listeners.zoomChanged),Nt.graphics.on(xC,ot()(vt=Nt._startTextEditingHandler).call(vt,yn(Nt))),Nt.graphics.on(PI,ot()(kt=Nt._startTextEditingHandler).call(kt,yn(Nt))),Nt.graphics.on(DC,ot()(It=Nt._stopTextEditingHandler).call(It,yn(Nt))),Nt}return gt(w,[{key:"attachKeyboardZoomEvents",value:function(){ct.fabric.util.addListener(document,Pu,this._listeners.keydown),ct.fabric.util.addListener(document,Ig,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){ct.fabric.util.removeListener(document,Pu,this._listeners.keydown),ct.fabric.util.removeListener(document,Ig,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(S){this.withSpace||this.isTextEditing||S.keyCode===bo_SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(S){S.keyCode===bo_SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=vl_ZOOM;var S=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new ct.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),S.discardActiveObject(),S.add(this.zoomArea),S.on("mouse:down",this._listeners.startZoom),S.selection=!1,S.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=vl_DEFAULT;var S=this.getCanvas(),A=this._listeners,G=A.startZoom,J=A.moveZoom,se=A.stopZoom;S.selection=!0,S.defaultCursor="auto",S.off({"mouse:down":G,"mouse:move":J,"mouse:up":se}),this._changeObjectsEventedState(!0),S.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=vl_HAND;var S=this.getCanvas();this._changeObjectsEventedState(!1),S.discardActiveObject(),S.off("mouse:down",this._listeners.startHand),S.on("mouse:down",this._listeners.startHand),S.selection=!1,S.defaultCursor="grab",S.fire(TC)}},{key:"endHandMode",value:function(){this.zoomMode=vl_DEFAULT;var S=this.getCanvas();this._changeObjectsEventedState(!0),S.off("mouse:down",this._listeners.startHand),S.selection=!0,S.defaultCursor="auto",this._startHandPoint=null,S.fire(mm)}},{key:"_onMouseDownWithZoomMode",value:function(S){var G=S.e;if(!S.target){var J=this.getCanvas();J.selection=!1,this._startPoint=J.getPointer(G),this.zoomArea.set({width:0,height:0});var se=this._listeners;J.on({"mouse:move":se.moveZoom,"mouse:up":se.stopZoom})}}},{key:"_onMouseMoveWithZoomMode",value:function(S){var A=S.e,G=this.getCanvas(),J=G.getPointer(A),se=J.x,ne=J.y,fe=this.zoomArea,xe=this._startPoint;Math.abs(se-xe.x)+Math.abs(ne-xe.y)>10&&(G.remove(fe),fe.set(this._calcRectDimensionFromPoint(se,ne)),G.add(fe))}},{key:"_calcRectDimensionFromPoint",value:function(S,A){var G=this.getCanvas(),J=G.getWidth(),se=G.getHeight(),ne=this._startPoint,fe=ne.x,xe=ne.y,lt=Math.min,vt=lt(fe,S),kt=lt(xe,A);return{left:vt,top:kt,width:ar(S,fe,J)-vt,height:ar(A,xe,se)-kt}}},{key:"_onMouseUpWithZoomMode",value:function(){var S=this.zoomLevel,A=this.zoomArea,G=this._listeners,J=G.moveZoom,se=G.stopZoom,ne=this.getCanvas(),fe=this._getCenterPoint(),xe=fe.x,lt=fe.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:xe,y:lt,prevZoomLevel:S,zoomLevel:S+1}),ne.zoomToPoint({x:xe,y:lt},S+=1),this._fireZoomChanged(ne,S),this.zoomLevel=S),ne.off({"mouse:move":J,"mouse:up":se}),ne.remove(A),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var S=this.zoomArea,A=S.left,G=S.top,J=S.width,se=S.height,ne=this._startPoint,lt=this.aspectRatio;return J<10&&se<10?{x:ne.x,y:ne.y}:J>se?{x:A+lt*se/2,y:G+se/2}:{x:A+J/2,y:G+J/lt/2}}},{key:"zoom",value:function(S){for(var A=S.x,G=S.y,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,se=this.getCanvas(),ne=this._centerPoints,fe=ne.length-1;fe>=0&&!(ne[fe].zoomLevel<J);fe-=1){var xe=ne.pop(),kt=xe.prevZoomLevel;se.zoomToPoint({x:xe.x,y:xe.y},kt),this.zoomLevel=kt}se.zoomToPoint({x:A,y:G},J),this._isDefaultZoomLevel(J)||this._centerPoints.push({x:A,y:G,zoomLevel:J,prevZoomLevel:this.zoomLevel}),this.zoomLevel=J,this._fireZoomChanged(se,J)}},{key:"zoomOut",value:function(){var S=this._centerPoints;if(S.length){var A=this.getCanvas(),G=S.pop(),J=G.x,se=G.y,ne=G.prevZoomLevel;this._isDefaultZoomLevel(ne)?A.setViewportTransform([1,0,0,1,0,0]):A.zoomToPoint({x:J,y:se},ne),this.zoomLevel=ne,this._fireZoomChanged(A,this.zoomLevel)}}},{key:"resetZoom",value:function(){var S=this.getCanvas();S.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(S,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(S){var A=S.x,G=S.y,J=this._centerPoints;if(J.length){var se=this.getCanvas(),ne=this.zoomLevel,fe=J.pop(),xe=fe.x,lt=fe.y,vt=fe.prevZoomLevel,kt=xe-A,It=lt-G;se.zoomToPoint({x:xe,y:lt},vt),se.zoomToPoint({x:kt,y:It},ne),J.push({x:kt,y:It,prevZoomLevel:vt,zoomLevel:ne}),this._fireZoomChanged(se,ne)}}},{key:"_onMouseDownWithHandMode",value:function(S){var G=S.e;if(!S.target){var J=this.getCanvas();if(!(this.zoomLevel<=1)){J.selection=!1,this._startHandPoint=J.getPointer(G);var se=this._listeners;J.on({"mouse:move":se.moveHand,"mouse:up":se.stopHand})}}}},{key:"_onMouseMoveWithHandMode",value:function(S){var A=S.e,J=this.getCanvas().getPointer(A);this._movePointOfZoom({x:J.x-this._startHandPoint.x,y:J.y-this._startHandPoint.y})}},{key:"_onMouseUpWithHandMode",value:function(){var S=this.getCanvas(),A=this._listeners;S.off({"mouse:move":A.moveHand,"mouse:up":A.stopHand}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(S){var A=S.viewport,G=S.zoomLevel,J=this.getCanvas();if(J.remove(this._verticalScroll),J.remove(this._horizontalScroll),!this._isDefaultZoomLevel(G)){var se=J.width,ne=J.height,fe=A.tl,xe=A.tr,lt=A.bl,vt=xe.x-fe.x,kt=lt.y-fe.y,It=vt*vt/se,Nt=kt*cp_SIZE,gi=ar(fe.x+fe.x/se*vt,fe.x,xe.x-It),Hn=kt*cp_BORDER_RADIUS;this._horizontalScroll.set({left:gi,top:lt.y-Nt-kt*cp_MARGIN,width:It,height:Nt,rx:Hn,ry:Hn});var Xn=vt*vm_SIZE,ki=kt*kt/ne,gs=ar(fe.y+fe.y/ne*kt,xe.y,lt.y-ki),Dl=vt*vm_BORDER_RADIUS;this._verticalScroll.set({left:xe.x-Xn-vt*vm_MARGIN,top:gs,width:Xn,height:ki,rx:Dl,ry:Dl}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var S=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject(function(G){G.evented=S})}},{key:"_addScrollBar",value:function(){var S=this,A=this.getCanvas();A.add(this._horizontalScroll),A.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=y()(function(){A.remove(S._horizontalScroll),A.remove(S._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(S){return 1===S}},{key:"_fireZoomChanged",value:function(S,A){S.fire(Wl,{viewport:S.calcViewportBoundaries(),zoomLevel:A})}},{key:"mode",get:function(){return this.zoomMode}}]),w}(al),ym=EC,Tr=bl.create,rr=bl.types,wc=function(){function K(R){Ne(this,K),this.name=R}return gt(K,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Tr(rr.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Tr(rr.UN_IMPLEMENTATION,"stop"))}}]),K}();function OC(K){var R=function _I(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Lh=function(K){ls(w,K);var R=OC(w);function w(){return Ne(this,w),R.call(this,qr.CROPPER)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.CROPPER).start()}},{key:"end",value:function(S){S.getComponent(Oi.CROPPER).end()}}]),w}(wc);function vf(K){var R=function bm(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var LC=function(K){ls(w,K);var R=vf(w);function w(){return Ne(this,w),R.call(this,qr.FREE_DRAWING)}return gt(w,[{key:"start",value:function(S,A){S.getComponent(Oi.FREE_DRAWING).start(A)}},{key:"end",value:function(S){S.getComponent(Oi.FREE_DRAWING).end()}}]),w}(wc);function kC(K){var R=function kh(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Zr=function(K){ls(w,K);var R=kC(w);function w(){return Ne(this,w),R.call(this,qr.LINE_DRAWING)}return gt(w,[{key:"start",value:function(S,A){S.getComponent(Oi.LINE).start(A)}},{key:"end",value:function(S){S.getComponent(Oi.LINE).end()}}]),w}(wc);function ns(K){var R=function Wr(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Cm=function(K){ls(w,K);var R=ns(w);function w(){return Ne(this,w),R.call(this,qr.SHAPE)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.SHAPE).start()}},{key:"end",value:function(S){S.getComponent(Oi.SHAPE).end()}}]),w}(wc);function mf(K){var R=function $h(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var eu=function(K){ls(w,K);var R=mf(w);function w(){return Ne(this,w),R.call(this,qr.TEXT)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.TEXT).start()}},{key:"end",value:function(S){S.getComponent(Oi.TEXT).end()}}]),w}(wc);function zI(K){var R=function up(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var Il=function(K){ls(w,K);var R=zI(w);function w(){return Ne(this,w),R.call(this,qr.ICON)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.ICON).start()}},{key:"end",value:function(S){S.getComponent(Oi.ICON).end()}}]),w}(wc);function Ic(K){var R=function NC(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var _u=function(K){ls(w,K);var R=Ic(w);function w(){return Ne(this,w),R.call(this,qr.ZOOM)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.ZOOM).start()}},{key:"end",value:function(S){S.getComponent(Oi.ZOOM).end()}}]),w}(wc),I0=null;function Sm(K){I0=K}function wm(K,R){var D;return"activeSelection"===K.type?Su()(D=K.getObjects()).call(D,function(S){var A=S.angle,G=S.left,J=S.top,se=S.scaleX,ne=S.scaleY,fe=S.width,xe=S.height;ct.fabric.util.addTransformToObject(S,K.calcTransformMatrix());var lt=R(S);return S.set({angle:A,left:G,top:J,width:fe,height:xe,scaleX:se,scaleY:ne}),lt}):[R(K)]}function bf(K,R,w){return w?{id:K,width:R.width,height:R.height,top:R.top,left:R.left,angle:R.angle,scaleX:R.scaleX,scaleY:R.scaleY}:je()({id:K},R)}function Ml(K){var R=function Mc(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var FI=function(K){ls(w,K);var R=Ml(w);function w(D){var S;return Ne(this,w),(S=R.call(this,Oi.RESIZE,D))._dimensions=null,S._originalDimensions=null,S}return gt(w,[{key:"getCurrentDimensions",value:function(){var S=this.getCanvasImage();return!this._dimensions&&S&&(this._dimensions={width:S.width,height:S.height}),this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(S){this._originalDimensions=S}},{key:"resize",value:function(S){var A=this.getCanvasImage(),se=A.scaleX,ne=A.scaleY,fe=S.width,xe=S.height,lt={scaleX:fe?fe/A.width:se,scaleY:xe?xe/A.height:ne};return(se!==lt.scaleX||ne!==lt.scaleY)&&(A.set(lt).setCoords(),this._dimensions={width:A.width*A.scaleX,height:A.height*A.scaleY}),this.adjustCanvasDimensionBase(),Ft().resolve()}},{key:"start",value:function(){var S=this.getCurrentDimensions();this.setOriginalDimensions(S)}},{key:"end",value:function(){}}]),w}(al);function xg(K){var R=function fd(){if(typeof Reflect>"u"||!oi()||oi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oi()(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,D=Wi(K);if(R){var A=Wi(this).constructor;S=oi()(D,arguments,A)}else S=D.apply(this,arguments);return pr(this,S)}}var D0=function(K){ls(w,K);var R=xg(w);function w(){return Ne(this,w),R.call(this,qr.RESIZE)}return gt(w,[{key:"start",value:function(S){S.getComponent(Oi.RESIZE).start()}},{key:"end",value:function(S){S.getComponent(Oi.RESIZE).end()}}]),w}(wc),Dg={cssOnly:!0},jI={backstoreOnly:!0},hl=function(){function K(R){var w,D,S,A,G,J,se,ne,fe,xe,lt,vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt=vt.cssMaxWidth,It=vt.cssMaxHeight;Ne(this,K),this.canvasImage=null,this.cssMaxWidth=kt||1e3,this.cssMaxHeight=It||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=qr.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:ot()(w=this._onMouseDown).call(w,this),onObjectAdded:ot()(D=this._onObjectAdded).call(D,this),onObjectRemoved:ot()(S=this._onObjectRemoved).call(S,this),onObjectMoved:ot()(A=this._onObjectMoved).call(A,this),onObjectScaled:ot()(G=this._onObjectScaled).call(G,this),onObjectModified:ot()(J=this._onObjectModified).call(J,this),onObjectRotated:ot()(se=this._onObjectRotated).call(se,this),onObjectSelected:ot()(ne=this._onObjectSelected).call(ne,this),onPathCreated:ot()(fe=this._onPathCreated).call(fe,this),onSelectionCleared:ot()(xe=this._onSelectionCleared).call(xe,this),onSelectionCreated:ot()(lt=this._onSelectionCreated).call(lt,this)},this._setObjectCachingToFalse(),this._setCanvasElement(R),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return gt(K,[{key:"destroy",value:function(){var w=this._canvas.wrapperEl;this._canvas.clear(),w.parentNode.removeChild(w),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(Oi.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(Oi.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(w){var D,S=[];Lo()(w)?S=w:S.push(w),(D=this._canvas).add.apply(D,ue(S))}},{key:"contains",value:function(w){return this._canvas.contains(w)}},{key:"getObjects",value:function(){var w;return F()(w=this._canvas.getObjects()).call(w)}},{key:"getObject",value:function(w){return this._objects[w]}},{key:"remove",value:function(w){this._canvas.remove(w)}},{key:"removeAll",value:function(w){var D,S=this._canvas,A=F()(D=S.getObjects()).call(D);return S.remove.apply(S,ue(this._canvas.getObjects())),w&&S.clear(),A}},{key:"removeObjectById",value:function(w){var D=[],S=this._canvas,A=this.getObject(w);return A&&A.isType("group")&&!A.isEmpty()?(S.discardActiveObject(),A.forEachObject(function(J){D.push(J),S.remove(J)})):S.contains(A)&&(D.push(A),S.remove(A)),D}},{key:"getObjectId",value:function(w){var D=null;for(D in this._objects)if(this._objects.hasOwnProperty(D)&&w===this._objects[D])return D;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var w=this.getActiveObject(),S=w.left,A=w.top;if("activeSelection"===w.type){var J=new ct.fabric.Group(ue(w.getObjects()),{left:S,top:A});return this._addFabricObject(J)}return this.getObjectId(w)}},{key:"isReadyRemoveObject",value:function(){var w=this.getActiveObject();return w&&!w.isEditing}},{key:"getActiveObjects",value:function(){var w=this._canvas._activeObject;return w&&"activeSelection"===w.type?w:null}},{key:"getActiveSelectionFromObjects",value:function(w){var D=this.getCanvas();return new ct.fabric.ActiveSelection(w,{canvas:D})}},{key:"setActiveObject",value:function(w){this._canvas.setActiveObject(w)}},{key:"setCropSelectionStyle",value:function(w){this.cropSelectionStyle=w}},{key:"getComponent",value:function(w){return this._componentMap[w]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(w,D){if(this._isSameDrawingMode(w))return!0;this.stopDrawingMode();var S=this._getDrawingModeInstance(w);return S&&S.start&&(S.start(this,D),this._drawingMode=w),!!S}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(qr.NORMAL)){var w=this._getDrawingModeInstance(this.getDrawingMode());w&&w.end&&w.end(this),this._drawingMode=qr.NORMAL}}},{key:"zoom",value:function(w,D){var S=w.x,A=w.y;this.getComponent(Oi.ZOOM).zoom({x:S,y:A},D)}},{key:"getZoomMode",value:function(){return this.getComponent(Oi.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(Oi.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(Oi.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(Oi.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(Oi.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(Oi.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(Oi.ZOOM).resetZoom()}},{key:"toDataURL",value:function(w){var D=this.getComponent(Oi.CROPPER);D.changeVisibility(!1);var S=this._canvas&&this._canvas.toDataURL(w);return D.changeVisibility(!0),S}},{key:"setCanvasImage",value:function(w,D){D&&Ti(D),this.imageName=w,this.canvasImage=D}},{key:"setCssMaxDimension",value:function(w){this.cssMaxWidth=w.width||this.cssMaxWidth,this.cssMaxHeight=w.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w||(w=this.canvasImage);var D=w.getBoundingRect(),S=D.width,A=D.height,G=this._calcMaxDimension(S,A);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(G.width,"px"),"max-height":"".concat(G.height,"px")}),this.setCanvasBackstoreDimension({width:S,height:A}),this._canvas.centerObject(w)}},{key:"setCanvasCssDimension",value:function(w){this._canvas.setDimensions(w,Dg)}},{key:"setCanvasBackstoreDimension",value:function(w){this._canvas.setDimensions(w,jI)}},{key:"setImageProperties",value:function(w,D){var S=this.canvasImage;S&&(S.set(w).setCoords(),D&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(w){var D,S=this,A=ot()(D=this._callbackAfterLoadingImageObject).call(D,this);return new(Ft())(function(G){ct.fabric.Image.fromURL(w,function(J){A(J),G(S.createObjectProperties(J))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(Oi.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(w){this.getComponent(Oi.CROPPER).setCropzoneRect(w)}},{key:"getCroppedImageData",value:function(w){return this.getComponent(Oi.CROPPER).getCroppedImageData(w)}},{key:"setBrush",value:function(w){var S=Oi.FREE_DRAWING;this._drawingMode===qr.LINE_DRAWING&&(S=Oi.LINE),this.getComponent(S).setBrush(w)}},{key:"setDrawingShape",value:function(w,D){this.getComponent(Oi.SHAPE).setStates(w,D)}},{key:"setIconStyle",value:function(w,D){this.getComponent(Oi.ICON).setStates(w,D)}},{key:"registerPaths",value:function(w){this.getComponent(Oi.ICON).registerPaths(w)}},{key:"changeCursor",value:function(w){var D=this.getCanvas();D.defaultCursor=w,D.renderAll()}},{key:"hasFilter",value:function(w){return this.getComponent(Oi.FILTER).hasFilter(w)}},{key:"setSelectionStyle",value:function(w){je()(yc_SELECTION_STYLE,w)}},{key:"setObjectProperties",value:function(w,D){var S=this.getObject(w),A=je()({},D);return S.set(A),S.setCoords(),this.getCanvas().renderAll(),A}},{key:"getObjectProperties",value:function(w,D){var S=this.getObject(w),A={};return Jt()(D)?A[D]=S[D]:Lo()(D)?og()(D,function(G){A[G]=S[G]}):Tu()(D,function(G,J){A[J]=S[J]}),A}},{key:"getObjectPosition",value:function(w,D,S){var A=this.getObject(w);return A?A.getPointByOrigin(D,S):null}},{key:"setObjectPosition",value:function(w,D){var S=this.getObject(w),A=D.x,G=D.y;if(!S)return!1;var ne=S.getPointByOrigin(D.originX,D.originY),fe=S.getPointByOrigin("center","center");return S.set({left:A+(fe.x-ne.x),top:G+(fe.y-ne.y)}),S.setCoords(),!0}},{key:"getCanvasSize",value:function(){var w=this.getCanvasImage();return{width:w?w.width:0,height:w?w.height:0}}},{key:"createStaticCanvas",value:function(){var w=new ct.fabric.StaticCanvas;return w.set({enableRetinaScaling:!1}),w}},{key:"_getDrawingModeInstance",value:function(w){return this._drawingModeMap[w]}},{key:"_setObjectCachingToFalse",value:function(){ct.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(w){var D,S;"CANVAS"!==(D=w.nodeType?w:document.querySelector(w)).nodeName.toUpperCase()&&(S=document.createElement("canvas"),D.appendChild(S)),this._canvas=new ct.fabric.Canvas(S,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new Lh),this._register(this._drawingModeMap,new LC),this._register(this._drawingModeMap,new Zr),this._register(this._drawingModeMap,new Cm),this._register(this._drawingModeMap,new eu),this._register(this._drawingModeMap,new Il),this._register(this._drawingModeMap,new _u),this._register(this._drawingModeMap,new D0)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new Eh(this)),this._register(this._componentMap,new d0(this)),this._register(this._componentMap,new MI(this)),this._register(this._componentMap,new $D(this)),this._register(this._componentMap,new KD(this)),this._register(this._componentMap,new Zc(this)),this._register(this._componentMap,new Oh(this)),this._register(this._componentMap,new gf(this)),this._register(this._componentMap,new TI(this)),this._register(this._componentMap,new gm(this)),this._register(this._componentMap,new ym(this)),this._register(this._componentMap,new FI(this))}},{key:"_register",value:function(w,D){w[D.getName()]=D}},{key:"_isSameDrawingMode",value:function(w){return this.getDrawingMode()===w}},{key:"_calcMaxDimension",value:function(w,D){var S=this.cssMaxWidth/w,A=this.cssMaxHeight/D,G=Math.min(w,this.cssMaxWidth),J=Math.min(D,this.cssMaxHeight);return S<1&&S<A?(G=w*S,J=D*S):A<1&&A<S&&(G=w*A,J=D*A),{width:Math.floor(G),height:Math.floor(J)}}},{key:"_callbackAfterLoadingImageObject",value:function(w){var D=this.getCanvasImage().getCenterPoint();w.set(yc_SELECTION_STYLE),w.set({left:D.x,top:D.y,crossOrigin:"Anonymous"}),this.getCanvas().add(w).setActiveObject(w)}},{key:"_attachCanvasEvents",value:function(){var D=this._handler;this._canvas.on({"mouse:down":D.onMouseDown,"object:added":D.onObjectAdded,"object:removed":D.onObjectRemoved,"object:moving":D.onObjectMoved,"object:scaling":D.onObjectScaled,"object:modified":D.onObjectModified,"object:rotating":D.onObjectRotated,"path:created":D.onPathCreated,"selection:cleared":D.onSelectionCleared,"selection:created":D.onSelectionCreated,"selection:updated":D.onObjectSelected})}},{key:"_onMouseDown",value:function(w){var D=this,S=w.e,A=w.target,G=this._canvas.getPointer(S);if(A){var J=A.type;Sm(wm(A,function(ne){return bf(D.getObjectId(ne),ne,"activeSelection"===J)}))}this.fire(Kt_MOUSE_DOWN,S,G)}},{key:"_onObjectAdded",value:function(w){var D=w.target;D.isType("cropzone")||this._addFabricObject(D)}},{key:"_onObjectRemoved",value:function(w){this._removeFabricObject(Ti(w.target))}},{key:"_onObjectMoved",value:function(w){var D=this;this._lazyFire(Kt_OBJECT_MOVED,function(S){return D.createObjectProperties(S)},w.target)}},{key:"_onObjectScaled",value:function(w){var D=this;this._lazyFire(Kt_OBJECT_SCALED,function(S){return D.createObjectProperties(S)},w.target)}},{key:"_onObjectModified",value:function(w){var D=w.target;if("activeSelection"===D.type){var S=D.getObjects();Zi()(S).call(S,function(A){return A.fire("modifiedInGroup",D)})}this.fire(Kt_OBJECT_MODIFIED,D,this.getObjectId(D))}},{key:"_onObjectRotated",value:function(w){var D=this;this._lazyFire(Kt_OBJECT_ROTATED,function(S){return D.createObjectProperties(S)},w.target)}},{key:"_lazyFire",value:function(w,D,S){var A=this,J=S&&S.canvasEventDelegation?S.canvasEventDelegation(w):"none";"unregistered"===J&&S.canvasEventRegister(w,function(se){A.fire(w,D(se))}),"none"===J&&this.fire(w,D(S))}},{key:"_onObjectSelected",value:function(w){var S=this.createObjectProperties(w.target);this.fire(Kt_OBJECT_ACTIVATED,S)}},{key:"_onPathCreated",value:function(w){var D=w.path.getCenterPoint(),S=D.x,A=D.y;w.path.set(je()({left:S,top:A},yc_SELECTION_STYLE));var G=this.createObjectProperties(w.path);this.fire(Kt_ADD_OBJECT,G)}},{key:"_onSelectionCleared",value:function(){this.fire(Kt_SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(w){var S=this.createObjectProperties(w.target);this.fire(Kt_OBJECT_ACTIVATED,S),this.fire(Kt_SELECTION_CREATED,w.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(w){this._canvas.forEachObject(function(D){D.selectable=w,D.hoverCursor=w?"move":"crosshair"})}},{key:"createObjectProperties",value:function(w){var S={id:Ti(w),type:w.type};if(je()(S,ml(w,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),as(["i-text","text"],w.type))je()(S,this._createTextProperties(w,S));else if(as(["rect","triangle","circle"],w.type)){var A=this.getComponent(Oi.SHAPE);je()(S,{fill:A.makeFillPropertyForUserEvent(w)})}return S}},{key:"_createTextProperties",value:function(w){var S={};return je()(S,ml(w,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),S}},{key:"_addFabricObject",value:function(w){var D=Ti(w);return this._objects[D]=w,D}},{key:"_removeFabricObject",value:function(w){delete this._objects[w]}},{key:"resetTargetObjectForCopyPaste",value:function(){var w=this.getActiveObject();w&&(this.targetObjectForCopyPaste=w)}},{key:"pasteObject",value:function(){var w=this;if(!this.targetObjectForCopyPaste)return Ft().resolve([]);var D=this.targetObjectForCopyPaste,A="activeSelection"===D.type?D.getObjects():[D],G=null;return this.discardSelection(),this._cloneObject(A).then(function(J){if(J.length>1)G=w.getActiveSelectionFromObjects(J);else{var se=wt(J,1);G=se[0]}w.targetObjectForCopyPaste=G,w.setActiveObject(G)})}},{key:"_cloneObject",value:function(w){var D=this,S=Su()(w).call(w,function(A){return D._cloneObjectItem(A)});return Ft().all(S)}},{key:"_cloneObjectItem",value:function(w){var D=this;return this._copyFabricObjectForPaste(w).then(function(S){var A=D.createObjectProperties(S);return D.add(S),D.fire(Kt_ADD_OBJECT,A),S})}},{key:"_copyFabricObjectForPaste",value:function(w){var D=this,S=function(G,J){return J?G-10:G+10};return this._copyFabricObject(w).then(function(A){var G=A.left,J=A.top,se=A.width,ne=A.height,fe=D.getCanvasSize(),xe=fe.width,lt=fe.height,vt=G+se/2,kt=J+ne/2;return A.set(je()({left:S(G,vt+10>xe),top:S(J,kt+10>lt)},yc_SELECTION_STYLE)),A})}},{key:"_copyFabricObject",value:function(w){var D=this;return new(Ft())(function(S){w.clone(function(A){var G=D.getComponent(Oi.SHAPE);ng(A)&&G.processForCopiedObject(A,w),S(A)})})}},{key:"getCurrentDimensions",value:function(){return this.getComponent(Oi.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(Oi.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(w){this.getComponent(Oi.RESIZE).setOriginalDimensions(w)}},{key:"resize",value:function(w){return this.getComponent(Oi.RESIZE).resize(w)}}]),K}();Ut().mixin(hl);var gd=hl,mo=Kt_MOUSE_DOWN,ko=Kt_OBJECT_MOVED,Im=Kt_OBJECT_SCALED,E0=Kt_OBJECT_ACTIVATED,Mm=Kt_OBJECT_ROTATED,A0=Kt_OBJECT_ADDED,O0=Kt_OBJECT_MODIFIED,dp=Kt_ADD_TEXT,Ru=Kt_ADD_OBJECT,L0=Kt_TEXT_EDITING,xm=Kt_TEXT_CHANGED,Tg=Kt_ICON_CREATE_RESIZE,qh=Kt_ICON_CREATE_END,Eg=Kt_SELECTION_CLEARED,Dm=Kt_SELECTION_CREATED,_C=Kt_ADD_OBJECT_AFTER,Tm=function(){function K(R,w){var D,S,A,G,J,se,ne,fe,xe,lt,vt,kt,It,Nt,gi,Tn;if(Ne(this,K),w=je()({includeUI:!1,usageStatistics:!0},w),this.mode=null,this.activeObjectId=null,w.includeUI){var Hn=w.includeUI;Hn.usageStatistics=w.usageStatistics,this.ui=new Ra(R,Hn,this.getActions()),w=this.ui.setUiDefaultSelectionStyle(w)}this._invoker=new Co,this._graphics=new gd(this.ui?this.ui.getEditorArea():R,{cssMaxWidth:w.cssMaxWidth,cssMaxHeight:w.cssMaxHeight}),this._handlers={keydown:ot()(D=this._onKeyDown).call(D,this),mousedown:ot()(S=this._onMouseDown).call(S,this),objectActivated:ot()(A=this._onObjectActivated).call(A,this),objectMoved:ot()(G=this._onObjectMoved).call(G,this),objectScaled:ot()(J=this._onObjectScaled).call(J,this),objectRotated:ot()(se=this._onObjectRotated).call(se,this),objectAdded:ot()(ne=this._onObjectAdded).call(ne,this),objectModified:ot()(fe=this._onObjectModified).call(fe,this),createdPath:this._onCreatedPath,addText:ot()(xe=this._onAddText).call(xe,this),addObject:ot()(lt=this._onAddObject).call(lt,this),textEditing:ot()(vt=this._onTextEditing).call(vt,this),textChanged:ot()(kt=this._onTextChanged).call(kt,this),iconCreateResize:ot()(It=this._onIconCreateResize).call(It,this),iconCreateEnd:ot()(Nt=this._onIconCreateEnd).call(Nt,this),selectionCleared:ot()(gi=this._selectionCleared).call(gi,this),selectionCreated:ot()(Tn=this._selectionCreated).call(Tn,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(w.selectionStyle,{applyCropSelectionStyle:w.applyCropSelectionStyle,applyGroupSelectionStyle:w.applyGroupSelectionStyle}),w.usageStatistics&&function Ho(){li||(li=!0,mn()("image-editor","UA-129999381-1"))}(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),ct.fabric.enableGLFiltering=!1}return gt(K,[{key:"_attachColorPickerInputBoxEvents",value:function(){var w=this;this.ui.on(Kt_INPUT_BOX_EDITING_STARTED,function(){w.isColorPickerInputBoxEditing=!0}),this.ui.on(Kt_INPUT_BOX_EDITING_STOPPED,function(){w.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(Kt_INPUT_BOX_EDITING_STARTED),this.ui.off(Kt_INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(w,D){var S=D.applyCropSelectionStyle,A=D.applyGroupSelectionStyle;w&&this._graphics.setSelectionStyle(w),S&&this._graphics.setCropSelectionStyle(w),A&&this.on("selectionCreated",function(G){"activeSelection"===G.type&&G.set(w)})}},{key:"_attachInvokerEvents",value:function(){var w,D,S=this,A=Kt_UNDO_STACK_CHANGED,G=Kt_REDO_STACK_CHANGED,J=Kt_EXECUTE_COMMAND,se=Kt_AFTER_UNDO,ne=Kt_AFTER_REDO,fe=Kt_HAND_STARTED,xe=Kt_HAND_STOPPED;if(this._invoker.on(A,ot()(w=this.fire).call(w,this,A)),this._invoker.on(G,ot()(D=this.fire).call(D,this,G)),this.ui){var lt=this._graphics.getCanvas();this._invoker.on(J,function(vt){return S.ui.fire(J,vt)}),this._invoker.on(se,function(vt){return S.ui.fire(se,vt)}),this._invoker.on(ne,function(vt){return S.ui.fire(ne,vt)}),lt.on(fe,function(){return S.ui.fire(fe)}),lt.on(xe,function(){return S.ui.fire(xe)})}}},{key:"_attachGraphicsEvents",value:function(){var w;this._graphics.on((De(w={},mo,this._handlers.mousedown),De(w,ko,this._handlers.objectMoved),De(w,Im,this._handlers.objectScaled),De(w,Mm,this._handlers.objectRotated),De(w,E0,this._handlers.objectActivated),De(w,A0,this._handlers.objectAdded),De(w,O0,this._handlers.objectModified),De(w,dp,this._handlers.addText),De(w,Ru,this._handlers.addObject),De(w,L0,this._handlers.textEditing),De(w,xm,this._handlers.textChanged),De(w,Tg,this._handlers.iconCreateResize),De(w,qh,this._handlers.iconCreateEnd),De(w,Eg,this._handlers.selectionCleared),De(w,Dm,this._handlers.selectionCreated),w))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(w){var S=w.keyCode;(w.ctrlKey||w.metaKey)&&(S===bo_C?this._graphics.resetTargetObjectForCopyPaste():S===bo_V?(this._graphics.pasteObject(),this.clearRedoStack()):S===bo_Z?this.undo().catch(function(){}):S===bo_Y&&this.redo().catch(function(){}));var J=S===bo_BACKSPACE||S===bo_DEL,se=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&se&&J&&(w.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var w=this._graphics.getActiveObjectIdForRemove();this.removeObject(w)}},{key:"_onMouseDown",value:function(w,D){this.fire(Kt_MOUSE_DOWN,w,D)}},{key:"_pushAddObjectCommand",value:function(w){var D=Ao.create(gn_ADD_OBJECT,this._graphics,w);this._invoker.pushUndoStack(D)}},{key:"_pushModifyObjectCommand",value:function(w){var D=this,S=w.type,A=wm(w,function(J){return bf(D._graphics.getObjectId(J),J,"activeSelection"===S)}),G=Ao.create(gn_CHANGE_SELECTION,this._graphics,A);G.execute(this._graphics,A),this._invoker.pushUndoStack(G)}},{key:"_onObjectActivated",value:function(w){this.fire(Kt_OBJECT_ACTIVATED,w)}},{key:"_onObjectMoved",value:function(w){this.fire(Kt_OBJECT_MOVED,w)}},{key:"_onObjectScaled",value:function(w){this.fire(Kt_OBJECT_SCALED,w)}},{key:"_onObjectRotated",value:function(w){this.fire(Kt_OBJECT_ROTATED,w)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(gn_CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(w){this._graphics.changeSelectableAll(w)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(w){for(var D,S,A,G=arguments.length,J=new Array(G>1?G-1:0),se=1;se<G;se++)J[se-1]=arguments[se];var ne=Le()(D=[this._graphics]).call(D,J);return(S=this._invoker).execute.apply(S,Le()(A=[w]).call(A,ue(ne)))}},{key:"executeSilent",value:function(w){for(var D,S,A,G=arguments.length,J=new Array(G>1?G-1:0),se=1;se<G;se++)J[se-1]=arguments[se];var ne=Le()(D=[this._graphics]).call(D,J);return(S=this._invoker).executeSilent.apply(S,Le()(A=[w]).call(A,ue(ne)))}},{key:"undo",value:function(){for(var w=this,D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,S=Ft().resolve(),A=0;A<D;A+=1)S=S.then(function(){return w._invoker.undo()});return S}},{key:"redo",value:function(){for(var w=this,D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,S=Ft().resolve(),A=0;A<D;A+=1)S=S.then(function(){return w._invoker.redo()});return S}},{key:"zoom",value:function(w){this._graphics.zoom({x:w.x,y:w.y},w.zoomLevel)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(w,D){if(!w)return Ft().reject(Os_invalidParameters);var S=ht().createObjectURL(w);return this.loadImageFromURL(S,D=D||w.name).then(function(A){return ht().revokeObjectURL(w),A})}},{key:"loadImageFromURL",value:function(w,D){return D&&w?this.execute(gn_LOAD_IMAGE,D,w):Ft().reject(Os_invalidParameters)}},{key:"addImageObject",value:function(w){return w?this.execute(gn_ADD_IMAGE_OBJECT,w):Ft().reject(Os_invalidParameters)}},{key:"startDrawingMode",value:function(w,D){return this._graphics.startDrawingMode(w,D)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(w){var D=this._graphics.getCroppedImageData(w);return D?this.loadImageFromURL(D.url,D.imageName):Ft().reject(Os_invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(w){this._graphics.setCropzoneRect(w)}},{key:"_flip",value:function(w){return this.execute(gn_FLIP_IMAGE,w)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(w,D,S){return S?this.executeSilent(gn_ROTATE_IMAGE,w,D):this.execute(gn_ROTATE_IMAGE,w,D)}},{key:"rotate",value:function(w,D){return this._rotate("rotate",w,D)}},{key:"setAngle",value:function(w,D){return this._rotate("setAngle",w,D)}},{key:"setBrush",value:function(w){this._graphics.setBrush(w)}},{key:"setDrawingShape",value:function(w,D){this._graphics.setDrawingShape(w,D)}},{key:"setDrawingIcon",value:function(w,D){this._graphics.setIconStyle(w,D)}},{key:"addShape",value:function(w,D){return this._setPositions(D=D||{}),this.execute(gn_ADD_SHAPE,w,D)}},{key:"changeShape",value:function(w,D,S){return this[S?"executeSilent":"execute"](gn_CHANGE_SHAPE,w,D)}},{key:"addText",value:function(w,D){return this.execute(gn_ADD_TEXT,w=w||"",D=D||{})}},{key:"changeText",value:function(w,D){return this.execute(gn_CHANGE_TEXT,w,D=D||"")}},{key:"changeTextStyle",value:function(w,D,S){return this[S?"executeSilent":"execute"](gn_CHANGE_TEXT_STYLE,w,D)}},{key:"_changeActivateMode",value:function(w){"ICON"!==w&&this.getDrawingMode()!==w&&this.startDrawingMode(w)}},{key:"_onTextChanged",value:function(w){this.fire(Kt_TEXT_CHANGED,w)}},{key:"_onIconCreateResize",value:function(w){this.fire(Kt_ICON_CREATE_RESIZE,w)}},{key:"_onIconCreateEnd",value:function(w){this.fire(Kt_ICON_CREATE_END,w)}},{key:"_onTextEditing",value:function(){this.fire(Kt_TEXT_EDITING)}},{key:"_onAddText",value:function(w){this.fire(Kt_ADD_TEXT,{originPosition:w.originPosition,clientPosition:w.clientPosition})}},{key:"_onAddObject",value:function(w){var D=this._graphics.getObject(w.id);this._invoker.fire(Kt_EXECUTE_COMMAND,eC(D.type)),this._pushAddObjectCommand(D)}},{key:"_onObjectAdded",value:function(w){this.fire(A0,w),this.fire(_C,w)}},{key:"_onObjectModified",value:function(w){w.type!==Ji_CROPZONE&&(this._invoker.fire(Kt_EXECUTE_COMMAND,eC(w.type)),this._pushModifyObjectCommand(w))}},{key:"_selectionCleared",value:function(){this.fire(Eg)}},{key:"_selectionCreated",value:function(w){this.fire(Dm,w)}},{key:"registerIcons",value:function(w){this._graphics.registerPaths(w)}},{key:"changeCursor",value:function(w){this._graphics.changeCursor(w)}},{key:"addIcon",value:function(w,D){return this._setPositions(D=D||{}),this.execute(gn_ADD_ICON,w,D)}},{key:"changeIconColor",value:function(w,D){return this.execute(gn_CHANGE_ICON_COLOR,w,D)}},{key:"removeObject",value:function(w){var D=this._graphics.getObject(w);return this.execute(gn_REMOVE_OBJECT,w,eC(D.type))}},{key:"hasFilter",value:function(w){return this._graphics.hasFilter(w)}},{key:"removeFilter",value:function(w){return this.execute(gn_REMOVE_FILTER,w)}},{key:"applyFilter",value:function(w,D,S){return this[S?"executeSilent":"execute"](gn_APPLY_FILTER,w,D)}},{key:"toDataURL",value:function(w){return this._graphics.toDataURL(w)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(w){return w?this.execute(gn_RESIZE_CANVAS_DIMENSION,w):Ft().reject(Os_invalidParameters)}},{key:"destroy",value:function(){var w=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),We()(this,function(D,S){w[S]=null},this)}},{key:"_setPositions",value:function(w){var D=this._graphics.getCenter();Ee()(w.left)&&(w.left=D.left),Ee()(w.top)&&(w.top=D.top)}},{key:"setObjectProperties",value:function(w,D){return this.execute(gn_SET_OBJECT_PROPERTIES,w,D)}},{key:"setObjectPropertiesQuietly",value:function(w,D){this._graphics.setObjectProperties(w,D)}},{key:"getObjectProperties",value:function(w,D){return this._graphics.getObject(w)?this._graphics.getObjectProperties(w,D):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(w,D,S){return this._graphics.getObjectPosition(w,D,S)}},{key:"setObjectPosition",value:function(w,D){return this.execute(gn_SET_OBJECT_POSITION,w,D)}},{key:"resize",value:function(w){return this.execute(gn_RESIZE_IMAGE,w)}}]),K}();df.mixin(Tm),Ut().mixin(Tm);var Cf=Tm,Ag=Oi.ICON;Ao.register({name:gn_ADD_ICON,execute:function(R,w,D){var S=this;return R.getComponent(Ag).add(w,D).then(function(G){return S.undoData.object=R.getObject(G.id),G})},undo:function(R){return R.remove(this.undoData.object),Ft().resolve()}}),Ao.register({name:gn_ADD_IMAGE_OBJECT,execute:function(R,w){var D=this;return R.addImageObject(w).then(function(S){return D.undoData.object=R.getObject(S.id),S})},undo:function(R){return R.remove(this.undoData.object),Ft().resolve()}}),Ao.register({name:gn_ADD_OBJECT,execute:function(R,w){return new(Ft())(function(D,S){R.contains(w)?S(Os_addedObject):(R.add(w),D(w))})},undo:function(R,w){return new(Ft())(function(D,S){R.contains(w)?(R.remove(w),D(w)):S(Os_noObject)})}});var er=Oi.SHAPE;Ao.register({name:gn_ADD_SHAPE,execute:function(R,w,D){var S=this;return R.getComponent(er).add(w,D).then(function(G){return S.undoData.object=R.getObject(G.id),G})},undo:function(R){return R.remove(this.undoData.object),Ft().resolve()}});var Dc=Oi.TEXT;Ao.register({name:gn_ADD_TEXT,execute:function(R,w,D){var S=this,A=R.getComponent(Dc);if(this.undoData.object){var G=this.undoData.object;return new(Ft())(function(J,se){R.contains(G)?se(Os_redo):(R.add(G),J(G))})}return A.add(w,D).then(function(J){var se=J.id,ne=R.getObject(se);return S.undoData.object=ne,Sm(wm(ne,function(){return bf(se,ne,!1)})),J})},undo:function(R){return R.remove(this.undoData.object),Ft().resolve()}});var kg=Oi.FILTER,xa=null;Ao.register({name:gn_APPLY_FILTER,execute:function(R,w,D,S){var A=R.getComponent(kg);if("mask"===w){var G=R.getObject(D.maskObjId);if(!G||!G.isType("image"))return Ft().reject(Os_invalidParameters);je()(D,{mask:G}),R.remove(D.mask)}if(!this.isRedo){var se=function aT(K,R,w){var D={};return"mask"===K&&(D.object=w.mask),D.options=R,D}(w,A.getOptions(w),D);xa=this.setUndoData(se,xa,S)}return A.add(w,D)},undo:function(R,w){var D=R.getComponent(kg);if("mask"===w){var S=this.undoData.object;return R.add(S),R.setActiveObject(S),D.remove(w)}return this.undoData.options?D.add(w,this.undoData.options):D.remove(w)}});var BC=Oi.ICON;Ao.register({name:gn_CHANGE_ICON_COLOR,execute:function(R,w,D){var S=this;return new(Ft())(function(A,G){var J=R.getComponent(BC),se=R.getObject(w);se||G(Os_noObject),S.undoData.object=se,S.undoData.color=J.getColor(se),J.setColor(D,se),A()})},undo:function(R){var w=R.getComponent(BC),D=this.undoData;return w.setColor(D.color,D.object),Ft().resolve()}});var Ng=Oi.SHAPE,Om=null;Ao.register({name:gn_CHANGE_SHAPE,execute:function(R,w,D,S){var A=R.getComponent(Ng),G=R.getObject(w);if(!G)return Ft().reject(Os_noObject);if(!this.isRedo){var J=function tu(K,R){var w={object:R,options:{}};return Tu()(K,function(D,S){w.options[S]=R[S]}),w}(D,G);Om=this.setUndoData(J,Om,S)}return A.change(G,D)},undo:function(R){var w=R.getComponent(Ng),D=this.undoData;return w.change(D.object,D.options)}});var FC=Oi.TEXT;Ao.register({name:gn_CHANGE_TEXT,execute:function(R,w,D){var S=R.getComponent(FC),A=R.getObject(w);return A?(this.undoData.object=A,this.undoData.text=S.getText(A),S.change(A,D)):Ft().reject(Os_noObject)},undo:function(R){var w=R.getComponent(FC),D=this.undoData;return w.change(D.object,D.text)}});var N0=Oi.TEXT,pp=null;Ao.register({name:gn_CHANGE_TEXT_STYLE,execute:function(R,w,D,S){var A=R.getComponent(N0),G=R.getObject(w);if(!G)return Ft().reject(Os_noObject);if(!this.isRedo){var J=function jC(K,R){var w={object:R,styles:{}};return Tu()(K,function(D,S){w.styles[S]=R[S]}),w}(D,G);pp=this.setUndoData(J,pp,S)}return A.setStyle(G,D)},undo:function(R){var w=R.getComponent(N0),D=this.undoData;return w.setStyle(D.object,D.styles)}}),Ao.register({name:gn_CLEAR_OBJECTS,execute:function(R){var w=this;return new(Ft())(function(D){w.undoData.objects=R.removeAll(),D()})},undo:function(R){return R.add(this.undoData.objects),Ft().resolve()}});var P0=Oi.FLIP;Ao.register({name:gn_FLIP_IMAGE,execute:function(R,w){var D=R.getComponent(P0);return this.undoData.setting=D.getCurrentSetting(),D[w]()},undo:function(R){return R.getComponent(P0).set(this.undoData.setting)}});var xl=Oi.IMAGE_LOADER;Ao.register({name:gn_LOAD_IMAGE,execute:function(R,w,D){var S,A=R.getComponent(xl),G=A.getCanvasImage(),J=G?G.width:0,se=G?G.height:0,ne=go()(S=R.removeAll(!0)).call(S,function(fe){return"cropzone"!==fe.type});return Zi()(ne).call(ne,function(fe){fe.evented=!0}),this.undoData={name:A.getImageName(),image:G,objects:ne},A.load(w,D).then(function(fe){return{oldWidth:J,oldHeight:se,newWidth:fe.width,newHeight:fe.height}})},undo:function(R){var w=R.getComponent(xl),D=this.undoData,S=D.objects,A=D.name,G=D.image;return R.removeAll(!0),R.add(S),w.load(A,G)}});var vd=Oi.FILTER;Ao.register({name:gn_REMOVE_FILTER,execute:function(R,w){var D=R.getComponent(vd);return this.undoData.options=D.getOptions(w),D.remove(w)},undo:function(R,w){return R.getComponent(vd).add(w,this.undoData.options)}}),Ao.register({name:gn_REMOVE_OBJECT,execute:function(R,w){var D=this;return new(Ft())(function(S,A){D.undoData.objects=R.removeObjectById(w),D.undoData.objects.length?S():A(Os_noObject)})},undo:function(R){return R.add(this.undoData.objects),Ft().resolve()}}),Ao.register({name:gn_RESIZE_CANVAS_DIMENSION,execute:function(R,w){var D=this;return new(Ft())(function(S){D.undoData.size={width:R.cssMaxWidth,height:R.cssMaxHeight},R.setCssMaxDimension(w),R.adjustCanvasDimension(),S()})},undo:function(R){return R.setCssMaxDimension(this.undoData.size),R.adjustCanvasDimension(),Ft().resolve()}});var Bu=Oi.ROTATION,Nm=null;Ao.register({name:gn_ROTATE_IMAGE,execute:function(R,w,D,S){var A=R.getComponent(Bu);if(!this.isRedo){var G=function gp(K){return{angle:K.getCurrentAngle()}}(A);Nm=this.setUndoData(G,Nm,S)}return A[w](D)},undo:function(R){var w=R.getComponent(Bu),D=wt(this.args,3),S=D[1],A=D[2];return"setAngle"===S?w[S](this.undoData.angle):w.rotate(-A)}}),Ao.register({name:gn_SET_OBJECT_PROPERTIES,execute:function(R,w,D){var S=this,A=R.getObject(w);return A?(this.undoData.props={},Tu()(D,function(G,J){S.undoData.props[J]=A[J]}),R.setObjectProperties(w,D),Ft().resolve()):Ft().reject(Os_noObject)},undo:function(R,w){return R.setObjectProperties(w,this.undoData.props),Ft().resolve()}}),Ao.register({name:gn_SET_OBJECT_POSITION,execute:function(R,w,D){return R.getObject(w)?(this.undoData.objectId=w,this.undoData.props=R.getObjectProperties(w,["left","top"]),R.setObjectPosition(w,D),R.renderAll(),Ft().resolve()):Ft().reject(Os_noObject)},undo:function(R){var w=this.undoData;return R.setObjectProperties(w.objectId,w.props),R.renderAll(),Ft().resolve()}}),Ao.register({name:gn_CHANGE_SELECTION,execute:function(R,w){return this.isRedo?Zi()(w).call(w,function(D){R.setObjectProperties(D.id,D)}):this.undoData=function BI(){return I0}(),Ft().resolve()},undo:function(R){var w;return Zi()(w=this.undoData).call(w,function(D){R.setObjectProperties(D.id,D)}),Ft().resolve()}});var vp=Oi.RESIZE;Ao.register({name:gn_RESIZE_IMAGE,execute:function(R,w){var D=R.getComponent(vp),S=D.getOriginalDimensions();return S||(S=D.getCurrentDimensions()),this.undoData.dimensions=S,D.resize(w)},undo:function(R){return R.getComponent(vp).resize(this.undoData.dimensions)}});var Da=Cf}(),Ht.default}())}},th=>{th(th.s=751)}]);